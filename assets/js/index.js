function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var t,n,r,i,a={exports:{}},o={},s={exports:{}},l={exports:{}};function c(){return t||(t=1,function(e,t){
/**
		 * @license React
		 * react.development.js
		 *
		 * Copyright (c) Meta Platforms, Inc. and affiliates.
		 *
		 * This source code is licensed under the MIT license found in the
		 * LICENSE file in the root directory of this source tree.
		 */
!function(){function n(e,t){Object.defineProperty(i.prototype,e,{get:function(){}})}function r(e,t){var n=(e=(e=e.constructor)&&(e.displayName||e.name)||"ReactClass")+"."+t;q[n]||(q[n]=!0)}function i(e,t,n){this.props=e,this.context=t,this.refs=W,this.updater=n||U}function a(){}function o(e,t,n){this.props=e,this.context=t,this.refs=W,this.updater=n||U}function s(e){return""+e}function l(e){try{s(e);var t=!1}catch(gA){t=!0}if(t){var n=(t=console).error,r="function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object";return n.call(t,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",r),s(e)}}function c(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===Q?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case L:return"Fragment";case O:return"Profiler";case D:return"StrictMode";case R:return"Suspense";case I:return"SuspenseList";case $:return"Activity"}if("object"==typeof e)switch(e.tag,e.$$typeof){case A:return"Portal";case F:return(e.displayName||"Context")+".Provider";case P:return(e._context.displayName||"Context")+".Consumer";case B:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:c(e.type)||"Memo";case z:t=e._payload,e=e._init;try{return c(e(t))}catch(PA){}}return null}function u(e){if(e===L)return"<>";if("object"==typeof e&&null!==e&&e.$$typeof===z)return"<...>";try{var t=c(e);return t?"<"+t+">":"<...>"}catch(PA){return"<...>"}}function d(){var e=J.A;return null===e?null:e.getOwner()}function h(){return Error("react-stack-top-frame")}function p(e){if(ee.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}function f(){var e=c(this.type);return ne[e]||(ne[e]=!0),void 0!==(e=this.props.ref)?e:null}function m(e,t,n,r,i,a,o,s){return n=a.ref,e={$$typeof:M,type:e,key:t,props:a,_owner:i},null!==(void 0!==n?n:null)?Object.defineProperty(e,"ref",{enumerable:!1,get:f}):Object.defineProperty(e,"ref",{enumerable:!1,value:null}),e._store={},Object.defineProperty(e._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(e,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(e,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:o}),Object.defineProperty(e,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:s}),Object.freeze&&(Object.freeze(e.props),Object.freeze(e)),e}function g(e){return"object"==typeof e&&null!==e&&e.$$typeof===M}function b(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(l(e.key),n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function y(){}function x(e,t,n,r,i){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var o,s,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case M:case A:u=!0;break;case z:return x((u=e._init)(e._payload),t,n,r,i)}}if(u){i=i(u=e);var d=""===r?"."+b(u,0):r;return X(i)?(n="",null!=d&&(n=d.replace(ae,"$&/")+"/"),x(i,t,n,"",function(e){return e})):null!=i&&(g(i)&&(null!=i.key&&(u&&u.key===i.key||l(i.key)),o=i,s=n+(null==i.key||u&&u.key===i.key?"":(""+i.key).replace(ae,"$&/")+"/")+d,s=m(o.type,s,void 0,0,o._owner,o.props,o._debugStack,o._debugTask),o._store&&(s._store.validated=o._store.validated),n=s,""!==r&&null!=u&&g(u)&&null==u.key&&u._store&&!u._store.validated&&(n._store.validated=2),i=n),t.push(i)),1}if(u=0,d=""===r?".":r+":",X(e))for(var h=0;h<e.length;h++)u+=x(r=e[h],t,n,a=d+b(r,h),i);else if("function"==typeof(h=null===(c=e)||"object"!=typeof c?null:"function"==typeof(c=H&&c[H]||c["@@iterator"])?c:null))for(h===e.entries&&!0,e=h.call(e),h=0;!(r=e.next()).done;)u+=x(r=r.value,t,n,a=d+b(r,h++),i);else if("object"===a){if("function"==typeof e.then)return x(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(y,y):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,n,r,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function v(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",function(e){return t.call(n,e,i++)}),r}function k(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return(t=e._result).default;throw e._result}function w(){var e=J.H;return e}function _(){}function C(t){if(null===le)try{var n=("require"+Math.random()).slice(0,7);le=(e&&e[n]).call(e,"timers").setImmediate}catch(r){le=function(e){!1===se&&(se=!0);var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}return le(t)}function S(e){return 1<e.length&&"function"==typeof AggregateError?new AggregateError(e):e[0]}function E(e,t){ce=t}function N(e,t,n){var r=J.actQueue;if(null!==r)if(0!==r.length)try{return T(r),void C(function(){return N(e,t,n)})}catch(i){J.thrownErrors.push(i)}else J.actQueue=null;0<J.thrownErrors.length?(r=S(J.thrownErrors),J.thrownErrors.length=0,n(r)):t(e)}function T(e){if(!de){de=!0;var t=0;try{for(;t<e.length;t++)for(var n=e[t];;){J.didUsePromise=!1;var r=n(!1);if(null===r)break;if(J.didUsePromise)return e[t]=n,void e.splice(0,t);n=r}e.length=0}catch(i){e.splice(0,t+1),J.thrownErrors.push(i)}finally{de=!1}}}"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var M=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),F=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),H=Symbol.iterator,q={},U={isMounted:function(){return!1},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e){r(e,"replaceState")},enqueueSetState:function(e){r(e,"setState")}},V=Object.assign,W={};Object.freeze(W),i.prototype.isReactComponent={},i.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};var G,K={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]};for(G in K)K.hasOwnProperty(G)&&n(G,K[G]);a.prototype=i.prototype,(K=o.prototype=new a).constructor=o,V(K,i.prototype),K.isPureReactComponent=!0;var Y,Z,X=Array.isArray,Q=Symbol.for("react.client.reference"),J={H:null,A:null,T:null,S:null,V:null,actQueue:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1,didUsePromise:!1,thrownErrors:[],getCurrentStack:null,recentlyCreatedOwnerStacks:0},ee=Object.prototype.hasOwnProperty,te=console.createTask?console.createTask:function(){return null},ne={},re=(K={react_stack_bottom_frame:function(e){return e()}}).react_stack_bottom_frame.bind(K,h)(),ie=te(u(h)),ae=/\/+/g,oe="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},se=!1,le=null,ce=0,ue=!1,de=!1,he="function"==typeof queueMicrotask?function(e){queueMicrotask(function(){return queueMicrotask(e)})}:C;K=Object.freeze({__proto__:null,c:function(e){return w().useMemoCache(e)}}),t.Children={map:v,forEach:function(e,t,n){v(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return v(e,function(){t++}),t},toArray:function(e){return v(e,function(e){return e})||[]},only:function(e){if(!g(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=i,t.Fragment=L,t.Profiler=O,t.PureComponent=o,t.StrictMode=D,t.Suspense=R,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,t.__COMPILER_RUNTIME=K,t.act=function(e){var t=J.actQueue,n=ce;ce++;var r=J.actQueue=null!==t?t:[],i=!1;try{var a=e()}catch(l){J.thrownErrors.push(l)}if(0<J.thrownErrors.length)throw E(0,n),e=S(J.thrownErrors),J.thrownErrors.length=0,e;if(null!==a&&"object"==typeof a&&"function"==typeof a.then){var o=a;return he(function(){i||ue||(ue=!0)}),{then:function(e,t){i=!0,o.then(function(i){if(E(0,n),0===n){try{T(r),C(function(){return N(i,e,t)})}catch(o){J.thrownErrors.push(o)}if(0<J.thrownErrors.length){var a=S(J.thrownErrors);J.thrownErrors.length=0,t(a)}}else e(i)},function(e){E(0,n),0<J.thrownErrors.length?(e=S(J.thrownErrors),J.thrownErrors.length=0,t(e)):t(e)})}}}var s=a;if(E(0,n),0===n&&(T(r),0!==r.length&&he(function(){i||ue||(ue=!0)}),J.actQueue=null),0<J.thrownErrors.length)throw e=S(J.thrownErrors),J.thrownErrors.length=0,e;return{then:function(e,t){i=!0,0===n?(J.actQueue=r,C(function(){return N(s,e,t)})):e(s)}}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.captureOwnerStack=function(){var e=J.getCurrentStack;return null===e?null:e()},t.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r,i=V({},e.props),a=e.key,o=e._owner;if(null!=t)for(s in(r=!(ee.call(t,"ref")&&(r=Object.getOwnPropertyDescriptor(t,"ref").get)&&r.isReactWarning)&&void 0!==t.ref)&&(o=d()),p(t)&&(l(t.key),a=""+t.key),t)!ee.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(i[s]=t[s]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){r=Array(s);for(var c=0;c<s;c++)r[c]=arguments[c+2];i.children=r}for(i=m(e.type,a,void 0,0,o,i,e._debugStack,e._debugTask),a=2;a<arguments.length;a++)g(o=arguments[a])&&o._store&&(o._store.validated=1);return i},t.createContext=function(e){return(e={$$typeof:F,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:P,_context:e},e._currentRenderer=null,e._currentRenderer2=null,e},t.createElement=function(e,t,n){for(var r=2;r<arguments.length;r++){var i=arguments[r];g(i)&&i._store&&(i._store.validated=1)}if(r={},i=null,null!=t)for(c in Z||!("__self"in t)||"key"in t||(Z=!0),p(t)&&(l(t.key),i=""+t.key),t)ee.call(t,c)&&"key"!==c&&"__self"!==c&&"__source"!==c&&(r[c]=t[c]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];Object.freeze&&Object.freeze(o),r.children=o}if(e&&e.defaultProps)for(c in a=e.defaultProps)void 0===r[c]&&(r[c]=a[c]);i&&function(e){function t(){Y||(Y=!0)}t.isReactWarning=!0,Object.defineProperty(e,"key",{get:t,configurable:!0})}(r,"function"==typeof e&&(e.displayName||e.name));var c=1e4>J.recentlyCreatedOwnerStacks++;return m(e,i,void 0,0,d(),r,c?Error("react-stack-top-frame"):re,c?te(u(e)):ie)},t.createRef=function(){var e={current:null};return Object.seal(e),e},t.forwardRef=function(e){null!=e&&e.$$typeof===j||"function"!=typeof e||0!==e.length&&e.length,null!=e&&e.defaultProps;var t,n={$$typeof:B,render:e};return Object.defineProperty(n,"displayName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n,e.name||e.displayName||(Object.defineProperty(e,"name",{value:n}),e.displayName=n)}}),n},t.isValidElement=g,t.lazy=function(e){return{$$typeof:z,_payload:{_status:-1,_result:e},_init:k}},t.memo=function(e,t){var n;return t={$$typeof:j,type:e,compare:void 0===t?null:t},Object.defineProperty(t,"displayName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(t){n=t,e.name||e.displayName||(Object.defineProperty(e,"name",{value:t}),e.displayName=t)}}),t},t.startTransition=function(e){var t=J.T,n={};J.T=n,n._updatedFibers=new Set;try{var r=e(),i=J.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(_,oe)}catch(a){oe(a)}finally{null===t&&n._updatedFibers&&(e=n._updatedFibers.size,n._updatedFibers.clear()),J.T=t}},t.unstable_useCacheRefresh=function(){return w().useCacheRefresh()},t.use=function(e){return w().use(e)},t.useActionState=function(e,t,n){return w().useActionState(e,t,n)},t.useCallback=function(e,t){return w().useCallback(e,t)},t.useContext=function(e){var t=w();return e.$$typeof,t.useContext(e)},t.useDebugValue=function(e,t){return w().useDebugValue(e,t)},t.useDeferredValue=function(e,t){return w().useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=w();if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return w().useId()},t.useImperativeHandle=function(e,t,n){return w().useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return w().useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return w().useLayoutEffect(e,t)},t.useMemo=function(e,t){return w().useMemo(e,t)},t.useOptimistic=function(e,t){return w().useOptimistic(e,t)},t.useReducer=function(e,t,n){return w().useReducer(e,t,n)},t.useRef=function(e){return w().useRef(e)},t.useState=function(e){return w().useState(e)},t.useSyncExternalStore=function(e,t,n){return w().useSyncExternalStore(e,t,n)},t.useTransition=function(){return w().useTransition()},t.version="19.1.1","undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()}(l,l.exports)),l.exports}function u(){return n||(n=1,s.exports=c()),s.exports}function d(){return r||(r=1,
/**
	 * @license React
	 * react-jsx-dev-runtime.development.js
	 *
	 * Copyright (c) Meta Platforms, Inc. and affiliates.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 */
function(){function e(t){if(null==t)return null;if("function"==typeof t)return t.$$typeof===S?null:t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case f:return"Fragment";case g:return"Profiler";case m:return"StrictMode";case v:return"Suspense";case k:return"SuspenseList";case C:return"Activity"}if("object"==typeof t)switch(t.tag,t.$$typeof){case p:return"Portal";case y:return(t.displayName||"Context")+".Provider";case b:return(t._context.displayName||"Context")+".Consumer";case x:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case w:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case _:n=t._payload,t=t._init;try{return e(t(n))}catch(PA){}}return null}function t(e){return""+e}function n(e){try{t(e);var n=!1}catch(gA){n=!0}if(n){var r=(n=console).error,i="function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object";return r.call(n,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",i),t(e)}}function r(t){if(t===f)return"<>";if("object"==typeof t&&null!==t&&t.$$typeof===_)return"<...>";try{var n=e(t);return n?"<"+n+">":"<...>"}catch(PA){return"<...>"}}function i(){return Error("react-stack-top-frame")}function a(){var t=e(this.type);return A[t]||(A[t]=!0),void 0!==(t=this.props.ref)?t:null}function s(t,r,i,o,s,u,d,p){var f,m=r.children;if(void 0!==m)if(o){if(T(m)){for(o=0;o<m.length;o++)l(m[o]);Object.freeze&&Object.freeze(m)}}else l(m);if(N.call(r,"key")){m=e(t);var g=Object.keys(r).filter(function(e){return"key"!==e});o=0<g.length?"{key: someKey, "+g.join(": ..., ")+": ...}":"{key: someKey}",O[m+o]||(g=0<g.length?"{"+g.join(": ..., ")+": ...}":"{}",O[m+o]=!0)}if(m=null,void 0!==i&&(n(i),m=""+i),function(e){if(N.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}(r)&&(n(r.key),m=""+r.key),"key"in r)for(var b in i={},r)"key"!==b&&(i[b]=r[b]);else i=r;return m&&function(e){function t(){c||(c=!0)}t.isReactWarning=!0,Object.defineProperty(e,"key",{get:t,configurable:!0})}(i,"function"==typeof t&&(t.displayName||t.name)),function(e,t,n,r,i,o,s,l){return n=o.ref,e={$$typeof:h,type:e,key:t,props:o,_owner:i},null!==(void 0!==n?n:null)?Object.defineProperty(e,"ref",{enumerable:!1,get:a}):Object.defineProperty(e,"ref",{enumerable:!1,value:null}),e._store={},Object.defineProperty(e._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(e,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(e,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:s}),Object.defineProperty(e,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:l}),Object.freeze&&(Object.freeze(e.props),Object.freeze(e)),e}(t,m,u,0,null===(f=E.A)?null:f.getOwner(),i,d,p)}function l(e){"object"==typeof e&&null!==e&&e.$$typeof===h&&e._store&&(e._store.validated=1)}var c,d=u(),h=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),y=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),S=Symbol.for("react.client.reference"),E=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.prototype.hasOwnProperty,T=Array.isArray,M=console.createTask?console.createTask:function(){return null},A={},L=(d={react_stack_bottom_frame:function(e){return e()}}).react_stack_bottom_frame.bind(d,i)(),D=M(r(i)),O={};o.Fragment=f,o.jsxDEV=function(e,t,n,i,a,o){var l=1e4>E.recentlyCreatedOwnerStacks++;return s(e,t,n,i,0,o,l?Error("react-stack-top-frame"):L,l?M(r(e)):D)}}()),o}var h=(i||(i=1,a.exports=d()),a.exports),p=u();const f=e(p);var m,g,b={exports:{}},y={},x={exports:{}},v={};function k(){return g||(g=1,x.exports=(m||(m=1,function(e){
/**
		 * @license React
		 * scheduler.development.js
		 *
		 * Copyright (c) Meta Platforms, Inc. and affiliates.
		 *
		 * This source code is licensed under the MIT license found in the
		 * LICENSE file in the root directory of this source tree.
		 */
!function(){function t(){if(k=!1,S){var t=e.unstable_now();T=t;var n=!0;try{e:{x=!1,v&&(v=!1,_(E),E=-1),y=!0;var a=b;try{t:{for(o(t),g=r(p);null!==g&&!(g.expirationTime>t&&l());){var u=g.callback;if("function"==typeof u){g.callback=null,b=g.priorityLevel;var d=u(g.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof d){g.callback=d,o(t),n=!0;break t}g===r(p)&&i(p),o(t)}else i(p);g=r(p)}if(null!==g)n=!0;else{var h=r(f);null!==h&&c(s,h.startTime-t),n=!1}}break e}finally{g=null,b=a,y=!1}n=void 0}}finally{n?M():S=!1}}}function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}function o(e){for(var t=r(f);null!==t;){if(null===t.callback)i(f);else{if(!(t.startTime<=e))break;i(f),t.sortIndex=t.expirationTime,n(p,t)}t=r(f)}}function s(e){if(v=!1,o(e),!x)if(null!==r(p))x=!0,S||(S=!0,M());else{var t=r(f);null!==t&&c(s,t.startTime-e)}}function l(){return!(!k&&e.unstable_now()-T<N)}function c(t,n){E=w(function(){t(e.unstable_now())},n)}if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error()),e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();e.unstable_now=function(){return d.now()-h}}var p=[],f=[],m=1,g=null,b=3,y=!1,x=!1,v=!1,k=!1,w="function"==typeof setTimeout?setTimeout:null,_="function"==typeof clearTimeout?clearTimeout:null,C="undefined"!=typeof setImmediate?setImmediate:null,S=!1,E=-1,N=5,T=-1;if("function"==typeof C)var M=function(){C(t)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,L=A.port2;A.port1.onmessage=t,M=function(){L.postMessage(null)}}else M=function(){w(t,0)};e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(N=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(e){switch(b){case 1:case 2:case 3:var t=3;break;default:t=b}var n=b;b=t;try{return e()}finally{b=n}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=b;b=e;try{return t()}finally{b=n}},e.unstable_scheduleCallback=function(t,i,a){var o=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?o+a:o,t){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return t={id:m++,callback:i,priorityLevel:t,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>o?(t.sortIndex=a,n(f,t),null===r(p)&&t===r(f)&&(v?(_(E),E=-1):v=!0,c(s,a-o))):(t.sortIndex=l,n(p,t),x||y||(x=!0,S||(S=!0,M()))),t},e.unstable_shouldYield=l,e.unstable_wrapCallback=function(e){var t=b;return function(){var n=b;b=t;try{return e.apply(this,arguments)}finally{b=n}}},"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()}(v)),v)),x.exports}var w,_,C,S,E={exports:{}},N={};function T(){return w||(w=1,
/**
	 * @license React
	 * react-dom.development.js
	 *
	 * Copyright (c) Meta Platforms, Inc. and affiliates.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 */
function(){function e(){}function t(e){return""+e}function n(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}function r(e){return null===e?"`null`":void 0===e?"`undefined`":""===e?"an empty string":'something with type "'+typeof e+'"'}function i(e){return null===e?"`null`":void 0===e?"`undefined`":""===e?"an empty string":"string"==typeof e?JSON.stringify(e):"number"==typeof e?"`"+e+"`":'something with type "'+typeof e+'"'}function a(){var e=c.H;return e}"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var o=u(),s={d:{f:e,r:function(){throw Error("Invalid form element. requestFormReset must be passed a form that was rendered by React.")},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal"),c=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;"function"==typeof Map&&null!=Map.prototype&&"function"==typeof Map.prototype.forEach&&"function"==typeof Set&&null!=Set.prototype&&"function"==typeof Set.prototype.clear&&Set.prototype.forEach,N.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,N.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error("Target container is not a DOM element.");return function(e,n,r){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;try{t(i);var a=!1}catch(gA){a=!0}return a&&t(i),{$$typeof:l,key:null==i?null:""+i,children:e,containerInfo:n,implementation:r}}(e,n,null,r)},N.flushSync=function(e){var t=c.T,n=s.p;try{if(c.T=null,s.p=2,e)return e()}finally{c.T=t,s.p=n,s.d.f()}},N.preconnect=function(e,t){"string"==typeof e&&e&&(null!=t&&"object"!=typeof t||null!=t&&t.crossOrigin),"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},N.prefetchDNS=function(e){if("string"==typeof e&&e){if(1<arguments.length){var t=arguments[1];"object"==typeof t&&t.hasOwnProperty("crossOrigin")}}else;"string"==typeof e&&s.d.D(e)},N.preinit=function(e,t){if("string"==typeof e&&e&&(null==t||"object"!=typeof t||"style"!==t.as&&t.as),"string"==typeof e&&t&&"string"==typeof t.as){var r=t.as,i=n(r,t.crossOrigin),a="string"==typeof t.integrity?t.integrity:void 0,o="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?s.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:a,fetchPriority:o}):"script"===r&&s.d.X(e,{crossOrigin:i,integrity:a,fetchPriority:o,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},N.preinitModule=function(e,t){var a="";if("string"==typeof e&&e||(a+=" The `href` argument encountered was "+r(e)+"."),void 0!==t&&"object"!=typeof t?a+=" The `options` argument encountered was "+r(t)+".":t&&"as"in t&&"script"!==t.as&&(a+=" The `as` option encountered was "+i(t.as)+"."),a);else if("script"===(a=t&&"string"==typeof t.as?t.as:"script"));else a=i(a);"string"==typeof e&&("object"==typeof t&&null!==t?null!=t.as&&"script"!==t.as||(a=n(t.as,t.crossOrigin),s.d.M(e,{crossOrigin:a,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})):null==t&&s.d.M(e))},N.preload=function(e,t){var i="";if("string"==typeof e&&e||(i+=" The `href` argument encountered was "+r(e)+"."),null==t||"object"!=typeof t?i+=" The `options` argument encountered was "+r(t)+".":"string"==typeof t.as&&t.as||(i+=" The `as` option encountered was "+r(t.as)+"."),"string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var a=n(i=t.as,t.crossOrigin);s.d.L(e,i,{crossOrigin:a,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},N.preloadModule=function(e,t){var i="";"string"==typeof e&&e||(i+=" The `href` argument encountered was "+r(e)+"."),void 0!==t&&"object"!=typeof t?i+=" The `options` argument encountered was "+r(t)+".":t&&"as"in t&&"string"!=typeof t.as&&(i+=" The `as` option encountered was "+r(t.as)+"."),"string"==typeof e&&(t?(i=n(t.as,t.crossOrigin),s.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0})):s.d.m(e))},N.requestFormReset=function(e){s.d.r(e)},N.unstable_batchedUpdates=function(e,t){return e(t)},N.useFormState=function(e,t,n){return a().useFormState(e,t,n)},N.useFormStatus=function(){return a().useHostTransitionStatus()},N.version="19.1.1","undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()),N}function M(){return C||(C=1,
/**
	 * @license React
	 * react-dom-client.development.js
	 *
	 * Copyright (c) Meta Platforms, Inc. and affiliates.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 */
function(){function e(e,t){for(e=e.memoizedState;null!==e&&0<t;)e=e.next,t--;return e}function t(e,n,r,i){if(r>=n.length)return i;var a=n[r],o=Gu(e)?e.slice():Tu({},e);return o[a]=t(e[a],n,r+1,i),o}function n(e,t,n){if(t.length===n.length){for(var i=0;i<n.length-1;i++)if(t[i]!==n[i])return;return r(e,t,n,0)}}function r(e,t,n,i){var a=t[i],o=Gu(e)?e.slice():Tu({},e);return i+1===t.length?(o[n[i]]=o[a],Gu(o)?o.splice(a,1):delete o[a]):o[a]=r(e[a],t,n,i+1),o}function i(e,t,n){var r=t[n],a=Gu(e)?e.slice():Tu({},e);return n+1===t.length?(Gu(a)?a.splice(r,1):delete a[r],a):(a[r]=i(e[r],t,n+1),a)}function a(){return!1}function o(){return null}function s(){}function l(){}function c(e){var t=[];return e.forEach(function(e){t.push(e)}),t.sort().join(", ")}function d(e,t,n,r){return new vn(e,t,n,r)}function h(e,t){e.context===sf&&(Kc(e.current,2,t,e,null,null),Es())}function p(e,t){if(null!==lf){var n=t.staleFamilies;t=t.updatedFamilies,Ks(),xn(e.current,t,n),Es()}}function f(e){lf=e}function m(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function g(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function b(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function x(e){if(g(e)!==e)throw Error("Unable to find node on an unmounted component.")}function v(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=v(e)))return t;e=e.sibling}return null}function w(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Vu&&e[Vu]||e["@@iterator"])?e:null}function C(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===Wu?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Du:return"Fragment";case Pu:return"Profiler";case Ou:return"StrictMode";case ju:return"Suspense";case zu:return"SuspenseList";case qu:return"Activity"}if("object"==typeof e)switch(e.tag,e.$$typeof){case Lu:return"Portal";case Ru:return(e.displayName||"Context")+".Provider";case Bu:return(e._context.displayName||"Context")+".Consumer";case Iu:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case $u:return null!==(t=e.displayName||null)?t:C(e.type)||"Memo";case Hu:t=e._payload,e=e._init;try{return C(e(t))}catch(PA){}}return null}function S(e){return"number"==typeof e.tag?N(e):"string"==typeof e.name?e.name:null}function N(e){var t=e.type;switch(e.tag){case 31:return"Activity";case 24:return"Cache";case 9:return(t._context.displayName||"Context")+".Consumer";case 10:return(t.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 26:case 27:case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C(t);case 8:return t===Ou?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;break;case 29:if(null!=(t=e._debugInfo))for(var n=t.length-1;0<=n;n--)if("string"==typeof t[n].name)return t[n].name;if(null!==e.return)return N(e.return)}return null}function M(e){return{current:e}}function A(e,t){0>Ju||(Qu[Ju],e.current=Xu[Ju],Xu[Ju]=null,Qu[Ju]=null,Ju--)}function L(e,t,n){Ju++,Xu[Ju]=e.current,Qu[Ju]=n,e.current=t}function D(e,t){L(nd,t,e),L(td,e,e),L(ed,null,e);var n=t.nodeType;switch(n){case 9:case 11:n=9===n?"#document":"#fragment",t=(t=t.documentElement)&&(t=t.namespaceURI)?Xl(t):Dx;break;default:if(n=t.tagName,t=t.namespaceURI)t=Ql(t=Xl(t),n);else switch(n){case"svg":t=Ox;break;case"math":t=Px;break;default:t=Dx}}n={context:t,ancestorInfo:n=ft(null,n=n.toLowerCase())},A(ed),L(ed,n,e)}function O(e){A(ed),A(td),A(nd)}function P(){return ed.current}function F(e){null!==e.memoizedState&&L(rd,e,e);var t=ed.current,n=e.type,r=Ql(t.context,n);t!==(r={context:r,ancestorInfo:n=ft(t.ancestorInfo,n)})&&(L(td,e,e),L(ed,r,e))}function B(e){td.current===e&&(A(ed),A(td)),rd.current===e&&(A(rd),fv._currentValue=pv)}function R(e){try{return I(e),!1}catch(gA){return!0}}function I(e){return""+e}function j(e,t){if(R(e))return I(e)}function z(e,t){if(R(e))return I(e)}function $(e){if(R(e))return I(e)}function H(e){if("function"==typeof gd&&bd(e),xd&&"function"==typeof xd.setStrictMode)try{xd.setStrictMode(yd,e)}catch(t){kd||(kd=!0)}}function q(e){vd=e}function U(){null!==vd&&"function"==typeof vd.markCommitStopped&&vd.markCommitStopped()}function V(e){null!==vd&&"function"==typeof vd.markComponentRenderStarted&&vd.markComponentRenderStarted(e)}function W(){null!==vd&&"function"==typeof vd.markComponentRenderStopped&&vd.markComponentRenderStopped()}function G(e){null!==vd&&"function"==typeof vd.markRenderStarted&&vd.markRenderStarted(e)}function K(){null!==vd&&"function"==typeof vd.markRenderStopped&&vd.markRenderStopped()}function Y(e,t){null!==vd&&"function"==typeof vd.markStateUpdateScheduled&&vd.markStateUpdateScheduled(e,t)}function Z(e){return 1&e?"SyncHydrationLane":2&e?"Sync":4&e?"InputContinuousHydration":8&e?"InputContinuous":16&e?"DefaultHydration":32&e?"Default":128&e?"TransitionHydration":4194048&e?"Transition":62914560&e?"Retry":67108864&e?"SelectiveHydration":134217728&e?"IdleHydration":268435456&e?"Idle":536870912&e?"Offscreen":1073741824&e?"Deferred":void 0}function X(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Q(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~a)?i=X(r):0!==(o&=s)?i=X(o):n||0!==(n=s&~e)&&(i=X(n)):0!==(s=r&~a)?i=X(s):0!==o?i=X(o):n||0!==(n=r&~e)&&(i=X(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&4194048&n)?t:i}function J(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ee(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function te(){var e=Ed;return!(4194048&(Ed<<=1))&&(Ed=256),e}function ne(){var e=Nd;return!(62914560&(Nd<<=1))&&(Nd=4194304),e}function re(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ie(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ae(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-_d(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function oe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_d(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function se(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function le(e,t,n){if(wd)for(e=e.pendingUpdatersLaneMap;0<n;){var r=31-_d(n),i=1<<r;e[r].add(t),n&=~i}}function ce(e,t){if(wd)for(var n=e.pendingUpdatersLaneMap,r=e.memoizedUpdaters;0<t;){var i=31-_d(t);e=1<<i,0<(i=n[i]).size&&(i.forEach(function(e){var t=e.alternate;null!==t&&r.has(t)||r.add(e)}),i.clear()),t&=~e}}function ue(e){return Td<(e&=-e)?Md<e?134217727&e?Ad:Ld:Md:Td}function de(){var e=Yu.p;return 0!==e?e:void 0===(e=window.event)?Ad:au(e.type)}function he(e){delete e[Od],delete e[Pd],delete e[Bd],delete e[Rd],delete e[Id]}function pe(e){var t=e[Od];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fd]||n[Od]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xc(e);null!==e;){if(n=e[Od])return n;e=xc(e)}return t}n=(e=n).parentNode}return null}function fe(e){if(e=e[Od]||e[Fd]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function me(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error("getNodeFromInstance: Invalid argument.")}function ge(e){var t=e[jd];return t||(t=e[jd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function be(e){e[zd]=!0}function ye(e,t){xe(e,t),xe(e+"Capture",t)}function xe(e,t){Hd[e],Hd[e]=t;var n=e.toLowerCase();for(qd[n]=e,"onDoubleClick"===e&&(qd.ondblclick=e),e=0;e<t.length;e++)$d.add(t[e])}function ve(e,t){Ud[t.type]||t.onChange||t.onInput||t.readOnly||t.disabled||t.value,t.onChange||t.readOnly||t.disabled||t.checked}function ke(e){return!!id.call(Gd,e)||!id.call(Wd,e)&&(Vd.test(e)?Gd[e]=!0:(Wd[e]=!0,!1))}function we(e,t,n){if(ke(t)){if(!e.hasAttribute(t)){switch(typeof n){case"symbol":case"object":case"function":return n;case"boolean":if(!1===n)return n}return void 0===n?void 0:null}return""===(e=e.getAttribute(t))&&!0===n||(j(n),e===""+n?n:e)}}function _e(e,t,n){if(ke(t))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}j(n),e.setAttribute(t,""+n)}}function Ce(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}j(n),e.setAttribute(t,""+n)}}function Se(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}j(r),e.setAttributeNS(t,n,""+r)}}function Ee(){}function Ne(e){if(void 0===Yd)try{throw Error()}catch(PA){var t=PA.stack.trim().match(/\n( *(at )?)/);Yd=t&&t[1]||"",Zd=-1<PA.stack.indexOf("\n    at")?" (<anonymous>)":-1<PA.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Yd+e+Zd}function Te(e,t){if(!e||Xd)return"";var n=Qd.get(e);if(void 0!==n)return n;Xd=!0,n=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var r;r=Ku.H,Ku.H=null,function(){if(0===Kd){yu=console.log,xu=console.info,vu=console.warn,ku=console.error,wu=console.group,_u=console.groupCollapsed,Cu=console.groupEnd;var e={configurable:!0,enumerable:!0,value:Ee,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}Kd++}();try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(PA){var r=PA}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(FC){r=FC}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"==typeof a.stack)return[a.stack,r.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),s=o[0],l=o[1];if(s&&l){var c=s.split("\n"),u=l.split("\n");for(o=a=0;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;for(;o<u.length&&!u[o].includes("DetermineComponentFrameRoot");)o++;if(a===c.length||o===u.length)for(a=c.length-1,o=u.length-1;1<=a&&0<=o&&c[a]!==u[o];)o--;for(;1<=a&&0<=o;a--,o--)if(c[a]!==u[o]){if(1!==a||1!==o)do{if(a--,0>--o||c[a]!==u[o]){var d="\n"+c[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),"function"==typeof e&&Qd.set(e,d),d}}while(1<=a&&0<=o);break}}}finally{Xd=!1,Ku.H=r,function(){if(0===--Kd){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Tu({},e,{value:yu}),info:Tu({},e,{value:xu}),warn:Tu({},e,{value:vu}),error:Tu({},e,{value:ku}),group:Tu({},e,{value:wu}),groupCollapsed:Tu({},e,{value:_u}),groupEnd:Tu({},e,{value:Cu})})}}(),Error.prepareStackTrace=n}return c=(c=e?e.displayName||e.name:"")?Ne(c):"","function"==typeof e&&Qd.set(e,c),c}function Me(e){var t=Error.prepareStackTrace;return Error.prepareStackTrace=void 0,e=e.stack,Error.prepareStackTrace=t,e.startsWith("Error: react-stack-top-frame\n")&&(e=e.slice(29)),-1!==(t=e.indexOf("\n"))&&(e=e.slice(t+1)),-1!==(t=e.indexOf("react_stack_bottom_frame"))&&(t=e.lastIndexOf("\n",t)),-1===t?"":e=e.slice(0,t)}function Ae(e){switch(e.tag){case 26:case 27:case 5:return Ne(e.type);case 16:return Ne("Lazy");case 13:return Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return Te(e.type,!1);case 11:return Te(e.type.render,!1);case 1:return Te(e.type,!0);case 31:return Ne("Activity");default:return""}}function Le(e){try{var t="";do{t+=Ae(e);var n=e._debugInfo;if(n)for(var r=n.length-1;0<=r;r--){var i=n[r];if("string"==typeof i.name){var a=t,o=i.env;t=a+Ne(i.name+(o?" ["+o+"]":""))}}e=e.return}while(e);return t}catch(PA){return"\nError generating stack: "+PA.message+"\n"+PA.stack}}function De(e){return(e=e?e.displayName||e.name:"")?Ne(e):""}function Oe(){if(null===Jd)return"";var e=Jd;try{var t="";switch(6===e.tag&&(e=e.return),e.tag){case 26:case 27:case 5:t+=Ne(e.type);break;case 13:t+=Ne("Suspense");break;case 19:t+=Ne("SuspenseList");break;case 31:t+=Ne("Activity");break;case 30:case 0:case 15:case 1:e._debugOwner||""!==t||(t+=De(e.type));break;case 11:e._debugOwner||""!==t||(t+=De(e.type.render))}for(;e;)if("number"==typeof e.tag){var n=e;e=n._debugOwner;var r=n._debugStack;e&&r&&("string"!=typeof r&&(n._debugStack=r=Me(r)),""!==r&&(t+="\n"+r))}else{if(null==e.debugStack)break;var i=e.debugStack;(e=e.owner)&&i&&(t+="\n"+Me(i))}var a=t}catch(PA){a="\nError generating stack: "+PA.message+"\n"+PA.stack}return a}function Pe(e,t,n,r,i,a,o){var s=Jd;Fe(e);try{return null!==e&&e._debugTask?e._debugTask.run(t.bind(null,n,r,i,a,o)):t(n,r,i,a,o)}finally{Fe(s)}throw Error("runWithFiberInDEV should never be called in production. This is a bug in React.")}function Fe(e){Ku.getCurrentStack=null===e?null:Oe,eh=!1,Jd=e}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return $(e),e;default:return""}}function Re(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ie(e){e._valueTracker||(e._valueTracker=function(e){var t=Re(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);$(e[t]);var r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){$(e),r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){$(e),r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function je(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Re(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ze(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(gA){return e.body}}function $e(e){return e.replace(th,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function He(e,t){void 0===t.checked||void 0===t.defaultChecked||rh||(rh=!0),void 0===t.value||void 0===t.defaultValue||nh||(nh=!0)}function qe(e,t,n,r,i,a,o,s){e.name="",null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?(j(o),e.type=o):e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+Be(t)):e.value!==""+Be(t)&&(e.value=""+Be(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?Ve(e,o,Be(t)):null!=n?Ve(e,o,Be(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?(j(s),e.name=""+Be(s)):e.removeAttribute("name")}function Ue(e,t,n,r,i,a,o,s){if(null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(j(a),e.type=a),null!=t||null!=n){if(("submit"===a||"reset"===a)&&null==t)return;n=null!=n?""+Be(n):"",t=null!=t?""+Be(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(j(o),e.name=o)}function Ve(e,t,n){"number"===t&&ze(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function We(e,t){null==t.value&&("object"==typeof t.children&&null!==t.children?Eu.Children.forEach(t.children,function(e){null==e||"string"==typeof e||"number"==typeof e||"bigint"==typeof e||ah||(ah=!0)}):null==t.dangerouslySetInnerHTML||oh||(oh=!0)),null==t.selected||ih||(ih=!0)}function Ge(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Be(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ke(e,t){for(e=0;e<lh.length;e++){var n=lh[e];if(null!=t[n]){var r=Gu(t[n]);t.multiple&&!r||t.multiple}}void 0===t.value||void 0===t.defaultValue||sh||(sh=!0)}function Ye(e,t){void 0===t.value||void 0===t.defaultValue||ch||(ch=!0),null!=t.children&&t.value}function Ze(e,t,n){null==t||((t=""+Be(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+Be(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Xe(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(Gu(r)){if(1<r.length)throw Error("<textarea> can only have at most one child.");r=r[0]}n=r}null==n&&(n=""),t=n}n=Be(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function Qe(e,t){return void 0===e.serverProps&&0===e.serverTail.length&&1===e.children.length&&3<e.distanceFromLeaf&&e.distanceFromLeaf>15-t?Qe(e.children[0],t):e}function Je(e){return"  "+"  ".repeat(e)}function et(e){return"+ "+"  ".repeat(e)}function tt(e){return"- "+"  ".repeat(e)}function nt(e){switch(e.tag){case 26:case 27:case 5:return e.type;case 16:return"Lazy";case 13:return"Suspense";case 19:return"SuspenseList";case 0:case 15:case 1:return(e=e.type).displayName||e.name||null;case 11:return(e=e.type.render).displayName||e.name||null;default:return null}}function rt(e,t){return uh.test(e)?(e=JSON.stringify(e)).length>t-2?8>t?'{"..."}':"{"+e.slice(0,t-7)+'..."}':"{"+e+"}":e.length>t?5>t?'{"..."}':e.slice(0,t-3)+"...":e}function it(e,t,n){var r=120-2*n;if(null===t)return et(n)+rt(e,r)+"\n";if("string"==typeof t){for(var i=0;i<t.length&&i<e.length&&t.charCodeAt(i)===e.charCodeAt(i);i++);return i>r-8&&10<i&&(e="..."+e.slice(i-8),t="..."+t.slice(i-8)),et(n)+rt(e,r)+"\n"+tt(n)+rt(t,r)+"\n"}return Je(n)+rt(e,r)+"\n"}function at(e){return Object.prototype.toString.call(e).replace(/^\[object (.*)\]$/,function(e,t){return t})}function ot(e,t){switch(typeof e){case"string":return(e=JSON.stringify(e)).length>t?5>t?'"..."':e.slice(0,t-4)+'..."':e;case"object":if(null===e)return"null";if(Gu(e))return"[...]";if(e.$$typeof===Au)return(t=C(e.type))?"<"+t+">":"<...>";var n=at(e);if("Object"===n){for(var r in n="",t-=2,e)if(e.hasOwnProperty(r)){var i=JSON.stringify(r);if(i!=='"'+r+'"'&&(r=i),t-=r.length-2,0>(t-=(i=ot(e[r],15>t?t:15)).length)){n+=""===n?"...":", ...";break}n+=(""===n?"":",")+r+":"+i}return"{"+n+"}"}return n;case"function":return(t=e.displayName||e.name)?"function "+t:"function";default:return String(e)}}function st(e,t){return"string"!=typeof e||uh.test(e)?"{"+ot(e,t-2)+"}":e.length>t-2?5>t?'"..."':'"'+e.slice(0,t-5)+'..."':'"'+e+'"'}function lt(e,t,n){var r,i=120-n.length-e.length,a=[];for(r in t)if(t.hasOwnProperty(r)&&"children"!==r){var o=st(t[r],120-n.length-r.length-1);i-=r.length+o.length+2,a.push(r+"="+o)}return 0===a.length?n+"<"+e+">\n":0<i?n+"<"+e+" "+a.join(" ")+">\n":n+"<"+e+"\n"+n+"  "+a.join("\n"+n+"  ")+"\n"+n+">\n"}function ct(e,t,n){var r,i="",a=Tu({},t);for(r in e)if(e.hasOwnProperty(r)){delete a[r];var o=120-2*n-r.length-2,s=ot(e[r],o);t.hasOwnProperty(r)?(o=ot(t[r],o),i+=et(n)+r+": "+s+"\n",i+=tt(n)+r+": "+o+"\n"):i+=et(n)+r+": "+s+"\n"}for(var l in a)a.hasOwnProperty(l)&&(e=ot(a[l],120-2*n-l.length-2),i+=tt(n)+l+": "+e+"\n");return i}function ut(e,t){var n=nt(e);if(null===n){for(n="",e=e.child;e;)n+=ut(e,t),e=e.sibling;return n}return Je(t)+"<"+n+">\n"}function dt(e,t){var n=Qe(e,t);if(n!==e&&(1!==e.children.length||e.children[0]!==n))return Je(t)+"...\n"+dt(n,t+1);n="";var r=e.fiber._debugInfo;if(r)for(var i=0;i<r.length;i++){var a=r[i].name;"string"==typeof a&&(n+=Je(t)+"<"+a+">\n",t++)}if(r="",i=e.fiber.pendingProps,6===e.fiber.tag)r=it(i,e.serverProps,t),t++;else if(null!==(a=nt(e.fiber)))if(void 0===e.serverProps){var o=120-2*(r=t)-a.length-2,s="";for(c in i)if(i.hasOwnProperty(c)&&"children"!==c){var l=st(i[c],15);if(0>(o-=c.length+l.length+2)){s+=" ...";break}s+=" "+c+"="+l}r=Je(r)+"<"+a+s+">\n",t++}else null===e.serverProps?(r=lt(a,i,et(t)),t++):"string"==typeof e.serverProps||(r=function(e,t,n,r){var i="",a=new Map;for(c in n)n.hasOwnProperty(c)&&a.set(c.toLowerCase(),c);if(1===a.size&&a.has("children"))i+=lt(e,t,Je(r));else{for(var o in t)if(t.hasOwnProperty(o)&&"children"!==o){var s=120-2*(r+1)-o.length-1,l=a.get(o.toLowerCase());if(void 0!==l){a.delete(o.toLowerCase());var c=t[o];l=n[l];var u=st(c,s);s=st(l,s),"object"==typeof c&&null!==c&&"object"==typeof l&&null!==l&&"Object"===at(c)&&"Object"===at(l)&&(2<Object.keys(c).length||2<Object.keys(l).length||-1<u.indexOf("...")||-1<s.indexOf("..."))?i+=Je(r+1)+o+"={{\n"+ct(c,l,r+2)+Je(r+1)+"}}\n":(i+=et(r+1)+o+"="+u+"\n",i+=tt(r+1)+o+"="+s+"\n")}else i+=Je(r+1)+o+"="+st(t[o],s)+"\n"}a.forEach(function(e){if("children"!==e){var t=120-2*(r+1)-e.length-1;i+=tt(r+1)+e+"="+st(n[e],t)+"\n"}}),i=""===i?Je(r)+"<"+e+">\n":Je(r)+"<"+e+"\n"+i+Je(r)+">\n"}return e=n.children,t=t.children,"string"==typeof e||"number"==typeof e||"bigint"==typeof e?(a="","string"!=typeof t&&"number"!=typeof t&&"bigint"!=typeof t||(a=""+t),i+=it(a,""+e,r+1)):"string"!=typeof t&&"number"!=typeof t&&"bigint"!=typeof t||(i=null==e?i+it(""+t,null,r+1):i+it(""+t,void 0,r+1)),i}(a,i,e.serverProps,t),t++);var c="";for(i=e.fiber.child,a=0;i&&a<e.children.length;)(o=e.children[a]).fiber===i?(c+=dt(o,t),a++):c+=ut(i,t),i=i.sibling;for(i&&0<e.children.length&&(c+=Je(t)+"...\n"),i=e.serverTail,null===e.serverProps&&t--,e=0;e<i.length;e++)c="string"==typeof(a=i[e])?c+(tt(t)+rt(a,120-2*t)+"\n"):c+lt(a.type,a.props,tt(t));return n+r+c}function ht(e){try{return"\n\n"+dt(e,0)}catch(PA){return""}}function pt(e,t,n){for(var r=t,i=null,a=0;r;)r===e&&(a=0),i={fiber:r,children:null!==i?[i]:[],serverProps:r===t?n:r===e?null:void 0,serverTail:[],distanceFromLeaf:a},a++,r=r.return;return null!==i?ht(i).replaceAll(/^[+-]/gm,">"):""}function ft(e,t){var n=Tu({},e||mh),r={tag:t};return-1!==hh.indexOf(t)&&(n.aTagInScope=null,n.buttonTagInScope=null,n.nobrTagInScope=null),-1!==ph.indexOf(t)&&(n.pTagInButtonScope=null),-1!==dh.indexOf(t)&&"address"!==t&&"div"!==t&&"p"!==t&&(n.listItemTagAutoclosing=null,n.dlItemTagAutoclosing=null),n.current=r,"form"===t&&(n.formTag=r),"a"===t&&(n.aTagInScope=r),"button"===t&&(n.buttonTagInScope=r),"nobr"===t&&(n.nobrTagInScope=r),"p"===t&&(n.pTagInButtonScope=r),"li"===t&&(n.listItemTagAutoclosing=r),"dd"!==t&&"dt"!==t||(n.dlItemTagAutoclosing=r),"#document"===t||"html"===t?n.containerTagInScope=null:n.containerTagInScope||(n.containerTagInScope=r),null!==e||"#document"!==t&&"html"!==t&&"body"!==t?!0===n.implicitRootScope&&(n.implicitRootScope=!1):n.implicitRootScope=!0,n}function mt(e,t,n){switch(t){case"select":return"hr"===e||"option"===e||"optgroup"===e||"script"===e||"template"===e||"#text"===e;case"optgroup":return"option"===e||"#text"===e;case"option":return"#text"===e;case"tr":return"th"===e||"td"===e||"style"===e||"script"===e||"template"===e;case"tbody":case"thead":case"tfoot":return"tr"===e||"style"===e||"script"===e||"template"===e;case"colgroup":return"col"===e||"template"===e;case"table":return"caption"===e||"colgroup"===e||"tbody"===e||"tfoot"===e||"thead"===e||"style"===e||"script"===e||"template"===e;case"head":return"base"===e||"basefont"===e||"bgsound"===e||"link"===e||"meta"===e||"title"===e||"noscript"===e||"noframes"===e||"style"===e||"script"===e||"template"===e;case"html":if(n)break;return"head"===e||"body"===e||"frameset"===e;case"frameset":return"frame"===e;case"#document":if(!n)return"html"===e}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t;case"rp":case"rt":return-1===fh.indexOf(t);case"caption":case"col":case"colgroup":case"frameset":case"frame":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==t;case"head":return n||null===t;case"html":return n&&"#document"===t||null===t;case"body":return n&&("#document"===t||"html"===t)||null===t}return!0}function gt(e,t){for(;e;){switch(e.tag){case 5:case 26:case 27:if(e.type===t)return e}e=e.return}return null}function bt(e,t){var n=(t=t||mh).current;if(t=(n=mt(e,n&&n.tag,t.implicitRootScope)?null:n)?null:function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null}(e,t),!(t=n||t))return!0;var r=t.tag;if(t=String(!!n)+"|"+e+"|"+r,gh[t])return!1;gh[t]=!0;var i=(t=Jd)?gt(t.return,r):null;null!==t&&null!==i&&pt(i,t,null);return n&&(n="","table"===r&&"tr"===e&&(n+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser.")),t&&(e=t.return,null===i||null===e||i===e&&e._debugOwner===t._debugOwner||Pe(i,function(){})),!1}function yt(e,t,n){if(n||mt("#text",t,!1))return!0;if(gh[n="#text|"+t])return!1;gh[n]=!0;var r=(n=Jd)?gt(n,t):null;return n=null!==n&&null!==r?pt(r,n,6!==n.tag?{children:null}:null):"",/\S/.test(e),!1}function xt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function vt(e,t,n){var r=0===t.indexOf("--");r||(-1<t.indexOf("-")||vh.test(t)?wh.hasOwnProperty(t)&&wh[t]||(wh[t]=!0):!kh.test(n)||_h.hasOwnProperty(n)&&_h[n]||(_h[n]=!0),"number"==typeof n&&(isNaN(n)?Ch||(Ch=!0):isFinite(n)||Sh||(Sh=!0))),null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Eh.has(t)?"float"===t?e.cssFloat=n:(z(n),e[t]=(""+n).trim()):e[t]=n+"px"}function kt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");if(t&&Object.freeze(t),e=e.style,null!=n){if(t){var r={};if(n)for(var i in n)if(n.hasOwnProperty(i)&&!t.hasOwnProperty(i))for(var a=bh[i]||[i],o=0;o<a.length;o++)r[a[o]]=i;for(var s in t)if(t.hasOwnProperty(s)&&(!n||n[s]!==t[s]))for(i=bh[s]||[s],a=0;a<i.length;a++)r[i[a]]=s;for(var l in s={},t)for(i=bh[l]||[l],a=0;a<i.length;a++)s[i[a]]=l;for(var c in l={},r)if(i=r[c],(a=s[c])&&i!==a&&!l[o=i+","+a]){l[o]=!0,o=console;var u=t[i];o.error.call(o,"%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",null==u||"boolean"==typeof u||""===u?"Removing":"Updating",i,a)}}for(var d in n)!n.hasOwnProperty(d)||null!=t&&t.hasOwnProperty(d)||(0===d.indexOf("--")?e.setProperty(d,""):"float"===d?e.cssFloat="":e[d]="");for(var h in t)c=t[h],t.hasOwnProperty(h)&&n[h]!==c&&vt(e,h,c)}else for(r in t)t.hasOwnProperty(r)&&vt(e,r,t[r])}function wt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function _t(e){return Mh.get(e)||e}function Ct(e,t){if(id.call(Dh,t)&&Dh[t])return!0;if(Ph.test(t)){if(e="aria-"+t.slice(4).toLowerCase(),null==(e=Lh.hasOwnProperty(e)?e:null))return Dh[t]=!0;if(t!==e)return Dh[t]=!0}if(Oh.test(t)){if(e=t.toLowerCase(),null==(e=Lh.hasOwnProperty(e)?e:null))return Dh[t]=!0,!1;t!==e&&(Dh[t]=!0)}return!0}function St(e,t,n,r){if(id.call(Bh,t)&&Bh[t])return!0;var i=t.toLowerCase();if("onfocusin"===i||"onfocusout"===i)return Bh[t]=!0;if("function"==typeof n&&("form"===e&&"action"===t||"input"===e&&"formAction"===t||"button"===e&&"formAction"===t))return!0;if(null!=r){if(e=r.possibleRegistrationNames,r.registrationNameDependencies.hasOwnProperty(t))return!0;if(null!=(r=e.hasOwnProperty(i)?e[i]:null))return Bh[t]=!0;if(Rh.test(t))return Bh[t]=!0}else if(Rh.test(t))return Ih.test(t),Bh[t]=!0;if(jh.test(t)||zh.test(t))return!0;if("innerhtml"===i)return Bh[t]=!0;if("aria"===i)return Bh[t]=!0;if("is"===i&&null!=n&&"string"!=typeof n)return Bh[t]=!0;if("number"==typeof n&&isNaN(n))return Bh[t]=!0;if(Ah.hasOwnProperty(i)){if((i=Ah[i])!==t)return Bh[t]=!0}else if(t!==i)return Bh[t]=!0;switch(t){case"dangerouslySetInnerHTML":case"children":case"style":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"innerText":case"textContent":return!0}switch(typeof n){case"boolean":switch(t){case"autoFocus":case"checked":case"multiple":case"muted":case"selected":case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"capture":case"download":case"inert":return!0;default:return"data-"===(i=t.toLowerCase().slice(0,5))||"aria-"===i||(Bh[t]=!0)}case"function":case"symbol":return Bh[t]=!0,!1;case"string":if("false"===n||"true"===n){switch(t){case"checked":case"selected":case"multiple":case"muted":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"inert":break;default:return!0}Bh[t]=!0}}return!0}function Et(e){return $h.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Nt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Tt(e){var t=fe(e);if(t&&(e=t.stateNode)){var n=e[Pd]||null;e:switch(e=t.stateNode,t.type){case"input":if(qe(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(j(t),n=n.querySelectorAll('input[name="'+$e(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Pd]||null;if(!i)throw Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");qe(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&je(r)}break e;case"textarea":Ze(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&Ge(e,!!n.multiple,t,!1)}}}function Mt(e,t,n){if(Vh)return e(t,n);Vh=!0;try{return e(t)}finally{if(Vh=!1,(null!==qh||null!==Uh)&&(Es(),qh&&(t=qh,e=Uh,Uh=qh=null,Tt(t),e)))for(t=0;t<e.length;t++)Tt(e[t])}}function At(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Pd]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error("Expected `"+t+"` listener to be a function, instead got a value of `"+typeof n+"` type.");return n}function Lt(){if(ep)return ep;var e,t,n=Jh,r=n.length,i="value"in Qh?Qh.value:Qh.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return ep=i.slice(e,1<t?1-t:void 0)}function Dt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ot(){return!0}function Pt(){return!1}function Ft(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Ot:Pt,this.isPropagationStopped=Pt,this}return Tu(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Ot)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Ot)},persist:function(){},isPersistent:Ot}),t}function Bt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mp[e])&&!!t[e]}function Rt(){return Bt}function It(e,t){switch(e){case"keyup":return-1!==wp.indexOf(t.keyCode);case"keydown":return t.keyCode!==_p;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jt(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}function zt(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dp[e.type]:"textarea"===t}function $t(e,t,n,r){qh?Uh?Uh.push(r):Uh=[r]:qh=r,0<(t=Tl(t,"onChange")).length&&(n=new np("onChange","change",null,n,r),e.push({event:n,listeners:t}))}function Ht(e){kl(e,0)}function qt(e){if(je(me(e)))return e}function Ut(e,t){if("change"===e)return t}function Vt(){Op&&(Op.detachEvent("onpropertychange",Wt),Pp=Op=null)}function Wt(e){if("value"===e.propertyName&&qt(Pp)){var t=[];$t(t,Pp,e,Nt(e)),Mt(Ht,t)}}function Gt(e,t,n){"focusin"===e?(Vt(),Pp=n,(Op=t).attachEvent("onpropertychange",Wt)):"focusout"===e&&Vt()}function Kt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qt(Pp)}function Yt(e,t){if("click"===e)return qt(t)}function Zt(e,t){if("input"===e||"change"===e)return qt(t)}function Xt(e,t){if(Bp(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!id.call(t,i)||!Bp(e[i],t[i]))return!1}return!0}function Qt(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jt(e,t){var n,r=Qt(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qt(r)}}function en(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?en(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function tn(e){for(var t=ze((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ze((e=t.contentWindow).document)}return t}function nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function rn(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;$p||null==Ip||Ip!==ze(r)||("selectionStart"in(r=Ip)&&nn(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},zp&&Xt(zp,r)||(zp=r,0<(r=Tl(jp,"onSelect")).length&&(t=new np("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ip)))}function an(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}function on(e){if(qp[e])return qp[e];if(!Hp[e])return e;var t,n=Hp[e];for(t in n)if(n.hasOwnProperty(t)&&t in Up)return qp[e]=n[t];return e}function sn(e,t){Qp.set(e,t),ye(t,[e])}function ln(e,t){if("object"==typeof e&&null!==e){var n=ef.get(e);return void 0!==n?n:(t={value:e,source:t,stack:Le(t)},ef.set(e,t),t)}return{value:e,source:t,stack:Le(t)}}function cn(){for(var e=af,t=of=af=0;t<e;){var n=rf[t];rf[t++]=null;var r=rf[t];rf[t++]=null;var i=rf[t];rf[t++]=null;var a=rf[t];if(rf[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==a&&pn(n,i,a)}}function un(e,t,n,r){rf[af++]=e,rf[af++]=t,rf[af++]=n,rf[af++]=r,of|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function dn(e,t,n,r){return un(e,t,n,r),fn(e)}function hn(e,t){return un(e,null,null,t),fn(e)}function pn(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||e._visibility&tf||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-_d(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function fn(e){if(zy>jy)throw Vy=zy=0,Wy=$y=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");Vy>Uy&&(Vy=0,Wy=null),null===e.alternate&&4098&e.flags&&ol(e);for(var t=e,n=t.return;null!==n;)null===t.alternate&&!!(4098&t.flags)&&ol(e),n=(t=n).return;return 3===t.tag?t.stateNode:null}function mn(e){if(null===lf)return e;var t=lf(e);return void 0===t?e:t.current}function gn(e){if(null===lf)return e;var t=lf(e);return void 0===t?null!=e&&"function"==typeof e.render&&(t=mn(e.render),e.render!==t)?(t={$$typeof:Iu,render:t},void 0!==e.displayName&&(t.displayName=e.displayName),t):e:t.current}function bn(e,t){if(null===lf)return!1;var n=e.elementType,r=!1,i="object"==typeof(t=t.type)&&null!==t?t.$$typeof:null;switch(e.tag){case 1:"function"==typeof t&&(r=!0);break;case 0:("function"==typeof t||i===Hu)&&(r=!0);break;case 11:(i===Iu||i===Hu)&&(r=!0);break;case 14:case 15:(i===$u||i===Hu)&&(r=!0);break;default:return!1}return!(!r||(e=lf(n),void 0===e||e!==lf(t)))}function yn(e){null!==lf&&"function"==typeof WeakSet&&(null===cf&&(cf=new WeakSet),cf.add(e))}function xn(e,t,n){var r=e.alternate,i=e.child,a=e.sibling,o=e.tag,s=e.type,l=null;switch(o){case 0:case 15:case 1:l=s;break;case 11:l=s.render}if(null===lf)throw Error("Expected resolveFamily to be set during hot reload.");var c=!1;s=!1,null!==l&&(void 0!==(l=lf(l))&&(n.has(l)?s=!0:t.has(l)&&(1===o?s=!0:c=!0))),null!==cf&&(cf.has(e)||null!==r&&cf.has(r))&&(s=!0),s&&(e._debugNeedsRemount=!0),(s||c)&&(null!==(r=hn(e,2))&&ks(r,e,2)),null===i||s||xn(i,t,n),null!==a&&xn(a,t,n)}function vn(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null,this.actualDuration=-0,this.actualStartTime=-1.1,this.treeBaseDuration=this.selfBaseDuration=-0,this._debugTask=this._debugStack=this._debugOwner=this._debugInfo=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,gf||"function"!=typeof Object.preventExtensions||Object.preventExtensions(this)}function kn(e){return!(!(e=e.prototype)||!e.isReactComponent)}function wn(e,t){var n=e.alternate;switch(null===n?((n=d(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n._debugOwner=e._debugOwner,n._debugStack=e._debugStack,n._debugTask=e._debugTask,n._debugHookTypes=e._debugHookTypes,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null,n.actualDuration=-0,n.actualStartTime=-1.1),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext,_debugThenableState:t._debugThenableState},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n.selfBaseDuration=e.selfBaseDuration,n.treeBaseDuration=e.treeBaseDuration,n._debugInfo=e._debugInfo,n._debugNeedsRemount=e._debugNeedsRemount,n.tag){case 0:case 15:case 1:n.type=mn(e.type);break;case 11:n.type=gn(e.type)}return n}function _n(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null,e.selfBaseDuration=0,e.treeBaseDuration=0):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext,_debugThenableState:t._debugThenableState},e.selfBaseDuration=n.selfBaseDuration,e.treeBaseDuration=n.treeBaseDuration),e}function Cn(e,t,n,r,i,a){var o=0,s=e;if("function"==typeof e)kn(e)&&(o=1),s=mn(s);else if("string"==typeof e)o=function(e,t,n){var r=!n.ancestorInfo.containerTagInScope;if(n.context===Ox||null!=t.itemProp)return!r||t.itemProp,!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError){if("stylesheet"===t.rel&&"string"==typeof t.precedence){e=t.href;var i=t.onError,a=t.disabled;n=[],t.onLoad&&n.push("`onLoad`"),i&&n.push("`onError`"),null!=a&&n.push("`disabled`"),i=function(e,t){switch(e.length){case 0:return"";case 1:return e[0];case 2:return e[0]+" "+t+" "+e[1];default:return e.slice(0,-1).join(", ")+", "+t+" "+e[e.length-1]}}(n,"and"),i+=1===n.length?" prop":" props",a=1===n.length?"an "+i:"the "+i,n.length}r&&("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onError||t.onLoad);break}return"stylesheet"!==t.rel||(e=t.precedence,t=t.disabled,"string"==typeof e&&null==t);case"script":if(!(e=t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async)||t.onLoad||t.onError||!t.src||"string"!=typeof t.src){r&&e&&(t.onLoad||t.onError);break}return!0}return!1}(e,n,o=P())?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case qu:return(t=d(31,n,t,i)).elementType=qu,t.lanes=a,t;case Du:return En(n.children,i,a,t);case Ou:o=8,i|=pf,i|=ff;break;case Pu:return r=i,(e=n).id,(t=d(12,e,t,r|hf)).elementType=Pu,t.lanes=a,t.stateNode={effectDuration:0,passiveEffectDuration:0},t;case ju:return(t=d(13,n,t,i)).elementType=ju,t.lanes=a,t;case zu:return(t=d(19,n,t,i)).elementType=zu,t.lanes=a,t;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Fu:case Ru:o=10;break e;case Bu:o=9;break e;case Iu:o=11,s=gn(s);break e;case $u:o=14;break e;case Hu:o=16,s=null;break e}s="",(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(s+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports."),null===e?n="null":Gu(e)?n="array":void 0!==e&&e.$$typeof===Au?(n="<"+(C(e.type)||"Unknown")+" />",s=" Did you accidentally export a JSX literal instead of a component?"):n=typeof e,(o=r?S(r):null)&&(s+="\n\nCheck the render method of `"+o+"`."),o=29,n=Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+n+"."+s),s=null}return(t=d(o,n,t,i)).elementType=e,t.type=s,t.lanes=a,t._debugOwner=r,t}function Sn(e,t,n){return(t=Cn(e.type,e.key,e.props,e._owner,t,n))._debugOwner=e._owner,t._debugStack=e._debugStack,t._debugTask=e._debugTask,t}function En(e,t,n,r){return(e=d(7,e,r,t)).lanes=n,e}function Nn(e,t,n){return(e=d(6,e,null,t)).lanes=n,e}function Tn(e,t,n){return(t=d(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mn(e,t){On(),bf[yf++]=vf,bf[yf++]=xf,xf=e,vf=t}function An(e,t,n){On(),kf[wf++]=Cf,kf[wf++]=Sf,kf[wf++]=_f,_f=e;var r=Cf;e=Sf;var i=32-_d(r)-1;r&=~(1<<i),n+=1;var a=32-_d(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Cf=1<<32-_d(t)+i|n<<i|r,Sf=a+e}else Cf=1<<a|n<<i|r,Sf=e}function Ln(e){On(),null!==e.return&&(Mn(e,1),An(e,1,0))}function Dn(e){for(;e===xf;)xf=bf[--yf],bf[yf]=null,vf=bf[--yf],bf[yf]=null;for(;e===_f;)_f=kf[--wf],kf[wf]=null,Sf=kf[--wf],kf[wf]=null,Cf=kf[--wf],kf[wf]=null}function On(){}function Pn(e,t){if(null===e.return){if(null===Af)Af={fiber:e,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:t};else{if(Af.fiber!==e)throw Error("Saw multiple hydration diff roots in a pass. This is a bug in React.");Af.distanceFromLeaf>t&&(Af.distanceFromLeaf=t)}return Af}var n=Pn(e.return,t+1).children;return 0<n.length&&n[n.length-1].fiber===e?((n=n[n.length-1]).distanceFromLeaf>t&&(n.distanceFromLeaf=t),n):(t={fiber:e,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:t},n.push(t),t)}function Fn(e,t){Mf||((e=Pn(e,0)).serverProps=null,null!==t&&(t=gc(t),e.serverTail.push(t)))}function Bn(e){var t="",n=Af;throw null!==n&&(Af=null,t=ht(n)),Hn(ln(Error("Hydration failed because the server rendered HTML didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:\n\n- A server/client branch `if (typeof window !== 'undefined')`.\n- Variable input such as `Date.now()` or `Math.random()` which changes each time it's called.\n- Date formatting in a user's locale which doesn't match the server.\n- External changing data without sending a snapshot of it along with the HTML.\n- Invalid HTML tag nesting.\n\nIt can also happen if the client has a browser extension installed which messes with the HTML before React loaded.\n\nhttps://react.dev/link/hydration-mismatch"+t),e)),Of}function Rn(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Od]=e,t[Pd]=r,Ll(n,r),n){case"dialog":wl("cancel",t),wl("close",t);break;case"iframe":case"object":case"embed":wl("load",t);break;case"video":case"audio":for(n=0;n<ix.length;n++)wl(ix[n],t);break;case"source":wl("error",t);break;case"img":case"image":case"link":wl("error",t),wl("load",t);break;case"details":wl("toggle",t);break;case"input":ve(0,r),wl("invalid",t),He(0,r),Ue(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Ie(t);break;case"option":We(0,r);break;case"select":ve(0,r),wl("invalid",t),Ke(t,r);break;case"textarea":ve(0,r),wl("invalid",t),Ye(0,r),Xe(t,r.value,r.defaultValue,r.children),Ie(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Bl(t.textContent,n)?(null!=r.popover&&(wl("beforetoggle",t),wl("toggle",t)),null!=r.onScroll&&wl("scroll",t),null!=r.onScrollEnd&&wl("scrollend",t),null!=r.onClick&&(t.onclick=Rl),t=!0):t=!1,t||Bn(e)}function In(e){for(Ef=e.return;Ef;)switch(Ef.tag){case 5:case 13:return void(Df=!1);case 27:case 3:return void(Df=!0);default:Ef=Ef.return}}function jn(e){if(e!==Ef)return!1;if(!Tf)return In(e),Tf=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Jl(e.type,e.memoizedProps)),t=!t),t&&Nf){for(t=Nf;t;){var r=Pn(e,0),i=gc(t);r.serverTail.push(i),t="Suspense"===i.type?yc(t):mc(t.nextSibling)}Bn(e)}if(In(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");Nf=yc(e)}else 27===n?(n=Nf,ac(e.type)?(e=Ux,Ux=null,Nf=e):Nf=n):Nf=Ef?mc(e.stateNode.nextSibling):null;return!0}function zn(){Nf=Ef=null,Mf=Tf=!1}function $n(){var e=Lf;return null!==e&&(null===my?my=e:my.push.apply(my,e),Lf=null),e}function Hn(e){null===Lf?Lf=[e]:Lf.push(e)}function qn(){var e=Af;if(null!==e){Af=null;for(ht(e);0<e.children.length;)e=e.children[0];Pe(e.fiber,function(){})}}function Un(){Hf=$f=null}function Vn(e,t,n){L(If,t._currentValue,e),t._currentValue=n,L(jf,t._currentRenderer,e),void 0!==t._currentRenderer&&null!==t._currentRenderer&&t._currentRenderer,t._currentRenderer=zf}function Wn(e,t){e._currentValue=If.current;var n=jf.current;A(jf),e._currentRenderer=n,A(If)}function Gn(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Kn(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var o=i.child;a=a.firstContext;e:for(;null!==a;){var s=a;a=i;for(var l=0;l<t.length;l++)if(s.context===t[l]){a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),Gn(a.return,n,e),r||(o=null);break e}a=s.next}}else if(18===i.tag){if(null===(o=i.return))throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),Gn(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Yn(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(524288&i.flags)a=!0;else if(262144&i.flags)break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error("Should have a current fiber. This is a bug in React.");if(null!==(o=o.memoizedProps)){var s=i.type;Bp(i.pendingProps.value,o.value)||(null!==e?e.push(s):e=[s])}}else if(i===rd.current){if(null===(o=i.alternate))throw Error("Should have a current fiber. This is a bug in React.");o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(fv):e=[fv])}i=i.return}null!==e&&Kn(t,e,n,r),t.flags|=262144}function Zn(e){for(e=e.firstContext;null!==e;){if(!Bp(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xn(e){$f=e,Hf=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Qn(e){return er($f,e)}function Jn(e,t){return null===$f&&Xn(e),er(e,t)}function er(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Hf){if(null===e)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Hf=t,e.dependencies={lanes:0,firstContext:t,_debugThenableState:null},e.flags|=524288}else Hf=Hf.next=t;return n}function tr(){return{controller:new qf,data:new Map,refCount:0}}function nr(e){e.controller.signal.aborted,e.refCount++}function rr(e){e.refCount--,e.refCount,0===e.refCount&&Uf(Vf,function(){e.controller.abort()})}function ir(){var e=Xf;return Xf=0,e}function ar(e){var t=Xf;return Xf=e,t}function or(e){var t=Xf;return Xf+=e,t}function sr(e){Zf=Gf(),0>e.actualStartTime&&(e.actualStartTime=Zf)}function lr(e){if(0<=Zf){var t=Gf()-Zf;e.actualDuration+=t,e.selfBaseDuration=t,Zf=-1}}function cr(e){if(0<=Zf){var t=Gf()-Zf;e.actualDuration+=t,Zf=-1}}function ur(){if(0<=Zf){var e=Gf()-Zf;Zf=-1,Xf+=e}}function dr(){Zf=Gf()}function hr(e){for(var t=e.child;t;)e.actualDuration+=t.actualDuration,t=t.sibling}function pr(){if(0===--tm&&null!==em){null!==rm&&(rm.status="fulfilled");var e=em;em=null,nm=0,rm=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function fr(){var e=am.current;return null!==e?e:qb.pooledCache}function mr(e,t){L(am,null===t?am.current:t.pool,e)}function gr(){var e=fr();return null===e?null:{parent:Wf._currentValue,pool:e}}function br(e){return"fulfilled"===(e=e.status)||"rejected"===e}function yr(){}function xr(e,t,n){null!==Ku.actQueue&&(Ku.didUsePromise=!0);var r=e.thenables;switch(void 0===(n=r[n])?r.push(t):n!==t&&(e.didWarnAboutUncachedPromise||(e.didWarnAboutUncachedPromise=!0),t.then(yr,yr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw kr(e=t.reason),e;default:if("string"==typeof t.status)t.then(yr,yr);else{if(null!==(e=qb)&&100<e.shellSuspendCounter)throw Error("An unknown Component is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.");(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw kr(e=t.reason),e}throw km=t,wm=!0,bm}}function vr(){if(null===km)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var e=km;return km=null,wm=!1,e}function kr(e){if(e===bm||e===xm)throw Error("Hooks are not supported inside an async component. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.")}function wr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _r(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Cr(e){return{lane:e,tag:Tm,payload:null,callback:null,next:null}}function Sr(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,Pm===r&&!Om){var i=N(e);Om=!0}return(Hb&Ob)!==Db?(null===(i=r.pending)?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=fn(e),pn(e,null,n),t):(un(e,r,t,n),fn(e))}function Er(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,oe(e,n)}}function Nr(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Tr(){if(Fm){if(null!==rm)throw rm}}function Mr(e,t,n,r){Fm=!1;var i=e.updateQueue;Dm=!1,Pm=i.shared;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var h=-536870913&s.lane,p=h!==s.lane;if(p?(Vb&h)===h:(r&h)===h){0!==h&&h===nm&&(Fm=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{h=e;var f=s,m=t,g=n;switch(f.tag){case Mm:if("function"==typeof(f=f.payload)){0;var b=f.call(g,d,m);if(h.mode&pf){H(!0);try{f.call(g,d,m)}finally{H(!1)}}d=b;break e}d=f;break e;case Lm:h.flags=-65537&h.flags|128;case Tm:if("function"==typeof(b=f.payload)){if(f=b.call(g,d,m),h.mode&pf){H(!0);try{b.call(g,d,m)}finally{H(!1)}}0}else f=b;if(null==f)break e;d=Tu({},d,f);break e;case Am:Dm=!0}}null!==(h=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),cy|=o,e.lanes=o,e.memoizedState=d}Pm=null}function Ar(e,t){if("function"!=typeof e)throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+e);e.call(t)}function Lr(e,t){var n=e.shared.hiddenCallbacks;if(null!==n)for(e.shared.hiddenCallbacks=null,e=0;e<n.length;e++)Ar(n[e],t)}function Dr(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ar(n[e],t)}function Or(e,t){var n=sy;L(Rm,n,e),L(Bm,t,e),sy=n|t.baseLanes}function Pr(e){L(Rm,sy,e),L(Bm,Bm.current,e)}function Fr(e){sy=Rm.current,A(Bm),A(Rm)}function Br(){var e=eg;null===tg?tg=[e]:tg.push(e)}function Rr(){var e=eg;if(null!==tg&&(ng++,tg[ng]!==e)){var t=N(qm);if(!Im.has(t)&&(Im.add(t),null!==tg))for(var n=0;n<=ng;n++){var r=tg[n],i=n===ng?e:r;for(r=n+1+". "+r;30>r.length;)r+=" ";r+=i+"\n"}}}function Ir(e){null==e||Gu(e)}function jr(){var e=N(qm);$m.has(e)||$m.add(e)}function zr(){throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.")}function $r(e,t){if(rg)return!1;if(null===t)return!1;e.length,t.length;for(var n=0;n<t.length&&n<e.length;n++)if(!Bp(e[n],t[n]))return!1;return!0}function Hr(e,t,n,r,i,a){Hm=a,qm=t,tg=null!==e?e._debugHookTypes:null,ng=-1,rg=null!==e&&e.type!==t.type,"[object AsyncFunction]"!==Object.prototype.toString.call(n)&&"[object AsyncGeneratorFunction]"!==Object.prototype.toString.call(n)||(a=N(qm),zm.has(a)||zm.add(a)),t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ku.H=null!==e&&null!==e.memoizedState?sg:null!==tg?og:ag,Km=a=(t.mode&pf)!==uf;var o=fg(n,r,i);if(Km=!1,Gm&&(o=Ur(t,n,r,i)),a){H(!0);try{o=Ur(t,n,r,i)}finally{H(!1)}}return qr(e,t),o}function qr(e,t){t._debugHookTypes=tg,null===t.dependencies?null!==Xm&&(t.dependencies={lanes:0,firstContext:null,_debugThenableState:Xm}):t.dependencies._debugThenableState=Xm,Ku.H=ig;var n=null!==Um&&null!==Um.next;if(Hm=0,tg=eg=Vm=Um=qm=null,ng=-1,null!==e&&(e.flags,t.flags),Wm=!1,Zm=0,Xm=null,n)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");null===e||ob||null!==(e=e.dependencies)&&Zn(e)&&(ob=!0),wm?(wm=!1,e=!0):e=!1,e&&(t=N(t)||"Unknown",jm.has(t)||zm.has(t)||jm.add(t))}function Ur(e,t,n,r){qm=e;var i=0;do{if(Gm&&(Xm=null),Zm=0,Gm=!1,i>=Jm)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(i+=1,rg=!1,Vm=Um=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}ng=-1,Ku.H=lg,a=fg(t,n,r)}while(Gm);return a}function Vr(){var e=Ku.H,t=e.useState()[0];return t="function"==typeof t.then?Xr(t):t,e=e.useState()[0],(null!==Um?Um.memoizedState:null)!==e&&(qm.flags|=1024),t}function Wr(){var e=0!==Ym;return Ym=0,e}function Gr(e,t,n){t.updateQueue=e.updateQueue,t.flags=(t.mode&ff)!==uf?-402655237&t.flags:-2053&t.flags,e.lanes&=~n}function Kr(e){if(Wm){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Wm=!1}Hm=0,tg=Vm=Um=qm=null,ng=-1,eg=null,Gm=!1,Zm=Ym=0,Xm=null}function Yr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Vm?qm.memoizedState=Vm=e:Vm=Vm.next=e,Vm}function Zr(){if(null===Um){var e=qm.alternate;e=null!==e?e.memoizedState:null}else e=Um.next;var t=null===Vm?qm.memoizedState:Vm.next;if(null!==t)Vm=t,Um=e;else{if(null===e){if(null===qm.alternate)throw Error("Update hook called on initial render. This is likely a bug in React. Please file an issue.");throw Error("Rendered more hooks than during the previous render.")}e={memoizedState:(Um=e).memoizedState,baseState:Um.baseState,baseQueue:Um.baseQueue,queue:Um.queue,next:null},null===Vm?qm.memoizedState=Vm=e:Vm=Vm.next=e}return Vm}function Xr(e){var t=Zm;return Zm+=1,null===Xm&&(Xm={didWarnAboutUncachedPromise:!1,thenables:[]}),e=xr(Xm,e,t),t=qm,null===(null===Vm?t.memoizedState:Vm.next)&&(t=t.alternate,Ku.H=null!==t&&null!==t.memoizedState?sg:ag),e}function Qr(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Xr(e);if(e.$$typeof===Ru)return Qn(e)}throw Error("An unsupported type was passed to use(): "+String(e))}function Jr(e){var t=null,n=qm.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=qm.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},qm.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index])||rg)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=Uu;else n.length;return t.index++,n}function ei(e,t){return"function"==typeof t?t(e):t}function ti(e,t,n){var r=Yr();if(void 0!==n){var i=n(t);if(Km){H(!0);try{n(t)}finally{H(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=aa.bind(null,qm,e),[r.memoizedState,e]}function ni(e){return ri(Zr(),Um,e)}function ri(e,t,n){var r=e.queue;if(null===r)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}t.baseQueue,t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var s=o=null,l=null,c=t=i.next,u=!1;do{var d=-536870913&c.lane;if(d!==c.lane?(Vb&d)===d:(Hm&d)===d){var h=c.revertLane;if(0===h)null!==l&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===nm&&(u=!0);else{if((Hm&h)===h){c=c.next,h===nm&&(u=!0);continue}d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(s=l=d,o=a):l=l.next=d,qm.lanes|=h,cy|=h}d=c.action,Km&&n(a,d),a=c.hasEagerState?c.eagerState:n(a,d)}else h={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===l?(s=l=h,o=a):l=l.next=h,qm.lanes|=d,cy|=d;c=c.next}while(null!==c&&c!==t);if(null===l?o=a:l.next=s,!Bp(a,e.memoizedState)&&(ob=!0,u&&null!==(n=rm)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=l,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ii(e){var t=Zr(),n=t.queue;if(null===n)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Bp(a,t.memoizedState)||(ob=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ai(e,t,n){var r=qm,i=Yr();if(Tf){if(void 0===n)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");var a=n();gm||a===n()||(gm=!0)}else{if(a=t(),gm||(n=t(),Bp(a,n)||(gm=!0)),null===qb)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");124&Vb||si(r,t,a)}return i.memoizedState=a,n={value:a,getSnapshot:t},i.queue=n,Pi(ci.bind(null,r,n,e),[e]),r.flags|=2048,Ai(Cm|Nm,{destroy:void 0,resource:void 0},li.bind(null,r,n,a,t),null),a}function oi(e,t,n){var r=qm,i=Zr(),a=Tf;if(a){if(void 0===n)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");n=n()}else if(n=t(),!gm){var o=t();Bp(n,o)||(gm=!0)}(o=!Bp((Um||i).memoizedState,n))&&(i.memoizedState=n,ob=!0),i=i.queue;var s=ci.bind(null,r,i,e);if(Oi(2048,Nm,s,[e]),i.getSnapshot!==t||o||null!==Vm&&Vm.memoizedState.tag&Cm){if(r.flags|=2048,Ai(Cm|Nm,{destroy:void 0,resource:void 0},li.bind(null,r,i,n,t),null),null===qb)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");a||124&Hm||si(r,t,n)}return n}function si(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=qm.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},qm.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function li(e,t,n,r){t.value=n,t.getSnapshot=r,ui(t)&&di(e)}function ci(e,t,n){return n(function(){ui(t)&&di(e)})}function ui(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bp(e,n)}catch(r){return!0}}function di(e){var t=hn(e,2);null!==t&&ks(t,e,2)}function hi(e){var t=Yr();if("function"==typeof e){var n=e;if(e=n(),Km){H(!0);try{n()}finally{H(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:e},t}function pi(e){var t=(e=hi(e)).queue,n=oa.bind(null,qm,t);return t.dispatch=n,[e.memoizedState,n]}function fi(e){var t=Yr();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=la.bind(null,qm,!0,n),n.dispatch=t,[e,t]}function mi(e,t){return gi(Zr(),Um,e,t)}function gi(e,t,n,r){return e.baseState=n,ri(e,Um,"function"==typeof r?r:ei)}function bi(e,t){var n=Zr();return null!==Um?gi(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])}function yi(e,t,n,r,i){if(ca(e))throw Error("Cannot update form state while rendering.");if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==Ku.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,xi(t,a)):(a.next=n.next,t.pending=n.next=a)}}function xi(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=Ku.T,o={};Ku.T=o,Ku.T._updatedFibers=new Set;try{var s=n(i,r),l=Ku.S;null!==l&&l(o,s),vi(e,t,s)}catch(c){wi(e,t,c)}finally{Ku.T=a,null===a&&o._updatedFibers&&(e=o._updatedFibers.size,o._updatedFibers.clear())}}else try{vi(e,t,o=n(i,r))}catch(u){wi(e,t,u)}}function vi(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?(n.then(function(n){ki(e,t,n)},function(n){return wi(e,t,n)}),t.isTransition):ki(e,t,n)}function ki(e,t,n){t.status="fulfilled",t.value=n,_i(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,xi(e,n)))}function wi(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,_i(t),t=t.next}while(t!==r)}e.action=null}function _i(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ci(e,t){return t}function Si(e,t){if(Tf){var n=qb.formState;if(null!==n){e:{var r=qm;if(Tf){if(Nf){t:{for(var i=Nf,a=Df;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=mc(i.nextSibling))){i=null;break t}}i=(a=i.data)===Tx||a===Mx?i:null}if(i){Nf=mc(i.nextSibling),r=i.data===Tx;break e}}Bn(r)}r=!1}r&&(t=n[0])}}return(n=Yr()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:t},n.queue=r,n=oa.bind(null,qm,r),r.dispatch=n,r=hi(!1),a=la.bind(null,qm,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Yr()).queue=i,n=yi.bind(null,qm,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ei(e){return Ni(Zr(),Um,e)}function Ni(e,t,n){if(t=ri(e,t,Ci)[0],e=ni(ei)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=Xr(t)}catch(PA){if(PA===bm)throw xm;throw PA}else r=t;var i=(t=Zr()).queue,a=i.dispatch;return n!==t.memoizedState&&(qm.flags|=2048,Ai(Cm|Nm,{destroy:void 0,resource:void 0},Ti.bind(null,i,n),null)),[r,a,e]}function Ti(e,t){e.action=t}function Mi(e){var t=Zr(),n=Um;if(null!==n)return Ni(t,n,e);Zr(),t=t.memoizedState;var r=(n=Zr()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ai(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=qm.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},qm.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Li(e){return e={current:e},Yr().memoizedState=e}function Di(e,t,n,r){var i=Yr();r=void 0===r?null:r,qm.flags|=e,i.memoizedState=Ai(Cm|t,{destroy:void 0,resource:void 0},n,r)}function Oi(e,t,n,r){var i=Zr();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==Um&&null!==r&&$r(r,Um.memoizedState.deps)?i.memoizedState=Ai(t,a,n,r):(qm.flags|=e,i.memoizedState=Ai(Cm|t,a,n,r))}function Pi(e,t){(qm.mode&ff)!==uf&&(qm.mode&mf)===uf?Di(276826112,Nm,e,t):Di(8390656,Nm,e,t)}function Fi(e,t){var n=4194308;return(qm.mode&ff)!==uf&&(n|=134217728),Di(n,Em,e,t)}function Bi(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return t.hasOwnProperty("current"),e=e(),t.current=e,function(){t.current=null}}function Ri(e,t,n){n=null!=n?n.concat([e]):null;var r=4194308;(qm.mode&ff)!==uf&&(r|=134217728),Di(r,Em,Bi.bind(null,t,e),n)}function Ii(e,t,n){n=null!=n?n.concat([e]):null,Oi(4,Em,Bi.bind(null,t,e),n)}function ji(e,t){return Yr().memoizedState=[e,void 0===t?null:t],e}function zi(e,t){var n=Zr();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&$r(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $i(e,t){var n=Yr();t=void 0===t?null:t;var r=e();if(Km){H(!0);try{e()}finally{H(!1)}}return n.memoizedState=[r,t],r}function Hi(e,t){var n=Zr();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&$r(t,r[1]))return r[0];if(r=e(),Km){H(!0);try{e()}finally{H(!1)}}return n.memoizedState=[r,t],r}function qi(e,t){return Wi(Yr(),e,t)}function Ui(e,t){return Gi(Zr(),Um.memoizedState,e,t)}function Vi(e,t){var n=Zr();return null===Um?Wi(n,e,t):Gi(n,Um.memoizedState,e,t)}function Wi(e,t,n){return void 0===n||1073741824&Hm?e.memoizedState=t:(e.memoizedState=n,e=vs(),qm.lanes|=e,cy|=e,n)}function Gi(e,t,n,r){return Bp(n,t)?n:null!==Bm.current?(e=Wi(e,n,r),Bp(e,t)||(ob=!0),e):42&Hm?(e=vs(),qm.lanes|=e,cy|=e,t):(ob=!0,e.memoizedState=n)}function Ki(e,t,n,r,i){var a=Yu.p;Yu.p=0!==a&&a<Md?a:Md;var o,s,l,c=Ku.T,u={};Ku.T=u,la(e,!1,t,n),u._updatedFibers=new Set;try{var d=i(),h=Ku.S;if(null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then){var p=(o=r,s=[],l={status:"pending",value:null,reason:null,then:function(e){s.push(e)}},d.then(function(){l.status="fulfilled",l.value=o;for(var e=0;e<s.length;e++)(0,s[e])(o)},function(e){for(l.status="rejected",l.reason=e,e=0;e<s.length;e++)(0,s[e])(void 0)}),l);sa(e,t,p,xs(e))}else sa(e,t,r,xs(e))}catch(f){sa(e,t,{then:function(){},status:"rejected",reason:f},xs(e))}finally{Yu.p=a,Ku.T=c,null===c&&u._updatedFibers&&(e=u._updatedFibers.size,u._updatedFibers.clear())}}function Yi(e,t,n,r){if(5!==e.tag)throw Error("Expected the form instance to be a HostComponent. This is a bug in React.");var i=Zi(e).queue;Ki(e,i,t,pv,null===n?l:function(){return Xi(e),n(r)})}function Zi(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:pv,baseState:pv,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:pv},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Xi(e){Ku.T,sa(e,Zi(e).next.queue,{},xs(e))}function Qi(){var e=hi(!1);return e=Ki.bind(null,qm,e.queue,!0,!1),Yr().memoizedState=e,[!1,e]}function Ji(){var e=ni(ei)[0],t=Zr().memoizedState;return["boolean"==typeof e?e:Xr(e),t]}function ea(){var e=ii(ei)[0],t=Zr().memoizedState;return["boolean"==typeof e?e:Xr(e),t]}function ta(){return Qn(fv)}function na(){var e=Yr(),t=qb.identifierPrefix;if(Tf){var n=Sf;t="«"+t+"R"+(n=(Cf&~(1<<32-_d(Cf)-1)).toString(32)+n),0<(n=Ym++)&&(t+="H"+n.toString(32)),t+="»"}else t="«"+t+"r"+(n=Qm++).toString(32)+"»";return e.memoizedState=t}function ra(){return Yr().memoizedState=ia.bind(null,qm)}function ia(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 24:case 3:var r=xs(n),i=Sr(n,e=Cr(r),r);return null!==i&&(ks(i,n,r),Er(i,n,r)),n=tr(),void(e.payload={cache:n})}n=n.return}}function aa(e,t,n){var r=arguments;r[3];var i={lane:r=xs(e),revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};ca(e)?ua(t,i):null!==(i=dn(e,t,i,r))&&(ks(i,e,r),da(i,t,r)),Y(e,r)}function oa(e,t,n){var r=arguments;r[3],sa(e,t,n,r=xs(e)),Y(e,r)}function sa(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ca(e))ua(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer)){var o=Ku.H;Ku.H=ug;try{var s=t.lastRenderedState,l=a(s,n);if(i.hasEagerState=!0,i.eagerState=l,Bp(l,s))return un(e,t,i,0),null===qb&&cn(),!1}catch(c){}finally{Ku.H=o}}if(null!==(n=dn(e,t,i,r)))return ks(n,e,r),da(n,t,r),!0}return!1}function la(e,t,n,r){if(Ku.T,r={lane:2,revertLane:bl(),action:r,hasEagerState:!1,eagerState:null,next:null},ca(e)){if(t)throw Error("Cannot update optimistic state while rendering.")}else null!==(t=dn(e,n,r,2))&&ks(t,e,2);Y(e,2)}function ca(e){var t=e.alternate;return e===qm||null!==t&&t===qm}function ua(e,t){Gm=Wm=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function da(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,oe(e,n)}}function ha(e){var t=Og;return null!=e&&(Og=null===t?e:t.concat(e)),t}function pa(e,t,n){for(var r=Object.keys(e.props),i=0;i<r.length;i++){var a=r[i];if("children"!==a&&"key"!==a){null===t&&((t=Sn(e,n.mode,0))._debugInfo=Og,t.return=n),Pe(t,function(e){},a);break}}}function fa(e){var t=Dg;return Dg+=1,null===Lg&&(Lg={didWarnAboutUncachedPromise:!1,thenables:[]}),xr(Lg,e,t)}function ma(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ga(e,t){if(t.$$typeof===Mu)throw Error('A React Element from an older version of React was rendered. This is not supported. It can happen if:\n- Multiple copies of the "react" package is used.\n- A library pre-bundled an old copy of "react" or "react/jsx-runtime".\n- A compiler tries to "inline" JSX instead of using the runtime.');throw e=Object.prototype.toString.call(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}function ba(e,t){var n=N(e)||"Component";Fg[n]||(Fg[n]=!0,t=t.displayName||t.name||"Component",e.tag)}function ya(e,t){var n=N(e)||"Component";Bg[n]||(Bg[n]=!0,t=String(t),e.tag)}function xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=wn(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Nn(n,e.mode,r)).return=e,t._debugOwner=e,t._debugTask=e._debugTask,t._debugInfo=Og,t):((t=i(t,n)).return=e,t._debugInfo=Og,t)}function c(e,t,n,r){var a=n.type;return a===Du?(pa(n,t=h(e,t,n.props.children,r,n.key),e),t):null!==t&&(t.elementType===a||bn(t,n)||"object"==typeof a&&null!==a&&a.$$typeof===Hu&&Ag(a)===t.type)?(ma(t=i(t,n.props),n),t.return=e,t._debugOwner=n._owner,t._debugInfo=Og,t):(ma(t=Sn(n,e.mode,r),n),t.return=e,t._debugInfo=Og,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Tn(n,e.mode,r)).return=e,t._debugInfo=Og,t):((t=i(t,n.children||[])).return=e,t._debugInfo=Og,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=En(n,e.mode,r,a)).return=e,t._debugOwner=e,t._debugTask=e._debugTask,t._debugInfo=Og,t):((t=i(t,n)).return=e,t._debugInfo=Og,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Nn(""+t,e.mode,n)).return=e,t._debugOwner=e,t._debugTask=e._debugTask,t._debugInfo=Og,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Au:return ma(n=Sn(t,e.mode,n),t),n.return=e,e=ha(t._debugInfo),n._debugInfo=Og,Og=e,n;case Lu:return(t=Tn(t,e.mode,n)).return=e,t._debugInfo=Og,t;case Hu:var r=ha(t._debugInfo);return e=p(e,t=Ag(t),n),Og=r,e}if(Gu(t)||w(t))return(n=En(t,e.mode,n,null)).return=e,n._debugOwner=e,n._debugTask=e._debugTask,e=ha(t._debugInfo),n._debugInfo=Og,Og=e,n;if("function"==typeof t.then)return r=ha(t._debugInfo),e=p(e,fa(t),n),Og=r,e;if(t.$$typeof===Ru)return p(e,Jn(e,t),n);ga(e,t)}return"function"==typeof t&&ba(e,t),"symbol"==typeof t&&ya(e,t),null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Au:return n.key===i?(i=ha(n._debugInfo),e=c(e,t,n,r),Og=i,e):null;case Lu:return n.key===i?u(e,t,n,r):null;case Hu:return i=ha(n._debugInfo),e=f(e,t,n=Ag(n),r),Og=i,e}if(Gu(n)||w(n))return null!==i?null:(i=ha(n._debugInfo),e=h(e,t,n,r,null),Og=i,e);if("function"==typeof n.then)return i=ha(n._debugInfo),e=f(e,t,fa(n),r),Og=i,e;if(n.$$typeof===Ru)return f(e,t,Jn(e,n),r);ga(e,n)}return"function"==typeof n&&ba(e,n),"symbol"==typeof n&&ya(e,n),null}function m(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Au:return n=e.get(null===r.key?n:r.key)||null,e=ha(r._debugInfo),t=c(t,n,r,i),Og=e,t;case Lu:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case Hu:var a=ha(r._debugInfo);return t=m(e,t,n,r=Ag(r),i),Og=a,t}if(Gu(r)||w(r))return n=e.get(n)||null,e=ha(r._debugInfo),t=h(t,n,r,i,null),Og=e,t;if("function"==typeof r.then)return a=ha(r._debugInfo),t=m(e,t,n,fa(r),i),Og=a,t;if(r.$$typeof===Ru)return m(e,t,n,Jn(t,r),i);ga(t,r)}return"function"==typeof r&&ba(t,r),"symbol"==typeof r&&ya(t,r),null}function g(e,t,n,r){if("object"!=typeof n||null===n)return r;switch(n.$$typeof){case Au:case Lu:s(e,t,n);var i=n.key;if("string"!=typeof i)break;if(null===r){(r=new Set).add(i);break}if(!r.has(i)){r.add(i);break}Pe(t,function(){});break;case Hu:g(e,t,n=Ag(n),r)}return r}function b(s,l,c,u){if("object"==typeof c&&null!==c&&c.type===Du&&null===c.key&&(pa(c,null,s),c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case Au:var d=ha(c._debugInfo);e:{for(var h=c.key;null!==l;){if(l.key===h){if((h=c.type)===Du){if(7===l.tag){n(s,l.sibling),(u=i(l,c.props.children)).return=s,u._debugOwner=c._owner,u._debugInfo=Og,pa(c,u,s),s=u;break e}}else if(l.elementType===h||bn(l,c)||"object"==typeof h&&null!==h&&h.$$typeof===Hu&&Ag(h)===l.type){n(s,l.sibling),ma(u=i(l,c.props),c),u.return=s,u._debugOwner=c._owner,u._debugInfo=Og,s=u;break e}n(s,l);break}t(s,l),l=l.sibling}c.type===Du?((u=En(c.props.children,s.mode,u,c.key)).return=s,u._debugOwner=s,u._debugTask=s._debugTask,u._debugInfo=Og,pa(c,u,s),s=u):(ma(u=Sn(c,s.mode,u),c),u.return=s,u._debugInfo=Og,s=u)}return s=o(s),Og=d,s;case Lu:e:{for(c=(d=c).key;null!==l;){if(l.key===c){if(4===l.tag&&l.stateNode.containerInfo===d.containerInfo&&l.stateNode.implementation===d.implementation){n(s,l.sibling),(u=i(l,d.children||[])).return=s,s=u;break e}n(s,l);break}t(s,l),l=l.sibling}(u=Tn(d,s.mode,u)).return=s,s=u}return o(s);case Hu:return d=ha(c._debugInfo),s=b(s,l,c=Ag(c),u),Og=d,s}if(Gu(c))return d=ha(c._debugInfo),s=function(i,o,s,l){for(var c=null,u=null,d=null,h=o,b=o=0,y=null;null!==h&&b<s.length;b++){h.index>b?(y=h,h=null):y=h.sibling;var x=f(i,h,s[b],l);if(null===x){null===h&&(h=y);break}c=g(i,x,s[b],c),e&&h&&null===x.alternate&&t(i,h),o=a(x,o,b),null===d?u=x:d.sibling=x,d=x,h=y}if(b===s.length)return n(i,h),Tf&&Mn(i,b),u;if(null===h){for(;b<s.length;b++)null!==(h=p(i,s[b],l))&&(c=g(i,h,s[b],c),o=a(h,o,b),null===d?u=h:d.sibling=h,d=h);return Tf&&Mn(i,b),u}for(h=r(h);b<s.length;b++)null!==(y=m(h,i,b,s[b],l))&&(c=g(i,y,s[b],c),e&&null!==y.alternate&&h.delete(null===y.key?b:y.key),o=a(y,o,b),null===d?u=y:d.sibling=y,d=y);return e&&h.forEach(function(e){return t(i,e)}),Tf&&Mn(i,b),u}(s,l,c,u),Og=d,s;if(w(c)){if(d=ha(c._debugInfo),"function"!=typeof(h=w(c)))throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");var y=h.call(c);return y===c?0===s.tag&&"[object GeneratorFunction]"===Object.prototype.toString.call(s.type)&&"[object Generator]"===Object.prototype.toString.call(y)||!0:c.entries!==h||hg||(hg=!0),s=function(i,o,s,l){if(null==s)throw Error("An iterable object provided no iterator.");for(var c=null,u=null,d=o,h=o=0,b=null,y=null,x=s.next();null!==d&&!x.done;h++,x=s.next()){d.index>h?(b=d,d=null):b=d.sibling;var v=f(i,d,x.value,l);if(null===v){null===d&&(d=b);break}y=g(i,v,x.value,y),e&&d&&null===v.alternate&&t(i,d),o=a(v,o,h),null===u?c=v:u.sibling=v,u=v,d=b}if(x.done)return n(i,d),Tf&&Mn(i,h),c;if(null===d){for(;!x.done;h++,x=s.next())null!==(d=p(i,x.value,l))&&(y=g(i,d,x.value,y),o=a(d,o,h),null===u?c=d:u.sibling=d,u=d);return Tf&&Mn(i,h),c}for(d=r(d);!x.done;h++,x=s.next())null!==(b=m(d,i,h,x.value,l))&&(y=g(i,b,x.value,y),e&&null!==b.alternate&&d.delete(null===b.key?h:b.key),o=a(b,o,h),null===u?c=b:u.sibling=b,u=b);return e&&d.forEach(function(e){return t(i,e)}),Tf&&Mn(i,h),c}(s,l,y,u),Og=d,s}if("function"==typeof c.then)return d=ha(c._debugInfo),s=b(s,l,fa(c),u),Og=d,s;if(c.$$typeof===Ru)return b(s,l,Jn(s,c),u);ga(s,c)}return"string"==typeof c&&""!==c||"number"==typeof c||"bigint"==typeof c?(d=""+c,null!==l&&6===l.tag?(n(s,l.sibling),(u=i(l,d)).return=s,s=u):(n(s,l),(u=Nn(d,s.mode,u)).return=s,u._debugOwner=s,u._debugTask=s._debugTask,u._debugInfo=Og,s=u),o(s)):("function"==typeof c&&ba(s,c),"symbol"==typeof c&&ya(s,c),n(s,l))}return function(e,t,n,r){var i=Og;Og=null;try{Dg=0;var a=b(e,t,n,r);return Lg=null,a}catch(PA){if(PA===bm||PA===xm)throw PA;var o=d(29,PA,null,e.mode);o.lanes=r,o.return=e;var s=o._debugInfo=Og;if(o._debugOwner=e._debugOwner,o._debugTask=e._debugTask,null!=s)for(var l=s.length-1;0<=l;l--)if("string"==typeof s[l].stack){o._debugOwner=s[l],o._debugTask=s[l].debugTask;break}return o}finally{Og=i}}}function va(e){var t=e.alternate;L(qg,qg.current&$g,e),L(jg,e,e),null===zg&&(null===t||null!==Bm.current||null!==t.memoizedState)&&(zg=e)}function ka(e){if(22===e.tag){if(L(qg,qg.current,e),L(jg,e,e),null===zg){var t=e.alternate;null!==t&&null!==t.memoizedState&&(zg=e)}}else wa(e)}function wa(e){L(qg,qg.current,e),L(jg,jg.current,e)}function _a(e){A(jg),zg===e&&(zg=null),A(qg)}function Ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===_x||fc(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Sa(e){if(null!==e&&"function"!=typeof e){var t=String(e);eb.has(t)||eb.add(t)}}function Ea(e,t,n,r){var i=e.memoizedState,a=n(r,i);if(e.mode&pf){H(!0);try{a=n(r,i)}finally{H(!1)}}void 0===a&&(t=C(t)||"Component",Zg.has(t)||Zg.add(t)),i=null==a?i:Tu({},i,a),e.memoizedState=i,0===e.lanes&&(e.updateQueue.baseState=i)}function Na(e,t,n,r,i,a,o){var s=e.stateNode;if("function"==typeof s.shouldComponentUpdate){if(n=s.shouldComponentUpdate(r,a,o),e.mode&pf){H(!0);try{n=s.shouldComponentUpdate(r,a,o)}finally{H(!1)}}return n}return!t.prototype||!t.prototype.isPureReactComponent||(!Xt(n,r)||!Xt(i,a))}function Ta(e,t,n,r){var i=t.state;"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==i&&(e=N(e)||"Component",Vg.has(e)||Vg.add(e),tb.enqueueReplaceState(t,t.state,null))}function Ma(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=Tu({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Aa(e){nb(e)}function La(e){var t=rb?"The above error occurred in the <"+rb+"> component.":"The above error occurred in one of your React components.",n="React will try to recreate this component tree from scratch using the error boundary you provided, "+(ib||"Anonymous")+".";if("object"==typeof e&&null!==e&&"string"==typeof e.environmentName){var r=e.environmentName;"string"==typeof(e=["%o\n\n%s\n\n%s\n",e,t,n].slice(0))[0]?e.splice(0,1,mv+e[0],gv,yv+r+yv,bv):e.splice(0,0,mv,gv,yv+r+yv,bv),e.unshift(console),(r=xv.apply(console.error,e))()}}function Da(e){nb(e)}function Oa(e,t){try{rb=t.source?N(t.source):null,ib=null;var n=t.value;if(null!==Ku.actQueue)Ku.thrownErrors.push(n);else(0,e.onUncaughtError)(n,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Pa(e,t,n){try{rb=n.source?N(n.source):null,ib=N(t),(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Fa(e,t,n){return(n=Cr(n)).tag=Lm,n.payload={element:null},n.callback=function(){Pe(t.source,Oa,e,t)},n}function Ba(e){return(e=Cr(e)).tag=Lm,e}function Ra(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){yn(n),Pe(r.source,Pa,t,n,r)}}var o=n.stateNode;null!==o&&"function"==typeof o.componentDidCatch&&(e.callback=function(){yn(n),Pe(r.source,Pa,t,n,r),"function"!=typeof i&&(null===wy?wy=new Set([this]):wy.add(this)),wg(this,r),"function"==typeof i||n.lanes})}function Ia(e,t,n,r){t.child=null===e?Ig(t,null,n,r):Rg(t,e.child,n,r)}function ja(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return Xn(t),V(t),r=Hr(e,t,n,o,a,i),s=Wr(),W(),null===e||ob?(Tf&&s&&Ln(t),t.flags|=1,Ia(e,t,r,i),t.child):(Gr(e,t,i),oo(e,t,i))}function za(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||kn(a)||void 0!==a.defaultProps||null!==n.compare?((e=Cn(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(n=mn(a),t.tag=15,t.type=n,Ya(t,a),$a(e,t,n,r,i))}if(a=e.child,!so(e,i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Xt)(o,r)&&e.ref===t.ref)return oo(e,t,i)}return t.flags|=1,(e=wn(a,r)).ref=t.ref,e.return=t,t.child=e}function $a(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Xt(a,r)&&e.ref===t.ref&&t.type===e.type){if(ob=!1,t.pendingProps=r=a,!so(e,i))return t.lanes=e.lanes,oo(e,t,i);131072&e.flags&&(ob=!0)}}return Va(e,t,n,r,i)}function Ha(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return qa(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,qa(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&mr(t,null!==a?a.cachePool:null),null!==a?Or(t,a):Pr(t),ka(t)}else null!==a?(mr(t,a.cachePool),Or(t,a),wa(t),t.memoizedState=null):(null!==e&&mr(t,null),Pr(t),wa(t));return Ia(e,t,i,n),t.child}function qa(e,t,n,r){var i=fr();return i=null===i?null:{parent:Wf._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&mr(t,null),Pr(t),ka(t),null!==e&&Yn(e,t,r,!0),null}function Ua(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error("Expected ref to be a function, an object returned by React.createRef(), or undefined/null.");null!==e&&e.ref===n||(t.flags|=4194816)}}function Va(e,t,n,r,i){if(n.prototype&&"function"==typeof n.prototype.render){var a=C(n)||"Unknown";sb[a]||(sb[a]=!0)}return t.mode&pf&&om.recordLegacyContextWarning(t,null),null===e&&(Ya(t,t.type),n.contextTypes&&(a=C(n)||"Unknown",cb[a]||(cb[a]=!0))),Xn(t),V(t),n=Hr(e,t,n,r,void 0,i),r=Wr(),W(),null===e||ob?(Tf&&r&&Ln(t),t.flags|=1,Ia(e,t,n,i),t.child):(Gr(e,t,i),oo(e,t,i))}function Wa(e,t,n,r,i,a){return Xn(t),V(t),ng=-1,rg=null!==e&&e.type!==t.type,t.updateQueue=null,n=Ur(t,r,n,i),qr(e,t),r=Wr(),W(),null===e||ob?(Tf&&r&&Ln(t),t.flags|=1,Ia(e,t,n,a),t.child):(Gr(e,t,a),oo(e,t,a))}function Ga(e,t,n,r,i){switch(o(t)){case!1:var a=t.stateNode,s=new t.type(t.memoizedProps,a.context).state;a.updater.enqueueSetState(a,s,null);break;case!0:t.flags|=128,t.flags|=65536,a=Error("Simulated error coming from DevTools");var l=i&-i;if(t.lanes|=l,null===(s=qb))throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Ra(l=Ba(l),s,t,ln(a,t)),Nr(t,l)}if(Xn(t),null===t.stateNode){if(s=sf,a=n.contextType,"contextType"in n&&null!==a&&(void 0===a||a.$$typeof!==Ru)&&!Jg.has(n)&&(Jg.add(n),l=void 0===a?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":"object"!=typeof a?" However, it is set to a "+typeof a+".":a.$$typeof===Bu?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(a).join(", ")+"}."),"object"==typeof a&&null!==a&&(s=Qn(a)),a=new n(r,s),t.mode&pf){H(!0);try{a=new n(r,s)}finally{H(!1)}}if(s=t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=tb,t.stateNode=a,a._reactInternals=t,a._reactInternalInstance=Ug,"function"==typeof n.getDerivedStateFromProps&&null===s&&(s=C(n)||"Component",Wg.has(s)||Wg.add(s)),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate){var c=l=s=null;if("function"==typeof a.componentWillMount&&!0!==a.componentWillMount.__suppressDeprecationWarning?s="componentWillMount":"function"==typeof a.UNSAFE_componentWillMount&&(s="UNSAFE_componentWillMount"),"function"==typeof a.componentWillReceiveProps&&!0!==a.componentWillReceiveProps.__suppressDeprecationWarning?l="componentWillReceiveProps":"function"==typeof a.UNSAFE_componentWillReceiveProps&&(l="UNSAFE_componentWillReceiveProps"),"function"==typeof a.componentWillUpdate&&!0!==a.componentWillUpdate.__suppressDeprecationWarning?c="componentWillUpdate":"function"==typeof a.UNSAFE_componentWillUpdate&&(c="UNSAFE_componentWillUpdate"),null!==s||null!==l||null!==c){a=C(n)||"Component";var u="function"==typeof n.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";Kg.has(a)||Kg.add(a)}}a=t.stateNode,s=C(n)||"Component",a.render||n.prototype&&n.prototype.render,!a.getInitialState||a.getInitialState.isReactClassApproved||a.state,a.getDefaultProps&&a.getDefaultProps.isReactClassApproved,a.contextType,n.childContextTypes&&!Qg.has(n)&&Qg.add(n),n.contextTypes&&!Xg.has(n)&&Xg.add(n),a.componentShouldUpdate,n.prototype&&n.prototype.isPureReactComponent&&a.shouldComponentUpdate,a.componentDidUnmount,a.componentDidReceiveProps,a.componentWillRecieveProps,a.UNSAFE_componentWillRecieveProps,l=a.props!==r,a.props,a.defaultProps,"function"!=typeof a.getSnapshotBeforeUpdate||"function"==typeof a.componentDidUpdate||Gg.has(n)||Gg.add(n),a.getDerivedStateFromProps,a.getDerivedStateFromError,n.getSnapshotBeforeUpdate,(l=a.state)&&("object"!=typeof l||Gu(l)),"function"==typeof a.getChildContext&&n.childContextTypes,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},wr(t),s=n.contextType,a.context="object"==typeof s&&null!==s?Qn(s):sf,a.state===r&&(s=C(n)||"Component",Yg.has(s)||Yg.add(s)),t.mode&pf&&om.recordLegacyContextWarning(t,a),om.recordUnsafeLifecycleWarnings(t,a),a.state=t.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(Ea(t,n,s,r),a.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(s=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&tb.enqueueReplaceState(a,a.state,null),Mr(t,r,a,i),Tr(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),(t.mode&ff)!==uf&&(t.flags|=134217728),a=!0}else if(null===e){a=t.stateNode;var d=t.memoizedProps;l=Ma(n,d),a.props=l;var h=a.context;c=n.contextType,s=sf,"object"==typeof c&&null!==c&&(s=Qn(c)),c="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate,d=t.pendingProps!==d,c||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(d||h!==s)&&Ta(t,a,r,s),Dm=!1;var p=t.memoizedState;a.state=p,Mr(t,r,a,i),Tr(),h=t.memoizedState,d||p!==h||Dm?("function"==typeof u&&(Ea(t,n,u,r),h=t.memoizedState),(l=Dm||Na(t,n,l,r,p,h,s))?(c||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308),(t.mode&ff)!==uf&&(t.flags|=134217728)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),(t.mode&ff)!==uf&&(t.flags|=134217728),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=s,a=l):("function"==typeof a.componentDidMount&&(t.flags|=4194308),(t.mode&ff)!==uf&&(t.flags|=134217728),a=!1)}else{a=t.stateNode,_r(e,t),c=Ma(n,s=t.memoizedProps),a.props=c,u=t.pendingProps,p=a.context,h=n.contextType,l=sf,"object"==typeof h&&null!==h&&(l=Qn(h)),(h="function"==typeof(d=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==u||p!==l)&&Ta(t,a,r,l),Dm=!1,p=t.memoizedState,a.state=p,Mr(t,r,a,i),Tr();var f=t.memoizedState;s!==u||p!==f||Dm||null!==e&&null!==e.dependencies&&Zn(e.dependencies)?("function"==typeof d&&(Ea(t,n,d,r),f=t.memoizedState),(c=Dm||Na(t,n,c,r,p,f,l)||null!==e&&null!==e.dependencies&&Zn(e.dependencies))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,a=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),a=!1)}if(l=a,Ua(e,t),s=!!(128&t.flags),l||s){if(l=t.stateNode,Fe(t),s&&"function"!=typeof n.getDerivedStateFromError)n=null,Zf=-1;else{if(V(t),n=gg(l),t.mode&pf){H(!0);try{gg(l)}finally{H(!1)}}W()}t.flags|=1,null!==e&&s?(t.child=Rg(t,e.child,null,i),t.child=Rg(t,null,n,i)):Ia(e,t,n,i),t.memoizedState=l.state,e=t.child}else e=oo(e,t,i);return i=t.stateNode,a&&i.props!==r&&(db=!0),e}function Ka(e,t,n,r){return zn(),t.flags|=256,Ia(e,t,n,r),t.child}function Ya(e,t){t&&t.childContextTypes,"function"==typeof t.getDerivedStateFromProps&&(e=C(t)||"Unknown",ub[e]||(ub[e]=!0)),"object"==typeof t.contextType&&null!==t.contextType&&(t=C(t)||"Unknown",lb[t]||(lb[t]=!0))}function Za(e){return{baseLanes:e,cachePool:gr()}}function Xa(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=hy),e}function Qa(e,t,n){var r,i=t.pendingProps;a(t)&&(t.flags|=128);var o=!1,s=!!(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(qg.current&Hg)),r&&(o=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(Tf){if(o?va(t):wa(t),Tf){var l,c=Nf;if(!(l=!c)){e:{var u=c;for(l=Df;8!==u.nodeType;){if(!l){l=null;break e}if(null===(u=mc(u.nextSibling))){l=null;break e}}l=u}null!==l?(t.memoizedState={dehydrated:l,treeContext:null!==_f?{id:Cf,overflow:Sf}:null,retryLane:536870912,hydrationErrors:null},(u=d(18,null,null,uf)).stateNode=l,u.return=t,t.child=u,Ef=t,Nf=null,l=!0):l=!1,l=!l}l&&(Fn(t,c),Bn(t))}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return fc(c)?t.lanes=32:t.lanes=536870912,null;_a(t)}return c=i.children,i=i.fallback,o?(wa(t),c=eo({mode:"hidden",children:c},o=t.mode),i=En(i,o,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(o=t.child).memoizedState=Za(n),o.childLanes=Xa(e,r,n),t.memoizedState=fb,i):(va(t),Ja(t,c))}var h=e.memoizedState;if(null!==h&&null!==(c=h.dehydrated)){if(s)256&t.flags?(va(t),t.flags&=-257,t=to(e,t,n)):null!==t.memoizedState?(wa(t),t.child=e.child,t.flags|=128,t=null):(wa(t),o=i.fallback,c=t.mode,i=eo({mode:"visible",children:i.children},c),(o=En(o,c,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,Rg(t,e.child,null,n),(i=t.child).memoizedState=Za(n),i.childLanes=Xa(e,r,n),t.memoizedState=fb,t=o);else if(va(t),fc(c)){if(r=c.nextSibling&&c.nextSibling.dataset){l=r.dgst;var p=r.msg;u=r.stck;var f=r.cstck}r=l,i=u,l=o=f,(o=(c=p)?Error(c):Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.")).stack=i||"",o.digest=r,i={value:o,source:null,stack:r=void 0===l?null:l},"string"==typeof r&&ef.set(o,i),Hn(i),t=to(e,t,n)}else if(ob||Yn(e,t,n,!1),r=0!==(n&e.childLanes),ob||r){if(null!==(r=qb)&&(0!==(i=0!==((i=42&(i=n&-n)?1:se(i))&(r.suspendedLanes|n))?0:i)&&i!==h.retryLane))throw h.retryLane=i,hn(e,i),ks(r,e,i),ab;c.data===_x||Ds(),t=to(e,t,n)}else c.data===_x?(t.flags|=192,t.child=e.child,t=null):(e=h.treeContext,Nf=mc(c.nextSibling),Ef=t,Tf=!0,Lf=null,Mf=!1,Af=null,Df=!1,null!==e&&(kf[wf++]=Cf,kf[wf++]=Sf,kf[wf++]=_f,Cf=e.id,Sf=e.overflow,_f=t),(t=Ja(t,i.children)).flags|=4096);return t}return o?(wa(t),o=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=wn(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?o=wn(u,o):(o=En(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(c=e.child.memoizedState)?c=Za(n):(null!==(l=c.cachePool)?(u=Wf._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=gr(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=Xa(e,r,n),t.memoizedState=fb,i):(va(t),e=(n=e.child).sibling,(n=wn(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ja(e,t){return(t=eo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function eo(e,t){return(e=d(22,e,null,t)).lanes=0,e.stateNode={_visibility:tf,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function to(e,t,n){return Rg(t,e.child,null,n),(e=Ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function no(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Gn(e.return,t,n)}function ro(e,t){var n=Gu(e);return e=!n&&"function"==typeof w(e),!n&&!e||(n=n?"array":"iterable",!1)}function io(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ao(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children,void 0===i||"forwards"===i||"backwards"===i||"together"===i||hb[i]||(hb[i]=!0,"string"==typeof i&&i.toLowerCase()),void 0===a||pb[a]||("collapsed"!==a&&"hidden"!==a||"forwards"!==i&&"backwards"!==i)&&(pb[a]=!0);e:if(("forwards"===i||"backwards"===i)&&null!=r&&!1!==r)if(Gu(r)){for(var o=0;o<r.length;o++)if(!ro(r[o]))break e}else if(o=w(r),"function"==typeof o&&(o=o.call(r)))for(var s=o.next();!s.done;s=o.next()){if(!ro(s.value))break e;0}if(Ia(e,t,r,n),0!==((r=qg.current)&Hg))r=r&$g|Hg,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&no(e,n,t);else if(19===e.tag)no(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=$g}switch(L(qg,r,t),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),io(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}io(t,!0,n,null,a);break;case"together":io(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Zf=-1,cy|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Yn(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error("Resuming work not yet implemented.");if(null!==t.child){for(n=wn(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=wn(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function so(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Zn(e))}function lo(e,t,n){if(t._debugNeedsRemount&&null!==e){(n=Cn(t.type,t.key,t.pendingProps,t._debugOwner||null,t.mode,t.lanes))._debugStack=t._debugStack,n._debugTask=t._debugTask;var r=t.return;if(null===r)throw Error("Cannot swap the root fiber.");if(e.alternate=null,t.alternate=null,n.index=t.index,n.sibling=t.sibling,n.return=t.return,n.ref=t.ref,n._debugInfo=t._debugInfo,t===r.child)r.child=n;else{var i=r.child;if(null===i)throw Error("Expected parent to have a child.");for(;i.sibling!==t;)if(null===(i=i.sibling))throw Error("Expected to find the previous sibling.");i.sibling=n}return null===(t=r.deletions)?(r.deletions=[e],r.flags|=16):t.push(e),n.flags|=2,n}if(null!==e)if(e.memoizedProps!==t.pendingProps||t.type!==e.type)ob=!0;else{if(!(so(e,n)||128&t.flags))return ob=!1,function(e,t,n){switch(t.tag){case 3:D(t,t.stateNode.containerInfo),Vn(t,Wf,e.memoizedState.cache),zn();break;case 27:case 5:F(t);break;case 4:D(t,t.stateNode.containerInfo);break;case 10:Vn(t,t.type,t.memoizedProps.value);break;case 12:0!==(n&t.childLanes)&&(t.flags|=4),t.flags|=2048;var r=t.stateNode;r.effectDuration=-0,r.passiveEffectDuration=-0;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(va(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Qa(e,t,n):(va(t),null!==(e=oo(e,t,n))?e.sibling:null);va(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Yn(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return ao(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),L(qg,qg.current,t),r)break;return null;case 22:case 23:return t.lanes=0,Ha(e,t,n);case 24:Vn(t,Wf,e.memoizedState.cache)}return oo(e,t,n)}(e,t,n);ob=!!(131072&e.flags)}else ob=!1,(r=Tf)&&(r=!!(1048576&t.flags)),r&&(r=t.index,An(t,vf,r));switch(t.lanes=0,t.tag){case 16:e:{if(r=t.pendingProps,e=Ag(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){if((i=e.$$typeof)===Iu){t.tag=11,t.type=e=gn(e),t=ja(null,t,e,r,n);break e}if(i===$u){t.tag=14,t=za(null,t,e,r,n);break e}}throw t="",null!==e&&"object"==typeof e&&e.$$typeof===Hu&&(t=" Did you wrap a component in React.lazy() more than once?"),e=C(e)||e,Error("Element type is invalid. Received a promise that resolves to: "+e+". Lazy element type must resolve to a class or function."+t)}kn(e)?(r=Ma(e,r),t.tag=1,t.type=e=mn(e),t=Ga(null,t,e,r,n)):(t.tag=0,Ya(t,e),t.type=e=mn(e),t=Va(null,t,e,r,n))}return t;case 0:return Va(e,t,t.type,t.pendingProps,n);case 1:return Ga(e,t,r=t.type,i=Ma(r,t.pendingProps),n);case 3:e:{if(D(t,t.stateNode.containerInfo),null===e)throw Error("Should have a current fiber. This is a bug in React.");r=t.pendingProps;var a=t.memoizedState;i=a.element,_r(e,t),Mr(t,r,null,n);var o=t.memoizedState;if(r=o.cache,Vn(t,Wf,r),r!==a.cache&&Kn(t,[Wf],n,!0),Tr(),r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ka(e,t,r,n);break e}if(r!==i){Hn(i=ln(Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),t)),t=Ka(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(Nf=mc(e.firstChild),Ef=t,Tf=!0,Lf=null,Mf=!1,Af=null,Df=!0,e=Ig(t,null,r,n),t.child=e;e;)e.flags=-3&e.flags|4096,e=e.sibling}else{if(zn(),r===i){t=oo(e,t,n);break e}Ia(e,t,r,n)}t=t.child}return t;case 26:return Ua(e,t),null===e?(e=Nc(t.type,null,t.pendingProps,null))?t.memoizedState=e:Tf||(e=t.type,n=t.pendingProps,(r=Zl(r=nd.current).createElement(e))[Od]=t,r[Pd]=n,zl(r,e,n),be(r),t.stateNode=r):t.memoizedState=Nc(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return F(t),null===e&&Tf&&(r=nd.current,i=P(),r=t.stateNode=wc(t.type,t.pendingProps,r,i,!1),Mf||null!==(i=Yl(r,t.type,t.pendingProps,i))&&(Pn(t,0).serverProps=i),Ef=t,Df=!0,i=Nf,ac(t.type)?(Ux=i,Nf=mc(r.firstChild)):Nf=i),Ia(e,t,t.pendingProps.children,n),Ua(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&Tf&&(a=P(),r=bt(t.type,a.ancestorInfo),(o=!(i=Nf))||(o=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[zd])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;j(i.name);var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=mc(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,Df),null!==o?(t.stateNode=o,Mf||null!==(a=Yl(o,t.type,t.pendingProps,a))&&(Pn(t,0).serverProps=a),Ef=t,Nf=mc(o.firstChild),Df=!1,a=!0):a=!1,o=!a),o&&(r&&Fn(t,i),Bn(t))),F(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,r=a.children,Jl(i,a)?r=null:null!==o&&Jl(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=Hr(e,t,Vr,null,null,n),fv._currentValue=i),Ua(e,t),Ia(e,t,r,n),t.child;case 6:return null===e&&Tf&&(e=t.pendingProps,e=null==(r=(n=P()).ancestorInfo.current)||yt(e,r.tag,n.ancestorInfo.implicitRootScope),(r=!(n=Nf))||(r=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=mc(e.nextSibling)))return null}return e}(n,t.pendingProps,Df),null!==r?(t.stateNode=r,Ef=t,Nf=null,r=!0):r=!1,r=!r),r&&(e&&Fn(t,n),Bn(t))),null;case 13:return Qa(e,t,n);case 4:return D(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Rg(t,null,r,n):Ia(e,t,r,n),t.child;case 11:return ja(e,t,t.type,t.pendingProps,n);case 7:return Ia(e,t,t.pendingProps,n),t.child;case 8:return Ia(e,t,t.pendingProps.children,n),t.child;case 12:return t.flags|=4,t.flags|=2048,(r=t.stateNode).effectDuration=-0,r.passiveEffectDuration=-0,Ia(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.type,a=(i=t.pendingProps).value,"value"in i||mb||(mb=!0),Vn(t,r,a),Ia(e,t,i.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Xn(t),i=Qn(i),V(t),r=fg(r,i,void 0),W(),t.flags|=1,Ia(e,t,r,n),t.child;case 14:return za(e,t,t.type,t.pendingProps,n);case 15:return $a(e,t,t.type,t.pendingProps,n);case 19:return ao(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((e=eo(r,n)).ref=t.ref,t.child=e,e.return=t,t=e):((e=wn(e.child,r)).ref=t.ref,t.child=e,e.return=t,t=e),t;case 22:return Ha(e,t,n);case 24:return Xn(t),r=Qn(Wf),null===e?(null===(i=fr())&&(i=qb,a=tr(),i.pooledCache=a,nr(a),null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},wr(t),Vn(t,Wf,i)):(0!==(e.lanes&n)&&(_r(e,t),Mr(t,null,null,n),Tr()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Vn(t,Wf,r)):(r=a.cache,Vn(t,Wf,r),r!==i.cache&&Kn(t,[Wf],n,!0))),Ia(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function co(e){e.flags|=4}function uo(e,t){if("stylesheet"!==t.type||(t.state.loading&Yx)!==Vx)e.flags&=-16777217;else if(e.flags|=16777216,!zc(t)){if(null!==(t=jg.current)&&((4194048&Vb)===Vb?null!==zg:(62914560&Vb)!==Vb&&!(536870912&Vb)||t!==zg))throw km=vm,ym;e.flags|=8192}}function ho(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ne():536870912,e.lanes|=t,py|=t)}function po(e,t){if(!Tf)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)if((e.mode&hf)!==uf){for(var i=e.selfBaseDuration,a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,i+=a.treeBaseDuration,a=a.sibling;e.treeBaseDuration=i}else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else if((e.mode&hf)!==uf){i=e.actualDuration,a=e.selfBaseDuration;for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,i+=o.actualDuration,a+=o.treeBaseDuration,o=o.sibling;e.actualDuration=i,e.treeBaseDuration=a}else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mo(e,t,n){var r=t.pendingProps;switch(Dn(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fo(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Wn(Wf),O(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(jn(t)?(qn(),co(t)):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,$n())),fo(t),null;case 26:return n=t.memoizedState,null===e?(co(t),null!==n?(fo(t),uo(t,n)):(fo(t),t.flags&=-16777217)):n?n!==e.memoizedState?(co(t),fo(t),uo(t,n)):(fo(t),t.flags&=-16777217):(e.memoizedProps!==r&&co(t),fo(t),t.flags&=-16777217),null;case 27:B(t),n=nd.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&co(t);else{if(!r){if(null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return fo(t),null}e=P(),jn(t)?Rn(t):(e=wc(i,r,n,e,!0),t.stateNode=e,co(t))}return fo(t),null;case 5:if(B(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&co(t);else{if(!r){if(null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return fo(t),null}if(i=P(),jn(t))Rn(t);else{switch(e=nd.current,bt(n,i.ancestorInfo),i=i.context,e=Zl(e),i){case Ox:e=e.createElementNS(Th,n);break;case Px:e=e.createElementNS(Nh,n);break;default:switch(n){case"svg":e=e.createElementNS(Th,n);break;case"math":e=e.createElementNS(Nh,n);break;case"script":(e=e.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof r.is?e.createElement("select",{is:r.is}):e.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"==typeof r.is?e.createElement(n,{is:r.is}):e.createElement(n),-1===n.indexOf("-")&&(n.toLowerCase(),"[object HTMLUnknownElement]"!==Object.prototype.toString.call(e)||id.call(Rx,n)||(Rx[n]=!0))}}e[Od]=t,e[Pd]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(zl(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&co(t)}}return fo(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&co(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");if(e=nd.current,n=P(),jn(t)){e=t.stateNode,n=t.memoizedProps,i=!Mf,r=null;var a=Ef;if(null!==a)switch(a.tag){case 3:i&&(null!==(i=bc(e,n,r))&&(Pn(t,0).serverProps=i));break;case 27:case 5:r=a.memoizedProps,i&&(null!==(i=bc(e,n,r))&&(Pn(t,0).serverProps=i))}e[Od]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Bl(e.nodeValue,n)))||Bn(t)}else null!=(i=n.ancestorInfo.current)&&yt(r,i.tag,n.ancestorInfo.implicitRootScope),(e=Zl(e).createTextNode(r))[Od]=t,t.stateNode=e}return fo(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=jn(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");i[Od]=t,fo(t),(t.mode&hf)!==uf&&null!==r&&(null!==(i=t.child)&&(t.treeBaseDuration-=i.treeBaseDuration))}else qn(),zn(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4,fo(t),(t.mode&hf)!==uf&&null!==r&&(null!==(i=t.child)&&(t.treeBaseDuration-=i.treeBaseDuration));i=!1}else i=$n(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(_a(t),t):(_a(t),null)}return _a(t),128&t.flags?(t.lanes=n,(t.mode&hf)!==uf&&hr(t),t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),a=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ho(t,t.updateQueue),fo(t),(t.mode&hf)!==uf&&n&&(null!==(e=t.child)&&(t.treeBaseDuration-=e.treeBaseDuration)),null);case 4:return O(),null===e&&Cl(t.stateNode.containerInfo),fo(t),null;case 10:return Wn(t.type),fo(t),null;case 19:if(A(qg),null===(i=t.memoizedState))return fo(t),null;if(r=!!(128&t.flags),null===(a=i.rendering))if(r)po(i,!1);else{if(ly!==Fb||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=Ca(e))){for(t.flags|=128,po(i,!1),e=a.updateQueue,t.updateQueue=e,ho(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)_n(n,e),n=n.sibling;return L(qg,qg.current&$g|Hg,t),t.child}e=e.sibling}null!==i.tail&&cd()>xy&&(t.flags|=128,r=!0,po(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Ca(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,ho(t,e),po(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!Tf)return fo(t),null}else 2*cd()-i.renderingStartTime>xy&&536870912!==n&&(t.flags|=128,r=!0,po(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=cd(),e.sibling=null,n=qg.current,L(qg,n=r?n&$g|Hg:n&$g,t),e):(fo(t),null);case 22:case 23:return _a(t),Fr(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(fo(t),6&t.subtreeFlags&&(t.flags|=8192)):fo(t),null!==(n=t.updateQueue)&&ho(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&A(am),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Wn(Wf),fo(t),null;case 25:case 30:return null}throw Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function go(e,t){switch(Dn(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,(t.mode&hf)!==uf&&hr(t),t):null;case 3:return Wn(Wf),O(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return B(t),null;case 13:if(_a(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");zn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,(t.mode&hf)!==uf&&hr(t),t):null;case 19:return A(qg),null;case 4:return O(),null;case 10:return Wn(t.type),null;case 22:case 23:return _a(t),Fr(),null!==e&&A(am),65536&(e=t.flags)?(t.flags=-65537&e|128,(t.mode&hf)!==uf&&hr(t),t):null;case 24:return Wn(Wf),null;default:return null}}function bo(e,t){switch(Dn(t),t.tag){case 3:Wn(Wf),O();break;case 26:case 27:case 5:B(t);break;case 4:O();break;case 13:_a(t);break;case 19:A(qg);break;case 10:Wn(t.type);break;case 22:case 23:_a(t),Fr(),null!==e&&A(am);break;case 24:Wn(Wf)}}function yo(e){return(e.mode&hf)!==uf}function xo(e,t){yo(e)?(dr(),ko(t,e),ur()):ko(t,e)}function vo(e,t,n){yo(e)?(dr(),wo(n,e,t),ur()):wo(n,e,t)}function ko(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e&&((e&Nm)!==_m?null!==vd&&"function"==typeof vd.markComponentPassiveEffectMountStarted&&vd.markComponentPassiveEffectMountStarted(t):(e&Em)!==_m&&null!==vd&&"function"==typeof vd.markComponentLayoutEffectMountStarted&&vd.markComponentLayoutEffectMountStarted(t),r=void 0,(e&Sm)!==_m&&!0,r=Pe(t,Eg,n),(e&Sm)!==_m&&!1,(e&Nm)!==_m?null!==vd&&"function"==typeof vd.markComponentPassiveEffectMountStopped&&vd.markComponentPassiveEffectMountStopped():(e&Em)!==_m&&null!==vd&&"function"==typeof vd.markComponentLayoutEffectMountStopped&&vd.markComponentLayoutEffectMountStopped(),void 0!==r&&"function"!=typeof r)){var a;a=0!==(n.tag&Em)?"useLayoutEffect":0!==(n.tag&Sm)?"useInsertionEffect":"useEffect";Pe(t,function(e,t){},a,null===r?" You returned null. If your effect does not require clean up, return undefined (or nothing).":"function"==typeof r.then?"\n\nIt looks like you wrote "+a+"(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:\n\n"+a+"(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://react.dev/link/hooks-data-fetching":" You returned: "+r)}n=n.next}while(n!==i)}}catch(o){Xs(t,t.return,o)}}function wo(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;void 0!==s&&(o.destroy=void 0,(e&Nm)!==_m?null!==vd&&"function"==typeof vd.markComponentPassiveEffectUnmountStarted&&vd.markComponentPassiveEffectUnmountStarted(t):(e&Em)!==_m&&null!==vd&&"function"==typeof vd.markComponentLayoutEffectUnmountStarted&&vd.markComponentLayoutEffectUnmountStarted(t),(e&Sm)!==_m&&!0,Pe(i=t,Tg,i,n,s),(e&Sm)!==_m&&!1,(e&Nm)!==_m?null!==vd&&"function"==typeof vd.markComponentPassiveEffectUnmountStopped&&vd.markComponentPassiveEffectUnmountStopped():(e&Em)!==_m&&null!==vd&&"function"==typeof vd.markComponentLayoutEffectUnmountStopped&&vd.markComponentLayoutEffectUnmountStopped())}r=r.next}while(r!==a)}}catch(l){Xs(t,t.return,l)}}function _o(e,t){yo(e)?(dr(),ko(t,e),ur()):ko(t,e)}function Co(e,t,n){yo(e)?(dr(),wo(n,e,t),ur()):wo(n,e,t)}function So(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;e.type.defaultProps||"ref"in e.memoizedProps||db||(n.props,e.memoizedProps,n.state,e.memoizedState);try{Pe(e,Dr,t,n)}catch(r){Xs(e,e.return,r)}}}function Eo(e,t,n){return e.getSnapshotBeforeUpdate(t,n)}function No(e,t){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e.type.defaultProps||"ref"in e.memoizedProps||db||(t.props,e.memoizedProps,t.state,e.memoizedState);try{var i=Pe(e,Eo,t,Ma(e.type,n,(e.elementType,e.type)),r);n=gb,void 0!==i||n.has(e.type)||(n.add(e.type),Pe(e,function(){})),t.__reactInternalSnapshotBeforeUpdate=i}catch(a){Xs(e,e.return,a)}}function To(e,t,n){n.props=Ma(e.type,e.memoizedProps),n.state=e.memoizedState,yo(e)?(dr(),Pe(e,Cg,e,t,n),ur()):Pe(e,Cg,e,t,n)}function Mo(e){var t=e.ref;if(null!==t){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}if("function"==typeof t)if(yo(e))try{dr(),e.refCleanup=t(n)}finally{ur()}else e.refCleanup=t(n);else"string"==typeof t||t.hasOwnProperty("current"),t.current=n}}function Ao(e,t){try{Pe(e,Mo,e)}catch(n){Xs(e,t,n)}}function Lo(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{if(yo(e))try{dr(),Pe(e,r)}finally{ur()}else Pe(e,r)}catch(i){Xs(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{if(yo(e))try{dr(),Pe(e,n,null)}finally{ur()}else Pe(e,n,null)}catch(a){Xs(e,t,a)}else n.current=null}function Do(e,t,n,r){var i=e.memoizedProps,a=i.id,o=i.onCommit;i=i.onRender,t=null===t?"mount":"update",Qf&&(t="nested-update"),"function"==typeof i&&i(a,t,e.actualDuration,e.treeBaseDuration,e.actualStartTime,n),"function"==typeof o&&o(e.memoizedProps.id,t,r,n)}function Oo(e,t,n,r){var i=e.memoizedProps;e=i.id,i=i.onPostCommit,t=null===t?"mount":"update",Qf&&(t="nested-update"),"function"==typeof i&&i(e,t,r,n)}function Po(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{Pe(e,tc,r,t,n,e)}catch(i){Xs(e,e.return,i)}}function Fo(e,t,n){try{Pe(e,nc,e.stateNode,e.type,n,t,e)}catch(r){Xs(e,e.return,r)}}function Bo(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&ac(e.type)||4===e.tag}function Ro(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Bo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&ac(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Io(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Rl));else if(4!==r&&(27===r&&ac(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Io(e,t,n),e=e.sibling;null!==e;)Io(e,t,n),e=e.sibling}function jo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&ac(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(jo(e,t,n),e=e.sibling;null!==e;)jo(e,t,n),e=e.sibling}function zo(e){for(var t,n=e.return;null!==n;){if(Bo(n)){t=n;break}n=n.return}if(null==t)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");switch(t.tag){case 27:t=t.stateNode,jo(e,n=Ro(e),t);break;case 5:n=t.stateNode,32&t.flags&&(rc(n),t.flags&=-33),jo(e,t=Ro(e),n);break;case 3:case 4:t=t.stateNode.containerInfo,Io(e,n=Ro(e),t);break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function $o(e){var t=e.stateNode,n=e.memoizedProps;try{Pe(e,_c,e.type,n,t,e)}catch(r){Xs(e,e.return,r)}}function Ho(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Qo(e,n),4&r&&xo(n,Em|Cm);break;case 1:if(Qo(e,n),4&r)if(e=n.stateNode,null===t)n.type.defaultProps||"ref"in n.memoizedProps||db||(e.props,n.memoizedProps,e.state,n.memoizedState),yo(n)?(dr(),Pe(n,yg,n,e),ur()):Pe(n,yg,n,e);else{var i=Ma(n.type,t.memoizedProps);t=t.memoizedState,n.type.defaultProps||"ref"in n.memoizedProps||db||(e.props,n.memoizedProps,e.state,n.memoizedState),yo(n)?(dr(),Pe(n,vg,n,e,i,t,e.__reactInternalSnapshotBeforeUpdate),ur()):Pe(n,vg,n,e,i,t,e.__reactInternalSnapshotBeforeUpdate)}64&r&&So(n),512&r&&Ao(n,n.return);break;case 3:if(t=ir(),Qo(e,n),64&r&&null!==(r=n.updateQueue)){if(i=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:i=n.child.stateNode}try{Pe(n,Dr,r,i)}catch(o){Xs(n,n.return,o)}}e.effectDuration+=ar(t);break;case 27:null===t&&4&r&&$o(n);case 26:case 5:Qo(e,n),null===t&&4&r&&Po(n),512&r&&Ao(n,n.return);break;case 12:if(4&r){r=ir(),Qo(e,n),(e=n.stateNode).effectDuration+=or(r);try{Pe(n,Do,n,t,Yf,e.effectDuration)}catch(o){Xs(n,n.return,o)}}else Qo(e,n);break;case 13:Qo(e,n),4&r&&Wo(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if(e.data!==_x||n.readyState===Ax)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=tl.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bb)){t=null!==t&&null!==t.memoizedState||yb,i=bb;var a=yb;bb=r,(yb=t)&&!a?ns(e,n,!!(8772&n.subtreeFlags)):Qo(e,n),bb=i,yb=a}break;case 30:break;default:Qo(e,n)}}function qo(e){var t=e.alternate;null!==t&&(e.alternate=null,qo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&he(t)),e.stateNode=null,e._debugOwner=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uo(e,t,n){for(n=n.child;null!==n;)Vo(e,t,n),n=n.sibling}function Vo(e,t,n){if(xd&&"function"==typeof xd.onCommitFiberUnmount)try{xd.onCommitFiberUnmount(yd,n)}catch(a){kd||(kd=!0)}switch(n.tag){case 26:yb||Lo(n,t),Uo(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:yb||Lo(n,t);var r=Cb,i=Sb;ac(n.type)&&(Cb=n.stateNode,Sb=!1),Uo(e,t,n),Pe(n,Cc,n.stateNode),Cb=r,Sb=i;break;case 5:yb||Lo(n,t);case 6:if(r=Cb,i=Sb,Cb=null,Uo(e,t,n),Sb=i,null!==(Cb=r))if(Sb)try{Pe(n,sc,Cb,n.stateNode)}catch(o){Xs(n,t,o)}else try{Pe(n,oc,Cb,n.stateNode)}catch(o){Xs(n,t,o)}break;case 18:null!==Cb&&(Sb?(lc(9===(e=Cb).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),fu(e)):lc(Cb,n.stateNode));break;case 4:r=Cb,i=Sb,Cb=n.stateNode.containerInfo,Sb=!0,Uo(e,t,n),Cb=r,Sb=i;break;case 0:case 11:case 14:case 15:yb||wo(Sm,n,t),yb||vo(n,t,Em),Uo(e,t,n);break;case 1:yb||(Lo(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&To(n,t,r)),Uo(e,t,n);break;case 21:Uo(e,t,n);break;case 22:yb=(r=yb)||null!==n.memoizedState,Uo(e,t,n),yb=r;break;default:Uo(e,t,n)}}function Wo(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Pe(t,kc,e)}catch(n){Xs(t,t.return,n)}}function Go(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new vb),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new vb),t;default:throw Error("Unexpected Suspense handler tag ("+e.tag+"). This is a bug in React.")}}(e);t.forEach(function(t){var r=nl.bind(null,e,t);if(!n.has(t)){if(n.add(t),wd){if(null===wb||null===_b)throw Error("Expected finished root and lanes to be set. This is a bug in React.");sl(_b,wb)}t.then(r,r)}})}function Ko(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=e,a=t,o=n[r],s=a;e:for(;null!==s;){switch(s.tag){case 27:if(ac(s.type)){Cb=s.stateNode,Sb=!1;break e}break;case 5:Cb=s.stateNode,Sb=!1;break e;case 3:case 4:Cb=s.stateNode.containerInfo,Sb=!0;break e}s=s.return}if(null===Cb)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");Vo(i,a,o),Cb=null,Sb=!1,null!==(a=(i=o).alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Yo(t,e),t=t.sibling}function Yo(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ko(t,e),Zo(e),4&r&&(wo(Sm|Cm,e,e.return),ko(Sm|Cm,e),vo(e,e.return,Em|Cm));break;case 1:Ko(t,e),Zo(e),512&r&&(yb||null===n||Lo(n,n.return)),64&r&&bb&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Eb;if(Ko(t,e),Zo(e),512&r&&(yb||null===n||Lo(n,n.return)),4&r)if(t=null!==n?n.memoizedState:null,r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,t=i.ownerDocument||i;t:switch(r){case"title":(!(i=t.getElementsByTagName("title")[0])||i[zd]||i[Od]||i.namespaceURI===Th||i.hasAttribute("itemprop"))&&(i=t.createElement(r),t.head.insertBefore(i,t.querySelector("head > title"))),zl(i,r,n),i[Od]=e,be(i),r=i;break e;case"link":var a=Ic("link","href",t).get(r+(n.href||""));if(a)for(var o=0;o<a.length;o++)if((i=a[o]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(o,1);break t}zl(i=t.createElement(r),r,n),t.head.appendChild(i);break;case"meta":if(a=Ic("meta","content",t).get(r+(n.content||"")))for(o=0;o<a.length;o++)if(i=a[o],j(n.content),i.getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(o,1);break t}zl(i=t.createElement(r),r,n),t.head.appendChild(i);break;default:throw Error('getNodesForType encountered a type it did not expect: "'+r+'". This is a bug in React.')}i[Od]=e,be(i),r=i}e.stateNode=r}else jc(i,e.type,e.stateNode);else e.stateNode=Pc(i,r,e.memoizedProps);else t!==r?(null===t?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):t.count--,null===r?jc(i,e.type,e.stateNode):Pc(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Fo(e,e.memoizedProps,n.memoizedProps);break;case 27:Ko(t,e),Zo(e),512&r&&(yb||null===n||Lo(n,n.return)),null!==n&&4&r&&Fo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ko(t,e),Zo(e),512&r&&(yb||null===n||Lo(n,n.return)),32&e.flags){t=e.stateNode;try{Pe(e,rc,t)}catch(u){Xs(e,e.return,u)}}4&r&&null!=e.stateNode&&Fo(e,t=e.memoizedProps,null!==n?n.memoizedProps:t),1024&r&&(xb=!0,e.type);break;case 6:if(Ko(t,e),Zo(e),4&r){if(null===e.stateNode)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");r=e.memoizedProps,n=null!==n?n.memoizedProps:r,t=e.stateNode;try{Pe(e,ic,t,n,r)}catch(u){Xs(e,e.return,u)}}break;case 3:if(i=ir(),cv=null,a=Eb,Eb=Sc(t.containerInfo),Ko(t,e),Eb=a,Zo(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Pe(e,vc,t.containerInfo)}catch(u){Xs(e,e.return,u)}xb&&(xb=!1,Xo(e)),t.effectDuration+=ar(i);break;case 4:r=Eb,Eb=Sc(e.stateNode.containerInfo),Ko(t,e),Zo(e),Eb=r;break;case 12:r=ir(),Ko(t,e),Zo(e),e.stateNode.effectDuration+=or(r);break;case 13:Ko(t,e),Zo(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(by=cd()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Go(e,r)));break;case 22:i=null!==e.memoizedState;var s=null!==n&&null!==n.memoizedState,l=bb,c=yb;if(bb=l||i,yb=c||s,Ko(t,e),yb=c,bb=l,Zo(e),8192&r)e:for(t=e.stateNode,t._visibility=i?t._visibility&~tf:t._visibility|tf,i&&(null===n||s||bb||yb||es(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){s=n=t;try{a=s.stateNode,i?Pe(s,cc,a):Pe(s,dc,s.stateNode,s.memoizedProps)}catch(u){Xs(s,s.return,u)}}}else if(6===t.tag){if(null===n){s=t;try{o=s.stateNode,i?Pe(s,uc,o):Pe(s,hc,o,s.memoizedProps)}catch(u){Xs(s,s.return,u)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Go(e,n))));break;case 19:Ko(t,e),Zo(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Go(e,r)));break;case 30:case 21:break;default:Ko(t,e),Zo(e)}}function Zo(e){var t=e.flags;if(2&t){try{Pe(e,zo,e)}catch(n){Xs(e,e.return,n)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Xo(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Xo(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Qo(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ho(e,t.alternate,t),t=t.sibling}function Jo(e){switch(e.tag){case 0:case 11:case 14:case 15:vo(e,e.return,Em),es(e);break;case 1:Lo(e,e.return);var t=e.stateNode;"function"==typeof t.componentWillUnmount&&To(e,e.return,t),es(e);break;case 27:Pe(e,Cc,e.stateNode);case 26:case 5:Lo(e,e.return),es(e);break;case 22:null===e.memoizedState&&es(e);break;default:es(e)}}function es(e){for(e=e.child;null!==e;)Jo(e),e=e.sibling}function ts(e,t,n,r){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ns(e,n,r),xo(n,Em);break;case 1:if(ns(e,n,r),"function"==typeof(t=n.stateNode).componentDidMount&&Pe(n,yg,n,t),null!==(t=n.updateQueue)){e=n.stateNode;try{Pe(n,Lr,t,e)}catch(a){Xs(n,n.return,a)}}r&&64&i&&So(n),Ao(n,n.return);break;case 27:$o(n);case 26:case 5:ns(e,n,r),r&&null===t&&4&i&&Po(n),Ao(n,n.return);break;case 12:if(r&&4&i){i=ir(),ns(e,n,r),(r=n.stateNode).effectDuration+=or(i);try{Pe(n,Do,n,t,Yf,r.effectDuration)}catch(a){Xs(n,n.return,a)}}else ns(e,n,r);break;case 13:ns(e,n,r),r&&4&i&&Wo(e,n);break;case 22:null===n.memoizedState&&ns(e,n,r),Ao(n,n.return);break;case 30:break;default:ns(e,n,r)}}function ns(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;)ts(e,t.alternate,t,n),t=t.sibling}function rs(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&nr(e),null!=n&&rr(n))}function is(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(nr(t),null!=e&&rr(e))}function as(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)os(e,t,n,r),t=t.sibling}function os(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:as(e,t,n,r),2048&i&&_o(t,Nm|Cm);break;case 1:case 13:default:as(e,t,n,r);break;case 3:var a=ir();as(e,t,n,r),2048&i&&(n=null,null!==t.alternate&&(n=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==n&&(nr(t),null!=n&&rr(n))),e.passiveEffectDuration+=ar(a);break;case 12:if(2048&i){i=ir(),as(e,t,n,r),(e=t.stateNode).passiveEffectDuration+=or(i);try{Pe(t,Oo,t,t.alternate,Yf,e.passiveEffectDuration)}catch(s){Xs(t,t.return,s)}}else as(e,t,n,r);break;case 23:break;case 22:a=t.stateNode;var o=t.alternate;null!==t.memoizedState?a._visibility&nf?as(e,t,n,r):cs(e,t):a._visibility&nf?as(e,t,n,r):(a._visibility|=nf,ss(e,t,n,r,!!(10256&t.subtreeFlags))),2048&i&&rs(o,t);break;case 24:as(e,t,n,r),2048&i&&is(t.alternate,t)}}function ss(e,t,n,r,i){for(i=i&&!!(10256&t.subtreeFlags),t=t.child;null!==t;)ls(e,t,n,r,i),t=t.sibling}function ls(e,t,n,r,i){var a=t.flags;switch(t.tag){case 0:case 11:case 15:ss(e,t,n,r,i),_o(t,Nm);break;case 23:break;case 22:var o=t.stateNode;null!==t.memoizedState?o._visibility&nf?ss(e,t,n,r,i):cs(e,t):(o._visibility|=nf,ss(e,t,n,r,i)),i&&2048&a&&rs(t.alternate,t);break;case 24:ss(e,t,n,r,i),i&&2048&a&&is(t.alternate,t);break;default:ss(e,t,n,r,i)}}function cs(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:cs(n,r),2048&i&&rs(r.alternate,r);break;case 24:cs(n,r),2048&i&&is(r.alternate,r);break;default:cs(n,r)}t=t.sibling}}function us(e){if(e.subtreeFlags&Nb)for(e=e.child;null!==e;)ds(e),e=e.sibling}function ds(e){switch(e.tag){case 26:us(e),e.flags&Nb&&null!==e.memoizedState&&function(e,t,n){if(null===uv)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var r=uv;if("stylesheet"===t.type&&("string"!=typeof n.media||!1!==matchMedia(n.media).matches)&&(t.state.loading&Yx)===Vx){if(null===t.instance){var i=Mc(n.href),a=e.querySelector(Ac(i));if(a)return null!==(e=a._p)&&"object"==typeof e&&"function"==typeof e.then&&(r.count++,r=Hc.bind(r),e.then(r,r)),t.state.loading|=Yx,t.instance=a,void be(a);a=e.ownerDocument||e,n=Lc(n),(i=Zx.get(i))&&Bc(n,i),be(a=a.createElement("link"));var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),zl(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&Kx)===Vx&&(r.count++,t=Hc.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Eb,e.memoizedState,e.memoizedProps);break;case 5:default:us(e);break;case 3:case 4:var t=Eb;Eb=Sc(e.stateNode.containerInfo),us(e),Eb=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Nb,Nb=16777216,us(e),Nb=t):us(e))}}function hs(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ps(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kb=r,bs(r,e)}hs(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)fs(e),e=e.sibling}function fs(e){switch(e.tag){case 0:case 11:case 15:ps(e),2048&e.flags&&Co(e,e.return,Nm|Cm);break;case 3:var t=ir();ps(e),e.stateNode.passiveEffectDuration+=ar(t);break;case 12:t=ir(),ps(e),e.stateNode.passiveEffectDuration+=or(t);break;case 22:t=e.stateNode,null!==e.memoizedState&&t._visibility&nf&&(null===e.return||13!==e.return.tag)?(t._visibility&=~nf,ms(e)):ps(e);break;default:ps(e)}}function ms(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kb=r,bs(r,e)}hs(e)}for(e=e.child;null!==e;)gs(e),e=e.sibling}function gs(e){switch(e.tag){case 0:case 11:case 15:Co(e,e.return,Nm),ms(e);break;case 22:var t=e.stateNode;t._visibility&nf&&(t._visibility&=~nf,ms(e));break;default:ms(e)}}function bs(e,t){for(;null!==kb;){var n=kb,r=n;switch(r.tag){case 0:case 11:case 15:Co(r,t,Nm);break;case 23:case 22:null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(null!=(r=r.memoizedState.cachePool.pool)&&nr(r));break;case 24:rr(r.memoizedState.cache)}if(null!==(r=n.child))r.return=n,kb=r;else e:for(n=e;null!==kb;){var i=(r=kb).sibling,a=r.return;if(qo(r),r===n){kb=null;break e}if(null!==i){i.return=a,kb=i;break e}kb=a}}}function ys(){var e="undefined"!=typeof IS_REACT_ACT_ENVIRONMENT?IS_REACT_ACT_ENVIRONMENT:void 0;return e||Ku.actQueue,e}function xs(e){if((Hb&Ob)!==Db&&0!==Vb)return Vb&-Vb;var t=Ku.T;return null!==t?(t._updatedFibers||(t._updatedFibers=new Set),t._updatedFibers.add(e),0!==(e=nm)?e:bl()):de()}function vs(){0===hy&&(hy=536870912&Vb&&!Tf?536870912:te());var e=jg.current;return null!==e&&(e.flags|=32),hy}function ks(e,t,n){if(Hy&&(qy=!0),(e!==qb||ny!==Kb&&ny!==ty)&&null===e.cancelPendingCommit||(Ts(e,0),Ss(e,Vb,hy,!1)),ie(e,n),0!==(Hb&Ob)&&e===qb){if(eh)switch(t.tag){case 0:case 11:case 15:e=Ub&&N(Ub)||"Unknown",Yy.has(e)||(Yy.add(e),t=N(t)||"Unknown");break;case 1:Ky||(Ky=!0)}}else wd&&le(e,t,n),function(e){ys()&&null===Ku.actQueue&&Pe(e,function(){})}(t),e===qb&&((Hb&Ob)===Db&&(uy|=n),ly===jb&&Ss(e,Vb,hy,!1)),ll(e)}function ws(e,t,n){if((Hb&(Ob|Pb))!==Db)throw Error("Should not already be working.");for(var r=!n&&!(124&t)&&0===(t&e.expiredLanes)||J(e,t),i=r?function(e,t){var n=Hb;Hb|=Ob;var r=As(),i=Ls();if(qb!==e||Vb!==t){if(wd){var a=e.memoizedUpdaters;0<a.size&&(sl(e,Vb),a.clear()),ce(e,t)}ky=null,xy=cd()+vy,Ts(e,t)}else ay=J(e,t);G(t);e:for(;;)try{if(ny!==Wb&&null!==Ub)t:switch(t=Ub,a=ry,ny){case Gb:ny=Wb,ry=null,js(e,t,a,Gb);break;case Kb:case ty:if(br(a)){ny=Wb,ry=null,Rs(t);break}t=function(){ny!==Kb&&ny!==ty||qb!==e||(ny=Jb),ll(e)},a.then(t,t);break e;case Yb:ny=Jb;break e;case Zb:ny=Xb;break e;case Jb:br(a)?(ny=Wb,ry=null,Rs(t)):(ny=Wb,ry=null,js(e,t,a,Jb));break;case Xb:var o=null;switch(Ub.tag){case 26:o=Ub.memoizedState;case 5:case 27:var s=Ub;if(!o||zc(o)){ny=Wb,ry=null;var l=s.sibling;if(null!==l)Ub=l;else{var c=s.return;null!==c?(Ub=c,zs(c)):Ub=null}break t}}ny=Wb,ry=null,js(e,t,a,Xb);break;case Qb:ny=Wb,ry=null,js(e,t,a,Qb);break;case ey:Ns(),ly=zb;break e;default:throw Error("Unexpected SuspendedReason. This is a bug in React.")}null!==Ku.actQueue?Ps():Fs();break}catch(u){Ms(e,u)}return Un(),Ku.H=r,Ku.A=i,Hb=n,null!==Ub?(null!==vd&&"function"==typeof vd.markRenderYielded&&vd.markRenderYielded(),Fb):(K(),qb=null,Vb=0,cn(),ly)}(e,t):Os(e,t,!0),a=r;;){if(i===Fb){ay&&!r&&Ss(e,t,0,!1);break}if(n=e.current.alternate,!a||Cs(n)){if(i===Rb){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var s=o;o=fy;var l=(i=e).current.memoizedState.isDehydrated;if(l&&(Ts(i,s).flags|=256),(s=Os(i,s,!1))!==Rb){if(oy&&!l){i.errorRecoveryDisabledLanes|=a,uy|=a,i=jb;break e}i=my,my=o,null!==i&&(null===my?my=i:my.push.apply(my,i))}i=s}if(a=!1,i!==Rb)continue}}if(i===Bb){Ts(e,0),Ss(e,t,0,!0);break}e:{switch(r=e,i){case Fb:case Bb:throw Error("Root did not complete. This is a bug in React.");case jb:if((4194048&t)!==t)break;case zb:Ss(r,t,hy,!iy);break e;case Rb:my=null;break;case Ib:case $b:break;default:throw Error("Unknown root exit status.")}if(null!==Ku.actQueue)Hs(r,n,t,my,ky,gy,hy,uy,py);else{if((62914560&t)===t&&10<(a=by+yy-cd())){if(Ss(r,t,hy,!iy),0!==Q(r,0,!0))break e;r.timeoutHandle=jx(_s.bind(null,r,n,my,ky,gy,t,hy,uy,py,iy,i,Sy,Kf,0),a);break e}_s(r,n,my,ky,gy,t,hy,uy,py,iy,i,_y,Kf,0)}}break}i=Os(e,t,!1),a=!1}ll(e)}function _s(e,t,n,r,i,a,o,s,l,c,u,d,h,p){if(e.timeoutHandle=$x,(8192&(d=t.subtreeFlags)||!(16785408&~d))&&(uv={stylesheets:null,count:0,unsuspend:$c},ds(t),d=function(){if(null===uv)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var e=uv;return e.stylesheets&&0===e.count&&qc(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&qc(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}(),null!==d))return e.cancelPendingCommit=d(Hs.bind(null,e,t,a,n,r,i,o,s,l,u,Cy,h,p)),void Ss(e,a,o,!c);Hs(e,t,a,n,r,i,o,s,l)}function Cs(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Bp(a(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ss(e,t,n,r){t&=~dy,t&=~uy,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-_d(i),o=1<<a;r[a]=-1,i&=~o}0!==n&&ae(e,n,t)}function Es(){return(Hb&(Ob|Pb))!==Db||(cl(0),!1)}function Ns(){if(null!==Ub){if(ny===Wb)var e=Ub.return;else e=Ub,Un(),Kr(e),Lg=null,Dg=0,e=Ub;for(;null!==e;)bo(e.alternate,e),e=e.return;Ub=null}}function Ts(e,t){var n=e.timeoutHandle;n!==$x&&(e.timeoutHandle=$x,zx(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Ns(),qb=e,Ub=n=wn(e.current,null),Vb=t,ny=Wb,ry=null,iy=!1,ay=J(e,t),oy=!1,ly=Fb,py=hy=dy=uy=cy=0,my=fy=null,gy=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-_d(r),a=1<<i;t|=e[i],r&=~a}return sy=t,cn(),1e3<(t=Bf())-Pf&&(Ku.recentlyCreatedOwnerStacks=0,Pf=t),om.discardPendingWarnings(),n}function Ms(e,t){qm=null,Ku.H=ig,Ku.getCurrentStack=null,eh=!1,Jd=null,t===bm||t===xm?(t=vr(),ny=Yb):t===ym?(t=vr(),ny=Zb):ny=t===ab?ey:null!==t&&"object"==typeof t&&"function"==typeof t.then?Qb:Gb,ry=t;var n=Ub;if(null===n)ly=Bb,Oa(e,ln(t,e.current));else switch(n.mode&hf&&lr(n),W(),ny){case Gb:null!==vd&&"function"==typeof vd.markComponentErrored&&vd.markComponentErrored(n,t,Vb);break;case Kb:case ty:case Yb:case Qb:case Jb:null!==vd&&"function"==typeof vd.markComponentSuspended&&vd.markComponentSuspended(n,t,Vb)}}function As(){var e=Ku.H;return Ku.H=ig,null===e?ig:e}function Ls(){var e=Ku.A;return Ku.A=Tb,e}function Ds(){ly=jb,iy||(4194048&Vb)!==Vb&&null!==jg.current||(ay=!0),!(134217727&cy)&&!(134217727&uy)||null===qb||Ss(qb,Vb,hy,!1)}function Os(e,t,n){var r=Hb;Hb|=Ob;var i=As(),a=Ls();if(qb!==e||Vb!==t){if(wd){var o=e.memoizedUpdaters;0<o.size&&(sl(e,Vb),o.clear()),ce(e,t)}ky=null,Ts(e,t)}G(t),t=!1,o=ly;e:for(;;)try{if(ny!==Wb&&null!==Ub){var s=Ub,l=ry;switch(ny){case ey:Ns(),o=zb;break e;case Yb:case Kb:case ty:case Qb:null===jg.current&&(t=!0);var c=ny;if(ny=Wb,ry=null,js(e,s,l,c),n&&ay){o=Fb;break e}break;default:c=ny,ny=Wb,ry=null,js(e,s,l,c)}}Ps(),o=ly;break}catch(u){Ms(e,u)}return t&&e.shellSuspendCounter++,Un(),Hb=r,Ku.H=i,Ku.A=a,K(),null===Ub&&(qb=null,Vb=0,cn()),o}function Ps(){for(;null!==Ub;)Bs(Ub)}function Fs(){for(;null!==Ub&&!sd();)Bs(Ub)}function Bs(e){var t=e.alternate;(e.mode&hf)!==uf?(sr(e),t=Pe(e,lo,t,e,sy),lr(e)):t=Pe(e,lo,t,e,sy),e.memoizedProps=e.pendingProps,null===t?zs(e):Ub=t}function Rs(e){var t=Pe(e,Is,e);e.memoizedProps=e.pendingProps,null===t?zs(e):Ub=t}function Is(e){var t=e.alternate,n=(e.mode&hf)!==uf;switch(n&&sr(e),e.tag){case 15:case 0:t=Wa(t,e,e.pendingProps,e.type,void 0,Vb);break;case 11:t=Wa(t,e,e.pendingProps,e.type.render,e.ref,Vb);break;case 5:Kr(e);default:bo(t,e),t=lo(t,e=Ub=_n(e,sy),sy)}return n&&lr(e),t}function js(e,t,n,r){Un(),Kr(t),Lg=null,Dg=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,wd&&sl(e,i),null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&Yn(t,n,i,!0),Tf&&(Mf=!0),null!==(n=jg.current)){switch(n.tag){case 13:return null===zg?Ds():null===n.alternate&&ly===Fb&&(ly=Ib),n.flags&=-257,n.flags|=65536,n.lanes=i,r===vm?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Qs(e,r,i)),!1;case 22:return n.flags|=65536,r===vm?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Qs(e,r,i)),!1}throw Error("Unexpected Suspense handler tag ("+n.tag+"). This is a bug in React.")}return Qs(e,r,i),Ds(),!1}if(Tf)return Mf=!0,null!==(t=jg.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Of&&Hn(ln(Error("There was an error while hydrating but React was able to recover by instead client rendering from the nearest Suspense boundary.",{cause:r}),n))):(r!==Of&&Hn(ln(Error("There was an error while hydrating but React was able to recover by instead client rendering the entire root.",{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=ln(r,n),Nr(e,i=Fa(e.stateNode,r,i)),ly!==jb&&(ly=Rb)),!1;var a=ln(Error("There was an error during concurrent rendering but React was able to recover by instead synchronously rendering the entire root.",{cause:r}),n);if(null===fy?fy=[a]:fy.push(a),ly!==jb&&(ly=Rb),null===t)return!0;r=ln(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Nr(n,e=Fa(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==wy&&wy.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,Ra(i=Ba(i),e,n,r),Nr(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,Vb))return ly=Bb,Oa(e,ln(n,e.current)),void(Ub=null)}catch(a){if(null!==i)throw Ub=i,a;return ly=Bb,Oa(e,ln(n,e.current)),void(Ub=null)}32768&t.flags?(Tf||r===Gb?e=!0:ay||536870912&Vb?e=!1:(iy=e=!0,(r===Kb||r===ty||r===Yb||r===Qb)&&(null!==(r=jg.current)&&13===r.tag&&(r.flags|=16384))),$s(t,e)):zs(t)}function zs(e){var t=e;do{if(32768&t.flags)return void $s(t,iy);var n=t.alternate;if(e=t.return,sr(t),n=Pe(t,mo,n,t,sy),(t.mode&hf)!==uf&&cr(t),null!==n)return void(Ub=n);if(null!==(t=t.sibling))return void(Ub=t);Ub=t=e}while(null!==t);ly===Fb&&(ly=$b)}function $s(e,t){do{var n=go(e.alternate,e);if(null!==n)return n.flags&=32767,void(Ub=n);if((e.mode&hf)!==uf){cr(e),n=e.actualDuration;for(var r=e.child;null!==r;)n+=r.actualDuration,r=r.sibling;e.actualDuration=n}if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(Ub=e);Ub=e=n}while(null!==e);ly=zb,Ub=null}function Hs(e,t,n,r,i,a,o,s,l){e.cancelPendingCommit=null;do{Ks()}while(Dy!==Ey);if(om.flushLegacyContextWarning(),om.flushPendingUnsafeLifecycleWarnings(),(Hb&(Ob|Pb))!==Db)throw Error("Should not already be working.");if(null!==vd&&"function"==typeof vd.markCommitStarted&&vd.markCommitStarted(n),null===t)U();else{if(t===e.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-_d(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&ae(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,a|=of,o,s,l),e===qb&&(Ub=qb=null,Vb=0),Py=t,Oy=e,Fy=n,By=a,Ry=i,Iy=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,c=pd,u=function(){return Ys(),null},null!==(d=Ku.actQueue)?d.push(u):ad(c,u)):(e.callbackNode=null,e.callbackPriority=0),Yf=Gf(),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=Ku.T,Ku.T=null,i=Yu.p,Yu.p=Td,o=Hb,Hb|=Pb;try{!function(e,t){if(e=e.containerInfo,Fx=wv,nn(e=tn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(f){n=null;break e}var o=0,s=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(s=o+i),d!==a||0!==r&&3!==d.nodeType||(l=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(s=o),h===a&&++u===r&&(l=o),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bx={focusedElem:e,selectionRange:n},wv=!1,kb=t;null!==kb;)if(e=(t=kb).child,1024&t.subtreeFlags&&null!==e)e.return=t,kb=e;else for(;null!==kb;){switch(n=(e=t=kb).alternate,i=e.flags,e.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:1024&i&&null!==n&&No(e,n);break;case 3:if(1024&i)if(9===(n=(e=e.stateNode.containerInfo).nodeType))pc(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pc(e);break;default:e.textContent=""}break;default:if(1024&i)throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(null!==(e=t.sibling)){e.return=t.return,kb=e;break}kb=t.return}}(e,t)}finally{Hb=o,Yu.p=i,Ku.T=r}}Dy=Ny,qs(),Us(),Vs()}var c,u,d}function qs(){if(Dy===Ny){Dy=Ey;var e=Oy,t=Py,n=Fy,r=!!(13878&t.flags);if(13878&t.subtreeFlags||r){r=Ku.T,Ku.T=null;var i=Yu.p;Yu.p=Td;var a=Hb;Hb|=Pb;try{wb=n,_b=e,Yo(t,e),_b=wb=null,n=Bx;var o=tn(e.containerInfo),s=n.focusedElem,l=n.selectionRange;if(o!==s&&s&&s.ownerDocument&&en(s.ownerDocument.documentElement,s)){if(null!==l&&nn(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=s.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(o=g,g=m,m=o);var b=Jt(s,m),y=Jt(s,g);if(b&&y&&(1!==p.rangeCount||p.anchorNode!==b.node||p.anchorOffset!==b.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var x=d.createRange();x.setStart(b.node,b.offset),p.removeAllRanges(),m>g?(p.addRange(x),p.extend(y.node,y.offset)):(x.setEnd(y.node,y.offset),p.addRange(x))}}}}for(d=[],p=s;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"==typeof s.focus&&s.focus(),s=0;s<d.length;s++){var v=d[s];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}wv=!!Fx,Bx=Fx=null}finally{Hb=a,Yu.p=i,Ku.T=r}}e.current=t,Dy=Ty}}function Us(){if(Dy===Ty){Dy=Ey;var e=Oy,t=Py,n=Fy,r=!!(8772&t.flags);if(8772&t.subtreeFlags||r){r=Ku.T,Ku.T=null;var i=Yu.p;Yu.p=Td;var a=Hb;Hb|=Pb;try{null!==vd&&"function"==typeof vd.markLayoutEffectsStarted&&vd.markLayoutEffectsStarted(n),wb=n,_b=e,Ho(e,t.alternate,t),_b=wb=null,null!==vd&&"function"==typeof vd.markLayoutEffectsStopped&&vd.markLayoutEffectsStopped()}finally{Hb=a,Yu.p=i,Ku.T=r}}Dy=My}}function Vs(){if(Dy===Ay||Dy===My){Dy=Ey,ld();var e=Oy,t=Py,n=Fy,r=Iy,i=!!(10256&t.subtreeFlags)||!!(10256&t.flags);i?Dy=Ly:(Dy=Ey,Py=Oy=null,Gs(e,e.pendingLanes),Vy=0,Wy=null);var a=e.pendingLanes;if(0===a&&(wy=null),i||al(e),i=ue(n),t=t.stateNode,xd&&"function"==typeof xd.onCommitFiberRoot)try{var o=!(128&~t.current.flags);switch(i){case Td:var s=dd;break;case Md:s=hd;break;case Ad:s=pd;break;case Ld:s=md;break;default:s=pd}xd.onCommitFiberRoot(yd,t,s,o)}catch(d){kd||(kd=!0)}if(wd&&e.memoizedUpdaters.clear(),Ab.forEach(function(e){return e()}),null!==r){o=Ku.T,s=Yu.p,Yu.p=Td,Ku.T=null;try{var l=e.onRecoverableError;for(t=0;t<r.length;t++){var c=r[t],u=Ws(c.stack);Pe(c.source,l,c.value,u)}}finally{Ku.T=o,Yu.p=s}}3&Fy&&Ks(),ll(e),a=e.pendingLanes,4194090&n&&42&a?(Jf=!0,e===$y?zy++:(zy=0,$y=e)):zy=0,cl(0),U()}}function Ws(e){return e={componentStack:e},Object.defineProperty(e,"digest",{get:function(){}}),e}function Gs(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,rr(t)))}function Ks(e){return qs(),Us(),Vs(),Ys()}function Ys(){if(Dy!==Ly)return!1;var e=Oy,t=By;By=0;var n=ue(Fy),r=Ad>n?Ad:n;n=Ku.T;var i=Yu.p;try{Yu.p=r,Ku.T=null,r=Ry,Ry=null;var a=Oy,o=Fy;if(Dy=Ey,Py=Oy=null,Fy=0,(Hb&(Ob|Pb))!==Db)throw Error("Cannot flush passive effects while already rendering.");Hy=!0,qy=!1,null!==vd&&"function"==typeof vd.markPassiveEffectsStarted&&vd.markPassiveEffectsStarted(o);var s=Hb;if(Hb|=Pb,fs(a.current),os(a,a.current,o,r),null!==vd&&"function"==typeof vd.markPassiveEffectsStopped&&vd.markPassiveEffectsStopped(),al(a),Hb=s,cl(0,!1),qy?a===Wy?Vy++:(Vy=0,Wy=a):Vy=0,qy=Hy=!1,xd&&"function"==typeof xd.onPostCommitFiberRoot)try{xd.onPostCommitFiberRoot(yd,a)}catch(c){kd||(kd=!0)}var l=a.current.stateNode;return l.effectDuration=0,l.passiveEffectDuration=0,!0}finally{Yu.p=i,Ku.T=n,Gs(e,t)}}function Zs(e,t,n){t=ln(n,t),null!==(e=Sr(e,t=Fa(e.stateNode,t,2),2))&&(ie(e,2),ll(e))}function Xs(e,t,n){if(3===e.tag)Zs(e,e,n);else for(;null!==t;){if(3===t.tag)return void Zs(t,e,n);if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===wy||!wy.has(r)))return e=ln(n,e),void(null!==(r=Sr(t,n=Ba(2),2))&&(Ra(n,r,t,e),ie(r,2),ll(r)))}t=t.return}}function Qs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Lb;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(oy=!0,i.add(n),r=Js.bind(null,e,t,n),wd&&sl(e,n),t.then(r,r))}function Js(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ys()&&Ku.actQueue,qb===e&&(Vb&n)===n&&(ly===jb||ly===Ib&&(62914560&Vb)===Vb&&cd()-by<yy?(Hb&Ob)===Db&&Ts(e,0):dy|=n,py===Vb&&(py=0)),ll(e)}function el(e,t){0===t&&(t=ne()),null!==(e=hn(e,t))&&(ie(e,t),ll(e))}function tl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),el(e,n)}function nl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}null!==r&&r.delete(t),el(e,n)}function rl(e,t,n){if(67117056&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,i=t,a=i.type===Ou;a=n||a,22!==i.tag?67108864&i.flags?a&&Pe(i,il,r,i,(i.mode&mf)===uf):rl(r,i,a):null===i.memoizedState&&(a&&8192&i.flags?Pe(i,il,r,i):67108864&i.subtreeFlags&&Pe(i,rl,r,i,a)),t=t.sibling}}function il(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];H(!0);try{Jo(t),n&&gs(t),ts(e,t.alternate,t,!1),n&&ls(e,t,0,null,!1)}finally{H(!1)}}function al(e){var t=!0;e.current.mode&(pf|ff)||(t=!1),rl(e,e.current,t)}function ol(e){if((Hb&Ob)===Db){var t=e.tag;if(3===t||1===t||0===t||11===t||14===t||15===t){if(t=N(e)||"ReactComponent",null!==Gy){if(Gy.has(t))return;Gy.add(t)}else Gy=new Set([t]);Pe(e,function(){})}}}function sl(e,t){wd&&e.memoizedUpdaters.forEach(function(n){le(e,n,t)})}function ll(e){e!==Xy&&null===e.next&&(null===Xy?Zy=Xy=e:Xy=Xy.next=e),ex=!0,null!==Ku.actQueue?Jy||(Jy=!0,gl()):Qy||(Qy=!0,gl())}function cl(e,t){if(!tx&&ex){tx=!0;do{for(var n=!1,r=Zy;null!==r;){if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-_d(42|e)+1)-1,a=201326741&(a&=i&~(o&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,fl(r,a))}else a=Vb,!(3&(a=Q(r,r===qb?a:0,null!==r.cancelPendingCommit||r.timeoutHandle!==$x)))||J(r,a)||(n=!0,fl(r,a));r=r.next}}while(n);tx=!1}}function ul(){dl()}function dl(){ex=Jy=Qy=!1;var e=0;0!==nx&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Ix&&(Ix=e,!0);return Ix=null,!1}()&&(e=nx),nx=0);for(var t=cd(),n=null,r=Zy;null!==r;){var i=r.next,a=hl(r,t);0===a?(r.next=null,null===n?Zy=i:n.next=i,null===i&&(Xy=n)):(n=r,(0!==e||3&a)&&(ex=!0)),r=i}cl(e)}function hl(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-_d(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=ee(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=Vb,n=Q(e,e===(t=qb)?n:0,null!==e.cancelPendingCommit||e.timeoutHandle!==$x),r=e.callbackNode,0===n||e===t&&(ny===Kb||ny===ty)||null!==e.cancelPendingCommit)return null!==r&&ml(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||J(e,n)){if((t=n&-n)===e.callbackPriority&&(null===Ku.actQueue||r===rx))return t;switch(ml(r),ue(n)){case Td:case Md:n=hd;break;case Ad:n=pd;break;case Ld:n=md;break;default:n=pd}return r=pl.bind(null,e),null!==Ku.actQueue?(Ku.actQueue.push(r),n=rx):n=ad(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&ml(r),e.callbackPriority=2,e.callbackNode=null,2}function pl(e,t){if(Jf=Qf=!1,Dy!==Ey&&Dy!==Ly)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ks()&&e.callbackNode!==n)return null;var r=Vb;return 0===(r=Q(e,e===qb?r:0,null!==e.cancelPendingCommit||e.timeoutHandle!==$x))?null:(ws(e,r,t),hl(e,cd()),null!=e.callbackNode&&e.callbackNode===n?pl.bind(null,e):null)}function fl(e,t){if(Ks())return null;Qf=Jf,Jf=!1,ws(e,t,!0)}function ml(e){e!==rx&&null!==e&&od(e)}function gl(){null!==Ku.actQueue&&Ku.actQueue.push(function(){return dl(),null}),qx(function(){(Hb&(Ob|Pb))!==Db?ad(dd,ul):dl()})}function bl(){return 0===nx&&(nx=te()),nx}function yl(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:(j(e),Et(""+e))}function xl(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function vl(e,t,n){e.currentTarget=n;try{t(e)}catch(r){nb(r)}e.currentTarget=null}function kl(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n];e:{var i=void 0,a=r.event;if(r=r.listeners,t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;null!==l?Pe(l,vl,a,s,c):vl(a,s,c),i=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;null!==l?Pe(l,vl,a,s,c):vl(a,s,c),i=l}}}}function wl(e,t){ax.has(e);var n=t[Bd];void 0===n&&(n=t[Bd]=new Set);var r=e+"__bubble";n.has(r)||(Sl(t,e,2,!1),n.add(r))}function _l(e,t,n){ax.has(e);var r=0;t&&(r|=4),Sl(n,e,r,t)}function Cl(e){if(!e[ox]){e[ox]=!0,$d.forEach(function(t){"selectionchange"!==t&&(ax.has(t)||_l(t,!1,e),_l(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ox]||(t[ox]=!0,_l("selectionchange",!1,t))}}function Sl(e,t,n,r){switch(au(t)){case Td:var i=eu;break;case Md:i=tu;break;default:i=nu}n=i.bind(null,t,n,e),i=void 0,!Gh||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function El(e,t,n,r,i){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==s;){if(null===(o=pe(s)))return;if(5===(l=o.tag)||6===l||26===l||27===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Mt(function(){var r=a,i=Nt(n),o=[];e:{var s=Qp.get(e);if(void 0!==s){var l=np,c=e;switch(e){case"keypress":if(0===Dt(n))break e;case"keydown":case"keyup":l=gp;break;case"focusin":c="focus",l=lp;break;case"focusout":c="blur",l=lp;break;case"beforeblur":case"afterblur":l=lp;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=sp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=yp;break;case Vp:case Wp:case Gp:l=cp;break;case Xp:l=xp;break;case"scroll":case"scrollend":l=ip;break;case"wheel":l=vp;break;case"copy":case"cut":case"paste":l=up;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=bp;break;case"toggle":case"beforetoggle":l=kp}var u=!!(4&t),d=!u&&("scroll"===e||"scrollend"===e),h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var m=f;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===h||null!=(m=At(f,h))&&u.push(Nl(f,m,p)),d)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,i),o.push({event:s,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Hh||!(c=n.relatedTarget||n.fromElement)||!pe(c)&&!c[Fd])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?pe(c):null)&&(d=g(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=r),l!==c)){if(u=op,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=bp,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?s:me(l),p=null==c?s:me(c),(s=new u(m,f+"leave",l,n,i)).target=d,s.relatedTarget=p,m=null,pe(i)===r&&((u=new u(h,f+"enter",c,n,i)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Ml(p))f++;for(p=0,m=h;m;m=Ml(m))p++;for(;0<f-p;)u=Ml(u),f--;for(;0<p-f;)h=Ml(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Ml(u),h=Ml(h)}u=null}else u=null;null!==l&&Al(o,s,l,u,!1),null!==c&&null!==d&&Al(o,d,c,u,!0)}if("select"===(l=(s=r?me(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var b=Ut;else if(zt(s))if(Fp)b=Zt;else{b=Kt;var y=Gt}else!(l=s.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&wt(r.elementType)&&(b=Ut):b=Yt;switch(b&&(b=b(e,r))?$t(o,b,n,i):(y&&y(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&Ve(s,"number",s.value)),y=r?me(r):window,e){case"focusin":(zt(y)||"true"===y.contentEditable)&&(Ip=y,jp=r,zp=null);break;case"focusout":zp=jp=Ip=null;break;case"mousedown":$p=!0;break;case"contextmenu":case"mouseup":case"dragend":$p=!1,rn(o,n,i);break;case"selectionchange":if(Rp)break;case"keydown":case"keyup":rn(o,n,i)}var x;if(Cp)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Lp?It(e,n)&&(v="onCompositionEnd"):"keydown"===e&&n.keyCode===_p&&(v="onCompositionStart");v&&(Np&&"ko"!==n.locale&&(Lp||"onCompositionStart"!==v?"onCompositionEnd"===v&&Lp&&(x=Lt()):(Jh="value"in(Qh=i)?Qh.value:Qh.textContent,Lp=!0)),0<(y=Tl(r,v)).length&&(v=new dp(v,e,null,n,i),o.push({event:v,listeners:y}),x?v.data=x:null!==(x=jt(n))&&(v.data=x))),(x=Ep?function(e,t){switch(e){case"compositionend":return jt(t);case"keypress":return t.which!==Tp?null:(Ap=!0,Mp);case"textInput":return(e=t.data)===Mp&&Ap?null:e;default:return null}}(e,n):function(e,t){if(Lp)return"compositionend"===e||!Cp&&It(e,t)?(e=Lt(),ep=Jh=Qh=null,Lp=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Np&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(v=Tl(r,"onBeforeInput")).length&&(y=new hp("onBeforeInput","beforeinput",null,n,i),o.push({event:y,listeners:v}),y.data=x)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=yl((i[Pd]||null).action),o=r.submitter;o&&null!==(t=(t=o[Pd]||null)?yl(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var s=new np("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==nx){var e=o?xl(i,o):new FormData(i),t={pending:!0,data:e,method:i.method,action:a};Object.freeze(t),Yi(n,t,null,e)}}else"function"==typeof a&&(s.preventDefault(),t={pending:!0,data:e=o?xl(i,o):new FormData(i),method:i.method,action:a},Object.freeze(t),Yi(n,t,a,e))},currentTarget:i}]})}}(o,e,r,n,i)}kl(o,t)})}function Nl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Tl(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=At(e,n))&&r.unshift(Nl(e,i,a)),null!=(i=At(e,t))&&r.push(Nl(e,i,a))),3===e.tag)return r;e=e.return}return[]}function Ml(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Al(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=At(n,a))&&o.unshift(Nl(n,c,l)):i||null!=(c=At(n,a))&&o.push(Nl(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ll(e,t){!function(e,t){var n,r=[];for(n in t)Ct(e,n)||r.push(n);t=r.map(function(e){return"`"+e+"`"}).join(", "),1===r.length||r.length}(e,t),"input"!==e&&"textarea"!==e&&"select"!==e||null==t||null!==t.value||Fh||(Fh=!0,"select"===e&&t.multiple);var n={registrationNameDependencies:Hd,possibleRegistrationNames:qd};wt(e)||"string"==typeof t.is||function(e,t,n){var r,i=[];for(r in t)St(e,r,t[r],n)||i.push(r);t=i.map(function(e){return"`"+e+"`"}).join(", "),1===i.length||i.length}(e,t,n),t.contentEditable&&!t.suppressContentEditableWarning&&t.children}function Dl(e,t,n,r){t!==n&&(n=Fl(n),Fl(t)!==n&&(r[e]=t))}function Ol(e,t){}function Pl(e,t){return(e=e.namespaceURI===Nh||e.namespaceURI===Th?e.ownerDocument.createElementNS(e.namespaceURI,e.tagName):e.ownerDocument.createElement(e.tagName)).innerHTML=t,e.innerHTML}function Fl(e){return R(e)&&I(e),("string"==typeof e?e:""+e).replace(mx,"\n").replace(gx,"")}function Bl(e,t){return t=Fl(t),Fl(e)===t}function Rl(){}function Il(e,t,n,r,i,a){switch(n){case"children":"string"==typeof r?(yt(r,t,!1),"body"===t||"textarea"===t&&""===r||xt(e,r)):"number"!=typeof r&&"bigint"!=typeof r||(yt(""+r,t,!1),"body"!==t&&xt(e,""+r));break;case"className":Ce(e,"class",r);break;case"tabIndex":Ce(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Ce(e,n,r);break;case"style":kt(e,r,a);break;case"data":if("object"!==t){Ce(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}j(r),r=Et(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(null!=r&&("form"===t?"formAction"===n||"function"==typeof r&&(null==i.encType&&null==i.method||hx||(hx=!0),null==i.target||dx||(dx=!0)):("input"===t||"button"===t)&&("action"===n||("input"===t&&"submit"!==i.type&&"image"!==i.type&&!cx||"button"===t&&null!=i.type&&"submit"!==i.type&&!cx?cx=!0:"function"==typeof r&&(null==i.name||ux||(ux=!0),null==i.formEncType&&null==i.formMethod||hx||(hx=!0),null==i.formTarget||dx||(dx=!0))))),"function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===n?("input"!==t&&Il(e,t,"name",i.name,i,null),Il(e,t,"formEncType",i.formEncType,i,null),Il(e,t,"formMethod",i.formMethod,i,null),Il(e,t,"formTarget",i.formTarget,i,null)):(Il(e,t,"encType",i.encType,i,null),Il(e,t,"method",i.method,i,null),Il(e,t,"target",i.target,i,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}j(r),r=Et(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Rl);break;case"onScroll":null!=r&&wl("scroll",e);break;case"onScrollEnd":null!=r&&wl("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(null!=(n=r.__html)){if(null!=i.children)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}j(r),n=Et(""+r),e.setAttributeNS(bx,"xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?(j(r),e.setAttribute(n,""+r)):e.removeAttribute(n);break;case"inert":""!==r||fx[n]||(fx[n]=!0);case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?(j(r),e.setAttribute(n,r)):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?(j(r),e.setAttribute(n,r)):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):(j(r),e.setAttribute(n,r));break;case"popover":wl("beforetoggle",e),wl("toggle",e),_e(e,"popover",r);break;case"xlinkActuate":Se(e,bx,"xlink:actuate",r);break;case"xlinkArcrole":Se(e,bx,"xlink:arcrole",r);break;case"xlinkRole":Se(e,bx,"xlink:role",r);break;case"xlinkShow":Se(e,bx,"xlink:show",r);break;case"xlinkTitle":Se(e,bx,"xlink:title",r);break;case"xlinkType":Se(e,bx,"xlink:type",r);break;case"xmlBase":Se(e,yx,"xml:base",r);break;case"xmlLang":Se(e,yx,"xml:lang",r);break;case"xmlSpace":Se(e,yx,"xml:space",r);break;case"is":_e(e,"is",r);break;case"innerText":case"textContent":break;case"popoverTarget":px||null==r||"object"!=typeof r||(px=!0);default:!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1]?_e(e,n=_t(n),r):Hd.hasOwnProperty(n)}}function jl(e,t,n,r,i,a){switch(n){case"style":kt(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(null!=(n=r.__html)){if(null!=i.children)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");e.innerHTML=n}}break;case"children":"string"==typeof r?xt(e,r):("number"==typeof r||"bigint"==typeof r)&&xt(e,""+r);break;case"onScroll":null!=r&&wl("scroll",e);break;case"onScrollEnd":null!=r&&wl("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Rl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Hd.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"==typeof(a=null!=(a=e[Pd]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):_e(e,n,r):("function"!=typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function zl(e,t,n){switch(Ll(t,n),t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wl("error",e),wl("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(t+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:Il(e,t,r,o,n,null)}}return a&&Il(e,t,"srcSet",n.srcSet,n,null),void(i&&Il(e,t,"src",n.src,n,null));case"input":ve(0,n),wl("invalid",e);var s=r=o=a=null,l=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var u=n[i];if(null!=u)switch(i){case"name":a=u;break;case"type":o=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":r=u;break;case"defaultValue":s=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(t+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:Il(e,t,i,u,n,null)}}return He(0,n),Ue(e,r,s,l,c,o,a,!1),void Ie(e);case"select":for(a in ve(0,n),wl("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(s=n[a]))switch(a){case"value":r=s;break;case"defaultValue":o=s;break;case"multiple":i=s;default:Il(e,t,a,s,n,null)}return Ke(e,n),t=r,n=o,e.multiple=!!i,void(null!=t?Ge(e,!!i,t,!1):null!=n&&Ge(e,!!i,n,!0));case"textarea":for(o in ve(0,n),wl("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(o)&&null!=(s=n[o]))switch(o){case"value":i=s;break;case"defaultValue":a=s;break;case"children":r=s;break;case"dangerouslySetInnerHTML":if(null!=s)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:Il(e,t,o,s,n,null)}return Ye(0,n),Xe(e,i,a,r),void Ie(e);case"option":for(l in We(0,n),n)if(n.hasOwnProperty(l)&&null!=(i=n[l]))if("selected"===l)e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i;else Il(e,t,l,i,n,null);return;case"dialog":wl("beforetoggle",e),wl("toggle",e),wl("cancel",e),wl("close",e);break;case"iframe":case"object":wl("load",e);break;case"video":case"audio":for(i=0;i<ix.length;i++)wl(ix[i],e);break;case"image":wl("error",e),wl("load",e);break;case"details":wl("toggle",e);break;case"embed":case"source":case"link":wl("error",e),wl("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(t+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:Il(e,t,c,i,n,null)}return;default:if(wt(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(i=n[u])&&jl(e,t,u,i,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(null!=(i=n[s])&&Il(e,t,s,i,n,null))}function $l(e){switch(e){case"class":return"className";case"for":return"htmlFor";default:return e}}function Hl(e){var t={};e=e.style;for(var n=0;n<e.length;n++){var r=e[n];t[r]=e.getPropertyValue(r)}return t}function ql(e,t,n){if(null!=t&&"object"!=typeof t);else{var r,i,a=r="";for(i in t)if(t.hasOwnProperty(i)){var o=t[i];null!=o&&"boolean"!=typeof o&&""!==o&&(0===i.indexOf("--")?(z(o),r+=a+i+":"+(""+o).trim()):"number"!=typeof o||0===o||Eh.has(i)?(z(o),r+=a+i.replace(yh,"-$1").toLowerCase().replace(xh,"-ms-")+":"+(""+o).trim()):r+=a+i.replace(yh,"-$1").toLowerCase().replace(xh,"-ms-")+":"+o+"px",a=";")}r=r||null,(t=e.getAttribute("style"))!==r&&(r=Fl(r),Fl(t)!==r&&(n.style=Hl(e)))}}function Ul(e,t,n,r,i,a){if(i.delete(n),null===(e=e.getAttribute(n)))switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return}else if(null!=r)switch(typeof r){case"function":case"symbol":case"boolean":break;default:if(j(r),e===""+r)return}Dl(t,e,r,a)}function Vl(e,t,n,r,i,a){if(i.delete(n),null===(e=e.getAttribute(n))){switch(typeof r){case"function":case"symbol":return}if(!r)return}else switch(typeof r){case"function":case"symbol":break;default:if(r)return}Dl(t,e,r,a)}function Wl(e,t,n,r,i,a){if(i.delete(n),null===(e=e.getAttribute(n)))switch(typeof r){case"undefined":case"function":case"symbol":return}else if(null!=r)switch(typeof r){case"function":case"symbol":break;default:if(j(r),e===""+r)return}Dl(t,e,r,a)}function Gl(e,t,n,r,i,a){if(i.delete(n),null===(e=e.getAttribute(n)))switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return;default:if(isNaN(r))return}else if(null!=r)switch(typeof r){case"function":case"symbol":case"boolean":break;default:if(!isNaN(r)&&(j(r),e===""+r))return}Dl(t,e,r,a)}function Kl(e,t,n,r,i,a){if(i.delete(n),null===(e=e.getAttribute(n)))switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return}else if(null!=r)switch(typeof r){case"function":case"symbol":case"boolean":break;default:if(j(r),e===(n=Et(""+r)))return}Dl(t,e,r,a)}function Yl(e,t,n,r){for(var i={},a=new Set,o=e.attributes,s=0;s<o.length;s++)switch(o[s].name.toLowerCase()){case"value":case"checked":case"selected":break;default:a.add(o[s].name)}if(wt(t)){for(var l in n)if(n.hasOwnProperty(l)){var c=n[l];if(null!=c)if(Hd.hasOwnProperty(l))"function"!=typeof c&&Ol();else if(!0!==n.suppressHydrationWarning)switch(l){case"children":"string"!=typeof c&&"number"!=typeof c||Dl("children",e.textContent,c,i);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":o=e.innerHTML,null!=(c=c?c.__html:void 0)&&Dl(l,o,c=Pl(e,c),i);continue;case"style":a.delete(l),ql(e,c,i);continue;case"offsetParent":case"offsetTop":case"offsetLeft":case"offsetWidth":case"offsetHeight":case"isContentEditable":case"outerText":case"outerHTML":a.delete(l.toLowerCase());continue;case"className":a.delete("class"),Dl("className",o=we(e,"class",c),c,i);continue;default:r.context===Dx&&"svg"!==t&&"math"!==t?a.delete(l.toLowerCase()):a.delete(l),Dl(l,o=we(e,l,c),c,i)}}}else for(c in n)if(n.hasOwnProperty(c)&&null!=(l=n[c]))if(Hd.hasOwnProperty(c))"function"!=typeof l&&Ol();else if(!0!==n.suppressHydrationWarning)switch(c){case"children":"string"!=typeof l&&"number"!=typeof l||Dl("children",e.textContent,l,i);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"value":case"checked":case"selected":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":o=e.innerHTML,null!=(l=l?l.__html:void 0)&&(o!==(l=Pl(e,l))&&(i[c]={__html:o}));continue;case"className":Ul(e,c,"class",l,a,i);continue;case"tabIndex":Ul(e,c,"tabindex",l,a,i);continue;case"style":a.delete(c),ql(e,l,i);continue;case"multiple":a.delete(c),Dl(c,e.multiple,l,i);continue;case"muted":a.delete(c),Dl(c,e.muted,l,i);continue;case"autoFocus":a.delete("autofocus"),Dl(c,e.autofocus,l,i);continue;case"data":if("object"!==t){a.delete(c),Dl(c,o=e.getAttribute("data"),l,i);continue}case"src":case"href":if(!(""!==l||"a"===t&&"href"===c||"object"===t&&"data"===c))continue;Kl(e,c,c,l,a,i);continue;case"action":case"formAction":if(o=e.getAttribute(c),"function"==typeof l){a.delete(c.toLowerCase()),"formAction"===c?(a.delete("name"),a.delete("formenctype"),a.delete("formmethod"),a.delete("formtarget")):(a.delete("enctype"),a.delete("method"),a.delete("target"));continue}if(o===xx){a.delete(c.toLowerCase()),Dl(c,"function",l,i);continue}Kl(e,c,c.toLowerCase(),l,a,i);continue;case"xlinkHref":Kl(e,c,"xlink:href",l,a,i);continue;case"contentEditable":Wl(e,c,"contenteditable",l,a,i);continue;case"spellCheck":Wl(e,c,"spellcheck",l,a,i);continue;case"draggable":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":Wl(e,c,c,l,a,i);continue;case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":Vl(e,c,c.toLowerCase(),l,a,i);continue;case"capture":case"download":e:{s=e;var u=o=c,d=i;if(a.delete(u),null===(s=s.getAttribute(u)))switch(typeof l){case"undefined":case"function":case"symbol":break e;default:if(!1===l)break e}else if(null!=l)switch(typeof l){case"function":case"symbol":break;case"boolean":if(!0===l&&""===s)break e;break;default:if(j(l),s===""+l)break e}Dl(o,s,l,d)}continue;case"cols":case"rows":case"size":case"span":e:{if(s=e,u=o=c,d=i,a.delete(u),null===(s=s.getAttribute(u)))switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":break e;default:if(isNaN(l)||1>l)break e}else if(null!=l)switch(typeof l){case"function":case"symbol":case"boolean":break;default:if(!(isNaN(l)||1>l)&&(j(l),s===""+l))break e}Dl(o,s,l,d)}continue;case"rowSpan":Gl(e,c,"rowspan",l,a,i);continue;case"start":Gl(e,c,c,l,a,i);continue;case"xHeight":Ul(e,c,"x-height",l,a,i);continue;case"xlinkActuate":Ul(e,c,"xlink:actuate",l,a,i);continue;case"xlinkArcrole":Ul(e,c,"xlink:arcrole",l,a,i);continue;case"xlinkRole":Ul(e,c,"xlink:role",l,a,i);continue;case"xlinkShow":Ul(e,c,"xlink:show",l,a,i);continue;case"xlinkTitle":Ul(e,c,"xlink:title",l,a,i);continue;case"xlinkType":Ul(e,c,"xlink:type",l,a,i);continue;case"xmlBase":Ul(e,c,"xml:base",l,a,i);continue;case"xmlLang":Ul(e,c,"xml:lang",l,a,i);continue;case"xmlSpace":Ul(e,c,"xml:space",l,a,i);continue;case"inert":""!==l||fx[c]||(fx[c]=!0),Vl(e,c,c,l,a,i);continue;default:if(!(2<c.length)||"o"!==c[0]&&"O"!==c[0]||"n"!==c[1]&&"N"!==c[1]){s=_t(c),o=!1,r.context===Dx&&"svg"!==t&&"math"!==t?a.delete(s.toLowerCase()):(u=c.toLowerCase(),null!==(u=Ah.hasOwnProperty(u)&&Ah[u]||null)&&u!==c&&(o=!0,a.delete(u)),a.delete(s));e:if(u=e,d=s,s=l,ke(d))if(u.hasAttribute(d))u=u.getAttribute(d),j(s),s=u===""+s?s:u;else{switch(typeof s){case"function":case"symbol":break e;case"boolean":if("data-"!==(u=d.toLowerCase().slice(0,5))&&"aria-"!==u)break e}s=void 0===s?void 0:null}else s=void 0;o||Dl(c,s,l,i)}}return 0<a.size&&!0!==n.suppressHydrationWarning&&function(e,t,n){t.forEach(function(t){n[$l(t)]="style"===t?Hl(e):e.getAttribute(t)})}(e,a,i),0===Object.keys(i).length?null:i}function Zl(e){return 9===e.nodeType?e:e.ownerDocument}function Xl(e){switch(e){case Th:return Ox;case Nh:return Px;default:return Dx}}function Ql(e,t){if(e===Dx)switch(t){case"svg":return Ox;case"math":return Px;default:return Dx}return e===Ox&&"foreignObject"===t?Dx:e}function Jl(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function ec(e){setTimeout(function(){throw e})}function tc(e,t,n){switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&e.focus();break;case"img":n.src?e.src=n.src:n.srcSet&&(e.srcset=n.srcSet)}}function nc(e,t,n,r){!function(e,t,n,r){switch(Ll(t,r),t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,s=null,l=null,c=null,u=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(p)||Il(e,t,p,null,r,d)}}for(var h in r){var p=r[h];if(d=n[h],r.hasOwnProperty(h)&&(null!=p||null!=d))switch(h){case"type":a=p;break;case"name":i=p;break;case"checked":c=p;break;case"defaultChecked":u=p;break;case"value":o=p;break;case"defaultValue":s=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(t+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:p!==d&&Il(e,t,h,p,r,d)}}return t="checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value,r="checkbox"===r.type||"radio"===r.type?null!=r.checked:null!=r.value,t||!r||lx||(lx=!0),!t||r||sx||(sx=!0),void qe(e,o,s,l,c,u,a,i);case"select":for(a in p=o=s=h=null,n)if(l=n[a],n.hasOwnProperty(a)&&null!=l)switch(a){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(a)||Il(e,t,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(null!=a||null!=l))switch(i){case"value":h=a;break;case"defaultValue":s=a;break;case"multiple":o=a;default:a!==l&&Il(e,t,i,a,r,l)}return r=s,t=o,n=p,void(null!=h?Ge(e,!!t,h,!1):!!n!=!!t&&(null!=r?Ge(e,!!t,r,!0):Ge(e,!!t,t?[]:"",!1)));case"textarea":for(s in p=h=null,n)if(i=n[s],n.hasOwnProperty(s)&&null!=i&&!r.hasOwnProperty(s))switch(s){case"value":case"children":break;default:Il(e,t,s,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(null!=i||null!=a))switch(o){case"value":h=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:i!==a&&Il(e,t,o,i,r,a)}return void Ze(e,h,p);case"option":for(var f in n)h=n[f],n.hasOwnProperty(f)&&null!=h&&!r.hasOwnProperty(f)&&("selected"===f?e.selected=!1:Il(e,t,f,null,r,h));for(l in r)h=r[l],p=n[l],!r.hasOwnProperty(l)||h===p||null==h&&null==p||("selected"===l?e.selected=h&&"function"!=typeof h&&"symbol"!=typeof h:Il(e,t,l,h,r,p));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)h=n[m],n.hasOwnProperty(m)&&null!=h&&!r.hasOwnProperty(m)&&Il(e,t,m,null,r,h);for(c in r)if(h=r[c],p=n[c],r.hasOwnProperty(c)&&h!==p&&(null!=h||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(t+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:Il(e,t,c,h,r,p)}return;default:if(wt(t)){for(var g in n)h=n[g],n.hasOwnProperty(g)&&void 0!==h&&!r.hasOwnProperty(g)&&jl(e,t,g,void 0,r,h);for(u in r)h=r[u],p=n[u],!r.hasOwnProperty(u)||h===p||void 0===h&&void 0===p||jl(e,t,u,h,r,p);return}}for(var b in n)h=n[b],n.hasOwnProperty(b)&&null!=h&&!r.hasOwnProperty(b)&&Il(e,t,b,null,r,h);for(d in r)h=r[d],p=n[d],!r.hasOwnProperty(d)||h===p||null==h&&null==p||Il(e,t,d,h,r,p)}(e,t,n,r),e[Pd]=r}function rc(e){xt(e,"")}function ic(e,t,n){e.nodeValue=n}function ac(e){return"head"===e}function oc(e,t){e.removeChild(t)}function sc(e,t){(9===e.nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e).removeChild(t)}function lc(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if((n=a.data)===wx){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(n&Sx&&Cc(o.documentElement),n&Ex&&Cc(o.body),n&Nx)for(Cc(n=o.head),o=n.firstChild;o;){var s=o.nextSibling,l=o.nodeName;o[zd]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}if(0===i)return e.removeChild(a),void fu(t);i--}else n===kx||n===_x||n===Cx?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);fu(t)}function cc(e){"function"==typeof(e=e.style).setProperty?e.setProperty("display","none","important"):e.display="none"}function uc(e){e.nodeValue=""}function dc(e,t){t=null!=(t=t[Lx])&&t.hasOwnProperty("display")?t.display:null,e.style.display=null==t||"boolean"==typeof t?"":(""+t).trim()}function hc(e,t){e.nodeValue=t}function pc(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":pc(n),he(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function fc(e){return e.data===Cx||e.data===_x&&e.ownerDocument.readyState===Ax}function mc(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if((t=e.data)===kx||t===Cx||t===_x||t===Tx||t===Mx)break;if(t===wx)return null}}return e}function gc(e){if(1===e.nodeType){for(var t=e.nodeName.toLowerCase(),n={},r=e.attributes,i=0;i<r.length;i++){var a=r[i];n[$l(a.name)]="style"===a.name.toLowerCase()?Hl(e):a.value}return{type:t,props:n}}return 8===e.nodeType?{type:"Suspense",props:{}}:e.nodeValue}function bc(e,t,n){return null===n||!0!==n[vx]?(e.nodeValue===t?e=null:(t=Fl(t),e=Fl(e.nodeValue)===t?null:e.nodeValue),e):null}function yc(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===wx){if(0===t)return mc(e.nextSibling);t--}else n!==kx&&n!==Cx&&n!==_x||t++}e=e.nextSibling}return null}function xc(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===kx||n===Cx||n===_x){if(0===t)return e;t--}else n===wx&&t++}e=e.previousSibling}return null}function vc(e){fu(e)}function kc(e){fu(e)}function wc(e,t,n,r,i){switch(i&&bt(e,r.ancestorInfo),t=Zl(n),e){case"html":if(!(e=t.documentElement))throw Error("React expected an <html> element (document.documentElement) to exist in the Document but one was not found. React never removes the documentElement for any Document it renders into so the cause is likely in some other script running on this page.");return e;case"head":if(!(e=t.head))throw Error("React expected a <head> element (document.head) to exist in the Document but one was not found. React never removes the head for any Document it renders into so the cause is likely in some other script running on this page.");return e;case"body":if(!(e=t.body))throw Error("React expected a <body> element (document.body) to exist in the Document but one was not found. React never removes the body for any Document it renders into so the cause is likely in some other script running on this page.");return e;default:throw Error("resolveSingletonInstance was called with an element type that is not supported. This is a bug in React.")}}function _c(e,t,n,r){if(!n[Fd]&&fe(n))var i=n.tagName.toLowerCase();for(i=n.attributes;i.length;)n.removeAttributeNode(i[0]);zl(n,e,t),n[Od]=r,n[Pd]=t}function Cc(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);he(e)}function Sc(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}function Ec(e,t,n){var r=lv;if(r&&"string"==typeof t&&t){var i=$e(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),Xx.has(i)||(Xx.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(zl(t=r.createElement("link"),"link",e),be(t),r.head.appendChild(t)))}}function Nc(e,t,n,r){var i=(i=nd.current)?Sc(i):null;if(!i)throw Error('"resourceRoot" was expected to exist. This is a bug in React.');switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(n=Mc(n.href),(r=(t=ge(i).hoistableStyles).get(n))||(r={type:"style",instance:null,count:0,state:null},t.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Mc(n.href);var a=ge(i).hoistableStyles,o=a.get(e);if(!o&&(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:Vx,preload:null}},a.set(e,o),(a=i.querySelector(Ac(e)))&&!a._p&&(o.instance=a,o.state.loading=Wx|Yx),!Zx.has(e))){var s={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy};Zx.set(e,s),a||function(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=Wx:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=Wx}),t.addEventListener("error",function(){return r.loading|=Gx}),zl(t,"link",n),be(t),e.head.appendChild(t))}(i,e,s,o.state)}if(t&&null===r)throw n="\n\n  - "+Tc(t)+"\n  + "+Tc(n),Error("Expected <link> not to update to be updated to a stylesheet with precedence. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+n);return o}if(t&&null!==r)throw n="\n\n  - "+Tc(t)+"\n  + "+Tc(n),Error("Expected stylesheet with precedence to not be updated to a different kind of <link>. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+n);return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(n=Dc(n),(r=(t=ge(i).hoistableScripts).get(n))||(r={type:"script",instance:null,count:0,state:null},t.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error('getResource encountered a type it did not expect: "'+e+'". this is a bug in React.')}}function Tc(e){var t=0,n="<link";return"string"==typeof e.rel?(t++,n+=' rel="'+e.rel+'"'):id.call(e,"rel")&&(t++,n+=' rel="'+(null===e.rel?"null":"invalid type "+typeof e.rel)+'"'),"string"==typeof e.href?(t++,n+=' href="'+e.href+'"'):id.call(e,"href")&&(t++,n+=' href="'+(null===e.href?"null":"invalid type "+typeof e.href)+'"'),"string"==typeof e.precedence?(t++,n+=' precedence="'+e.precedence+'"'):id.call(e,"precedence")&&(t++,n+=" precedence={"+(null===e.precedence?"null":"invalid type "+typeof e.precedence)+"}"),Object.getOwnPropertyNames(e).length>t&&(n+=" ..."),n+" />"}function Mc(e){return'href="'+$e(e)+'"'}function Ac(e){return'link[rel="stylesheet"]['+e+"]"}function Lc(e){return Tu({},e,{"data-precedence":e.precedence,precedence:null})}function Dc(e){return'[src="'+$e(e)+'"]'}function Oc(e){return"script[async]"+e}function Pc(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+$e(n.href)+'"]');if(r)return t.instance=r,be(r),r;var i=Tu({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return be(r=(e.ownerDocument||e).createElement("style")),zl(r,"style",i),Fc(r,n.precedence,e),t.instance=r;case"stylesheet":i=Mc(n.href);var a=e.querySelector(Ac(i));if(a)return t.state.loading|=Yx,t.instance=a,be(a),a;r=Lc(n),(i=Zx.get(i))&&Bc(r,i),be(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),zl(a,"link",r),t.state.loading|=Yx,Fc(a,n.precedence,e),t.instance=a;case"script":return a=Dc(n.src),(i=e.querySelector(Oc(a)))?(t.instance=i,be(i),i):(r=n,(i=Zx.get(a))&&Rc(r=Tu({},n),i),be(i=(e=e.ownerDocument||e).createElement("script")),zl(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error('acquireResource encountered a resource type it did not expect: "'+t.type+'". this is a bug in React.')}else"stylesheet"===t.type&&(t.state.loading&Yx)===Vx&&(r=t.instance,t.state.loading|=Yx,Fc(r,n.precedence,e));return t.instance}function Fc(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Bc(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Rc(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}function Ic(e,t,n){if(null===cv){var r=new Map,i=cv=new Map;i.set(n,r)}else(r=(i=cv).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[zd]||a[Od]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&a.namespaceURI!==Th){var o=a.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function jc(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function zc(e){return"stylesheet"!==e.type||(e.state.loading&Kx)!==Vx}function $c(){}function Hc(){if(this.count--,0===this.count)if(this.stylesheets)qc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}function qc(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,hv=new Map,t.forEach(Uc,e),hv=null,Hc.call(e))}function Uc(e,t){if(!(t.state.loading&Yx)){var n=hv.get(e);if(n)var r=n.get(dv);else{n=new Map,hv.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(dv,r)}o=(i=t.instance).getAttribute("data-precedence"),(a=n.get(o)||r)===r&&n.set(dv,i),n.set(o,i),this.count++,r=Hc.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=Yx}}function Vc(e,t,n,r,i,a,o,s){for(this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=$x,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=re(0),this.hiddenUpdates=re(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map,this.passiveEffectDuration=this.effectDuration=-0,this.memoizedUpdaters=new Set,e=this.pendingUpdatersLaneMap=[],t=0;31>t;t++)e.push(new Set);this._debugRootType=n?"hydrateRoot()":"createRoot()"}function Wc(e,t,n,r,i,a,o,s,l,c,u,h){return e=new Vc(e,t,n,o,s,l,c,h),t=df,!0===a&&(t|=pf|ff),wd&&(t|=hf),a=d(3,null,null,t),e.current=a,a.stateNode=e,nr(t=tr()),e.pooledCache=t,nr(t),a.memoizedState={element:r,isDehydrated:n,cache:t},wr(a),e}function Gc(e){return e?e=sf:sf}function Kc(e,t,n,r,i,a){if(xd&&"function"==typeof xd.onScheduleFiberRoot)try{xd.onScheduleFiberRoot(yd,r,n)}catch(o){kd||(kd=!0)}null!==vd&&"function"==typeof vd.markRenderScheduled&&vd.markRenderScheduled(t),i=Gc(i),null===r.context?r.context=i:r.pendingContext=i,eh&&null!==Jd&&!vv&&(vv=!0),(r=Cr(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=Sr(e,r,t))&&(ks(n,e,t),Er(n,e,t))}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Zc(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}function Xc(e){if(13===e.tag){var t=hn(e,67108864);null!==t&&ks(t,e,67108864),Zc(e,67108864)}}function Qc(){return Jd}function Jc(){for(var e=new Map,t=1,n=0;31>n;n++){var r=Z(t);e.set(t,r),t*=2}return e}function eu(e,t,n,r){var i=Ku.T;Ku.T=null;var a=Yu.p;try{Yu.p=Td,nu(e,t,n,r)}finally{Yu.p=a,Ku.T=i}}function tu(e,t,n,r){var i=Ku.T;Ku.T=null;var a=Yu.p;try{Yu.p=Md,nu(e,t,n,r)}finally{Yu.p=a,Ku.T=i}}function nu(e,t,n,r){if(wv){var i=ru(r);if(null===i)El(e,t,r,_v,n),ou(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Sv=su(Sv,e,t,n,r,i),!0;case"dragenter":return Ev=su(Ev,e,t,n,r,i),!0;case"mouseover":return Nv=su(Nv,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Tv.set(a,su(Tv.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Mv.set(a,su(Mv.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(ou(e,r),4&t&&-1<Lv.indexOf(e)){for(;null!==i;){var a=fe(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=X(a.pendingLanes);if(0!==o){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-_d(o);s.entanglements[1]|=l,o&=~l}ll(a),(Hb&(Ob|Pb))===Db&&(xy=cd()+vy,cl(0))}}break;case 13:null!==(s=hn(a,2))&&ks(s,a,2),Es(),Zc(a,2)}if(null===(a=ru(r))&&El(e,t,r,_v,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else El(e,t,r,null,n)}}function ru(e){return iu(e=Nt(e))}function iu(e){if(_v=null,null!==(e=pe(e))){var t=g(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=b(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _v=e,null}function au(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return Td;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return Md;case"message":switch(ud()){case dd:return Td;case hd:return Md;case pd:case fd:return Ad;case md:return Ld;default:return Ad}default:return Ad}}function ou(e,t){switch(e){case"focusin":case"focusout":Sv=null;break;case"dragenter":case"dragleave":Ev=null;break;case"mouseover":case"mouseout":Nv=null;break;case"pointerover":case"pointerout":Tv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mv.delete(t.pointerId)}}function su(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=fe(t))&&Xc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function lu(e){var t=pe(e.target);if(null!==t){var n=g(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=b(n)))return e.blockedOn=t,void function(e,t){var n=Yu.p;try{return Yu.p=e,t()}finally{Yu.p=n}}(e.priority,function(){if(13===n.tag){var e=xs(n);e=se(e);var t=hn(n,e);null!==t&&ks(t,n,e),Zc(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function cu(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ru(e.nativeEvent);if(null!==n)return null!==(t=fe(n))&&Xc(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Hh=r,n.target.dispatchEvent(r),Hh=null,t.shift()}return!0}function uu(e,t,n){cu(e)&&n.delete(t)}function du(){Cv=!1,null!==Sv&&cu(Sv)&&(Sv=null),null!==Ev&&cu(Ev)&&(Ev=null),null!==Nv&&cu(Nv)&&(Nv=null),Tv.forEach(uu),Mv.forEach(uu)}function hu(e,t){e.blockedOn===t&&(e.blockedOn=null,Cv||(Cv=!0,Su.unstable_scheduleCallback(Su.unstable_NormalPriority,du)))}function pu(e){Dv!==e&&(Dv=e,Su.unstable_scheduleCallback(Su.unstable_NormalPriority,function(){Dv===e&&(Dv=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!=typeof r){if(null===iu(r||n))continue;break}var a=fe(n);null!==a&&(e.splice(t,3),t-=3,n={pending:!0,data:i,method:n.method,action:r},Object.freeze(n),Yi(a,n,r,i))}}))}function fu(e){function t(t){return hu(t,e)}null!==Sv&&hu(Sv,e),null!==Ev&&hu(Ev,e),null!==Nv&&hu(Nv,e),Tv.forEach(t),Mv.forEach(t);for(var n=0;n<Av.length;n++){var r=Av[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Av.length&&null===(n=Av[0]).blockedOn;)lu(n),null===n.blockedOn&&Av.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[Pd]||null;if("function"==typeof a)o||pu(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[Pd]||null)s=o.formAction;else if(null!==iu(i))continue}else s=o.action;"function"==typeof s?n[r+1]=s:(n.splice(r,3),r-=3),pu(n)}}}function mu(e){this._internalRoot=e}function gu(e){this._internalRoot=e}function bu(e){e[Fd]&&e._reactRootContainer}"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var yu,xu,vu,ku,wu,_u,Cu,Su=k(),Eu=u(),Nu=(_||(_=1,E.exports=T()),E.exports),Tu=Object.assign,Mu=Symbol.for("react.element"),Au=Symbol.for("react.transitional.element"),Lu=Symbol.for("react.portal"),Du=Symbol.for("react.fragment"),Ou=Symbol.for("react.strict_mode"),Pu=Symbol.for("react.profiler"),Fu=Symbol.for("react.provider"),Bu=Symbol.for("react.consumer"),Ru=Symbol.for("react.context"),Iu=Symbol.for("react.forward_ref"),ju=Symbol.for("react.suspense"),zu=Symbol.for("react.suspense_list"),$u=Symbol.for("react.memo"),Hu=Symbol.for("react.lazy"),qu=Symbol.for("react.activity"),Uu=Symbol.for("react.memo_cache_sentinel"),Vu=Symbol.iterator,Wu=Symbol.for("react.client.reference"),Gu=Array.isArray,Ku=Eu.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Yu=Nu.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Zu=Object.freeze({pending:!1,data:null,method:null,action:null}),Xu=[],Qu=[],Ju=-1,ed=M(null),td=M(null),nd=M(null),rd=M(null),id=Object.prototype.hasOwnProperty,ad=Su.unstable_scheduleCallback,od=Su.unstable_cancelCallback,sd=Su.unstable_shouldYield,ld=Su.unstable_requestPaint,cd=Su.unstable_now,ud=Su.unstable_getCurrentPriorityLevel,dd=Su.unstable_ImmediatePriority,hd=Su.unstable_UserBlockingPriority,pd=Su.unstable_NormalPriority,fd=Su.unstable_LowPriority,md=Su.unstable_IdlePriority,gd=Su.log,bd=Su.unstable_setDisableYieldValue,yd=null,xd=null,vd=null,kd=!1,wd="undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__,_d=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Cd(e)/Sd|0)|0},Cd=Math.log,Sd=Math.LN2,Ed=256,Nd=4194304,Td=2,Md=8,Ad=32,Ld=268435456,Dd=Math.random().toString(36).slice(2),Od="__reactFiber$"+Dd,Pd="__reactProps$"+Dd,Fd="__reactContainer$"+Dd,Bd="__reactEvents$"+Dd,Rd="__reactListeners$"+Dd,Id="__reactHandles$"+Dd,jd="__reactResources$"+Dd,zd="__reactMarker$"+Dd,$d=new Set,Hd={},qd={},Ud={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},Vd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wd={},Gd={},Kd=0;Ee.__reactDisabledLog=!0;var Yd,Zd,Xd=!1,Qd=new("function"==typeof WeakMap?WeakMap:Map),Jd=null,eh=!1,th=/[\n"\\]/g,nh=!1,rh=!1,ih=!1,ah=!1,oh=!1,sh=!1,lh=["value","defaultValue"],ch=!1,uh=/["'&<>\n\t]|^\s|\s$/,dh="address applet area article aside base basefont bgsound blockquote body br button caption center col colgroup dd details dir div dl dt embed fieldset figcaption figure footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html iframe img input isindex li link listing main marquee menu menuitem meta nav noembed noframes noscript object ol p param plaintext pre script section select source style summary table tbody td template textarea tfoot th thead title tr track ul wbr xmp".split(" "),hh="applet caption html table td th marquee object template foreignObject desc title".split(" "),ph=hh.concat(["button"]),fh="dd dt li option optgroup p rp rt".split(" "),mh={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null,containerTagInScope:null,implicitRootScope:!1},gh={},bh={animation:"animationDelay animationDirection animationDuration animationFillMode animationIterationCount animationName animationPlayState animationTimingFunction".split(" "),background:"backgroundAttachment backgroundClip backgroundColor backgroundImage backgroundOrigin backgroundPositionX backgroundPositionY backgroundRepeat backgroundSize".split(" "),backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:"borderBottomColor borderBottomStyle borderBottomWidth borderImageOutset borderImageRepeat borderImageSlice borderImageSource borderImageWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderTopColor borderTopStyle borderTopWidth".split(" "),borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:"fontFamily fontFeatureSettings fontKerning fontLanguageOverride fontSize fontSizeAdjust fontStretch fontStyle fontVariant fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition fontWeight lineHeight".split(" "),fontVariant:"fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition".split(" "),gap:["columnGap","rowGap"],grid:"gridAutoColumns gridAutoFlow gridAutoRows gridTemplateAreas gridTemplateColumns gridTemplateRows".split(" "),gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:"maskClip maskComposite maskImage maskMode maskOrigin maskPositionX maskPositionY maskRepeat maskSize".split(" "),maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},yh=/([A-Z])/g,xh=/^ms-/,vh=/^(?:webkit|moz|o)[A-Z]/,kh=/;\s*$/,wh={},_h={},Ch=!1,Sh=!1,Eh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),Nh="http://www.w3.org/1998/Math/MathML",Th="http://www.w3.org/2000/svg",Mh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ah={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",fetchpriority:"fetchPriority",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",inert:"inert",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",popover:"popover",popovertarget:"popoverTarget",popovertargetaction:"popoverTargetAction",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",transformorigin:"transformOrigin","transform-origin":"transformOrigin",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},Lh={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},Dh={},Oh=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ph=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fh=!1,Bh={},Rh=/^on./,Ih=/^on[^A-Z]/,jh=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zh=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$h=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i,Hh=null,qh=null,Uh=null,Vh=!1,Wh=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Gh=!1;if(Wh)try{var Kh={};Object.defineProperty(Kh,"passive",{get:function(){Gh=!0}}),window.addEventListener("test",Kh,Kh),window.removeEventListener("test",Kh,Kh)}catch(gA){Gh=!1}var Yh,Zh,Xh,Qh=null,Jh=null,ep=null,tp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},np=Ft(tp),rp=Tu({},tp,{view:0,detail:0}),ip=Ft(rp),ap=Tu({},rp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rt,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xh&&(Xh&&"mousemove"===e.type?(Yh=e.screenX-Xh.screenX,Zh=e.screenY-Xh.screenY):Zh=Yh=0,Xh=e),Yh)},movementY:function(e){return"movementY"in e?e.movementY:Zh}}),op=Ft(ap),sp=Ft(Tu({},ap,{dataTransfer:0})),lp=Ft(Tu({},rp,{relatedTarget:0})),cp=Ft(Tu({},tp,{animationName:0,elapsedTime:0,pseudoElement:0})),up=Ft(Tu({},tp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dp=Ft(Tu({},tp,{data:0})),hp=dp,pp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},gp=Ft(Tu({},rp,{key:function(e){if(e.key){var t=pp[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Dt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rt,charCode:function(e){return"keypress"===e.type?Dt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Dt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bp=Ft(Tu({},ap,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yp=Ft(Tu({},rp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rt})),xp=Ft(Tu({},tp,{propertyName:0,elapsedTime:0,pseudoElement:0})),vp=Ft(Tu({},ap,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),kp=Ft(Tu({},tp,{newState:0,oldState:0})),wp=[9,13,27,32],_p=229,Cp=Wh&&"CompositionEvent"in window,Sp=null;Wh&&"documentMode"in document&&(Sp=document.documentMode);var Ep=Wh&&"TextEvent"in window&&!Sp,Np=Wh&&(!Cp||Sp&&8<Sp&&11>=Sp),Tp=32,Mp=String.fromCharCode(Tp),Ap=!1,Lp=!1,Dp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Op=null,Pp=null,Fp=!1;Wh&&(Fp=function(e){if(!Wh)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}("input")&&(!document.documentMode||9<document.documentMode));var Bp="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Rp=Wh&&"documentMode"in document&&11>=document.documentMode,Ip=null,jp=null,zp=null,$p=!1,Hp={animationend:an("Animation","AnimationEnd"),animationiteration:an("Animation","AnimationIteration"),animationstart:an("Animation","AnimationStart"),transitionrun:an("Transition","TransitionRun"),transitionstart:an("Transition","TransitionStart"),transitioncancel:an("Transition","TransitionCancel"),transitionend:an("Transition","TransitionEnd")},qp={},Up={};Wh&&(Up=document.createElement("div").style,"AnimationEvent"in window||(delete Hp.animationend.animation,delete Hp.animationiteration.animation,delete Hp.animationstart.animation),"TransitionEvent"in window||delete Hp.transitionend.transition);var Vp=on("animationend"),Wp=on("animationiteration"),Gp=on("animationstart"),Kp=on("transitionrun"),Yp=on("transitionstart"),Zp=on("transitioncancel"),Xp=on("transitionend"),Qp=new Map,Jp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jp.push("scrollEnd");var ef=new WeakMap,tf=1,nf=2,rf=[],af=0,of=0,sf={};Object.freeze(sf);var lf=null,cf=null,uf=0,df=1,hf=2,pf=8,ff=16,mf=64,gf=!1;try{Object.preventExtensions({})}catch(Pv){gf=!0}var bf=[],yf=0,xf=null,vf=0,kf=[],wf=0,_f=null,Cf=1,Sf="",Ef=null,Nf=null,Tf=!1,Mf=!1,Af=null,Lf=null,Df=!1,Of=Error("Hydration Mismatch Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),Pf=0;if("object"==typeof performance&&"function"==typeof performance.now)var Ff=performance,Bf=function(){return Ff.now()};else{var Rf=Date;Bf=function(){return Rf.now()}}var If=M(null),jf=M(null),zf={},$f=null,Hf=null,qf="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Uf=Su.unstable_scheduleCallback,Vf=Su.unstable_NormalPriority,Wf={$$typeof:Ru,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0,_currentRenderer:null,_currentRenderer2:null},Gf=Su.unstable_now,Kf=-0,Yf=-0,Zf=-1.1,Xf=-0,Qf=!1,Jf=!1,em=null,tm=0,nm=0,rm=null,im=Ku.S;Ku.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===em){var n=em=[];tm=0,nm=bl(),rm={status:"pending",value:void 0,then:function(e){n.push(e)}}}tm++,t.then(pr,pr)}(0,t),null!==im&&im(e,t)};var am=M(null),om={recordUnsafeLifecycleWarnings:function(){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},sm=[],lm=[],cm=[],um=[],dm=[],hm=[],pm=new Set;om.recordUnsafeLifecycleWarnings=function(e,t){pm.has(e.type)||("function"==typeof t.componentWillMount&&!0!==t.componentWillMount.__suppressDeprecationWarning&&sm.push(e),e.mode&pf&&"function"==typeof t.UNSAFE_componentWillMount&&lm.push(e),"function"==typeof t.componentWillReceiveProps&&!0!==t.componentWillReceiveProps.__suppressDeprecationWarning&&cm.push(e),e.mode&pf&&"function"==typeof t.UNSAFE_componentWillReceiveProps&&um.push(e),"function"==typeof t.componentWillUpdate&&!0!==t.componentWillUpdate.__suppressDeprecationWarning&&dm.push(e),e.mode&pf&&"function"==typeof t.UNSAFE_componentWillUpdate&&hm.push(e))},om.flushPendingUnsafeLifecycleWarnings=function(){var e=new Set;0<sm.length&&(sm.forEach(function(t){e.add(N(t)||"Component"),pm.add(t.type)}),sm=[]);var t=new Set;0<lm.length&&(lm.forEach(function(e){t.add(N(e)||"Component"),pm.add(e.type)}),lm=[]);var n=new Set;0<cm.length&&(cm.forEach(function(e){n.add(N(e)||"Component"),pm.add(e.type)}),cm=[]);var r=new Set;0<um.length&&(um.forEach(function(e){r.add(N(e)||"Component"),pm.add(e.type)}),um=[]);var i=new Set;0<dm.length&&(dm.forEach(function(e){i.add(N(e)||"Component"),pm.add(e.type)}),dm=[]);var a=new Set;if(0<hm.length&&(hm.forEach(function(e){a.add(N(e)||"Component"),pm.add(e.type)}),hm=[]),0<t.size)c(t);0<r.size&&c(r),0<a.size&&c(a),0<e.size&&c(e),0<n.size&&c(n),0<i.size&&c(i)};var fm=new Map,mm=new Set;om.recordLegacyContextWarning=function(e,t){for(var n=null,r=e;null!==r;)r.mode&pf&&(n=r),r=r.return;null===n||!mm.has(e.type)&&(r=fm.get(n),null!=e.type.contextTypes||null!=e.type.childContextTypes||null!==t&&"function"==typeof t.getChildContext)&&(void 0===r&&(r=[],fm.set(n,r)),r.push(e))},om.flushLegacyContextWarning=function(){fm.forEach(function(e){if(0!==e.length){var t=e[0],n=new Set;e.forEach(function(e){n.add(N(e)||"Component"),mm.add(e.type)});c(n);Pe(t,function(){})}})},om.discardPendingWarnings=function(){sm=[],lm=[],cm=[],um=[],dm=[],hm=[],fm=new Map};var gm,bm=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`."),ym=Error("Suspense Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),xm=Error("Suspense Exception: This is not a real error! It's an implementation detail of `useActionState` to interrupt the current render. You must either rethrow it immediately, or move the `useActionState` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary."),vm={then:function(){}},km=null,wm=!1,_m=0,Cm=1,Sm=2,Em=4,Nm=8,Tm=0,Mm=1,Am=2,Lm=3,Dm=!1,Om=!1,Pm=null,Fm=!1,Bm=M(null),Rm=M(0),Im=new Set,jm=new Set,zm=new Set,$m=new Set,Hm=0,qm=null,Um=null,Vm=null,Wm=!1,Gm=!1,Km=!1,Ym=0,Zm=0,Xm=null,Qm=0,Jm=25,eg=null,tg=null,ng=-1,rg=!1,ig={readContext:Qn,use:Qr,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useLayoutEffect:zr,useInsertionEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useSyncExternalStore:zr,useId:zr,useHostTransitionStatus:zr,useFormState:zr,useActionState:zr,useOptimistic:zr,useMemoCache:zr,useCacheRefresh:zr},ag=null,og=null,sg=null,lg=null,cg=null,ug=null,dg=null;ag={readContext:function(e){return Qn(e)},use:Qr,useCallback:function(e,t){return eg="useCallback",Br(),Ir(t),ji(e,t)},useContext:function(e){return eg="useContext",Br(),Qn(e)},useEffect:function(e,t){return eg="useEffect",Br(),Ir(t),Pi(e,t)},useImperativeHandle:function(e,t,n){return eg="useImperativeHandle",Br(),Ir(n),Ri(e,t,n)},useInsertionEffect:function(e,t){eg="useInsertionEffect",Br(),Ir(t),Di(4,Sm,e,t)},useLayoutEffect:function(e,t){return eg="useLayoutEffect",Br(),Ir(t),Fi(e,t)},useMemo:function(e,t){eg="useMemo",Br(),Ir(t);var n=Ku.H;Ku.H=cg;try{return $i(e,t)}finally{Ku.H=n}},useReducer:function(e,t,n){eg="useReducer",Br();var r=Ku.H;Ku.H=cg;try{return ti(e,t,n)}finally{Ku.H=r}},useRef:function(e){return eg="useRef",Br(),Li(e)},useState:function(e){eg="useState",Br();var t=Ku.H;Ku.H=cg;try{return pi(e)}finally{Ku.H=t}},useDebugValue:function(){eg="useDebugValue",Br()},useDeferredValue:function(e,t){return eg="useDeferredValue",Br(),qi(e,t)},useTransition:function(){return eg="useTransition",Br(),Qi()},useSyncExternalStore:function(e,t,n){return eg="useSyncExternalStore",Br(),ai(e,t,n)},useId:function(){return eg="useId",Br(),na()},useFormState:function(e,t){return eg="useFormState",Br(),jr(),Si(e,t)},useActionState:function(e,t){return eg="useActionState",Br(),Si(e,t)},useOptimistic:function(e){return eg="useOptimistic",Br(),fi(e)},useHostTransitionStatus:ta,useMemoCache:Jr,useCacheRefresh:function(){return eg="useCacheRefresh",Br(),ra()}},og={readContext:function(e){return Qn(e)},use:Qr,useCallback:function(e,t){return eg="useCallback",Rr(),ji(e,t)},useContext:function(e){return eg="useContext",Rr(),Qn(e)},useEffect:function(e,t){return eg="useEffect",Rr(),Pi(e,t)},useImperativeHandle:function(e,t,n){return eg="useImperativeHandle",Rr(),Ri(e,t,n)},useInsertionEffect:function(e,t){eg="useInsertionEffect",Rr(),Di(4,Sm,e,t)},useLayoutEffect:function(e,t){return eg="useLayoutEffect",Rr(),Fi(e,t)},useMemo:function(e,t){eg="useMemo",Rr();var n=Ku.H;Ku.H=cg;try{return $i(e,t)}finally{Ku.H=n}},useReducer:function(e,t,n){eg="useReducer",Rr();var r=Ku.H;Ku.H=cg;try{return ti(e,t,n)}finally{Ku.H=r}},useRef:function(e){return eg="useRef",Rr(),Li(e)},useState:function(e){eg="useState",Rr();var t=Ku.H;Ku.H=cg;try{return pi(e)}finally{Ku.H=t}},useDebugValue:function(){eg="useDebugValue",Rr()},useDeferredValue:function(e,t){return eg="useDeferredValue",Rr(),qi(e,t)},useTransition:function(){return eg="useTransition",Rr(),Qi()},useSyncExternalStore:function(e,t,n){return eg="useSyncExternalStore",Rr(),ai(e,t,n)},useId:function(){return eg="useId",Rr(),na()},useActionState:function(e,t){return eg="useActionState",Rr(),Si(e,t)},useFormState:function(e,t){return eg="useFormState",Rr(),jr(),Si(e,t)},useOptimistic:function(e){return eg="useOptimistic",Rr(),fi(e)},useHostTransitionStatus:ta,useMemoCache:Jr,useCacheRefresh:function(){return eg="useCacheRefresh",Rr(),ra()}},sg={readContext:function(e){return Qn(e)},use:Qr,useCallback:function(e,t){return eg="useCallback",Rr(),zi(e,t)},useContext:function(e){return eg="useContext",Rr(),Qn(e)},useEffect:function(e,t){eg="useEffect",Rr(),Oi(2048,Nm,e,t)},useImperativeHandle:function(e,t,n){return eg="useImperativeHandle",Rr(),Ii(e,t,n)},useInsertionEffect:function(e,t){return eg="useInsertionEffect",Rr(),Oi(4,Sm,e,t)},useLayoutEffect:function(e,t){return eg="useLayoutEffect",Rr(),Oi(4,Em,e,t)},useMemo:function(e,t){eg="useMemo",Rr();var n=Ku.H;Ku.H=ug;try{return Hi(e,t)}finally{Ku.H=n}},useReducer:function(e,t,n){eg="useReducer",Rr();var r=Ku.H;Ku.H=ug;try{return ni(e)}finally{Ku.H=r}},useRef:function(){return eg="useRef",Rr(),Zr().memoizedState},useState:function(){eg="useState",Rr();var e=Ku.H;Ku.H=ug;try{return ni(ei)}finally{Ku.H=e}},useDebugValue:function(){eg="useDebugValue",Rr()},useDeferredValue:function(e,t){return eg="useDeferredValue",Rr(),Ui(e,t)},useTransition:function(){return eg="useTransition",Rr(),Ji()},useSyncExternalStore:function(e,t,n){return eg="useSyncExternalStore",Rr(),oi(e,t,n)},useId:function(){return eg="useId",Rr(),Zr().memoizedState},useFormState:function(e){return eg="useFormState",Rr(),jr(),Ei(e)},useActionState:function(e){return eg="useActionState",Rr(),Ei(e)},useOptimistic:function(e,t){return eg="useOptimistic",Rr(),mi(e,t)},useHostTransitionStatus:ta,useMemoCache:Jr,useCacheRefresh:function(){return eg="useCacheRefresh",Rr(),Zr().memoizedState}},lg={readContext:function(e){return Qn(e)},use:Qr,useCallback:function(e,t){return eg="useCallback",Rr(),zi(e,t)},useContext:function(e){return eg="useContext",Rr(),Qn(e)},useEffect:function(e,t){eg="useEffect",Rr(),Oi(2048,Nm,e,t)},useImperativeHandle:function(e,t,n){return eg="useImperativeHandle",Rr(),Ii(e,t,n)},useInsertionEffect:function(e,t){return eg="useInsertionEffect",Rr(),Oi(4,Sm,e,t)},useLayoutEffect:function(e,t){return eg="useLayoutEffect",Rr(),Oi(4,Em,e,t)},useMemo:function(e,t){eg="useMemo",Rr();var n=Ku.H;Ku.H=dg;try{return Hi(e,t)}finally{Ku.H=n}},useReducer:function(e,t,n){eg="useReducer",Rr();var r=Ku.H;Ku.H=dg;try{return ii(e)}finally{Ku.H=r}},useRef:function(){return eg="useRef",Rr(),Zr().memoizedState},useState:function(){eg="useState",Rr();var e=Ku.H;Ku.H=dg;try{return ii(ei)}finally{Ku.H=e}},useDebugValue:function(){eg="useDebugValue",Rr()},useDeferredValue:function(e,t){return eg="useDeferredValue",Rr(),Vi(e,t)},useTransition:function(){return eg="useTransition",Rr(),ea()},useSyncExternalStore:function(e,t,n){return eg="useSyncExternalStore",Rr(),oi(e,t,n)},useId:function(){return eg="useId",Rr(),Zr().memoizedState},useFormState:function(e){return eg="useFormState",Rr(),jr(),Mi(e)},useActionState:function(e){return eg="useActionState",Rr(),Mi(e)},useOptimistic:function(e,t){return eg="useOptimistic",Rr(),bi(e,t)},useHostTransitionStatus:ta,useMemoCache:Jr,useCacheRefresh:function(){return eg="useCacheRefresh",Rr(),Zr().memoizedState}},cg={readContext:function(e){return Qn(e)},use:function(e){return Qr(e)},useCallback:function(e,t){return eg="useCallback",Br(),ji(e,t)},useContext:function(e){return eg="useContext",Br(),Qn(e)},useEffect:function(e,t){return eg="useEffect",Br(),Pi(e,t)},useImperativeHandle:function(e,t,n){return eg="useImperativeHandle",Br(),Ri(e,t,n)},useInsertionEffect:function(e,t){eg="useInsertionEffect",Br(),Di(4,Sm,e,t)},useLayoutEffect:function(e,t){return eg="useLayoutEffect",Br(),Fi(e,t)},useMemo:function(e,t){eg="useMemo",Br();var n=Ku.H;Ku.H=cg;try{return $i(e,t)}finally{Ku.H=n}},useReducer:function(e,t,n){eg="useReducer",Br();var r=Ku.H;Ku.H=cg;try{return ti(e,t,n)}finally{Ku.H=r}},useRef:function(e){return eg="useRef",Br(),Li(e)},useState:function(e){eg="useState",Br();var t=Ku.H;Ku.H=cg;try{return pi(e)}finally{Ku.H=t}},useDebugValue:function(){eg="useDebugValue",Br()},useDeferredValue:function(e,t){return eg="useDeferredValue",Br(),qi(e,t)},useTransition:function(){return eg="useTransition",Br(),Qi()},useSyncExternalStore:function(e,t,n){return eg="useSyncExternalStore",Br(),ai(e,t,n)},useId:function(){return eg="useId",Br(),na()},useFormState:function(e,t){return eg="useFormState",Br(),Si(e,t)},useActionState:function(e,t){return eg="useActionState",Br(),Si(e,t)},useOptimistic:function(e){return eg="useOptimistic",Br(),fi(e)},useMemoCache:function(e){return Jr(e)},useHostTransitionStatus:ta,useCacheRefresh:function(){return eg="useCacheRefresh",Br(),ra()}},ug={readContext:function(e){return Qn(e)},use:function(e){return Qr(e)},useCallback:function(e,t){return eg="useCallback",Rr(),zi(e,t)},useContext:function(e){return eg="useContext",Rr(),Qn(e)},useEffect:function(e,t){eg="useEffect",Rr(),Oi(2048,Nm,e,t)},useImperativeHandle:function(e,t,n){return eg="useImperativeHandle",Rr(),Ii(e,t,n)},useInsertionEffect:function(e,t){return eg="useInsertionEffect",Rr(),Oi(4,Sm,e,t)},useLayoutEffect:function(e,t){return eg="useLayoutEffect",Rr(),Oi(4,Em,e,t)},useMemo:function(e,t){eg="useMemo",Rr();var n=Ku.H;Ku.H=ug;try{return Hi(e,t)}finally{Ku.H=n}},useReducer:function(e,t,n){eg="useReducer",Rr();var r=Ku.H;Ku.H=ug;try{return ni(e)}finally{Ku.H=r}},useRef:function(){return eg="useRef",Rr(),Zr().memoizedState},useState:function(){eg="useState",Rr();var e=Ku.H;Ku.H=ug;try{return ni(ei)}finally{Ku.H=e}},useDebugValue:function(){eg="useDebugValue",Rr()},useDeferredValue:function(e,t){return eg="useDeferredValue",Rr(),Ui(e,t)},useTransition:function(){return eg="useTransition",Rr(),Ji()},useSyncExternalStore:function(e,t,n){return eg="useSyncExternalStore",Rr(),oi(e,t,n)},useId:function(){return eg="useId",Rr(),Zr().memoizedState},useFormState:function(e){return eg="useFormState",Rr(),Ei(e)},useActionState:function(e){return eg="useActionState",Rr(),Ei(e)},useOptimistic:function(e,t){return eg="useOptimistic",Rr(),mi(e,t)},useMemoCache:function(e){return Jr(e)},useHostTransitionStatus:ta,useCacheRefresh:function(){return eg="useCacheRefresh",Rr(),Zr().memoizedState}},dg={readContext:function(e){return Qn(e)},use:function(e){return Qr(e)},useCallback:function(e,t){return eg="useCallback",Rr(),zi(e,t)},useContext:function(e){return eg="useContext",Rr(),Qn(e)},useEffect:function(e,t){eg="useEffect",Rr(),Oi(2048,Nm,e,t)},useImperativeHandle:function(e,t,n){return eg="useImperativeHandle",Rr(),Ii(e,t,n)},useInsertionEffect:function(e,t){return eg="useInsertionEffect",Rr(),Oi(4,Sm,e,t)},useLayoutEffect:function(e,t){return eg="useLayoutEffect",Rr(),Oi(4,Em,e,t)},useMemo:function(e,t){eg="useMemo",Rr();var n=Ku.H;Ku.H=ug;try{return Hi(e,t)}finally{Ku.H=n}},useReducer:function(e,t,n){eg="useReducer",Rr();var r=Ku.H;Ku.H=ug;try{return ii(e)}finally{Ku.H=r}},useRef:function(){return eg="useRef",Rr(),Zr().memoizedState},useState:function(){eg="useState",Rr();var e=Ku.H;Ku.H=ug;try{return ii(ei)}finally{Ku.H=e}},useDebugValue:function(){eg="useDebugValue",Rr()},useDeferredValue:function(e,t){return eg="useDeferredValue",Rr(),Vi(e,t)},useTransition:function(){return eg="useTransition",Rr(),ea()},useSyncExternalStore:function(e,t,n){return eg="useSyncExternalStore",Rr(),oi(e,t,n)},useId:function(){return eg="useId",Rr(),Zr().memoizedState},useFormState:function(e){return eg="useFormState",Rr(),Mi(e)},useActionState:function(e){return eg="useActionState",Rr(),Mi(e)},useOptimistic:function(e,t){return eg="useOptimistic",Rr(),bi(e,t)},useMemoCache:function(e){return Jr(e)},useHostTransitionStatus:ta,useCacheRefresh:function(){return eg="useCacheRefresh",Rr(),Zr().memoizedState}};var hg,pg={react_stack_bottom_frame:function(e,t,n){var r=eh;eh=!0;try{return e(t,n)}finally{eh=r}}},fg=pg.react_stack_bottom_frame.bind(pg),mg={react_stack_bottom_frame:function(e){var t=eh;eh=!0;try{return e.render()}finally{eh=t}}},gg=mg.react_stack_bottom_frame.bind(mg),bg={react_stack_bottom_frame:function(e,t){try{t.componentDidMount()}catch(n){Xs(e,e.return,n)}}},yg=bg.react_stack_bottom_frame.bind(bg),xg={react_stack_bottom_frame:function(e,t,n,r,i){try{t.componentDidUpdate(n,r,i)}catch(a){Xs(e,e.return,a)}}},vg=xg.react_stack_bottom_frame.bind(xg),kg={react_stack_bottom_frame:function(e,t){var n=t.stack;e.componentDidCatch(t.value,{componentStack:null!==n?n:""})}},wg=kg.react_stack_bottom_frame.bind(kg),_g={react_stack_bottom_frame:function(e,t,n){try{n.componentWillUnmount()}catch(r){Xs(e,t,r)}}},Cg=_g.react_stack_bottom_frame.bind(_g),Sg={react_stack_bottom_frame:function(e){e.resourceKind;var t=e.create;return e=e.inst,t=t(),e.destroy=t}},Eg=Sg.react_stack_bottom_frame.bind(Sg),Ng={react_stack_bottom_frame:function(e,t,n){try{n()}catch(r){Xs(e,t,r)}}},Tg=Ng.react_stack_bottom_frame.bind(Ng),Mg={react_stack_bottom_frame:function(e){return(0,e._init)(e._payload)}},Ag=Mg.react_stack_bottom_frame.bind(Mg),Lg=null,Dg=0,Og=null,Pg=(hg=!1,{}),Fg={},Bg={};s=function(e,t,n){if(null!==n&&"object"==typeof n&&n._store&&(!n._store.validated&&null==n.key||2===n._store.validated)){if("object"!=typeof n._store)throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");n._store.validated=1;var r=N(e),i=r||"null";if(!Pg[i]){Pg[i]=!0,n=n._owner;var a="";(e=e._debugOwner)&&"number"==typeof e.tag&&(i=N(e))&&(a="\n\nCheck the render method of `"+i+"`."),a||r&&(a="\n\nCheck the top-level render call using <"+r+">.");null!=n&&e!==n&&(r=null,"number"==typeof n.tag?r=N(n):"string"==typeof n.name&&(r=n.name),r&&" It was passed a child from "+r+"."),Pe(t,function(){})}}};var Rg=xa(!0),Ig=xa(!1),jg=M(null),zg=null,$g=1,Hg=2,qg=M(0),Ug={},Vg=new Set,Wg=new Set,Gg=new Set,Kg=new Set,Yg=new Set,Zg=new Set,Xg=new Set,Qg=new Set,Jg=new Set,eb=new Set;Object.freeze(Ug);var tb={enqueueSetState:function(e,t,n){var r=xs(e=e._reactInternals),i=Cr(r);i.payload=t,null!=n&&(Sa(n),i.callback=n),null!==(t=Sr(e,i,r))&&(ks(t,e,r),Er(t,e,r)),Y(e,r)},enqueueReplaceState:function(e,t,n){var r=xs(e=e._reactInternals),i=Cr(r);i.tag=Mm,i.payload=t,null!=n&&(Sa(n),i.callback=n),null!==(t=Sr(e,i,r))&&(ks(t,e,r),Er(t,e,r)),Y(e,r)},enqueueForceUpdate:function(e,t){var n=xs(e=e._reactInternals),r=Cr(n);r.tag=Am,null!=t&&(Sa(t),r.callback=t),null!==(t=Sr(e,r,n))&&(ks(t,e,n),Er(t,e,n)),null!==vd&&"function"==typeof vd.markForceUpdateScheduled&&vd.markForceUpdateScheduled(e,n)}},nb="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},rb=null,ib=null,ab=Error("This is not a real error. It's an implementation detail of React's selective hydration feature. If this leaks into userspace, it's a bug in React. Please file an issue."),ob=!1,sb={},lb={},cb={},ub={},db=!1,hb={},pb={},fb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},mb=!1,gb=null;gb=new Set;var bb=!1,yb=!1,xb=!1,vb="function"==typeof WeakSet?WeakSet:Set,kb=null,wb=null,_b=null,Cb=null,Sb=!1,Eb=null,Nb=8192,Tb={getCacheForType:function(e){var t=Qn(Wf),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},getOwner:function(){return Jd}};if("function"==typeof Symbol&&Symbol.for){var Mb=Symbol.for;Mb("selector.component"),Mb("selector.has_pseudo_class"),Mb("selector.role"),Mb("selector.test_id"),Mb("selector.text")}var Ab=[],Lb="function"==typeof WeakMap?WeakMap:Map,Db=0,Ob=2,Pb=4,Fb=0,Bb=1,Rb=2,Ib=3,jb=4,zb=6,$b=5,Hb=Db,qb=null,Ub=null,Vb=0,Wb=0,Gb=1,Kb=2,Yb=3,Zb=4,Xb=5,Qb=6,Jb=7,ey=8,ty=9,ny=Wb,ry=null,iy=!1,ay=!1,oy=!1,sy=0,ly=Fb,cy=0,uy=0,dy=0,hy=0,py=0,fy=null,my=null,gy=!1,by=0,yy=300,xy=1/0,vy=500,ky=null,wy=null,_y=0,Cy=1,Sy=2,Ey=0,Ny=1,Ty=2,My=3,Ay=4,Ly=5,Dy=0,Oy=null,Py=null,Fy=0,By=0,Ry=null,Iy=null,jy=50,zy=0,$y=null,Hy=!1,qy=!1,Uy=50,Vy=0,Wy=null,Gy=null,Ky=!1,Yy=new Set,Zy=null,Xy=null,Qy=!1,Jy=!1,ex=!1,tx=!1,nx=0,rx={};!function(){for(var e=0;e<Jp.length;e++){var t=Jp[e];sn(t.toLowerCase(),"on"+(t=t[0].toUpperCase()+t.slice(1)))}sn(Vp,"onAnimationEnd"),sn(Wp,"onAnimationIteration"),sn(Gp,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(Kp,"onTransitionRun"),sn(Yp,"onTransitionStart"),sn(Zp,"onTransitionCancel"),sn(Xp,"onTransitionEnd")}(),xe("onMouseEnter",["mouseout","mouseover"]),xe("onMouseLeave",["mouseout","mouseover"]),xe("onPointerEnter",["pointerout","pointerover"]),xe("onPointerLeave",["pointerout","pointerover"]),ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ix="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ax=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ix)),ox="_reactListening"+Math.random().toString(36).slice(2),sx=!1,lx=!1,cx=!1,ux=!1,dx=!1,hx=!1,px=!1,fx={},mx=/\r\n?/g,gx=/\u0000|\uFFFD/g,bx="http://www.w3.org/1999/xlink",yx="http://www.w3.org/XML/1998/namespace",xx="javascript:throw new Error('React form unexpectedly submitted.')",vx="suppressHydrationWarning",kx="$",wx="/$",_x="$?",Cx="$!",Sx=1,Ex=2,Nx=4,Tx="F!",Mx="F",Ax="complete",Lx="style",Dx=0,Ox=1,Px=2,Fx=null,Bx=null,Rx={dialog:!0,webview:!0},Ix=null,jx="function"==typeof setTimeout?setTimeout:void 0,zx="function"==typeof clearTimeout?clearTimeout:void 0,$x=-1,Hx="function"==typeof Promise?Promise:void 0,qx="function"==typeof queueMicrotask?queueMicrotask:void 0!==Hx?function(e){return Hx.resolve(null).then(e).catch(ec)}:jx,Ux=null,Vx=0,Wx=1,Gx=2,Kx=3,Yx=4,Zx=new Map,Xx=new Set,Qx=Yu.d;Yu.d={f:function(){var e=Qx.f(),t=Es();return e||t},r:function(e){var t=fe(e);null!==t&&5===t.tag&&"form"===t.type?Xi(t):Qx.r(e)},D:function(e){Qx.D(e),Ec("dns-prefetch",e,null)},C:function(e,t){Qx.C(e,t),Ec("preconnect",e,t)},L:function(e,t,n){Qx.L(e,t,n);var r=lv;if(r&&e&&t){var i='link[rel="preload"][as="'+$e(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+$e(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+$e(n.imageSizes)+'"]')):i+='[href="'+$e(e)+'"]';var a=i;switch(t){case"style":a=Mc(e);break;case"script":a=Dc(e)}Zx.has(a)||(e=Tu({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Zx.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Ac(a))||"script"===t&&r.querySelector(Oc(a))||(zl(t=r.createElement("link"),"link",e),be(t),r.head.appendChild(t)))}},m:function(e,t){Qx.m(e,t);var n=lv;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+$e(r)+'"][href="'+$e(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Dc(e)}if(!Zx.has(a)&&(e=Tu({rel:"modulepreload",href:e},t),Zx.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Oc(a)))return}zl(r=n.createElement("link"),"link",e),be(r),n.head.appendChild(r)}}},X:function(e,t){Qx.X(e,t);var n=lv;if(n&&e){var r=ge(n).hoistableScripts,i=Dc(e),a=r.get(i);a||((a=n.querySelector(Oc(i)))||(e=Tu({src:e,async:!0},t),(t=Zx.get(i))&&Rc(e,t),be(a=n.createElement("script")),zl(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Qx.S(e,t,n);var r=lv;if(r&&e){var i=ge(r).hoistableStyles,a=Mc(e);t=t||"default";var o=i.get(a);if(!o){var s={loading:Vx,preload:null};if(o=r.querySelector(Ac(a)))s.loading=Wx|Yx;else{e=Tu({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Zx.get(a))&&Bc(e,n);var l=o=r.createElement("link");be(l),zl(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=Wx}),l.addEventListener("error",function(){s.loading|=Gx}),s.loading|=Yx,Fc(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}},M:function(e,t){Qx.M(e,t);var n=lv;if(n&&e){var r=ge(n).hoistableScripts,i=Dc(e),a=r.get(i);a||((a=n.querySelector(Oc(i)))||(e=Tu({src:e,async:!0,type:"module"},t),(t=Zx.get(i))&&Rc(e,t),be(a=n.createElement("script")),zl(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Jx,ev,tv,nv,rv,iv,av,ov,sv,lv="undefined"==typeof document?null:document,cv=null,uv=null,dv=null,hv=null,pv=Zu,fv={$$typeof:Ru,Provider:null,Consumer:null,_currentValue:pv,_currentValue2:pv,_threadCount:0},mv="%c%s%c ",gv="background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px",bv="",yv=" ",xv=Function.prototype.bind,vv=!1;Jx=function(n,r,i,a){null!==(r=e(n,r))&&(i=t(r.memoizedState,i,0,a),r.memoizedState=i,r.baseState=i,n.memoizedProps=Tu({},n.memoizedProps),null!==(i=hn(n,2))&&ks(i,n,2))},ev=function(t,n,r){null!==(n=e(t,n))&&(r=i(n.memoizedState,r,0),n.memoizedState=r,n.baseState=r,t.memoizedProps=Tu({},t.memoizedProps),null!==(r=hn(t,2))&&ks(r,t,2))},tv=function(t,r,i,a){null!==(r=e(t,r))&&(i=n(r.memoizedState,i,a),r.memoizedState=i,r.baseState=i,t.memoizedProps=Tu({},t.memoizedProps),null!==(i=hn(t,2))&&ks(i,t,2))},nv=function(e,n,r){e.pendingProps=t(e.memoizedProps,n,0,r),e.alternate&&(e.alternate.pendingProps=e.pendingProps),null!==(n=hn(e,2))&&ks(n,e,2)},rv=function(e,t){e.pendingProps=i(e.memoizedProps,t,0),e.alternate&&(e.alternate.pendingProps=e.pendingProps),null!==(t=hn(e,2))&&ks(t,e,2)},iv=function(e,t,r){e.pendingProps=n(e.memoizedProps,t,r),e.alternate&&(e.alternate.pendingProps=e.pendingProps),null!==(t=hn(e,2))&&ks(t,e,2)},av=function(e){var t=hn(e,2);null!==t&&ks(t,e,2)},ov=function(e){o=e},sv=function(e){a=e};var kv,wv=!0,_v=null,Cv=!1,Sv=null,Ev=null,Nv=null,Tv=new Map,Mv=new Map,Av=[],Lv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "),Dv=null;if(gu.prototype.render=mu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error("Cannot update an unmounted root.");var n=arguments;"function"==typeof n[1]||m(n[1])||n[1],n=e;var r=t.current;Kc(r,xs(r),n,t,null,null)},gu.prototype.unmount=mu.prototype.unmount=function(){var e=arguments;if(e[0],null!==(e=this._internalRoot)){this._internalRoot=null;var t=e.containerInfo;Kc(e.current,2,null,e,null,null),Es(),t[Fd]=null}},gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=de();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Av.length&&0!==t&&t<Av[n].priority;n++);Av.splice(n,0,e),0===n&&lu(e)}},function(){var e=Eu.version;if("19.1.1"!==e)throw Error('Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:\n  - react:      '+e+"\n  - react-dom:  19.1.1\nLearn more: https://react.dev/warnings/version-mismatch")}(),"function"==typeof Map&&null!=Map.prototype&&"function"==typeof Map.prototype.forEach&&"function"==typeof Set&&null!=Set.prototype&&"function"==typeof Set.prototype.clear&&Set.prototype.forEach,Yu.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error("Unable to find node on an unmounted component.");throw e=Object.keys(e).join(","),Error("Argument appears to not be a ReactComponent. Keys: "+e)}return e=function(e){var t=e.alternate;if(!t){if(null===(t=g(e)))throw Error("Unable to find node on an unmounted component.");return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return x(i),e;if(a===r)return x(i),t;a=a.sibling}throw Error("Unable to find node on an unmounted component.")}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(n.alternate!==r)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==n.tag)throw Error("Unable to find node on an unmounted component.");return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?v(e):null)?null:e.stateNode},(kv={bundleType:1,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Ku,reconcilerVersion:"19.1.1"}).overrideHookState=Jx,kv.overrideHookStateDeletePath=ev,kv.overrideHookStateRenamePath=tv,kv.overrideProps=nv,kv.overridePropsDeletePath=rv,kv.overridePropsRenamePath=iv,kv.scheduleUpdate=av,kv.setErrorHandler=ov,kv.setSuspenseHandler=sv,kv.scheduleRefresh=p,kv.scheduleRoot=h,kv.setRefreshHandler=f,kv.getCurrentFiber=Qc,kv.getLaneLabelMap=Jc,kv.injectProfilingHooks=q,!function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled)return!0;if(!t.supportsFiber)return!0;try{yd=t.inject(e),xd=t}catch(n){}return!!t.checkDCE}(kv)&&Wh&&window.top===window.self&&(-1<navigator.userAgent.indexOf("Chrome")&&-1===navigator.userAgent.indexOf("Edge")||-1<navigator.userAgent.indexOf("Firefox"))){var Ov=window.location.protocol;/^(https?|file):$/.test(Ov)}y.createRoot=function(e,t){if(!m(e))throw Error("Target container is not a DOM element.");bu(e);var n=!1,r="",i=Aa,a=La,o=Da;return null!=t&&(t.hydrate||"object"==typeof t&&null!==t&&t.$$typeof,!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Wc(e,1,!1,null,0,n,r,i,a,o,0,null),e[Fd]=t.current,Cl(e),new mu(t)},y.hydrateRoot=function(e,t,n){if(!m(e))throw Error("Target container is not a DOM element.");bu(e);var r=!1,i="",a=Aa,o=La,s=Da,l=null;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(o=n.onCaughtError),void 0!==n.onRecoverableError&&(s=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(l=n.formState)),(t=Wc(e,1,!0,t,0,r,i,a,o,s,0,l)).context=Gc(null),(i=Cr(r=se(r=xs(n=t.current)))).callback=null,Sr(n,i,r),n=r,t.current.lanes=n,ie(t,n),ll(t),e[Fd]=t.current,Cl(e),new gu(t)},y.version="19.1.1","undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()),y}var A=(S||(S=1,b.exports=M()),b.exports),L="popstate";
/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function D(e={}){return function(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s="POP",l=null,c=u();null==c&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function d(){s="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:m.location,delta:t})}function h(e,t){s="PUSH";let n=B(m.location,e,t);c=u()+1;let r=F(n,c),d=m.createHref(n);try{o.pushState(r,"",d)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;i.location.assign(d)}a&&l&&l({action:s,location:m.location,delta:1})}function p(e,t){s="REPLACE";let n=B(m.location,e,t);c=u();let r=F(n,c),i=m.createHref(n);o.replaceState(r,"",i),a&&l&&l({action:s,location:m.location,delta:0})}function f(e){return function(e,t=!1){let n="http://localhost";"undefined"!=typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href);O(n,"No window.location.(origin|href) available to create URL");let r="string"==typeof e?e:R(e);r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r);return new URL(r,n)}(e)}let m={get action(){return s},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(L,d),l=e,()=>{i.removeEventListener(L,d),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:p,go:e=>o.go(e)};return m}(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return B("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:R(t)},0,e)}function O(e,t){if(!1===e||null==e)throw new Error(t)}function P(e,t){if(!e)try{throw new Error(t)}catch(gA){}}function F(e,t){return{usr:e.state,key:e.key,idx:t}}function B(e,t,n=null,r){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?I(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function R({pathname:e="/",search:t="",hash:n=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function I(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function j(e,t,n="/"){return function(e,t,n,r){let i="string"==typeof t?I(t):t,a=J(i.pathname||"/",n);if(null==a)return null;let o=z(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let s=null;for(let l=0;null==s&&l<o.length;++l){let e=Q(a);s=Z(o[l],e,r)}return s}(e,t,n,!1)}function z(e,t=[],n=[],r="",i=!1){let a=(e,a,o=i,s)=>{let l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&o)return;O(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length)}let c=re([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(O(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),z(e.children,t,u,c,o)),(null!=e.path||e.index)&&t.push({path:c,score:Y(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of $(e.path))a(e,t,!0,n);else a(e,t)}),t}function $(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let o=$(r.join("/")),s=[];return s.push(...o.map(e=>""===e?a:[a,e].join("/"))),i&&s.push(...o),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var H=/^:[\w-]+$/,q=3,U=2,V=1,W=10,G=-2,K=e=>"*"===e;function Y(e,t){let n=e.split("/"),r=n.length;return n.some(K)&&(r+=G),t&&(r+=U),n.filter(e=>!K(e)).reduce((e,t)=>e+(H.test(t)?q:""===t?V:W),r)}function Z(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=X({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=X({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:re([a,u.pathname]),pathnameBase:ie(re([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=re([a,u.pathnameBase]))}return o}function X(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t=!1,n=!0){P("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce((e,{paramName:t,isOptional:n},r)=>{if("*"===t){let e=s[r]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const i=s[r];return e[t]=n&&!i?void 0:(i||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:o,pattern:e}}function Q(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return P(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function J(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ee(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function te(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function ne(e,t,n,r=!1){let i;"string"==typeof e?i=I(e):(i={...e},O(!i.pathname||!i.pathname.includes("?"),ee("?","pathname","search",i)),O(!i.pathname||!i.pathname.includes("#"),ee("#","pathname","hash",i)),O(!i.search||!i.search.includes("#"),ee("#","search","hash",i)));let a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(null==s)a=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t="/"){let{pathname:n,search:r="",hash:i=""}="string"==typeof e?I(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:ae(r),hash:oe(i)}}(i,a),c=s&&"/"!==s&&s.endsWith("/"),u=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var re=e=>e.join("/").replace(/\/\/+/g,"/"),ie=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ae=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",oe=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var se=["POST","PUT","PATCH","DELETE"];new Set(se);var le=["GET",...se];new Set(le);var ce=p.createContext(null);ce.displayName="DataRouter";var ue=p.createContext(null);ue.displayName="DataRouterState",p.createContext(!1);var de=p.createContext({isTransitioning:!1});de.displayName="ViewTransition",p.createContext(new Map).displayName="Fetchers",p.createContext(null).displayName="Await";var he=p.createContext(null);he.displayName="Navigation";var pe=p.createContext(null);pe.displayName="Location";var fe=p.createContext({outlet:null,matches:[],isDataRoute:!1});fe.displayName="Route";var me=p.createContext(null);function ge(){return null!=p.useContext(pe)}function be(){return O(ge(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(pe).location}me.displayName="RouteError";var ye="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xe(e){p.useContext(he).static||p.useLayoutEffect(e)}function ve(){let{isDataRoute:e}=p.useContext(fe);return e?function(){let{router:e}=function(e){let t=p.useContext(ce);return O(t,Ne(e)),t}("useNavigate"),t=Te("useNavigate"),n=p.useRef(!1);xe(()=>{n.current=!0});let r=p.useCallback(async(r,i={})=>{P(n.current,ye),n.current&&("number"==typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t]);return r}():function(){O(ge(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(ce),{basename:t,navigator:n}=p.useContext(he),{matches:r}=p.useContext(fe),{pathname:i}=be(),a=JSON.stringify(te(r)),o=p.useRef(!1);xe(()=>{o.current=!0});let s=p.useCallback((r,s={})=>{if(P(o.current,ye),!o.current)return;if("number"==typeof r)return void n.go(r);let l=ne(r,JSON.parse(a),i,"path"===s.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:re([t,l.pathname])),(s.replace?n.replace:n.push)(l,s.state,s)},[t,n,a,i,e]);return s}()}function ke(e,{relative:t}={}){let{matches:n}=p.useContext(fe),{pathname:r}=be(),i=JSON.stringify(te(n));return p.useMemo(()=>ne(e,JSON.parse(i),r,"path"===t),[e,i,r,t])}function we(e,t,n,r,i){O(ge(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=p.useContext(he),{matches:o}=p.useContext(fe),s=o[o.length-1],l=s?s.params:{},c=s?s.pathname:"/",u=s?s.pathnameBase:"/",d=s&&s.route;{let e=d&&d.path||"";Ae(c,!d||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let h,f=be();if(t){let e="string"==typeof t?I(t):t;O("/"===u||e.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),h=e}else h=f;let m=h.pathname||"/",g=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=j(e,{pathname:g});P(d||null!=b,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),P(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=function(e,t=[],n=null,r=null){if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,a=n?.errors;if(null!=a){let e=i.findIndex(e=>e.route.id&&void 0!==a?.[e.route.id]);O(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let o=!1,s=-1;if(n)for(let l=0;l<i.length;l++){let e=i[l];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(s=l),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){o=!0,i=s>=0?i.slice(0,s+1):[i[0]];break}}}return i.reduceRight((e,l,c)=>{let u,d=!1,h=null,f=null;n&&(u=a&&l.route.id?a[l.route.id]:void 0,h=l.route.errorElement||Ce,o&&(s<0&&0===c?(Ae("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):s===c&&(d=!0,f=l.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,c+1)),g=()=>{let t;return t=u?h:d?f:l.route.Component?p.createElement(l.route.Component,null):l.route.element?l.route.element:e,p.createElement(Ee,{match:l,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?p.createElement(Se,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:r}):g()},null)}(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:re([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:re([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,r,i);return t&&y?p.createElement(pe.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},y):y}function _e(){let e=function(){let e=p.useContext(me),t=function(e){let t=p.useContext(ue);return O(t,Ne(e)),t}("useRouteError"),n=Te("useRouteError");if(void 0!==e)return e;return t.errors?.[n]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return o=p.createElement(p.Fragment,null,p.createElement("p",null,"💿 Hey developer 👋"),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:a},"ErrorBoundary")," or"," ",p.createElement("code",{style:a},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:i},n):null,o)}p.createContext(null);var Ce=p.createElement(_e,null),Se=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError&&this.props.unstable_onError(e,t)}render(){return void 0!==this.state.error?p.createElement(fe.Provider,{value:this.props.routeContext},p.createElement(me.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ee({routeContext:e,match:t,children:n}){let r=p.useContext(ce);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(fe.Provider,{value:e},n)}function Ne(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Te(e){let t=function(e){let t=p.useContext(fe);return O(t,Ne(e)),t}(e),n=t.matches[t.matches.length-1];return O(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}var Me={};function Ae(e,t,n){t||Me[e]||(Me[e]=!0,P(!1,n))}function Le(e){O(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function De({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){O(!ge(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),s=p.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);"string"==typeof n&&(n=I(n));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:h="default"}=n,f=p.useMemo(()=>{let e=J(l,o);return null==e?null:{location:{pathname:e,search:c,hash:u,state:d,key:h},navigationType:r}},[o,l,c,u,d,h,r]);return P(null!=f,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),null==f?null:p.createElement(he.Provider,{value:s},p.createElement(pe.Provider,{children:t,value:f}))}function Oe({children:e,location:t}){return we(Pe(e),t)}function Pe(e,t=[]){let n=[];return p.Children.forEach(e,(e,r)=>{if(!p.isValidElement(e))return;let i=[...t,r];if(e.type===p.Fragment)return void n.push.apply(n,Pe(e.props.children,i));O(e.type===Le,`[${"string"==typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),O(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Pe(e.props.children,i)),n.push(a)}),n}p.memo(function({routes:e,future:t,state:n,unstable_onError:r}){return we(e,void 0,n,r,t)});var Fe="get",Be="application/x-www-form-urlencoded";function Re(e){return null!=e&&"string"==typeof e.tagName}var Ie=null;var je=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ze(e){return null==e||je.has(e)?e:(P(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Be}"`),null)}function $e(e,t){let n,r,i,a,o;if(Re(s=e)&&"form"===s.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?J(o,t):null,n=e.getAttribute("method")||Fe,i=ze(e.getAttribute("enctype"))||Be,a=new FormData(e)}else if(function(e){return Re(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Re(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||o.getAttribute("action");if(r=s?J(s,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Fe,i=ze(e.getAttribute("formenctype"))||ze(o.getAttribute("enctype"))||Be,a=new FormData(o,e),!function(){if(null===Ie)try{new FormData(document.createElement("form"),0),Ie=!1}catch(gA){Ie=!0}return Ie}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";a.append(`${e}x`,"0"),a.append(`${e}y`,"0")}else t&&a.append(t,r)}}else{if(Re(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fe,r=null,i=Be,o=e}var s;return a&&"text/plain"===i&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}function He(e,t){if(!1===e||null==e)throw new Error(t)}function qe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}async function Ue(e,t,n){return function(e,t){let n=new Set;return new Set(t),e.reduce((e,t)=>{let r=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(t));return n.has(r)||(n.add(r),e.push({key:r,link:t})),e},[])}((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(qe).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}function Ve(e,t,n,r,i,a){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===a?t.filter((e,t)=>o(e,t)||s(e,t)):"data"===a?t.filter((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof r)return r}return!0}):[]}function We(e,t,{includeHydrateFallback:n}={}){return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function Ge(){let e=p.useContext(ce);return He(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ke=p.createContext(void 0);function Ye(){let e=p.useContext(Ke);return He(e,"You must render this element inside a <HydratedRouter> element"),e}function Ze(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Xe({page:e,...t}){let{router:n}=Ge(),r=p.useMemo(()=>j(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?p.createElement(Qe,{page:e,matches:r,...t}):null}function Qe({page:e,matches:t,...n}){let r=be(),{manifest:i,routeModules:a}=Ye(),{basename:o}=Ge(),{loaderData:s,matches:l}=function(){let e=p.useContext(ue);return He(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}(),c=p.useMemo(()=>Ve(e,t,l,i,r,"data"),[e,t,l,i,r]),u=p.useMemo(()=>Ve(e,t,l,i,r,"assets"),[e,t,l,i,r]),d=p.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,l=!1;if(t.forEach(e=>{let t=i.routes[e.route.id];t&&t.hasLoader&&(!c.some(t=>t.route.id===e.route.id)&&e.route.id in s&&a[e.route.id]?.shouldRevalidate||t.hasClientLoader?l=!0:n.add(e.route.id))}),0===n.size)return[];let u=function(e,t,n){let r="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${n}`:t&&"/"===J(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}(e,o,"data");return l&&n.size>0&&u.searchParams.set("_routes",t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(",")),[u.pathname+u.search]},[o,s,r,i,c,t,e,a]),h=p.useMemo(()=>We(u,i),[u,i]),f=function(e){let{manifest:t,routeModules:n}=Ye(),[r,i]=p.useState([]);return p.useEffect(()=>{let r=!1;return Ue(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),r}(u);return p.createElement(p.Fragment,null,d.map(e=>p.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...n})),h.map(e=>p.createElement("link",{key:e,rel:"modulepreload",href:e,...n})),f.map(({key:e,link:t})=>p.createElement("link",{key:e,nonce:n.nonce,...t})))}function Je(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}Ke.displayName="FrameworkContext";var et="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{et&&(window.__reactRouterVersion="7.8.2")}catch(gA){}function tt({basename:e,children:t,window:n}){let r=p.useRef();null==r.current&&(r.current=D({window:n,v5Compat:!0}));let i=r.current,[a,o]=p.useState({action:i.action,location:i.location}),s=p.useCallback(e=>{p.startTransition(()=>o(e))},[o]);return p.useLayoutEffect(()=>i.listen(s),[i,s]),p.createElement(De,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var nt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rt=p.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:i,replace:a,state:o,target:s,to:l,preventScrollReset:c,viewTransition:u,...d},h){let f,{basename:m}=p.useContext(he),g="string"==typeof l&&nt.test(l),b=!1;if("string"==typeof l&&g&&(f=l,et))try{let e=new URL(window.location.href),t=l.startsWith("//")?new URL(e.protocol+l):new URL(l),n=J(t.pathname,m);t.origin===e.origin&&null!=n?l=n+t.search+t.hash:b=!0}catch(gA){P(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=function(e,{relative:t}={}){O(ge(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=p.useContext(he),{hash:i,pathname:a,search:o}=ke(e,{relative:t}),s=a;return"/"!==n&&(s="/"===a?n:re([n,a])),r.createHref({pathname:s,search:o,hash:i})}(l,{relative:r}),[x,v,k]=function(e,t){let n=p.useContext(Ke),[r,i]=p.useState(!1),[a,o]=p.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=t,h=p.useRef(null);p.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=e=>{e.forEach(e=>{o(e.isIntersecting)})},t=new IntersectionObserver(e,{threshold:.5});return h.current&&t.observe(h.current),()=>{t.disconnect()}}},[e]),p.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let f=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?"intent"!==e?[a,h,{}]:[a,h,{onFocus:Ze(s,f),onBlur:Ze(l,m),onMouseEnter:Ze(c,f),onMouseLeave:Ze(u,m),onTouchStart:Ze(d,f)}]:[!1,h,{}]}(n,d),w=function(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let s=ve(),l=be(),c=ke(e,{relative:a});return p.useCallback(u=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(u,t)){u.preventDefault();let t=void 0!==n?n:R(l)===R(c);s(e,{replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[l,s,c,n,r,t,e,i,a,o])}(l,{replace:a,state:o,target:s,preventScrollReset:c,relative:r,viewTransition:u});let _=p.createElement("a",{...d,...k,href:f||y,onClick:b||i?e:function(t){e&&e(t),t.defaultPrevented||w(t)},ref:Je(h,v),target:s,"data-discover":g||"render"!==t?void 0:"true"});return x&&!g?p.createElement(p.Fragment,null,_,p.createElement(Xe,{page:y})):_});rt.displayName="Link";var it=p.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:i,to:a,viewTransition:o,children:s,...l},c){let u=ke(a,{relative:l.relative}),d=be(),h=p.useContext(ue),{navigator:f,basename:m}=p.useContext(he),g=null!=h&&function(e,{relative:t}={}){let n=p.useContext(de);O(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ot("useViewTransitionState"),i=ke(e,{relative:t});if(!n.isTransitioning)return!1;let a=J(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=J(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=X(i.pathname,o)||null!=X(i.pathname,a)}
/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */(u)&&!0===o,b=f.encodeLocation?f.encodeLocation(u).pathname:u.pathname,y=d.pathname,x=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;t||(y=y.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&m&&(x=J(x,m)||x);const v="/"!==b&&b.endsWith("/")?b.length-1:b.length;let k,w=y===b||!r&&y.startsWith(b)&&"/"===y.charAt(v),_=null!=x&&(x===b||!r&&x.startsWith(b)&&"/"===x.charAt(b.length)),C={isActive:w,isPending:_,isTransitioning:g},S=w?e:void 0;k="function"==typeof n?n(C):[n,w?"active":null,_?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let E="function"==typeof i?i(C):i;return p.createElement(rt,{...l,"aria-current":S,className:k,ref:c,style:E,to:a,viewTransition:o},"function"==typeof s?s(C):s)});it.displayName="NavLink";var at=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Fe,action:s,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...h},f)=>{let m=function(){let{router:e}=ot("useSubmit"),{basename:t}=p.useContext(he),n=Te("useRouteId");return p.useCallback(async(r,i={})=>{let{action:a,method:o,encType:s,formData:l,body:c}=$e(r,t);if(!1===i.navigate){let t=i.fetcherKey||lt();await e.fetch(t,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}(),g=function(e,{relative:t}={}){let{basename:n}=p.useContext(he),r=p.useContext(fe);O(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...ke(e||".",{relative:t})},o=be();if(null==e){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll("index"),n=t.some(e=>""===e);if(n){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?`?${n}`:""}}e&&"."!==e||!i.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:re([n,a.pathname]));return R(a)}(s,{relative:c}),b="get"===o.toLowerCase()?"get":"post",y="string"==typeof s&&nt.test(s);return p.createElement("form",{ref:f,method:b,action:g,onSubmit:r?l:e=>{if(l&&l(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,s=r?.getAttribute("formmethod")||o;m(r||e.currentTarget,{fetcherKey:t,method:s,navigate:n,replace:i,state:a,relative:c,preventScrollReset:u,viewTransition:d})},...h,"data-discover":y||"render"!==e?void 0:"true"})});function ot(e){let t=p.useContext(ce);return O(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}at.displayName="Form";var st=0,lt=()=>`__${String(++st)}__`;const ct=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ut=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},dt=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),ht=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};
/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var pt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...s},l)=>p.createElement("svg",{ref:l,...pt,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:dt("lucide",i),...!a&&!ht(s)&&{"aria-hidden":"true"},...s},[...o.map(([e,t])=>p.createElement(e,t)),...Array.isArray(a)?a:[a]])),mt=(e,t)=>{const n=p.forwardRef(({className:n,...r},i)=>p.createElement(ft,{ref:i,iconNode:t,className:dt(`lucide-${ct(ut(e))}`,`lucide-${e}`,n),...r}));return n.displayName=ut(e),n},gt=mt("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),bt=mt("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),yt=mt("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),xt=mt("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),vt=mt("github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),kt=mt("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),wt=mt("linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),_t=mt("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),Ct=mt("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),St=mt("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),Et=mt("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Nt=mt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Tt=()=>{const[e,t]=p.useState(!1),[n,r]=p.useState(null),[i,a]=p.useState(null),o=be(),s=p.useRef(null),l=[{path:"/",label:"Home"},{path:"/projects",label:"Projects"},{path:"/contact",label:"Contact"}],c=e=>"/"===e?"/"===o.pathname:o.pathname.startsWith(e),u=()=>{t(!1)};return p.useEffect(()=>{const t=e=>{s.current&&!s.current.contains(e.target)&&u()};return e&&(document.addEventListener("mousedown",t),document.body.style.overflow="hidden"),()=>{document.removeEventListener("mousedown",t),document.body.style.overflow="unset"}},[e]),p.useEffect(()=>{u()},[o.pathname]),h.jsxDEV("nav",{className:"fixed top-0 right-0 z-50 w-full bg-vs-editor-surface/95 backdrop-blur-sm border-b border-vs-editor-border shadow-sm",children:[h.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxDEV("div",{className:"flex justify-between items-center h-16",children:[h.jsxDEV("div",{className:"flex-shrink-0",children:h.jsxDEV(rt,{to:"/",className:"text-xl font-bold text-vs-editor-text hover:text-crystal-blue-400 transition-colors",children:"Jordan Yu"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Navigation/Navigation.tsx",lineNumber:92,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Navigation/Navigation.tsx",lineNumber:91,columnNumber:11},void 0),h.jsxDEV("div",{className:"hidden md:block",children:h.jsxDEV("div",{className:"ml-10 flex items-baseline space-x-8",children:l.map(e=>h.jsxDEV(rt,{to:e.path,className:"px-3 py-2 rounded-md text-sm font-medium transition-colors "+(c(e.path)?"text-crystal-blue-400 bg-vs-editor-selection":"text-vs-editor-text hover:text-crystal-blue-400 hover:bg-vs-editor-hover"),children:e.label},e.path,!1,{fileName:"/workspace/personal-blog/src/components/Navigation/Navigation.tsx",lineNumber:101,columnNumber:17},void 0))},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Navigation/Navigation.tsx",lineNumber:99,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Navigation/Navigation.tsx",lineNumber:98,columnNumber:11},void 0),h.jsxDEV("div",{className:"md:hidden",children:h.jsxDEV("button",{onClick:()=>{t(!e)},className:"inline-flex items-center justify-center p-2 rounded-md text-vs-editor-text hover:text-crystal-blue-400 hover:bg-vs-editor-hover focus:outline-none focus:ring-2 focus:ring-inset focus:ring-crystal-blue-500 transition-colors active:bg-vs-editor-surface2","aria-expanded":e,"aria-label":e?"Close main menu":"Open main menu",children:[h.jsxDEV("span",{className:"sr-only",children:e?"Close main menu":"Open main menu"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Navigation/Navigation.tsx",lineNumber:124,columnNumber:15},void 0),e?h.jsxDEV(Nt,{className:"block h-6 w-6","aria-hidden":"true"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Navigation/Navigation.tsx",lineNumber:126,columnNumber:17},void 0):h.jsxDEV(St,{className:"block h-6 w-6","aria-hidden":"true"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Navigation/Navigation.tsx",lineNumber:128,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/Navigation/Navigation.tsx",lineNumber:118,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Navigation/Navigation.tsx",lineNumber:117,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/Navigation/Navigation.tsx",lineNumber:89,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Navigation/Navigation.tsx",lineNumber:88,columnNumber:7},void 0),e&&h.jsxDEV("div",{ref:s,className:"md:hidden fixed inset-0 z-40 bg-black bg-opacity-25 backdrop-blur-sm transition-all duration-300 ease-in-out",onClick:u,children:h.jsxDEV("div",{className:"absolute right-0 top-16 w-64 h-full bg-vs-editor-surface shadow-2xl transform transition-all duration-500 ease-out",onTouchStart:e=>{a(null),r(e.targetTouches[0].clientX)},onTouchMove:e=>{a(e.targetTouches[0].clientX)},onTouchEnd:()=>{if(!n||!i)return;n-i>50&&e&&u(),r(null),a(null)},onClick:e=>e.stopPropagation(),children:[h.jsxDEV("div",{className:"px-4 pt-6 pb-8 space-y-2",children:[h.jsxDEV("div",{className:"text-xs font-semibold text-vs-editor-text2 uppercase tracking-wider mb-4 px-3 transition-colors duration-300",children:"Navigation"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Navigation/Navigation.tsx",lineNumber:150,columnNumber:15},void 0),l.map((e,t)=>h.jsxDEV(rt,{to:e.path,className:"block px-3 py-3 rounded-lg text-base font-medium transition-all duration-300 ease-in-out transform hover:scale-105 hover:-translate-x-1 "+(c(e.path)?"text-crystal-blue-400 bg-vs-editor-selection border-l-4 border-crystal-blue-400 shadow-md":"text-vs-editor-text hover:text-crystal-blue-400 hover:bg-vs-editor-hover hover:shadow-md active:bg-vs-editor-surface2 active:scale-95"),onClick:u,style:{animationDelay:100*t+"ms"},children:e.label},`mobile-${e.path}`,!1,{fileName:"/workspace/personal-blog/src/components/Navigation/Navigation.tsx",lineNumber:154,columnNumber:17},void 0))]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/Navigation/Navigation.tsx",lineNumber:149,columnNumber:13},void 0),h.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-vs-editor-border bg-gradient-to-r from-vs-editor-surface to-vs-editor-surface2",children:h.jsxDEV("div",{className:"text-xs text-vs-editor-text2 text-center transition-colors duration-300 hover:text-crystal-blue-400",children:"Swipe left to close"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Navigation/Navigation.tsx",lineNumber:173,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Navigation/Navigation.tsx",lineNumber:172,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/Navigation/Navigation.tsx",lineNumber:142,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Navigation/Navigation.tsx",lineNumber:137,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/Navigation/Navigation.tsx",lineNumber:87,columnNumber:5},void 0)},Mt=["id","title","slug","date","featured","tags","excerpt","author","readTime","category","difficulty"],At=["id","title","slug","date","featured","tags","description","shortDescription","image","techStack","showDetails"],Lt={cacheEnabled:!0,cacheExpiry:36e5,parseMarkdown:!1,validateFrontmatter:!1};
/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let Dt={};const Ot=e=>({frontmatter:"",markdown:e.trim()}),Pt=e=>{const t=e.split("\n"),n={};if(!e.trim())return n;for(const i of t){const e=i.trim();if(!e||e.startsWith("#"))continue;const t=e.indexOf(":");if(-1===t)continue;const a=e.substring(0,t).trim();let o=e.substring(t+1).trim();if(a){if((o.startsWith('"')&&o.endsWith('"')||o.startsWith("'")&&o.endsWith("'"))&&(o=o.slice(1,-1)),o.startsWith("[")&&o.endsWith("]"))try{o=o.slice(1,-1).split(",").map(e=>e.trim())}catch(r){o=[]}"true"===o?o=!0:"false"===o&&(o=!1),"string"!=typeof o||isNaN(Number(o))||""===o||(o=Number(o)),n[a]=o}}return n},Ft=(e,t={})=>{const{parseMarkdown:n=!1}=t;if(!n)return{content:e};try{const t=(e=>{const t=[];return e&&0!==e.trim().length||t.push("Content is empty"),(e.match(/^#{1,6} /gm)||[]).length!==(e.match(/<\/h[1-6]>/g)||[]).length&&t.push("Mismatched header tags"),(e.match(/```/g)||[]).length%2!=0&&t.push("Unclosed code block"),{isValid:0===t.length,errors:t}})(e);t.isValid;const n=(e=>{const t=e.replace(/<[^>]*>/g,"").trim().split(/\s+/).filter(e=>e.length>0).length;return{wordCount:t,readTime:Math.ceil(t/200)}})(e);return{content:e,wordCount:n.wordCount,readTime:n.readTime}}catch(r){const t=(e=>{const t=e.replace(/<[^>]*>/g,"").trim().split(/\s+/).filter(e=>e.length>0).length;return{wordCount:t,readTime:Math.ceil(t/200)}})(e);return{content:e,wordCount:t.wordCount,readTime:t.readTime}}},Bt=async(e,t={})=>{const n={...Lt,...t};try{if(n.cacheEnabled&&Dt[e]){const t=Dt[e];if(Date.now()<t.expiresAt)return t.content;delete Dt[e]}const t=await fetch(e);if(!t.ok){const n=`Failed to load content from ${e}: ${t.statusText}`;throw new Error(n)}const r=await t.text(),{frontmatter:i,markdown:a}=Ot(r),o=Pt(i);if(n.validateFrontmatter){const e=(e=>{const t=[],n=[];for(const r of Mt)void 0!==e[r]&&null!==e[r]||t.push(`Missing required field: ${r}`);if(void 0!==e.readTime&&null!==e.readTime&&"number"!=typeof e.readTime){n.push("readTime should be a number, attempting to convert");const r=Number(e.readTime);isNaN(r)?t.push("readTime must be a valid number"):e.readTime=r}return void 0!==e.category&&null!==e.category&&(["tutorial","project-showcase","tech-review","career-advice"].includes(e.category)||(n.push(`Invalid category value: ${e.category}, defaulting to tutorial`),e.category="tutorial")),void 0!==e.difficulty&&null!==e.difficulty&&(["beginner","intermediate","advanced"].includes(e.difficulty)||(n.push(`Invalid difficulty value: ${e.difficulty}, defaulting to intermediate`),e.difficulty="intermediate")),void 0!==e.tags&&null!==e.tags&&(Array.isArray(e.tags)||(n.push("tags should be an array, attempting to convert"),"string"==typeof e.tags?e.tags=[e.tags]:t.push("tags must be an array or string"))),void 0!==e.featured&&null!==e.featured&&"boolean"!=typeof e.featured&&(n.push(`featured should be a boolean, converting "${e.featured}" to false`),e.featured=!1),!e.id&&e.slug&&(e.id=e.slug,n.push("Using slug as id since id is missing")),e.date||(e.date=(new Date).toISOString().split("T")[0],n.push("Using current date as default since date is missing")),e.author||(e.author="Unknown Author",n.push("Using default author since author is missing")),{isValid:0===t.length,errors:t,warnings:n}})(o);if(!e.isValid){const t=`Invalid frontmatter: ${e.errors.join(", ")}`;throw new Error(t)}}const s=Ft(a,n),l={frontmatter:o,content:s.content,excerpt:o.excerpt,wordCount:s.wordCount,readTime:s.readTime};return n.cacheEnabled&&(Dt[e]={content:l,timestamp:Date.now(),expiresAt:Date.now()+n.cacheExpiry}),l}catch(r){throw new Error(`Failed to load blog post content: ${r instanceof Error?r.message:String(r)}`)}},Rt=async(e,t={})=>{const n={...Lt,...t};try{if(n.cacheEnabled&&Dt[e]){const t=Dt[e];if(Date.now()<t.expiresAt)return t.content;delete Dt[e]}const t=await fetch(e);if(!t.ok){const n=`Failed to load content from ${e}: ${t.statusText}`;throw new Error(n)}const r=await t.text(),{frontmatter:i,markdown:a}=Ot(r),o=Pt(i);if(n.validateFrontmatter){const e=(e=>{const t=[],n=[];for(const r of At)void 0!==e[r]&&null!==e[r]||t.push(`Missing required field: ${r}`);return void 0!==e.techStack&&null!==e.techStack&&(Array.isArray(e.techStack)||(n.push("techStack should be an array, attempting to convert"),"string"==typeof e.techStack?e.techStack=[e.techStack]:t.push("techStack must be an array or string"))),void 0!==e.featured&&null!==e.featured&&"boolean"!=typeof e.featured&&(n.push(`featured should be a boolean, converting "${e.featured}" to false`),e.featured=!1),!e.id&&e.slug&&(e.id=e.slug,n.push("Using slug as id since id is missing")),e.date||(e.date=(new Date).toISOString().split("T")[0],n.push("Using current date as default since date is missing")),!e.description&&e.shortDescription&&(e.description=e.shortDescription,n.push("Using shortDescription as description since description is missing")),!e.shortDescription&&e.description&&(e.shortDescription=e.description.substring(0,100)+"...",n.push("Generated shortDescription from description")),{isValid:0===t.length,errors:t,warnings:n}})(o);if(!e.isValid){const t=`Invalid frontmatter: ${e.errors.join(", ")}`;throw new Error(t)}}const s=Ft(a,n),l={frontmatter:o,content:s.content,excerpt:"excerpt",wordCount:s.wordCount,readTime:s.readTime};return n.cacheEnabled&&(Dt[e]={content:l,timestamp:Date.now(),expiresAt:Date.now()+n.cacheExpiry}),l}catch(r){throw new Error(`Failed to load project content: ${r instanceof Error?r.message:String(r)}`)}};class It extends Error{name="Assertion";code="ERR_ASSERTION";constructor(e,t,n,r,i){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.actual=t,this.expected=n,this.generated=i,this.operator=r}}function jt(e,t){$t(Boolean(e),!1,!0,"ok","Expected value to be truthy",t)}function zt(e){$t(!1,!1,!0,"ok","Unreachable",e)}function $t(e,t,n,r,i,a){if(!e)throw a instanceof Error?a:new It(a||i,t,n,r,!a)}const Ht=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qt=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Ut={};function Vt(e,t){return(Ut.jsx?qt:Ht).test(e)}const Wt=/[ \t\n\f\r]/g;function Gt(e){return""===e.replace(Wt,"")}class Kt{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function Yt(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Kt(n,r,t)}function Zt(e){return e.toLowerCase()}Kt.prototype.normal={},Kt.prototype.property={},Kt.prototype.space=void 0;class Xt{constructor(e,t){this.attribute=t,this.property=e}}Xt.prototype.attribute="",Xt.prototype.booleanish=!1,Xt.prototype.boolean=!1,Xt.prototype.commaOrSpaceSeparated=!1,Xt.prototype.commaSeparated=!1,Xt.prototype.defined=!1,Xt.prototype.mustUseProperty=!1,Xt.prototype.number=!1,Xt.prototype.overloadedBoolean=!1,Xt.prototype.property="",Xt.prototype.spaceSeparated=!1,Xt.prototype.space=void 0;let Qt=0;const Jt=sn(),en=sn(),tn=sn(),nn=sn(),rn=sn(),an=sn(),on=sn();function sn(){return 2**++Qt}const ln=Object.freeze(Object.defineProperty({__proto__:null,boolean:Jt,booleanish:en,commaOrSpaceSeparated:on,commaSeparated:an,number:nn,overloadedBoolean:tn,spaceSeparated:rn},Symbol.toStringTag,{value:"Module"})),cn=Object.keys(ln);class un extends Xt{constructor(e,t,n,r){let i=-1;if(super(e,t),dn(this,"space",r),"number"==typeof n)for(;++i<cn.length;){const e=cn[i];dn(this,cn[i],(n&ln[e])===ln[e])}}}function dn(e,t,n){n&&(e[t]=n)}function hn(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new un(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[Zt(r)]=r,n[Zt(a.attribute)]=r}return new Kt(t,n,e.space)}un.prototype.defined=!0;const pn=hn({properties:{ariaActiveDescendant:null,ariaAtomic:en,ariaAutoComplete:null,ariaBusy:en,ariaChecked:en,ariaColCount:nn,ariaColIndex:nn,ariaColSpan:nn,ariaControls:rn,ariaCurrent:null,ariaDescribedBy:rn,ariaDetails:null,ariaDisabled:en,ariaDropEffect:rn,ariaErrorMessage:null,ariaExpanded:en,ariaFlowTo:rn,ariaGrabbed:en,ariaHasPopup:null,ariaHidden:en,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:rn,ariaLevel:nn,ariaLive:null,ariaModal:en,ariaMultiLine:en,ariaMultiSelectable:en,ariaOrientation:null,ariaOwns:rn,ariaPlaceholder:null,ariaPosInSet:nn,ariaPressed:en,ariaReadOnly:en,ariaRelevant:null,ariaRequired:en,ariaRoleDescription:rn,ariaRowCount:nn,ariaRowIndex:nn,ariaRowSpan:nn,ariaSelected:en,ariaSetSize:nn,ariaSort:null,ariaValueMax:nn,ariaValueMin:nn,ariaValueNow:nn,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function fn(e,t){return t in e?e[t]:t}function mn(e,t){return fn(e,t.toLowerCase())}const gn=hn({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:an,acceptCharset:rn,accessKey:rn,action:null,allow:null,allowFullScreen:Jt,allowPaymentRequest:Jt,allowUserMedia:Jt,alt:null,as:null,async:Jt,autoCapitalize:null,autoComplete:rn,autoFocus:Jt,autoPlay:Jt,blocking:rn,capture:null,charSet:null,checked:Jt,cite:null,className:rn,cols:nn,colSpan:null,content:null,contentEditable:en,controls:Jt,controlsList:rn,coords:nn|an,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Jt,defer:Jt,dir:null,dirName:null,disabled:Jt,download:tn,draggable:en,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Jt,formTarget:null,headers:rn,height:nn,hidden:tn,high:nn,href:null,hrefLang:null,htmlFor:rn,httpEquiv:rn,id:null,imageSizes:null,imageSrcSet:null,inert:Jt,inputMode:null,integrity:null,is:null,isMap:Jt,itemId:null,itemProp:rn,itemRef:rn,itemScope:Jt,itemType:rn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Jt,low:nn,manifest:null,max:null,maxLength:nn,media:null,method:null,min:null,minLength:nn,multiple:Jt,muted:Jt,name:null,nonce:null,noModule:Jt,noValidate:Jt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Jt,optimum:nn,pattern:null,ping:rn,placeholder:null,playsInline:Jt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Jt,referrerPolicy:null,rel:rn,required:Jt,reversed:Jt,rows:nn,rowSpan:nn,sandbox:rn,scope:null,scoped:Jt,seamless:Jt,selected:Jt,shadowRootClonable:Jt,shadowRootDelegatesFocus:Jt,shadowRootMode:null,shape:null,size:nn,sizes:null,slot:null,span:nn,spellCheck:en,src:null,srcDoc:null,srcLang:null,srcSet:null,start:nn,step:null,style:null,tabIndex:nn,target:null,title:null,translate:null,type:null,typeMustMatch:Jt,useMap:null,value:en,width:nn,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:rn,axis:null,background:null,bgColor:null,border:nn,borderColor:null,bottomMargin:nn,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Jt,declare:Jt,event:null,face:null,frame:null,frameBorder:null,hSpace:nn,leftMargin:nn,link:null,longDesc:null,lowSrc:null,marginHeight:nn,marginWidth:nn,noResize:Jt,noHref:Jt,noShade:Jt,noWrap:Jt,object:null,profile:null,prompt:null,rev:null,rightMargin:nn,rules:null,scheme:null,scrolling:en,standby:null,summary:null,text:null,topMargin:nn,valueType:null,version:null,vAlign:null,vLink:null,vSpace:nn,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Jt,disableRemotePlayback:Jt,prefix:null,property:null,results:nn,security:null,unselectable:null},space:"html",transform:mn}),bn=hn({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:on,accentHeight:nn,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:nn,amplitude:nn,arabicForm:null,ascent:nn,attributeName:null,attributeType:null,azimuth:nn,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:nn,by:null,calcMode:null,capHeight:nn,className:rn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:nn,diffuseConstant:nn,direction:null,display:null,dur:null,divisor:nn,dominantBaseline:null,download:Jt,dx:null,dy:null,edgeMode:null,editable:null,elevation:nn,enableBackground:null,end:null,event:null,exponent:nn,externalResourcesRequired:null,fill:null,fillOpacity:nn,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:an,g2:an,glyphName:an,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:nn,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:nn,horizOriginX:nn,horizOriginY:nn,id:null,ideographic:nn,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:nn,k:nn,k1:nn,k2:nn,k3:nn,k4:nn,kernelMatrix:on,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:nn,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:nn,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:nn,overlineThickness:nn,paintOrder:null,panose1:null,path:null,pathLength:nn,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:rn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:nn,pointsAtY:nn,pointsAtZ:nn,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:on,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:on,rev:on,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:on,requiredFeatures:on,requiredFonts:on,requiredFormats:on,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:nn,specularExponent:nn,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:nn,strikethroughThickness:nn,string:null,stroke:null,strokeDashArray:on,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:nn,strokeOpacity:nn,strokeWidth:null,style:null,surfaceScale:nn,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:on,tabIndex:nn,tableValues:null,target:null,targetX:nn,targetY:nn,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:on,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:nn,underlineThickness:nn,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:nn,values:null,vAlphabetic:nn,vMathematical:nn,vectorEffect:null,vHanging:nn,vIdeographic:nn,version:null,vertAdvY:nn,vertOriginX:nn,vertOriginY:nn,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:nn,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:fn}),yn=hn({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),xn=hn({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:mn}),vn=hn({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),kn={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},wn=/[A-Z]/g,_n=/-[a-z]/g,Cn=/^data[-\w.:]+$/i;function Sn(e){return"-"+e.toLowerCase()}function En(e){return e.charAt(1).toUpperCase()}const Nn=Yt([pn,gn,yn,xn,vn],"html"),Tn=Yt([pn,bn,yn,xn,vn],"svg");var Mn,An,Ln,Dn={};function On(){if(Ln)return Dn;Ln=1;var e=Dn&&Dn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.default=function(e,n){var r=null;if(!e||"string"!=typeof e)return r;var i=(0,t.default)(e),a="function"==typeof n;return i.forEach(function(e){if("declaration"===e.type){var t=e.property,i=e.value;a?n(t,i,e):i&&((r=r||{})[t]=i)}}),r};var t=e(function(){if(An)return Mn;An=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,s=/^\s+|\s+$/g,l="";function c(e){return e?e.replace(s,l):l}return Mn=function(s,u){if("string"!=typeof s)throw new TypeError("First argument must be a string");if(!s)return[];u=u||{};var d=1,h=1;function p(e){var n=e.match(t);n&&(d+=n.length);var r=e.lastIndexOf("\n");h=~r?e.length-r:h+e.length}function f(){var e={line:d,column:h};return function(t){return t.position=new m(e),y(),t}}function m(e){this.start=e,this.end={line:d,column:h},this.source=u.source}function g(e){var t=new Error(u.source+":"+d+":"+h+": "+e);if(t.reason=e,t.filename=u.source,t.line=d,t.column=h,t.source=s,!u.silent)throw t}function b(e){var t=e.exec(s);if(t){var n=t[0];return p(n),s=s.slice(n.length),t}}function y(){b(n)}function x(e){var t;for(e=e||[];t=v();)!1!==t&&e.push(t);return e}function v(){var e=f();if("/"==s.charAt(0)&&"*"==s.charAt(1)){for(var t=2;l!=s.charAt(t)&&("*"!=s.charAt(t)||"/"!=s.charAt(t+1));)++t;if(t+=2,l===s.charAt(t-1))return g("End of comment missing");var n=s.slice(2,t-2);return h+=2,p(n),s=s.slice(t),h+=2,e({type:"comment",comment:n})}}function k(){var t=f(),n=b(r);if(n){if(v(),!b(i))return g("property missing ':'");var s=b(a),u=t({type:"declaration",property:c(n[0].replace(e,l)),value:s?c(s[0].replace(e,l)):l});return b(o),u}}return m.prototype.content=s,y(),function(){var e,t=[];for(x(t);e=k();)!1!==e&&(t.push(e),x(t));return t}()},Mn}());return Dn}var Pn,Fn,Bn,Rn={};function In(){if(Pn)return Rn;Pn=1,Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(e,t){return t.toUpperCase()},o=function(e,t){return"".concat(t,"-")};return Rn.camelCase=function(s,l){return void 0===l&&(l={}),function(t){return!t||n.test(t)||e.test(t)}(s)?s:(s=s.toLowerCase(),(s=l.reactCompat?s.replace(i,o):s.replace(r,o)).replace(t,a))},Rn}const jn=e(function(){if(Bn)return Fn;Bn=1;var e=(Fn&&Fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(On()),t=In();function n(n,r){var i={};return n&&"string"==typeof n?((0,e.default)(n,function(e,n){e&&n&&(i[(0,t.camelCase)(e,r)]=n)}),i):i}return n.default=n,Fn=n}()),zn=Hn("end"),$n=Hn("start");function Hn(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"==typeof n.line&&n.line>0&&"number"==typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"==typeof n.offset&&n.offset>-1?n.offset:void 0}}}function qn(e){return e&&"object"==typeof e?"position"in e||"type"in e?Vn(e.position):"start"in e||"end"in e?Vn(e):"line"in e||"column"in e?Un(e):"":""}function Un(e){return Wn(e&&e.line)+":"+Wn(e&&e.column)}function Vn(e){return Un(e&&e.start)+"-"+Un(e&&e.end)}function Wn(e){return e&&"number"==typeof e?e:1}class Gn extends Error{constructor(e,t,n){super(),"string"==typeof t&&(n=t,t=void 0);let r="",i={},a=!1;if(t&&(i="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"==typeof e?r=e:!i.cause&&e&&(a=!0,r=e.message,i.cause=e),!i.ruleId&&!i.source&&"string"==typeof n){const e=n.indexOf(":");-1===e?i.ruleId=n:(i.source=n.slice(0,e),i.ruleId=n.slice(e+1))}if(!i.place&&i.ancestors&&i.ancestors){const e=i.ancestors[i.ancestors.length-1];e&&(i.place=e.position)}const o=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=o?o.line:void 0,this.name=qn(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=a&&i.cause&&"string"==typeof i.cause.stack?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Gn.prototype.file="",Gn.prototype.name="",Gn.prototype.reason="",Gn.prototype.message="",Gn.prototype.stack="",Gn.prototype.column=void 0,Gn.prototype.line=void 0,Gn.prototype.ancestors=void 0,Gn.prototype.cause=void 0,Gn.prototype.fatal=void 0,Gn.prototype.place=void 0,Gn.prototype.ruleId=void 0,Gn.prototype.source=void 0;const Kn={}.hasOwnProperty,Yn=new Map,Zn=/[A-Z]/g,Xn=new Set(["table","tbody","thead","tfoot","tr"]),Qn=new Set(["td","th"]),Jn="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function er(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if("function"!=typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(e,t){return n;function n(n,r,i,a){const o=Array.isArray(i.children),s=$n(n);return t(r,i,a,o,{columnNumber:s?s.column-1:void 0,fileName:e,lineNumber:s?s.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!=typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");r=function(e,t,n){return r;function r(e,r,i,a){const o=Array.isArray(i.children)?n:t;return a?o(r,i,a):o(r,i)}}(0,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?Tn:Nn,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},a=tr(i,e,void 0);return a&&"string"!=typeof a?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function tr(e,t,n){return"element"===t.type?function(e,t,n){const r=e.schema;let i=r;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(i=Tn,e.schema=i);e.ancestors.push(t);const a=or(e,t.tagName,!1),o=function(e,t){const n={};let r,i;for(i in t.properties)if("children"!==i&&Kn.call(t.properties,i)){const a=ar(e,i,t.properties[i]);if(a){const[i,o]=a;e.tableCellAlignToStyle&&"align"===i&&"string"==typeof o&&Qn.has(t.tagName)?r=o:n[i]=o}}if(r){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r}return n}(e,t);let s=ir(e,t);Xn.has(t.tagName)&&(s=s.filter(function(e){return"string"!=typeof e||!("object"==typeof(t=e)?"text"===t.type&&Gt(t.value):Gt(t));var t}));return nr(e,o,a,t),rr(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return jt("ExpressionStatement"===n.type),e.evaluater.evaluateExpression(n.expression)}sr(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const r=e.schema;let i=r;"svg"===t.name&&"html"===r.space&&(i=Tn,e.schema=i);e.ancestors.push(t);const a=null===t.name?e.Fragment:or(e,t.name,!0),o=function(e,t){const n={};for(const r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){const t=r.data.estree.body[0];jt("ExpressionStatement"===t.type);const i=t.expression;jt("ObjectExpression"===i.type);const a=i.properties[0];jt("SpreadElement"===a.type),Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else sr(e,t.position);else{const i=r.name;let a;if(r.value&&"object"==typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){const t=r.value.data.estree.body[0];jt("ExpressionStatement"===t.type),a=e.evaluater.evaluateExpression(t.expression)}else sr(e,t.position);else a=null===r.value||r.value;n[i]=a}return n}(e,t),s=ir(e,t);return nr(e,o,a,t),rr(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);sr(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const r={};return rr(r,ir(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function nr(e,t,n,r){"string"!=typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function rr(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function ir(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Yn;for(;++r<t.children.length;){const a=t.children[r];let o;if(e.passKeys){const e="element"===a.type?a.tagName:"mdxJsxFlowElement"===a.type||"mdxJsxTextElement"===a.type?a.name:void 0;if(e){const t=i.get(e)||0;o=e+"-"+t,i.set(e,t+1)}}const s=tr(e,a,o);void 0!==s&&n.push(s)}return n}function ar(e,t,n){const r=function(e,t){const n=Zt(t);let r=t,i=Xt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&Cn.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(_n,En);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!_n.test(e)){let n=e.replace(wn,Sn);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}i=un}return new i(r,t)}(e.schema,t);if(!(null==n||"number"==typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?function(e){const t={};return(""===e[e.length-1]?[...e,""]:e).join((t.padRight?" ":"")+","+(!1===t.padLeft?"":" ")).trim()}(n):function(e){return e.join(" ").trim()}(n)),"style"===r.property){let t="object"==typeof n?n:function(e,t){try{return jn(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const t=n,r=new Gn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=Jn+"#cannot-parse-style-attribute",r}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)Kn.call(e,n)&&(t[lr(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?kn[r.property]||r.property:r.attribute,n]}}function or(e,t,n){let r;if(n)if(t.includes(".")){const e=t.split(".");let n,i=-1;for(;++i<e.length;){const t=Vt(e[i])?{type:"Identifier",name:e[i]}:{type:"Literal",value:e[i]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(i&&"Literal"===t.type),optional:!1}:t}jt(n,"always a result"),r=n}else r=Vt(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){const t=r.value;return Kn.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);sr(e)}function sr(e,t){const n=new Gn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Jn+"#cannot-handle-mdx-estrees-without-createevaluater",n}function lr(e){let t=e.replace(Zn,cr);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function cr(e){return"-"+e.toLowerCase()}const ur={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]};var dr,hr,pr={exports:{}},fr={};function mr(){return dr||(dr=1,
/**
	 * @license React
	 * react-jsx-runtime.development.js
	 *
	 * Copyright (c) Meta Platforms, Inc. and affiliates.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 */
function(){function e(t){if(null==t)return null;if("function"==typeof t)return t.$$typeof===C?null:t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case p:return"Fragment";case m:return"Profiler";case f:return"StrictMode";case x:return"Suspense";case v:return"SuspenseList";case _:return"Activity"}if("object"==typeof t)switch(t.tag,t.$$typeof){case h:return"Portal";case b:return(t.displayName||"Context")+".Provider";case g:return(t._context.displayName||"Context")+".Consumer";case y:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case k:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return e(t(n))}catch(PA){}}return null}function t(e){return""+e}function n(e){try{t(e);var n=!1}catch(gA){n=!0}if(n){var r=(n=console).error,i="function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object";return r.call(n,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",i),t(e)}}function r(t){if(t===p)return"<>";if("object"==typeof t&&null!==t&&t.$$typeof===w)return"<...>";try{var n=e(t);return n?"<"+n+">":"<...>"}catch(PA){return"<...>"}}function i(){return Error("react-stack-top-frame")}function a(){var t=e(this.type);return M[t]||(M[t]=!0),void 0!==(t=this.props.ref)?t:null}function o(t,r,i,o,c,u,h,p){var f,m=r.children;if(void 0!==m)if(o){if(N(m)){for(o=0;o<m.length;o++)s(m[o]);Object.freeze&&Object.freeze(m)}}else s(m);if(E.call(r,"key")){m=e(t);var g=Object.keys(r).filter(function(e){return"key"!==e});o=0<g.length?"{key: someKey, "+g.join(": ..., ")+": ...}":"{key: someKey}",D[m+o]||(g=0<g.length?"{"+g.join(": ..., ")+": ...}":"{}",D[m+o]=!0)}if(m=null,void 0!==i&&(n(i),m=""+i),function(e){if(E.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}(r)&&(n(r.key),m=""+r.key),"key"in r)for(var b in i={},r)"key"!==b&&(i[b]=r[b]);else i=r;return m&&function(e){function t(){l||(l=!0)}t.isReactWarning=!0,Object.defineProperty(e,"key",{get:t,configurable:!0})}(i,"function"==typeof t&&(t.displayName||t.name)),function(e,t,n,r,i,o,s,l){return n=o.ref,e={$$typeof:d,type:e,key:t,props:o,_owner:i},null!==(void 0!==n?n:null)?Object.defineProperty(e,"ref",{enumerable:!1,get:a}):Object.defineProperty(e,"ref",{enumerable:!1,value:null}),e._store={},Object.defineProperty(e._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(e,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(e,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:s}),Object.defineProperty(e,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:l}),Object.freeze&&(Object.freeze(e.props),Object.freeze(e)),e}(t,m,u,0,null===(f=S.A)?null:f.getOwner(),i,h,p)}function s(e){"object"==typeof e&&null!==e&&e.$$typeof===d&&e._store&&(e._store.validated=1)}var l,c=u(),d=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),b=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),C=Symbol.for("react.client.reference"),S=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=Object.prototype.hasOwnProperty,N=Array.isArray,T=console.createTask?console.createTask:function(){return null},M={},A=(c={react_stack_bottom_frame:function(e){return e()}}).react_stack_bottom_frame.bind(c,i)(),L=T(r(i)),D={};fr.Fragment=p,fr.jsx=function(e,t,n,i,a){var s=1e4>S.recentlyCreatedOwnerStacks++;return o(e,t,n,!1,0,a,s?Error("react-stack-top-frame"):A,s?T(r(e)):L)},fr.jsxs=function(e,t,n,i,a){var s=1e4>S.recentlyCreatedOwnerStacks++;return o(e,t,n,!0,0,a,s?Error("react-stack-top-frame"):A,s?T(r(e)):L)}}()),fr}var gr=(hr||(hr=1,pr.exports=mr()),pr.exports);const br={};function yr(e,t){return xr(e,"boolean"!=typeof br.includeImageAlt||br.includeImageAlt,"boolean"!=typeof br.includeHtml||br.includeHtml)}function xr(e,t,n){if(function(e){return Boolean(e&&"object"==typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return vr(e.children,t,n)}return Array.isArray(e)?vr(e,t,n):""}function vr(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=xr(e[i],t,n);return r.join("")}const kr=document.createElement("i");function wr(e){const t="&"+e+";";kr.innerHTML=t;const n=kr.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}const _r=-5,Cr=-4,Sr=-3,Er=-2,Nr=-1,Tr=null,Mr=0,Ar=9,Lr=10,Dr=11,Or=13,Pr=32,Fr=33,Br=34,Rr=35,Ir=37,jr=38,zr=39,$r=40,Hr=41,qr=42,Ur=43,Vr=44,Wr=45,Gr=46,Kr=47,Yr=48,Zr=49,Xr=50,Qr=51,Jr=52,ei=53,ti=54,ni=55,ri=56,ii=57,ai=58,oi=59,si=60,li=61,ci=62,ui=63,di=64,hi=65,pi=72,fi=87,mi=88,gi=91,bi=92,yi=93,xi=94,vi=95,ki=96,wi=97,_i=104,Ci=119,Si=120,Ei=123,Ni=124,Ti=126,Mi=127,Ai=65279,Li=65533,Di=2,Oi=6,Pi=63,Fi=32,Bi="CDATA[",Ri=2,Ii=1,ji=7,zi=6,$i=31,Hi=3,qi="content",Ui="flow",Vi="string",Wi="text",Gi=2,Ki=6,Yi=5,Zi=2,Xi=7,Qi=4,Ji=3,ea=8,ta=1,na=32,ra=999,ia=10,aa=10,oa=16,sa=4,la=3,ca=1e4,ua="data",da="whitespace",ha="lineEnding",pa="lineEndingBlank",fa="linePrefix",ma="lineSuffix",ga="atxHeading",ba="atxHeadingSequence",ya="atxHeadingText",xa="autolink",va="autolinkEmail",ka="autolinkMarker",wa="autolinkProtocol",_a="characterEscape",Ca="characterEscapeValue",Sa="characterReference",Ea="characterReferenceMarker",Na="characterReferenceMarkerNumeric",Ta="characterReferenceMarkerHexadecimal",Ma="characterReferenceValue",Aa="codeFenced",La="codeFencedFence",Da="codeFencedFenceSequence",Oa="codeFencedFenceInfo",Pa="codeFencedFenceMeta",Fa="codeFlowValue",Ba="codeIndented",Ra="codeText",Ia="codeTextData",ja="codeTextPadding",za="codeTextSequence",$a="content",Ha="definition",qa="definitionDestination",Ua="definitionDestinationLiteral",Va="definitionDestinationLiteralMarker",Wa="definitionDestinationRaw",Ga="definitionDestinationString",Ka="definitionLabel",Ya="definitionLabelMarker",Za="definitionLabelString",Xa="definitionMarker",Qa="definitionTitle",Ja="definitionTitleMarker",eo="definitionTitleString",to="emphasis",no="emphasisSequence",ro="emphasisText",io="escapeMarker",ao="hardBreakEscape",oo="hardBreakTrailing",so="htmlFlow",lo="htmlFlowData",co="htmlText",uo="htmlTextData",ho="image",po="label",fo="labelText",mo="labelLink",go="labelImage",bo="labelMarker",yo="labelImageMarker",xo="labelEnd",vo="link",ko="paragraph",wo="reference",_o="referenceMarker",Co="referenceString",So="resource",Eo="resourceDestination",No="resourceDestinationLiteral",To="resourceDestinationLiteralMarker",Mo="resourceDestinationRaw",Ao="resourceDestinationString",Lo="resourceMarker",Do="resourceTitle",Oo="resourceTitleMarker",Po="resourceTitleString",Fo="setextHeading",Bo="setextHeadingText",Ro="setextHeadingLine",Io="setextHeadingLineSequence",jo="strong",zo="strongSequence",$o="strongText",Ho="thematicBreak",qo="thematicBreakSequence",Uo="blockQuote",Vo="blockQuotePrefix",Wo="blockQuoteMarker",Go="blockQuotePrefixWhitespace",Ko="listOrdered",Yo="listUnordered",Zo="listItemIndent",Xo="listItemMarker",Qo="listItemPrefix",Jo="listItemPrefixWhitespace",es="listItemValue",ts="chunkContent",ns="chunkFlow",rs="chunkText",is="chunkString",as="\t",os="\n",ss="\r",ls=" ",cs="�";function us(e,t,n,r){const i=e.length;let a,o=0;if(t=t<0?-t>i?0:i+t:t>i?i:t,n=n>0?n:0,r.length<ca)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);o<r.length;)a=r.slice(o,o+ca),a.unshift(t,0),e.splice(...a),o+=ca,t+=ca}function ds(e,t){return e.length>0?(us(e,e.length,0,t),e):t}const hs={}.hasOwnProperty;function ps(e){const t={};let n=-1;for(;++n<e.length;)fs(t,e[n]);return t}function fs(e,t){let n;for(n in t){const r=(hs.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let a;if(i)for(a in i){hs.call(r,a)||(r[a]=[]);const e=i[a];ms(r[a],Array.isArray(e)?e:e?[e]:[])}}}function ms(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);us(e,0,0,r)}function gs(e,t){const n=Number.parseInt(e,t);return n<Ar||n===Dr||n>Or&&n<Pr||n>Ti&&n<160||n>55295&&n<57344||n>64975&&n<65008||!(65535&~n)||65534==(65535&n)||n>1114111?cs:String.fromCodePoint(n)}function bs(e){return e.replace(/[\t\n\r ]+/g,ls).replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ys=As(/[A-Za-z]/),xs=As(/[\dA-Za-z]/),vs=As(/[#-'*+\--9=?A-Z^-~]/);function ks(e){return null!==e&&(e<Pr||e===Mi)}const ws=As(/\d/),_s=As(/[\dA-Fa-f]/),Cs=As(/[!-/:-@[-`{-~]/);function Ss(e){return null!==e&&e<Er}function Es(e){return null!==e&&(e<Mr||e===Pr)}function Ns(e){return e===Er||e===Nr||e===Pr}const Ts=As(/\p{P}|\p{S}/u),Ms=As(/\s/);function As(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function Ls(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===Ir&&xs(e.charCodeAt(n+1))&&xs(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const t=e.charCodeAt(n+1);a<56320&&t>56319&&t<57344?(o=String.fromCharCode(a,t),i=1):o=cs}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Ds(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return function(r){if(Ns(r))return e.enter(n),o(r);return t(r)};function o(r){return Ns(r)&&a++<i?(e.consume(r),o):(e.exit(n),t(r))}}const Os={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,function(n){if(jt(n===Tr||Ss(n),"expected eol or eof"),n===Tr)return void e.consume(n);return e.enter(ha),e.consume(n),e.exit(ha),Ds(e,t,fa)},function(t){return jt(t!==Tr&&!Ss(t),"expected anything other than a line ending or EOF"),e.enter(ko),r(t)});let n;return t;function r(t){const r=e.enter(rs,{contentType:Wi,previous:n});return n&&(n.next=r),n=r,i(t)}function i(t){return t===Tr?(e.exit(rs),e.exit(ko),void e.consume(t)):Ss(t)?(e.consume(t),e.exit(rs),r):(e.consume(t),i)}}};const Ps={tokenize:function(e){const t=this,n=[];let r,i,a,o=0;return s;function s(r){if(o<n.length){const i=n[o];return t.containerState=i[1],jt(i[0].continuation,"expected `continuation` to be defined on container construct"),e.attempt(i[0].continuation,l,c)(r)}return c(r)}function l(e){if(jt(t.containerState,"expected `containerState` to be defined after continuation"),o++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&y();const n=t.events.length;let i,a=n;for(;a--;)if("exit"===t.events[a][0]&&t.events[a][1].type===ns){i=t.events[a][1].end;break}jt(i,"could not find previous flow chunk"),b(o);let s=n;for(;s<t.events.length;)t.events[s][1].end={...i},s++;return us(t.events,a+1,0,t.events.slice(n)),t.events.length=s,c(e)}return s(e)}function c(i){if(o===n.length){if(!r)return h(i);if(r.currentConstruct&&r.currentConstruct.concrete)return f(i);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Fs,u,d)(i)}function u(e){return r&&y(),b(o),h(e)}function d(e){return t.parser.lazy[t.now().line]=o!==n.length,a=t.now().offset,f(e)}function h(n){return t.containerState={},e.attempt(Fs,p,f)(n)}function p(e){return jt(t.currentConstruct,"expected `currentConstruct` to be defined on tokenizer"),jt(t.containerState,"expected `containerState` to be defined on tokenizer"),o++,n.push([t.currentConstruct,t.containerState]),h(e)}function f(n){return n===Tr?(r&&y(),b(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter(ns,{_tokenizer:r,contentType:Ui,previous:i}),m(n))}function m(n){return n===Tr?(g(e.exit(ns),!0),b(0),void e.consume(n)):Ss(n)?(e.consume(n),g(e.exit(ns)),o=0,t.interrupt=void 0,s):(e.consume(n),m)}function g(e,n){jt(r,"expected `childFlow` to be defined when continuing");const s=t.sliceStream(e);if(n&&s.push(null),e.previous=i,i&&(i.next=e),i=e,r.defineSkip(e.start),r.write(s),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<a&&(!r.events[e][1].end||r.events[e][1].end.offset>a))return;const n=t.events.length;let i,s,l=n;for(;l--;)if("exit"===t.events[l][0]&&t.events[l][1].type===ns){if(i){s=t.events[l][1].end;break}i=!0}for(jt(s,"could not find previous flow chunk"),b(o),e=n;e<t.events.length;)t.events[e][1].end={...s},e++;us(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function b(r){let i=n.length;for(;i-- >r;){const r=n[i];t.containerState=r[1],jt(r[0].exit,"expected `exit` to be defined on container construct"),r[0].exit.call(t,e)}n.length=r}function y(){jt(t.containerState,"expected `containerState` to be defined when closing flow"),jt(r,"expected `childFlow` to be defined when closing it"),r.write([Tr]),i=void 0,r=void 0,t.containerState._closeFlow=void 0}}},Fs={tokenize:function(e,t,n){return jt(this.parser.constructs.disable.null,"expected `disable.null` to be populated"),Ds(e,e.attempt(this.parser.constructs.document,t,n),fa,this.parser.constructs.disable.null.includes("codeIndented")?void 0:sa)}};function Bs(e){return e===Tr||Es(e)||Ms(e)?Ii:Ts(e)?Ri:void 0}function Rs(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const Is={name:"attention",resolveAll:function(e,t){let n,r,i,a,o,s,l,c,u=-1;for(;++u<e.length;)if("enter"===e[u][0]&&"attentionSequence"===e[u][1].type&&e[u][1]._close)for(n=u;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;s=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const d={...e[n][1].end},h={...e[u][1].start};js(d,-s),js(h,s),a={type:s>1?zo:no,start:d,end:{...e[n][1].end}},o={type:s>1?zo:no,start:{...e[u][1].start},end:h},i={type:s>1?$o:ro,start:{...e[n][1].end},end:{...e[u][1].start}},r={type:s>1?jo:to,start:{...a.start},end:{...o.end}},e[n][1].end={...a.start},e[u][1].start={...o.end},l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=ds(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=ds(l,[["enter",r,t],["enter",a,t],["exit",a,t],["enter",i,t]]),jt(t.parser.constructs.insideSpan.null,"expected `insideSpan` to be populated"),l=ds(l,Rs(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=ds(l,[["exit",i,t],["enter",o,t],["exit",o,t],["exit",r,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=ds(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,us(e,n-1,u-n+3,l),u=n+l.length-c-2;break}u=-1;for(;++u<e.length;)"attentionSequence"===e[u][1].type&&(e[u][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Bs(r);let a;return function(t){return jt(t===qr||t===vi,"expected asterisk or underscore"),a=t,e.enter("attentionSequence"),o(t)};function o(s){if(s===a)return e.consume(s),o;const l=e.exit("attentionSequence"),c=Bs(s);jt(n,"expected `attentionMarkers` to be populated");const u=!c||c===Ri&&i||n.includes(s),d=!i||i===Ri&&c||n.includes(r);return l._open=Boolean(a===qr?u:u&&(i||!d)),l._close=Boolean(a===qr?d:d&&(c||!u)),t(s)}}};function js(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const zs={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return jt(t===si,"expected `<`"),e.enter(xa),e.enter(ka),e.consume(t),e.exit(ka),e.enter(wa),i};function i(t){return ys(t)?(e.consume(t),a):t===di?n(t):l(t)}function a(e){return e===Ur||e===Wr||e===Gr||xs(e)?(r=1,o(e)):l(e)}function o(t){return t===ai?(e.consume(t),r=0,s):(t===Ur||t===Wr||t===Gr||xs(t))&&r++<Fi?(e.consume(t),o):(r=0,l(t))}function s(r){return r===ci?(e.exit(wa),e.enter(ka),e.consume(r),e.exit(ka),e.exit(xa),t):r===Tr||r===Pr||r===si||ks(r)?n(r):(e.consume(r),s)}function l(t){return t===di?(e.consume(t),c):vs(t)?(e.consume(t),l):n(t)}function c(e){return xs(e)?u(e):n(e)}function u(n){return n===Gr?(e.consume(n),r=0,c):n===ci?(e.exit(wa).type=va,e.enter(ka),e.consume(n),e.exit(ka),e.exit(xa),t):d(n)}function d(t){if((t===Wr||xs(t))&&r++<Pi){const n=t===Wr?d:u;return e.consume(t),n}return n(t)}}};const $s={partial:!0,tokenize:function(e,t,n){return function(t){return Ns(t)?Ds(e,r,fa)(t):r(t)};function r(e){return e===Tr||Ss(e)?t(e):n(e)}}};const Hs={continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(Ns(t))return jt(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),Ds(e,i,fa,r.parser.constructs.disable.null.includes("codeIndented")?void 0:sa)(t);return i(t)};function i(r){return e.attempt(Hs,t,n)(r)}}},exit:function(e){e.exit(Uo)},name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(t===ci){const n=r.containerState;return jt(n,"expected `containerState` to be defined in container"),n.open||(e.enter(Uo,{_container:!0}),n.open=!0),e.enter(Vo),e.enter(Wo),e.consume(t),e.exit(Wo),i}return n(t)};function i(n){return Ns(n)?(e.enter(Go),e.consume(n),e.exit(Go),e.exit(Vo),t):(e.exit(Vo),t(n))}}};const qs={name:"characterEscape",tokenize:function(e,t,n){return function(t){return jt(t===bi,"expected `\\`"),e.enter(_a),e.enter(io),e.consume(t),e.exit(io),r};function r(r){return Cs(r)?(e.enter(Ca),e.consume(r),e.exit(Ca),e.exit(_a),t):n(r)}}};const Us={name:"characterReference",tokenize:function(e,t,n){const r=this;let i,a,o=0;return function(t){return jt(t===jr,"expected `&`"),e.enter(Sa),e.enter(Ea),e.consume(t),e.exit(Ea),s};function s(t){return t===Rr?(e.enter(Na),e.consume(t),e.exit(Na),l):(e.enter(Ma),i=$i,a=xs,c(t))}function l(t){return t===mi||t===Si?(e.enter(Ta),e.consume(t),e.exit(Ta),e.enter(Ma),i=zi,a=_s,c):(e.enter(Ma),i=ji,a=ws,c(t))}function c(s){if(s===oi&&o){const i=e.exit(Ma);return a!==xs||wr(r.sliceSerialize(i))?(e.enter(Ea),e.consume(s),e.exit(Ea),e.exit(Sa),t):n(s)}return a(s)&&o++<i?(e.consume(s),c):n(s)}}};const Vs={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(t===Tr)return n(t);return jt(Ss(t),"expected eol"),e.enter(ha),e.consume(t),e.exit(ha),i};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},Ws={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const r=this,i={partial:!0,tokenize:function(e,t,n){let i=0;return o;function o(t){return jt(Ss(t),"expected eol"),e.enter(ha),e.consume(t),e.exit(ha),l}function l(t){return jt(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),e.enter(La),Ns(t)?Ds(e,c,fa,r.parser.constructs.disable.null.includes("codeIndented")?void 0:sa)(t):c(t)}function c(t){return t===a?(e.enter(Da),u(t)):n(t)}function u(t){return t===a?(i++,e.consume(t),u):i>=s?(e.exit(Da),Ns(t)?Ds(e,d,da)(t):d(t)):n(t)}function d(r){return r===Tr||Ss(r)?(e.exit(La),t(r)):n(r)}}};let a,o=0,s=0;return function(t){return function(t){jt(t===ki||t===Ti,"expected `` ` `` or `~`");const n=r.events[r.events.length-1];return o=n&&n[1].type===fa?n[2].sliceSerialize(n[1],!0).length:0,a=t,e.enter(Aa),e.enter(La),e.enter(Da),l(t)}(t)};function l(t){return t===a?(s++,e.consume(t),l):s<Hi?n(t):(e.exit(Da),Ns(t)?Ds(e,c,da)(t):c(t))}function c(n){return n===Tr||Ss(n)?(e.exit(La),r.interrupt?t(n):e.check(Vs,p,y)(n)):(e.enter(Oa),e.enter(is,{contentType:Vi}),u(n))}function u(t){return t===Tr||Ss(t)?(e.exit(is),e.exit(Oa),c(t)):Ns(t)?(e.exit(is),e.exit(Oa),Ds(e,d,da)(t)):t===ki&&t===a?n(t):(e.consume(t),u)}function d(t){return t===Tr||Ss(t)?c(t):(e.enter(Pa),e.enter(is,{contentType:Vi}),h(t))}function h(t){return t===Tr||Ss(t)?(e.exit(is),e.exit(Pa),c(t)):t===ki&&t===a?n(t):(e.consume(t),h)}function p(t){return jt(Ss(t),"expected eol"),e.attempt(i,y,f)(t)}function f(t){return jt(Ss(t),"expected eol"),e.enter(ha),e.consume(t),e.exit(ha),m}function m(t){return o>0&&Ns(t)?Ds(e,g,fa,o+1)(t):g(t)}function g(t){return t===Tr||Ss(t)?e.check(Vs,p,y)(t):(e.enter(Fa),b(t))}function b(t){return t===Tr||Ss(t)?(e.exit(Fa),g(t)):(e.consume(t),b)}function y(n){return e.exit(Aa),t(n)}}};const Gs={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return jt(Ns(t)),e.enter(Ba),Ds(e,i,fa,sa+1)(t)};function i(e){const t=r.events[r.events.length-1];return t&&t[1].type===fa&&t[2].sliceSerialize(t[1],!0).length>=sa?a(e):n(e)}function a(t){return t===Tr?s(t):Ss(t)?e.attempt(Ks,a,s)(t):(e.enter(Fa),o(t))}function o(t){return t===Tr||Ss(t)?(e.exit(Fa),a(t)):(e.consume(t),o)}function s(n){return e.exit(Ba),t(n)}}},Ks={partial:!0,tokenize:function(e,t,n){const r=this;return i;function i(t){return r.parser.lazy[r.now().line]?n(t):Ss(t)?(e.enter(ha),e.consume(t),e.exit(ha),i):Ds(e,a,fa,sa+1)(t)}function a(e){const a=r.events[r.events.length-1];return a&&a[1].type===fa&&a[2].sliceSerialize(a[1],!0).length>=sa?t(e):Ss(e)?i(e):n(e)}}};const Ys={name:"codeText",previous:Zs,resolve:function(e){let t,n,r=e.length-4,i=3;if(!(e[i][1].type!==ha&&"space"!==e[i][1].type||e[r][1].type!==ha&&"space"!==e[r][1].type))for(t=i;++t<r;)if(e[t][1].type===Ia){e[i][1].type=ja,e[r][1].type=ja,i+=2,r-=2;break}t=i-1,r++;for(;++t<=r;)void 0===n?t!==r&&e[t][1].type!==ha&&(n=t):t!==r&&e[t][1].type!==ha||(e[n][1].type=Ia,t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){const r=this;let i,a,o=0;return function(t){return jt(t===ki,"expected `` ` ``"),jt(Zs.call(r,r.previous),"expected correct previous"),e.enter(Ra),e.enter(za),s(t)};function s(t){return t===ki?(e.consume(t),o++,s):(e.exit(za),l(t))}function l(t){return t===Tr?n(t):t===Pr?(e.enter("space"),e.consume(t),e.exit("space"),l):t===ki?(a=e.enter(za),i=0,u(t)):Ss(t)?(e.enter(ha),e.consume(t),e.exit(ha),l):(e.enter(Ia),c(t))}function c(t){return t===Tr||t===Pr||t===ki||Ss(t)?(e.exit(Ia),l(t)):(e.consume(t),c)}function u(n){return n===ki?(e.consume(n),i++,u):i===o?(e.exit(za),e.exit(Ra),t(n)):(a.type=Ia,c(n))}}};function Zs(e){return e!==ki||this.events[this.events.length-1][1].type===_a}class Xs{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null==t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const i=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&Qs(this.left,n),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Qs(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Qs(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);Qs(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Qs(this.left,t.reverse())}}}function Qs(e,t){let n=0;if(t.length<ca)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+ca)),n+=ca}function Js(e){const t={};let n,r,i,a,o,s,l,c=-1;const u=new Xs(e);for(;++c<u.length;){for(;c in t;)c=t[c];if(n=u.get(c),c&&n[1].type===ns&&u.get(c-1)[1].type===Qo&&(jt(n[1]._tokenizer,"expected `_tokenizer` on subtokens"),s=n[1]._tokenizer.events,i=0,i<s.length&&s[i][1].type===pa&&(i+=2),i<s.length&&s[i][1].type===$a))for(;++i<s.length&&s[i][1].type!==$a;)s[i][1].type===rs&&(s[i][1]._isInFirstContentOfListItem=!0,i++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,el(u,c)),c=t[c],l=!0);else if(n[1]._container){for(i=c,r=void 0;i--;)if(a=u.get(i),a[1].type===ha||a[1].type===pa)"enter"===a[0]&&(r&&(u.get(r)[1].type=pa),a[1].type=ha,r=i);else if(a[1].type!==fa&&a[1].type!==Zo)break;r&&(n[1].end={...u.get(r)[1].start},o=u.slice(r,c),o.unshift(n),u.splice(r,c-r+1,o))}}return us(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!l}function el(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];jt(n.contentType,"expected `contentType` on subtokens");let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],c={};let u,d,h=-1,p=n,f=0,m=0;const g=[m];for(;p;){for(;e.get(++i)[1]!==p;);jt(!d||p.previous===d,"expected previous to match"),jt(!d||d.next===p,"expected next to match"),a.push(i),p._tokenizer||(u=r.sliceStream(p),p.next||u.push(Tr),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<s.length;)"exit"===s[h][0]&&"enter"===s[h-1][0]&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(jt(p,"expected a current token"),m=h+1,g.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0,jt(!p.next,"expected no next token")):g.pop(),h=g.length;h--;){const t=s.slice(g[h],g[h+1]),n=a.pop();jt(void 0!==n,"expected a start position when splicing"),l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),h=-1;++h<l.length;)c[f+l[h][0]]=f+l[h][1],f+=l[h][1]-l[h][0]-1;return c}const tl={resolve:function(e){return Js(e),e},tokenize:function(e,t){let n;return function(t){return jt(t!==Tr&&!Ss(t),"expected no eof or eol"),e.enter($a),n=e.enter(ts,{contentType:qi}),r(t)};function r(t){return t===Tr?i(t):Ss(t)?e.check(nl,a,i)(t):(e.consume(t),r)}function i(n){return e.exit(ts),e.exit($a),t(n)}function a(t){return jt(Ss(t),"expected eol"),e.consume(t),e.exit(ts),jt(n,"expected previous token"),n.next=e.enter(ts,{contentType:qi,previous:n}),n=n.next,r}}},nl={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){return jt(Ss(t),"expected a line ending"),e.exit(ts),e.enter(ha),e.consume(t),e.exit(ha),Ds(e,i,fa)};function i(i){if(i===Tr||Ss(i))return n(i);jt(r.parser.constructs.disable.null,"expected `disable.null` to be populated");const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type===fa&&a[2].sliceSerialize(a[1],!0).length>=sa?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}};function rl(e,t,n,r,i,a,o,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(t){if(t===si)return e.enter(r),e.enter(i),e.enter(a),e.consume(t),e.exit(a),d;if(t===Tr||t===Pr||t===Hr||ks(t))return n(t);return e.enter(r),e.enter(o),e.enter(s),e.enter(is,{contentType:Vi}),f(t)};function d(n){return n===ci?(e.enter(a),e.consume(n),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(s),e.enter(is,{contentType:Vi}),h(n))}function h(t){return t===ci?(e.exit(is),e.exit(s),d(t)):t===Tr||t===si||Ss(t)?n(t):(e.consume(t),t===bi?p:h)}function p(t){return t===si||t===ci||t===bi?(e.consume(t),h):h(t)}function f(i){return u||i!==Tr&&i!==Hr&&!Es(i)?u<c&&i===$r?(e.consume(i),u++,f):i===Hr?(e.consume(i),u--,f):i===Tr||i===Pr||i===$r||ks(i)?n(i):(e.consume(i),i===bi?m:f):(e.exit(is),e.exit(s),e.exit(o),e.exit(r),t(i))}function m(t){return t===$r||t===Hr||t===bi?(e.consume(t),f):f(t)}}function il(e,t,n,r,i,a){const o=this;let s,l=0;return function(t){return jt(t===gi,"expected `[`"),e.enter(r),e.enter(i),e.consume(t),e.exit(i),e.enter(a),c};function c(d){return l>ra||d===Tr||d===gi||d===yi&&!s||d===xi&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(d):d===yi?(e.exit(a),e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):Ss(d)?(e.enter(ha),e.consume(d),e.exit(ha),c):(e.enter(is,{contentType:Vi}),u(d))}function u(t){return t===Tr||t===gi||t===yi||Ss(t)||l++>ra?(e.exit(is),c(t)):(e.consume(t),s||(s=!Ns(t)),t===bi?d:u)}function d(t){return t===gi||t===bi||t===yi?(e.consume(t),l++,u):u(t)}}function al(e,t,n,r,i,a){let o;return function(t){if(t===Br||t===zr||t===$r)return e.enter(r),e.enter(i),e.consume(t),e.exit(i),o=t===$r?Hr:t,s;return n(t)};function s(n){return n===o?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),t):(e.enter(a),l(n))}function l(t){return t===o?(e.exit(a),s(o)):t===Tr?n(t):Ss(t)?(e.enter(ha),e.consume(t),e.exit(ha),Ds(e,l,fa)):(e.enter(is,{contentType:Vi}),c(t))}function c(t){return t===o||t===Tr||Ss(t)?(e.exit(is),l(t)):(e.consume(t),t===bi?u:c)}function u(t){return t===o||t===bi?(e.consume(t),c):c(t)}}function ol(e,t){let n;return function r(i){if(Ss(i))return e.enter(ha),e.consume(i),e.exit(ha),n=!0,r;if(Ns(i))return Ds(e,r,n?fa:ma)(i);return t(i)}}const sl={name:"definition",tokenize:function(e,t,n){const r=this;let i;return function(t){return e.enter(Ha),function(t){return jt(t===gi,"expected `[`"),il.call(r,e,a,n,Ka,Ya,Za)(t)}(t)};function a(t){return i=bs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),t===ai?(e.enter(Xa),e.consume(t),e.exit(Xa),o):n(t)}function o(t){return Es(t)?ol(e,s)(t):s(t)}function s(t){return rl(e,l,n,qa,Ua,Va,Wa,Ga)(t)}function l(t){return e.attempt(ll,c,c)(t)}function c(t){return Ns(t)?Ds(e,u,da)(t):u(t)}function u(a){return a===Tr||Ss(a)?(e.exit(Ha),r.parser.defined.push(i),t(a)):n(a)}}},ll={partial:!0,tokenize:function(e,t,n){return function(t){return Es(t)?ol(e,r)(t):n(t)};function r(t){return al(e,i,n,Qa,Ja,eo)(t)}function i(t){return Ns(t)?Ds(e,a,da)(t):a(t)}function a(e){return e===Tr||Ss(e)?t(e):n(e)}}};const cl={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return jt(t===bi,"expected `\\`"),e.enter(ao),e.consume(t),r};function r(r){return Ss(r)?(e.exit(ao),t(r)):n(r)}}};const ul={name:"headingAtx",resolve:function(e,t){let n,r,i=e.length-2,a=3;e[a][1].type===da&&(a+=2);i-2>a&&e[i][1].type===da&&(i-=2);e[i][1].type===ba&&(a===i-1||i-4>a&&e[i-2][1].type===da)&&(i-=a+1===i?2:4);i>a&&(n={type:ya,start:e[a][1].start,end:e[i][1].end},r={type:rs,start:e[a][1].start,end:e[i][1].end,contentType:Wi},us(e,a,i-a+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e},tokenize:function(e,t,n){let r=0;return function(t){return e.enter(ga),function(t){return jt(t===Rr,"expected `#`"),e.enter(ba),i(t)}(t)};function i(t){return t===Rr&&r++<Oi?(e.consume(t),i):t===Tr||Es(t)?(e.exit(ba),a(t)):n(t)}function a(n){return n===Rr?(e.enter(ba),o(n)):n===Tr||Ss(n)?(e.exit(ga),t(n)):Ns(n)?Ds(e,a,da)(n):(e.enter(ya),s(n))}function o(t){return t===Rr?(e.consume(t),o):(e.exit(ba),a(t))}function s(t){return t===Tr||t===Rr||Es(t)?(e.exit(ya),a(t)):(e.consume(t),s)}}};const dl=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],hl=["pre","script","style","textarea"],pl={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||e[t][1].type!==so););t>1&&e[t-2][1].type===fa&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},tokenize:function(e,t,n){const r=this;let i,a,o,s,l;return function(t){return function(t){return jt(t===si,"expected `<`"),e.enter(so),e.enter(lo),e.consume(t),c}(t)};function c(s){return s===Fr?(e.consume(s),u):s===Kr?(e.consume(s),a=!0,p):s===ui?(e.consume(s),i=Ji,r.interrupt?t:P):ys(s)?(jt(null!==s),e.consume(s),o=String.fromCharCode(s),f):n(s)}function u(a){return a===Wr?(e.consume(a),i=Zi,d):a===gi?(e.consume(a),i=Yi,s=0,h):ys(a)?(e.consume(a),i=Qi,r.interrupt?t:P):n(a)}function d(i){return i===Wr?(e.consume(i),r.interrupt?t:P):n(i)}function h(i){const a=Bi;return i===a.charCodeAt(s++)?(e.consume(i),s===a.length?r.interrupt?t:E:h):n(i)}function p(t){return ys(t)?(jt(null!==t),e.consume(t),o=String.fromCharCode(t),f):n(t)}function f(s){if(s===Tr||s===Kr||s===ci||Es(s)){const l=s===Kr,c=o.toLowerCase();return l||a||!hl.includes(c)?dl.includes(o.toLowerCase())?(i=Ki,l?(e.consume(s),m):r.interrupt?t(s):E(s)):(i=Xi,r.interrupt&&!r.parser.lazy[r.now().line]?n(s):a?g(s):b(s)):(i=ta,r.interrupt?t(s):E(s))}return s===Wr||xs(s)?(e.consume(s),o+=String.fromCharCode(s),f):n(s)}function m(i){return i===ci?(e.consume(i),r.interrupt?t:E):n(i)}function g(t){return Ns(t)?(e.consume(t),g):C(t)}function b(t){return t===Kr?(e.consume(t),C):t===ai||t===vi||ys(t)?(e.consume(t),y):Ns(t)?(e.consume(t),b):C(t)}function y(t){return t===Wr||t===Gr||t===ai||t===vi||xs(t)?(e.consume(t),y):x(t)}function x(t){return t===li?(e.consume(t),v):Ns(t)?(e.consume(t),x):b(t)}function v(t){return t===Tr||t===si||t===li||t===ci||t===ki?n(t):t===Br||t===zr?(e.consume(t),l=t,k):Ns(t)?(e.consume(t),v):w(t)}function k(t){return t===l?(e.consume(t),l=null,_):t===Tr||Ss(t)?n(t):(e.consume(t),k)}function w(t){return t===Tr||t===Br||t===zr||t===Kr||t===si||t===li||t===ci||t===ki||Es(t)?x(t):(e.consume(t),w)}function _(e){return e===Kr||e===ci||Ns(e)?b(e):n(e)}function C(t){return t===ci?(e.consume(t),S):n(t)}function S(t){return t===Tr||Ss(t)?E(t):Ns(t)?(e.consume(t),S):n(t)}function E(t){return t===Wr&&i===Zi?(e.consume(t),A):t===si&&i===ta?(e.consume(t),L):t===ci&&i===Qi?(e.consume(t),F):t===ui&&i===Ji?(e.consume(t),P):t===yi&&i===Yi?(e.consume(t),O):!Ss(t)||i!==Ki&&i!==Xi?t===Tr||Ss(t)?(e.exit(lo),N(t)):(e.consume(t),E):(e.exit(lo),e.check(fl,B,N)(t))}function N(t){return e.check(ml,T,B)(t)}function T(t){return jt(Ss(t)),e.enter(ha),e.consume(t),e.exit(ha),M}function M(t){return t===Tr||Ss(t)?N(t):(e.enter(lo),E(t))}function A(t){return t===Wr?(e.consume(t),P):E(t)}function L(t){return t===Kr?(e.consume(t),o="",D):E(t)}function D(t){if(t===ci){const n=o.toLowerCase();return hl.includes(n)?(e.consume(t),F):E(t)}return ys(t)&&o.length<ea?(jt(null!==t),e.consume(t),o+=String.fromCharCode(t),D):E(t)}function O(t){return t===yi?(e.consume(t),P):E(t)}function P(t){return t===ci?(e.consume(t),F):t===Wr&&i===Zi?(e.consume(t),P):E(t)}function F(t){return t===Tr||Ss(t)?(e.exit(lo),B(t)):(e.consume(t),F)}function B(n){return e.exit(so),t(n)}}},fl={partial:!0,tokenize:function(e,t,n){return function(r){return jt(Ss(r),"expected a line ending"),e.enter(ha),e.consume(r),e.exit(ha),e.attempt($s,t,n)}}},ml={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(Ss(t))return e.enter(ha),e.consume(t),e.exit(ha),i;return n(t)};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}};const gl={name:"htmlText",tokenize:function(e,t,n){const r=this;let i,a,o;return function(t){return jt(t===si,"expected `<`"),e.enter(co),e.enter(uo),e.consume(t),s};function s(t){return t===Fr?(e.consume(t),l):t===Kr?(e.consume(t),v):t===ui?(e.consume(t),y):ys(t)?(e.consume(t),_):n(t)}function l(t){return t===Wr?(e.consume(t),c):t===gi?(e.consume(t),a=0,p):ys(t)?(e.consume(t),b):n(t)}function c(t){return t===Wr?(e.consume(t),h):n(t)}function u(t){return t===Tr?n(t):t===Wr?(e.consume(t),d):Ss(t)?(o=u,D(t)):(e.consume(t),u)}function d(t){return t===Wr?(e.consume(t),h):u(t)}function h(e){return e===ci?L(e):e===Wr?d(e):u(e)}function p(t){const r=Bi;return t===r.charCodeAt(a++)?(e.consume(t),a===r.length?f:p):n(t)}function f(t){return t===Tr?n(t):t===yi?(e.consume(t),m):Ss(t)?(o=f,D(t)):(e.consume(t),f)}function m(t){return t===yi?(e.consume(t),g):f(t)}function g(t){return t===ci?L(t):t===yi?(e.consume(t),g):f(t)}function b(t){return t===Tr||t===ci?L(t):Ss(t)?(o=b,D(t)):(e.consume(t),b)}function y(t){return t===Tr?n(t):t===ui?(e.consume(t),x):Ss(t)?(o=y,D(t)):(e.consume(t),y)}function x(e){return e===ci?L(e):y(e)}function v(t){return ys(t)?(e.consume(t),k):n(t)}function k(t){return t===Wr||xs(t)?(e.consume(t),k):w(t)}function w(t){return Ss(t)?(o=w,D(t)):Ns(t)?(e.consume(t),w):L(t)}function _(t){return t===Wr||xs(t)?(e.consume(t),_):t===Kr||t===ci||Es(t)?C(t):n(t)}function C(t){return t===Kr?(e.consume(t),L):t===ai||t===vi||ys(t)?(e.consume(t),S):Ss(t)?(o=C,D(t)):Ns(t)?(e.consume(t),C):L(t)}function S(t){return t===Wr||t===Gr||t===ai||t===vi||xs(t)?(e.consume(t),S):E(t)}function E(t){return t===li?(e.consume(t),N):Ss(t)?(o=E,D(t)):Ns(t)?(e.consume(t),E):C(t)}function N(t){return t===Tr||t===si||t===li||t===ci||t===ki?n(t):t===Br||t===zr?(e.consume(t),i=t,T):Ss(t)?(o=N,D(t)):Ns(t)?(e.consume(t),N):(e.consume(t),M)}function T(t){return t===i?(e.consume(t),i=void 0,A):t===Tr?n(t):Ss(t)?(o=T,D(t)):(e.consume(t),T)}function M(t){return t===Tr||t===Br||t===zr||t===si||t===li||t===ki?n(t):t===Kr||t===ci||Es(t)?C(t):(e.consume(t),M)}function A(e){return e===Kr||e===ci||Es(e)?C(e):n(e)}function L(r){return r===ci?(e.consume(r),e.exit(uo),e.exit(co),t):n(r)}function D(t){return jt(o,"expected return state"),jt(Ss(t),"expected eol"),e.exit(uo),e.enter(ha),e.consume(t),e.exit(ha),O}function O(t){return jt(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),Ns(t)?Ds(e,P,fa,r.parser.constructs.disable.null.includes("codeIndented")?void 0:sa)(t):P(t)}function P(t){return e.enter(uo),o(t)}}};const bl={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type===go||r.type===mo||r.type===xo){const e=r.type===go?4:2;r.type=ua,t+=e}}e.length!==n.length&&us(e,0,e.length,n);return e},resolveTo:function(e,t){let n,r,i,a,o=e.length,s=0;for(;o--;)if(n=e[o][1],r){if(n.type===vo||n.type===mo&&n._inactive)break;"enter"===e[o][0]&&n.type===mo&&(n._inactive=!0)}else if(i){if("enter"===e[o][0]&&(n.type===go||n.type===mo)&&!n._balanced&&(r=o,n.type!==mo)){s=2;break}}else n.type===xo&&(i=o);jt(void 0!==r,"`open` is supposed to be found"),jt(void 0!==i,"`close` is supposed to be found");const l={type:e[r][1].type===mo?vo:ho,start:{...e[r][1].start},end:{...e[e.length-1][1].end}},c={type:po,start:{...e[r][1].start},end:{...e[i][1].end}},u={type:fo,start:{...e[r+s+2][1].end},end:{...e[i-2][1].start}};return a=[["enter",l,t],["enter",c,t]],a=ds(a,e.slice(r+1,r+s+3)),a=ds(a,[["enter",u,t]]),jt(t.parser.constructs.insideSpan.null,"expected `insideSpan.null` to be populated"),a=ds(a,Rs(t.parser.constructs.insideSpan.null,e.slice(r+s+4,i-3),t)),a=ds(a,[["exit",u,t],e[i-2],e[i-1],["exit",c,t]]),a=ds(a,e.slice(i+1)),a=ds(a,[["exit",l,t]]),us(e,r,e.length,a),e},tokenize:function(e,t,n){const r=this;let i,a,o=r.events.length;for(;o--;)if((r.events[o][1].type===go||r.events[o][1].type===mo)&&!r.events[o][1]._balanced){i=r.events[o][1];break}return function(t){if(jt(t===yi,"expected `]`"),!i)return n(t);if(i._inactive)return u(t);return a=r.parser.defined.includes(bs(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter(xo),e.enter(bo),e.consume(t),e.exit(bo),e.exit(xo),s};function s(t){return t===$r?e.attempt(yl,c,a?c:u)(t):t===gi?e.attempt(xl,c,a?l:u)(t):a?c(t):u(t)}function l(t){return e.attempt(vl,c,u)(t)}function c(e){return t(e)}function u(e){return i._balanced=!0,n(e)}}},yl={tokenize:function(e,t,n){return function(t){return jt(t===$r,"expected left paren"),e.enter(So),e.enter(Lo),e.consume(t),e.exit(Lo),r};function r(t){return Es(t)?ol(e,i)(t):i(t)}function i(t){return t===Hr?c(t):rl(e,a,o,Eo,No,To,Mo,Ao,na)(t)}function a(t){return Es(t)?ol(e,s)(t):c(t)}function o(e){return n(e)}function s(t){return t===Br||t===zr||t===$r?al(e,l,n,Do,Oo,Po)(t):c(t)}function l(t){return Es(t)?ol(e,c)(t):c(t)}function c(r){return r===Hr?(e.enter(Lo),e.consume(r),e.exit(Lo),e.exit(So),t):n(r)}}},xl={tokenize:function(e,t,n){const r=this;return function(t){return jt(t===gi,"expected left bracket"),il.call(r,e,i,a,wo,_o,Co)(t)};function i(e){return r.parser.defined.includes(bs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function a(e){return n(e)}}},vl={tokenize:function(e,t,n){return function(t){return jt(t===gi,"expected left bracket"),e.enter(wo),e.enter(_o),e.consume(t),e.exit(_o),r};function r(r){return r===yi?(e.enter(_o),e.consume(r),e.exit(_o),e.exit(wo),t):n(r)}}};const kl={name:"labelStartImage",resolveAll:bl.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return jt(t===Fr,"expected `!`"),e.enter(go),e.enter(yo),e.consume(t),e.exit(yo),i};function i(t){return t===gi?(e.enter(bo),e.consume(t),e.exit(bo),e.exit(go),a):n(t)}function a(e){return e===xi&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const wl={name:"labelStartLink",resolveAll:bl.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return jt(t===gi,"expected `[`"),e.enter(mo),e.enter(bo),e.consume(t),e.exit(bo),e.exit(mo),i};function i(e){return e===xi&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const _l={name:"lineEnding",tokenize:function(e,t){return function(n){return jt(Ss(n),"expected eol"),e.enter(ha),e.consume(n),e.exit(ha),Ds(e,t,fa)}}};const Cl={name:"thematicBreak",tokenize:function(e,t,n){let r,i=0;return function(t){return e.enter(Ho),function(e){return jt(e===qr||e===Wr||e===vi,"expected `*`, `-`, or `_`"),r=e,a(e)}(t)};function a(a){return a===r?(e.enter(qo),o(a)):i>=la&&(a===Tr||Ss(a))?(e.exit(Ho),t(a)):n(a)}function o(t){return t===r?(e.consume(t),i++,o):(e.exit(qo),Ns(t)?Ds(e,a,da)(t):a(t))}}};const Sl={continuation:{tokenize:function(e,t,n){const r=this;return jt(r.containerState,"expected state"),r.containerState._closeFlow=void 0,e.check($s,i,a);function i(n){return jt(r.containerState,"expected state"),jt("number"==typeof r.containerState.size,"expected size"),r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ds(e,t,Zo,r.containerState.size+1)(n)}function a(n){return jt(r.containerState,"expected state"),r.containerState.furtherBlankLines||!Ns(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Nl,t,o)(n))}function o(i){return jt(r.containerState,"expected state"),r.containerState._closeFlow=!0,r.interrupt=void 0,jt(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),Ds(e,e.attempt(Sl,t,n),fa,r.parser.constructs.disable.null.includes("codeIndented")?void 0:sa)(i)}}},exit:function(e){jt(this.containerState,"expected state"),jt("string"==typeof this.containerState.type,"expected type"),e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type===fa?i[2].sliceSerialize(i[1],!0).length:0,o=0;return function(t){jt(r.containerState,"expected state");const i=r.containerState.type||(t===qr||t===Ur||t===Wr?Yo:Ko);if(i===Yo?!r.containerState.marker||t===r.containerState.marker:ws(t)){if(r.containerState.type||(r.containerState.type=i,e.enter(i,{_container:!0})),i===Yo)return e.enter(Qo),t===qr||t===Wr?e.check(Cl,n,l)(t):l(t);if(!r.interrupt||t===Zr)return e.enter(Qo),e.enter(es),s(t)}return n(t)};function s(t){return jt(r.containerState,"expected state"),ws(t)&&++o<ia?(e.consume(t),s):(!r.interrupt||o<2)&&(r.containerState.marker?t===r.containerState.marker:t===Hr||t===Gr)?(e.exit(es),l(t)):n(t)}function l(t){return jt(r.containerState,"expected state"),jt(t!==Tr,"eof (`null`) is not a marker"),e.enter(Xo),e.consume(t),e.exit(Xo),r.containerState.marker=r.containerState.marker||t,e.check($s,r.interrupt?n:c,e.attempt(El,d,u))}function c(e){return jt(r.containerState,"expected state"),r.containerState.initialBlankLine=!0,a++,d(e)}function u(t){return Ns(t)?(e.enter(Jo),e.consume(t),e.exit(Jo),d):n(t)}function d(n){return jt(r.containerState,"expected state"),r.containerState.size=a+r.sliceSerialize(e.exit(Qo),!0).length,t(n)}}},El={partial:!0,tokenize:function(e,t,n){const r=this;return jt(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),Ds(e,i,Jo,r.parser.constructs.disable.null.includes("codeIndented")?void 0:sa+1);function i(e){const i=r.events[r.events.length-1];return!Ns(e)&&i&&i[1].type===Jo?t(e):n(e)}}},Nl={partial:!0,tokenize:function(e,t,n){const r=this;return jt(r.containerState,"expected state"),jt("number"==typeof r.containerState.size,"expected size"),Ds(e,i,Zo,r.containerState.size+1);function i(e){jt(r.containerState,"expected state");const i=r.events[r.events.length-1];return i&&i[1].type===Zo&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(e):n(e)}}};const Tl={name:"setextUnderline",resolveTo:function(e,t){let n,r,i,a=e.length;for(;a--;)if("enter"===e[a][0]){if(e[a][1].type===$a){n=a;break}e[a][1].type===ko&&(r=a)}else e[a][1].type===$a&&e.splice(a,1),i||e[a][1].type!==Ha||(i=a);jt(void 0!==r,"expected a `text` index to be found"),jt(void 0!==n,"expected a `text` index to be found"),jt(e[n][2]===t,"enter context should be same"),jt(e[e.length-1][2]===t,"enter context should be same");const o={type:Fo,start:{...e[n][1].start},end:{...e[e.length-1][1].end}};e[r][1].type=Bo,i?(e.splice(r,0,["enter",o,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end={...e[i][1].end}):e[n][1]=o;return e.push(["exit",o,t]),e},tokenize:function(e,t,n){const r=this;let i;return function(t){let o,s=r.events.length;jt(t===Wr||t===li,"expected `=` or `-`");for(;s--;)if(r.events[s][1].type!==ha&&r.events[s][1].type!==fa&&r.events[s][1].type!==$a){o=r.events[s][1].type===ko;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||o))return e.enter(Ro),i=t,function(t){return e.enter(Io),a(t)}(t);return n(t)};function a(t){return t===i?(e.consume(t),a):(e.exit(Io),Ns(t)?Ds(e,o,ma)(t):o(t))}function o(r){return r===Tr||Ss(r)?(e.exit(Ro),t(r)):n(r)}}};const Ml={tokenize:function(e){const t=this,n=e.attempt($s,function(r){if(jt(r===Tr||Ss(r),"expected eol or eof"),r===Tr)return void e.consume(r);return e.enter(pa),e.consume(r),e.exit(pa),t.currentConstruct=void 0,n},e.attempt(this.parser.constructs.flowInitial,r,Ds(e,e.attempt(this.parser.constructs.flow,r,e.attempt(tl,r)),fa)));return n;function r(r){if(jt(r===Tr||Ss(r),"expected eol or eof"),r!==Tr)return e.enter(ha),e.consume(r),e.exit(ha),t.currentConstruct=void 0,n;e.consume(r)}}};const Al={resolveAll:Pl()},Ll=Ol("string"),Dl=Ol("text");function Ol(e){return{resolveAll:Pl("text"===e?Fl:void 0),tokenize:function(t){const n=this,r=this.parser.constructs[e],i=t.attempt(r,a,o);return a;function a(e){return l(e)?i(e):o(e)}function o(e){if(e!==Tr)return t.enter(ua),t.consume(e),s;t.consume(e)}function s(e){return l(e)?(t.exit(ua),i(e)):(t.consume(e),s)}function l(e){if(e===Tr)return!0;const t=r[e];let i=-1;if(t)for(jt(Array.isArray(t),"expected `disable.null` to be populated");++i<t.length;){const e=t[i];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function Pl(e){return function(t,n){let r,i=-1;for(;++i<=t.length;)void 0===r?t[i]&&t[i][1].type===ua&&(r=i,i++):t[i]&&t[i][1].type===ua||(i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),i=r+2),r=void 0);return e?e(t,n):t}}function Fl(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type===ha)&&e[n-1][1].type===ua){const r=e[n-1][1],i=t.sliceStream(r);let a,o=i.length,s=-1,l=0;for(;o--;){const e=i[o];if("string"==typeof e){for(s=e.length;e.charCodeAt(s-1)===Pr;)l++,s--;if(s)break;s=-1}else if(e===Er)a=!0,l++;else if(e!==Nr){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const i={type:n===e.length||a||l<Gi?ma:oo,start:{_bufferIndex:o?s:r.start._bufferIndex+s,_index:r.start._index+o,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...i.start},r.start.offset===r.end.offset?Object.assign(r,i):(e.splice(n,0,["enter",i,t],["exit",i,t]),n+=2)}n++}return e}const Bl={[qr]:Sl,[Ur]:Sl,[Wr]:Sl,[Yr]:Sl,[Zr]:Sl,[Xr]:Sl,[Qr]:Sl,[Jr]:Sl,[ei]:Sl,[ti]:Sl,[ni]:Sl,[ri]:Sl,[ii]:Sl,[ci]:Hs},Rl={[gi]:sl},Il={[Er]:Gs,[Nr]:Gs,[Pr]:Gs},jl={[Rr]:ul,[qr]:Cl,[Wr]:[Tl,Cl],[si]:pl,[li]:Tl,[vi]:Cl,[ki]:Ws,[Ti]:Ws},zl={[jr]:Us,[bi]:qs},$l={[_r]:_l,[Cr]:_l,[Sr]:_l,[Fr]:kl,[jr]:Us,[qr]:Is,[si]:[zs,gl],[gi]:wl,[bi]:[cl,qs],[yi]:bl,[vi]:Is,[ki]:Ys},Hl={null:[Is,Al]},ql={null:[qr,vi]},Ul=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ql,contentInitial:Rl,disable:{null:[]},document:Bl,flow:jl,flowInitial:Il,insideSpan:Hl,string:zl,text:$l},Symbol.toStringTag,{value:"Module"}));var Vl,Wl,Gl,Kl,Yl,Zl={exports:{}};function Xl(){if(Wl)return Vl;Wl=1;var e=1e3,t=60*e,n=60*t,r=24*n,i=7*r,a=365.25*r;function o(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}return Vl=function(s,l){l=l||{};var c=typeof s;if("string"===c&&s.length>0)return function(o){if(o=String(o),o.length>100)return;var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(o);if(!s)return;var l=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*a;case"weeks":case"week":case"w":return l*i;case"days":case"day":case"d":return l*r;case"hours":case"hour":case"hrs":case"hr":case"h":return l*n;case"minutes":case"minute":case"mins":case"min":case"m":return l*t;case"seconds":case"second":case"secs":case"sec":case"s":return l*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}(s);if("number"===c&&isFinite(s))return l.long?function(i){var a=Math.abs(i);if(a>=r)return o(i,a,r,"day");if(a>=n)return o(i,a,n,"hour");if(a>=t)return o(i,a,t,"minute");if(a>=e)return o(i,a,e,"second");return i+" ms"}(s):function(i){var a=Math.abs(i);if(a>=r)return Math.round(i/r)+"d";if(a>=n)return Math.round(i/n)+"h";if(a>=t)return Math.round(i/t)+"m";if(a>=e)return Math.round(i/e)+"s";return i+"ms"}(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))},Vl}var Ql=(Yl||(Yl=1,function(e,t){var n={};t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch(r){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=n.DEBUG),e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0)}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=(Kl||(Kl=1,Gl=function(e){function t(e){let r,i,a,o=null;function s(...e){if(!s.enabled)return;const n=s,i=Number(new Date),a=i-(r||i);n.diff=a,n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,i)=>{if("%%"===r)return"%";o++;const a=t.formatters[i];if("function"==typeof a){const t=e[o];r=a.call(n,t),e.splice(o,1),o--}return r}),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(i!==t.namespaces&&(i=t.namespaces,a=t.enabled(e)),a),set:e=>{o=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function r(e,t){let n=0,r=0,i=-1,a=0;for(;n<e.length;)if(r<t.length&&(t[r]===e[n]||"*"===t[r]))"*"===t[r]?(i=r,a=n,r++):(n++,r++);else{if(-1===i)return!1;r=i+1,a++,n=a}for(;r<t.length&&"*"===t[r];)r++;return r===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const r of n)"-"===r[0]?t.skips.push(r.slice(1)):t.names.push(r)},t.enabled=function(e){for(const n of t.skips)if(r(e,n))return!1;for(const n of t.names)if(r(e,n))return!0;return!1},t.humanize=Xl(),t.destroy=function(){},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}),Gl)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}(Zl,Zl.exports)),Zl.exports);const Jl=e(Ql)("micromark");function ec(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],s=[],l=!0;const c={attempt:y(function(e,t){x(e,t.from)}),check:y(b),consume:function(e){jt(e===d,"expected given code to equal expected code"),Jl("consume: `%s`",e),jt(void 0===l,"expected code to not have been consumed: this might be because `return x(code)` instead of `return x` was used"),jt(null===e?0===u.events.length||"exit"===u.events[u.events.length-1][0]:"enter"===u.events[u.events.length-1][0],"expected last token to be open"),Ss(e)?(r.line++,r.column=1,r.offset+=e===Sr?2:1,v(),Jl("position: after eol: `%j`",r)):e!==Nr&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++));u.previous=e,l=!0},enter:function(e,t){const n=t||{};return n.type=e,n.start=f(),jt("string"==typeof e,"expected string type"),jt(e.length>0,"expected non-empty string"),Jl("enter: `%s`",e),u.events.push(["enter",n,u]),s.push(n),n},exit:function(e){jt("string"==typeof e,"expected string type"),jt(e.length>0,"expected non-empty string");const t=s.pop();return jt(t,"cannot close w/o open tokens"),t.end=f(),jt(e===t.type,"expected exit token to match current token"),jt(!(t.start._index===t.end._index&&t.start._bufferIndex===t.end._bufferIndex),"expected non-empty token (`"+e+"`)"),Jl("exit: `%s`",t.type),u.events.push(["exit",t,u]),t},interrupt:y(b,{interrupt:!0})},u={code:Tr,containerState:{},defineSkip:function(e){i[e.line]=e.column,v(),Jl("position: define skip: `%j`",r)},events:[],now:f,parser:e,previous:Tr,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let o;if("string"==typeof a)o=a;else switch(a){case _r:o=ss;break;case Cr:o=os;break;case Sr:o=ss+os;break;case Er:o=t?ls:as;break;case Nr:if(!t&&i)continue;o=ls;break;default:jt("number"==typeof a,"expected number"),o=String.fromCharCode(a)}i=a===Er,r.push(o)}return r.join("")}(p(e),t)},sliceStream:p,write:function(e){if(o=ds(o,e),m(),o[o.length-1]!==Tr)return[];return x(t,0),u.events=Rs(a,u.events,u),u.events}};let d,h=t.tokenize.call(u,c);return t.resolveAll&&a.push(t),u;function p(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(n===i)jt(a>-1,"expected non-negative end buffer index"),jt(r>-1,"expected non-negative start buffer index"),o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){const e=o[0];"string"==typeof e?o[0]=e.slice(r):(jt(0===r,"expected `startBufferIndex` to be `0`"),o.shift())}a>0&&o.push(e[i].slice(0,a))}return o}(o,e)}function f(){const{_bufferIndex:e,_index:t,line:n,column:i,offset:a}=r;return{_bufferIndex:e,_index:t,line:n,column:i,offset:a}}function m(){let e;for(;r._index<o.length;){const t=o[r._index];if("string"==typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)g(t.charCodeAt(r._bufferIndex));else g(t)}}function g(e){jt(!0===l,"expected character to be consumed"),l=void 0,Jl("main: passing `%s` to %s",e,h&&h.name),d=e,jt("function"==typeof h,"expected state"),h=h(e)}function b(e,t){t.restore()}function y(e,t){return function(n,i,a){let o,h,p,m;return Array.isArray(n)?g(n):"tokenize"in n?g([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return g([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function g(e){return o=e,h=0,0===e.length?(jt(a,"expected `bogusState` to be given"),a):b(e[h])}function b(e){return function(n){m=function(){const e=f(),t=u.previous,n=u.currentConstruct,i=u.events.length,a=Array.from(s);return{from:i,restore:o};function o(){r=e,u.previous=t,u.currentConstruct=n,u.events.length=i,s=a,v(),Jl("position: restore: `%j`",r)}}(),p=e,e.partial||(u.currentConstruct=e);if(jt(u.parser.constructs.disable.null,"expected `disable.null` to be populated"),e.name&&u.parser.constructs.disable.null.includes(e.name))return x(n);return e.tokenize.call(t?Object.assign(Object.create(u),t):u,c,y,x)(n)}}function y(t){return jt(t===d,"expected code"),l=!0,e(p,m),i}function x(e){return jt(e===d,"expected code"),l=!0,m.restore(),++h<o.length?b(o[h]):a}}}function x(e,t){e.resolveAll&&!a.includes(e)&&a.push(e),e.resolve&&us(u.events,t,u.events.length-t,e.resolve(u.events.slice(t),u)),e.resolveTo&&(u.events=e.resolveTo(u.events,u)),jt(e.partial||0===u.events.length||"exit"===u.events[u.events.length-1][0],"expected last token to end")}function v(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}const tc=/[\0\t\n\r]/g;const nc=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function rc(e,t,n){if(t)return t;if(n.charCodeAt(0)===Rr){const e=n.charCodeAt(1),t=e===Si||e===mi;return gs(n.slice(t?2:1),t?oa:aa)}return wr(n)||e}const ic={}.hasOwnProperty;function ac(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(te),autolinkProtocol:S,autolinkEmail:S,atxHeading:a(X),blockQuote:a(W),characterEscape:S,characterReference:S,codeFenced:a(G),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(G,o),codeText:a(K,o),codeTextData:S,data:S,codeFlowValue:S,definition:a(Y),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(Z),hardBreakEscape:a(Q),hardBreakTrailing:a(Q),htmlFlow:a(J,o),htmlFlowData:S,htmlText:a(J,o),htmlTextData:S,image:a(ee),label:o,link:a(te),listItem:a(re),listItemValue:h,listOrdered:a(ne,d),listUnordered:a(ne),paragraph:a(ie),reference:j,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(X),strong:a(ae),thematicBreak:a(se)},exit:{atxHeading:l(),atxHeadingSequence:k,autolink:l(),autolinkEmail:V,autolinkProtocol:U,blockQuote:l(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:$,characterReferenceMarkerNumeric:$,characterReferenceValue:H,characterReference:q,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:p,codeFencedFenceMeta:f,codeFlowValue:E,codeIndented:l(b),codeText:l(L),codeTextData:E,data:E,definition:l(),definitionDestinationString:v,definitionLabelString:y,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(T),hardBreakTrailing:l(T),htmlFlow:l(M),htmlFlowData:E,htmlText:l(A),htmlTextData:E,image:l(O),label:F,labelText:P,lineEnding:N,link:l(D),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:z,resourceDestinationString:B,resourceTitleString:R,resource:I,setextHeading:l(C),setextHeadingLineSequence:_,setextHeadingText:w,strong:l(),thematicBreak:l()}};sc(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let r={type:"root",children:[]};const a={stack:[r],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:u,data:n},l=[];let d=-1;for(;++d<e.length;)if(e[d][1].type===Ko||e[d][1].type===Yo)if("enter"===e[d][0])l.push(d);else{const t=l.pop();jt("number"==typeof t,"expected list ot be open"),d=i(e,t,d)}for(d=-1;++d<e.length;){const n=t[e[d][0]];ic.call(n,e[d][1].type)&&n[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},a),e[d][1])}if(a.tokenStack.length>0){const e=a.tokenStack[a.tokenStack.length-1];(e[1]||cc).call(a,void 0,e[0])}for(r.position={start:oc(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:oc(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;++d<t.transforms.length;)r=t.transforms[d](r)||r;return r}function i(e,t,n){let r,i,a,o,s=t-1,l=-1,c=!1;for(;++s<=n;){const t=e[s];switch(t[1].type){case Yo:case Ko:case Uo:"enter"===t[0]?l++:l--,o=void 0;break;case pa:"enter"===t[0]&&(!r||o||l||a||(a=s),o=void 0);break;case fa:case es:case Xo:case Qo:case Jo:break;default:o=void 0}if(!l&&"enter"===t[0]&&t[1].type===Qo||-1===l&&"exit"===t[0]&&(t[1].type===Yo||t[1].type===Ko)){if(r){let o=s;for(i=void 0;o--;){const t=e[o];if(t[1].type===ha||t[1].type===pa){if("exit"===t[0])continue;i&&(e[i][1].type=pa,c=!0),t[1].type=ha,i=o}else if(t[1].type!==fa&&t[1].type!==Vo&&t[1].type!==Go&&t[1].type!==Wo&&t[1].type!==Zo)break}a&&(!i||a<i)&&(r._spread=!0),r.end=Object.assign({},i?e[i][1].start:t[1].end),e.splice(i||s,0,["exit",r,t[2]]),s++,n++}if(t[1].type===Qo){const i={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=i,e.splice(s,0,["enter",i,t[2]]),s++,n++,a=void 0,o=!0}}}return e[t][1]._spread=c,n}function a(e,t){return n;function n(n){s.call(this,e(n),n),t&&t.call(this,n)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(e,t,n){const r=this.stack[this.stack.length-1];jt(r,"expected `parent`"),jt("children"in r,"expected `parent`");r.children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:oc(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),c.call(this,t)}}function c(e,t){const n=this.stack.pop();jt(n,"expected `node`");const r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+qn({start:e.start,end:e.end})+"): it’s not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||cc).call(this,e,r[0])}jt("fragment"!==n.type,"unexpected fragment `exit`ed"),jt(n.position,"expected `position` to be defined"),n.position.end=oc(e.end)}function u(){return yr(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(e){if(this.data.expectingFirstListItemValue){const t=this.stack[this.stack.length-2];jt(t,"expected nodes on stack"),jt("list"===t.type,"expected list on stack"),t.start=Number.parseInt(this.sliceSerialize(e),aa),this.data.expectingFirstListItemValue=void 0}}function p(){const e=this.resume(),t=this.stack[this.stack.length-1];jt(t,"expected node on stack"),jt("code"===t.type,"expected code on stack"),t.lang=e}function f(){const e=this.resume(),t=this.stack[this.stack.length-1];jt(t,"expected node on stack"),jt("code"===t.type,"expected code on stack"),t.meta=e}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const e=this.resume(),t=this.stack[this.stack.length-1];jt(t,"expected node on stack"),jt("code"===t.type,"expected code on stack"),t.value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const e=this.resume(),t=this.stack[this.stack.length-1];jt(t,"expected node on stack"),jt("code"===t.type,"expected code on stack"),t.value=e.replace(/(\r?\n|\r)$/g,"")}function y(e){const t=this.resume(),n=this.stack[this.stack.length-1];jt(n,"expected node on stack"),jt("definition"===n.type,"expected definition on stack"),n.label=t,n.identifier=bs(this.sliceSerialize(e)).toLowerCase()}function x(){const e=this.resume(),t=this.stack[this.stack.length-1];jt(t,"expected node on stack"),jt("definition"===t.type,"expected definition on stack"),t.title=e}function v(){const e=this.resume(),t=this.stack[this.stack.length-1];jt(t,"expected node on stack"),jt("definition"===t.type,"expected definition on stack"),t.url=e}function k(e){const t=this.stack[this.stack.length-1];if(jt(t,"expected node on stack"),jt("heading"===t.type,"expected heading on stack"),!t.depth){const n=this.sliceSerialize(e).length;jt(1===n||2===n||3===n||4===n||5===n||6===n,"expected `depth` between `1` and `6`"),t.depth=n}}function w(){this.data.setextHeadingSlurpLineEnding=!0}function _(e){const t=this.stack[this.stack.length-1];jt(t,"expected node on stack"),jt("heading"===t.type,"expected heading on stack"),t.depth=this.sliceSerialize(e).codePointAt(0)===li?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function S(e){const t=this.stack[this.stack.length-1];jt(t,"expected node on stack"),jt("children"in t,"expected parent on stack");const n=t.children;let r=n[n.length-1];r&&"text"===r.type||(r=oe(),r.position={start:oc(e.start),end:void 0},n.push(r)),this.stack.push(r)}function E(e){const t=this.stack.pop();jt(t,"expected a `node` to be on the stack"),jt("value"in t,"expected a `literal` to be on the stack"),jt(t.position,"expected `node` to have an open position"),t.value+=this.sliceSerialize(e),t.position.end=oc(e.end)}function N(e){const n=this.stack[this.stack.length-1];if(jt(n,"expected `node`"),this.data.atHardBreak){jt("children"in n,"expected `parent`");const t=n.children[n.children.length-1];return jt(t.position,"expected tail to have a starting position"),t.position.end=oc(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(S.call(this,e),E.call(this,e))}function T(){this.data.atHardBreak=!0}function M(){const e=this.resume(),t=this.stack[this.stack.length-1];jt(t,"expected node on stack"),jt("html"===t.type,"expected html on stack"),t.value=e}function A(){const e=this.resume(),t=this.stack[this.stack.length-1];jt(t,"expected node on stack"),jt("html"===t.type,"expected html on stack"),t.value=e}function L(){const e=this.resume(),t=this.stack[this.stack.length-1];jt(t,"expected node on stack"),jt("inlineCode"===t.type,"expected inline code on stack"),t.value=e}function D(){const e=this.stack[this.stack.length-1];if(jt(e,"expected node on stack"),jt("link"===e.type,"expected link on stack"),this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function O(){const e=this.stack[this.stack.length-1];if(jt(e,"expected node on stack"),jt("image"===e.type,"expected image on stack"),this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function P(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];jt(n,"expected ancestor on stack"),jt("image"===n.type||"link"===n.type,"expected image or link on stack"),n.label=function(e){return e.replace(nc,rc)}(t),n.identifier=bs(t).toLowerCase()}function F(){const e=this.stack[this.stack.length-1];jt(e,"expected node on stack"),jt("fragment"===e.type,"expected fragment on stack");const t=this.resume(),n=this.stack[this.stack.length-1];if(jt(n,"expected node on stack"),jt("image"===n.type||"link"===n.type,"expected image or link on stack"),this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function B(){const e=this.resume(),t=this.stack[this.stack.length-1];jt(t,"expected node on stack"),jt("image"===t.type||"link"===t.type,"expected image or link on stack"),t.url=e}function R(){const e=this.resume(),t=this.stack[this.stack.length-1];jt(t,"expected node on stack"),jt("image"===t.type||"link"===t.type,"expected image or link on stack"),t.title=e}function I(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function z(e){const t=this.resume(),n=this.stack[this.stack.length-1];jt(n,"expected node on stack"),jt("image"===n.type||"link"===n.type,"expected image reference or link reference on stack"),n.label=t,n.identifier=bs(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function $(e){jt("characterReferenceMarkerNumeric"===e.type||"characterReferenceMarkerHexadecimal"===e.type),this.data.characterReferenceType=e.type}function H(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;if(n)r=gs(t,n===Na?aa:oa),this.data.characterReferenceType=void 0;else{const e=wr(t);jt(!1!==e,"expected reference to decode"),r=e}const i=this.stack[this.stack.length-1];jt(i,"expected `node`"),jt("value"in i,"expected `node.value`"),i.value+=r}function q(e){const t=this.stack.pop();jt(t,"expected `node`"),jt(t.position,"expected `node.position`"),t.position.end=oc(e.end)}function U(e){E.call(this,e);const t=this.stack[this.stack.length-1];jt(t,"expected node on stack"),jt("link"===t.type,"expected link on stack"),t.url=this.sliceSerialize(e)}function V(e){E.call(this,e);const t=this.stack[this.stack.length-1];jt(t,"expected node on stack"),jt("link"===t.type,"expected link on stack"),t.url="mailto:"+this.sliceSerialize(e)}function W(){return{type:"blockquote",children:[]}}function G(){return{type:"code",lang:null,meta:null,value:""}}function K(){return{type:"inlineCode",value:""}}function Y(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Z(){return{type:"emphasis",children:[]}}function X(){return{type:"heading",depth:0,children:[]}}function Q(){return{type:"break"}}function J(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function re(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function ie(){return{type:"paragraph",children:[]}}function ae(){return{type:"strong",children:[]}}function oe(){return{type:"text",value:""}}function se(){return{type:"thematicBreak"}}}(n)(function(e){for(;!Js(e););return e}(function(e){const t={constructs:ps([Ul,...(e||{}).extensions||[]]),content:n(Os),defined:[],document:n(Ps),flow:n(Ml),lazy:{},string:n(Ll),text:n(Dl)};return t;function n(e){return function(n){return ec(t,e,n)}}}(n).document().write(function(){let e,t=1,n="",r=!0;return function(i,a,o){const s=[];let l,c,u,d,h;for(i=n+("string"==typeof i?i.toString():new TextDecoder(a||void 0).decode(i)),u=0,n="",r&&(i.charCodeAt(0)===Ai&&u++,r=void 0);u<i.length;){if(tc.lastIndex=u,l=tc.exec(i),d=l&&void 0!==l.index?l.index:i.length,h=i.charCodeAt(d),!l){n=i.slice(u);break}if(h===Lr&&u===d&&e)s.push(Sr),e=void 0;else switch(e&&(s.push(_r),e=void 0),u<d&&(s.push(i.slice(u,d)),t+=d-u),h){case Mr:s.push(Li),t++;break;case Ar:for(c=Math.ceil(t/sa)*sa,s.push(Er);t++<c;)s.push(Nr);break;case Lr:s.push(Cr),t=1;break;default:e=!0,t=1}u=d+1}return o&&(e&&s.push(_r),n&&s.push(n),s.push(Tr)),s}}()(e,t,!0))))}function oc(e){return{line:e.line,column:e.column,offset:e.offset}}function sc(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?sc(e,r):lc(e,r)}}function lc(e,t){let n;for(n in t)if(ic.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function cc(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+qn({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+qn({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+qn({start:t.start,end:t.end})+") is still open")}function uc(e){const t=this;t.parser=function(n){return ac(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function dc(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&"text"===a.type?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&"text"===o.type?o.value+=r:i.push({type:"text",value:r}),i}function hc(e){const t=e.spread;return null==t?e.children.length>1:t}function pc(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(fc(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(fc(t.slice(i),i>0,!1)),a.join("")}function fc(e,t,n){let r=0,i=e.length;if(t){let t=e.codePointAt(r);for(;9===t||32===t;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(i-1);for(;9===t||32===t;)i--,t=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}const mc={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Ls(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);void 0===s?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return dc(e,t);const i={src:Ls(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)},image:function(e,t){const n={src:Ls(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return dc(e,t);const i={href:Ls(r.url||"")};null!==r.title&&void 0!==r.title&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)},link:function(e,t){const n={href:Ls(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),i=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=hc(n[r])}return t}(n):hc(t),a={},o=[];if("boolean"==typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const e=r[s];(i||0!==s||"element"!==e.type||"p"!==e.tagName)&&o.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||i?o.push(e):o.push(...e.children)}const l=r[r.length-1];l&&(i||"element"!==l.type||"p"!==l.tagName)&&o.push({type:"text",value:"\n"});const c={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},r=e.all(t);let i=-1;for("number"==typeof t.start&&1!==t.start&&(n.start=t.start);++i<r.length;){const e=r[i];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),i.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=$n(t.children[1]),o=zn(t.children[t.children.length-1]);a&&o&&(r.position={start:a,end:o}),i.push(r)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,i=0===(r?r.indexOf(t):1)?"th":"td",a=n&&"table"===n.type?n.align:void 0,o=a?a.length:t.children.length;let s=-1;const l=[];for(;++s<o;){const n=t.children[s],r={},o=a?a[s]:void 0;o&&(r.align=o);let c={type:"element",tagName:i,properties:r,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(n,c)),l.push(c)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:pc(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:gc,yaml:gc,definition:gc,footnoteDefinition:gc};function gc(){}const bc="object"==typeof self?self:globalThis,yc=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case 0:case-1:return n(o,i);case 1:{const e=n([],i);for(const t of o)e.push(r(t));return e}case 2:{const e=n({},i);for(const[t,n]of o)e[r(t)]=r(n);return e}case 3:return n(new Date(o),i);case 4:{const{source:e,flags:t}=o;return n(new RegExp(e,t),i)}case 5:{const e=n(new Map,i);for(const[t,n]of o)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,i);for(const t of o)e.add(r(t));return e}case 7:{const{name:e,message:t}=o;return n(new bc[e](t),i)}case 8:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:e}=new Uint8Array(o);return n(new DataView(e),o)}}return n(new bc[a](o),i)};return r})(new Map,e)(0),xc="",{toString:vc}={},{keys:kc}=Object,wc=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=vc.call(e).slice(8,-1);switch(n){case"Array":return[1,xc];case"Object":return[2,xc];case"Date":return[3,xc];case"RegExp":return[4,xc];case"Map":return[5,xc];case"Set":return[6,xc];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},_c=([e,t])=>0===e&&("function"===t||"symbol"===t),Cc=(e,{json:t,lossy:n}={})=>{const r=[];return((e,t,n,r)=>{const i=(e,t)=>{const i=r.push(e)-1;return n.set(t,i),i},a=r=>{if(n.has(r))return n.get(r);let[o,s]=wc(r);switch(o){case 0:{let t=r;switch(s){case"bigint":o=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+s);t=null;break;case"undefined":return i([-1],r)}return i([o,t],r)}case 1:{if(s){let e=r;return"DataView"===s?e=new Uint8Array(r.buffer):"ArrayBuffer"===s&&(e=new Uint8Array(r)),i([s,[...e]],r)}const e=[],t=i([o,e],r);for(const n of r)e.push(a(n));return t}case 2:{if(s)switch(s){case"BigInt":return i([s,r.toString()],r);case"Boolean":case"Number":case"String":return i([s,r.valueOf()],r)}if(t&&"toJSON"in r)return a(r.toJSON());const n=[],l=i([o,n],r);for(const t of kc(r))!e&&_c(wc(r[t]))||n.push([a(t),a(r[t])]);return l}case 3:return i([o,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return i([o,{source:e,flags:t}],r)}case 5:{const t=[],n=i([o,t],r);for(const[i,o]of r)(e||!_c(wc(i))&&!_c(wc(o)))&&t.push([a(i),a(o)]);return n}case 6:{const t=[],n=i([o,t],r);for(const i of r)!e&&_c(wc(i))||t.push(a(i));return n}}const{message:l}=r;return i([o,{name:s,message:l}],r)};return a})(!(t||n),!!t,new Map,r)(e),r},Sc="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?yc(Cc(e,t)):structuredClone(e):(e,t)=>yc(Cc(e,t));function Ec(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Nc(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const Tc=function(e){if(null==e)return Ac;if("function"==typeof e)return Mc(e);if("object"==typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Tc(e[n]);return Mc(r);function r(...e){let n=-1;for(;++n<t.length;)if(t[n].apply(this,e))return!0;return!1}}(e):function(e){const t=e;return Mc(n);function n(n){const r=n;let i;for(i in e)if(r[i]!==t[i])return!1;return!0}}(e);if("string"==typeof e)return function(e){return Mc(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function Mc(e){return function(t,n,r){return Boolean(function(e){return null!==e&&"object"==typeof e&&"type"in e}(t)&&e.call(this,t,"number"==typeof n?n:void 0,r||void 0))}}function Ac(){return!0}const Lc=[],Dc=!0,Oc=!1;function Pc(e,t,n,r){let i;"function"==typeof t&&"function"!=typeof n?(r=n,n=t):i=t;const a=Tc(i),o=r?-1:1;!function e(i,s,l){const c=i&&"object"==typeof i?i:{};if("string"==typeof c.type){const e="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0;Object.defineProperty(u,"name",{value:"node ("+i.type+(e?"<"+e+">":"")+")"})}return u;function u(){let c,u,d,h=Lc;if((!t||a(i,s,l[l.length-1]||void 0))&&(h=function(e){if(Array.isArray(e))return e;if("number"==typeof e)return[Dc,e];return null==e?Lc:[e]}(n(i,l)),h[0]===Oc))return h;if("children"in i&&i.children){const t=i;if(t.children&&"skip"!==h[0])for(u=(r?t.children.length:-1)+o,d=l.concat(t);u>-1&&u<t.children.length;){const n=t.children[u];if(c=e(n,u,d)(),c[0]===Oc)return c;u="number"==typeof c[1]?c[1]:u+o}}return h}}(e,void 0,[])()}function Fc(e,t,n,r){let i,a,o;"function"==typeof t&&"function"!=typeof n?(a=void 0,o=t,i=n):(a=t,o=n,i=r),Pc(e,a,function(e,t){const n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return o(e,r,n)},i)}const Bc={}.hasOwnProperty,Rc={};function Ic(e,t){e.position&&(t.position=function(e){const t=$n(e),n=zn(e);if(t&&n)return{start:t,end:n}}(e))}function jc(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,i=e.data.hProperties;if("string"==typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&i&&Object.assign(n.properties,Sc(i)),"children"in n&&n.children&&null!=r&&(n.children=r)}return n}function zc(e,t){const n=t.data||{},r=!("value"in t)||Bc.call(n,"hProperties")||Bc.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function $c(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function Hc(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function qc(e,t){const n=function(e,t){const n=t||Rc,r=new Map,i=new Map,a=new Map,o={...mc,...n.handlers},s={all:function(e){const t=[];if("children"in e){const n=e.children;let r=-1;for(;++r<n.length;){const i=s.one(n[r],e);if(i){if(r&&"break"===n[r-1].type&&(Array.isArray(i)||"text"!==i.type||(i.value=Hc(i.value)),!Array.isArray(i)&&"element"===i.type)){const e=i.children[0];e&&"text"===e.type&&(e.value=Hc(e.value))}Array.isArray(i)?t.push(...i):t.push(i)}}}return t},applyData:jc,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:function(e,t){const n=e.type,r=s.handlers[n];if(Bc.call(s.handlers,n)&&r)return r(s,e,t);if(s.options.passThrough&&s.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,r=Sc(n);return r.children=s.all(e),r}return Sc(e)}return(s.options.unknownHandler||zc)(s,e,t)},options:n,patch:Ic,wrap:$c};return Fc(e,function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?r:i,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}}),s}(e,t),r=n.one(e,void 0),i=function(e){const t="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Ec,r=e.options.footnoteBackLabel||Nc,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const i=e.footnoteById.get(e.footnoteOrder[l]);if(!i)continue;const a=e.all(i),o=String(i.identifier).toUpperCase(),c=Ls(o.toLowerCase());let u=0;const d=[],h=e.footnoteCounts.get(o);for(;void 0!==h&&++u<=h;){d.length>0&&d.push({type:"text",value:" "});let e="string"==typeof n?n:n(l,u);"string"==typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+c+(u>1?"-"+u:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof r?r:r(l,u),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const p=a[a.length-1];if(p&&"element"===p.type&&"p"===p.tagName){const e=p.children[p.children.length-1];e&&"text"===e.type?e.value+=" ":p.children.push({type:"text",value:" "}),p.children.push(...d)}else a.push(...d);const f={type:"element",tagName:"li",properties:{id:t+"fn-"+c},children:e.wrap(a,!0)};e.patch(i,f),s.push(f)}if(0!==s.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Sc(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:"\n"}]}}(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&(jt("children"in a),a.children.push({type:"text",value:"\n"},i)),a}function Uc(e,t){return e&&"run"in e?async function(n,r){const i=qc(n,{file:r,...t});await e.run(i,r)}:function(n,r){return qc(n,{file:r,...e||t})}}function Vc(e){if(e)throw e}var Wc,Gc;var Kc=function(){if(Gc)return Wc;Gc=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===t.call(e)},a=function(n){if(!n||"[object Object]"!==t.call(n))return!1;var r,i=e.call(n,"constructor"),a=n.constructor&&n.constructor.prototype&&e.call(n.constructor.prototype,"isPrototypeOf");if(n.constructor&&!i&&!a)return!1;for(r in n);return void 0===r||e.call(n,r)},o=function(e,t){n&&"__proto__"===t.name?n(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},s=function(t,n){if("__proto__"===n){if(!e.call(t,n))return;if(r)return r(t,n).value}return t[n]};return Wc=function e(){var t,n,r,l,c,u,d=arguments[0],h=1,p=arguments.length,f=!1;for("boolean"==typeof d&&(f=d,d=arguments[1]||{},h=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});h<p;++h)if(null!=(t=arguments[h]))for(n in t)r=s(d,n),d!==(l=s(t,n))&&(f&&l&&(a(l)||(c=i(l)))?(c?(c=!1,u=r&&i(r)?r:[]):u=r&&a(r)?r:{},o(d,{name:n,newValue:e(f,u,l)})):void 0!==l&&o(d,{name:n,newValue:l}));return d},Wc}();const Yc=e(Kc);function Zc(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}function Xc(){const e=[],t={run:function(...t){let n=-1;const r=t.pop();if("function"!=typeof r)throw new TypeError("Expected function as last argument, not "+r);!function i(a,...o){const s=e[++n];let l=-1;if(a)r(a);else{for(;++l<t.length;)null!==o[l]&&void 0!==o[l]||(o[l]=t[l]);t=o,s?function(e,t){let n;return r;function r(...t){const r=e.length>t.length;let s;r&&t.push(i);try{s=e.apply(this,t)}catch(a){if(r&&n)throw a;return i(a)}r||(s&&s.then&&"function"==typeof s.then?s.then(o,i):s instanceof Error?i(s):o(s))}function i(e,...r){n||(n=!0,t(e,...r))}function o(e){i(null,e)}}(s,i)(...o):r(null,...o)}}(null,...t)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const Qc={basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');Jc(e);let n,r=0,i=-1,a=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;a--;)if(47===e.codePointAt(a)){if(n){r=a+1;break}}else i<0&&(n=!0,i=a+1);return i<0?"":e.slice(r,i)}if(t===e)return"";let o=-1,s=t.length-1;for(;a--;)if(47===e.codePointAt(a)){if(n){r=a+1;break}}else o<0&&(n=!0,o=a+1),s>-1&&(e.codePointAt(a)===t.codePointAt(s--)?s<0&&(i=a):(s=-1,i=o));r===i?i=o:i<0&&(i=e.length);return e.slice(r,i)},dirname:function(e){if(Jc(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){Jc(e);let t,n=e.length,r=-1,i=0,a=-1,o=0;for(;n--;){const s=e.codePointAt(n);if(47!==s)r<0&&(t=!0,r=n+1),46===s?a<0?a=n:1!==o&&(o=1):a>-1&&(o=-1);else if(t){i=n+1;break}}if(a<0||r<0||0===o||1===o&&a===r-1&&a===i+1)return"";return e.slice(a,r)},join:function(...e){let t,n=-1;for(;++n<e.length;)Jc(e[n]),e[n]&&(t=void 0===t?e[n]:t+"/"+e[n]);return void 0===t?".":function(e){Jc(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,r,i="",a=0,o=-1,s=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(o===l-1||1===s);else if(o!==l-1&&2===s){if(i.length<2||2!==a||46!==i.codePointAt(i.length-1)||46!==i.codePointAt(i.length-2))if(i.length>2){if(r=i.lastIndexOf("/"),r!==i.length-1){r<0?(i="",a=0):(i=i.slice(0,r),a=i.length-1-i.lastIndexOf("/")),o=l,s=0;continue}}else if(i.length>0){i="",a=0,o=l,s=0;continue}t&&(i=i.length>0?i+"/..":"..",a=2)}else i.length>0?i+="/"+e.slice(o+1,l):i=e.slice(o+1,l),a=l-o-1;o=l,s=0}else 46===n&&s>-1?s++:s=-1}return i}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(t)},sep:"/"};function Jc(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const eu={cwd:function(){return"/"}};function tu(e){return Boolean(null!==e&&"object"==typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function nu(e){if("string"==typeof e)e=new URL(e);else if(!tu(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const ru=["history","path","basename","stem","extname","dirname"];class iu{constructor(e){let t;t=e?tu(e)?{path:e}:"string"==typeof e||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":eu.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,r=-1;for(;++r<ru.length;){const e=ru[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)ru.includes(n)||(this[n]=t[n])}get basename(){return"string"==typeof this.path?Qc.basename(this.path):void 0}set basename(e){ou(e,"basename"),au(e,"basename"),this.path=Qc.join(this.dirname||"",e)}get dirname(){return"string"==typeof this.path?Qc.dirname(this.path):void 0}set dirname(e){su(this.basename,"dirname"),this.path=Qc.join(e||"",this.basename)}get extname(){return"string"==typeof this.path?Qc.extname(this.path):void 0}set extname(e){if(au(e,"extname"),su(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Qc.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){tu(e)&&(e=nu(e)),ou(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"==typeof this.path?Qc.basename(this.path,this.extname):void 0}set stem(e){ou(e,"stem"),au(e,"stem"),this.path=Qc.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new Gn(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){if(void 0===this.value)return"";if("string"==typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function au(e,t){if(e&&e.includes(Qc.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Qc.sep+"`")}function ou(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function su(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const lu=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},cu={}.hasOwnProperty;class uu extends lu{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Xc()}copy(){const e=new uu;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(Yc(!0,{},this.namespace)),e}data(e,t){return"string"==typeof e?2===arguments.length?(fu("data",this.frozen),this.namespace[e]=t,this):cu.call(this.namespace,e)&&this.namespace[e]||void 0:e?(fu("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const r=t.call(e,...n);"function"==typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=bu(e),n=this.parser||this.Parser;return hu("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),hu("process",this.parser||this.Parser),pu("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,i){const a=bu(e),o=n.parse(a);function s(e,n){e||!n?i(e):r?r(n):(jt(t,"`done` is defined if `resolve` is not"),t(void 0,n))}n.run(o,a,function(e,t,r){if(e||!t||!r)return s(e);const i=t,a=n.stringify(i,r);var o;"string"==typeof(o=a)||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(o)?r.value=a:r.result=a,s(e,r)})}}processSync(e){let t,n=!1;return this.freeze(),hu("processSync",this.parser||this.Parser),pu("processSync",this.compiler||this.Compiler),this.process(e,function(e,r){n=!0,Vc(e),t=r}),gu("processSync","process",n),jt(t,"we either bailed on an error or have a tree"),t}run(e,t,n){mu(e),this.freeze();const r=this.transformers;return n||"function"!=typeof t||(n=t,t=void 0),n?i(void 0,n):new Promise(i);function i(i,a){jt("function"!=typeof t,"`file` can’t be a `done` anymore, we checked");const o=bu(t);r.run(e,o,function(t,r,o){const s=r||e;t?a(t):i?i(s):(jt(n,"`done` is defined if `resolve` is not"),n(void 0,s,o))})}}runSync(e,t){let n,r=!1;return this.run(e,t,function(e,t){Vc(e),n=t,r=!0}),gu("runSync","run",r),jt(n,"we either bailed on an error or have a tree"),n}stringify(e,t){this.freeze();const n=bu(t),r=this.compiler||this.Compiler;return pu("stringify",r),mu(e),r(e,n)}use(e,...t){const n=this.attachers,r=this.namespace;if(fu("use",this.frozen),null==e);else if("function"==typeof e)s(e,t);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?o(e):a(e)}return this;function i(e){if("function"==typeof e)s(e,[]);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;s(t,n)}else a(e)}}function a(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(e.plugins),e.settings&&(r.settings=Yc(!0,r.settings,e.settings))}function o(e){let t=-1;if(null==e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){i(e[t])}}}function s(e,t){let r=-1,i=-1;for(;++r<n.length;)if(n[r][0]===e){i=r;break}if(-1===i)n.push([e,...t]);else if(t.length>0){let[r,...a]=t;const o=n[i][1];Zc(o)&&Zc(r)&&(r=Yc(!0,o,r)),n[i]=[e,r,...a]}}}}const du=(new uu).freeze();function hu(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function pu(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function fu(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function mu(e){if(!Zc(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function gu(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function bu(e){return function(e){return Boolean(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new iu(e)}const yu="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",xu=[],vu={allowDangerousHtml:!0},ku=/^(https?|ircs?|mailto|xmpp)$/i,wu=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function _u(e){const t=function(e){const t=e.rehypePlugins||xu,n=e.remarkPlugins||xu,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...vu}:vu,i=du().use(uc).use(n).use(Uc,r).use(t);return i}(e),n=function(e){const t=e.children||"",n=new iu;"string"==typeof t?n.value=t:zt("Unexpected value `"+t+"` for `children` prop, expected `string`");return n}(e);return function(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||Cu;for(const u of wu)Object.hasOwn(t,u.from)&&zt("Unexpected `"+u.from+"` prop, "+(u.to?"use `"+u.to+"` instead":"remove it")+" (see <"+yu+"#"+u.id+"> for more info)");n&&a&&zt("Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other");return Fc(e,c),er(e,{Fragment:gr.Fragment,components:i,ignoreInvalidStyle:!0,jsx:gr.jsx,jsxs:gr.jsxs,passKeys:!0,passNode:!0});function c(e,t,i){if("raw"===e.type&&i&&"number"==typeof t)return o?i.children.splice(t,1):i.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in ur)if(Object.hasOwn(ur,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],r=ur[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=l(String(n||""),t,e))}}if("element"===e.type){let o=n?!n.includes(e.tagName):!!a&&a.includes(e.tagName);if(!o&&r&&"number"==typeof t&&(o=!r(e,t,i)),o&&i&&"number"==typeof t)return s&&e.children?i.children.splice(t,1,...e.children):i.children.splice(t,1),t}}}(t.runSync(t.parse(n),n),e)}function Cu(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return-1===t||-1!==i&&t>i||-1!==n&&t>n||-1!==r&&t>r||ku.test(e.slice(0,t))?e:""}const Su=function(e,t,n){const r=Tc(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if("number"==typeof t){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if((t=e.children.indexOf(t))<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]},Eu=function(e){if(null==e)return Tu;if("string"==typeof e)return function(e){return Nu(t);function t(t){return t.tagName===e}}(e);if("object"==typeof e)return function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Eu(e[n]);return Nu(r);function r(...e){let n=-1;for(;++n<t.length;)if(t[n].apply(this,e))return!0;return!1}}(e);if("function"==typeof e)return Nu(e);throw new Error("Expected function, string, or array as `test`")};function Nu(e){return function(t,n,r){return Boolean(function(e){return null!==e&&"object"==typeof e&&"type"in e&&"tagName"in e}(t)&&e.call(this,t,"number"==typeof n?n:void 0,r||void 0))}}function Tu(e){return Boolean(e&&"object"==typeof e&&"type"in e&&"element"===e.type&&"tagName"in e&&"string"==typeof e.tagName)}const Mu=/\n/g,Au=/[\t ]+/g,Lu=Eu("br"),Du=Eu(function(e){return"td"===e.tagName||"th"===e.tagName}),Ou=Eu("p"),Pu=Eu("tr"),Fu=Eu(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",function(e){return Boolean((e.properties||{}).hidden)},function(e){return"dialog"===e.tagName&&!(e.properties||{}).open}]),Bu=Eu(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function Ru(e,t,n){return"element"===e.type?function(e,t,n){const r=zu(e,n),i=e.children||[];let a,o,s=-1,l=[];if(Fu(e))return l;Lu(e)||Pu(e)&&Su(t,e,Pu)?o="\n":Ou(e)?(a=2,o=2):Bu(e)&&(a=1,o=1);for(;++s<i.length;)l=l.concat(Ru(i[s],e,{whitespace:r,breakBefore:s?void 0:a,breakAfter:s<i.length-1?Lu(i[s+1]):o}));Du(e)&&Su(t,e,Du)&&l.push("\t");a&&l.unshift(a);o&&l.push(o);return l}(e,t,n):"text"===e.type?"normal"===n.whitespace?Iu(e,n):function(e){return[String(e.value)]}(e):[]}function Iu(e,t){const n=String(e.value),r=[],i=[];let a=0;for(;a<=n.length;){Mu.lastIndex=a;const e=Mu.exec(n),i=e&&"index"in e?e.index:n.length;r.push(ju(n.slice(a,i).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),0!==a||t.breakBefore,i!==n.length||t.breakAfter)),a=i+1}let o,s=-1;for(;++s<r.length;)8203===r[s].charCodeAt(r[s].length-1)||s<r.length-1&&8203===r[s+1].charCodeAt(0)?(i.push(r[s]),o=void 0):r[s]?("number"==typeof o&&i.push(o),i.push(r[s]),o=0):0!==s&&s!==r.length-1||i.push(0);return i}function ju(e,t,n){const r=[];let i,a=0;for(;a<e.length;){Au.lastIndex=a;const n=Au.exec(e);i=n?n.index:e.length,a||i||!n||t||r.push(""),a!==i&&r.push(e.slice(a,i)),a=n?i+n[0].length:i}return a===i||n||r.push(""),r.join(" ")}function zu(e,t){if("element"===e.type){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}const $u=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video","defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Hu=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),qu=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Uu=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Vu=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();var Wu="[0-9](_*[0-9])*",Gu=`\\.(${Wu})`,Ku="[0-9a-fA-F](_*[0-9a-fA-F])*",Yu={className:"number",variants:[{begin:`(\\b(${Wu})((${Gu})|\\.)?|(${Gu}))[eE][+-]?(${Wu})[fFdD]?\\b`},{begin:`\\b(${Wu})((${Gu})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Gu})[fFdD]?\\b`},{begin:`\\b(${Wu})[fFdD]\\b`},{begin:`\\b0[xX]((${Ku})\\.?|(${Ku})?\\.(${Ku}))[pP][+-]?(${Wu})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Ku})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Zu(e,t,n){return-1===n?"":e.replace(t,r=>Zu(e,t,n-1))}const Xu="[A-Za-z$_][0-9A-Za-z$_]*",Qu=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Ju=["true","false","null","undefined","NaN","Infinity"],ed=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],td=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],nd=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],rd=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],id=[].concat(nd,ed,td);var ad="[0-9](_*[0-9])*",od=`\\.(${ad})`,sd="[0-9a-fA-F](_*[0-9a-fA-F])*",ld={className:"number",variants:[{begin:`(\\b(${ad})((${od})|\\.)?|(${od}))[eE][+-]?(${ad})[fFdD]?\\b`},{begin:`\\b(${ad})((${od})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${od})[fFdD]?\\b`},{begin:`\\b(${ad})[fFdD]\\b`},{begin:`\\b0[xX]((${sd})\\.?|(${sd})?\\.(${sd}))[pP][+-]?(${ad})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${sd})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};const cd=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video","defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],ud=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),dd=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),hd=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),pd=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),fd=dd.concat(hd).sort().reverse();const md=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video","defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],gd=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),bd=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),yd=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),xd=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function vd(e){return e?"string"==typeof e?e:e.source:null}function kd(e){return wd("(?=",e,")")}function wd(...e){const t=e.map(e=>vd(e)).join("");return t}function _d(...e){const t=function(e){const t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e),n="("+(t.capture?"":"?:")+e.map(e=>vd(e)).join("|")+")";return n}const Cd=e=>wd(/\b/,e,/\w$/.test(e)?/\b/:/\B/),Sd=["Protocol","Type"].map(Cd),Ed=["init","self"].map(Cd),Nd=["Any","Self"],Td=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],Md=["false","nil","true"],Ad=["assignment","associativity","higherThan","left","lowerThan","none","right"],Ld=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],Dd=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],Od=_d(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),Pd=_d(Od,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),Fd=wd(Od,Pd,"*"),Bd=_d(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),Rd=_d(Bd,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Id=wd(Bd,Rd,"*"),jd=wd(/[A-Z]/,Rd,"*"),zd=["attached","autoclosure",wd(/convention\(/,_d("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",wd(/objc\(/,Id,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],$d=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];const Hd="[A-Za-z$_][0-9A-Za-z$_]*",qd=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Ud=["true","false","null","undefined","NaN","Infinity"],Vd=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Wd=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Gd=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Kd=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Yd=[].concat(Gd,Vd,Wd);function Zd(e){const t=e.regex,n=Hd,r="<>",i="</>",a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const n=e[0].length+e.index,r=e.input[n];if("<"===r||","===r)return void t.ignoreMatch();let i;">"===r&&(((e,{after:t})=>{const n="</"+e[0].slice(1);return-1!==e.input.indexOf(n,t)})(e,{after:n})||t.ignoreMatch());const a=e.input.substring(n);((i=a.match(/^\s*=/))||(i=a.match(/^\s+extends\s+/))&&0===i.index)&&t.ignoreMatch()}},o={$pattern:Hd,keyword:qd,literal:Ud,built_in:Yd,"variable.language":Kd},s="[0-9](_?[0-9])*",l=`\\.(${s})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",u={className:"number",variants:[{begin:`(\\b(${c})((${l})|\\.)?|(${l}))[eE][+-]?(${s})\\b`},{begin:`\\b(${c})\\b((${l})\\b|\\.)?|(${l})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},h={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},p={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"css"}},f={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},m={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,d]},g={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},b=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,p,f,m,{match:/\$\d+/},u];d.contains=b.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(b)});const y=[].concat(g,d.contains),x=y.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(y)}]),v={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:x},k={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},w={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Vd,...Wd]}},_={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[v],illegal:/%/};const C={match:t.concat(/\b/,function(e){return t.concat("(?!",e.join("|"),")")}([...Gd,"super","import"].map(e=>`${e}\\s*\\(`)),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},S={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},E={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},v]},N="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",T={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(N)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[v]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:x,CLASS_REFERENCE:w},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,p,f,m,g,{match:/\$\d+/},u,w,{scope:"attr",match:n+t.lookahead(":"),relevance:0},T,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[g,e.REGEXP_MODE,{className:"function",begin:N,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:x}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:r,end:i},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},_,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[v,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},S,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[v]},C,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},k,E,{match:/\$[(.]/}]}}const Xd={arduino:function(e){const t={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=function(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",o={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},s={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},c={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(s,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},u={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},d=t.optional(i)+e.IDENT_RE+"\\s*\\(",h={type:["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],keyword:["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"]},p={className:"function.dispatch",relevance:0,keywords:{_hint:["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"]},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},f=[p,c,o,n,e.C_BLOCK_COMMENT_MODE,l,s],m={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:h,contains:f.concat([{begin:/\(/,end:/\)/,keywords:h,contains:f.concat(["self"]),relevance:0}]),relevance:0},g={className:"function",begin:"("+a+"[\\*&\\s]+)+"+d,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:h,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:h,relevance:0},{begin:d,returnBegin:!0,contains:[u],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[s,l]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:h,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,s,l,o,{begin:/\(/,end:/\)/,keywords:h,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,s,l,o]}]},o,n,e.C_BLOCK_COMMENT_MODE,c]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:h,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(m,g,p,f,[c,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:h,contains:["self",o]},{begin:e.IDENT_RE+"::",keywords:h},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}(e),r=n.keywords;return r.type=[...r.type,...t.type],r.literal=[...r.literal,...t.literal],r.built_in=[...r.built_in,...t.built_in],r._hints=t._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n},bash:function(e){const t=e.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},a=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},s={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,i]};i.contains.push(s);const l={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},c=e.SHEBANG({binary:`(${["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"].join("|")})`,relevance:10}),u={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0};return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],literal:["true","false"],built_in:["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset","alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias","set","shopt","autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp","chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"]},contains:[c,e.SHEBANG(),u,l,a,o,{match:/(\/[a-z._-]+)+/},s,{match:/\\"/},{className:"string",begin:/'/,end:/'/},{match:/\\'/},n]}},c:function(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",o={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},s={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},c={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(s,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},u={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},d=t.optional(i)+e.IDENT_RE+"\\s*\\(",h={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},p=[c,o,n,e.C_BLOCK_COMMENT_MODE,l,s],f={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:h,contains:p.concat([{begin:/\(/,end:/\)/,keywords:h,contains:p.concat(["self"]),relevance:0}]),relevance:0},m={begin:"("+a+"[\\*&\\s]+)+"+d,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:h,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:h,relevance:0},{begin:d,returnBegin:!0,contains:[e.inherit(u,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:h,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,s,l,o,{begin:/\(/,end:/\)/,keywords:h,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,s,l,o]}]},o,n,e.C_BLOCK_COMMENT_MODE,c]};return{name:"C",aliases:["h"],keywords:h,disableAutodetect:!0,illegal:"</",contains:[].concat(f,m,p,[c,{begin:e.IDENT_RE+"::",keywords:h},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:c,strings:s,keywords:h}}},cpp:function(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",o={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},s={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},c={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(s,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},u={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},d=t.optional(i)+e.IDENT_RE+"\\s*\\(",h={type:["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],keyword:["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"]},p={className:"function.dispatch",relevance:0,keywords:{_hint:["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"]},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},f=[p,c,o,n,e.C_BLOCK_COMMENT_MODE,l,s],m={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:h,contains:f.concat([{begin:/\(/,end:/\)/,keywords:h,contains:f.concat(["self"]),relevance:0}]),relevance:0},g={className:"function",begin:"("+a+"[\\*&\\s]+)+"+d,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:h,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:h,relevance:0},{begin:d,returnBegin:!0,contains:[u],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[s,l]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:h,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,s,l,o,{begin:/\(/,end:/\)/,keywords:h,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,s,l,o]}]},o,n,e.C_BLOCK_COMMENT_MODE,c]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:h,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(m,g,p,f,[c,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:h,contains:["self",o]},{begin:e.IDENT_RE+"::",keywords:h},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}},csharp:function(e){const t={keyword:["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"].concat(["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"]),built_in:["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],literal:["default","false","null","true"]},n=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),r={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},i={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},a=e.inherit(i,{illegal:/\n/}),o={className:"subst",begin:/\{/,end:/\}/,keywords:t},s=e.inherit(o,{illegal:/\n/}),l={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,s]},c={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},o]},u=e.inherit(c,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},s]});o.contains=[c,l,i,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,r,e.C_BLOCK_COMMENT_MODE],s.contains=[u,l,a,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,r,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const d={variants:[{className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},c,l,i,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},h={begin:"<",end:">",contains:[{beginKeywords:"in out"},n]},p=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",f={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:t,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"\x3c!--|--\x3e"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},d,r,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},n,h,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,h,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+p+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:t,contains:[{beginKeywords:["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"].join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,h],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:t,relevance:0,contains:[d,r,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},f]}},css:function(e){const t=e.regex,n=(e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}))(e),r=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/},n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+qu.join("|")+")"},{begin:":(:)?("+Uu.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Vu.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...r,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...r,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:Hu.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...r,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+$u.join("|")+")\\b"}]}},diff:function(e){const t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}},go:function(e){const t={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:t,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,illegal:/["']/}]}]}},graphql:function(e){const t=e.regex;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(/[_A-Za-z][_0-9A-Za-z]*/,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}},ini:function(e){const t=e.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},r=e.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},a={className:"literal",begin:/\bon|off|true|false|yes|no\b/},o={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},s={begin:/\[/,end:/\]/,contains:[r,a,i,o,n,"self"],relevance:0},l=t.either(/[A-Za-z0-9_-]+/,/"(\\"|[^"])*"/,/'[^']*'/);return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:t.concat(l,"(\\s*\\.\\s*",l,")*",t.lookahead(/\s*=\s*[^#\s]/)),className:"attr",starts:{end:/$/,contains:[r,s,a,i,o,n]}}]}},java:function(e){const t=e.regex,n="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",r=n+Zu("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),i={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},a={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},o={className:"params",begin:/\(/,end:/\)/,keywords:i,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:i,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[o,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:i,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:i,relevance:0,contains:[a,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,Yu,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},Yu,a]}},javascript:function(e){const t=e.regex,n=Xu,r="<>",i="</>",a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const n=e[0].length+e.index,r=e.input[n];if("<"===r||","===r)return void t.ignoreMatch();let i;">"===r&&(((e,{after:t})=>{const n="</"+e[0].slice(1);return-1!==e.input.indexOf(n,t)})(e,{after:n})||t.ignoreMatch());const a=e.input.substring(n);((i=a.match(/^\s*=/))||(i=a.match(/^\s+extends\s+/))&&0===i.index)&&t.ignoreMatch()}},o={$pattern:Xu,keyword:Qu,literal:Ju,built_in:id,"variable.language":rd},s="[0-9](_?[0-9])*",l=`\\.(${s})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",u={className:"number",variants:[{begin:`(\\b(${c})((${l})|\\.)?|(${l}))[eE][+-]?(${s})\\b`},{begin:`\\b(${c})\\b((${l})\\b|\\.)?|(${l})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},h={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},p={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"css"}},f={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},m={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,d]},g={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},b=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,p,f,m,{match:/\$\d+/},u];d.contains=b.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(b)});const y=[].concat(g,d.contains),x=y.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(y)}]),v={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:x},k={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},w={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...ed,...td]}},_={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[v],illegal:/%/},C={match:t.concat(/\b/,function(e){return t.concat("(?!",e.join("|"),")")}([...nd,"super","import"].map(e=>`${e}\\s*\\(`)),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},S={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},E={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},v]},N="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",T={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(N)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[v]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:x,CLASS_REFERENCE:w},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,p,f,m,g,{match:/\$\d+/},u,w,{scope:"attr",match:n+t.lookahead(":"),relevance:0},T,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[g,e.REGEXP_MODE,{className:"function",begin:N,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:x}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:r,end:i},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},_,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[v,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},S,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[v]},C,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},k,E,{match:/\$[(.]/}]}},json:function(e){const t=["true","false","null"],n={scope:"literal",beginKeywords:t.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:t},contains:[{className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},{match:/[{}[\],:]/,className:"punctuation",relevance:0},e.QUOTE_STRING_MODE,n,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}},kotlin:function(e){const t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},r={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},i={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},a={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[i,r]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,i,r]}]};r.contains.push(a);const o={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},s={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(a,{className:"string"}),"self"]}]},l=ld,c=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),u={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},d=u;return d.variants[1].contains=[u],u.variants[1].contains=[d],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,c,{className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},n,o,s,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[u,e.C_LINE_COMMENT_MODE,c],relevance:0},e.C_LINE_COMMENT_MODE,c,o,s,a,e.C_NUMBER_MODE]},c]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},o,s]},a,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:"\n"},l]}},less:function(e){const t=(e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}))(e),n=fd,r="[\\w-]+",i="("+r+"|@\\{"+r+"\\})",a=[],o=[],s=function(e){return{className:"string",begin:"~?"+e+".*?"+e}},l=function(e,t,n){return{className:e,begin:t,relevance:n}},c={$pattern:/[a-z-]+/,keyword:"and or not only",attribute:ud.join(" ")},u={begin:"\\(",end:"\\)",contains:o,keywords:c,relevance:0};o.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,s("'"),s('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,u,l("variable","@@?"+r,10),l("variable","@\\{"+r+"\\}"),l("built_in","~?`[^`]*?`"),{className:"attribute",begin:r+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const d=o.concat({begin:/\{/,end:/\}/,contains:a}),h={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(o)},p={begin:i+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+pd.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:o}}]},f={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:c,returnEnd:!0,contains:o,relevance:0}},m={className:"variable",variants:[{begin:"@"+r+"\\s*:",relevance:15},{begin:"@"+r}],starts:{end:"[;}]",returnEnd:!0,contains:d}},g={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:i,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:"[<='$\"]",relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,h,l("keyword","all\\b"),l("variable","@\\{"+r+"\\}"),{begin:"\\b("+cd.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,l("selector-tag",i,0),l("selector-id","#"+i),l("selector-class","\\."+i,0),l("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+dd.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+hd.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:d},{begin:"!important"},t.FUNCTION_DISPATCH]},b={begin:r+":(:)?"+`(${n.join("|")})`,returnBegin:!0,contains:[g]};return a.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,f,m,b,p,g,h,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:"[=>'/<($\"]",contains:a}},lua:function(e){const t="\\[=*\\[",n="\\]=*\\]",r={begin:t,end:n,contains:["self"]},i=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:n,contains:[r],relevance:5}])}},makefile:function(e){const t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t,n]},i={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},a={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,n,r,i,{className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},a]}},markdown:function(e){const t={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},n={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.regex.concat(/\[.+?\]\(/,/[A-Za-z][A-Za-z0-9+.-]*/,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},r={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},i={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},a=e.inherit(r,{contains:[]}),o=e.inherit(i,{contains:[]});r.contains.push(o),i.contains.push(a);let s=[t,n];return[r,i,a,o].forEach(e=>{e.contains=e.contains.concat(s)}),s=s.concat(r,i),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:s},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:s}]}]},t,{className:"bullet",begin:"^[ \t]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},r,i,{className:"quote",begin:"^>\\s+",contains:s,end:"$"},{className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},{begin:"^[-\\*]{3,}",end:"$"},n,{begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}},objectivec:function(e){const t=/[a-zA-Z@][a-zA-Z0-9_]*/,n={$pattern:t,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:{"variable.language":["this","super"],$pattern:t,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},illegal:"</",contains:[{className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+n.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:n,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}},perl:function(e){const t=e.regex,n=/[dualxmsipngr]{0,12}/,r={$pattern:/[\w.]+/,keyword:["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"].join(" ")},i={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:r},a={begin:/->\{/,end:/\}/},o={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},s={scope:"variable",variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[o]},l={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},c=[e.BACKSLASH_ESCAPE,i,s],u=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],d=(e,r,i="\\1")=>{const a="\\1"===i?i:t.concat(i,r);return t.concat(t.concat("(?:",e,")"),r,/(?:\\.|[^\\\/])*?/,a,/(?:\\.|[^\\\/])*?/,i,n)},h=(e,r,i)=>t.concat(t.concat("(?:",e,")"),r,/(?:\\.|[^\\\/])*?/,i,n),p=[s,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),a,{className:"string",contains:c,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},l,{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:d("s|tr|y",t.either(...u,{capture:!0}))},{begin:d("s|tr|y","\\(","\\)")},{begin:d("s|tr|y","\\[","\\]")},{begin:d("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:h("(?:m|qr)?",/\//,/\//)},{begin:h("m|qr",t.either(...u,{capture:!0}),/\1/)},{begin:h("m|qr",/\(/,/\)/)},{begin:h("m|qr",/\[/,/\]/)},{begin:h("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,o]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,o,l]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return i.contains=p,a.contains=p,{name:"Perl",aliases:["pl","pm"],keywords:r,contains:p}},php:function(e){const t=e.regex,n=/(?![A-Za-z0-9])(?![$])/,r=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),a=t.concat(/[A-Z]+/,n),o={scope:"variable",match:"\\$+"+r},s={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},l=e.inherit(e.APOS_STRING_MODE,{illegal:null}),c=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(s)}),u={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(s),"on:begin":(e,t)=>{t.data._beginMatch=e[1]||e[2]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}},d="[ \t\n]",h={scope:"string",variants:[c,l,u,e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/})]},p={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},f=["false","null","true"],m=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],g=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],b={keyword:m,literal:(e=>{const t=[];return e.forEach(e=>{t.push(e),e.toLowerCase()===e?t.push(e.toUpperCase()):t.push(e.toLowerCase())}),t})(f),built_in:g},y=e=>e.map(e=>e.replace(/\|\d+$/,"")),x={variants:[{match:[/new/,t.concat(d,"+"),t.concat("(?!",y(g).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},v=t.concat(r,"\\b(?!\\()"),k={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),v],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,t.concat(/::/,t.lookahead(/(?!class\b)/)),v],scope:{1:"title.class",3:"variable.constant"}},{match:[i,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},w={scope:"attr",match:t.concat(r,t.lookahead(":"),t.lookahead(/(?!::)/))},_={relevance:0,begin:/\(/,end:/\)/,keywords:b,contains:[w,o,k,e.C_BLOCK_COMMENT_MODE,h,p,x]},C={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",y(m).join("\\b|"),"|",y(g).join("\\b|"),"\\b)"),r,t.concat(d,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[_]};_.contains.push(C);const S=[w,k,e.C_BLOCK_COMMENT_MODE,h,p,x],E={begin:t.concat(/#\[\s*\\?/,t.either(i,a)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:f,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:f,keyword:["new","array"]},contains:["self",...S]},...S,{scope:"meta",variants:[{match:i},{match:a}]}]};return{case_insensitive:!1,keywords:b,contains:[E,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},{scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},{scope:"variable.language",match:/\$this\b/},o,C,k,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},x,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:b,contains:["self",E,o,k,e.C_BLOCK_COMMENT_MODE,h,p]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},h,p]}},"php-template":function(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}},plaintext:function(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}},python:function(e){const t=e.regex,n=/[\p{XID_Start}_]\p{XID_Continue}*/u,r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],i={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},a={className:"meta",begin:/^(>>>|\.\.\.) /},o={className:"subst",begin:/\{/,end:/\}/,keywords:i,illegal:/#/},s={begin:/\{\{/,relevance:0},l={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,a],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,a],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,a,s,o]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,a,s,o]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,s,o]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,s,o]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},c="[0-9](_?[0-9])*",u=`(\\b(${c}))?\\.(${c})|\\b(${c})\\.`,d=`\\b|${r.join("|")}`,h={className:"number",relevance:0,variants:[{begin:`(\\b(${c})|(${u}))[eE][+-]?(${c})[jJ]?(?=${d})`},{begin:`(${u})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${d})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${d})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${d})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${d})`},{begin:`\\b(${c})[jJ](?=${d})`}]},p={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:i,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},f={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:["self",a,h,l,e.HASH_COMMENT_MODE]}]};return o.contains=[l,h,a],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:i,illegal:/(<\/|\?)|=>/,contains:[a,h,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},l,p,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[f]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[h,f,l]}]}},"python-repl":function(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}},r:function(e){const t=e.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,a=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[a,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:a},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}},ruby:function(e){const t=e.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=t.concat(r,/(::\w+)*/),a={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield","include","extend","prepend","public","private","protected","raise","throw"],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},o={className:"doctag",begin:"@[A-Za-z]+"},s={begin:"#<",end:">"},l=[e.COMMENT("#","$",{contains:[o]}),e.COMMENT("^=begin","^=end",{contains:[o],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],c={className:"subst",begin:/#\{/,end:/\}/,keywords:a},u={className:"string",contains:[e.BACKSLASH_ESCAPE,c],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,c]})]}]},d="[0-9](_?[0-9])*",h={className:"number",relevance:0,variants:[{begin:`\\b([1-9](_?[0-9])*|0)(\\.(${d}))?([eE][+-]?(${d})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},p={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:a}]},f=[u,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:a},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:a},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[p]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[u,{begin:n}],relevance:0},h,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:a},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,c],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(s,l),relevance:0}].concat(s,l);c.contains=f,p.contains=f;const m=[{begin:/^\s*=>/,starts:{end:"$",contains:f}},{className:"meta.prompt",begin:"^([>?]>|[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]|(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>)(?=[ ])",starts:{end:"$",keywords:a,contains:f}}];return l.unshift(s),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:a,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(m).concat(l).concat(f)}},rust:function(e){const t=e.regex,n=/(r#)?/,r=t.concat(n,e.UNDERSCORE_IDENT_RE),i=t.concat(n,e.IDENT_RE),a={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,t.lookahead(/\s*\(/))},o="([ui](8|16|32|64|128|size)|f(32|64))?",s=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],l=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:l,keyword:["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],literal:["true","false","Some","None","Ok","Err"],built_in:s},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+o},{begin:"\\b0o([0-7_]+)"+o},{begin:"\\b0x([A-Fa-f0-9_]+)"+o},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+o}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:s,type:l}},{className:"punctuation",begin:"->"},a]}},scss:function(e){const t=(e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}))(e),n=yd,r=bd,i="@[a-z-]+",a={className:"variable",begin:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+md.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},a,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+xd.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,a,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:gd.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},a,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}},shell:function(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}},sql:function(e){const t=e.regex,n=e.COMMENT("--","$"),r=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],i=r,a=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year","add","asc","collation","desc","final","first","last","view"].filter(e=>!r.includes(e)),o={match:t.concat(/\b/,t.either(...i),/\s*\(/),relevance:0,keywords:{built_in:i}};function s(e){return t.concat(/\b/,t.either(...e.map(e=>e.replace(/\s+/,"\\s+"))),/\b/)}const l={scope:"keyword",match:s(["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"]),relevance:0};return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:function(e,{exceptions:t,when:n}={}){const r=n;return t=t||[],e.map(e=>e.match(/\|\d+$/)||t.includes(e)?e:r(e)?`${e}|0`:e)}(a,{when:e=>e.length<3}),literal:["true","false","unknown"],type:["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],built_in:["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"]},contains:[{scope:"type",match:s(["double precision","large object","with timezone","without timezone"])},l,o,{scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},{scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},{begin:/"/,end:/"/,contains:[{match:/""/}]},e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,{scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0}]}},swift:function(e){const t={match:/\s+/,relevance:0},n=e.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[e.C_LINE_COMMENT_MODE,n],i={match:[/\./,_d(...Sd,...Ed)],className:{2:"keyword"}},a={match:wd(/\./,_d(...Td)),relevance:0},o=Td.filter(e=>"string"==typeof e).concat(["_|0"]),s={variants:[{className:"keyword",match:_d(...Td.filter(e=>"string"!=typeof e).concat(Nd).map(Cd),...Ed)}]},l={$pattern:_d(/\b\w+/,/#\w+/),keyword:o.concat(Ld),literal:Md},c=[i,a,s],u=[{match:wd(/\./,_d(...Dd)),relevance:0},{className:"built_in",match:wd(/\b/,_d(...Dd),/(?=\()/)}],d={match:/->/,relevance:0},h=[d,{className:"operator",relevance:0,variants:[{match:Fd},{match:`\\.(\\.|${Pd})+`}]}],p="([0-9]_*)+",f="([0-9a-fA-F]_*)+",m={className:"number",relevance:0,variants:[{match:`\\b(${p})(\\.(${p}))?([eE][+-]?(${p}))?\\b`},{match:`\\b0x(${f})(\\.(${f}))?([pP][+-]?(${p}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},g=(e="")=>({className:"subst",variants:[{match:wd(/\\/,e,/[0\\tnr"']/)},{match:wd(/\\/,e,/u\{[0-9a-fA-F]{1,8}\}/)}]}),b=(e="")=>({className:"subst",match:wd(/\\/,e,/[\t ]*(?:[\r\n]|\r\n)/)}),y=(e="")=>({className:"subst",label:"interpol",begin:wd(/\\/,e,/\(/),end:/\)/}),x=(e="")=>({begin:wd(e,/"""/),end:wd(/"""/,e),contains:[g(e),b(e),y(e)]}),v=(e="")=>({begin:wd(e,/"/),end:wd(/"/,e),contains:[g(e),y(e)]}),k={className:"string",variants:[x(),x("#"),x("##"),x("###"),v(),v("#"),v("##"),v("###")]},w=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],_={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:w},C=e=>{const t=wd(e,/\//),n=wd(/\//,e);return{begin:t,end:n,contains:[...w,{scope:"comment",begin:`#(?!.*${n})`,end:/$/}]}},S={scope:"regexp",variants:[C("###"),C("##"),C("#"),_]},E={match:wd(/`/,Id,/`/)},N=[E,{className:"variable",match:/\$\d+/},{className:"variable",match:`\\$${Rd}+`}],T=[{match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:$d,contains:[...h,m,k]}]}},{scope:"keyword",match:wd(/@/,_d(...zd),kd(_d(/\(/,/\s+/)))},{scope:"meta",match:wd(/@/,Id)}],M={match:kd(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:wd(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,Rd,"+")},{className:"type",match:jd,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:wd(/\s+&\s+/,kd(jd)),relevance:0}]},A={begin:/</,end:/>/,keywords:l,contains:[...r,...c,...T,d,M]};M.contains.push(A);const L={begin:/\(/,end:/\)/,relevance:0,keywords:l,contains:["self",{match:wd(Id,/\s*:/),keywords:"_|0",relevance:0},...r,S,...c,...u,...h,m,k,...N,...T,M]},D={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,M]},O={begin:/\(/,end:/\)/,keywords:l,contains:[{begin:_d(kd(wd(Id,/\s*:/)),kd(wd(Id,/\s+/,Id,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Id}]},...r,...c,...h,m,k,...T,M,L],endsParent:!0,illegal:/["']/},P={match:[/(func|macro)/,/\s+/,_d(E.match,Id,Fd)],className:{1:"keyword",3:"title.function"},contains:[D,O,t],illegal:[/\[/,/%/]},F={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[D,O,t],illegal:/\[|%/},B={match:[/operator/,/\s+/,Fd],className:{1:"keyword",3:"title"}},R={begin:[/precedencegroup/,/\s+/,jd],className:{1:"keyword",3:"title"},contains:[M],keywords:[...Ad,...Md],end:/}/},I={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,Id,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:l,contains:[D,...c,{begin:/:/,end:/\{/,keywords:l,contains:[{scope:"title.class.inherited",match:jd},...c],relevance:0}]};for(const j of k.variants){const e=j.contains.find(e=>"interpol"===e.label);e.keywords=l;const t=[...c,...u,...h,m,k,...N];e.contains=[...t,{begin:/\(/,end:/\)/,contains:["self",...t]}]}return{name:"Swift",keywords:l,contains:[...r,P,F,{match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},{match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},I,B,R,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},S,...c,...u,...h,m,k,...N,...T,M,L]}},typescript:function(e){const t=e.regex,n=Zd(e),r=Hd,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],a={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},o={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},s={$pattern:Hd,keyword:qd.concat(["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"]),literal:Ud,built_in:Yd.concat(i),"variable.language":Kd},l={className:"meta",begin:"@"+r},c=(e,t,n)=>{const r=e.contains.findIndex(e=>e.label===t);if(-1===r)throw new Error("can not find mode to replace");e.contains.splice(r,1,n)};Object.assign(n.keywords,s),n.exports.PARAMS_CONTAINS.push(l);const u=n.contains.find(e=>"attr"===e.scope),d=Object.assign({},u,{match:t.concat(r,t.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,u,d]),n.contains=n.contains.concat([l,a,o,d]),c(n,"shebang",e.SHEBANG()),c(n,"use_strict",{className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/});const h=n.contains.find(e=>"func.def"===e.label);return h.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n},vbnet:function(e){const t=e.regex,n=/\d{1,2}\/\d{1,2}\/\d{4}/,r=/\d{4}-\d{1,2}-\d{1,2}/,i=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,a=/\d{1,2}(:\d{1,2}){1,2}/,o={className:"literal",variants:[{begin:t.concat(/# */,t.either(r,n),/ *#/)},{begin:t.concat(/# */,a,/ *#/)},{begin:t.concat(/# */,i,/ *#/)},{begin:t.concat(/# */,t.either(r,n),/ +/,t.either(i,a),/ *#/)}]},s=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),l=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[{className:"string",begin:/"(""|[^/n])"C\b/},{className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},o,{className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},{className:"label",begin:/^\w+:/},s,l,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[l]}]}},wasm:function(e){e.regex;const t=e.COMMENT(/\(;/,/;\)/);return t.contains.push("self"),{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"]},contains:[e.COMMENT(/;;/,/$/),t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},{className:"variable",begin:/\$[\w_]+/},{match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},{begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},e.QUOTE_STRING_MODE,{match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},{className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/},{className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/}]}},xml:function(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},i={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=e.inherit(i,{begin:/\(/,end:/\)/}),o=e.inherit(e.APOS_STRING_MODE,{className:"string"}),s=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),l={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[\p{L}0-9._:-]+/u,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[r]},{begin:/'/,end:/'/,contains:[r]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[i,s,o,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[i,a,s,o]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},r,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[s]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[l],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[l],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:l}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}},yaml:function(e){const t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,{className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]}]},i=e.inherit(r,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),a={className:"number",begin:"\\b[0-9]{4}(-[0-9][0-9]){0,2}([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?(\\.[0-9]*)?([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?\\b"},o={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},s={begin:/\{/,end:/\}/,contains:[o],illegal:"\\n",relevance:0},l={begin:"\\[",end:"\\]",contains:[o],illegal:"\\n",relevance:0},c=[{className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},a,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},s,l,{className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},r],u=[...c];return u.pop(),u.push(i),o.contains=u,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:c}}};var Qd,Jd;function eh(){if(Jd)return Qd;function e(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(n=>{const r=t[n],i=typeof r;"object"!==i&&"function"!==i||Object.isFrozen(r)||e(r)}),t}Jd=1;class t{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(e,...t){const n=Object.create(null);for(const r in e)n[r]=e[r];return t.forEach(function(e){for(const t in e)n[t]=e[t]}),n}const i=e=>!!e.scope;class a{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=n(e)}openNode(e){if(!i(e))return;const t=((e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((e,t)=>`${e}${"_".repeat(t+1)}`)].join(" ")}return`${t}${e}`})(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){i(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const o=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class s{constructor(){this.rootNode=o(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=o({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(t=>this._walk(e,t)),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every(e=>"string"==typeof e)?e.children=[e.children.join("")]:e.children.forEach(e=>{s._collapse(e)}))}}class l extends s{constructor(e){super(),this.options=e}addText(e){""!==e&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){const n=e.root;t&&(n.scope=`language:${t}`),this.add(n)}toHTML(){return new a(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function c(e){return e?"string"==typeof e?e:e.source:null}function u(e){return p("(?=",e,")")}function d(e){return p("(?:",e,")*")}function h(e){return p("(?:",e,")?")}function p(...e){const t=e.map(e=>c(e)).join("");return t}function f(...e){const t=function(e){const t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e),n="("+(t.capture?"":"?:")+e.map(e=>c(e)).join("|")+")";return n}function m(e){return new RegExp(e.toString()+"|").exec("").length-1}const g=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function b(e,{joinWith:t}){let n=0;return e.map(e=>{n+=1;const t=n;let r=c(e),i="";for(;r.length>0;){const e=g.exec(r);if(!e){i+=r;break}i+=r.substring(0,e.index),r=r.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?i+="\\"+String(Number(e[1])+t):(i+=e[0],"("===e[0]&&n++)}return i}).map(e=>`(${e})`).join(t)}const y="[a-zA-Z]\\w*",x="[a-zA-Z_]\\w*",v="\\b\\d+(\\.\\d+)?",k="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",w="\\b(0b[01]+)",_={begin:"\\\\[\\s\\S]",relevance:0},C={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[_]},S={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[_]},E=function(e,t,n={}){const i=r({scope:"comment",begin:e,end:t,contains:[]},n);i.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const a=f("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return i.contains.push({begin:p(/[ ]+/,"(",a,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),i},N=E("//","$"),T=E("/\\*","\\*/"),M=E("#","$"),A={scope:"number",begin:v,relevance:0},L={scope:"number",begin:k,relevance:0},D={scope:"number",begin:w,relevance:0},O={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[_,{begin:/\[/,end:/\]/,relevance:0,contains:[_]}]},P={scope:"title",begin:y,relevance:0},F={scope:"title",begin:x,relevance:0},B={begin:"\\.\\s*"+x,relevance:0};var R=Object.freeze({__proto__:null,APOS_STRING_MODE:C,BACKSLASH_ESCAPE:_,BINARY_NUMBER_MODE:D,BINARY_NUMBER_RE:w,COMMENT:E,C_BLOCK_COMMENT_MODE:T,C_LINE_COMMENT_MODE:N,C_NUMBER_MODE:L,C_NUMBER_RE:k,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})},HASH_COMMENT_MODE:M,IDENT_RE:y,MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:B,NUMBER_MODE:A,NUMBER_RE:v,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},QUOTE_STRING_MODE:S,REGEXP_MODE:O,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=p(t,/.*\b/,e.binary,/\b.*/)),r({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},TITLE_MODE:P,UNDERSCORE_IDENT_RE:x,UNDERSCORE_TITLE_MODE:F});function I(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function j(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function z(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=I,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function $(e,t){Array.isArray(e.illegal)&&(e.illegal=f(...e.illegal))}function H(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function q(e,t){void 0===e.relevance&&(e.relevance=1)}const U=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(t=>{delete e[t]}),e.keywords=n.keywords,e.begin=p(n.beforeMatch,u(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},V=["of","and","for","in","not","or","if","then","parent","list","value"];function W(e,t,n="keyword"){const r=Object.create(null);return"string"==typeof e?i(n,e.split(" ")):Array.isArray(e)?i(n,e):Object.keys(e).forEach(function(n){Object.assign(r,W(e[n],t,n))}),r;function i(e,n){t&&(n=n.map(e=>e.toLowerCase())),n.forEach(function(t){const n=t.split("|");r[n[0]]=[e,G(n[0],n[1])]})}}function G(e,t){return t?Number(t):function(e){return V.includes(e.toLowerCase())}(e)?0:1}const K={},Y=(e,t)=>{K[`${e}/${t}`]||(K[`${e}/${t}`]=!0)},Z=new Error;function X(e,t,{key:n}){let r=0;const i=e[n],a={},o={};for(let s=1;s<=t.length;s++)o[s+r]=i[s],a[s+r]=!0,r+=m(t[s-1]);e[n]=o,e[n]._emit=a,e[n]._multi=!0}function Q(e){!function(e){e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}(e),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Z;if("object"!=typeof e.beginScope||null===e.beginScope)throw Z;X(e,e.begin,{key:"beginScope"}),e.begin=b(e.begin,{joinWith:""})}}(e),function(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Z;if("object"!=typeof e.endScope||null===e.endScope)throw Z;X(e,e.end,{key:"endScope"}),e.end=b(e.end,{joinWith:""})}}(e)}function J(e){function t(t,n){return new RegExp(c(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=m(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map(e=>e[1]);this.matcherRe=t(b(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex((e,t)=>t>0&&void 0!==e),r=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,r)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach(([e,n])=>t.addRule(e,n)),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=r(e.classNameAliases||{}),function n(a,o){const s=a;if(a.isCompiled)return s;[j,H,Q,U].forEach(e=>e(a,o)),e.compilerExtensions.forEach(e=>e(a,o)),a.__beforeBegin=null,[z,$,q].forEach(e=>e(a,o)),a.isCompiled=!0;let l=null;return"object"==typeof a.keywords&&a.keywords.$pattern&&(a.keywords=Object.assign({},a.keywords),l=a.keywords.$pattern,delete a.keywords.$pattern),l=l||/\w+/,a.keywords&&(a.keywords=W(a.keywords,e.case_insensitive)),s.keywordPatternRe=t(l,!0),o&&(a.begin||(a.begin=/\B|\b/),s.beginRe=t(s.begin),a.end||a.endsWithParent||(a.end=/\B|\b/),a.end&&(s.endRe=t(s.end)),s.terminatorEnd=c(s.end)||"",a.endsWithParent&&o.terminatorEnd&&(s.terminatorEnd+=(a.end?"|":"")+o.terminatorEnd)),a.illegal&&(s.illegalRe=t(a.illegal)),a.contains||(a.contains=[]),a.contains=[].concat(...a.contains.map(function(e){return function(e){e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return r(e,{variants:null},t)}));if(e.cachedVariants)return e.cachedVariants;if(ee(e))return r(e,{starts:e.starts?r(e.starts):null});if(Object.isFrozen(e))return r(e);return e}("self"===e?a:e)})),a.contains.forEach(function(e){n(e,s)}),a.starts&&n(a.starts,o),s.matcher=function(e){const t=new i;return e.contains.forEach(e=>t.addRule(e.begin,{rule:e,type:"begin"})),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(s),s}(e)}function ee(e){return!!e&&(e.endsWithParent||ee(e.starts))}class te extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const ne=n,re=r,ie=Symbol("nomatch"),ae=function(n){const r=Object.create(null),i=Object.create(null),a=[];let o=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",c={disableAutodetect:!0,name:"Plain text",contains:[]};let m={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:l};function g(e){return m.noHighlightRe.test(e)}function b(e,t,n){let r="",i="";"object"==typeof t?(r=e,n=t.ignoreIllegals,i=t.language):(Y("10.7.0","highlight(lang, code, ...args) has been deprecated."),Y("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),i=e,r=t),void 0===n&&(n=!0);const a={code:r,language:i};E("before:highlight",a);const o=a.result?a.result:y(a.language,a.code,n);return o.code=a.code,E("after:highlight",o),o}function y(e,n,i,a){const l=Object.create(null);function c(e,t){return e.keywords[t]}function u(){if(!N.keywords)return void M.addText(A);let e=0;N.keywordPatternRe.lastIndex=0;let t=N.keywordPatternRe.exec(A),n="";for(;t;){n+=A.substring(e,t.index);const r=C.case_insensitive?t[0].toLowerCase():t[0],i=c(N,r);if(i){const[e,a]=i;if(M.addText(n),n="",l[r]=(l[r]||0)+1,l[r]<=7&&(L+=a),e.startsWith("_"))n+=t[0];else{const n=C.classNameAliases[e]||e;h(t[0],n)}}else n+=t[0];e=N.keywordPatternRe.lastIndex,t=N.keywordPatternRe.exec(A)}n+=A.substring(e),M.addText(n)}function d(){null!=N.subLanguage?function(){if(""===A)return;let e=null;if("string"==typeof N.subLanguage){if(!r[N.subLanguage])return void M.addText(A);e=y(N.subLanguage,A,!0,T[N.subLanguage]),T[N.subLanguage]=e._top}else e=x(A,N.subLanguage.length?N.subLanguage:null);N.relevance>0&&(L+=e.relevance),M.__addSublanguage(e._emitter,e.language)}():u(),A=""}function h(e,t){""!==e&&(M.startScope(t),M.addText(e),M.endScope())}function p(e,t){let n=1;const r=t.length-1;for(;n<=r;){if(!e._emit[n]){n++;continue}const r=C.classNameAliases[e[n]]||e[n],i=t[n];r?h(i,r):(A=i,u(),A=""),n++}}function f(e,t){return e.scope&&"string"==typeof e.scope&&M.openNode(C.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(h(A,C.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),A=""):e.beginScope._multi&&(p(e.beginScope,t),A="")),N=Object.create(e,{parent:{value:N}}),N}function g(e,n,r){let i=function(e,t){const n=e&&e.exec(t);return n&&0===n.index}(e.endRe,r);if(i){if(e["on:end"]){const r=new t(e);e["on:end"](n,r),r.isMatchIgnored&&(i=!1)}if(i){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return g(e.parent,n,r)}function b(e){return 0===N.matcher.regexIndex?(A+=e[0],1):(P=!0,0)}function v(e){const t=e[0],r=n.substring(e.index),i=g(N,e,r);if(!i)return ie;const a=N;N.endScope&&N.endScope._wrap?(d(),h(t,N.endScope._wrap)):N.endScope&&N.endScope._multi?(d(),p(N.endScope,e)):a.skip?A+=t:(a.returnEnd||a.excludeEnd||(A+=t),d(),a.excludeEnd&&(A=t));do{N.scope&&M.closeNode(),N.skip||N.subLanguage||(L+=N.relevance),N=N.parent}while(N!==i.parent);return i.starts&&f(i.starts,e),a.returnEnd?0:t.length}let k={};function w(r,a){const s=a&&a[0];if(A+=r,null==s)return d(),0;if("begin"===k.type&&"end"===a.type&&k.index===a.index&&""===s){if(A+=n.slice(a.index,a.index+1),!o){const t=new Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=k.rule,t}return 1}if(k=a,"begin"===a.type)return function(e){const n=e[0],r=e.rule,i=new t(r),a=[r.__beforeBegin,r["on:begin"]];for(const t of a)if(t&&(t(e,i),i.isMatchIgnored))return b(n);return r.skip?A+=n:(r.excludeBegin&&(A+=n),d(),r.returnBegin||r.excludeBegin||(A=n)),f(r,e),r.returnBegin?0:n.length}(a);if("illegal"===a.type&&!i){const e=new Error('Illegal lexeme "'+s+'" for mode "'+(N.scope||"<unnamed>")+'"');throw e.mode=N,e}if("end"===a.type){const e=v(a);if(e!==ie)return e}if("illegal"===a.type&&""===s)return A+="\n",1;if(O>1e5&&O>3*a.index){throw new Error("potential infinite loop, way more iterations than matches")}return A+=s,s.length}const C=_(e);if(!C)throw s.replace("{}",e),new Error('Unknown language: "'+e+'"');const S=J(C);let E="",N=a||S;const T={},M=new m.__emitter(m);!function(){const e=[];for(let t=N;t!==C;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach(e=>M.openNode(e))}();let A="",L=0,D=0,O=0,P=!1;try{if(C.__emitTokens)C.__emitTokens(n,M);else{for(N.matcher.considerAll();;){O++,P?P=!1:N.matcher.considerAll(),N.matcher.lastIndex=D;const e=N.matcher.exec(n);if(!e)break;const t=w(n.substring(D,e.index),e);D=e.index+t}w(n.substring(D))}return M.finalize(),E=M.toHTML(),{language:e,value:E,relevance:L,illegal:!1,_emitter:M,_top:N}}catch(F){if(F.message&&F.message.includes("Illegal"))return{language:e,value:ne(n),illegal:!0,relevance:0,_illegalBy:{message:F.message,index:D,context:n.slice(D-100,D+100),mode:F.mode,resultSoFar:E},_emitter:M};if(o)return{language:e,value:ne(n),illegal:!1,relevance:0,errorRaised:F,_emitter:M,_top:N};throw F}}function x(e,t){t=t||m.languages||Object.keys(r);const n=function(e){const t={value:ne(e),illegal:!1,relevance:0,_top:c,_emitter:new m.__emitter(m)};return t._emitter.addText(e),t}(e),i=t.filter(_).filter(S).map(t=>y(t,e,!1));i.unshift(n);const a=i.sort((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(_(e.language).supersetOf===t.language)return 1;if(_(t.language).supersetOf===e.language)return-1}return 0}),[o,s]=a,l=o;return l.secondBest=s,l}function v(e){let t=null;const n=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=m.languageDetectRe.exec(t);if(n){const e=_(n[1]);return e||s.replace("{}",n[1]),e?n[1]:"no-highlight"}return t.split(/\s+/).find(e=>g(e)||_(e))}(e);if(g(n))return;if(E("before:highlightElement",{el:e,language:n}),e.dataset.highlighted)return;if(e.children.length>0&&(m.ignoreUnescapedHTML,m.throwUnescapedHTML)){throw new te("One of your code blocks includes unescaped HTML.",e.innerHTML)}t=e;const r=t.textContent,a=n?b(r,{language:n,ignoreIllegals:!0}):x(r);e.innerHTML=a.value,e.dataset.highlighted="yes",function(e,t,n){const r=t&&i[t]||n;e.classList.add("hljs"),e.classList.add(`language-${r}`)}(e,n,a.language),e.result={language:a.language,re:a.relevance,relevance:a.relevance},a.secondBest&&(e.secondBest={language:a.secondBest.language,relevance:a.secondBest.relevance}),E("after:highlightElement",{el:e,result:a,text:r})}let k=!1;function w(){if("loading"===document.readyState)return k||window.addEventListener("DOMContentLoaded",function(){w()},!1),void(k=!0);document.querySelectorAll(m.cssSelector).forEach(v)}function _(e){return e=(e||"").toLowerCase(),r[e]||r[i[e]]}function C(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach(e=>{i[e.toLowerCase()]=t})}function S(e){const t=_(e);return t&&!t.disableAutodetect}function E(e,t){const n=e;a.forEach(function(e){e[n]&&e[n](t)})}Object.assign(n,{highlight:b,highlightAuto:x,highlightAll:w,highlightElement:v,highlightBlock:function(e){return Y("10.7.0","highlightBlock will be removed entirely in v12.0"),Y("10.7.0","Please use highlightElement now."),v(e)},configure:function(e){m=re(m,e)},initHighlighting:()=>{w(),Y("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){w(),Y("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(e,t){let i=null;try{i=t(n)}catch(a){if("Language definition for '{}' could not be registered.".replace("{}",e),!o)throw a;i=c}i.name||(i.name=e),r[e]=i,i.rawDefinition=t.bind(null,n),i.aliases&&C(i.aliases,{languageName:e})},unregisterLanguage:function(e){delete r[e];for(const t of Object.keys(i))i[t]===e&&delete i[t]},listLanguages:function(){return Object.keys(r)},getLanguage:_,registerAliases:C,autoDetection:S,inherit:re,addPlugin:function(e){!function(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),a.push(e)},removePlugin:function(e){const t=a.indexOf(e);-1!==t&&a.splice(t,1)}}),n.debugMode=function(){o=!1},n.safeMode=function(){o=!0},n.versionString="11.11.1",n.regex={concat:p,lookahead:u,either:f,optional:h,anyNumberOfTimes:d};for(const t in R)"object"==typeof R[t]&&e(R[t]);return Object.assign(n,R),n},oe=ae({});return oe.newInstance=()=>ae({}),Qd=oe,oe.HighlightJS=oe,oe.default=oe,Qd}const th=e(eh()),nh={};class rh{constructor(e){this.options=e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(e){if(""===e)return;const t=this.stack[this.stack.length-1],n=t.children[t.children.length-1];n&&"text"===n.type?n.value+=e:t.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,t){const n=this.stack[this.stack.length-1],r=e.root.children;t?n.children.push({type:"element",tagName:"span",properties:{className:[t]},children:r}):n.children.push(...r)}openNode(e){const t=this,n=e.split(".").map(function(e,n){return n?e+"_".repeat(n):t.options.classPrefix+e}),r={type:"element",tagName:"span",properties:{className:n},children:[]};this.stack[this.stack.length-1].children.push(r),this.stack.push(r)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const ih={};function ah(e){const t=e||ih,n=t.aliases,r=t.detect||!1,i=t.languages||Xd,a=t.plainText,o=t.prefix,s=t.subset;let l="hljs";const c=function(e){const t=th.newInstance();return e&&i(e),{highlight:n,highlightAuto:function(e,i){jt("string"==typeof e,"expected `string` as `value`");const a=(i||nh).subset||r();let o,s=-1,l=0;for(;++s<a.length;){const r=a[s];if(!t.getLanguage(r))continue;const c=n(r,e,i);c.data&&void 0!==c.data.relevance&&c.data.relevance>l&&(l=c.data.relevance,o=c)}return o||{type:"root",children:[],data:{language:void 0,relevance:l}}},listLanguages:r,register:i,registerAlias:function(e,n){if("string"==typeof e)jt(void 0!==n),t.registerAliases("string"==typeof n?n:[...n],{languageName:e});else{let n;for(n in e)if(Object.hasOwn(e,n)){const r=e[n];t.registerAliases("string"==typeof r?r:[...r],{languageName:n})}}},registered:function(e){return Boolean(t.getLanguage(e))}};function n(e,n,r){jt("string"==typeof e,"expected `string` as `name`"),jt("string"==typeof n,"expected `string` as `value`");const i=r||nh,a="string"==typeof i.prefix?i.prefix:"hljs-";if(!t.getLanguage(e))throw new Error("Unknown language: `"+e+"` is not registered");t.configure({__emitter:rh,classPrefix:a});const o=t.highlight(n,{ignoreIllegals:!0,language:e});if(o.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:o.errorRaised});const s=o._emitter.root,l=s.data;return l.language=o.language,l.relevance=o.relevance,s}function r(){return t.listLanguages()}function i(e,n){if("string"==typeof e)jt(void 0!==n,"expected `grammar`"),t.registerLanguage(e,n);else{let n;for(n in e)Object.hasOwn(e,n)&&t.registerLanguage(n,e[n])}}}(i);if(n&&c.registerAlias(n),o){const e=o.indexOf("-");l=-1===e?o:o.slice(0,e)}return function(e,t){Fc(e,"element",function(e,n,i){if("code"!==e.tagName||!i||"element"!==i.type||"pre"!==i.tagName)return;const u=function(e){const t=e.properties.className;let n,r=-1;if(!Array.isArray(t))return;for(;++r<t.length;){const e=String(t[r]);if("no-highlight"===e||"nohighlight"===e)return!1;n||"lang-"!==e.slice(0,5)||(n=e.slice(5)),n||"language-"!==e.slice(0,9)||(n=e.slice(9))}return n}(e);if(!1===u||!u&&!r||u&&a&&a.includes(u))return;Array.isArray(e.properties.className)||(e.properties.className=[]),e.properties.className.includes(l)||e.properties.className.unshift(l);const d=function(e,t){const n=t||{},r="children"in e?e.children:[],i=Bu(e),a=zu(e,{whitespace:n.whitespace||"normal"}),o=[];"text"!==e.type&&"comment"!==e.type||o.push(...Iu(e,{breakBefore:!0,breakAfter:!0}));let s=-1;for(;++s<r.length;)o.push(...Ru(r[s],e,{whitespace:a,breakBefore:s?void 0:i,breakAfter:s<r.length-1?Lu(r[s+1]):i}));const l=[];let c;for(s=-1;++s<o.length;){const e=o[s];"number"==typeof e?void 0!==c&&e>c&&(c=e):e&&(void 0!==c&&c>-1&&l.push("\n".repeat(c)||" "),c=-1,l.push(e))}return l.join("")}(e,{whitespace:"pre"});let h;try{h=u?c.highlight(u,d,{prefix:o}):c.highlightAuto(d,{prefix:o,subset:s})}catch(p){const n=p;if(u&&/Unknown language/.test(n.message))return void t.message("Cannot highlight as `"+u+"`, it’s not registered",{ancestors:[i,e],cause:n,place:e.position,ruleId:"missing-language",source:"rehype-highlight"});throw n}!u&&h.data&&h.data.language&&e.properties.className.push("language-"+h.data.language),h.children.length>0&&(e.children=h.children)})}}function oh(e,t){const n=String(e);if("string"!=typeof t)throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;-1!==i;)r++,i=n.indexOf(t,i+t.length);return r}function sh(e,t,n){const r=Tc((n||{}).ignore||[]),i=function(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const e=n[r];t.push([lh(e[0]),ch(e[1])])}return t}(t);let a=-1;for(;++a<i.length;)Pc(e,"text",o);function o(e,t){let n,o=-1;for(;++o<t.length;){const e=t[o],i=n?n.children:void 0;if(r(e,i?i.indexOf(e):void 0,n))return;n=e}if(n)return function(e,t){const n=t[t.length-1],r=i[a][0],o=i[a][1];let s=0;const l=n.children.indexOf(e);let c=!1,u=[];r.lastIndex=0;let d=r.exec(e.value);for(;d;){const n=d.index,i={index:d.index,input:d.input,stack:[...t,e]};let a=o(...d,i);if("string"==typeof a&&(a=a.length>0?{type:"text",value:a}:void 0),!1===a?r.lastIndex=n+1:(s!==n&&u.push({type:"text",value:e.value.slice(s,n)}),Array.isArray(a)?u.push(...a):a&&u.push(a),s=n+d[0].length,c=!0),!r.global)break;d=r.exec(e.value)}c?(s<e.value.length&&u.push({type:"text",value:e.value.slice(s)}),n.children.splice(l,1,...u)):u=[e];return l+u.length}(e,t)}}function lh(e){return"string"==typeof e?new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e),"g"):e}function ch(e){return"function"==typeof e?e:function(){return e}}const uh="phrasing",dh=["autolink","link","image","label"];function hh(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function ph(e){this.config.enter.autolinkProtocol.call(this,e)}function fh(e){this.config.exit.autolinkProtocol.call(this,e)}function mh(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];jt("link"===t.type),t.url="http://"+this.sliceSerialize(e)}function gh(e){this.config.exit.autolinkEmail.call(this,e)}function bh(e){this.exit(e)}function yh(e){sh(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,xh],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,vh]],{ignore:["link","linkReference"]})}function xh(e,t,n,r,i){let a="";if(!kh(i))return!1;if(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!function(e){const t=e.split(".");if(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))return!1;return!0}(n))return!1;const o=function(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=oh(e,"(");let a=oh(e,")");for(;-1!==r&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:a+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function vh(e,t,n,r){return!(!kh(r,!0)||/[-\d_]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function kh(e,t){const n=e.input.charCodeAt(e.index-1);return(0===e.index||Ms(n)||Ts(n))&&(!t||47!==n)}function wh(){this.buffer()}function _h(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Ch(){this.buffer()}function Sh(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Eh(e){const t=this.resume(),n=this.stack[this.stack.length-1];jt("footnoteReference"===n.type),n.identifier=bs(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Nh(e){this.exit(e)}function Th(e){const t=this.resume(),n=this.stack[this.stack.length-1];jt("footnoteDefinition"===n.type),n.identifier=bs(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Mh(e){this.exit(e)}function Ah(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),s(),o(),a+=i.move("]"),a}function Lh(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:function(e,n,r,i){const a=r.createTracker(i);let o=a.move("[^");const s=r.enter("footnoteDefinition"),l=r.enter("label");o+=a.move(r.safe(r.associationId(e),{before:o,after:"]"})),l(),o+=a.move("]:"),e.children&&e.children.length>0&&(a.shift(4),o+=a.move((t?"\n":" ")+r.indentLines(r.containerFlow(e,a.current()),t?Oh:Dh)));return s(),o},footnoteReference:Ah},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]}}function Dh(e,t,n){return 0===t?e:Oh(e,t,n)}function Oh(e,t,n){return(n?"":"    ")+e}Ah.peek=function(){return"["};const Ph=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function Fh(e){this.enter({type:"delete",children:[]},e)}function Bh(e){this.exit(e)}function Rh(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),a(),o}function Ih(e){return e.length}function jh(e){return null==e?"":String(e)}function zh(e){const t="string"==typeof e?e.codePointAt(0):0;return 67===t||99===t?99:76===t||108===t?108:82===t||114===t?114:0}function $h(e,t,n){return">"+(n?"":" ")+e}function Hh(e,t){return qh(e,t.inConstruct,!0)&&!qh(e,t.notInConstruct,!1)}function qh(e,t,n){if("string"==typeof t&&(t=[t]),!t||0===t.length)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Uh(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if("\n"===n.unsafe[i].character&&Hh(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return"\\\n"}function Vh(e,t,n){return(n?"":"    ")+e}function Wh(e){const t=e.options.quote||'"';if('"'!==t&&"'"!==t)throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Gh(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Kh(e,t,n){const r=Bs(e),i=Bs(t);return void 0===r?void 0===i?"_"===n?{inside:!0,outside:!0}:{inside:!1,outside:!1}:1===i?{inside:!0,outside:!0}:{inside:!1,outside:!0}:1===r?void 0===i?{inside:!1,outside:!1}:1===i?{inside:!0,outside:!0}:{inside:!1,outside:!1}:void 0===i?{inside:!1,outside:!1}:1===i?{inside:!0,outside:!1}:{inside:!1,outside:!1}}function Yh(e,t,n,r){const i=function(e){const t=e.options.emphasis||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}(n),a=n.enter("emphasis"),o=n.createTracker(r),s=o.move(i);let l=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),u=Kh(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=Gh(c)+l.slice(1));const d=l.charCodeAt(l.length-1),h=Kh(r.after.charCodeAt(0),d,i);h.inside&&(l=l.slice(0,-1)+Gh(d));const p=o.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},s+l+p}function Zh(e){return e.value||""}function Xh(e,t,n,r){const i=Wh(n),a='"'===i?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),c+=l.move(")"),o(),c}function Qh(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=u,a(),"full"!==i&&c&&c===d?"shortcut"===i?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(d+"]"),l}function Jh(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const e=n.unsafe[a],t=n.compilePattern(e);let i;if(e.atBreak)for(;i=t.exec(r);){let e=i.index;10===r.charCodeAt(e)&&13===r.charCodeAt(e-1)&&e--,r=r.slice(0,e)+" "+r.slice(i.index+1)}}return i+r+i}function ep(e,t){const n=yr(e);return Boolean(!t.options.resourceLink&&e.url&&!e.title&&e.children&&1===e.children.length&&"text"===e.children[0].type&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}function tp(e,t,n,r){const i=Wh(n),a='"'===i?"Quote":"Apostrophe",o=n.createTracker(r);let s,l;if(ep(e,n)){const t=n.stack;n.stack=[],s=n.enter("autolink");let r=o.move("<");return r+=o.move(n.containerPhrasing(e,{before:r,after:">",...o.current()})),r+=o.move(">"),s(),n.stack=t,r}s=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${a}`),c+=o.move(" "+i),c+=o.move(n.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),s(),c}function np(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=u,a(),"full"!==i&&c&&c===d?"shortcut"===i?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(d+"]"),l}function rp(e){const t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function ip(e){const t=e.options.rule||"*";if("*"!==t&&"-"!==t&&"_"!==t)throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}Rh.peek=function(){return"~"},Yh.peek=function(e,t,n){return n.options.emphasis||"*"},Zh.peek=function(){return"<"},Xh.peek=function(){return"!"},Qh.peek=function(){return"!"},Jh.peek=function(){return"`"},tp.peek=function(e,t,n){return ep(e,n)?"<":"["},np.peek=function(){return"["};const ap=Tc(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function op(e,t,n,r){const i=function(e){const t=e.options.strong||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}(n),a=n.enter("strong"),o=n.createTracker(r),s=o.move(i+i);let l=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),u=Kh(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=Gh(c)+l.slice(1));const d=l.charCodeAt(l.length-1),h=Kh(r.after.charCodeAt(0),d,i);h.inside&&(l=l.slice(0,-1)+Gh(d));const p=o.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},s+l+p}op.peek=function(e,t,n){return n.options.strong||"*"};const sp={blockquote:function(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const o=n.indentLines(n.containerFlow(e,a.current()),$h);return i(),o},break:Uh,code:function(e,t,n,r){const i=function(e){const t=e.options.fence||"`";if("`"!==t&&"~"!==t)throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}(n),a=e.value||"",o="`"===i?"GraveAccent":"Tilde";if(function(e,t){return Boolean(!1===t.options.fences&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}(e,n)){const e=n.enter("codeIndented"),t=n.indentLines(a,Vh);return e(),t}const s=n.createTracker(r),l=i.repeat(Math.max(function(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,o=0;if("string"!=typeof t)throw new TypeError("Expected substring");for(;-1!==r;)r===i?++a>o&&(o=a):a=1,i=r+t.length,r=n.indexOf(t,i);return o}(a,i)+1,3)),c=n.enter("codeFenced");let u=s.move(l);if(e.lang){const t=n.enter(`codeFencedLang${o}`);u+=s.move(n.safe(e.lang,{before:u,after:" ",encode:["`"],...s.current()})),t()}if(e.lang&&e.meta){const t=n.enter(`codeFencedMeta${o}`);u+=s.move(" "),u+=s.move(n.safe(e.meta,{before:u,after:"\n",encode:["`"],...s.current()})),t()}return u+=s.move("\n"),a&&(u+=s.move(a+"\n")),u+=s.move(l),c(),u},definition:function(e,t,n,r){const i=Wh(n),a='"'===i?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":"\n",...l.current()}))),s(),e.title&&(s=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),o(),c},emphasis:Yh,hardBreak:Uh,heading:function(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(function(e,t){let n=!1;return Fc(e,function(e){if("value"in e&&/\r?\n|\r/.test(e.value)||"break"===e.type)return n=!0,Oc}),Boolean((!e.depth||e.depth<3)&&yr(e)&&(t.options.setext||n))}(e,n)){const t=n.enter("headingSetext"),r=n.enter("phrasing"),o=n.containerPhrasing(e,{...a.current(),before:"\n",after:"\n"});return r(),t(),o+"\n"+(1===i?"=":"-").repeat(o.length-(Math.max(o.lastIndexOf("\r"),o.lastIndexOf("\n"))+1))}const o="#".repeat(i),s=n.enter("headingAtx"),l=n.enter("phrasing");a.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:"\n",...a.current()});return/^[\t ]/.test(c)&&(c=Gh(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),s(),c},html:Zh,image:Xh,imageReference:Qh,inlineCode:Jh,link:tp,linkReference:np,list:function(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let o=e.ordered?function(e){const t=e.options.bulletOrdered||".";if("."!==t&&")"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}(n):rp(n);const s=e.ordered?"."===o?")":".":function(e){const t=rp(e),n=e.options.bulletOther;if(!n)return"*"===t?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}(n);let l=!(!t||!n.bulletLastUsed)&&o===n.bulletLastUsed;if(!e.ordered){const t=e.children?e.children[0]:void 0;if("*"!==o&&"-"!==o||!t||t.children&&t.children[0]||"list"!==n.stack[n.stack.length-1]||"listItem"!==n.stack[n.stack.length-2]||"list"!==n.stack[n.stack.length-3]||"listItem"!==n.stack[n.stack.length-4]||0!==n.indexStack[n.indexStack.length-1]||0!==n.indexStack[n.indexStack.length-2]||0!==n.indexStack[n.indexStack.length-3]||(l=!0),ip(n)===o&&t){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=a,i(),c},listItem:function(e,t,n,r){const i=function(e){const t=e.options.listItemIndent||"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}(n);let a=n.bulletCurrent||rp(n);t&&"list"===t.type&&t.ordered&&(a=("number"==typeof t.start&&t.start>-1?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+a);let o=a.length+1;("tab"===i||"mixed"===i&&(t&&"list"===t.type&&t.spread||e.spread))&&(o=4*Math.ceil(o/4));const s=n.createTracker(r);s.move(a+" ".repeat(o-a.length)),s.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),function(e,t,n){if(t)return(n?"":" ".repeat(o))+e;return(n?a:a+" ".repeat(o-a.length))+e});return l(),c},paragraph:function(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),o=n.containerPhrasing(e,r);return a(),i(),o},root:function(e,t,n,r){const i=e.children.some(function(e){return ap(e)});return(i?n.containerPhrasing:n.containerFlow).call(n,e,r)},strong:op,text:function(e,t,n,r){return n.safe(e.value,r)},thematicBreak:function(e,t,n){const r=(ip(n)+(n.options.ruleSpaces?" ":"")).repeat(function(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}(n));return n.options.ruleSpaces?r.slice(0,-1):r}};function lp(e){const t=e._align;jt(t,"expected `_align` on table"),this.enter({type:"table",align:t.map(function(e){return"none"===e?null:e}),children:[]},e),this.data.inTable=!0}function cp(e){this.exit(e),this.data.inTable=void 0}function up(e){this.enter({type:"tableRow",children:[]},e)}function dp(e){this.exit(e)}function hp(e){this.enter({type:"tableCell",children:[]},e)}function pp(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,fp));const n=this.stack[this.stack.length-1];jt("inlineCode"===n.type),n.value=t,this.exit(e)}function fp(e,t){return"|"===t?t:e}function mp(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(e,t,n){let r=sp.inlineCode(e,t,n);n.stack.includes("tableCell")&&(r=r.replace(/\|/g,"\\$&"));return r},table:function(e,t,n,r){return s(function(e,t,n){const r=e.children;let i=-1;const a=[],o=t.enter("table");for(;++i<r.length;)a[i]=l(r[i],t,n);return o(),a}(e,n,r),e.align)},tableCell:o,tableRow:function(e,t,n,r){const i=l(e,n,r),a=s([i]);return a.slice(0,a.indexOf("\n"))}}};function o(e,t,n,r){const i=n.enter("tableCell"),o=n.enter("phrasing"),s=n.containerPhrasing(e,{...r,before:a,after:a});return o(),i(),s}function s(e,t){return function(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||Ih,a=[],o=[],s=[],l=[];let c=0,u=-1;for(;++u<e.length;){const t=[],r=[];let a=-1;for(e[u].length>c&&(c=e[u].length);++a<e[u].length;){const o=jh(e[u][a]);if(!1!==n.alignDelimiters){const e=i(o);r[a]=e,(void 0===l[a]||e>l[a])&&(l[a]=e)}t.push(o)}o[u]=t,s[u]=r}let d=-1;if("object"==typeof r&&"length"in r)for(;++d<c;)a[d]=zh(r[d]);else{const e=zh(r);for(;++d<c;)a[d]=e}d=-1;const h=[],p=[];for(;++d<c;){const e=a[d];let t="",r="";99===e?(t=":",r=":"):108===e?t=":":114===e&&(r=":");let i=!1===n.alignDelimiters?1:Math.max(1,l[d]-t.length-r.length);const o=t+"-".repeat(i)+r;!1!==n.alignDelimiters&&(i=t.length+i+r.length,i>l[d]&&(l[d]=i),p[d]=i),h[d]=o}o.splice(1,0,h),s.splice(1,0,p),u=-1;const f=[];for(;++u<o.length;){const e=o[u],t=s[u];d=-1;const r=[];for(;++d<c;){const i=e[d]||"";let o="",s="";if(!1!==n.alignDelimiters){const e=l[d]-(t[d]||0),n=a[d];114===n?o=" ".repeat(e):99===n?e%2?(o=" ".repeat(e/2+.5),s=" ".repeat(e/2-.5)):(o=" ".repeat(e/2),s=o):s=" ".repeat(e)}!1===n.delimiterStart||d||r.push("|"),!1===n.padding||!1===n.alignDelimiters&&""===i||!1===n.delimiterStart&&!d||r.push(" "),!1!==n.alignDelimiters&&r.push(o),r.push(i),!1!==n.alignDelimiters&&r.push(s),!1!==n.padding&&r.push(" "),!1===n.delimiterEnd&&d===c-1||r.push("|")}f.push(!1===n.delimiterEnd?r.join("").replace(/ +$/,""):r.join(""))}return f.join("\n")}(e,{align:t,alignDelimiters:r,padding:n,stringLength:i})}function l(e,t,n){const r=e.children;let i=-1;const a=[],s=t.enter("tableRow");for(;++i<r.length;)a[i]=o(r[i],0,t,n);return s(),a}}function gp(e){const t=this.stack[this.stack.length-2];jt("listItem"===t.type),t.checked="taskListCheckValueChecked"===e.type}function bp(e){const t=this.stack[this.stack.length-2];if(t&&"listItem"===t.type&&"boolean"==typeof t.checked){const e=this.stack[this.stack.length-1];jt("paragraph"===e.type);const n=e.children[0];if(n&&"text"===n.type){const r=t.children;let i,a=-1;for(;++a<r.length;){const e=r[a];if("paragraph"===e.type){i=e;break}}i===e&&(n.value=n.value.slice(1),0===n.value.length?e.children.shift():e.position&&n.position&&"number"==typeof n.position.start.offset&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function yp(e,t,n,r){const i=e.children[0],a="boolean"==typeof e.checked&&i&&"paragraph"===i.type,o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);a&&s.move(o);let l=sp.listItem(e,t,n,{...r,...s.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(e){return e+o})),l}const xp={tokenize:function(e,t,n){let r=0;return function t(a){if((a===fi||a===Ci)&&r<3)return r++,e.consume(a),t;if(a===Gr&&3===r)return e.consume(a),i;return n(a)};function i(e){return e===Tr?n(e):t(e)}},partial:!0},vp={tokenize:function(e,t,n){let r,i,a;return o;function o(t){return t===Gr||t===vi?e.check(wp,l,s)(t):t===Tr||Es(t)||Ms(t)||t!==Wr&&Ts(t)?l(t):(a=!0,e.consume(t),o)}function s(t){return t===vi?r=!0:(i=r,r=void 0),e.consume(t),o}function l(e){return i||r||!a?n(e):t(e)}},partial:!0},kp={tokenize:function(e,t){let n=0,r=0;return i;function i(o){return o===$r?(n++,e.consume(o),i):o===Hr&&r<n?a(o):o===Fr||o===Br||o===jr||o===zr||o===Hr||o===qr||o===Vr||o===Gr||o===ai||o===oi||o===si||o===ui||o===yi||o===vi||o===Ti?e.check(wp,t,a)(o):o===Tr||Es(o)||Ms(o)?t(o):(e.consume(o),i)}function a(t){return t===Hr&&r++,e.consume(t),i}},partial:!0},wp={tokenize:function(e,t,n){return r;function r(o){return o===Fr||o===Br||o===zr||o===Hr||o===qr||o===Vr||o===Gr||o===ai||o===oi||o===ui||o===vi||o===Ti?(e.consume(o),r):o===jr?(e.consume(o),a):o===yi?(e.consume(o),i):o===si||o===Tr||Es(o)||Ms(o)?t(o):n(o)}function i(e){return e===Tr||e===$r||e===gi||Es(e)||Ms(e)?t(e):r(e)}function a(e){return ys(e)?o(e):n(e)}function o(t){return t===oi?(e.consume(t),r):ys(t)?(e.consume(t),o):n(t)}},partial:!0},_p={tokenize:function(e,t,n){return function(t){return e.consume(t),r};function r(e){return xs(e)?n(e):t(e)}},partial:!0},Cp={name:"wwwAutolink",tokenize:function(e,t,n){const r=this;return function(t){if(t!==fi&&t!==Ci||!Mp.call(r,r.previous)||Op(r.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(xp,e.attempt(vp,e.attempt(kp,i),n),n)(t)};function i(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:Mp},Sp={name:"protocolAutolink",tokenize:function(e,t,n){const r=this;let i="",a=!1;return function(t){if((t===pi||t===_i)&&Ap.call(r,r.previous)&&!Op(r.events))return e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(t),e.consume(t),o;return n(t)};function o(t){if(ys(t)&&i.length<5)return i+=String.fromCodePoint(t),e.consume(t),o;if(t===ai){const n=i.toLowerCase();if("http"===n||"https"===n)return e.consume(t),s}return n(t)}function s(t){return t===Kr?(e.consume(t),a?l:(a=!0,s)):n(t)}function l(t){return t===Tr||ks(t)||Es(t)||Ms(t)||Ts(t)?n(t):e.attempt(vp,e.attempt(kp,c),n)(t)}function c(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:Ap},Ep={name:"emailAutolink",tokenize:function(e,t,n){const r=this;let i,a;return function(t){if(!Dp(t)||!Lp.call(r,r.previous)||Op(r.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(t)};function o(t){return Dp(t)?(e.consume(t),o):t===di?(e.consume(t),s):n(t)}function s(t){return t===Gr?e.check(_p,c,l)(t):t===Wr||t===vi||xs(t)?(a=!0,e.consume(t),s):c(t)}function l(t){return e.consume(t),i=!0,s}function c(o){return a&&i&&ys(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(o)):n(o)}},previous:Lp},Np={};let Tp=Yr;for(;Tp<Ei;)Np[Tp]=Ep,Tp++,Tp===ai?Tp=hi:Tp===gi&&(Tp=wi);function Mp(e){return e===Tr||e===$r||e===qr||e===vi||e===gi||e===yi||e===Ti||Es(e)}function Ap(e){return!ys(e)}function Lp(e){return!(e===Kr||Dp(e))}function Dp(e){return e===Ur||e===Wr||e===Gr||e===vi||xs(e)}function Op(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if(("labelLink"===r.type||"labelImage"===r.type)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}Np[Ur]=Ep,Np[Wr]=Ep,Np[Gr]=Ep,Np[vi]=Ep,Np[pi]=[Ep,Sp],Np[_i]=[Ep,Sp],Np[fi]=[Ep,Cp],Np[Ci]=[Ep,Cp];const Pp={tokenize:function(e,t,n){const r=this;return Ds(e,function(e){const i=r.events[r.events.length-1];return i&&"gfmFootnoteDefinitionIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===sa?t(e):n(e)},"gfmFootnoteDefinitionIndent",sa+1)},partial:!0};function Fp(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const e=r.events[i][1];if(e.type===go){o=e;break}if("gfmFootnoteCall"===e.type||e.type===mo||e.type===po||e.type===ho||e.type===vo)break}return function(i){if(jt(i===yi,"expected `]`"),!o||!o._balanced)return n(i);const s=bs(r.sliceSerialize({start:o.end,end:r.now()}));if(s.codePointAt(0)!==xi||!a.includes(s.slice(1)))return n(i);return e.enter("gfmFootnoteCallLabelMarker"),e.consume(i),e.exit("gfmFootnoteCallLabelMarker"),t(i)}}function Bp(e,t){let n,r=e.length;for(;r--;)if(e[r][1].type===go&&"enter"===e[r][0]){n=e[r][1];break}jt(n,"expected `labelStart` to resolve"),e[r+1][1].type=ua,e[r+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},s={type:is,contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},l=[e[r+1],e[r+2],["enter",i,t],e[r+3],e[r+4],["enter",a,t],["exit",a,t],["enter",o,t],["enter",s,t],["exit",s,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",i,t]];return e.splice(r,e.length-r+1,...l),e}function Rp(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,o=0;return function(t){return jt(t===gi,"expected `[`"),e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(t),e.exit("gfmFootnoteCallLabelMarker"),s};function s(t){return t!==xi?n(t):(e.enter("gfmFootnoteCallMarker"),e.consume(t),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(s){if(o>ra||s===yi&&!a||s===Tr||s===gi||Es(s))return n(s);if(s===yi){e.exit("chunkString");const a=e.exit("gfmFootnoteCallString");return i.includes(bs(r.sliceSerialize(a)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(s),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(s)}return Es(s)||(a=!0),o++,e.consume(s),s===bi?c:l}function c(t){return t===gi||t===bi||t===yi?(e.consume(t),o++,l):l(t)}}function Ip(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,o,s=0;return function(t){return jt(t===gi,"expected `[`"),e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),l};function l(t){return t===xi?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(t)}function c(t){if(s>ra||t===yi&&!o||t===Tr||t===gi||Es(t))return n(t);if(t===yi){e.exit("chunkString");const n=e.exit("gfmFootnoteDefinitionLabelString");return a=bs(r.sliceSerialize(n)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d}return Es(t)||(o=!0),s++,e.consume(t),t===bi?u:c}function u(t){return t===gi||t===bi||t===yi?(e.consume(t),s++,c):c(t)}function d(t){return t===ai?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),i.includes(a)||i.push(a),Ds(e,h,"gfmFootnoteDefinitionWhitespace")):n(t)}function h(e){return t(e)}}function jp(e,t,n){return e.check($s,t,e.attempt(Pp,t,n))}function zp(e){e.exit("gfmFootnoteDefinition")}function $p(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:function(e,n,r){const i=this.previous,a=this.events;let o=0;return function(t){if(jt(t===Ti,"expected `~`"),i===Ti&&a[a.length-1][1].type!==_a)return r(t);return e.enter("strikethroughSequenceTemporary"),s(t)};function s(a){const l=Bs(i);if(a===Ti)return o>1?r(a):(e.consume(a),o++,s);if(o<2&&!t)return r(a);const c=e.exit("strikethroughSequenceTemporary"),u=Bs(a);return c._open=!u||u===Di&&Boolean(l),c._close=!l||l===Di&&Boolean(u),n(a)}},resolveAll:function(e,t){let n=-1;for(;++n<e.length;)if("enter"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._close){let r=n;for(;r--;)if("exit"===e[r][0]&&"strikethroughSequenceTemporary"===e[r][1].type&&e[r][1]._open&&e[n][1].end.offset-e[n][1].start.offset===e[r][1].end.offset-e[r][1].start.offset){e[n][1].type="strikethroughSequence",e[r][1].type="strikethroughSequence";const i={type:"strikethrough",start:Object.assign({},e[r][1].start),end:Object.assign({},e[n][1].end)},a={type:"strikethroughText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},o=[["enter",i,t],["enter",e[r][1],t],["exit",e[r][1],t],["enter",a,t]],s=t.parser.constructs.insideSpan.null;s&&us(o,o.length,0,Rs(s,e.slice(r+1,n),t)),us(o,o.length,0,[["exit",a,t],["enter",e[n][1],t],["exit",e[n][1],t],["exit",i,t]]),us(e,r-1,n-r+3,o),n=r+o.length-2;break}}n=-1;for(;++n<e.length;)"strikethroughSequenceTemporary"===e[n][1].type&&(e[n][1].type=ua);return e}};return null==t&&(t=!0),{text:{[Ti]:n},insideSpan:{null:[n]},attentionMarkers:{null:[Ti]}}}class Hp{constructor(){this.map=[]}add(e,t,n){!function(e,t,n,r){let i=0;if(0===n&&0===r.length)return;for(;i<e.map.length;){if(e.map[i][0]===t)return e.map[i][1]+=n,void e.map[i][2].push(...r);i+=1}e.map.push([t,n,r])}(this,e,t,n)}consume(e){if(this.map.sort(function(e,t){return e[0]-t[0]}),0===this.map.length)return;let t=this.map.length;const n=[];for(;t>0;)t-=1,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(e.slice()),e.length=0;let r=n.pop();for(;r;){for(const t of r)e.push(t);r=n.pop()}this.map.length=0}}function qp(e,t){jt("table"===e[t][1].type,"expected table");let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if("enter"===i[0])"tableContent"===i[1].type&&r.push("tableDelimiterMarker"===e[t+1][1].type?"left":"none");else if("tableContent"===i[1].type){if("tableDelimiterMarker"===e[t-1][1].type){const e=r.length-1;r[e]="left"===r[e]?"center":"right"}}else if("tableDelimiterRow"===i[1].type)break}else"enter"===i[0]&&"tableDelimiterRow"===i[1].type&&(n=!0);t+=1}return r}function Up(e,t,n){const r=this;let i,a=0,o=0;return function(e){let t=r.events.length-1;for(;t>-1;){const e=r.events[t][1].type;if(e!==ha&&e!==fa)break;t--}const i=t>-1?r.events[t][1].type:null,a="tableHead"===i||"tableRow"===i?v:s;if(a===v&&r.parser.lazy[r.now().line])return n(e);return a(e)};function s(t){return e.enter("tableHead"),e.enter("tableRow"),function(e){if(e===Ni)return l(e);return i=!0,o+=1,l(e)}(t)}function l(t){return t===Tr?n(t):Ss(t)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter(ha),e.consume(t),e.exit(ha),d):n(t):Ns(t)?Ds(e,l,da)(t):(o+=1,i&&(i=!1,a+=1),t===Ni?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),i=!0,l):(e.enter(ua),c(t)))}function c(t){return t===Tr||t===Ni||Es(t)?(e.exit(ua),l(t)):(e.consume(t),t===bi?u:c)}function u(t){return t===bi||t===Ni?(e.consume(t),c):c(t)}function d(t){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(t):(e.enter("tableDelimiterRow"),i=!1,Ns(t)?(jt(r.parser.constructs.disable.null,"expected `disabled.null`"),Ds(e,h,fa,r.parser.constructs.disable.null.includes("codeIndented")?void 0:sa)(t)):h(t))}function h(t){return t===Wr||t===ai?f(t):t===Ni?(i=!0,e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),p):x(t)}function p(t){return Ns(t)?Ds(e,f,da)(t):f(t)}function f(t){return t===ai?(o+=1,i=!0,e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),m):t===Wr?(o+=1,m(t)):t===Tr||Ss(t)?y(t):x(t)}function m(t){return t===Wr?(e.enter("tableDelimiterFiller"),g(t)):x(t)}function g(t){return t===Wr?(e.consume(t),g):t===ai?(i=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),b):(e.exit("tableDelimiterFiller"),b(t))}function b(t){return Ns(t)?Ds(e,y,da)(t):y(t)}function y(n){return n===Ni?h(n):(n===Tr||Ss(n))&&i&&a===o?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(n)):x(n)}function x(e){return n(e)}function v(t){return e.enter("tableRow"),k(t)}function k(n){return n===Ni?(e.enter("tableCellDivider"),e.consume(n),e.exit("tableCellDivider"),k):n===Tr||Ss(n)?(e.exit("tableRow"),t(n)):Ns(n)?Ds(e,k,da)(n):(e.enter(ua),w(n))}function w(t){return t===Tr||t===Ni||Es(t)?(e.exit(ua),k(t)):(e.consume(t),t===bi?_:w)}function _(t){return t===bi||t===Ni?(e.consume(t),w):w(t)}}function Vp(e,t){let n,r,i,a=-1,o=!0,s=0,l=[0,0,0,0],c=[0,0,0,0],u=!1,d=0;const h=new Hp;for(;++a<e.length;){const p=e[a],f=p[1];"enter"===p[0]?"tableHead"===f.type?(u=!1,0!==d&&(jt(n,"there should be a table opening"),Gp(h,t,d,n,r),r=void 0,d=0),n={type:"table",start:Object.assign({},f.start),end:Object.assign({},f.end)},h.add(a,0,[["enter",n,t]])):"tableRow"===f.type||"tableDelimiterRow"===f.type?(o=!0,i=void 0,l=[0,0,0,0],c=[0,a+1,0,0],u&&(u=!1,r={type:"tableBody",start:Object.assign({},f.start),end:Object.assign({},f.end)},h.add(a,0,[["enter",r,t]])),s="tableDelimiterRow"===f.type?2:r?3:1):!s||f.type!==ua&&"tableDelimiterMarker"!==f.type&&"tableDelimiterFiller"!==f.type?"tableCellDivider"===f.type&&(o?o=!1:(0!==l[1]&&(c[0]=c[1],i=Wp(h,t,l,s,void 0,i)),l=c,c=[l[1],a,0,0])):(o=!1,0===c[2]&&(0!==l[1]&&(c[0]=c[1],i=Wp(h,t,l,s,void 0,i),l=[0,0,0,0]),c[2]=a)):"tableHead"===f.type?(u=!0,d=a):"tableRow"===f.type||"tableDelimiterRow"===f.type?(d=a,0!==l[1]?(c[0]=c[1],i=Wp(h,t,l,s,a,i)):0!==c[1]&&(i=Wp(h,t,c,s,a,i)),s=0):!s||f.type!==ua&&"tableDelimiterMarker"!==f.type&&"tableDelimiterFiller"!==f.type||(c[3]=a)}for(0!==d&&(jt(n,"expected table opening"),Gp(h,t,d,n,r)),h.consume(t.events),a=-1;++a<t.events.length;){const e=t.events[a];"enter"===e[0]&&"table"===e[1].type&&(e[1]._align=qp(t.events,a))}return e}function Wp(e,t,n,r,i,a){const o=1===r?"tableHeader":2===r?"tableDelimiter":"tableData";0!==n[0]&&(jt(a,"expected previous cell enter"),a.end=Object.assign({},Kp(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const s=Kp(t.events,n[1]);if(a={type:o,start:Object.assign({},s),end:Object.assign({},s)},e.add(n[1],0,[["enter",a,t]]),0!==n[2]){const i=Kp(t.events,n[2]),a=Kp(t.events,n[3]),o={type:"tableContent",start:Object.assign({},i),end:Object.assign({},a)};if(e.add(n[2],0,[["enter",o,t]]),jt(0!==n[3]),2!==r){const r=t.events[n[2]],i=t.events[n[3]];if(r[1].end=Object.assign({},i[1].end),r[1].type=rs,r[1].contentType=Wi,n[3]>n[2]+1){const t=n[2]+1,r=n[3]-n[2]-1;e.add(t,r,[])}}e.add(n[3]+1,0,[["exit",o,t]])}return void 0!==i&&(a.end=Object.assign({},Kp(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function Gp(e,t,n,r,i){const a=[],o=Kp(t.events,n);i&&(i.end=Object.assign({},o),a.push(["exit",i,t])),r.end=Object.assign({},o),a.push(["exit",r,t]),e.add(n+1,0,a)}function Kp(e,t){const n=e[t],r="enter"===n[0]?"start":"end";return n[1][r]}const Yp={name:"tasklistCheck",tokenize:function(e,t,n){const r=this;return function(t){if(jt(t===gi,"expected `[`"),r.previous!==Tr||!r._gfmTasklistFirstContentOfListItem)return n(t);return e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),i};function i(t){return Es(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),a):t===mi||t===Si?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),a):n(t)}function a(t){return t===yi?(e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(t)}function o(r){return Ss(r)?t(r):Ns(r)?e.check({tokenize:Zp},t,n)(r):n(r)}}};function Zp(e,t,n){return Ds(e,function(e){return e===Tr?n(e):t(e)},da)}const Xp={};function Qp(e){const t=e||Xp,n=this.data(),r=n.micromarkExtensions||(n.micromarkExtensions=[]),i=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);r.push(function(e){return ps([{text:Np},{document:{[gi]:{name:"gfmFootnoteDefinition",tokenize:Ip,continuation:{tokenize:jp},exit:zp}},text:{[gi]:{name:"gfmFootnoteCall",tokenize:Rp},[yi]:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Fp,resolveTo:Bp}}},$p(e),{flow:{null:{name:"table",tokenize:Up,resolveAll:Vp}}},{text:{[gi]:Yp}}])}(t)),i.push([{transforms:[yh],enter:{literalAutolink:hh,literalAutolinkEmail:ph,literalAutolinkHttp:ph,literalAutolinkWww:ph},exit:{literalAutolink:bh,literalAutolinkEmail:gh,literalAutolinkHttp:fh,literalAutolinkWww:mh}},{enter:{gfmFootnoteCallString:wh,gfmFootnoteCall:_h,gfmFootnoteDefinitionLabelString:Ch,gfmFootnoteDefinition:Sh},exit:{gfmFootnoteCallString:Eh,gfmFootnoteCall:Nh,gfmFootnoteDefinitionLabelString:Th,gfmFootnoteDefinition:Mh}},{canContainEols:["delete"],enter:{strikethrough:Fh},exit:{strikethrough:Bh}},{enter:{table:lp,tableData:hp,tableHeader:hp,tableRow:up},exit:{codeText:pp,table:cp,tableData:dp,tableHeader:dp,tableRow:dp}},{exit:{taskListCheckValueChecked:gp,taskListCheckValueUnchecked:gp,paragraph:bp}}]),a.push(function(e){return{extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:uh,notInConstruct:dh},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:uh,notInConstruct:dh},{character:":",before:"[ps]",after:"\\/",inConstruct:uh,notInConstruct:dh}]},Lh(e),{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Ph}],handlers:{delete:Rh}},mp(e),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:yp}}]}}(t))}const Jp={},ef=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=e?.nonce||e?.getAttribute("nonce");i=t.map(e=>{if((e=function(e){return"/"+e}(e))in Jp)return;Jp[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script"),i.crossOrigin="",i.href=e,n&&i.setAttribute("nonce",n),document.head.appendChild(i),t?new Promise((t,n)=>{i.addEventListener("load",t),i.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}),r=Promise.all(i.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))}var i;function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})};var tf,nf={exports:{}};var rf=(tf||(tf=1,nf.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",a="minute",o="hour",s="day",l="week",c="month",u="quarter",d="year",h="date",p="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},b=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:b,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+b(r,2,"0")+":"+b(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,c),a=n-i<0,o=t.clone().add(r+(a?-1:1),c);return+(-(r+(n-i)/(a?i-o:o-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:s,D:h,h:o,m:a,s:i,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},x="en",v={};v[x]=g;var k="$isDayjsObject",w=function(e){return e instanceof E||!(!e||!e[k])},_=function e(t,n,r){var i;if(!t)return x;if("string"==typeof t){var a=t.toLowerCase();v[a]&&(i=a),n&&(v[a]=n,i=a);var o=t.split("-");if(!i&&o.length>1)return e(o[0])}else{var s=t.name;v[s]=t,i=s}return!r&&i&&(x=i),i||!r&&x},C=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new E(n)},S=y;S.l=_,S.i=w,S.w=function(e,t){return C(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var E=function(){function g(e){this.$L=_(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[k]=!0}var b=g.prototype;return b.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(f);if(r){var i=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.init()},b.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},b.$utils=function(){return S},b.isValid=function(){return!(this.$d.toString()===p)},b.isSame=function(e,t){var n=C(e);return this.startOf(t)<=n&&n<=this.endOf(t)},b.isAfter=function(e,t){return C(e)<this.startOf(t)},b.isBefore=function(e,t){return this.endOf(t)<C(e)},b.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(e,t){var n=this,r=!!S.u(t)||t,u=S.p(e),p=function(e,t){var i=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},f=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,b=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return r?p(1,0):p(31,11);case c:return r?p(1,g):p(0,g+1);case l:var x=this.$locale().weekStart||0,v=(m<x?m+7:m)-x;return p(r?b-v:b+(6-v),g);case s:case h:return f(y+"Hours",0);case o:return f(y+"Minutes",1);case a:return f(y+"Seconds",2);case i:return f(y+"Milliseconds",3);default:return this.clone()}},b.endOf=function(e){return this.startOf(e,!1)},b.$set=function(e,t){var n,l=S.p(e),u="set"+(this.$u?"UTC":""),p=(n={},n[s]=u+"Date",n[h]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[o]=u+"Hours",n[a]=u+"Minutes",n[i]=u+"Seconds",n[r]=u+"Milliseconds",n)[l],f=l===s?this.$D+(t-this.$W):t;if(l===c||l===d){var m=this.clone().set(h,1);m.$d[p](f),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},b.set=function(e,t){return this.clone().$set(e,t)},b.get=function(e){return this[S.p(e)]()},b.add=function(r,u){var h,p=this;r=Number(r);var f=S.p(u),m=function(e){var t=C(p);return S.w(t.date(t.date()+Math.round(e*r)),p)};if(f===c)return this.set(c,this.$M+r);if(f===d)return this.set(d,this.$y+r);if(f===s)return m(1);if(f===l)return m(7);var g=(h={},h[a]=t,h[o]=n,h[i]=e,h)[f]||1,b=this.$d.getTime()+r*g;return S.w(b,this)},b.subtract=function(e,t){return this.add(-1*e,t)},b.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=S.z(this),a=this.$H,o=this.$m,s=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,d=function(e,n,i,a){return e&&(e[n]||e(t,r))||i[n].slice(0,a)},h=function(e){return S.s(a%12||12,e,"0")},f=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(m,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return S.s(t.$y,4,"0");case"M":return s+1;case"MM":return S.s(s+1,2,"0");case"MMM":return d(n.monthsShort,s,c,3);case"MMMM":return d(c,s);case"D":return t.$D;case"DD":return S.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,l,2);case"ddd":return d(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(a);case"HH":return S.s(a,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return f(a,o,!0);case"A":return f(a,o,!1);case"m":return String(o);case"mm":return S.s(o,2,"0");case"s":return String(t.$s);case"ss":return S.s(t.$s,2,"0");case"SSS":return S.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")})},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(r,h,p){var f,m=this,g=S.p(h),b=C(r),y=(b.utcOffset()-this.utcOffset())*t,x=this-b,v=function(){return S.m(m,b)};switch(g){case d:f=v()/12;break;case c:f=v();break;case u:f=v()/3;break;case l:f=(x-y)/6048e5;break;case s:f=(x-y)/864e5;break;case o:f=x/n;break;case a:f=x/t;break;case i:f=x/e;break;default:f=x}return p?f:S.a(f)},b.daysInMonth=function(){return this.endOf(c).$D},b.$locale=function(){return v[this.$L]},b.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=_(e,t,!0);return r&&(n.$L=r),n},b.clone=function(){return S.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},g}(),N=E.prototype;return C.prototype=N,[["$ms",r],["$s",i],["$m",a],["$H",o],["$W",s],["$M",c],["$y",d],["$D",h]].forEach(function(e){N[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),C.extend=function(e,t){return e.$i||(e(t,E,C),e.$i=!0),C},C.locale=_,C.isDayjs=w,C.unix=function(e){return C(1e3*e)},C.en=v[x],C.Ls=v,C.p={},C}()),nf.exports);const af=e(rf),of={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e),hsl2rgb:({h:e,s:t,l:n},r)=>{if(!t)return 2.55*n;e/=360,t/=100;const i=(n/=100)<.5?n*(1+t):n+t-n*t,a=2*n-i;switch(r){case"r":return 255*of.hue2rgb(a,i,e+1/3);case"g":return 255*of.hue2rgb(a,i,e);case"b":return 255*of.hue2rgb(a,i,e-1/3)}},rgb2hsl:({r:e,g:t,b:n},r)=>{e/=255,t/=255,n/=255;const i=Math.max(e,t,n),a=Math.min(e,t,n),o=(i+a)/2;if("l"===r)return 100*o;if(i===a)return 0;const s=i-a;if("s"===r)return 100*(o>.5?s/(2-i-a):s/(i+a));switch(i){case e:return 60*((t-n)/s+(t<n?6:0));case t:return 60*((n-e)/s+2);case n:return 60*((e-t)/s+4);default:return-1}}},sf={clamp:(e,t,n)=>t>n?Math.min(t,Math.max(n,e)):Math.min(n,Math.max(t,e)),round:e=>Math.round(1e10*e)/1e10},lf={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},cf={channel:of,lang:sf,unit:lf},uf={};for(let UR=0;UR<=255;UR++)uf[UR]=cf.unit.dec2hex(UR);const df=0,hf=1,pf=2;class ff{constructor(){this.type=df}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=df}is(e){return this.type===e}}const mf=new class{constructor(e,t){this.color=t,this.changed=!1,this.data=e,this.type=new ff}set(e,t){return this.color=t,this.changed=!1,this.data=e,this.type.type=df,this}_ensureHSL(){const e=this.data,{h:t,s:n,l:r}=e;void 0===t&&(e.h=cf.channel.rgb2hsl(e,"h")),void 0===n&&(e.s=cf.channel.rgb2hsl(e,"s")),void 0===r&&(e.l=cf.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:t,g:n,b:r}=e;void 0===t&&(e.r=cf.channel.hsl2rgb(e,"r")),void 0===n&&(e.g=cf.channel.hsl2rgb(e,"g")),void 0===r&&(e.b=cf.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,t=e.r;return this.type.is(pf)||void 0===t?(this._ensureHSL(),cf.channel.hsl2rgb(e,"r")):t}get g(){const e=this.data,t=e.g;return this.type.is(pf)||void 0===t?(this._ensureHSL(),cf.channel.hsl2rgb(e,"g")):t}get b(){const e=this.data,t=e.b;return this.type.is(pf)||void 0===t?(this._ensureHSL(),cf.channel.hsl2rgb(e,"b")):t}get h(){const e=this.data,t=e.h;return this.type.is(hf)||void 0===t?(this._ensureRGB(),cf.channel.rgb2hsl(e,"h")):t}get s(){const e=this.data,t=e.s;return this.type.is(hf)||void 0===t?(this._ensureRGB(),cf.channel.rgb2hsl(e,"s")):t}get l(){const e=this.data,t=e.l;return this.type.is(hf)||void 0===t?(this._ensureRGB(),cf.channel.rgb2hsl(e,"l")):t}get a(){return this.data.a}set r(e){this.type.set(hf),this.changed=!0,this.data.r=e}set g(e){this.type.set(hf),this.changed=!0,this.data.g=e}set b(e){this.type.set(hf),this.changed=!0,this.data.b=e}set h(e){this.type.set(pf),this.changed=!0,this.data.h=e}set s(e){this.type.set(pf),this.changed=!0,this.data.s=e}set l(e){this.type.set(pf),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}({r:0,g:0,b:0,a:0},"transparent"),gf={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(35!==e.charCodeAt(0))return;const t=e.match(gf.re);if(!t)return;const n=t[1],r=parseInt(n,16),i=n.length,a=i%4==0,o=i>4,s=o?1:17,l=o?8:4,c=a?0:-1,u=o?255:15;return mf.set({r:(r>>l*(c+3)&u)*s,g:(r>>l*(c+2)&u)*s,b:(r>>l*(c+1)&u)*s,a:a?(r&u)*s/255:1},e)},stringify:e=>{const{r:t,g:n,b:r,a:i}=e;return i<1?`#${uf[Math.round(t)]}${uf[Math.round(n)]}${uf[Math.round(r)]}${uf[Math.round(255*i)]}`:`#${uf[Math.round(t)]}${uf[Math.round(n)]}${uf[Math.round(r)]}`}},bf={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(bf.hueRe);if(t){const[,e,n]=t;switch(n){case"grad":return cf.channel.clamp.h(.9*parseFloat(e));case"rad":return cf.channel.clamp.h(180*parseFloat(e)/Math.PI);case"turn":return cf.channel.clamp.h(360*parseFloat(e))}}return cf.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(104!==t&&72!==t)return;const n=e.match(bf.re);if(!n)return;const[,r,i,a,o,s]=n;return mf.set({h:bf._hue2deg(r),s:cf.channel.clamp.s(parseFloat(i)),l:cf.channel.clamp.l(parseFloat(a)),a:o?cf.channel.clamp.a(s?parseFloat(o)/100:parseFloat(o)):1},e)},stringify:e=>{const{h:t,s:n,l:r,a:i}=e;return i<1?`hsla(${cf.lang.round(t)}, ${cf.lang.round(n)}%, ${cf.lang.round(r)}%, ${i})`:`hsl(${cf.lang.round(t)}, ${cf.lang.round(n)}%, ${cf.lang.round(r)}%)`}},yf={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=yf.colors[e];if(t)return gf.parse(t)},stringify:e=>{const t=gf.stringify(e);for(const n in yf.colors)if(yf.colors[n]===t)return n}},xf={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(114!==t&&82!==t)return;const n=e.match(xf.re);if(!n)return;const[,r,i,a,o,s,l,c,u]=n;return mf.set({r:cf.channel.clamp.r(i?2.55*parseFloat(r):parseFloat(r)),g:cf.channel.clamp.g(o?2.55*parseFloat(a):parseFloat(a)),b:cf.channel.clamp.b(l?2.55*parseFloat(s):parseFloat(s)),a:c?cf.channel.clamp.a(u?parseFloat(c)/100:parseFloat(c)):1},e)},stringify:e=>{const{r:t,g:n,b:r,a:i}=e;return i<1?`rgba(${cf.lang.round(t)}, ${cf.lang.round(n)}, ${cf.lang.round(r)}, ${cf.lang.round(i)})`:`rgb(${cf.lang.round(t)}, ${cf.lang.round(n)}, ${cf.lang.round(r)})`}},vf={format:{keyword:yf,hex:gf,rgb:xf,rgba:xf,hsl:bf,hsla:bf},parse:e=>{if("string"!=typeof e)return e;const t=gf.parse(e)||xf.parse(e)||bf.parse(e)||yf.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(pf)||void 0===e.data.r?bf.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?xf.stringify(e):gf.stringify(e)},kf=(e,t)=>{const n=vf.parse(e);for(const r in t)n[r]=cf.channel.clamp[r](t[r]);return vf.stringify(n)},wf=(e,t,n=0,r=1)=>{if("number"!=typeof e)return kf(e,{a:t});const i=mf.set({r:cf.channel.clamp.r(e),g:cf.channel.clamp.g(t),b:cf.channel.clamp.b(n),a:cf.channel.clamp.a(r)});return vf.stringify(i)},_f=e=>(e=>{const{r:t,g:n,b:r}=vf.parse(e),i=.2126*cf.channel.toLinear(t)+.7152*cf.channel.toLinear(n)+.0722*cf.channel.toLinear(r);return cf.lang.round(i)})(e)>=.5,Cf=e=>!_f(e),Sf=(e,t,n)=>{const r=vf.parse(e),i=r[t],a=cf.channel.clamp[t](i+n);return i!==a&&(r[t]=a),vf.stringify(r)},Ef=(e,t)=>Sf(e,"l",t),Nf=(e,t)=>Sf(e,"l",-t),Tf=(e,t)=>{const n=vf.parse(e),r={};for(const i in t)t[i]&&(r[i]=n[i]+t[i]);return kf(e,r)},Mf=(e,t=100)=>{const n=vf.parse(e);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,((e,t,n=50)=>{const{r:r,g:i,b:a,a:o}=vf.parse(e),{r:s,g:l,b:c,a:u}=vf.parse(t),d=n/100,h=2*d-1,p=o-u,f=((h*p===-1?h:(h+p)/(1+h*p))+1)/2,m=1-f;return wf(r*f+s*m,i*f+l*m,a*f+c*m,o*d+u*(1-d))})(n,e,t)},{entries:Af,setPrototypeOf:Lf,isFrozen:Df,getPrototypeOf:Of,getOwnPropertyDescriptor:Pf}=Object;let{freeze:Ff,seal:Bf,create:Rf}=Object,{apply:If,construct:jf}="undefined"!=typeof Reflect&&Reflect;Ff||(Ff=function(e){return e}),Bf||(Bf=function(e){return e}),If||(If=function(e,t,n){return e.apply(t,n)}),jf||(jf=function(e,t){return new e(...t)});const zf=tm(Array.prototype.forEach),$f=tm(Array.prototype.lastIndexOf),Hf=tm(Array.prototype.pop),qf=tm(Array.prototype.push),Uf=tm(Array.prototype.splice),Vf=tm(String.prototype.toLowerCase),Wf=tm(String.prototype.toString),Gf=tm(String.prototype.match),Kf=tm(String.prototype.replace),Yf=tm(String.prototype.indexOf),Zf=tm(String.prototype.trim),Xf=tm(Object.prototype.hasOwnProperty),Qf=tm(RegExp.prototype.test),Jf=(em=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return jf(em,t)});var em;function tm(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return If(e,t,r)}}function nm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vf;Lf&&Lf(e,null);let r=t.length;for(;r--;){let i=t[r];if("string"==typeof i){const e=n(i);e!==i&&(Df(t)||(t[r]=e),i=e)}e[i]=!0}return e}function rm(e){for(let t=0;t<e.length;t++){Xf(e,t)||(e[t]=null)}return e}function im(e){const t=Rf(null);for(const[n,r]of Af(e)){Xf(e,n)&&(Array.isArray(r)?t[n]=rm(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=im(r):t[n]=r)}return t}function am(e,t){for(;null!==e;){const n=Pf(e,t);if(n){if(n.get)return tm(n.get);if("function"==typeof n.value)return tm(n.value)}e=Of(e)}return function(){return null}}const om=Ff(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),sm=Ff(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),lm=Ff(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),cm=Ff(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),um=Ff(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),dm=Ff(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),hm=Ff(["#text"]),pm=Ff(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),fm=Ff(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mm=Ff(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),gm=Ff(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),bm=Bf(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ym=Bf(/<%[\w\W]*|[\w\W]*%>/gm),xm=Bf(/\$\{[\w\W]*/gm),vm=Bf(/^data-[\-\w.\u00B7-\uFFFF]+$/),km=Bf(/^aria-[\-\w]+$/),wm=Bf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_m=Bf(/^(?:\w+script|data):/i),Cm=Bf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Sm=Bf(/^html$/i),Em=Bf(/^[a-z][.\w]*(-[.\w]+)+$/i);var Nm=Object.freeze({__proto__:null,ARIA_ATTR:km,ATTR_WHITESPACE:Cm,CUSTOM_ELEMENT:Em,DATA_ATTR:vm,DOCTYPE_NAME:Sm,ERB_EXPR:ym,IS_ALLOWED_URI:wm,IS_SCRIPT_OR_DATA:_m,MUSTACHE_EXPR:bm,TMPLIT_EXPR:xm});const Tm=1,Mm=3,Am=7,Lm=8,Dm=9,Om=function(){return"undefined"==typeof window?null:window};var Pm,Fm=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Om();const n=t=>e(t);if(n.version="3.2.6",n.removed=[],!t||!t.document||t.document.nodeType!==Dm||!t.Element)return n.isSupported=!1,n;let{document:r}=t;const i=r,a=i.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:l,Element:c,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:p,trustedTypes:f}=t,m=c.prototype,g=am(m,"cloneNode"),b=am(m,"remove"),y=am(m,"nextSibling"),x=am(m,"childNodes"),v=am(m,"parentNode");if("function"==typeof s){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let k,w="";const{implementation:_,createNodeIterator:C,createDocumentFragment:S,getElementsByTagName:E}=r,{importNode:N}=i;let T={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof Af&&"function"==typeof v&&_&&void 0!==_.createHTMLDocument;const{MUSTACHE_EXPR:M,ERB_EXPR:A,TMPLIT_EXPR:L,DATA_ATTR:D,ARIA_ATTR:O,IS_SCRIPT_OR_DATA:P,ATTR_WHITESPACE:F,CUSTOM_ELEMENT:B}=Nm;let{IS_ALLOWED_URI:R}=Nm,I=null;const j=nm({},[...om,...sm,...lm,...um,...hm]);let z=null;const $=nm({},[...pm,...fm,...mm,...gm]);let H=Object.seal(Rf(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,U=null,V=!0,W=!0,G=!1,K=!0,Y=!1,Z=!0,X=!1,Q=!1,J=!1,ee=!1,te=!1,ne=!1,re=!0,ie=!1,ae=!0,oe=!1,se={},le=null;const ce=nm({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ue=null;const de=nm({},["audio","video","img","source","image","track"]);let he=null;const pe=nm({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),fe="http://www.w3.org/1998/Math/MathML",me="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let be=ge,ye=!1,xe=null;const ve=nm({},[fe,me,ge],Wf);let ke=nm({},["mi","mo","mn","ms","mtext"]),we=nm({},["annotation-xml"]);const _e=nm({},["title","style","font","a","script"]);let Ce=null;const Se=["application/xhtml+xml","text/html"];let Ee=null,Ne=null;const Te=r.createElement("form"),Me=function(e){return e instanceof RegExp||e instanceof Function},Ae=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ne||Ne!==e){if(e&&"object"==typeof e||(e={}),e=im(e),Ce=-1===Se.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Ee="application/xhtml+xml"===Ce?Wf:Vf,I=Xf(e,"ALLOWED_TAGS")?nm({},e.ALLOWED_TAGS,Ee):j,z=Xf(e,"ALLOWED_ATTR")?nm({},e.ALLOWED_ATTR,Ee):$,xe=Xf(e,"ALLOWED_NAMESPACES")?nm({},e.ALLOWED_NAMESPACES,Wf):ve,he=Xf(e,"ADD_URI_SAFE_ATTR")?nm(im(pe),e.ADD_URI_SAFE_ATTR,Ee):pe,ue=Xf(e,"ADD_DATA_URI_TAGS")?nm(im(de),e.ADD_DATA_URI_TAGS,Ee):de,le=Xf(e,"FORBID_CONTENTS")?nm({},e.FORBID_CONTENTS,Ee):ce,q=Xf(e,"FORBID_TAGS")?nm({},e.FORBID_TAGS,Ee):im({}),U=Xf(e,"FORBID_ATTR")?nm({},e.FORBID_ATTR,Ee):im({}),se=!!Xf(e,"USE_PROFILES")&&e.USE_PROFILES,V=!1!==e.ALLOW_ARIA_ATTR,W=!1!==e.ALLOW_DATA_ATTR,G=e.ALLOW_UNKNOWN_PROTOCOLS||!1,K=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Y=e.SAFE_FOR_TEMPLATES||!1,Z=!1!==e.SAFE_FOR_XML,X=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,J=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,ie=e.SANITIZE_NAMED_PROPS||!1,ae=!1!==e.KEEP_CONTENT,oe=e.IN_PLACE||!1,R=e.ALLOWED_URI_REGEXP||wm,be=e.NAMESPACE||ge,ke=e.MATHML_TEXT_INTEGRATION_POINTS||ke,we=e.HTML_INTEGRATION_POINTS||we,H=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Me(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(H.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Me(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(H.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(H.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Y&&(W=!1),te&&(ee=!0),se&&(I=nm({},hm),z=[],!0===se.html&&(nm(I,om),nm(z,pm)),!0===se.svg&&(nm(I,sm),nm(z,fm),nm(z,gm)),!0===se.svgFilters&&(nm(I,lm),nm(z,fm),nm(z,gm)),!0===se.mathMl&&(nm(I,um),nm(z,mm),nm(z,gm))),e.ADD_TAGS&&(I===j&&(I=im(I)),nm(I,e.ADD_TAGS,Ee)),e.ADD_ATTR&&(z===$&&(z=im(z)),nm(z,e.ADD_ATTR,Ee)),e.ADD_URI_SAFE_ATTR&&nm(he,e.ADD_URI_SAFE_ATTR,Ee),e.FORBID_CONTENTS&&(le===ce&&(le=im(le)),nm(le,e.FORBID_CONTENTS,Ee)),ae&&(I["#text"]=!0),X&&nm(I,["html","head","body"]),I.table&&(nm(I,["tbody"]),delete q.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Jf('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Jf('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=e.TRUSTED_TYPES_POLICY,w=k.createHTML("")}else void 0===k&&(k=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(HA){return null}}(f,a)),null!==k&&"string"==typeof w&&(w=k.createHTML(""));Ff&&Ff(e),Ne=e}},Le=nm({},[...sm,...lm,...cm]),De=nm({},[...um,...dm]),Oe=function(e){qf(n.removed,{element:e});try{v(e).removeChild(e)}catch(HA){b(e)}},Pe=function(e,t){try{qf(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(HA){qf(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{Oe(t)}catch(HA){}else try{t.setAttribute(e,"")}catch(HA){}},Fe=function(e){let t=null,n=null;if(J)e="<remove></remove>"+e;else{const t=Gf(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===Ce&&be===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=k?k.createHTML(e):e;if(be===ge)try{t=(new p).parseFromString(i,Ce)}catch(HA){}if(!t||!t.documentElement){t=_.createDocument(be,"template",null);try{t.documentElement.innerHTML=ye?w:i}catch(HA){}}const a=t.body||t.documentElement;return e&&n&&a.insertBefore(r.createTextNode(n),a.childNodes[0]||null),be===ge?E.call(t,X?"html":"body")[0]:X?t.documentElement:a},Be=function(e){return C.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Re=function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Ie=function(e){return"function"==typeof l&&e instanceof l};function je(e,t,r){zf(e,e=>{e.call(n,t,r,Ne)})}const ze=function(e){let t=null;if(je(T.beforeSanitizeElements,e,null),Re(e))return Oe(e),!0;const r=Ee(e.nodeName);if(je(T.uponSanitizeElement,e,{tagName:r,allowedTags:I}),Z&&e.hasChildNodes()&&!Ie(e.firstElementChild)&&Qf(/<[/\w!]/g,e.innerHTML)&&Qf(/<[/\w!]/g,e.textContent))return Oe(e),!0;if(e.nodeType===Am)return Oe(e),!0;if(Z&&e.nodeType===Lm&&Qf(/<[/\w]/g,e.data))return Oe(e),!0;if(!I[r]||q[r]){if(!q[r]&&He(r)){if(H.tagNameCheck instanceof RegExp&&Qf(H.tagNameCheck,r))return!1;if(H.tagNameCheck instanceof Function&&H.tagNameCheck(r))return!1}if(ae&&!le[r]){const t=v(e)||e.parentNode,n=x(e)||e.childNodes;if(n&&t){for(let r=n.length-1;r>=0;--r){const i=g(n[r],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,y(e))}}}return Oe(e),!0}return e instanceof c&&!function(e){let t=v(e);t&&t.tagName||(t={namespaceURI:be,tagName:"template"});const n=Vf(e.tagName),r=Vf(t.tagName);return!!xe[e.namespaceURI]&&(e.namespaceURI===me?t.namespaceURI===ge?"svg"===n:t.namespaceURI===fe?"svg"===n&&("annotation-xml"===r||ke[r]):Boolean(Le[n]):e.namespaceURI===fe?t.namespaceURI===ge?"math"===n:t.namespaceURI===me?"math"===n&&we[r]:Boolean(De[n]):e.namespaceURI===ge?!(t.namespaceURI===me&&!we[r])&&!(t.namespaceURI===fe&&!ke[r])&&!De[n]&&(_e[n]||!Le[n]):!("application/xhtml+xml"!==Ce||!xe[e.namespaceURI]))}(e)?(Oe(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!Qf(/<\/no(script|embed|frames)/i,e.innerHTML)?(Y&&e.nodeType===Mm&&(t=e.textContent,zf([M,A,L],e=>{t=Kf(t,e," ")}),e.textContent!==t&&(qf(n.removed,{element:e.cloneNode()}),e.textContent=t)),je(T.afterSanitizeElements,e,null),!1):(Oe(e),!0)},$e=function(e,t,n){if(re&&("id"===t||"name"===t)&&(n in r||n in Te))return!1;if(W&&!U[t]&&Qf(D,t));else if(V&&Qf(O,t));else if(!z[t]||U[t]){if(!(He(e)&&(H.tagNameCheck instanceof RegExp&&Qf(H.tagNameCheck,e)||H.tagNameCheck instanceof Function&&H.tagNameCheck(e))&&(H.attributeNameCheck instanceof RegExp&&Qf(H.attributeNameCheck,t)||H.attributeNameCheck instanceof Function&&H.attributeNameCheck(t))||"is"===t&&H.allowCustomizedBuiltInElements&&(H.tagNameCheck instanceof RegExp&&Qf(H.tagNameCheck,n)||H.tagNameCheck instanceof Function&&H.tagNameCheck(n))))return!1}else if(he[t]);else if(Qf(R,Kf(n,F,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Yf(n,"data:")||!ue[e]){if(G&&!Qf(P,Kf(n,F,"")));else if(n)return!1}else;return!0},He=function(e){return"annotation-xml"!==e&&Gf(e,B)},qe=function(e){je(T.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Re(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z,forceKeepAttr:void 0};let i=t.length;for(;i--;){const a=t[i],{name:o,namespaceURI:s,value:l}=a,c=Ee(o),u=l;let d="value"===o?u:Zf(u);if(r.attrName=c,r.attrValue=d,r.keepAttr=!0,r.forceKeepAttr=void 0,je(T.uponSanitizeAttribute,e,r),d=r.attrValue,!ie||"id"!==c&&"name"!==c||(Pe(o,e),d="user-content-"+d),Z&&Qf(/((--!?|])>)|<\/(style|title)/i,d)){Pe(o,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){Pe(o,e);continue}if(!K&&Qf(/\/>/i,d)){Pe(o,e);continue}Y&&zf([M,A,L],e=>{d=Kf(d,e," ")});const h=Ee(e.nodeName);if($e(h,c,d)){if(k&&"object"==typeof f&&"function"==typeof f.getAttributeType)if(s);else switch(f.getAttributeType(h,c)){case"TrustedHTML":d=k.createHTML(d);break;case"TrustedScriptURL":d=k.createScriptURL(d)}if(d!==u)try{s?e.setAttributeNS(s,o,d):e.setAttribute(o,d),Re(e)?Oe(e):Hf(n.removed)}catch(HA){Pe(o,e)}}else Pe(o,e)}je(T.afterSanitizeAttributes,e,null)},Ue=function e(t){let n=null;const r=Be(t);for(je(T.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)je(T.uponSanitizeShadowNode,n,null),ze(n),qe(n),n.content instanceof o&&e(n.content);je(T.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,a=null,s=null,c=null;if(ye=!e,ye&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Ie(e)){if("function"!=typeof e.toString)throw Jf("toString is not a function");if("string"!=typeof(e=e.toString()))throw Jf("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Q||Ae(t),n.removed=[],"string"==typeof e&&(oe=!1),oe){if(e.nodeName){const t=Ee(e.nodeName);if(!I[t]||q[t])throw Jf("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)r=Fe("\x3c!----\x3e"),a=r.ownerDocument.importNode(e,!0),a.nodeType===Tm&&"BODY"===a.nodeName||"HTML"===a.nodeName?r=a:r.appendChild(a);else{if(!ee&&!Y&&!X&&-1===e.indexOf("<"))return k&&ne?k.createHTML(e):e;if(r=Fe(e),!r)return ee?null:ne?w:""}r&&J&&Oe(r.firstChild);const u=Be(oe?e:r);for(;s=u.nextNode();)ze(s),qe(s),s.content instanceof o&&Ue(s.content);if(oe)return e;if(ee){if(te)for(c=S.call(r.ownerDocument);r.firstChild;)c.appendChild(r.firstChild);else c=r;return(z.shadowroot||z.shadowrootmode)&&(c=N.call(i,c,!0)),c}let d=X?r.outerHTML:r.innerHTML;return X&&I["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&Qf(Sm,r.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+d),Y&&zf([M,A,L],e=>{d=Kf(d,e," ")}),k&&ne?k.createHTML(d):d},n.setConfig=function(){Ae(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Q=!0},n.clearConfig=function(){Ne=null,Q=!1},n.isValidAttribute=function(e,t,n){Ne||Ae({});const r=Ee(e),i=Ee(t);return $e(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&qf(T[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=$f(T[e],t);return-1===n?void 0:Uf(T[e],n,1)[0]}return Hf(T[e])},n.removeHooks=function(e){T[e]=[]},n.removeAllHooks=function(){T={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}(),Bm=Object.defineProperty,Rm=(e,t)=>Bm(e,"name",{value:t,configurable:!0}),Im=(e,t)=>{for(var n in t)Bm(e,n,{get:t[n],enumerable:!0})},jm={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},zm={trace:Rm((...e)=>{},"trace"),debug:Rm((...e)=>{},"debug"),info:Rm((...e)=>{},"info"),warn:Rm((...e)=>{},"warn"),error:Rm((...e)=>{},"error"),fatal:Rm((...e)=>{},"fatal")},$m=Rm(function(e="fatal"){let t=jm.fatal;"string"==typeof e?e.toLowerCase()in jm&&(t=jm[e]):"number"==typeof e&&(t=e),zm.trace=()=>{},zm.debug=()=>{},zm.info=()=>{},zm.warn=()=>{},zm.error=()=>{},zm.fatal=()=>{},t<=jm.fatal&&(zm.fatal=(console.error,function(){}.bind())),t<=jm.error&&(zm.error=(console.error,function(){}.bind())),t<=jm.warn&&(zm.warn=(console.warn,function(){}.bind())),t<=jm.info&&(zm.info=(console.info,function(){}.bind())),t<=jm.debug&&(zm.debug=(console.debug,function(){}.bind())),t<=jm.trace&&(zm.trace=(console.debug,function(){}.bind()))},"setLogLevel"),Hm=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,qm=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Um=/\s*%%.*\n/gm,Vm=class extends Error{static{Rm(this,"UnknownDiagramError")}constructor(e){super(e),this.name="UnknownDiagramError"}},Wm={},Gm=Rm(function(e,t){e=e.replace(Hm,"").replace(qm,"").replace(Um,"\n");for(const[n,{detector:r}]of Object.entries(Wm)){if(r(e,t))return n}throw new Vm(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),Km=Rm((...e)=>{for(const{id:t,detector:n,loader:r}of e)Ym(t,n,r)},"registerLazyLoadedDiagrams"),Ym=Rm((e,t,n)=>{Wm[e]&&zm.warn(`Detector with key ${e} already exists. Overwriting.`),Wm[e]={detector:t,loader:n},zm.debug(`Detector with key ${e} added${n?" with loader":""}`)},"addDetector"),Zm=Rm(e=>Wm[e].loader,"getDiagramLoader"),Xm=Rm((e,t,{depth:n=2,clobber:r=!1}={})=>{const i={depth:n,clobber:r};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(t=>Xm(e,t,i)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(t=>{e.includes(t)||e.push(t)}),e):void 0===e||n<=0?null!=e&&"object"==typeof e&&"object"==typeof t?Object.assign(e,t):t:(void 0!==t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).forEach(i=>{"object"!=typeof t[i]||void 0!==e[i]&&"object"!=typeof e[i]?(r||"object"!=typeof e[i]&&"object"!=typeof t[i])&&(e[i]=t[i]):(void 0===e[i]&&(e[i]=Array.isArray(t[i])?[]:{}),e[i]=Xm(e[i],t[i],{depth:n-1,clobber:r}))}),e)},"assignWithDepth"),Qm=Xm,Jm="#ffffff",eg="#f2f2f2",tg=Rm((e,t)=>Tf(e,t?{s:-40,l:10}:{s:-40,l:-10}),"mkBorder"),ng=class{static{Rm(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Tf(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Tf(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||tg(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||tg(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||tg(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||tg(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Mf(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Mf(this.tertiaryColor),this.lineColor=this.lineColor||Mf(this.background),this.arrowheadColor=this.arrowheadColor||Mf(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Nf(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Nf(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Mf(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Ef(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||Nf(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Nf(this.mainBkg,10)):(this.rowOdd=this.rowOdd||Ef(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Ef(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Tf(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Tf(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Tf(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Tf(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Tf(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Tf(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Tf(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Tf(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Tf(this.primaryColor,{h:330}),this.darkMode)for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Nf(this["cScale"+t],75);else for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Nf(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||Mf(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||Ef(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||Nf(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||Tf(this.mainBkg,{h:180,s:-15,l:e*(5+3*t)}),this["surfacePeer"+t]=this["surfacePeer"+t]||Tf(this.mainBkg,{h:180,s:-15,l:e*(8+3*t)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Tf(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Tf(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Tf(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Tf(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Tf(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Tf(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Tf(this.primaryColor,{l:-10}),this.pie5=this.pie5||Tf(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Tf(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Tf(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Tf(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Tf(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Tf(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Tf(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Tf(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Tf(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Tf(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Tf(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Tf(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Tf(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Tf(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Cf(this.quadrant1Fill)?Ef(this.quadrant1Fill):Nf(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Nf(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Tf(this.primaryColor,{h:-30}),this.git4=this.git4||Tf(this.primaryColor,{h:-60}),this.git5=this.git5||Tf(this.primaryColor,{h:-90}),this.git6=this.git6||Tf(this.primaryColor,{h:60}),this.git7=this.git7||Tf(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ef(this.git0,25),this.git1=Ef(this.git1,25),this.git2=Ef(this.git2,25),this.git3=Ef(this.git3,25),this.git4=Ef(this.git4,25),this.git5=Ef(this.git5,25),this.git6=Ef(this.git6,25),this.git7=Ef(this.git7,25)):(this.git0=Nf(this.git0,25),this.git1=Nf(this.git1,25),this.git2=Nf(this.git2,25),this.git3=Nf(this.git3,25),this.git4=Nf(this.git4,25),this.git5=Nf(this.git5,25),this.git6=Nf(this.git6,25),this.git7=Nf(this.git7,25)),this.gitInv0=this.gitInv0||Mf(this.git0),this.gitInv1=this.gitInv1||Mf(this.git1),this.gitInv2=this.gitInv2||Mf(this.git2),this.gitInv3=this.gitInv3||Mf(this.git3),this.gitInv4=this.gitInv4||Mf(this.git4),this.gitInv5=this.gitInv5||Mf(this.git5),this.gitInv6=this.gitInv6||Mf(this.git6),this.gitInv7=this.gitInv7||Mf(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Jm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||eg}calculate(e){if("object"!=typeof e)return void this.updateColors();const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},rg=Rm(e=>{const t=new ng;return t.calculate(e),t},"getThemeVariables"),ig=class{static{Rm(this,"Theme")}constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Ef(this.primaryColor,16),this.tertiaryColor=Tf(this.primaryColor,{h:-160}),this.primaryBorderColor=Mf(this.background),this.secondaryBorderColor=tg(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=tg(this.tertiaryColor,this.darkMode),this.primaryTextColor=Mf(this.primaryColor),this.secondaryTextColor=Mf(this.secondaryColor),this.tertiaryTextColor=Mf(this.tertiaryColor),this.lineColor=Mf(this.background),this.textColor=Mf(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Ef(Mf("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=wf(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Nf("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Nf(this.sectionBkgColor,10),this.taskBorderColor=wf(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=wf(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Ef(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Nf(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=Ef(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Ef(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Ef(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Tf(this.primaryColor,{h:64}),this.fillType3=Tf(this.secondaryColor,{h:64}),this.fillType4=Tf(this.primaryColor,{h:-64}),this.fillType5=Tf(this.secondaryColor,{h:-64}),this.fillType6=Tf(this.primaryColor,{h:128}),this.fillType7=Tf(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Tf(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Tf(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Tf(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Tf(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Tf(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Tf(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Tf(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Tf(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Tf(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Mf(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||Ef(this["cScale"+e],10);for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Tf(this.mainBkg,{h:30,s:-30,l:-(4*e-10)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Tf(this.mainBkg,{h:30,s:-30,l:-(4*e-7)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Tf(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Tf(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Tf(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Tf(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Tf(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Tf(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Cf(this.quadrant1Fill)?Ef(this.quadrant1Fill):Nf(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Nf(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ef(this.secondaryColor,20),this.git1=Ef(this.pie2||this.secondaryColor,20),this.git2=Ef(this.pie3||this.tertiaryColor,20),this.git3=Ef(this.pie4||Tf(this.primaryColor,{h:-30}),20),this.git4=Ef(this.pie5||Tf(this.primaryColor,{h:-60}),20),this.git5=Ef(this.pie6||Tf(this.primaryColor,{h:-90}),10),this.git6=Ef(this.pie7||Tf(this.primaryColor,{h:60}),10),this.git7=Ef(this.pie8||Tf(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Mf(this.git0),this.gitInv1=this.gitInv1||Mf(this.git1),this.gitInv2=this.gitInv2||Mf(this.git2),this.gitInv3=this.gitInv3||Mf(this.git3),this.gitInv4=this.gitInv4||Mf(this.git4),this.gitInv5=this.gitInv5||Mf(this.git5),this.gitInv6=this.gitInv6||Mf(this.git6),this.gitInv7=this.gitInv7||Mf(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Mf(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Mf(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ef(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ef(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if("object"!=typeof e)return void this.updateColors();const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},ag=Rm(e=>{const t=new ig;return t.calculate(e),t},"getThemeVariables"),og=class{static{Rm(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Tf(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Tf(this.primaryColor,{h:-160}),this.primaryBorderColor=tg(this.primaryColor,this.darkMode),this.secondaryBorderColor=tg(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=tg(this.tertiaryColor,this.darkMode),this.primaryTextColor=Mf(this.primaryColor),this.secondaryTextColor=Mf(this.secondaryColor),this.tertiaryTextColor=Mf(this.tertiaryColor),this.lineColor=Mf(this.background),this.textColor=Mf(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=wf(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Tf(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Tf(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Tf(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Tf(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Tf(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Tf(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Tf(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Tf(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Tf(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Nf(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Nf(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=Nf(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||Nf(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Tf(this["cScale"+e],{h:180});for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Tf(this.mainBkg,{h:30,l:-(5+5*e)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Tf(this.mainBkg,{h:30,l:-(7+5*e)});if(this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,"calculated"!==this.labelTextColor){this.cScaleLabel0=this.cScaleLabel0||Mf(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Mf(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Ef(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Ef(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||Ef(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Tf(this.primaryColor,{h:64}),this.fillType3=Tf(this.secondaryColor,{h:64}),this.fillType4=Tf(this.primaryColor,{h:-64}),this.fillType5=Tf(this.secondaryColor,{h:-64}),this.fillType6=Tf(this.primaryColor,{h:128}),this.fillType7=Tf(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Tf(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Tf(this.primaryColor,{l:-10}),this.pie5=this.pie5||Tf(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Tf(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Tf(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Tf(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Tf(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Tf(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Tf(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Tf(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Tf(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Tf(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Tf(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Tf(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Tf(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Tf(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Cf(this.quadrant1Fill)?Ef(this.quadrant1Fill):Nf(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Tf(this.primaryColor,{h:-30}),this.git4=this.git4||Tf(this.primaryColor,{h:-60}),this.git5=this.git5||Tf(this.primaryColor,{h:-90}),this.git6=this.git6||Tf(this.primaryColor,{h:60}),this.git7=this.git7||Tf(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ef(this.git0,25),this.git1=Ef(this.git1,25),this.git2=Ef(this.git2,25),this.git3=Ef(this.git3,25),this.git4=Ef(this.git4,25),this.git5=Ef(this.git5,25),this.git6=Ef(this.git6,25),this.git7=Ef(this.git7,25)):(this.git0=Nf(this.git0,25),this.git1=Nf(this.git1,25),this.git2=Nf(this.git2,25),this.git3=Nf(this.git3,25),this.git4=Nf(this.git4,25),this.git5=Nf(this.git5,25),this.git6=Nf(this.git6,25),this.git7=Nf(this.git7,25)),this.gitInv0=this.gitInv0||Nf(Mf(this.git0),25),this.gitInv1=this.gitInv1||Mf(this.git1),this.gitInv2=this.gitInv2||Mf(this.git2),this.gitInv3=this.gitInv3||Mf(this.git3),this.gitInv4=this.gitInv4||Mf(this.git4),this.gitInv5=this.gitInv5||Mf(this.git5),this.gitInv6=this.gitInv6||Mf(this.git6),this.gitInv7=this.gitInv7||Mf(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Mf(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Mf(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Jm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||eg}calculate(e){if(Object.keys(this).forEach(e=>{"calculated"===this[e]&&(this[e]=void 0)}),"object"!=typeof e)return void this.updateColors();const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},sg=Rm(e=>{const t=new og;return t.calculate(e),t},"getThemeVariables"),lg=class{static{Rm(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Ef("#cde498",10),this.primaryBorderColor=tg(this.primaryColor,this.darkMode),this.secondaryBorderColor=tg(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=tg(this.tertiaryColor,this.darkMode),this.primaryTextColor=Mf(this.primaryColor),this.secondaryTextColor=Mf(this.secondaryColor),this.tertiaryTextColor=Mf(this.primaryColor),this.lineColor=Mf(this.background),this.textColor=Mf(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=Nf(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Tf(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Tf(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Tf(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Tf(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Tf(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Tf(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Tf(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Tf(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Tf(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Nf(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Nf(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=Nf(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||Nf(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Tf(this["cScale"+e],{h:180});this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Tf(this.mainBkg,{h:30,s:-30,l:-(5+5*e)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Tf(this.mainBkg,{h:30,s:-30,l:-(8+5*e)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Ef(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Ef(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Tf(this.primaryColor,{h:64}),this.fillType3=Tf(this.secondaryColor,{h:64}),this.fillType4=Tf(this.primaryColor,{h:-64}),this.fillType5=Tf(this.secondaryColor,{h:-64}),this.fillType6=Tf(this.primaryColor,{h:128}),this.fillType7=Tf(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Tf(this.primaryColor,{l:-30}),this.pie5=this.pie5||Tf(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Tf(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Tf(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Tf(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Tf(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Tf(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Tf(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Tf(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Tf(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Tf(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Tf(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Tf(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Tf(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Tf(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Cf(this.quadrant1Fill)?Ef(this.quadrant1Fill):Nf(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Tf(this.primaryColor,{h:-30}),this.git4=this.git4||Tf(this.primaryColor,{h:-60}),this.git5=this.git5||Tf(this.primaryColor,{h:-90}),this.git6=this.git6||Tf(this.primaryColor,{h:60}),this.git7=this.git7||Tf(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ef(this.git0,25),this.git1=Ef(this.git1,25),this.git2=Ef(this.git2,25),this.git3=Ef(this.git3,25),this.git4=Ef(this.git4,25),this.git5=Ef(this.git5,25),this.git6=Ef(this.git6,25),this.git7=Ef(this.git7,25)):(this.git0=Nf(this.git0,25),this.git1=Nf(this.git1,25),this.git2=Nf(this.git2,25),this.git3=Nf(this.git3,25),this.git4=Nf(this.git4,25),this.git5=Nf(this.git5,25),this.git6=Nf(this.git6,25),this.git7=Nf(this.git7,25)),this.gitInv0=this.gitInv0||Mf(this.git0),this.gitInv1=this.gitInv1||Mf(this.git1),this.gitInv2=this.gitInv2||Mf(this.git2),this.gitInv3=this.gitInv3||Mf(this.git3),this.gitInv4=this.gitInv4||Mf(this.git4),this.gitInv5=this.gitInv5||Mf(this.git5),this.gitInv6=this.gitInv6||Mf(this.git6),this.gitInv7=this.gitInv7||Mf(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Mf(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Mf(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Jm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||eg}calculate(e){if("object"!=typeof e)return void this.updateColors();const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},cg=Rm(e=>{const t=new lg;return t.calculate(e),t},"getThemeVariables"),ug=class{static{Rm(this,"Theme")}constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Ef(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Tf(this.primaryColor,{h:-160}),this.primaryBorderColor=tg(this.primaryColor,this.darkMode),this.secondaryBorderColor=tg(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=tg(this.tertiaryColor,this.darkMode),this.primaryTextColor=Mf(this.primaryColor),this.secondaryTextColor=Mf(this.secondaryColor),this.tertiaryTextColor=Mf(this.tertiaryColor),this.lineColor=Mf(this.background),this.textColor=Mf(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Ef(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=Ef(this.contrast,55),this.border2=this.contrast,this.actorBorder=Ef(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Mf(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||Ef(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||Nf(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Tf(this.mainBkg,{l:-(5+5*e)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Tf(this.mainBkg,{l:-(8+5*e)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Ef(this.contrast,30),this.sectionBkgColor2=Ef(this.contrast,30),this.taskBorderColor=Nf(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Ef(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Nf(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Tf(this.primaryColor,{h:64}),this.fillType3=Tf(this.secondaryColor,{h:64}),this.fillType4=Tf(this.primaryColor,{h:-64}),this.fillType5=Tf(this.secondaryColor,{h:-64}),this.fillType6=Tf(this.primaryColor,{h:128}),this.fillType7=Tf(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Tf(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Tf(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Tf(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Tf(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Tf(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Tf(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Cf(this.quadrant1Fill)?Ef(this.quadrant1Fill):Nf(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Nf(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Tf(this.primaryColor,{h:-30}),this.git4=this.pie5||Tf(this.primaryColor,{h:-60}),this.git5=this.pie6||Tf(this.primaryColor,{h:-90}),this.git6=this.pie7||Tf(this.primaryColor,{h:60}),this.git7=this.pie8||Tf(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Mf(this.git0),this.gitInv1=this.gitInv1||Mf(this.git1),this.gitInv2=this.gitInv2||Mf(this.git2),this.gitInv3=this.gitInv3||Mf(this.git3),this.gitInv4=this.gitInv4||Mf(this.git4),this.gitInv5=this.gitInv5||Mf(this.git5),this.gitInv6=this.gitInv6||Mf(this.git6),this.gitInv7=this.gitInv7||Mf(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Jm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||eg}calculate(e){if("object"!=typeof e)return void this.updateColors();const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]}),this.updateColors(),t.forEach(t=>{this[t]=e[t]})}},dg={base:{getThemeVariables:rg},dark:{getThemeVariables:ag},default:{getThemeVariables:sg},forest:{getThemeVariables:cg},neutral:{getThemeVariables:Rm(e=>{const t=new ug;return t.calculate(e),t},"getThemeVariables")}},hg={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},pg={...hg,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:dg.default.getThemeVariables(),sequence:{...hg.sequence,messageFont:Rm(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:Rm(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:Rm(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...hg.gantt,tickInterval:void 0,useWidth:void 0},c4:{...hg.c4,useWidth:void 0,personFont:Rm(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...hg.flowchart,inheritDir:!1},external_personFont:Rm(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:Rm(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:Rm(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:Rm(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:Rm(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:Rm(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:Rm(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:Rm(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:Rm(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:Rm(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:Rm(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:Rm(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:Rm(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:Rm(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:Rm(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:Rm(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:Rm(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:Rm(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:Rm(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:Rm(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:Rm(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...hg.pie,useWidth:984},xyChart:{...hg.xyChart,useWidth:void 0},requirement:{...hg.requirement,useWidth:void 0},packet:{...hg.packet},radar:{...hg.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},fg=Rm((e,t="")=>Object.keys(e).reduce((n,r)=>Array.isArray(e[r])?n:"object"==typeof e[r]&&null!==e[r]?[...n,t+r,...fg(e[r],"")]:[...n,t+r],[]),"keyify"),mg=new Set(fg(pg,"")),gg=pg,bg=Rm(e=>{if(zm.debug("sanitizeDirective called with",e),"object"==typeof e&&null!=e)if(Array.isArray(e))e.forEach(e=>bg(e));else{for(const t of Object.keys(e)){if(zm.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!mg.has(t)||null==e[t]){zm.debug("sanitize deleting key: ",t),delete e[t];continue}if("object"==typeof e[t]){zm.debug("sanitizing object",t),bg(e[t]);continue}const n=["themeCSS","fontFamily","altFontFamily"];for(const r of n)t.includes(r)&&(zm.debug("sanitizing css option",t),e[t]=yg(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const n=e.themeVariables[t];n?.match&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}zm.debug("After sanitization",e)}},"sanitizeDirective"),yg=Rm(e=>{let t=0,n=0;for(const r of e){if(t<n)return"{ /* ERROR: Unbalanced CSS */ }";"{"===r?t++:"}"===r&&n++}return t!==n?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss"),xg=Object.freeze(gg),vg=Qm({},xg),kg=[],wg=Qm({},xg),_g=Rm((e,t)=>{let n=Qm({},e),r={};for(const i of t)Ag(i),r=Qm(r,i);if(n=Qm(n,r),r.theme&&r.theme in dg){const e=Qm({},Pm),t=Qm(e.themeVariables||{},r.themeVariables);n.theme&&n.theme in dg&&(n.themeVariables=dg[n.theme].getThemeVariables(t))}return Bg(wg=n),wg},"updateCurrentConfig"),Cg=Rm(e=>(vg=Qm({},xg),vg=Qm(vg,e),e.theme&&dg[e.theme]&&(vg.themeVariables=dg[e.theme].getThemeVariables(e.themeVariables)),_g(vg,kg),vg),"setSiteConfig"),Sg=Rm(e=>{Pm=Qm({},e)},"saveConfigFromInitialize"),Eg=Rm(e=>(vg=Qm(vg,e),_g(vg,kg),vg),"updateSiteConfig"),Ng=Rm(()=>Qm({},vg),"getSiteConfig"),Tg=Rm(e=>(Bg(e),Qm(wg,e),Mg()),"setConfig"),Mg=Rm(()=>Qm({},wg),"getConfig"),Ag=Rm(e=>{e&&(["secure",...vg.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(zm.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{"string"==typeof e[t]&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],"object"==typeof e[t]&&Ag(e[t])}))},"sanitize"),Lg=Rm(e=>{bg(e),e.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),kg.push(e),_g(vg,kg)},"addDirective"),Dg=Rm((e=vg)=>{_g(e,kg=[])},"reset"),Og={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},Pg={},Fg=Rm(e=>{Pg[e]||(zm.warn(Og[e]),Pg[e]=!0)},"issueWarning"),Bg=Rm(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&Fg("LAZY_LOAD_DEPRECATED")},"checkConfig"),Rg=/<br\s*\/?>/gi,Ig=Rm(e=>{if(!e)return[""];return Kg(e).replace(/\\n/g,"#br#").split("#br#")},"getRows"),jg=(()=>{let e=!1;return()=>{e||(zg(),e=!0)}})();function zg(){const e="data-temp-href-target";Fm.addHook("beforeSanitizeAttributes",t=>{"A"===t.tagName&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),Fm.addHook("afterSanitizeAttributes",t=>{"A"===t.tagName&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),"_blank"===t.getAttribute("target")&&t.setAttribute("rel","noopener"))})}Rm(zg,"setupDompurifyHooks");var $g=Rm(e=>{jg();return Fm.sanitize(e)},"removeScript"),Hg=Rm((e,t)=>{if(!1!==t.flowchart?.htmlLabels){const n=t.securityLevel;"antiscript"===n||"strict"===n?e=$g(e):"loose"!==n&&(e=(e=(e=Kg(e)).replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/=/g,"&equals;"),e=Gg(e))}return e},"sanitizeMore"),qg=Rm((e,t)=>e?e=t.dompurifyConfig?Fm.sanitize(Hg(e,t),t.dompurifyConfig).toString():Fm.sanitize(Hg(e,t),{FORBID_TAGS:["style"]}).toString():e,"sanitizeText"),Ug=Rm((e,t)=>"string"==typeof e?qg(e,t):e.flat().map(e=>qg(e,t)),"sanitizeTextOrArray"),Vg=Rm(e=>Rg.test(e),"hasBreaks"),Wg=Rm(e=>e.split(Rg),"splitBreaks"),Gg=Rm(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),Kg=Rm(e=>e.replace(Rg,"#br#"),"breakToPlaceholder"),Yg=Rm(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=CSS.escape(t)),t},"getUrl"),Zg=Rm(e=>!1!==e&&!["false","null","0"].includes(String(e).trim().toLowerCase()),"evaluate"),Xg=Rm(function(...e){const t=e.filter(e=>!isNaN(e));return Math.max(...t)},"getMax"),Qg=Rm(function(...e){const t=e.filter(e=>!isNaN(e));return Math.min(...t)},"getMin"),Jg=Rm(function(e){const t=e.split(/(,)/),n=[];for(let r=0;r<t.length;r++){let e=t[r];if(","===e&&r>0&&r+1<t.length){const i=t[r-1],a=t[r+1];tb(i,a)&&(e=i+","+a,r++,n.pop())}n.push(nb(e))}return n.join("")},"parseGenericTypes"),eb=Rm((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),tb=Rm((e,t)=>{const n=eb(e,"~"),r=eb(t,"~");return 1===n&&1===r},"shouldCombineSets"),nb=Rm(e=>{const t=eb(e,"~");let n=!1;if(t<=1)return e;t%2!=0&&e.startsWith("~")&&(e=e.substring(1),n=!0);const r=[...e];let i=r.indexOf("~"),a=r.lastIndexOf("~");for(;-1!==i&&-1!==a&&i!==a;)r[i]="<",r[a]=">",i=r.indexOf("~"),a=r.lastIndexOf("~");return n&&r.unshift("~"),r.join("")},"processSet"),rb=Rm(()=>void 0!==window.MathMLElement,"isMathMLSupported"),ib=/\$\$(.*)\$\$/g,ab=Rm(e=>(e.match(ib)?.length??0)>0,"hasKatex"),ob=Rm(async(e,t)=>{const n=document.createElement("div");n.innerHTML=await lb(e,t),n.id="katex-temp",n.style.visibility="hidden",n.style.position="absolute",n.style.top="0";const r=document.querySelector("body");r?.insertAdjacentElement("beforeend",n);const i={width:n.clientWidth,height:n.clientHeight};return n.remove(),i},"calculateMathMLDimensions"),sb=Rm(async(e,t)=>{if(!ab(e))return e;if(!(rb()||t.legacyMathML||t.forceLegacyMathML))return e.replace(ib,"MathML is unsupported in this environment.");{const{default:n}=await ef(async()=>{const{default:e}=await import("./katex.js");return{default:e}},[]),r=t.forceLegacyMathML||!rb()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(Rg).map(e=>ab(e)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${e}</div>`:`<div>${e}</div>`).join("").replace(ib,(e,t)=>n.renderToString(t,{throwOnError:!0,displayMode:!0,output:r}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),lb=Rm(async(e,t)=>qg(await sb(e,t),t),"renderKatexSanitized"),cb={getRows:Ig,sanitizeText:qg,sanitizeTextOrArray:Ug,hasBreaks:Vg,splitBreaks:Wg,lineBreakRegex:Rg,removeScript:$g,getUrl:Yg,evaluate:Zg,getMax:Xg,getMin:Qg},ub=Rm(function(e,t){for(let n of t)e.attr(n[0],n[1])},"d3Attrs"),db=Rm(function(e,t,n){let r=new Map;return n?(r.set("width","100%"),r.set("style",`max-width: ${t}px;`)):(r.set("height",e),r.set("width",t)),r},"calculateSvgSizeAttrs"),hb=Rm(function(e,t,n,r){const i=db(t,n,r);ub(e,i)},"configureSvgSize"),pb=Rm(function(e,t,n,r){const i=t.node().getBBox(),a=i.width,o=i.height;zm.info(`SVG bounds: ${a}x${o}`,i);let s=0,l=0;zm.info(`Graph bounds: ${s}x${l}`,e),s=a+2*n,l=o+2*n,zm.info(`Calculated bounds: ${s}x${l}`),hb(t,l,s,r);const c=`${i.x-n} ${i.y-n} ${i.width+2*n} ${i.height+2*n}`;t.attr("viewBox",c)},"setupGraphViewbox"),fb={},mb=Rm((e,t,n)=>{let r="";return e in fb&&fb[e]?r=fb[e](n):zm.warn(`No theme found for ${e}`),` & {\n    font-family: ${n.fontFamily};\n    font-size: ${n.fontSize};\n    fill: ${n.textColor}\n  }\n  @keyframes edge-animation-frame {\n    from {\n      stroke-dashoffset: 0;\n    }\n  }\n  @keyframes dash {\n    to {\n      stroke-dashoffset: 0;\n    }\n  }\n  & .edge-animation-slow {\n    stroke-dasharray: 9,5 !important;\n    stroke-dashoffset: 900;\n    animation: dash 50s linear infinite;\n    stroke-linecap: round;\n  }\n  & .edge-animation-fast {\n    stroke-dasharray: 9,5 !important;\n    stroke-dashoffset: 900;\n    animation: dash 20s linear infinite;\n    stroke-linecap: round;\n  }\n  /* Classes common for multiple diagrams */\n\n  & .error-icon {\n    fill: ${n.errorBkgColor};\n  }\n  & .error-text {\n    fill: ${n.errorTextColor};\n    stroke: ${n.errorTextColor};\n  }\n\n  & .edge-thickness-normal {\n    stroke-width: 1px;\n  }\n  & .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  & .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n  & .edge-thickness-invisible {\n    stroke-width: 0;\n    fill: none;\n  }\n  & .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  & .marker {\n    fill: ${n.lineColor};\n    stroke: ${n.lineColor};\n  }\n  & .marker.cross {\n    stroke: ${n.lineColor};\n  }\n\n  & svg {\n    font-family: ${n.fontFamily};\n    font-size: ${n.fontSize};\n  }\n   & p {\n    margin: 0\n   }\n\n  ${r}\n\n  ${t}\n`},"getStyles"),gb=Rm((e,t)=>{void 0!==t&&(fb[e]=t)},"addStylesForDiagram"),bb=mb,yb={};Im(yb,{clear:()=>_b,getAccDescription:()=>Nb,getAccTitle:()=>Sb,getDiagramTitle:()=>Mb,setAccDescription:()=>Eb,setAccTitle:()=>Cb,setDiagramTitle:()=>Tb});var xb="",vb="",kb="",wb=Rm(e=>qg(e,Mg()),"sanitizeText"),_b=Rm(()=>{xb="",kb="",vb=""},"clear"),Cb=Rm(e=>{xb=wb(e).replace(/^\s+/g,"")},"setAccTitle"),Sb=Rm(()=>xb,"getAccTitle"),Eb=Rm(e=>{kb=wb(e).replace(/\n\s+/g,"\n")},"setAccDescription"),Nb=Rm(()=>kb,"getAccDescription"),Tb=Rm(e=>{vb=wb(e)},"setDiagramTitle"),Mb=Rm(()=>vb,"getDiagramTitle"),Ab=zm,Lb=$m,Db=Mg,Ob=Tg,Pb=xg,Fb=Rm(e=>qg(e,Db()),"sanitizeText"),Bb=pb,Rb=Rm(()=>yb,"getCommonDb"),Ib={},jb=Rm((e,t,n)=>{Ib[e]&&Ab.warn(`Diagram with id ${e} already registered. Overwriting.`),Ib[e]=t,n&&Ym(e,n),gb(e,t.styles),t.injectUtils?.(Ab,Lb,Db,Fb,Bb,Rb(),()=>{})},"registerDiagram"),zb=Rm(e=>{if(e in Ib)return Ib[e];throw new $b(e)},"getDiagram"),$b=class extends Error{static{Rm(this,"DiagramNotFoundError")}constructor(e){super(`Diagram ${e} not found.`)}};function Hb(e){return null==e}function qb(e){return"object"==typeof e&&null!==e}function Ub(e){return Array.isArray(e)?e:Hb(e)?[]:[e]}function Vb(e,t){var n,r,i,a;if(t)for(n=0,r=(a=Object.keys(t)).length;n<r;n+=1)e[i=a[n]]=t[i];return e}function Wb(e,t){var n,r="";for(n=0;n<t;n+=1)r+=e;return r}function Gb(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e}Rm(Hb,"isNothing"),Rm(qb,"isObject"),Rm(Ub,"toArray"),Rm(Vb,"extend"),Rm(Wb,"repeat"),Rm(Gb,"isNegativeZero");var Kb={isNothing:Hb,isObject:qb,toArray:Ub,repeat:Wb,isNegativeZero:Gb,extend:Vb};function Yb(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+="\n\n"+e.mark.snippet),r+" "+n):r}function Zb(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Yb(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}Rm(Yb,"formatError"),Rm(Zb,"YAMLException$1"),Zb.prototype=Object.create(Error.prototype),Zb.prototype.constructor=Zb,Zb.prototype.toString=Rm(function(e){return this.name+": "+Yb(this,e)},"toString");var Xb=Zb;function Qb(e,t,n,r,i){var a="",o="",s=Math.floor(i/2)-1;return r-t>s&&(t=r-s+(a=" ... ").length),n-r>s&&(n=r+s-(o=" ...").length),{str:a+e.slice(t,n).replace(/\t/g,"→")+o,pos:r-t+a.length}}function Jb(e,t){return Kb.repeat(" ",t-e.length)+e}function ey(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!=typeof t.indent&&(t.indent=1),"number"!=typeof t.linesBefore&&(t.linesBefore=3),"number"!=typeof t.linesAfter&&(t.linesAfter=2);for(var n,r=/\r?\n|\r|\0/g,i=[0],a=[],o=-1;n=r.exec(e.buffer);)a.push(n.index),i.push(n.index+n[0].length),e.position<=n.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var s,l,c="",u=Math.min(e.line+t.linesAfter,a.length).toString().length,d=t.maxLength-(t.indent+u+3);for(s=1;s<=t.linesBefore&&!(o-s<0);s++)l=Qb(e.buffer,i[o-s],a[o-s],e.position-(i[o]-i[o-s]),d),c=Kb.repeat(" ",t.indent)+Jb((e.line-s+1).toString(),u)+" | "+l.str+"\n"+c;for(l=Qb(e.buffer,i[o],a[o],e.position,d),c+=Kb.repeat(" ",t.indent)+Jb((e.line+1).toString(),u)+" | "+l.str+"\n",c+=Kb.repeat("-",t.indent+u+3+l.pos)+"^\n",s=1;s<=t.linesAfter&&!(o+s>=a.length);s++)l=Qb(e.buffer,i[o+s],a[o+s],e.position-(i[o]-i[o+s]),d),c+=Kb.repeat(" ",t.indent)+Jb((e.line+s+1).toString(),u)+" | "+l.str+"\n";return c.replace(/\n$/,"")}Rm(Qb,"getLine"),Rm(Jb,"padStart"),Rm(ey,"makeSnippet");var ty=ey,ny=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],ry=["scalar","sequence","mapping"];function iy(e){var t={};return null!==e&&Object.keys(e).forEach(function(n){e[n].forEach(function(e){t[String(e)]=n})}),t}function ay(e,t){if(t=t||{},Object.keys(t).forEach(function(t){if(-1===ny.indexOf(t))throw new Xb('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=iy(t.styleAliases||null),-1===ry.indexOf(this.kind))throw new Xb('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}Rm(iy,"compileStyleAliases"),Rm(ay,"Type$1");var oy=ay;function sy(e,t){var n=[];return e[t].forEach(function(e){var t=n.length;n.forEach(function(n,r){n.tag===e.tag&&n.kind===e.kind&&n.multi===e.multi&&(t=r)}),n[t]=e}),n}function ly(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function r(e){e.multi?(n.multi[e.kind].push(e),n.multi.fallback.push(e)):n[e.kind][e.tag]=n.fallback[e.tag]=e}for(Rm(r,"collectType"),e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(r);return n}function cy(e){return this.extend(e)}Rm(sy,"compileList"),Rm(ly,"compileMap"),Rm(cy,"Schema$1"),cy.prototype.extend=Rm(function(e){var t=[],n=[];if(e instanceof oy)n.push(e);else if(Array.isArray(e))n=n.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new Xb("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit))}t.forEach(function(e){if(!(e instanceof oy))throw new Xb("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new Xb("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new Xb("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(e){if(!(e instanceof oy))throw new Xb("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(cy.prototype);return r.implicit=(this.implicit||[]).concat(t),r.explicit=(this.explicit||[]).concat(n),r.compiledImplicit=sy(r,"implicit"),r.compiledExplicit=sy(r,"explicit"),r.compiledTypeMap=ly(r.compiledImplicit,r.compiledExplicit),r},"extend");var uy=new cy({explicit:[new oy("tag:yaml.org,2002:str",{kind:"scalar",construct:Rm(function(e){return null!==e?e:""},"construct")}),new oy("tag:yaml.org,2002:seq",{kind:"sequence",construct:Rm(function(e){return null!==e?e:[]},"construct")}),new oy("tag:yaml.org,2002:map",{kind:"mapping",construct:Rm(function(e){return null!==e?e:{}},"construct")})]});function dy(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)}function hy(){return null}function py(e){return null===e}Rm(dy,"resolveYamlNull"),Rm(hy,"constructYamlNull"),Rm(py,"isNull");var fy=new oy("tag:yaml.org,2002:null",{kind:"scalar",resolve:dy,construct:hy,predicate:py,represent:{canonical:Rm(function(){return"~"},"canonical"),lowercase:Rm(function(){return"null"},"lowercase"),uppercase:Rm(function(){return"NULL"},"uppercase"),camelcase:Rm(function(){return"Null"},"camelcase"),empty:Rm(function(){return""},"empty")},defaultStyle:"lowercase"});function my(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)}function gy(e){return"true"===e||"True"===e||"TRUE"===e}function by(e){return"[object Boolean]"===Object.prototype.toString.call(e)}Rm(my,"resolveYamlBoolean"),Rm(gy,"constructYamlBoolean"),Rm(by,"isBoolean");var yy=new oy("tag:yaml.org,2002:bool",{kind:"scalar",resolve:my,construct:gy,predicate:by,represent:{lowercase:Rm(function(e){return e?"true":"false"},"lowercase"),uppercase:Rm(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:Rm(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function xy(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function vy(e){return 48<=e&&e<=55}function ky(e){return 48<=e&&e<=57}function wy(e){if(null===e)return!1;var t,n=e.length,r=0,i=!1;if(!n)return!1;if("-"!==(t=e[r])&&"+"!==t||(t=e[++r]),"0"===t){if(r+1===n)return!0;if("b"===(t=e[++r])){for(r++;r<n;r++)if("_"!==(t=e[r])){if("0"!==t&&"1"!==t)return!1;i=!0}return i&&"_"!==t}if("x"===t){for(r++;r<n;r++)if("_"!==(t=e[r])){if(!xy(e.charCodeAt(r)))return!1;i=!0}return i&&"_"!==t}if("o"===t){for(r++;r<n;r++)if("_"!==(t=e[r])){if(!vy(e.charCodeAt(r)))return!1;i=!0}return i&&"_"!==t}}if("_"===t)return!1;for(;r<n;r++)if("_"!==(t=e[r])){if(!ky(e.charCodeAt(r)))return!1;i=!0}return!(!i||"_"===t)}function _y(e){var t,n=e,r=1;if(-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),"-"!==(t=n[0])&&"+"!==t||("-"===t&&(r=-1),t=(n=n.slice(1))[0]),"0"===n)return 0;if("0"===t){if("b"===n[1])return r*parseInt(n.slice(2),2);if("x"===n[1])return r*parseInt(n.slice(2),16);if("o"===n[1])return r*parseInt(n.slice(2),8)}return r*parseInt(n,10)}function Cy(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!Kb.isNegativeZero(e)}Rm(xy,"isHexCode"),Rm(vy,"isOctCode"),Rm(ky,"isDecCode"),Rm(wy,"resolveYamlInteger"),Rm(_y,"constructYamlInteger"),Rm(Cy,"isInteger");var Sy=new oy("tag:yaml.org,2002:int",{kind:"scalar",resolve:wy,construct:_y,predicate:Cy,represent:{binary:Rm(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:Rm(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:Rm(function(e){return e.toString(10)},"decimal"),hexadecimal:Rm(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Ey=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Ny(e){return null!==e&&!(!Ey.test(e)||"_"===e[e.length-1])}function Ty(e){var t,n;return n="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:n*parseFloat(t,10)}Rm(Ny,"resolveYamlFloat"),Rm(Ty,"constructYamlFloat");var My=/^[-+]?[0-9]+e/;function Ay(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Kb.isNegativeZero(e))return"-0.0";return n=e.toString(10),My.test(n)?n.replace("e",".e"):n}function Ly(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||Kb.isNegativeZero(e))}Rm(Ay,"representYamlFloat"),Rm(Ly,"isFloat");var Dy=new oy("tag:yaml.org,2002:float",{kind:"scalar",resolve:Ny,construct:Ty,predicate:Ly,represent:Ay,defaultStyle:"lowercase"}),Oy=uy.extend({implicit:[fy,yy,Sy,Dy]}),Py=Oy,Fy=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),By=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Ry(e){return null!==e&&(null!==Fy.exec(e)||null!==By.exec(e))}function Iy(e){var t,n,r,i,a,o,s,l,c=0,u=null;if(null===(t=Fy.exec(e))&&(t=By.exec(e)),null===t)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,r,i));if(a=+t[4],o=+t[5],s=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(u=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(u=-u)),l=new Date(Date.UTC(n,r,i,a,o,s,c)),u&&l.setTime(l.getTime()-u),l}function jy(e){return e.toISOString()}Rm(Ry,"resolveYamlTimestamp"),Rm(Iy,"constructYamlTimestamp"),Rm(jy,"representYamlTimestamp");var zy=new oy("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Ry,construct:Iy,instanceOf:Date,represent:jy});function $y(e){return"<<"===e||null===e}Rm($y,"resolveYamlMerge");var Hy=new oy("tag:yaml.org,2002:merge",{kind:"scalar",resolve:$y}),qy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";function Uy(e){if(null===e)return!1;var t,n,r=0,i=e.length,a=qy;for(n=0;n<i;n++)if(!((t=a.indexOf(e.charAt(n)))>64)){if(t<0)return!1;r+=6}return r%8==0}function Vy(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,a=qy,o=0,s=[];for(t=0;t<i;t++)t%4==0&&t&&(s.push(o>>16&255),s.push(o>>8&255),s.push(255&o)),o=o<<6|a.indexOf(r.charAt(t));return 0===(n=i%4*6)?(s.push(o>>16&255),s.push(o>>8&255),s.push(255&o)):18===n?(s.push(o>>10&255),s.push(o>>2&255)):12===n&&s.push(o>>4&255),new Uint8Array(s)}function Wy(e){var t,n,r="",i=0,a=e.length,o=qy;for(t=0;t<a;t++)t%3==0&&t&&(r+=o[i>>18&63],r+=o[i>>12&63],r+=o[i>>6&63],r+=o[63&i]),i=(i<<8)+e[t];return 0===(n=a%3)?(r+=o[i>>18&63],r+=o[i>>12&63],r+=o[i>>6&63],r+=o[63&i]):2===n?(r+=o[i>>10&63],r+=o[i>>4&63],r+=o[i<<2&63],r+=o[64]):1===n&&(r+=o[i>>2&63],r+=o[i<<4&63],r+=o[64],r+=o[64]),r}function Gy(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)}Rm(Uy,"resolveYamlBinary"),Rm(Vy,"constructYamlBinary"),Rm(Wy,"representYamlBinary"),Rm(Gy,"isBinary");var Ky=new oy("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Uy,construct:Vy,predicate:Gy,represent:Wy}),Yy=Object.prototype.hasOwnProperty,Zy=Object.prototype.toString;function Xy(e){if(null===e)return!0;var t,n,r,i,a,o=[],s=e;for(t=0,n=s.length;t<n;t+=1){if(r=s[t],a=!1,"[object Object]"!==Zy.call(r))return!1;for(i in r)if(Yy.call(r,i)){if(a)return!1;a=!0}if(!a)return!1;if(-1!==o.indexOf(i))return!1;o.push(i)}return!0}function Qy(e){return null!==e?e:[]}Rm(Xy,"resolveYamlOmap"),Rm(Qy,"constructYamlOmap");var Jy=new oy("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Xy,construct:Qy}),ex=Object.prototype.toString;function tx(e){if(null===e)return!0;var t,n,r,i,a,o=e;for(a=new Array(o.length),t=0,n=o.length;t<n;t+=1){if(r=o[t],"[object Object]"!==ex.call(r))return!1;if(1!==(i=Object.keys(r)).length)return!1;a[t]=[i[0],r[i[0]]]}return!0}function nx(e){if(null===e)return[];var t,n,r,i,a,o=e;for(a=new Array(o.length),t=0,n=o.length;t<n;t+=1)r=o[t],i=Object.keys(r),a[t]=[i[0],r[i[0]]];return a}Rm(tx,"resolveYamlPairs"),Rm(nx,"constructYamlPairs");var rx=new oy("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:tx,construct:nx}),ix=Object.prototype.hasOwnProperty;function ax(e){if(null===e)return!0;var t,n=e;for(t in n)if(ix.call(n,t)&&null!==n[t])return!1;return!0}function ox(e){return null!==e?e:{}}Rm(ax,"resolveYamlSet"),Rm(ox,"constructYamlSet");var sx=new oy("tag:yaml.org,2002:set",{kind:"mapping",resolve:ax,construct:ox}),lx=Py.extend({implicit:[zy,Hy],explicit:[Ky,Jy,rx,sx]}),cx=Object.prototype.hasOwnProperty,ux=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,dx=/[\x85\u2028\u2029]/,hx=/[,\[\]\{\}]/,px=/^(?:!|!!|![a-z\-]+!)$/i,fx=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function mx(e){return Object.prototype.toString.call(e)}function gx(e){return 10===e||13===e}function bx(e){return 9===e||32===e}function yx(e){return 9===e||32===e||10===e||13===e}function xx(e){return 44===e||91===e||93===e||123===e||125===e}function vx(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function kx(e){return 120===e?2:117===e?4:85===e?8:0}function wx(e){return 48<=e&&e<=57?e-48:-1}function _x(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?" ":76===e?"\u2028":80===e?"\u2029":""}function Cx(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}Rm(mx,"_class"),Rm(gx,"is_EOL"),Rm(bx,"is_WHITE_SPACE"),Rm(yx,"is_WS_OR_EOL"),Rm(xx,"is_FLOW_INDICATOR"),Rm(vx,"fromHexCode"),Rm(kx,"escapedHexLen"),Rm(wx,"fromDecimalCode"),Rm(_x,"simpleEscapeSequence"),Rm(Cx,"charFromCodepoint");var Sx,Ex=new Array(256),Nx=new Array(256);for(Sx=0;Sx<256;Sx++)Ex[Sx]=_x(Sx)?1:0,Nx[Sx]=_x(Sx);function Tx(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||lx,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Mx(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=ty(n),new Xb(t,n)}function Ax(e,t){throw Mx(e,t)}function Lx(e,t){e.onWarning&&e.onWarning.call(null,Mx(e,t))}Rm(Tx,"State$1"),Rm(Mx,"generateError"),Rm(Ax,"throwError"),Rm(Lx,"throwWarning");var Dx={YAML:Rm(function(e,t,n){var r,i,a;null!==e.version&&Ax(e,"duplication of %YAML directive"),1!==n.length&&Ax(e,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&Ax(e,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),a=parseInt(r[2],10),1!==i&&Ax(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=a<2,1!==a&&2!==a&&Lx(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:Rm(function(e,t,n){var r,i;2!==n.length&&Ax(e,"TAG directive accepts exactly two arguments"),r=n[0],i=n[1],px.test(r)||Ax(e,"ill-formed tag handle (first argument) of the TAG directive"),cx.call(e.tagMap,r)&&Ax(e,'there is a previously declared suffix for "'+r+'" tag handle'),fx.test(i)||Ax(e,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch(a){Ax(e,"tag prefix is malformed: "+i)}e.tagMap[r]=i},"handleTagDirective")};function Ox(e,t,n,r){var i,a,o,s;if(t<n){if(s=e.input.slice(t,n),r)for(i=0,a=s.length;i<a;i+=1)9===(o=s.charCodeAt(i))||32<=o&&o<=1114111||Ax(e,"expected valid JSON character");else ux.test(s)&&Ax(e,"the stream contains non-printable characters");e.result+=s}}function Px(e,t,n,r){var i,a,o,s;for(Kb.isObject(n)||Ax(e,"cannot merge mappings; the provided source object is unacceptable"),o=0,s=(i=Object.keys(n)).length;o<s;o+=1)a=i[o],cx.call(t,a)||(t[a]=n[a],r[a]=!0)}function Fx(e,t,n,r,i,a,o,s,l){var c,u;if(Array.isArray(i))for(c=0,u=(i=Array.prototype.slice.call(i)).length;c<u;c+=1)Array.isArray(i[c])&&Ax(e,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===mx(i[c])&&(i[c]="[object Object]");if("object"==typeof i&&"[object Object]"===mx(i)&&(i="[object Object]"),i=String(i),null===t&&(t={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(a))for(c=0,u=a.length;c<u;c+=1)Px(e,t,a[c],n);else Px(e,t,a,n);else e.json||cx.call(n,i)||!cx.call(t,i)||(e.line=o||e.line,e.lineStart=s||e.lineStart,e.position=l||e.position,Ax(e,"duplicated mapping key")),"__proto__"===i?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[i]=a,delete n[i];return t}function Bx(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):Ax(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Rx(e,t,n){for(var r=0,i=e.input.charCodeAt(e.position);0!==i;){for(;bx(i);)9===i&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&35===i)do{i=e.input.charCodeAt(++e.position)}while(10!==i&&13!==i&&0!==i);if(!gx(i))break;for(Bx(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position)}return-1!==n&&0!==r&&e.lineIndent<n&&Lx(e,"deficient indentation"),r}function Ix(e){var t,n=e.position;return!(45!==(t=e.input.charCodeAt(n))&&46!==t||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,0!==(t=e.input.charCodeAt(n))&&!yx(t)))}function jx(e,t){1===t?e.result+=" ":t>1&&(e.result+=Kb.repeat("\n",t-1))}function zx(e,t,n){var r,i,a,o,s,l,c,u,d=e.kind,h=e.result;if(yx(u=e.input.charCodeAt(e.position))||xx(u)||35===u||38===u||42===u||33===u||124===u||62===u||39===u||34===u||37===u||64===u||96===u)return!1;if((63===u||45===u)&&(yx(r=e.input.charCodeAt(e.position+1))||n&&xx(r)))return!1;for(e.kind="scalar",e.result="",i=a=e.position,o=!1;0!==u;){if(58===u){if(yx(r=e.input.charCodeAt(e.position+1))||n&&xx(r))break}else if(35===u){if(yx(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&Ix(e)||n&&xx(u))break;if(gx(u)){if(s=e.line,l=e.lineStart,c=e.lineIndent,Rx(e,!1,-1),e.lineIndent>=t){o=!0,u=e.input.charCodeAt(e.position);continue}e.position=a,e.line=s,e.lineStart=l,e.lineIndent=c;break}}o&&(Ox(e,i,a,!1),jx(e,e.line-s),i=a=e.position,o=!1),bx(u)||(a=e.position+1),u=e.input.charCodeAt(++e.position)}return Ox(e,i,a,!1),!!e.result||(e.kind=d,e.result=h,!1)}function $x(e,t){var n,r,i;if(39!==(n=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(Ox(e,r,e.position,!0),39!==(n=e.input.charCodeAt(++e.position)))return!0;r=e.position,e.position++,i=e.position}else gx(n)?(Ox(e,r,i,!0),jx(e,Rx(e,!1,t)),r=i=e.position):e.position===e.lineStart&&Ix(e)?Ax(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);Ax(e,"unexpected end of the stream within a single quoted scalar")}function Hx(e,t){var n,r,i,a,o,s;if(34!==(s=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;0!==(s=e.input.charCodeAt(e.position));){if(34===s)return Ox(e,n,e.position,!0),e.position++,!0;if(92===s){if(Ox(e,n,e.position,!0),gx(s=e.input.charCodeAt(++e.position)))Rx(e,!1,t);else if(s<256&&Ex[s])e.result+=Nx[s],e.position++;else if((o=kx(s))>0){for(i=o,a=0;i>0;i--)(o=vx(s=e.input.charCodeAt(++e.position)))>=0?a=(a<<4)+o:Ax(e,"expected hexadecimal character");e.result+=Cx(a),e.position++}else Ax(e,"unknown escape sequence");n=r=e.position}else gx(s)?(Ox(e,n,r,!0),jx(e,Rx(e,!1,t)),n=r=e.position):e.position===e.lineStart&&Ix(e)?Ax(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}Ax(e,"unexpected end of the stream within a double quoted scalar")}function qx(e,t){var n,r,i,a,o,s,l,c,u,d,h,p,f=!0,m=e.tag,g=e.anchor,b=Object.create(null);if(91===(p=e.input.charCodeAt(e.position)))o=93,c=!1,a=[];else{if(123!==p)return!1;o=125,c=!0,a={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=a),p=e.input.charCodeAt(++e.position);0!==p;){if(Rx(e,!0,t),(p=e.input.charCodeAt(e.position))===o)return e.position++,e.tag=m,e.anchor=g,e.kind=c?"mapping":"sequence",e.result=a,!0;f?44===p&&Ax(e,"expected the node content, but found ','"):Ax(e,"missed comma between flow collection entries"),h=null,s=l=!1,63===p&&yx(e.input.charCodeAt(e.position+1))&&(s=l=!0,e.position++,Rx(e,!0,t)),n=e.line,r=e.lineStart,i=e.position,Zx(e,t,1,!1,!0),d=e.tag,u=e.result,Rx(e,!0,t),p=e.input.charCodeAt(e.position),!l&&e.line!==n||58!==p||(s=!0,p=e.input.charCodeAt(++e.position),Rx(e,!0,t),Zx(e,t,1,!1,!0),h=e.result),c?Fx(e,a,b,d,u,h,n,r,i):s?a.push(Fx(e,null,b,d,u,h,n,r,i)):a.push(u),Rx(e,!0,t),44===(p=e.input.charCodeAt(e.position))?(f=!0,p=e.input.charCodeAt(++e.position)):f=!1}Ax(e,"unexpected end of the stream within a flow collection")}function Ux(e,t){var n,r,i,a,o=1,s=!1,l=!1,c=t,u=0,d=!1;if(124===(a=e.input.charCodeAt(e.position)))r=!1;else{if(62!==a)return!1;r=!0}for(e.kind="scalar",e.result="";0!==a;)if(43===(a=e.input.charCodeAt(++e.position))||45===a)1===o?o=43===a?3:2:Ax(e,"repeat of a chomping mode identifier");else{if(!((i=wx(a))>=0))break;0===i?Ax(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?Ax(e,"repeat of an indentation width identifier"):(c=t+i-1,l=!0)}if(bx(a)){do{a=e.input.charCodeAt(++e.position)}while(bx(a));if(35===a)do{a=e.input.charCodeAt(++e.position)}while(!gx(a)&&0!==a)}for(;0!==a;){for(Bx(e),e.lineIndent=0,a=e.input.charCodeAt(e.position);(!l||e.lineIndent<c)&&32===a;)e.lineIndent++,a=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>c&&(c=e.lineIndent),gx(a))u++;else{if(e.lineIndent<c){3===o?e.result+=Kb.repeat("\n",s?1+u:u):1===o&&s&&(e.result+="\n");break}for(r?bx(a)?(d=!0,e.result+=Kb.repeat("\n",s?1+u:u)):d?(d=!1,e.result+=Kb.repeat("\n",u+1)):0===u?s&&(e.result+=" "):e.result+=Kb.repeat("\n",u):e.result+=Kb.repeat("\n",s?1+u:u),s=!0,l=!0,u=0,n=e.position;!gx(a)&&0!==a;)a=e.input.charCodeAt(++e.position);Ox(e,n,e.position,!1)}}return!0}function Vx(e,t){var n,r,i=e.tag,a=e.anchor,o=[],s=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=o),r=e.input.charCodeAt(e.position);0!==r&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,Ax(e,"tab characters must not be used in indentation")),45===r)&&yx(e.input.charCodeAt(e.position+1));)if(s=!0,e.position++,Rx(e,!0,-1)&&e.lineIndent<=t)o.push(null),r=e.input.charCodeAt(e.position);else if(n=e.line,Zx(e,t,3,!1,!0),o.push(e.result),Rx(e,!0,-1),r=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==r)Ax(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!s&&(e.tag=i,e.anchor=a,e.kind="sequence",e.result=o,!0)}function Wx(e,t,n){var r,i,a,o,s,l,c,u=e.tag,d=e.anchor,h={},p=Object.create(null),f=null,m=null,g=null,b=!1,y=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=h),c=e.input.charCodeAt(e.position);0!==c;){if(b||-1===e.firstTabInLine||(e.position=e.firstTabInLine,Ax(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),a=e.line,63!==c&&58!==c||!yx(r)){if(o=e.line,s=e.lineStart,l=e.position,!Zx(e,n,2,!1,!0))break;if(e.line===a){for(c=e.input.charCodeAt(e.position);bx(c);)c=e.input.charCodeAt(++e.position);if(58===c)yx(c=e.input.charCodeAt(++e.position))||Ax(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(Fx(e,h,p,f,m,null,o,s,l),f=m=g=null),y=!0,b=!1,i=!1,f=e.tag,m=e.result;else{if(!y)return e.tag=u,e.anchor=d,!0;Ax(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!y)return e.tag=u,e.anchor=d,!0;Ax(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===c?(b&&(Fx(e,h,p,f,m,null,o,s,l),f=m=g=null),y=!0,b=!0,i=!0):b?(b=!1,i=!0):Ax(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,c=r;if((e.line===a||e.lineIndent>t)&&(b&&(o=e.line,s=e.lineStart,l=e.position),Zx(e,t,4,!0,i)&&(b?m=e.result:g=e.result),b||(Fx(e,h,p,f,m,g,o,s,l),f=m=g=null),Rx(e,!0,-1),c=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&0!==c)Ax(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&Fx(e,h,p,f,m,null,o,s,l),y&&(e.tag=u,e.anchor=d,e.kind="mapping",e.result=h),y}function Gx(e){var t,n,r,i,a=!1,o=!1;if(33!==(i=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&Ax(e,"duplication of a tag property"),60===(i=e.input.charCodeAt(++e.position))?(a=!0,i=e.input.charCodeAt(++e.position)):33===i?(o=!0,n="!!",i=e.input.charCodeAt(++e.position)):n="!",t=e.position,a){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&62!==i);e.position<e.length?(r=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):Ax(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!yx(i);)33===i&&(o?Ax(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),px.test(n)||Ax(e,"named tag handle cannot contain such characters"),o=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);r=e.input.slice(t,e.position),hx.test(r)&&Ax(e,"tag suffix cannot contain flow indicator characters")}r&&!fx.test(r)&&Ax(e,"tag name cannot contain such characters: "+r);try{r=decodeURIComponent(r)}catch(s){Ax(e,"tag name is malformed: "+r)}return a?e.tag=r:cx.call(e.tagMap,n)?e.tag=e.tagMap[n]+r:"!"===n?e.tag="!"+r:"!!"===n?e.tag="tag:yaml.org,2002:"+r:Ax(e,'undeclared tag handle "'+n+'"'),!0}function Kx(e){var t,n;if(38!==(n=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&Ax(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!yx(n)&&!xx(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Ax(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Yx(e){var t,n,r;if(42!==(r=e.input.charCodeAt(e.position)))return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!yx(r)&&!xx(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Ax(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),cx.call(e.anchorMap,n)||Ax(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Rx(e,!0,-1),!0}function Zx(e,t,n,r,i){var a,o,s,l,c,u,d,h,p,f=1,m=!1,g=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=o=s=4===n||3===n,r&&Rx(e,!0,-1)&&(m=!0,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)),1===f)for(;Gx(e)||Kx(e);)Rx(e,!0,-1)?(m=!0,s=a,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)):s=!1;if(s&&(s=m||i),1!==f&&4!==n||(h=1===n||2===n?t:t+1,p=e.position-e.lineStart,1===f?s&&(Vx(e,p)||Wx(e,p,h))||qx(e,h)?g=!0:(o&&Ux(e,h)||$x(e,h)||Hx(e,h)?g=!0:Yx(e)?(g=!0,null===e.tag&&null===e.anchor||Ax(e,"alias node should not have any properties")):zx(e,h,1===n)&&(g=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===f&&(g=s&&Vx(e,p))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&Ax(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),l=0,c=e.implicitTypes.length;l<c;l+=1)if((d=e.implicitTypes[l]).resolve(e.result)){e.result=d.construct(e.result),e.tag=d.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(cx.call(e.typeMap[e.kind||"fallback"],e.tag))d=e.typeMap[e.kind||"fallback"][e.tag];else for(d=null,l=0,c=(u=e.typeMap.multi[e.kind||"fallback"]).length;l<c;l+=1)if(e.tag.slice(0,u[l].tag.length)===u[l].tag){d=u[l];break}d||Ax(e,"unknown tag !<"+e.tag+">"),null!==e.result&&d.kind!==e.kind&&Ax(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+d.kind+'", not "'+e.kind+'"'),d.resolve(e.result,e.tag)?(e.result=d.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):Ax(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||g}function Xx(e){var t,n,r,i,a=e.position,o=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(i=e.input.charCodeAt(e.position))&&(Rx(e,!0,-1),i=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==i));){for(o=!0,i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!yx(i);)i=e.input.charCodeAt(++e.position);for(r=[],(n=e.input.slice(t,e.position)).length<1&&Ax(e,"directive name must not be less than one character in length");0!==i;){for(;bx(i);)i=e.input.charCodeAt(++e.position);if(35===i){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&!gx(i));break}if(gx(i))break;for(t=e.position;0!==i&&!yx(i);)i=e.input.charCodeAt(++e.position);r.push(e.input.slice(t,e.position))}0!==i&&Bx(e),cx.call(Dx,n)?Dx[n](e,n,r):Lx(e,'unknown document directive "'+n+'"')}Rx(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,Rx(e,!0,-1)):o&&Ax(e,"directives end mark is expected"),Zx(e,e.lineIndent-1,4,!1,!0),Rx(e,!0,-1),e.checkLineBreaks&&dx.test(e.input.slice(a,e.position))&&Lx(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Ix(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,Rx(e,!0,-1)):e.position<e.length-1&&Ax(e,"end of the stream or a document separator is expected")}function Qx(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new Tx(e,t),r=e.indexOf("\0");for(-1!==r&&(n.position=r,Ax(n,"null byte is not allowed in input")),n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Xx(n);return n.documents}function Jx(e,t){var n=Qx(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new Xb("expected a single document in the stream, but found more")}}Rm(Ox,"captureSegment"),Rm(Px,"mergeMappings"),Rm(Fx,"storeMappingPair"),Rm(Bx,"readLineBreak"),Rm(Rx,"skipSeparationSpace"),Rm(Ix,"testDocumentSeparator"),Rm(jx,"writeFoldedLines"),Rm(zx,"readPlainScalar"),Rm($x,"readSingleQuotedScalar"),Rm(Hx,"readDoubleQuotedScalar"),Rm(qx,"readFlowCollection"),Rm(Ux,"readBlockScalar"),Rm(Vx,"readBlockSequence"),Rm(Wx,"readBlockMapping"),Rm(Gx,"readTagProperty"),Rm(Kx,"readAnchorProperty"),Rm(Yx,"readAlias"),Rm(Zx,"composeNode"),Rm(Xx,"readDocument"),Rm(Qx,"loadDocuments"),Rm(function(e,t,n){null!==t&&"object"==typeof t&&void 0===n&&(n=t,t=null);var r=Qx(e,n);if("function"!=typeof t)return r;for(var i=0,a=r.length;i<a;i+=1)t(r[i])},"loadAll$1"),Rm(Jx,"load$1");var ev={load:Jx},tv=Object.prototype.toString,nv=Object.prototype.hasOwnProperty,rv=65279,iv={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},av=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],ov=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function sv(e,t){var n,r,i,a,o,s,l;if(null===t)return{};for(n={},i=0,a=(r=Object.keys(t)).length;i<a;i+=1)o=r[i],s=String(t[o]),"!!"===o.slice(0,2)&&(o="tag:yaml.org,2002:"+o.slice(2)),(l=e.compiledTypeMap.fallback[o])&&nv.call(l.styleAliases,s)&&(s=l.styleAliases[s]),n[o]=s;return n}function lv(e){var t,n,r;if(t=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else{if(!(e<=4294967295))throw new Xb("code point within a string may not be greater than 0xFFFFFFFF");n="U",r=8}return"\\"+n+Kb.repeat("0",r-t.length)+t}Rm(sv,"compileStyleMap"),Rm(lv,"encodeHex");function cv(e){this.schema=e.schema||lx,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Kb.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=sv(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType='"'===e.quotingType?2:1,this.forceQuotes=e.forceQuotes||!1,this.replacer="function"==typeof e.replacer?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function uv(e,t){for(var n,r=Kb.repeat(" ",t),i=0,a=-1,o="",s=e.length;i<s;)-1===(a=e.indexOf("\n",i))?(n=e.slice(i),i=s):(n=e.slice(i,a+1),i=a+1),n.length&&"\n"!==n&&(o+=r),o+=n;return o}function dv(e,t){return"\n"+Kb.repeat(" ",e.indent*t)}function hv(e,t){var n,r;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(e.implicitTypes[n].resolve(t))return!0;return!1}function pv(e){return 32===e||9===e}function fv(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==rv||65536<=e&&e<=1114111}function mv(e){return fv(e)&&e!==rv&&13!==e&&10!==e}function gv(e,t,n){var r=mv(e),i=r&&!pv(e);return(n?r:r&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e)&&35!==e&&!(58===t&&!i)||mv(t)&&!pv(t)&&35===e||58===t&&i}function bv(e){return fv(e)&&e!==rv&&!pv(e)&&45!==e&&63!==e&&58!==e&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e&&35!==e&&38!==e&&42!==e&&33!==e&&124!==e&&61!==e&&62!==e&&39!==e&&34!==e&&37!==e&&64!==e&&96!==e}function yv(e){return!pv(e)&&58!==e}function xv(e,t){var n,r=e.charCodeAt(t);return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(r-55296)+n-56320+65536:r}function vv(e){return/^\n* /.test(e)}Rm(cv,"State"),Rm(uv,"indentString"),Rm(dv,"generateNextLine"),Rm(hv,"testImplicitResolving"),Rm(pv,"isWhitespace"),Rm(fv,"isPrintable"),Rm(mv,"isNsCharOrWhitespace"),Rm(gv,"isPlainSafe"),Rm(bv,"isPlainSafeFirst"),Rm(yv,"isPlainSafeLast"),Rm(xv,"codePointAt"),Rm(vv,"needIndentIndicator");function kv(e,t,n,r,i,a,o,s){var l,c=0,u=null,d=!1,h=!1,p=-1!==r,f=-1,m=bv(xv(e,0))&&yv(xv(e,e.length-1));if(t||o)for(l=0;l<e.length;c>=65536?l+=2:l++){if(!fv(c=xv(e,l)))return 5;m=m&&gv(c,u,s),u=c}else{for(l=0;l<e.length;c>=65536?l+=2:l++){if(10===(c=xv(e,l)))d=!0,p&&(h=h||l-f-1>r&&" "!==e[f+1],f=l);else if(!fv(c))return 5;m=m&&gv(c,u,s),u=c}h=h||p&&l-f-1>r&&" "!==e[f+1]}return d||h?n>9&&vv(e)?5:o?2===a?5:2:h?4:3:!m||o||i(e)?2===a?5:2:1}function wv(e,t,n,r,i){e.dump=function(){if(0===t.length)return 2===e.quotingType?'""':"''";if(!e.noCompatMode&&(-1!==av.indexOf(t)||ov.test(t)))return 2===e.quotingType?'"'+t+'"':"'"+t+"'";var a=e.indent*Math.max(1,n),o=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-a),s=r||e.flowLevel>-1&&n>=e.flowLevel;function l(t){return hv(e,t)}switch(Rm(l,"testAmbiguity"),kv(t,s,e.indent,o,l,e.quotingType,e.forceQuotes&&!r,i)){case 1:return t;case 2:return"'"+t.replace(/'/g,"''")+"'";case 3:return"|"+_v(t,e.indent)+Cv(uv(t,a));case 4:return">"+_v(t,e.indent)+Cv(uv(Sv(t,o),a));case 5:return'"'+Nv(t)+'"';default:throw new Xb("impossible error: invalid scalar style")}}()}function _v(e,t){var n=vv(e)?String(t):"",r="\n"===e[e.length-1];return n+(r&&("\n"===e[e.length-2]||"\n"===e)?"+":r?"":"-")+"\n"}function Cv(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function Sv(e,t){for(var n,r,i,a=/(\n+)([^\n]*)/g,o=(n=-1!==(n=e.indexOf("\n"))?n:e.length,a.lastIndex=n,Ev(e.slice(0,n),t)),s="\n"===e[0]||" "===e[0];i=a.exec(e);){var l=i[1],c=i[2];r=" "===c[0],o+=l+(s||r||""===c?"":"\n")+Ev(c,t),s=r}return o}function Ev(e,t){if(""===e||" "===e[0])return e;for(var n,r,i=/ [^ ]/g,a=0,o=0,s=0,l="";n=i.exec(e);)(s=n.index)-a>t&&(r=o>a?o:s,l+="\n"+e.slice(a,r),a=r+1),o=s;return l+="\n",e.length-a>t&&o>a?l+=e.slice(a,o)+"\n"+e.slice(o+1):l+=e.slice(a),l.slice(1)}function Nv(e){for(var t,n="",r=0,i=0;i<e.length;r>=65536?i+=2:i++)r=xv(e,i),!(t=iv[r])&&fv(r)?(n+=e[i],r>=65536&&(n+=e[i+1])):n+=t||lv(r);return n}function Tv(e,t,n){var r,i,a,o="",s=e.tag;for(r=0,i=n.length;r<i;r+=1)a=n[r],e.replacer&&(a=e.replacer.call(n,String(r),a)),(Ov(e,t,a,!1,!1)||void 0===a&&Ov(e,t,null,!1,!1))&&(""!==o&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=s,e.dump="["+o+"]"}function Mv(e,t,n,r){var i,a,o,s="",l=e.tag;for(i=0,a=n.length;i<a;i+=1)o=n[i],e.replacer&&(o=e.replacer.call(n,String(i),o)),(Ov(e,t+1,o,!0,!0,!1,!0)||void 0===o&&Ov(e,t+1,null,!0,!0,!1,!0))&&(r&&""===s||(s+=dv(e,t)),e.dump&&10===e.dump.charCodeAt(0)?s+="-":s+="- ",s+=e.dump);e.tag=l,e.dump=s||"[]"}function Av(e,t,n){var r,i,a,o,s,l="",c=e.tag,u=Object.keys(n);for(r=0,i=u.length;r<i;r+=1)s="",""!==l&&(s+=", "),e.condenseFlow&&(s+='"'),o=n[a=u[r]],e.replacer&&(o=e.replacer.call(n,a,o)),Ov(e,t,a,!1,!1)&&(e.dump.length>1024&&(s+="? "),s+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Ov(e,t,o,!1,!1)&&(l+=s+=e.dump));e.tag=c,e.dump="{"+l+"}"}function Lv(e,t,n,r){var i,a,o,s,l,c,u="",d=e.tag,h=Object.keys(n);if(!0===e.sortKeys)h.sort();else if("function"==typeof e.sortKeys)h.sort(e.sortKeys);else if(e.sortKeys)throw new Xb("sortKeys must be a boolean or a function");for(i=0,a=h.length;i<a;i+=1)c="",r&&""===u||(c+=dv(e,t)),s=n[o=h[i]],e.replacer&&(s=e.replacer.call(n,o,s)),Ov(e,t+1,o,!0,!0,!0)&&((l=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&10===e.dump.charCodeAt(0)?c+="?":c+="? "),c+=e.dump,l&&(c+=dv(e,t)),Ov(e,t+1,s,!0,l)&&(e.dump&&10===e.dump.charCodeAt(0)?c+=":":c+=": ",u+=c+=e.dump));e.tag=d,e.dump=u||"{}"}function Dv(e,t,n){var r,i,a,o,s,l;for(a=0,o=(i=n?e.explicitTypes:e.implicitTypes).length;a<o;a+=1)if(((s=i[a]).instanceOf||s.predicate)&&(!s.instanceOf||"object"==typeof t&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(n?s.multi&&s.representName?e.tag=s.representName(t):e.tag=s.tag:e.tag="?",s.represent){if(l=e.styleMap[s.tag]||s.defaultStyle,"[object Function]"===tv.call(s.represent))r=s.represent(t,l);else{if(!nv.call(s.represent,l))throw new Xb("!<"+s.tag+'> tag resolver accepts not "'+l+'" style');r=s.represent[l](t,l)}e.dump=r}return!0}return!1}function Ov(e,t,n,r,i,a,o){e.tag=null,e.dump=n,Dv(e,n,!1)||Dv(e,n,!0);var s,l=tv.call(e.dump),c=r;r&&(r=e.flowLevel<0||e.flowLevel>t);var u,d,h="[object Object]"===l||"[object Array]"===l;if(h&&(d=-1!==(u=e.duplicates.indexOf(n))),(null!==e.tag&&"?"!==e.tag||d||2!==e.indent&&t>0)&&(i=!1),d&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(h&&d&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),"[object Object]"===l)r&&0!==Object.keys(e.dump).length?(Lv(e,t,e.dump,i),d&&(e.dump="&ref_"+u+e.dump)):(Av(e,t,e.dump),d&&(e.dump="&ref_"+u+" "+e.dump));else if("[object Array]"===l)r&&0!==e.dump.length?(e.noArrayIndent&&!o&&t>0?Mv(e,t-1,e.dump,i):Mv(e,t,e.dump,i),d&&(e.dump="&ref_"+u+e.dump)):(Tv(e,t,e.dump),d&&(e.dump="&ref_"+u+" "+e.dump));else{if("[object String]"!==l){if("[object Undefined]"===l)return!1;if(e.skipInvalid)return!1;throw new Xb("unacceptable kind of an object to dump "+l)}"?"!==e.tag&&wv(e,e.dump,t,a,c)}null!==e.tag&&"?"!==e.tag&&(s=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),s="!"===e.tag[0]?"!"+s:"tag:yaml.org,2002:"===s.slice(0,18)?"!!"+s.slice(18):"!<"+s+">",e.dump=s+" "+e.dump)}return!0}function Pv(e,t){var n,r,i=[],a=[];for(Fv(e,i,a),n=0,r=a.length;n<r;n+=1)t.duplicates.push(i[a[n]]);t.usedDuplicates=new Array(r)}function Fv(e,t,n){var r,i,a;if(null!==e&&"object"==typeof e)if(-1!==(i=t.indexOf(e)))-1===n.indexOf(i)&&n.push(i);else if(t.push(e),Array.isArray(e))for(i=0,a=e.length;i<a;i+=1)Fv(e[i],t,n);else for(i=0,a=(r=Object.keys(e)).length;i<a;i+=1)Fv(e[r[i]],t,n)}Rm(kv,"chooseScalarStyle"),Rm(wv,"writeScalar"),Rm(_v,"blockHeader"),Rm(Cv,"dropEndingNewline"),Rm(Sv,"foldString"),Rm(Ev,"foldLine"),Rm(Nv,"escapeString"),Rm(Tv,"writeFlowSequence"),Rm(Mv,"writeBlockSequence"),Rm(Av,"writeFlowMapping"),Rm(Lv,"writeBlockMapping"),Rm(Dv,"detectType"),Rm(Ov,"writeNode"),Rm(Pv,"getDuplicateReferences"),Rm(Fv,"inspectNode"),Rm(function(e,t){var n=new cv(t=t||{});n.noRefs||Pv(e,n);var r=e;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Ov(n,0,r,!0,!0)?n.dump+"\n":""},"dump$1"),Rm(function(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}},"renamed");var Bv=Oy,Rv=ev.load,Iv={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function jv(e,t){if(void 0===e||void 0===t)return{angle:0,deltaX:0,deltaY:0};e=Hv(e),t=Hv(t);const[n,r]=[e.x,e.y],[i,a]=[t.x,t.y],o=i-n,s=a-r;return{angle:Math.atan(s/o),deltaX:o,deltaY:s}}Rm(jv,"calculateDeltaAndAngle");var zv,$v,Hv=Rm(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),qv=Rm(e=>({x:Rm(function(t,n,r){let i=0;const a=Hv(r[0]).x<Hv(r[r.length-1]).x?"left":"right";if(0===n&&Object.hasOwn(Iv,e.arrowTypeStart)){const{angle:t,deltaX:n}=jv(r[0],r[1]);i=Iv[e.arrowTypeStart]*Math.cos(t)*(n>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(Iv,e.arrowTypeEnd)){const{angle:t,deltaX:n}=jv(r[r.length-1],r[r.length-2]);i=Iv[e.arrowTypeEnd]*Math.cos(t)*(n>=0?1:-1)}const o=Math.abs(Hv(t).x-Hv(r[r.length-1]).x),s=Math.abs(Hv(t).y-Hv(r[r.length-1]).y),l=Math.abs(Hv(t).x-Hv(r[0]).x),c=Math.abs(Hv(t).y-Hv(r[0]).y),u=Iv[e.arrowTypeStart],d=Iv[e.arrowTypeEnd];if(o<d&&o>0&&s<d){let e=d+1-o;e*="right"===a?-1:1,i-=e}if(l<u&&l>0&&c<u){let e=u+1-l;e*="right"===a?-1:1,i+=e}return Hv(t).x+i},"x"),y:Rm(function(t,n,r){let i=0;const a=Hv(r[0]).y<Hv(r[r.length-1]).y?"down":"up";if(0===n&&Object.hasOwn(Iv,e.arrowTypeStart)){const{angle:t,deltaY:n}=jv(r[0],r[1]);i=Iv[e.arrowTypeStart]*Math.abs(Math.sin(t))*(n>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(Iv,e.arrowTypeEnd)){const{angle:t,deltaY:n}=jv(r[r.length-1],r[r.length-2]);i=Iv[e.arrowTypeEnd]*Math.abs(Math.sin(t))*(n>=0?1:-1)}const o=Math.abs(Hv(t).y-Hv(r[r.length-1]).y),s=Math.abs(Hv(t).x-Hv(r[r.length-1]).x),l=Math.abs(Hv(t).y-Hv(r[0]).y),c=Math.abs(Hv(t).x-Hv(r[0]).x),u=Iv[e.arrowTypeStart],d=Iv[e.arrowTypeEnd];if(o<d&&o>0&&s<d){let e=d+1-o;e*="up"===a?-1:1,i-=e}if(l<u&&l>0&&c<u){let e=u+1-l;e*="up"===a?-1:1,i+=e}return Hv(t).y+i},"y")}),"getLineFunctionsWithOffset"),Uv=Rm(({flowchart:e})=>{const t=e?.subGraphTitleMargin?.top??0,n=e?.subGraphTitleMargin?.bottom??0;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:n,subGraphTitleTotalMargin:t+n}},"getSubGraphTitleMargins"),Vv=Rm(e=>{const{handDrawnSeed:t}=Db();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),Wv=Rm(e=>{const t=Gv([...e.cssCompiledStyles||[],...e.cssStyles||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),Gv=Rm(e=>{const t=new Map;return e.forEach(e=>{const[n,r]=e.split(":");t.set(n.trim(),r?.trim())}),t},"styles2Map"),Kv=Rm(e=>"color"===e||"font-size"===e||"font-family"===e||"font-weight"===e||"font-style"===e||"text-decoration"===e||"text-align"===e||"text-transform"===e||"line-height"===e||"letter-spacing"===e||"word-spacing"===e||"text-shadow"===e||"text-overflow"===e||"white-space"===e||"word-wrap"===e||"word-break"===e||"overflow-wrap"===e||"hyphens"===e,"isLabelStyle"),Yv=Rm(e=>{const{stylesArray:t}=Wv(e),n=[],r=[],i=[],a=[];return t.forEach(e=>{const t=e[0];Kv(t)?n.push(e.join(":")+" !important"):(r.push(e.join(":")+" !important"),t.includes("stroke")&&i.push(e.join(":")+" !important"),"fill"===t&&a.push(e.join(":")+" !important"))}),{labelStyles:n.join(";"),nodeStyles:r.join(";"),stylesArray:t,borderStyles:i,backgroundStyles:a}},"styles2String"),Zv=Rm((e,t)=>{const{themeVariables:n,handDrawnSeed:r}=Db(),{nodeBorder:i,mainBkg:a}=n,{stylesMap:o}=Wv(e);return Object.assign({roughness:.7,fill:o.get("fill")||a,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:o.get("stroke")||i,seed:r,strokeWidth:o.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:Xv(o.get("stroke-dasharray"))},t)},"userNodeOverrides"),Xv=Rm(e=>{if(!e)return[0,0];const t=e.trim().split(/\s+/).map(Number);if(1===t.length){const e=isNaN(t[0])?0:t[0];return[e,e]}return[isNaN(t[0])?0:t[0],isNaN(t[1])?0:t[1]]},"getStrokeDashArray"),Qv={},Jv={};var ek=function(){if($v)return Qv;$v=1,Object.defineProperty(Qv,"__esModule",{value:!0}),Qv.sanitizeUrl=void 0;var e=(zv||(zv=1,Object.defineProperty(Jv,"__esModule",{value:!0}),Jv.BLANK_URL=Jv.relativeFirstCharacters=Jv.whitespaceEscapeCharsRegex=Jv.urlSchemeRegex=Jv.ctrlCharactersRegex=Jv.htmlCtrlEntityRegex=Jv.htmlEntitiesRegex=Jv.invalidProtocolRegex=void 0,Jv.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,Jv.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,Jv.htmlCtrlEntityRegex=/&(newline|tab);/gi,Jv.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Jv.urlSchemeRegex=/^.+(:|&colon;)/gim,Jv.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,Jv.relativeFirstCharacters=[".","/"],Jv.BLANK_URL="about:blank"),Jv);function t(t){return t.replace(e.ctrlCharactersRegex,"").replace(e.htmlEntitiesRegex,function(e,t){return String.fromCharCode(t)})}function n(e){try{return decodeURIComponent(e)}catch(gA){return e}}return Qv.sanitizeUrl=function(r){if(!r)return e.BLANK_URL;var i,a=n(r.trim());do{i=(a=n(a=t(a).replace(e.htmlCtrlEntityRegex,"").replace(e.ctrlCharactersRegex,"").replace(e.whitespaceEscapeCharsRegex,"").trim())).match(e.ctrlCharactersRegex)||a.match(e.htmlEntitiesRegex)||a.match(e.htmlCtrlEntityRegex)||a.match(e.whitespaceEscapeCharsRegex)}while(i&&i.length>0);var o=a;if(!o)return e.BLANK_URL;if(function(t){return e.relativeFirstCharacters.indexOf(t[0])>-1}(o))return o;var s=o.trimStart(),l=s.match(e.urlSchemeRegex);if(!l)return o;var c=l[0].toLowerCase().trim();if(e.invalidProtocolRegex.test(c))return e.BLANK_URL;var u=s.replace(/\\/g,"/");if("mailto:"===c||c.includes("://"))return u;if("http:"===c||"https:"===c){if(!function(e){return URL.canParse(e)}(u))return e.BLANK_URL;var d=new URL(u);return d.protocol=d.protocol.toLowerCase(),d.hostname=d.hostname.toLowerCase(),d.toString()}return u},Qv}(),tk={value:()=>{}};function nk(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new rk(r)}function rk(e){this._=e}function ik(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function ak(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=tk,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}rk.prototype=nk.prototype={constructor:rk,on:function(e,t){var n,r=this._,i=function(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}(e+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<o;)if(n=(e=i[a]).type)r[n]=ak(r[n],e.name,t);else if(null==t)for(n in r)r[n]=ak(r[n],e.name,null);return this}for(;++a<o;)if((n=(e=i[a]).type)&&(n=ik(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new rk(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var ok="http://www.w3.org/1999/xhtml";const sk={svg:"http://www.w3.org/2000/svg",xhtml:ok,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function lk(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),sk.hasOwnProperty(t)?{space:sk[t],local:e}:e}function ck(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ok&&t.documentElement.namespaceURI===ok?t.createElement(e):t.createElementNS(n,e)}}function uk(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function dk(e){var t=lk(e);return(t.local?uk:ck)(t)}function hk(){}function pk(e){return null==e?hk:function(){return this.querySelector(e)}}function fk(){return[]}function mk(e){return null==e?fk:function(){return this.querySelectorAll(e)}}function gk(e){return function(){return function(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}function bk(e){return function(){return this.matches(e)}}function yk(e){return function(t){return t.matches(e)}}var xk=Array.prototype.find;function vk(){return this.firstElementChild}var kk=Array.prototype.filter;function wk(){return Array.from(this.children)}function _k(e){return new Array(e.length)}function Ck(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Sk(e,t,n,r,i,a){for(var o,s=0,l=t.length,c=a.length;s<c;++s)(o=t[s])?(o.__data__=a[s],r[s]=o):n[s]=new Ck(e,a[s]);for(;s<l;++s)(o=t[s])&&(i[s]=o)}function Ek(e,t,n,r,i,a,o){var s,l,c,u=new Map,d=t.length,h=a.length,p=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(p[s]=c=o.call(l,l.__data__,s,t)+"",u.has(c)?i[s]=l:u.set(c,l));for(s=0;s<h;++s)c=o.call(e,a[s],s,a)+"",(l=u.get(c))?(r[s]=l,l.__data__=a[s],u.delete(c)):n[s]=new Ck(e,a[s]);for(s=0;s<d;++s)(l=t[s])&&u.get(p[s])===l&&(i[s]=l)}function Nk(e){return e.__data__}function Tk(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Mk(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ak(e){return function(){this.removeAttribute(e)}}function Lk(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Dk(e,t){return function(){this.setAttribute(e,t)}}function Ok(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Pk(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Fk(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Bk(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Rk(e){return function(){this.style.removeProperty(e)}}function Ik(e,t,n){return function(){this.style.setProperty(e,t,n)}}function jk(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function zk(e,t){return e.style.getPropertyValue(t)||Bk(e).getComputedStyle(e,null).getPropertyValue(t)}function $k(e){return function(){delete this[e]}}function Hk(e,t){return function(){this[e]=t}}function qk(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Uk(e){return e.trim().split(/^|\s+/)}function Vk(e){return e.classList||new Wk(e)}function Wk(e){this._node=e,this._names=Uk(e.getAttribute("class")||"")}function Gk(e,t){for(var n=Vk(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Kk(e,t){for(var n=Vk(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Yk(e){return function(){Gk(this,e)}}function Zk(e){return function(){Kk(this,e)}}function Xk(e,t){return function(){(t.apply(this,arguments)?Gk:Kk)(this,e)}}function Qk(){this.textContent=""}function Jk(e){return function(){this.textContent=e}}function ew(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function tw(){this.innerHTML=""}function nw(e){return function(){this.innerHTML=e}}function rw(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function iw(){this.nextSibling&&this.parentNode.appendChild(this)}function aw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ow(){return null}function sw(){var e=this.parentNode;e&&e.removeChild(this)}function lw(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function cw(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function uw(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function dw(e,t,n){return function(){var r,i=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function hw(e,t,n){var r=Bk(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function pw(e,t){return function(){return hw(this,e,t)}}function fw(e,t){return function(){return hw(this,e,t.apply(this,arguments))}}Ck.prototype={constructor:Ck,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},Wk.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var mw=[null];function gw(e,t){this._groups=e,this._parents=t}function bw(){return new gw([[document.documentElement]],mw)}function yw(e){return"string"==typeof e?new gw([[document.querySelector(e)]],[document.documentElement]):new gw([[e]],mw)}function xw(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function vw(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function kw(){}gw.prototype=bw.prototype={constructor:gw,select:function(e){"function"!=typeof e&&(e=pk(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=t[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(o=e.call(a,a.__data__,u,s))&&("__data__"in a&&(o.__data__=a.__data__),c[u]=o);return new gw(r,this._parents)},selectAll:function(e){e="function"==typeof e?gk(e):mk(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o,s=t[a],l=s.length,c=0;c<l;++c)(o=s[c])&&(r.push(e.call(o,o.__data__,c,s)),i.push(o));return new gw(r,i)},selectChild:function(e){return this.select(null==e?vk:function(e){return function(){return xk.call(this.children,e)}}("function"==typeof e?e:yk(e)))},selectChildren:function(e){return this.selectAll(null==e?wk:function(e){return function(){return kk.call(this.children,e)}}("function"==typeof e?e:yk(e)))},filter:function(e){"function"!=typeof e&&(e=bk(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&e.call(a,a.__data__,c,o)&&l.push(a);return new gw(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Nk);var n=t?Ek:Sk,r=this._parents,i=this._groups;"function"!=typeof e&&(e=function(e){return function(){return e}}(e));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],d=i[c],h=d.length,p=Tk(e.call(u,u&&u.__data__,c,r)),f=p.length,m=s[c]=new Array(f),g=o[c]=new Array(f);n(u,d,m,g,l[c]=new Array(h),p,t);for(var b,y,x=0,v=0;x<f;++x)if(b=m[x]){for(x>=v&&(v=x+1);!(y=g[v])&&++v<f;);b._next=y||null}}return(o=new gw(o,r))._enter=s,o._exit=l,o},enter:function(){return new gw(this._enter||this._groups.map(_k),this._parents)},exit:function(){return new gw(this._exit||this._groups.map(_k),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,a=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var c,u=n[l],d=r[l],h=u.length,p=s[l]=new Array(h),f=0;f<h;++f)(c=u[f]||d[f])&&(p[f]=c);for(;l<i;++l)s[l]=n[l];return new gw(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Mk);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],l=s.length,c=i[a]=new Array(l),u=0;u<l;++u)(o=s[u])&&(c[u]=o);c.sort(t)}return new gw(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,s=a.length;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},attr:function(e,t){var n=lk(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Lk:Ak:"function"==typeof t?n.local?Fk:Pk:n.local?Ok:Dk)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Rk:"function"==typeof t?jk:Ik)(e,t,null==n?"":n)):zk(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?$k:"function"==typeof t?qk:Hk)(e,t)):this.node()[e]},classed:function(e,t){var n=Uk(e+"");if(arguments.length<2){for(var r=Vk(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?Xk:t?Yk:Zk)(n,t))},text:function(e){return arguments.length?this.each(null==e?Qk:("function"==typeof e?ew:Jk)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?tw:("function"==typeof e?rw:nw)(e)):this.node().innerHTML},raise:function(){return this.each(iw)},lower:function(){return this.each(aw)},append:function(e){var t="function"==typeof e?e:dk(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:dk(e),r=null==t?ow:"function"==typeof t?t:pk(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(sw)},clone:function(e){return this.select(e?cw:lw)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,a=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),o=a.length;if(!(arguments.length<2)){for(s=t?dw:uw,r=0;r<o;++r)this.each(s(a[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<o;++r)if((i=a[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?fw:pw)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}};var ww=.7,_w=1/ww,Cw="\\s*([+-]?\\d+)\\s*",Sw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ew="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nw=/^#([0-9a-f]{3,8})$/,Tw=new RegExp(`^rgb\\(${Cw},${Cw},${Cw}\\)$`),Mw=new RegExp(`^rgb\\(${Ew},${Ew},${Ew}\\)$`),Aw=new RegExp(`^rgba\\(${Cw},${Cw},${Cw},${Sw}\\)$`),Lw=new RegExp(`^rgba\\(${Ew},${Ew},${Ew},${Sw}\\)$`),Dw=new RegExp(`^hsl\\(${Sw},${Ew},${Ew}\\)$`),Ow=new RegExp(`^hsla\\(${Sw},${Ew},${Ew},${Sw}\\)$`),Pw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Fw(){return this.rgb().formatHex()}function Bw(){return this.rgb().formatRgb()}function Rw(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Nw.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Iw(t):3===n?new Hw(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?jw(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?jw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Tw.exec(e))?new Hw(t[1],t[2],t[3],1):(t=Mw.exec(e))?new Hw(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Aw.exec(e))?jw(t[1],t[2],t[3],t[4]):(t=Lw.exec(e))?jw(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Dw.exec(e))?Kw(t[1],t[2]/100,t[3]/100,1):(t=Ow.exec(e))?Kw(t[1],t[2]/100,t[3]/100,t[4]):Pw.hasOwnProperty(e)?Iw(Pw[e]):"transparent"===e?new Hw(NaN,NaN,NaN,0):null}function Iw(e){return new Hw(e>>16&255,e>>8&255,255&e,1)}function jw(e,t,n,r){return r<=0&&(e=t=n=NaN),new Hw(e,t,n,r)}function zw(e){return e instanceof kw||(e=Rw(e)),e?new Hw((e=e.rgb()).r,e.g,e.b,e.opacity):new Hw}function $w(e,t,n,r){return 1===arguments.length?zw(e):new Hw(e,t,n,null==r?1:r)}function Hw(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function qw(){return`#${Gw(this.r)}${Gw(this.g)}${Gw(this.b)}`}function Uw(){const e=Vw(this.opacity);return`${1===e?"rgb(":"rgba("}${Ww(this.r)}, ${Ww(this.g)}, ${Ww(this.b)}${1===e?")":`, ${e})`}`}function Vw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ww(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gw(e){return((e=Ww(e))<16?"0":"")+e.toString(16)}function Kw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Zw(e,t,n,r)}function Yw(e){if(e instanceof Zw)return new Zw(e.h,e.s,e.l,e.opacity);if(e instanceof kw||(e=Rw(e)),!e)return new Zw;if(e instanceof Zw)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Zw(o,s,l,e.opacity)}function Zw(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Xw(e){return(e=(e||0)%360)<0?e+360:e}function Qw(e){return Math.max(0,Math.min(1,e||0))}function Jw(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}xw(kw,Rw,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Fw,formatHex:Fw,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Yw(this).formatHsl()},formatRgb:Bw,toString:Bw}),xw(Hw,$w,vw(kw,{brighter(e){return e=null==e?_w:Math.pow(_w,e),new Hw(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?ww:Math.pow(ww,e),new Hw(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Hw(Ww(this.r),Ww(this.g),Ww(this.b),Vw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qw,formatHex:qw,formatHex8:function(){return`#${Gw(this.r)}${Gw(this.g)}${Gw(this.b)}${Gw(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Uw,toString:Uw})),xw(Zw,function(e,t,n,r){return 1===arguments.length?Yw(e):new Zw(e,t,n,null==r?1:r)},vw(kw,{brighter(e){return e=null==e?_w:Math.pow(_w,e),new Zw(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?ww:Math.pow(ww,e),new Zw(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Hw(Jw(e>=240?e-240:e+120,i,r),Jw(e,i,r),Jw(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Zw(Xw(this.h),Qw(this.s),Qw(this.l),Vw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vw(this.opacity);return`${1===e?"hsl(":"hsla("}${Xw(this.h)}, ${100*Qw(this.s)}%, ${100*Qw(this.l)}%${1===e?")":`, ${e})`}`}}));const e_=e=>()=>e;function t_(e,t){return function(n){return e+n*t}}function n_(e,t){var n=t-e;return n?t_(e,n>180||n<-180?n-360*Math.round(n/360):n):e_(isNaN(e)?t:e)}function r_(e){return 1===(e=+e)?i_:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):e_(isNaN(t)?n:t)}}function i_(e,t){var n=t-e;return n?t_(e,n):e_(isNaN(e)?t:e)}const a_=function e(t){var n=r_(t);function r(e,t){var r=n((e=$w(e)).r,(t=$w(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=i_(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function o_(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var s_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,l_=new RegExp(s_.source,"g");function c_(e,t){var n,r,i,a=s_.lastIndex=l_.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=s_.exec(e))&&(r=l_.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:o_(n,r)})),a=l_.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}var u_,d_=180/Math.PI,h_={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function p_(e,t,n,r,i,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*d_,skewX:Math.atan(l)*d_,scaleX:o,scaleY:s}}function f_(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var s=[],l=[];return a=e(a),o=e(o),function(e,r,i,a,o,s){if(e!==i||r!==a){var l=o.push("translate(",null,t,null,n);s.push({i:l-4,x:o_(e,i)},{i:l-2,x:o_(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,l),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:o_(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,s,l),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:o_(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,s,l),function(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:o_(e,n)},{i:s-2,x:o_(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,l),a=o=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var m_,g_,b_=f_(function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?h_:p_(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),y_=f_(function(e){return null==e?h_:(u_||(u_=document.createElementNS("http://www.w3.org/2000/svg","g")),u_.setAttribute("transform",e),(e=u_.transform.baseVal.consolidate())?p_((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):h_)},", ",")",")"),x_=0,v_=0,k_=0,w_=0,__=0,C_=0,S_="object"==typeof performance&&performance.now?performance:Date,E_="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function N_(){return __||(E_(T_),__=S_.now()+C_)}function T_(){__=0}function M_(){this._call=this._time=this._next=null}function A_(e,t,n){var r=new M_;return r.restart(e,t,n),r}function L_(){__=(w_=S_.now())+C_,x_=v_=0;try{!function(){N_(),++x_;for(var e,t=m_;t;)(e=__-t._time)>=0&&t._call.call(void 0,e),t=t._next;--x_}()}finally{x_=0,function(){var e,t,n=m_,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:m_=t);g_=e,O_(r)}(),__=0}}function D_(){var e=S_.now(),t=e-w_;t>1e3&&(C_-=t,w_=e)}function O_(e){x_||(v_&&(v_=clearTimeout(v_)),e-__>24?(e<1/0&&(v_=setTimeout(L_,e-S_.now()-C_)),k_&&(k_=clearInterval(k_))):(k_||(w_=S_.now(),k_=setInterval(D_,1e3)),x_=1,E_(L_)))}function P_(e,t,n){var r=new M_;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}M_.prototype=A_.prototype={constructor:M_,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?N_():+n)+(null==t?0:+t),this._next||g_===this||(g_?g_._next=this:m_=this,g_=this),this._call=e,this._time=n,O_()},stop:function(){this._call&&(this._call=null,this._time=1/0,O_())}};var F_=nk("start","end","cancel","interrupt"),B_=[];function R_(e,t,n,r,i,a){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function a(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(a){var c,u,d,h;if(1!==n.state)return l();for(c in i)if((h=i[c]).name===n.name){if(3===h.state)return P_(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[c]):+c<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[c])}if(P_(function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(a))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function s(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=A_(a,0,n.time)}(e,n,{name:t,index:r,group:i,on:F_,tween:B_,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function I_(e,t){var n=z_(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function j_(e,t){var n=z_(e,t);if(n.state>3)throw new Error("too late; already running");return n}function z_(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function $_(e,t){var n,r;return function(){var i=j_(this,e),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}i.tween=r}}function H_(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=j_(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=s;break}l===c&&i.push(s)}a.tween=i}}function q_(e,t,n){var r=e._id;return e.each(function(){var e=j_(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return z_(e,r).value[t]}}function U_(e,t){var n;return("number"==typeof t?o_:t instanceof Rw?a_:(n=Rw(t))?(t=n,a_):c_)(e,t)}function V_(e){return function(){this.removeAttribute(e)}}function W_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function G_(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function K_(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function Y_(e,t,n){var r,i,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttribute(e))===(s=l+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,l));this.removeAttribute(e)}}function Z_(e,t,n){var r,i,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:o===r&&s===i?a:(i=s,a=t(r=o,l));this.removeAttributeNS(e.space,e.local)}}function X_(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function Q_(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function J_(e,t){return function(){I_(this,e).delay=+t.apply(this,arguments)}}function eC(e,t){return t=+t,function(){I_(this,e).delay=t}}function tC(e,t){return function(){j_(this,e).duration=+t.apply(this,arguments)}}function nC(e,t){return t=+t,function(){j_(this,e).duration=t}}var rC=bw.prototype.constructor;function iC(e){return function(){this.style.removeProperty(e)}}var aC=0;function oC(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function sC(){return++aC}var lC=bw.prototype;oC.prototype={constructor:oC,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=pk(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,l,c=r[o],u=c.length,d=a[o]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=e.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,R_(d[h],t,n,h,d,z_(s,n)));return new oC(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=mk(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,p=e.call(l,l.__data__,d,c),f=z_(l,n),m=0,g=p.length;m<g;++m)(h=p[m])&&R_(h,t,n,m,p,f);a.push(p),o.push(l)}return new oC(a,o,t,n)},selectChild:lC.selectChild,selectChildren:lC.selectChildren,filter:function(e){"function"!=typeof e&&(e=bk(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&e.call(a,a.__data__,c,o)&&l.push(a);return new oC(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,c=t[s],u=n[s],d=c.length,h=o[s]=new Array(d),p=0;p<d;++p)(l=c[p]||u[p])&&(h[p]=l);for(;s<r;++s)o[s]=t[s];return new oC(o,this._parents,this._name,this._id)},selection:function(){return new rC(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=sC(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,c=0;c<l;++c)if(o=s[c]){var u=z_(o,t);R_(o,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new oC(r,this._parents,e,n)},call:lC.call,nodes:lC.nodes,node:lC.node,size:lC.size,empty:lC.empty,each:lC.each,on:function(e,t){var n=this._id;return arguments.length<2?z_(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,a=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?I_:j_;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}(n,e,t))},attr:function(e,t){var n=lk(e),r="transform"===n?y_:U_;return this.attrTween(e,"function"==typeof t?(n.local?Z_:Y_)(n,r,q_(this,"attr."+e,t)):null==t?(n.local?W_:V_)(n):(n.local?K_:G_)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=lk(e);return this.tween(n,(r.local?X_:Q_)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?b_:U_;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var a=zk(this,e),o=(this.style.removeProperty(e),zk(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}(e,r)).on("end.style."+e,iC(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var o=zk(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=zk(this,e)),o===l?null:o===r&&l===i?a:(i=l,a=t(r=o,s))}}(e,r,q_(this,"style."+e,t))).each(function(e,t){var n,r,i,a,o="style."+t,s="end."+o;return function(){var l=j_(this,e),c=l.on,u=null==l.value[o]?a||(a=iC(t)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+"";return function(){var o=zk(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,a,n)),r}return a._value=t,a}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(q_(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=z_(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===e)return r.value;return null}return this.each((null==t?$_:H_)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?J_:eC)(t,e)):z_(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?tC:nC)(t,e)):z_(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){j_(this,e).ease=t}}(t,e)):z_(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;j_(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},l={value:function(){0===--i&&a()}};n.each(function(){var n=j_(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t}),0===i&&a()})},[Symbol.iterator]:lC[Symbol.iterator]};var cC={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function uC(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}bw.prototype.interrupt=function(e){return this.each(function(){!function(e,t){var n,r,i,a=e.__transition,o=!0;if(a){for(i in t=null==t?null:t+"",a)(n=a[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete e.__transition}}(this,e)})},bw.prototype.transition=function(e){var t,n;e instanceof oC?(t=e._id,e=e._name):(t=sC(),(n=cC).time=N_(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,c=0;c<l;++c)(o=s[c])&&R_(o,e,t,c,s,n||uC(o,t));return new oC(r,this._parents,e,t)};const dC=Math.PI,hC=2*dC,pC=1e-6,fC=hC-pC;function mC(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class gC{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?mC:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return mC;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,a){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let a=this._x1,o=this._y1,s=n-e,l=r-t,c=a-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>pC)if(Math.abs(u*s-l*c)>pC&&i){let h=n-a,p=r-o,f=s*s+l*l,m=h*h+p*p,g=Math.sqrt(f),b=Math.sqrt(d),y=i*Math.tan((dC-Math.acos((f+d-m)/(2*g*b)))/2),x=y/b,v=y/g;Math.abs(x-1)>pC&&this._append`L${e+x*c},${t+x*u}`,this._append`A${i},${i},0,0,${+(u*h>c*p)},${this._x1=e+v*s},${this._y1=t+v*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,c=t+s,u=1^a,d=a?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>pC||Math.abs(this._y1-c)>pC)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%hC+hC),d>fC?this._append`A${n},${n},0,1,${u},${e-o},${t-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>pC&&this._append`A${n},${n},0,${+(d>=dC)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function bC(e){return function(){return e}}const yC=Math.abs,xC=Math.atan2,vC=Math.cos,kC=Math.max,wC=Math.min,_C=Math.sin,CC=Math.sqrt,SC=1e-12,EC=Math.PI,NC=EC/2,TC=2*EC;function MC(e){return e>1?0:e<-1?EC:Math.acos(e)}function AC(e){return e>=1?NC:e<=-1?-NC:Math.asin(e)}function LC(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new gC(t)}function DC(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function OC(e){this._context=e}function PC(e){return new OC(e)}function FC(e){return e[0]}function BC(e){return e[1]}function RC(e,t){var n=bC(!0),r=null,i=PC,a=null,o=LC(s);function s(s){var l,c,u,d=(s=DC(s)).length,h=!1;for(null==r&&(a=i(u=o())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,s),+t(c,l,s));if(u)return a=null,u+""||null}return e="function"==typeof e?e:void 0===e?FC:bC(e),t="function"==typeof t?t:void 0===t?BC:bC(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:bC(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:bC(+e),s):t},s.defined=function(e){return arguments.length?(n="function"==typeof e?e:bC(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),s):r},s}OC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class IC{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function jC(e){return new IC(e,!0)}function zC(e){return new IC(e,!1)}function $C(){}function HC(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function qC(e){this._context=e}function UC(e){return new qC(e)}function VC(e){this._context=e}function WC(e){this._context=e}function GC(e,t){this._basis=new qC(e),this._beta=t}qC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:HC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:HC(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},VC.prototype={areaStart:$C,areaEnd:$C,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:HC(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},WC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:HC(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},GC.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],a=t[0],o=e[n]-i,s=t[n]-a,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+r*o),this._beta*t[l]+(1-this._beta)*(a+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const KC=function e(t){function n(e){return 1===t?new qC(e):new GC(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function YC(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function ZC(e,t){this._context=e,this._k=(1-t)/6}ZC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:YC(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:YC(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const XC=function e(t){function n(e){return new ZC(e,t)}return n.tension=function(t){return e(+t)},n}(0);function QC(e,t){this._context=e,this._k=(1-t)/6}QC.prototype={areaStart:$C,areaEnd:$C,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:YC(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const JC=function e(t){function n(e){return new QC(e,t)}return n.tension=function(t){return e(+t)},n}(0);function eS(e,t){this._context=e,this._k=(1-t)/6}eS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:YC(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const tS=function e(t){function n(e){return new eS(e,t)}return n.tension=function(t){return e(+t)},n}(0);function nS(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>SC){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>SC){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*c+e._x1*e._l23_2a-t*e._l12_2a)/u,o=(o*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function rS(e,t){this._context=e,this._alpha=t}rS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:nS(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const iS=function e(t){function n(e){return t?new rS(e,t):new ZC(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function aS(e,t){this._context=e,this._alpha=t}aS.prototype={areaStart:$C,areaEnd:$C,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:nS(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const oS=function e(t){function n(e){return t?new aS(e,t):new QC(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function sS(e,t){this._context=e,this._alpha=t}sS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:nS(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const lS=function e(t){function n(e){return t?new sS(e,t):new eS(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function cS(e){this._context=e}function uS(e){return e<0?-1:1}function dS(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(uS(a)+uS(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function hS(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function pS(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function fS(e){this._context=e}function mS(e){this._context=new gS(e)}function gS(e){this._context=e}function bS(e){return new fS(e)}function yS(e){return new mS(e)}function xS(e){this._context=e}function vS(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function kS(e){return new xS(e)}function wS(e,t){this._context=e,this._t=t}function _S(e){return new wS(e,.5)}function CS(e){return new wS(e,0)}function SS(e){return new wS(e,1)}function ES(e,t,n){this.k=e,this.x=t,this.y=n}cS.prototype={areaStart:$C,areaEnd:$C,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},fS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pS(this,this._t0,hS(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,pS(this,hS(this,n=dS(this,e,t)),n);break;default:pS(this,this._t0,n=dS(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(mS.prototype=Object.create(fS.prototype)).point=function(e,t){fS.prototype.point.call(this,t,e)},gS.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},xS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=vS(e),i=vS(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},wS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}},ES.prototype={constructor:ES,scale:function(e){return 1===e?this:new ES(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new ES(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},ES.prototype;var NS="object"==typeof global&&global&&global.Object===Object&&global,TS="object"==typeof self&&self&&self.Object===Object&&self,MS=NS||TS||Function("return this")(),AS=MS.Symbol,LS=Object.prototype,DS=LS.hasOwnProperty,OS=LS.toString,PS=AS?AS.toStringTag:void 0;var FS=Object.prototype.toString;var BS=AS?AS.toStringTag:void 0;function RS(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":BS&&BS in Object(e)?function(e){var t=DS.call(e,PS),n=e[PS];try{e[PS]=void 0;var r=!0}catch(gA){}var i=OS.call(e);return r&&(t?e[PS]=n:delete e[PS]),i}(e):function(e){return FS.call(e)}(e)}function IS(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function jS(e){if(!IS(e))return!1;var t=RS(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var zS,$S=MS["__core-js_shared__"],HS=(zS=/[^.]+$/.exec($S&&$S.keys&&$S.keys.IE_PROTO||""))?"Symbol(src)_1."+zS:"";var qS=Function.prototype.toString;function US(e){if(null!=e){try{return qS.call(e)}catch(gA){}try{return e+""}catch(gA){}}return""}var VS=/^\[object .+?Constructor\]$/,WS=Function.prototype,GS=Object.prototype,KS=WS.toString,YS=GS.hasOwnProperty,ZS=RegExp("^"+KS.call(YS).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function XS(e){return!(!IS(e)||function(e){return!!HS&&HS in e}(e))&&(jS(e)?ZS:VS).test(US(e))}function QS(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return XS(n)?n:void 0}var JS=QS(Object,"create");var eE=Object.prototype.hasOwnProperty;var tE=Object.prototype.hasOwnProperty;function nE(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function rE(e,t){return e===t||e!=e&&t!=t}function iE(e,t){for(var n=e.length;n--;)if(rE(e[n][0],t))return n;return-1}nE.prototype.clear=function(){this.__data__=JS?JS(null):{},this.size=0},nE.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},nE.prototype.get=function(e){var t=this.__data__;if(JS){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return eE.call(t,e)?t[e]:void 0},nE.prototype.has=function(e){var t=this.__data__;return JS?void 0!==t[e]:tE.call(t,e)},nE.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=JS&&void 0===t?"__lodash_hash_undefined__":t,this};var aE=Array.prototype.splice;function oE(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}oE.prototype.clear=function(){this.__data__=[],this.size=0},oE.prototype.delete=function(e){var t=this.__data__,n=iE(t,e);return!(n<0)&&(n==t.length-1?t.pop():aE.call(t,n,1),--this.size,!0)},oE.prototype.get=function(e){var t=this.__data__,n=iE(t,e);return n<0?void 0:t[n][1]},oE.prototype.has=function(e){return iE(this.__data__,e)>-1},oE.prototype.set=function(e,t){var n=this.__data__,r=iE(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var sE=QS(MS,"Map");function lE(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function cE(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}cE.prototype.clear=function(){this.size=0,this.__data__={hash:new nE,map:new(sE||oE),string:new nE}},cE.prototype.delete=function(e){var t=lE(this,e).delete(e);return this.size-=t?1:0,t},cE.prototype.get=function(e){return lE(this,e).get(e)},cE.prototype.has=function(e){return lE(this,e).has(e)},cE.prototype.set=function(e,t){var n=lE(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function uE(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(uE.Cache||cE),n}uE.Cache=cE;function dE(e){var t=this.__data__=new oE(e);this.size=t.size}dE.prototype.clear=function(){this.__data__=new oE,this.size=0},dE.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},dE.prototype.get=function(e){return this.__data__.get(e)},dE.prototype.has=function(e){return this.__data__.has(e)},dE.prototype.set=function(e,t){var n=this.__data__;if(n instanceof oE){var r=n.__data__;if(!sE||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new cE(r)}return n.set(e,t),this.size=n.size,this};var hE=function(){try{var e=QS(Object,"defineProperty");return e({},"",{}),e}catch(gA){}}();function pE(e,t,n){"__proto__"==t&&hE?hE(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function fE(e,t,n){(void 0!==n&&!rE(e[t],n)||void 0===n&&!(t in e))&&pE(e,t,n)}var mE=function(e,t,n){for(var r=-1,i=Object(e),a=n(e),o=a.length;o--;){var s=a[++r];if(!1===t(i[s],s,i))break}return e},gE="object"==typeof exports&&exports&&!exports.nodeType&&exports,bE=gE&&"object"==typeof module&&module&&!module.nodeType&&module,yE=bE&&bE.exports===gE?MS.Buffer:void 0,xE=yE?yE.allocUnsafe:void 0;function vE(e,t){if(t)return e.slice();var n=e.length,r=xE?xE(n):new e.constructor(n);return e.copy(r),r}var kE=MS.Uint8Array;function wE(e){var t=new e.constructor(e.byteLength);return new kE(t).set(new kE(e)),t}function _E(e,t){var n=t?wE(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function CE(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var SE=Object.create,EE=function(){function e(){}return function(t){if(!IS(t))return{};if(SE)return SE(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function NE(e,t){return function(n){return e(t(n))}}var TE=NE(Object.getPrototypeOf,Object),ME=Object.prototype;function AE(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ME)}function LE(e){return"function"!=typeof e.constructor||AE(e)?{}:EE(TE(e))}function DE(e){return null!=e&&"object"==typeof e}function OE(e){return DE(e)&&"[object Arguments]"==RS(e)}var PE=Object.prototype,FE=PE.hasOwnProperty,BE=PE.propertyIsEnumerable,RE=OE(function(){return arguments}())?OE:function(e){return DE(e)&&FE.call(e,"callee")&&!BE.call(e,"callee")},IE=Array.isArray;function jE(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function zE(e){return null!=e&&jE(e.length)&&!jS(e)}function $E(e){return DE(e)&&zE(e)}var HE="object"==typeof exports&&exports&&!exports.nodeType&&exports,qE=HE&&"object"==typeof module&&module&&!module.nodeType&&module,UE=qE&&qE.exports===HE?MS.Buffer:void 0,VE=(UE?UE.isBuffer:void 0)||function(){return!1},WE=Function.prototype,GE=Object.prototype,KE=WE.toString,YE=GE.hasOwnProperty,ZE=KE.call(Object);var XE={};function QE(e){return function(t){return e(t)}}XE["[object Float32Array]"]=XE["[object Float64Array]"]=XE["[object Int8Array]"]=XE["[object Int16Array]"]=XE["[object Int32Array]"]=XE["[object Uint8Array]"]=XE["[object Uint8ClampedArray]"]=XE["[object Uint16Array]"]=XE["[object Uint32Array]"]=!0,XE["[object Arguments]"]=XE["[object Array]"]=XE["[object ArrayBuffer]"]=XE["[object Boolean]"]=XE["[object DataView]"]=XE["[object Date]"]=XE["[object Error]"]=XE["[object Function]"]=XE["[object Map]"]=XE["[object Number]"]=XE["[object Object]"]=XE["[object RegExp]"]=XE["[object Set]"]=XE["[object String]"]=XE["[object WeakMap]"]=!1;var JE="object"==typeof exports&&exports&&!exports.nodeType&&exports,eN=JE&&"object"==typeof module&&module&&!module.nodeType&&module,tN=eN&&eN.exports===JE&&NS.process,nN=function(){try{var e=eN&&eN.require&&eN.require("util").types;return e||tN&&tN.binding&&tN.binding("util")}catch(gA){}}(),rN=nN&&nN.isTypedArray,iN=rN?QE(rN):function(e){return DE(e)&&jE(e.length)&&!!XE[RS(e)]};function aN(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var oN=Object.prototype.hasOwnProperty;function sN(e,t,n){var r=e[t];oN.call(e,t)&&rE(r,n)&&(void 0!==n||t in e)||pE(e,t,n)}function lN(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=void 0;void 0===l&&(l=e[s]),i?pE(n,s,l):sN(n,s,l)}return n}var cN=/^(?:0|[1-9]\d*)$/;function uN(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&cN.test(e))&&e>-1&&e%1==0&&e<t}var dN=Object.prototype.hasOwnProperty;function hN(e,t){var n=IE(e),r=!n&&RE(e),i=!n&&!r&&VE(e),a=!n&&!r&&!i&&iN(e),o=n||r||i||a,s=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)!t&&!dN.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||uN(c,l))||s.push(c);return s}var pN=Object.prototype.hasOwnProperty;function fN(e){if(!IS(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=AE(e),n=[];for(var r in e)("constructor"!=r||!t&&pN.call(e,r))&&n.push(r);return n}function mN(e){return zE(e)?hN(e,!0):fN(e)}function gN(e,t,n,r,i,a,o){var s=aN(e,n),l=aN(t,n),c=o.get(l);if(c)fE(e,n,c);else{var u,d=a?a(s,l,n+"",e,t,o):void 0,h=void 0===d;if(h){var p=IE(l),f=!p&&VE(l),m=!p&&!f&&iN(l);d=l,p||f||m?IE(s)?d=s:$E(s)?d=CE(s):f?(h=!1,d=vE(l,!0)):m?(h=!1,d=_E(l,!0)):d=[]:function(e){if(!DE(e)||"[object Object]"!=RS(e))return!1;var t=TE(e);if(null===t)return!0;var n=YE.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&KE.call(n)==ZE}(l)||RE(l)?(d=s,RE(s)?d=lN(u=s,mN(u)):IS(s)&&!jS(s)||(d=LE(l))):h=!1}h&&(o.set(l,d),i(d,l,r,a,o),o.delete(l)),fE(e,n,d)}}function bN(e,t,n,r,i){e!==t&&mE(t,function(a,o){if(i||(i=new dE),IS(a))gN(e,t,o,n,bN,r,i);else{var s=r?r(aN(e,o),a,o+"",e,t,i):void 0;void 0===s&&(s=a),fE(e,o,s)}},mN)}function yN(e){return e}var xN=Math.max;function vN(e,t,n){return t=xN(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=xN(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}function kN(e){return function(){return e}}var wN=hE?function(e,t){return hE(e,"toString",{configurable:!0,enumerable:!1,value:kN(t),writable:!0})}:yN,_N=Date.now;var CN=function(e){var t=0,n=0;return function(){var r=_N(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(wN);function SN(e,t){return CN(vN(e,t,yN),e+"")}function EN(e,t,n){if(!IS(n))return!1;var r=typeof t;return!!("number"==r?zE(n)&&uN(t,n.length):"string"==r&&t in n)&&rE(n[t],e)}function NN(e){return SN(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,o&&EN(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t})}var TN=NN(function(e,t,n){bN(e,t,n)}),MN="​",AN={curveBasis:UC,curveBasisClosed:function(e){return new VC(e)},curveBasisOpen:function(e){return new WC(e)},curveBumpX:jC,curveBumpY:zC,curveBundle:KC,curveCardinalClosed:JC,curveCardinalOpen:tS,curveCardinal:XC,curveCatmullRomClosed:oS,curveCatmullRomOpen:lS,curveCatmullRom:iS,curveLinear:PC,curveLinearClosed:function(e){return new cS(e)},curveMonotoneX:bS,curveMonotoneY:yS,curveNatural:kS,curveStep:_S,curveStepAfter:SS,curveStepBefore:CS},LN=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,DN=Rm(function(e,t){const n=ON(e,/(?:init\b)|(?:initialize\b)/);let r={};if(Array.isArray(n)){const e=n.map(e=>e.args);bg(e),r=Qm(r,[...e])}else r=n.args;if(!r)return;let i=Gm(e,t);const a="config";return void 0!==r[a]&&("flowchart-v2"===i&&(i="flowchart"),r[i]=r[a],delete r[a]),r},"detectInit"),ON=Rm(function(e,t=null){try{const n=new RegExp(`[%]{2}(?![{]${LN.source})(?=[}][%]{2}).*\n`,"ig");let r;e=e.trim().replace(n,"").replace(/'/gm,'"'),zm.debug(`Detecting diagram directive${null!==t?" type:"+t:""} based on the text:${e}`);const i=[];for(;null!==(r=qm.exec(e));)if(r.index===qm.lastIndex&&qm.lastIndex++,r&&!t||t&&r[1]?.match(t)||t&&r[2]?.match(t)){const e=r[1]?r[1]:r[2],t=r[3]?r[3].trim():r[4]?JSON.parse(r[4].trim()):null;i.push({type:e,args:t})}return 0===i.length?{type:e,args:null}:1===i.length?i[0]:i}catch(n){return zm.error(`ERROR: ${n.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),PN=Rm(function(e){return e.replace(qm,"")},"removeDirectives"),FN=Rm(function(e,t){for(const[n,r]of t.entries())if(r.match(e))return n;return-1},"isSubstringInArray");function BN(e,t){if(!e)return t;const n=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return AN[n]??t}function RN(e,t){const n=e.trim();if(n)return"loose"!==t.securityLevel?ek.sanitizeUrl(n):n}Rm(BN,"interpolateToCurve"),Rm(RN,"formatUrl");var IN=Rm((e,...t)=>{const n=e.split("."),r=n.length-1,i=n[r];let a=window;for(let o=0;o<r;o++)if(a=a[n[o]],!a)return void zm.error(`Function name: ${e} not found in window`);a[i](...t)},"runFunc");function jN(e,t){return e&&t?Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0}function zN(e){let t,n=0;e.forEach(e=>{n+=jN(e,t),t=e});return qN(e,n/2)}function $N(e){return 1===e.length?e[0]:zN(e)}Rm(jN,"distance"),Rm(zN,"traverseEdge"),Rm($N,"calcLabelPosition");var HN=Rm((e,t=2)=>{const n=Math.pow(10,t);return Math.round(e*n)/n},"roundNumber"),qN=Rm((e,t)=>{let n,r=t;for(const i of e){if(n){const e=jN(i,n);if(0===e)return n;if(e<r)r-=e;else{const t=r/e;if(t<=0)return n;if(t>=1)return{x:i.x,y:i.y};if(t>0&&t<1)return{x:HN((1-t)*n.x+t*i.x,5),y:HN((1-t)*n.y+t*i.y,5)}}}n=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),UN=Rm((e,t,n)=>{zm.info(`our points ${JSON.stringify(t)}`),t[0]!==n&&(t=t.reverse());const r=qN(t,25),i=e?10:5,a=Math.atan2(t[0].y-r.y,t[0].x-r.x),o={x:0,y:0};return o.x=Math.sin(a)*i+(t[0].x+r.x)/2,o.y=-Math.cos(a)*i+(t[0].y+r.y)/2,o},"calcCardinalityPosition");function VN(e,t,n){const r=structuredClone(n);zm.info("our points",r),"start_left"!==t&&"start_right"!==t&&r.reverse();const i=qN(r,25+e),a=10+.5*e,o=Math.atan2(r[0].y-i.y,r[0].x-i.x),s={x:0,y:0};return"start_left"===t?(s.x=Math.sin(o+Math.PI)*a+(r[0].x+i.x)/2,s.y=-Math.cos(o+Math.PI)*a+(r[0].y+i.y)/2):"end_right"===t?(s.x=Math.sin(o-Math.PI)*a+(r[0].x+i.x)/2-5,s.y=-Math.cos(o-Math.PI)*a+(r[0].y+i.y)/2-5):"end_left"===t?(s.x=Math.sin(o)*a+(r[0].x+i.x)/2-5,s.y=-Math.cos(o)*a+(r[0].y+i.y)/2-5):(s.x=Math.sin(o)*a+(r[0].x+i.x)/2,s.y=-Math.cos(o)*a+(r[0].y+i.y)/2),s}function WN(e){let t="",n="";for(const r of e)void 0!==r&&(r.startsWith("color:")||r.startsWith("text-align:")?n=n+r+";":t=t+r+";");return{style:t,labelStyle:n}}Rm(VN,"calcTerminalLabelPosition"),Rm(WN,"getStylesFromArray");var GN=0,KN=Rm(()=>(GN++,"id-"+Math.random().toString(36).substr(2,12)+"-"+GN),"generateId");function YN(e){let t="";const n="0123456789abcdef";for(let r=0;r<e;r++)t+=n.charAt(Math.floor(16*Math.random()));return t}Rm(YN,"makeRandomHex");var ZN=Rm(e=>YN(e.length),"random"),XN=Rm(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),QN=Rm(function(e,t){const n=t.text.replace(cb.lineBreakRegex," "),[,r]=cT(t.fontSize),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.style("text-anchor",t.anchor),i.style("font-family",t.fontFamily),i.style("font-size",r),i.style("font-weight",t.fontWeight),i.attr("fill",t.fill),void 0!==t.class&&i.attr("class",t.class);const a=i.append("tspan");return a.attr("x",t.x+2*t.textMargin),a.attr("fill",t.fill),a.text(n),i},"drawSimpleText"),JN=uE((e,t,n)=>{if(!e)return e;if(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),cb.lineBreakRegex.test(e))return e;const r=e.split(" ").filter(Boolean),i=[];let a="";return r.forEach((e,o)=>{const s=nT(`${e} `,n),l=nT(a,n);if(s>t){const{hyphenatedStrings:r,remainingWord:o}=eT(e,t,"-",n);i.push(a,...r),a=o}else l+s>=t?(i.push(a),a=e):a=[a,e].filter(Boolean).join(" ");o+1===r.length&&i.push(a)}),i.filter(e=>""!==e).join(n.joinWith)},(e,t,n)=>`${e}${t}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),eT=uE((e,t,n="-",r)=>{r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},r);const i=[...e],a=[];let o="";return i.forEach((e,s)=>{const l=`${o}${e}`;if(nT(l,r)>=t){const e=s+1,t=i.length===e,r=`${l}${n}`;a.push(t?l:r),o=""}else o=l}),{hyphenatedStrings:a,remainingWord:o}},(e,t,n="-",r)=>`${e}${t}${n}${r.fontSize}${r.fontWeight}${r.fontFamily}`);function tT(e,t){return iT(e,t).height}function nT(e,t){return iT(e,t).width}Rm(tT,"calculateTextHeight"),Rm(nT,"calculateTextWidth");var rT,iT=uE((e,t)=>{const{fontSize:n=12,fontFamily:r="Arial",fontWeight:i=400}=t;if(!e)return{width:0,height:0};const[,a]=cT(n),o=["sans-serif",r],s=e.split(cb.lineBreakRegex),l=[],c=yw("body");if(!c.remove)return{width:0,height:0,lineHeight:0};const u=c.append("svg");for(const d of o){let e=0;const t={width:0,height:0,lineHeight:0};for(const n of s){const r=XN();r.text=n||"​";const o=QN(u,r).style("font-size",a).style("font-weight",i).style("font-family",d),s=(o._groups||o)[0][0].getBBox();if(0===s.width&&0===s.height)throw new Error("svg element not in render tree");t.width=Math.round(Math.max(t.width,s.width)),e=Math.round(s.height),t.height+=e,t.lineHeight=Math.round(Math.max(t.lineHeight,e))}l.push(t)}u.remove();return l[isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),aT=class{constructor(e=!1,t){this.count=0,this.count=t?t.length:0,this.next=e?()=>this.count++:()=>Date.now()}static{Rm(this,"InitIDGenerator")}},oT=Rm(function(e){return rT=rT||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),rT.innerHTML=e,unescape(rT.textContent)},"entityDecode");function sT(e){return"str"in e}Rm(sT,"isDetailedError");var lT=Rm((e,t,n,r)=>{if(!r)return;const i=e.node()?.getBBox();i&&e.append("text").text(r).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-n).attr("class",t)},"insertTitle"),cT=Rm(e=>{if("number"==typeof e)return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");function uT(e,t){return TN({},e,t)}Rm(uT,"cleanAndMerge");var dT={assignWithDepth:Qm,wrapLabel:JN,calculateTextHeight:tT,calculateTextWidth:nT,calculateTextDimensions:iT,cleanAndMerge:uT,detectInit:DN,detectDirective:ON,isSubstringInArray:FN,interpolateToCurve:BN,calcLabelPosition:$N,calcCardinalityPosition:UN,calcTerminalLabelPosition:VN,formatUrl:RN,getStylesFromArray:WN,generateId:KN,random:ZN,runFunc:IN,entityDecode:oT,insertTitle:lT,isLabelCoordinateInPath:gT,parseFontSize:cT,InitIDGenerator:aT},hT=Rm(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(e){return e.substring(0,e.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(e){return e.substring(0,e.length-1)}),t=t.replace(/#\w+;/g,function(e){const t=e.substring(1,e.length-1);return/^\+?\d+$/.test(t)?"ﬂ°°"+t+"¶ß":"ﬂ°"+t+"¶ß"}),t},"encodeEntities"),pT=Rm(function(e){return e.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),fT=Rm((e,t,{counter:n=0,prefix:r,suffix:i},a)=>a||`${r?`${r}_`:""}${e}_${t}_${n}${i?`_${i}`:""}`,"getEdgeId");function mT(e){return e??null}function gT(e,t){const n=Math.round(e.x),r=Math.round(e.y),i=t.replace(/(\d+\.\d+)/g,e=>Math.round(parseFloat(e)).toString());return i.includes(n.toString())||i.includes(r.toString())}Rm(mT,"handleUndefinedAttr"),Rm(gT,"isLabelCoordinateInPath");const bT=Object.freeze({left:0,top:0,width:16,height:16}),yT=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),xT=Object.freeze({...bT,...yT}),vT=Object.freeze({...xT,body:"",hidden:!1}),kT=Object.freeze({width:null,height:null}),wT=Object.freeze({...kT,...yT}),_T=(e,t)=>!!e&&!(!(t&&""===e.prefix||e.prefix)||!e.name);function CT(e,t){const n=function(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const r=((e.rotate||0)+(t.rotate||0))%4;return r&&(n.rotate=r),n}(e,t);for(const r in vT)r in yT?r in e&&!(r in n)&&(n[r]=yT[r]):r in t?n[r]=t[r]:r in e&&(n[r]=e[r]);return n}function ST(e,t,n){const r=e.icons,i=e.aliases||Object.create(null);let a={};function o(e){a=CT(r[e]||i[e],a)}return o(t),n.forEach(o),CT(e,a)}function ET(e,t){if(e.icons[t])return ST(e,t,[]);const n=function(e,t){const n=e.icons,r=e.aliases||Object.create(null),i=Object.create(null);return(t||Object.keys(n).concat(Object.keys(r))).forEach(function e(t){if(n[t])return i[t]=[];if(!(t in i)){i[t]=null;const n=r[t]&&r[t].parent,a=n&&e(n);a&&(i[t]=[n].concat(a))}return i[t]}),i}(e,[t])[t];return n?ST(e,t,n):null}const NT=/(-?[0-9.]*[0-9]+[0-9.]*)/g,TT=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function MT(e,t,n){if(1===t)return e;if(n=n||100,"number"==typeof e)return Math.ceil(e*t*n)/n;if("string"!=typeof e)return e;const r=e.split(NT);if(null===r||!r.length)return e;const i=[];let a=r.shift(),o=TT.test(a);for(;;){if(o){const e=parseFloat(a);isNaN(e)?i.push(a):i.push(Math.ceil(e*t*n)/n)}else i.push(a);if(a=r.shift(),void 0===a)return i.join("");o=!o}}const AT=/\sid="(\S+)"/g,LT="IconifyId"+Date.now().toString(16)+(16777216*Math.random()|0).toString(16);let DT=0;function OT(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var PT={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function FT(e){PT=e}var BT={exec:()=>null};function RT(e,t=""){let n="string"==typeof e?e:e.source,r={replace:(e,t)=>{let i="string"==typeof t?t:t.source;return i=i.replace(IT.caret,"$1"),n=n.replace(e,i),r},getRegex:()=>new RegExp(n,t)};return r}var IT={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},jT=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,zT=/(?:[*+-]|\d{1,9}[.)])/,$T=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,HT=RT($T).replace(/bull/g,zT).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),qT=RT($T).replace(/bull/g,zT).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),UT=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,VT=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,WT=RT(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",VT).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),GT=RT(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,zT).getRegex(),KT="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",YT=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,ZT=RT("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",YT).replace("tag",KT).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),XT=RT(UT).replace("hr",jT).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",KT).getRegex(),QT={blockquote:RT(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",XT).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:WT,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:jT,html:ZT,lheading:HT,list:GT,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:XT,table:BT,text:/^[^\n]+/},JT=RT("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",jT).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",KT).getRegex(),eM={...QT,lheading:qT,table:JT,paragraph:RT(UT).replace("hr",jT).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",JT).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",KT).getRegex()},tM={...QT,html:RT("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",YT).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:BT,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:RT(UT).replace("hr",jT).replace("heading"," *#{1,6} *[^\n]").replace("lheading",HT).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},nM=/^( {2,}|\\)\n(?!\s*$)/,rM=/[\p{P}\p{S}]/u,iM=/[\s\p{P}\p{S}]/u,aM=/[^\s\p{P}\p{S}]/u,oM=RT(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,iM).getRegex(),sM=/(?!~)[\p{P}\p{S}]/u,lM=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,cM=RT(lM,"u").replace(/punct/g,rM).getRegex(),uM=RT(lM,"u").replace(/punct/g,sM).getRegex(),dM="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",hM=RT(dM,"gu").replace(/notPunctSpace/g,aM).replace(/punctSpace/g,iM).replace(/punct/g,rM).getRegex(),pM=RT(dM,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,sM).getRegex(),fM=RT("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,aM).replace(/punctSpace/g,iM).replace(/punct/g,rM).getRegex(),mM=RT(/\\(punct)/,"gu").replace(/punct/g,rM).getRegex(),gM=RT(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),bM=RT(YT).replace("(?:--\x3e|$)","--\x3e").getRegex(),yM=RT("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",bM).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),xM=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`[^`]*`|[^\[\]\\`])*?/,vM=RT(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",xM).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),kM=RT(/^!?\[(label)\]\[(ref)\]/).replace("label",xM).replace("ref",VT).getRegex(),wM=RT(/^!?\[(ref)\](?:\[\])?/).replace("ref",VT).getRegex(),_M={_backpedal:BT,anyPunctuation:mM,autolink:gM,blockSkip:/\[[^\[\]]*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,br:nM,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:BT,emStrongLDelim:cM,emStrongRDelimAst:hM,emStrongRDelimUnd:fM,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:vM,nolink:wM,punctuation:oM,reflink:kM,reflinkSearch:RT("reflink|nolink(?!\\()","g").replace("reflink",kM).replace("nolink",wM).getRegex(),tag:yM,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:BT},CM={..._M,link:RT(/^!?\[(label)\]\((.*?)\)/).replace("label",xM).getRegex(),reflink:RT(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",xM).getRegex()},SM={..._M,emStrongRDelimAst:pM,emStrongLDelim:uM,url:RT(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},EM={...SM,br:RT(nM).replace("{2,}","*").getRegex(),text:RT(SM.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},NM={normal:QT,gfm:eM,pedantic:tM},TM={normal:_M,gfm:SM,breaks:EM,pedantic:CM},MM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},AM=e=>MM[e];function LM(e,t){if(t){if(IT.escapeTest.test(e))return e.replace(IT.escapeReplace,AM)}else if(IT.escapeTestNoEncode.test(e))return e.replace(IT.escapeReplaceNoEncode,AM);return e}function DM(e){try{e=encodeURI(e).replace(IT.percentDecode,"%")}catch{return null}return e}function OM(e,t){let n=e.replace(IT.findPipe,(e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"}),r=n.split(IT.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(IT.slashPipe,"|");return r}function PM(e,t,n){let r=e.length;if(0===r)return"";let i=0;for(;i<r;){if(e.charAt(r-i-1)!==t)break;i++}return e.slice(0,r-i)}function FM(e,t,n,r,i){let a=t.href,o=t.title||null,s=e[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:"!"===e[0].charAt(0)?"image":"link",raw:n,href:a,title:o,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,l}var BM=class{options;rules;lexer;constructor(e){this.options=e||PT}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:PM(e,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],n=function(e,t,n){let r=e.match(n.other.indentCodeCompensation);if(null===r)return t;let i=r[1];return t.split("\n").map(e=>{let t=e.match(n.other.beginningSpace);if(null===t)return e;let[r]=t;return r.length>=i.length?e.slice(i.length):e}).join("\n")}(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){let t=PM(e,"#");(this.options.pedantic||!t||this.rules.other.endingSpaceChar.test(t))&&(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:PM(t[0],"\n")}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=PM(t[0],"\n").split("\n"),n="",r="",i=[];for(;e.length>0;){let t,a=!1,o=[];for(t=0;t<e.length;t++)if(this.rules.other.blockquoteStart.test(e[t]))o.push(e[t]),a=!0;else{if(a)break;o.push(e[t])}e=e.slice(t);let s=o.join("\n"),l=s.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}\n${s}`:s,r=r?`${r}\n${l}`:l;let c=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,i,!0),this.lexer.state.top=c,0===e.length)break;let u=i.at(-1);if("code"===u?.type)break;if("blockquote"===u?.type){let t=u,a=t.raw+"\n"+e.join("\n"),o=this.blockquote(a);i[i.length-1]=o,n=n.substring(0,n.length-t.raw.length)+o.raw,r=r.substring(0,r.length-t.text.length)+o.text;break}if("list"===u?.type){let t=u,a=t.raw+"\n"+e.join("\n"),o=this.list(a);i[i.length-1]=o,n=n.substring(0,n.length-u.raw.length)+o.raw,r=r.substring(0,r.length-t.raw.length)+o.raw,e=a.substring(i.at(-1).raw.length).split("\n");continue}}return{type:"blockquote",raw:n,tokens:i,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let a=this.rules.other.listItemRegex(n),o=!1;for(;e;){let n=!1,r="",s="";if(!(t=a.exec(e))||this.rules.block.hr.test(e))break;r=t[0],e=e.substring(r.length);let l=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,e=>" ".repeat(3*e.length)),c=e.split("\n",1)[0],u=!l.trim(),d=0;if(this.options.pedantic?(d=2,s=l.trimStart()):u?d=t[1].length+1:(d=t[2].search(this.rules.other.nonSpaceChar),d=d>4?1:d,s=l.slice(d),d+=t[1].length),u&&this.rules.other.blankLine.test(c)&&(r+=c+"\n",e=e.substring(c.length+1),n=!0),!n){let t=this.rules.other.nextBulletRegex(d),n=this.rules.other.hrRegex(d),i=this.rules.other.fencesBeginRegex(d),a=this.rules.other.headingBeginRegex(d),o=this.rules.other.htmlBeginRegex(d);for(;e;){let h,p=e.split("\n",1)[0];if(c=p,this.options.pedantic?(c=c.replace(this.rules.other.listReplaceNesting,"  "),h=c):h=c.replace(this.rules.other.tabCharGlobal,"    "),i.test(c)||a.test(c)||o.test(c)||t.test(c)||n.test(c))break;if(h.search(this.rules.other.nonSpaceChar)>=d||!c.trim())s+="\n"+h.slice(d);else{if(u||l.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||i.test(l)||a.test(l)||n.test(l))break;s+="\n"+c}!u&&!c.trim()&&(u=!0),r+=p+"\n",e=e.substring(p.length+1),l=h.slice(d)}}i.loose||(o?i.loose=!0:this.rules.other.doubleBlankLine.test(r)&&(o=!0));let h,p=null;this.options.gfm&&(p=this.rules.other.listIsTask.exec(s),p&&(h="[ ] "!==p[0],s=s.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:r,task:!!p,checked:h,loose:!1,text:s,tokens:[]}),i.raw+=r}let s=i.items.at(-1);if(!s)return;s.raw=s.raw.trimEnd(),s.text=s.text.trimEnd(),i.raw=i.raw.trimEnd();for(let e=0;e<i.items.length;e++)if(this.lexer.state.top=!1,i.items[e].tokens=this.lexer.blockTokens(i.items[e].text,[]),!i.loose){let t=i.items[e].tokens.filter(e=>"space"===e.type),n=t.length>0&&t.some(e=>this.rules.other.anyLine.test(e.raw));i.loose=n}if(i.loose)for(let e=0;e<i.items.length;e++)i.items[e].loose=!0;return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=OM(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],a={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let e of r)this.rules.other.tableAlignRight.test(e)?a.align.push("right"):this.rules.other.tableAlignCenter.test(e)?a.align.push("center"):this.rules.other.tableAlignLeft.test(e)?a.align.push("left"):a.align.push(null);for(let e=0;e<n.length;e++)a.header.push({text:n[e],tokens:this.lexer.inline(n[e]),header:!0,align:a.align[e]});for(let e of i)a.rows.push(OM(e,a.header.length).map((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:a.align[t]})));return a}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let e=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;let t=PM(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{let e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}(t[2],"()");if(-2===e)return;if(e>-1){let n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){let e=this.rules.other.pedanticHrefTitle.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(n=this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?n.slice(1):n.slice(1,-1)),FM(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=t[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!e){let e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return FM(n,e,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){let n,i,a=[...r[0]].length-1,o=a,s=0,l="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+a);null!=(r=l.exec(t));){if(n=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!n)continue;if(i=[...n].length,r[3]||r[4]){o+=i;continue}if((r[5]||r[6])&&a%3&&!((a+i)%3)){s+=i;continue}if(o-=i,o>0)continue;i=Math.min(i,i+o+s);let t=[...r[0]][0].length,l=e.slice(0,a+r.index+t+i);if(Math.min(a,i)%2){let e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}let c=l.slice(2,-2);return{type:"strong",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(e),r=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return n&&r&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=t[1],n="mailto:"+e):(e=t[1],n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=t[0],n="mailto:"+e;else{let r;do{r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(r!==t[0]);e=t[0],n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}},RM=class e{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||PT,this.options.tokenizer=this.options.tokenizer||new BM,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:IT,block:NM.normal,inline:TM.normal};this.options.pedantic?(t.block=NM.pedantic,t.inline=TM.pedantic):this.options.gfm&&(t.block=NM.gfm,this.options.breaks?t.inline=TM.breaks:t.inline=TM.gfm),this.tokenizer.rules=t}static get rules(){return{block:NM,inline:TM}}static lex(t,n){return new e(n).lex(t)}static lexInline(t,n){return new e(n).inlineTokens(t)}lex(e){e=e.replace(IT.carriageReturn,"\n"),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let e=this.inlineQueue[t];this.inlineTokens(e.src,e.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(IT.tabCharGlobal,"    ").replace(IT.spaceLine,""));e;){let r;if(this.options.extensions?.block?.some(n=>!!(r=n.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);let n=t.at(-1);1===r.raw.length&&void 0!==n?n.raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);let n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+r.raw,n.text+="\n"+r.text,this.inlineQueue.at(-1).src=n.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);let n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+r.raw,n.text+="\n"+r.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title},t.push(r));continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let i=e;if(this.options.extensions?.startBlock){let t,n=1/0,r=e.slice(1);this.options.extensions.startBlock.forEach(e=>{t=e.call({lexer:this},r),"number"==typeof t&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(i=e.substring(0,n+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){let a=t.at(-1);n&&"paragraph"===a?.type?(a.raw+=(a.raw.endsWith("\n")?"":"\n")+r.raw,a.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):t.push(r),n=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);let n=t.at(-1);"text"===n?.type?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+r.raw,n.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):t.push(r);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,r=null;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(r=this.tokenizer.rules.inline.reflinkSearch.exec(n));)e.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(r=this.tokenizer.rules.inline.anyPunctuation.exec(n));)n=n.slice(0,r.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(r=this.tokenizer.rules.inline.blockSkip.exec(n));)n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let i=!1,a="";for(;e;){let r;if(i||(a=""),i=!1,this.options.extensions?.inline?.some(n=>!!(r=n.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))continue;if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length);let n=t.at(-1);"text"===r.type&&"text"===n?.type?(n.raw+=r.raw,n.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,n,a)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),t.push(r);continue}let o=e;if(this.options.extensions?.startInline){let t,n=1/0,r=e.slice(1);this.options.extensions.startInline.forEach(e=>{t=e.call({lexer:this},r),"number"==typeof t&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(o=e.substring(0,n+1))}if(r=this.tokenizer.inlineText(o)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(a=r.raw.slice(-1)),i=!0;let n=t.at(-1);"text"===n?.type?(n.raw+=r.raw,n.text+=r.text):t.push(r);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(t)}}return t}},IM=class{options;parser;constructor(e){this.options=e||PT}space(e){return""}code({text:e,lang:t,escaped:n}){let r=(t||"").match(IT.notSpaceStart)?.[0],i=e.replace(IT.endingNewline,"")+"\n";return r?'<pre><code class="language-'+LM(r)+'">'+(n?i:LM(i,!0))+"</code></pre>\n":"<pre><code>"+(n?i:LM(i,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){let t=e.ordered,n=e.start,r="";for(let a=0;a<e.items.length;a++){let t=e.items[a];r+=this.listitem(t)}let i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+r+"</"+i+">\n"}listitem(e){let t="";if(e.task){let n=this.checkbox({checked:!!e.checked});e.loose?"paragraph"===e.tokens[0]?.type?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=n+" "+LM(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let i=0;i<e.header.length;i++)n+=this.tablecell(e.header[i]);t+=this.tablerow({text:n});let r="";for(let i=0;i<e.rows.length;i++){let t=e.rows[i];n="";for(let e=0;e<t.length;e++)n+=this.tablecell(t[e]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${LM(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),i=DM(e);if(null===i)return r;let a='<a href="'+(e=i)+'"';return t&&(a+=' title="'+LM(t)+'"'),a+=">"+r+"</a>",a}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=DM(e);if(null===i)return LM(n);let a=`<img src="${e=i}" alt="${n}"`;return t&&(a+=` title="${LM(t)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:LM(e.text)}},jM=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},zM=class e{options;renderer;textRenderer;constructor(e){this.options=e||PT,this.options.renderer=this.options.renderer||new IM,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new jM}static parse(t,n){return new e(n).parse(t)}static parseInline(t,n){return new e(n).parseInline(t)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){let i=e[r];if(this.options.extensions?.renderers?.[i.type]){let e=i,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(e.type)){n+=t||"";continue}}let a=i;switch(a.type){case"space":n+=this.renderer.space(a);continue;case"hr":n+=this.renderer.hr(a);continue;case"heading":n+=this.renderer.heading(a);continue;case"code":n+=this.renderer.code(a);continue;case"table":n+=this.renderer.table(a);continue;case"blockquote":n+=this.renderer.blockquote(a);continue;case"list":n+=this.renderer.list(a);continue;case"html":n+=this.renderer.html(a);continue;case"def":n+=this.renderer.def(a);continue;case"paragraph":n+=this.renderer.paragraph(a);continue;case"text":{let i=a,o=this.renderer.text(i);for(;r+1<e.length&&"text"===e[r+1].type;)i=e[++r],o+="\n"+this.renderer.text(i);n+=t?this.renderer.paragraph({type:"paragraph",raw:o,text:o,tokens:[{type:"text",raw:o,text:o,escaped:!0}]}):o;continue}default:{let e='Token with "'+a.type+'" type was not found.';if(this.options.silent)return"";throw new Error(e)}}}return n}parseInline(e,t=this.renderer){let n="";for(let r=0;r<e.length;r++){let i=e[r];if(this.options.extensions?.renderers?.[i.type]){let e=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=e||"";continue}}let a=i;switch(a.type){case"escape":case"text":n+=t.text(a);break;case"html":n+=t.html(a);break;case"link":n+=t.link(a);break;case"image":n+=t.image(a);break;case"strong":n+=t.strong(a);break;case"em":n+=t.em(a);break;case"codespan":n+=t.codespan(a);break;case"br":n+=t.br(a);break;case"del":n+=t.del(a);break;default:{let e='Token with "'+a.type+'" type was not found.';if(this.options.silent)return"";throw new Error(e)}}}return n}},$M=class{options;block;constructor(e){this.options=e||PT}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?RM.lex:RM.lexInline}provideParser(){return this.block?zM.parse:zM.parseInline}},HM=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=zM;Renderer=IM;TextRenderer=jM;Lexer=RM;Tokenizer=BM;Hooks=$M;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{let e=r;for(let r of e.header)n=n.concat(this.walkTokens(r.tokens,t));for(let r of e.rows)for(let e of r)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{let e=r;n=n.concat(this.walkTokens(e.items,t));break}default:{let e=r;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach(r=>{let i=e[r].flat(1/0);n=n.concat(this.walkTokens(i,t))}):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(e=>{let n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach(e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){let n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");let n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)}),n.extensions=t),e.renderer){let t=this.defaults.renderer||new IM(this.defaults);for(let n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;let r=n,i=e.renderer[r],a=t[r];t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=a.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){let t=this.defaults.tokenizer||new BM(this.defaults);for(let n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;let r=n,i=e.tokenizer[r],a=t[r];t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=a.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){let t=this.defaults.hooks||new $M;for(let n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;let r=n,i=e.hooks[r],a=t[r];$M.passThroughHooks.has(n)?t[r]=e=>{if(this.defaults.async)return Promise.resolve(i.call(t,e)).then(e=>a.call(t,e));let n=i.call(t,e);return a.call(t,n)}:t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=a.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){let t=this.defaults.walkTokens,r=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(r.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return RM.lex(e,t??this.defaults)}parser(e,t){return zM.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let r={...n},i={...this.defaults,...r},a=this.onError(!!i.silent,!!i.async);if(!0===this.defaults.async&&!1===r.async)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||null===t)return a(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));i.hooks&&(i.hooks.options=i,i.hooks.block=e);let o=i.hooks?i.hooks.provideLexer():e?RM.lex:RM.lexInline,s=i.hooks?i.hooks.provideParser():e?zM.parse:zM.parseInline;if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(t):t).then(e=>o(e,i)).then(e=>i.hooks?i.hooks.processAllTokens(e):e).then(e=>i.walkTokens?Promise.all(this.walkTokens(e,i.walkTokens)).then(()=>e):e).then(e=>s(e,i)).then(e=>i.hooks?i.hooks.postprocess(e):e).catch(a);try{i.hooks&&(t=i.hooks.preprocess(t));let e=o(t,i);i.hooks&&(e=i.hooks.processAllTokens(e)),i.walkTokens&&this.walkTokens(e,i.walkTokens);let n=s(e,i);return i.hooks&&(n=i.hooks.postprocess(n)),n}catch(NA){return a(NA)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){let e="<p>An error occurred:</p><pre>"+LM(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}};function qM(e,t){return HM.parse(e,t)}function UM(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.from("string"==typeof e?[e]:e);r[r.length-1]=r[r.length-1].replace(/\r?\n([\t ]*)$/,"");var i=r.reduce(function(e,t){var n=t.match(/\n([\t ]+|(?!\s).)/g);return n?e.concat(n.map(function(e){var t,n;return null!==(n=null===(t=e.match(/[\t ]/g))||void 0===t?void 0:t.length)&&void 0!==n?n:0})):e},[]);if(i.length){var a=new RegExp("\n[\t ]{"+Math.min.apply(Math,i)+"}","g");r=r.map(function(e){return e.replace(a,"\n")})}r[0]=r[0].replace(/^\r?\n/,"");var o=r[0];return t.forEach(function(e,t){var n=o.match(/(?:^|\n)( *)$/),i=n?n[1]:"",a=e;"string"==typeof e&&e.includes("\n")&&(a=String(e).split("\n").map(function(e,t){return 0===t?e:""+i+e}).join("\n")),o+=a+r[t+1]}),o}qM.options=qM.setOptions=function(e){return HM.setOptions(e),qM.defaults=HM.defaults,FT(qM.defaults),qM},qM.getDefaults=OT,qM.defaults=PT,qM.use=function(...e){return HM.use(...e),qM.defaults=HM.defaults,FT(qM.defaults),qM},qM.walkTokens=function(e,t){return HM.walkTokens(e,t)},qM.parseInline=HM.parseInline,qM.Parser=zM,qM.parser=zM.parse,qM.Renderer=IM,qM.TextRenderer=jM,qM.Lexer=RM,qM.lexer=RM.lex,qM.Tokenizer=BM,qM.Hooks=$M,qM.parse=qM,qM.options,qM.setOptions,qM.use,qM.walkTokens,qM.parseInline,zM.parse,RM.lex;var VM={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},WM=new Map,GM=new Map,KM=Rm(e=>{for(const t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(zm.debug("Registering icon pack:",t.name),"loader"in t)GM.set(t.name,t.loader);else{if(!("icons"in t))throw zm.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.');WM.set(t.name,t.icons)}}},"registerIconPacks"),YM=Rm(async(e,t)=>{const n=((e,t,n,r="")=>{const i=e.split(":");if("@"===e.slice(0,1)){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const e=i.pop(),t=i.pop(),n={provider:i.length>0?i[0]:r,prefix:t,name:e};return _T(n)?n:null}const a=i[0],o=a.split("-");if(o.length>1){const e={provider:r,prefix:o.shift(),name:o.join("-")};return _T(e)?e:null}if(n&&""===r){const e={provider:r,prefix:"",name:a};return _T(e,n)?e:null}return null})(e,0,void 0!==t);if(!n)throw new Error(`Invalid icon name: ${e}`);const r=n.prefix||t;if(!r)throw new Error(`Icon name must contain a prefix: ${e}`);let i=WM.get(r);if(!i){const e=GM.get(r);if(!e)throw new Error(`Icon set not found: ${n.prefix}`);try{i={...await e(),prefix:r},WM.set(r,i)}catch(gA){throw zm.error(gA),new Error(`Failed to load icon set: ${n.prefix}`)}}const a=ET(i,n.name);if(!a)throw new Error(`Icon not found: ${e}`);return a},"getRegisteredIconData"),ZM=Rm(async e=>{try{return await YM(e),!0}catch{return!1}},"isIconAvailable"),XM=Rm(async(e,t,n)=>{let r;try{r=await YM(e,t?.fallbackPrefix)}catch(gA){zm.error(gA),r=VM}const i=function(e,t){const n={...xT,...e},r={...wT,...t},i={left:n.left,top:n.top,width:n.width,height:n.height};let a=n.body;[n,r].forEach(e=>{const t=[],n=e.hFlip,r=e.vFlip;let o,s=e.rotate;switch(n?r?s+=2:(t.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),t.push("scale(-1 1)"),i.top=i.left=0):r&&(t.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),t.push("scale(1 -1)"),i.top=i.left=0),s<0&&(s-=4*Math.floor(s/4)),s%=4,s){case 1:o=i.height/2+i.top,t.unshift("rotate(90 "+o.toString()+" "+o.toString()+")");break;case 2:t.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:o=i.width/2+i.left,t.unshift("rotate(-90 "+o.toString()+" "+o.toString()+")")}s%2==1&&(i.left!==i.top&&(o=i.left,i.left=i.top,i.top=o),i.width!==i.height&&(o=i.width,i.width=i.height,i.height=o)),t.length&&(a=function(e,t,n){const r=function(e,t="defs"){let n="";const r=e.indexOf("<"+t);for(;r>=0;){const i=e.indexOf(">",r),a=e.indexOf("</"+t);if(-1===i||-1===a)break;const o=e.indexOf(">",a);if(-1===o)break;n+=e.slice(i+1,a).trim(),e=e.slice(0,r).trim()+e.slice(o+1)}return{defs:n,content:e}}(e);return function(e,t){return e?"<defs>"+e+"</defs>"+t:t}(r.defs,t+r.content+n)}(a,'<g transform="'+t.join(" ")+'">',"</g>"))});const o=r.width,s=r.height,l=i.width,c=i.height;let u,d;null===o?(d=null===s?"1em":"auto"===s?c:s,u=MT(d,l/c)):(u="auto"===o?l:o,d=null===s?MT(u,c/l):"auto"===s?c:s);const h={},p=(e,t)=>{(e=>"unset"===e||"undefined"===e||"none"===e)(t)||(h[e]=t.toString())};p("width",u),p("height",d);const f=[i.left,i.top,l,c];return h.viewBox=f.join(" "),{attributes:h,viewBox:f,body:a}}(r,t),a=function(e,t){let n=-1===e.indexOf("xlink:")?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in t)n+=" "+r+'="'+t[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}(function(e,t=LT){const n=[];let r;for(;r=AT.exec(e);)n.push(r[1]);if(!n.length)return e;const i="suffix"+(16777216*Math.random()|Date.now()).toString(16);return n.forEach(n=>{const r="function"==typeof t?t(n):t+(DT++).toString(),a=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+r+i+"$3")}),e=e.replace(new RegExp(i,"g"),"")}(i.body),{...i.attributes,...n});return qg(a,Mg())},"getIconSVG");function QM(e,{markdownAutoWrap:t}){const n=UM(e.replace(/<br\/>/g,"\n").replace(/\n{2,}/g,"\n"));return!1===t?n.replace(/ /g,"&nbsp;"):n}function JM(e,t={}){const n=QM(e,t),r=qM.lexer(n),i=[[]];let a=0;function o(e,t="normal"){if("text"===e.type){e.text.split("\n").forEach((e,n)=>{0!==n&&(a++,i.push([])),e.split(" ").forEach(e=>{(e=e.replace(/&#39;/g,"'"))&&i[a].push({content:e,type:t})})})}else"strong"===e.type||"em"===e.type?e.tokens.forEach(t=>{o(t,e.type)}):"html"===e.type&&i[a].push({content:e.text,type:"normal"})}return Rm(o,"processNode"),r.forEach(e=>{"paragraph"===e.type?e.tokens?.forEach(e=>{o(e)}):"html"===e.type?i[a].push({content:e.text,type:"normal"}):i[a].push({content:e.raw,type:"normal"})}),i}function eA(e,{markdownAutoWrap:t}={}){const n=qM.lexer(e);function r(e){return"text"===e.type?!1===t?e.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):e.text.replace(/\n */g,"<br/>"):"strong"===e.type?`<strong>${e.tokens?.map(r).join("")}</strong>`:"em"===e.type?`<em>${e.tokens?.map(r).join("")}</em>`:"paragraph"===e.type?`<p>${e.tokens?.map(r).join("")}</p>`:"space"===e.type?"":"html"===e.type?`${e.text}`:"escape"===e.type?e.text:(zm.warn(`Unsupported markdown: ${e.type}`),e.raw)}return Rm(r,"output"),n.map(r).join("")}function tA(e){return Intl.Segmenter?[...(new Intl.Segmenter).segment(e)].map(e=>e.segment):[...e]}function nA(e,t){return rA(e,[],tA(t.content),t.type)}function rA(e,t,n,r){if(0===n.length)return[{content:t.join(""),type:r},{content:"",type:r}];const[i,...a]=n,o=[...t,i];return e([{content:o.join(""),type:r}])?rA(e,o,a,r):(0===t.length&&i&&(t.push(i),n.shift()),[{content:t.join(""),type:r},{content:n.join(""),type:r}])}function iA(e,t){if(e.some(({content:e})=>e.includes("\n")))throw new Error("splitLineToFitWidth does not support newlines in the line");return aA(e,t)}function aA(e,t,n=[],r=[]){if(0===e.length)return r.length>0&&n.push(r),n.length>0?n:[];let i="";" "===e[0].content&&(i=" ",e.shift());const a=e.shift()??{content:" ",type:"normal"},o=[...r];if(""!==i&&o.push({content:i,type:"normal"}),o.push(a),t(o))return aA(e,t,n,o);if(r.length>0)n.push(r),e.unshift(a);else if(a.content){const[r,i]=nA(t,a);n.push([r]),i.content&&e.unshift(i)}return aA(e,t,n)}function oA(e,t){t&&e.attr("style",t)}async function sA(e,t,n,r,i=!1,a=Mg()){const o=e.append("foreignObject");o.attr("width",10*n+"px"),o.attr("height",10*n+"px");const s=o.append("xhtml:div"),l=ab(t.label)?await lb(t.label.replace(cb.lineBreakRegex,"\n"),a):qg(t.label,a),c=t.isNode?"nodeLabel":"edgeLabel",u=s.append("span");u.html(l),oA(u,t.labelStyle),u.attr("class",`${c} ${r}`),oA(s,t.labelStyle),s.style("display","table-cell"),s.style("white-space","nowrap"),s.style("line-height","1.5"),s.style("max-width",n+"px"),s.style("text-align","center"),s.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&s.attr("class","labelBkg");let d=s.node().getBoundingClientRect();return d.width===n&&(s.style("display","table"),s.style("white-space","break-spaces"),s.style("width",n+"px"),d=s.node().getBoundingClientRect()),o.node()}function lA(e,t,n){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*n-.1+"em").attr("dy",n+"em")}function cA(e,t,n){const r=e.append("text"),i=lA(r,1,t);hA(i,n);const a=i.node().getComputedTextLength();return r.remove(),a}function uA(e,t,n){const r=e.append("text"),i=lA(r,1,t);hA(i,[{content:n,type:"normal"}]);const a=i.node()?.getBoundingClientRect();return a&&r.remove(),a}function dA(e,t,n,r=!1){const i=t.append("g"),a=i.insert("rect").attr("class","background").attr("style","stroke: none"),o=i.append("text").attr("y","-10.1");let s=0;for(const l of n){const t=Rm(t=>cA(i,1.1,t)<=e,"checkWidth"),n=t(l)?[l]:iA(l,t);for(const e of n){hA(lA(o,s,1.1),e),s++}}if(r){const e=o.node().getBBox(),t=2;return a.attr("x",e.x-t).attr("y",e.y-t).attr("width",e.width+2*t).attr("height",e.height+2*t),i.node()}return o.node()}function hA(e,t){e.text(""),t.forEach((t,n)=>{const r=e.append("tspan").attr("font-style","em"===t.type?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight","strong"===t.type?"bold":"normal");0===n?r.text(t.content):r.text(" "+t.content)})}async function pA(e,t={}){const n=[];e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(e,r,i)=>(n.push((async()=>{const n=`${r}:${i}`;return await ZM(n)?await XM(n,void 0,{class:"label-icon"}):`<i class='${qg(e,t).replace(":"," ")}'></i>`})()),e));const r=await Promise.all(n);return e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>r.shift()??"")}Rm(QM,"preprocessMarkdown"),Rm(JM,"markdownToLines"),Rm(eA,"markdownToHTML"),Rm(tA,"splitTextToChars"),Rm(nA,"splitWordToFitWidth"),Rm(rA,"splitWordToFitWidthRecursion"),Rm(iA,"splitLineToFitWidth"),Rm(aA,"splitLineToFitWidthRecursion"),Rm(oA,"applyStyle"),Rm(sA,"addHtmlSpan"),Rm(lA,"createTspan"),Rm(cA,"computeWidthOfText"),Rm(uA,"computeDimensionOfText"),Rm(dA,"createFormattedText"),Rm(hA,"updateTextContentAndStyles"),Rm(pA,"replaceIconSubstring");var fA=Rm(async(e,t="",{style:n="",isTitle:r=!1,classes:i="",useHtmlLabels:a=!0,isNode:o=!0,width:s=200,addSvgBackground:l=!1}={},c)=>{if(zm.debug("XYZ createText",t,n,r,i,a,o,"addSvgBackground: ",l),a){const r=eA(t,c),a=await pA(pT(r),c),u=t.replace(/\\\\/g,"\\"),d={isNode:o,label:ab(t)?u:a,labelStyle:n.replace("fill:","color:")};return await sA(e,d,s,i,l,c)}{const r=dA(s,e,JM(t.replace(/<br\s*\/?>/g,"<br/>").replace("<br>","<br/>"),c),!!t&&l);if(o){/stroke:/.exec(n)&&(n=n.replace("stroke:","lineColor:"));const e=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");yw(r).attr("style",e)}else{const e=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");yw(r).select("rect").attr("style",e.replace(/background:/g,"fill:"));const t=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");yw(r).select("text").attr("style",t)}return r}},"createText");function mA(e,t,n){if(e&&e.length){const[r,i]=t,a=Math.PI/180*n,o=Math.cos(a),s=Math.sin(a);for(const t of e){const[e,n]=t;t[0]=(e-r)*o-(n-i)*s+r,t[1]=(e-r)*s+(n-i)*o+i}}}function gA(e,t){return e[0]===t[0]&&e[1]===t[1]}function bA(e,t,n,r=1){const i=n,a=Math.max(t,.1),o=e[0]&&e[0][0]&&"number"==typeof e[0][0]?[e]:e,s=[0,0];if(i)for(const c of o)mA(c,s,i);const l=function(e,t,n){const r=[];for(const c of e){const e=[...c];gA(e[0],e[e.length-1])||e.push([e[0][0],e[0][1]]),e.length>2&&r.push(e)}const i=[];t=Math.max(t,.1);const a=[];for(const c of r)for(let e=0;e<c.length-1;e++){const t=c[e],n=c[e+1];if(t[1]!==n[1]){const e=Math.min(t[1],n[1]);a.push({ymin:e,ymax:Math.max(t[1],n[1]),x:e===t[1]?t[0]:n[0],islope:(n[0]-t[0])/(n[1]-t[1])})}}if(a.sort((e,t)=>e.ymin<t.ymin?-1:e.ymin>t.ymin?1:e.x<t.x?-1:e.x>t.x?1:e.ymax===t.ymax?0:(e.ymax-t.ymax)/Math.abs(e.ymax-t.ymax)),!a.length)return i;let o=[],s=a[0].ymin,l=0;for(;o.length||a.length;){if(a.length){let e=-1;for(let t=0;t<a.length&&!(a[t].ymin>s);t++)e=t;a.splice(0,e+1).forEach(e=>{o.push({s:s,edge:e})})}if(o=o.filter(e=>!(e.edge.ymax<=s)),o.sort((e,t)=>e.edge.x===t.edge.x?0:(e.edge.x-t.edge.x)/Math.abs(e.edge.x-t.edge.x)),(1!==n||l%t==0)&&o.length>1)for(let e=0;e<o.length;e+=2){const t=e+1;if(t>=o.length)break;const n=o[e].edge,r=o[t].edge;i.push([[Math.round(n.x),s],[Math.round(r.x),s]])}s+=n,o.forEach(e=>{e.edge.x=e.edge.x+n*e.edge.islope}),l++}return i}(o,a,r);if(i){for(const e of o)mA(e,s,-i);!function(e,t,n){const r=[];e.forEach(e=>r.push(...e)),mA(r,t,n)}(l,s,-i)}return l}function yA(e,t){var n;const r=t.hachureAngle+90;let i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.round(Math.max(i,.1));let a=1;return t.roughness>=1&&((null===(n=t.randomizer)||void 0===n?void 0:n.next())||Math.random())>.7&&(a=i),bA(e,i,r,a||1)}class xA{constructor(e){this.helper=e}fillPolygons(e,t){return this._fillPolygons(e,t)}_fillPolygons(e,t){const n=yA(e,t);return{type:"fillSketch",ops:this.renderLines(n,t)}}renderLines(e,t){const n=[];for(const r of e)n.push(...this.helper.doubleLineOps(r[0][0],r[0][1],r[1][0],r[1][1],t));return n}}function vA(e){const t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}class kA extends xA{fillPolygons(e,t){let n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.max(n,.1);const r=yA(e,Object.assign({},t,{hachureGap:n})),i=Math.PI/180*t.hachureAngle,a=[],o=.5*n*Math.cos(i),s=.5*n*Math.sin(i);for(const[l,c]of r)vA([l,c])&&a.push([[l[0]-o,l[1]+s],[...c]],[[l[0]+o,l[1]-s],[...c]]);return{type:"fillSketch",ops:this.renderLines(a,t)}}}class wA extends xA{fillPolygons(e,t){const n=this._fillPolygons(e,t),r=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),i=this._fillPolygons(e,r);return n.ops=n.ops.concat(i.ops),n}}class _A{constructor(e){this.helper=e}fillPolygons(e,t){const n=yA(e,t=Object.assign({},t,{hachureAngle:0}));return this.dotsOnLines(n,t)}dotsOnLines(e,t){const n=[];let r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.max(r,.1);let i=t.fillWeight;i<0&&(i=t.strokeWidth/2);const a=r/4;for(const o of e){const e=vA(o),s=e/r,l=Math.ceil(s)-1,c=e-l*r,u=(o[0][0]+o[1][0])/2-r/4,d=Math.min(o[0][1],o[1][1]);for(let o=0;o<l;o++){const e=d+c+o*r,s=u-a+2*Math.random()*a,l=e-a+2*Math.random()*a,h=this.helper.ellipse(s,l,i,i,t);n.push(...h.ops)}}return{type:"fillSketch",ops:n}}}class CA{constructor(e){this.helper=e}fillPolygons(e,t){const n=yA(e,t);return{type:"fillSketch",ops:this.dashedLine(n,t)}}dashedLine(e,t){const n=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,r=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,i=[];return e.forEach(e=>{const a=vA(e),o=Math.floor(a/(n+r)),s=(a+r-o*(n+r))/2;let l=e[0],c=e[1];l[0]>c[0]&&(l=e[1],c=e[0]);const u=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let d=0;d<o;d++){const e=d*(n+r),a=e+n,o=[l[0]+e*Math.cos(u)+s*Math.cos(u),l[1]+e*Math.sin(u)+s*Math.sin(u)],c=[l[0]+a*Math.cos(u)+s*Math.cos(u),l[1]+a*Math.sin(u)+s*Math.sin(u)];i.push(...this.helper.doubleLineOps(o[0],o[1],c[0],c[1],t))}}),i}}class SA{constructor(e){this.helper=e}fillPolygons(e,t){const n=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,r=t.zigzagOffset<0?n:t.zigzagOffset,i=yA(e,t=Object.assign({},t,{hachureGap:n+r}));return{type:"fillSketch",ops:this.zigzagLines(i,r,t)}}zigzagLines(e,t,n){const r=[];return e.forEach(e=>{const i=vA(e),a=Math.round(i/(2*t));let o=e[0],s=e[1];o[0]>s[0]&&(o=e[1],s=e[0]);const l=Math.atan((s[1]-o[1])/(s[0]-o[0]));for(let c=0;c<a;c++){const e=2*c*t,i=2*(c+1)*t,a=Math.sqrt(2*Math.pow(t,2)),s=[o[0]+e*Math.cos(l),o[1]+e*Math.sin(l)],u=[o[0]+i*Math.cos(l),o[1]+i*Math.sin(l)],d=[s[0]+a*Math.cos(l+Math.PI/4),s[1]+a*Math.sin(l+Math.PI/4)];r.push(...this.helper.doubleLineOps(s[0],s[1],d[0],d[1],n),...this.helper.doubleLineOps(d[0],d[1],u[0],u[1],n))}}),r}}const EA={};class NA{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const TA={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function MA(e,t){return e.type===t}function AA(e){const t=[],n=function(e){const t=new Array;for(;""!==e;)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:0,text:RegExp.$1},e=e.substr(RegExp.$1.length);else{if(!e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];t[t.length]={type:1,text:`${parseFloat(RegExp.$1)}`},e=e.substr(RegExp.$1.length)}return t[t.length]={type:2,text:""},t}(e);let r="BOD",i=0,a=n[i];for(;!MA(a,2);){let o=0;const s=[];if("BOD"===r){if("M"!==a.text&&"m"!==a.text)return AA("M0,0"+e);i++,o=TA[a.text],r=a.text}else MA(a,1)?o=TA[r]:(i++,o=TA[a.text],r=a.text);if(!(i+o<n.length))throw new Error("Path data ended short");for(let e=i;e<i+o;e++){const t=n[e];if(!MA(t,1))throw new Error("Param not a number: "+r+","+t.text);s[s.length]=+t.text}if("number"!=typeof TA[r])throw new Error("Bad segment: "+r);{const e={key:r,data:s};t.push(e),i+=o,a=n[i],"M"===r&&(r="L"),"m"===r&&(r="l")}}return t}function LA(e){let t=0,n=0,r=0,i=0;const a=[];for(const{key:o,data:s}of e)switch(o){case"M":a.push({key:"M",data:[...s]}),[t,n]=s,[r,i]=s;break;case"m":t+=s[0],n+=s[1],a.push({key:"M",data:[t,n]}),r=t,i=n;break;case"L":a.push({key:"L",data:[...s]}),[t,n]=s;break;case"l":t+=s[0],n+=s[1],a.push({key:"L",data:[t,n]});break;case"C":a.push({key:"C",data:[...s]}),t=s[4],n=s[5];break;case"c":{const e=s.map((e,r)=>r%2?e+n:e+t);a.push({key:"C",data:e}),t=e[4],n=e[5];break}case"Q":a.push({key:"Q",data:[...s]}),t=s[2],n=s[3];break;case"q":{const e=s.map((e,r)=>r%2?e+n:e+t);a.push({key:"Q",data:e}),t=e[2],n=e[3];break}case"A":a.push({key:"A",data:[...s]}),t=s[5],n=s[6];break;case"a":t+=s[5],n+=s[6],a.push({key:"A",data:[s[0],s[1],s[2],s[3],s[4],t,n]});break;case"H":a.push({key:"H",data:[...s]}),t=s[0];break;case"h":t+=s[0],a.push({key:"H",data:[t]});break;case"V":a.push({key:"V",data:[...s]}),n=s[0];break;case"v":n+=s[0],a.push({key:"V",data:[n]});break;case"S":a.push({key:"S",data:[...s]}),t=s[2],n=s[3];break;case"s":{const e=s.map((e,r)=>r%2?e+n:e+t);a.push({key:"S",data:e}),t=e[2],n=e[3];break}case"T":a.push({key:"T",data:[...s]}),t=s[0],n=s[1];break;case"t":t+=s[0],n+=s[1],a.push({key:"T",data:[t,n]});break;case"Z":case"z":a.push({key:"Z",data:[]}),t=r,n=i}return a}function DA(e){const t=[];let n="",r=0,i=0,a=0,o=0,s=0,l=0;for(const{key:c,data:u}of e){switch(c){case"M":t.push({key:"M",data:[...u]}),[r,i]=u,[a,o]=u;break;case"C":t.push({key:"C",data:[...u]}),r=u[4],i=u[5],s=u[2],l=u[3];break;case"L":t.push({key:"L",data:[...u]}),[r,i]=u;break;case"H":r=u[0],t.push({key:"L",data:[r,i]});break;case"V":i=u[0],t.push({key:"L",data:[r,i]});break;case"S":{let e=0,a=0;"C"===n||"S"===n?(e=r+(r-s),a=i+(i-l)):(e=r,a=i),t.push({key:"C",data:[e,a,...u]}),s=u[0],l=u[1],r=u[2],i=u[3];break}case"T":{const[e,a]=u;let o=0,c=0;"Q"===n||"T"===n?(o=r+(r-s),c=i+(i-l)):(o=r,c=i);const d=r+2*(o-r)/3,h=i+2*(c-i)/3,p=e+2*(o-e)/3,f=a+2*(c-a)/3;t.push({key:"C",data:[d,h,p,f,e,a]}),s=o,l=c,r=e,i=a;break}case"Q":{const[e,n,a,o]=u,c=r+2*(e-r)/3,d=i+2*(n-i)/3,h=a+2*(e-a)/3,p=o+2*(n-o)/3;t.push({key:"C",data:[c,d,h,p,a,o]}),s=e,l=n,r=a,i=o;break}case"A":{const e=Math.abs(u[0]),n=Math.abs(u[1]),a=u[2],o=u[3],s=u[4],l=u[5],c=u[6];0===e||0===n?(t.push({key:"C",data:[r,i,l,c,l,c]}),r=l,i=c):r===l&&i===c||(PA(r,i,l,c,e,n,a,o,s).forEach(function(e){t.push({key:"C",data:e})}),r=l,i=c);break}case"Z":t.push({key:"Z",data:[]}),r=a,i=o}n=c}return t}function OA(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function PA(e,t,n,r,i,a,o,s,l,c){const u=(d=o,Math.PI*d/180);var d;let h=[],p=0,f=0,m=0,g=0;if(c)[p,f,m,g]=c;else{[e,t]=OA(e,t,-u),[n,r]=OA(n,r,-u);const o=(e-n)/2,c=(t-r)/2;let d=o*o/(i*i)+c*c/(a*a);d>1&&(d=Math.sqrt(d),i*=d,a*=d);const h=i*i,b=a*a,y=h*b-h*c*c-b*o*o,x=h*c*c+b*o*o,v=(s===l?-1:1)*Math.sqrt(Math.abs(y/x));m=v*i*c/a+(e+n)/2,g=v*-a*o/i+(t+r)/2,p=Math.asin(parseFloat(((t-g)/a).toFixed(9))),f=Math.asin(parseFloat(((r-g)/a).toFixed(9))),e<m&&(p=Math.PI-p),n<m&&(f=Math.PI-f),p<0&&(p=2*Math.PI+p),f<0&&(f=2*Math.PI+f),l&&p>f&&(p-=2*Math.PI),!l&&f>p&&(f-=2*Math.PI)}let b=f-p;if(Math.abs(b)>120*Math.PI/180){const e=f,t=n,s=r;f=l&&f>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,h=PA(n=m+i*Math.cos(f),r=g+a*Math.sin(f),t,s,i,a,o,0,l,[f,e,m,g])}b=f-p;const y=Math.cos(p),x=Math.sin(p),v=Math.cos(f),k=Math.sin(f),w=Math.tan(b/4),_=4/3*i*w,C=4/3*a*w,S=[e,t],E=[e+_*x,t-C*y],N=[n+_*k,r-C*v],T=[n,r];if(E[0]=2*S[0]-E[0],E[1]=2*S[1]-E[1],c)return[E,N,T].concat(h);{h=[E,N,T].concat(h);const e=[];for(let t=0;t<h.length;t+=3){const n=OA(h[t][0],h[t][1],u),r=OA(h[t+1][0],h[t+1][1],u),i=OA(h[t+2][0],h[t+2][1],u);e.push([n[0],n[1],r[0],r[1],i[0],i[1]])}return e}}const FA={randOffset:function(e,t){return KA(e,t)},randOffsetWithRange:function(e,t,n){return GA(e,t,n)},ellipse:function(e,t,n,r,i){return zA(e,t,i,jA(n,r,i)).opset},doubleLineOps:function(e,t,n,r,i){return YA(e,t,n,r,i,!0)}};function BA(e,t,n,r,i){return{type:"path",ops:YA(e,t,n,r,i)}}function RA(e,t,n){const r=(e||[]).length;if(r>2){const i=[];for(let t=0;t<r-1;t++)i.push(...YA(e[t][0],e[t][1],e[t+1][0],e[t+1][1],n));return t&&i.push(...YA(e[r-1][0],e[r-1][1],e[0][0],e[0][1],n)),{type:"path",ops:i}}return 2===r?BA(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function IA(e,t){if(e.length){const n="number"==typeof e[0][0]?[e]:e,r=XA(n[0],1*(1+.2*t.roughness),t),i=t.disableMultiStroke?[]:XA(n[0],1.5*(1+.22*t.roughness),VA(t));for(let e=1;e<n.length;e++){const a=n[e];if(a.length){const e=XA(a,1*(1+.2*t.roughness),t),n=t.disableMultiStroke?[]:XA(a,1.5*(1+.22*t.roughness),VA(t));for(const t of e)"move"!==t.op&&r.push(t);for(const t of n)"move"!==t.op&&i.push(t)}}return{type:"path",ops:r.concat(i)}}return{type:"path",ops:[]}}function jA(e,t,n){const r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),a=2*Math.PI/i;let o=Math.abs(e/2),s=Math.abs(t/2);const l=1-n.curveFitting;return o+=KA(o*l,n),s+=KA(s*l,n),{increment:a,rx:o,ry:s}}function zA(e,t,n,r){const[i,a]=JA(r.increment,e,t,r.rx,r.ry,1,r.increment*GA(.1,GA(.4,1,n),n),n);let o=QA(i,null,n);if(!n.disableMultiStroke&&0!==n.roughness){const[i]=JA(r.increment,e,t,r.rx,r.ry,1.5,0,n),a=QA(i,null,n);o=o.concat(a)}return{estimatedPoints:a,opset:{type:"path",ops:o}}}function $A(e,t,n,r,i,a,o,s,l){const c=e,u=t;let d=Math.abs(n/2),h=Math.abs(r/2);d+=KA(.01*d,l),h+=KA(.01*h,l);let p=i,f=a;for(;p<0;)p+=2*Math.PI,f+=2*Math.PI;f-p>2*Math.PI&&(p=0,f=2*Math.PI);const m=2*Math.PI/l.curveStepCount,g=Math.min(m/2,(f-p)/2),b=eL(g,c,u,d,h,p,f,1,l);if(!l.disableMultiStroke){const e=eL(g,c,u,d,h,p,f,1.5,l);b.push(...e)}return o&&(s?b.push(...YA(c,u,c+d*Math.cos(p),u+h*Math.sin(p),l),...YA(c,u,c+d*Math.cos(f),u+h*Math.sin(f),l)):b.push({op:"lineTo",data:[c,u]},{op:"lineTo",data:[c+d*Math.cos(p),u+h*Math.sin(p)]})),{type:"path",ops:b}}function HA(e,t){const n=DA(LA(AA(e))),r=[];let i=[0,0],a=[0,0];for(const{key:o,data:s}of n)switch(o){case"M":a=[s[0],s[1]],i=[s[0],s[1]];break;case"L":r.push(...YA(a[0],a[1],s[0],s[1],t)),a=[s[0],s[1]];break;case"C":{const[e,n,i,o,l,c]=s;r.push(...tL(e,n,i,o,l,c,a,t)),a=[l,c];break}case"Z":r.push(...YA(a[0],a[1],i[0],i[1],t)),a=[i[0],i[1]]}return{type:"path",ops:r}}function qA(e,t){const n=[];for(const r of e)if(r.length){const e=t.maxRandomnessOffset||0,i=r.length;if(i>2){n.push({op:"move",data:[r[0][0]+KA(e,t),r[0][1]+KA(e,t)]});for(let a=1;a<i;a++)n.push({op:"lineTo",data:[r[a][0]+KA(e,t),r[a][1]+KA(e,t)]})}}return{type:"fillPath",ops:n}}function UA(e,t){return function(e,t){let n=e.fillStyle||"hachure";if(!EA[n])switch(n){case"zigzag":EA[n]||(EA[n]=new kA(t));break;case"cross-hatch":EA[n]||(EA[n]=new wA(t));break;case"dots":EA[n]||(EA[n]=new _A(t));break;case"dashed":EA[n]||(EA[n]=new CA(t));break;case"zigzag-line":EA[n]||(EA[n]=new SA(t));break;default:n="hachure",EA[n]||(EA[n]=new xA(t))}return EA[n]}(t,FA).fillPolygons(e,t)}function VA(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function WA(e){return e.randomizer||(e.randomizer=new NA(e.seed||0)),e.randomizer.next()}function GA(e,t,n,r=1){return n.roughness*r*(WA(n)*(t-e)+e)}function KA(e,t,n=1){return GA(-e,e,t,n)}function YA(e,t,n,r,i,a=!1){const o=a?i.disableMultiStrokeFill:i.disableMultiStroke,s=ZA(e,t,n,r,i,!0,!1);if(o)return s;const l=ZA(e,t,n,r,i,!0,!0);return s.concat(l)}function ZA(e,t,n,r,i,a,o){const s=Math.pow(e-n,2)+Math.pow(t-r,2),l=Math.sqrt(s);let c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;let u=i.maxRandomnessOffset||0;u*u*100>s&&(u=l/10);const d=u/2,h=.2+.2*WA(i);let p=i.bowing*i.maxRandomnessOffset*(r-t)/200,f=i.bowing*i.maxRandomnessOffset*(e-n)/200;p=KA(p,i,c),f=KA(f,i,c);const m=[],g=()=>KA(d,i,c),b=()=>KA(u,i,c),y=i.preserveVertices;return o?m.push({op:"move",data:[e+(y?0:g()),t+(y?0:g())]}):m.push({op:"move",data:[e+(y?0:KA(u,i,c)),t+(y?0:KA(u,i,c))]}),o?m.push({op:"bcurveTo",data:[p+e+(n-e)*h+g(),f+t+(r-t)*h+g(),p+e+2*(n-e)*h+g(),f+t+2*(r-t)*h+g(),n+(y?0:g()),r+(y?0:g())]}):m.push({op:"bcurveTo",data:[p+e+(n-e)*h+b(),f+t+(r-t)*h+b(),p+e+2*(n-e)*h+b(),f+t+2*(r-t)*h+b(),n+(y?0:b()),r+(y?0:b())]}),m}function XA(e,t,n){if(!e.length)return[];const r=[];r.push([e[0][0]+KA(t,n),e[0][1]+KA(t,n)]),r.push([e[0][0]+KA(t,n),e[0][1]+KA(t,n)]);for(let i=1;i<e.length;i++)r.push([e[i][0]+KA(t,n),e[i][1]+KA(t,n)]),i===e.length-1&&r.push([e[i][0]+KA(t,n),e[i][1]+KA(t,n)]);return QA(r,null,n)}function QA(e,t,n){const r=e.length,i=[];if(r>3){const t=[],a=1-n.curveTightness;i.push({op:"move",data:[e[1][0],e[1][1]]});for(let n=1;n+2<r;n++){const r=e[n];t[0]=[r[0],r[1]],t[1]=[r[0]+(a*e[n+1][0]-a*e[n-1][0])/6,r[1]+(a*e[n+1][1]-a*e[n-1][1])/6],t[2]=[e[n+1][0]+(a*e[n][0]-a*e[n+2][0])/6,e[n+1][1]+(a*e[n][1]-a*e[n+2][1])/6],t[3]=[e[n+1][0],e[n+1][1]],i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[3][0],t[3][1]]})}}else 3===r?(i.push({op:"move",data:[e[1][0],e[1][1]]}),i.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===r&&i.push(...ZA(e[0][0],e[0][1],e[1][0],e[1][1],n,0,!0));return i}function JA(e,t,n,r,i,a,o,s){const l=[],c=[];if(0===s.roughness){e/=4,c.push([t+r*Math.cos(-e),n+i*Math.sin(-e)]);for(let a=0;a<=2*Math.PI;a+=e){const e=[t+r*Math.cos(a),n+i*Math.sin(a)];l.push(e),c.push(e)}c.push([t+r*Math.cos(0),n+i*Math.sin(0)]),c.push([t+r*Math.cos(e),n+i*Math.sin(e)])}else{const u=KA(.5,s)-Math.PI/2;c.push([KA(a,s)+t+.9*r*Math.cos(u-e),KA(a,s)+n+.9*i*Math.sin(u-e)]);const d=2*Math.PI+u-.01;for(let o=u;o<d;o+=e){const e=[KA(a,s)+t+r*Math.cos(o),KA(a,s)+n+i*Math.sin(o)];l.push(e),c.push(e)}c.push([KA(a,s)+t+r*Math.cos(u+2*Math.PI+.5*o),KA(a,s)+n+i*Math.sin(u+2*Math.PI+.5*o)]),c.push([KA(a,s)+t+.98*r*Math.cos(u+o),KA(a,s)+n+.98*i*Math.sin(u+o)]),c.push([KA(a,s)+t+.9*r*Math.cos(u+.5*o),KA(a,s)+n+.9*i*Math.sin(u+.5*o)])}return[c,l]}function eL(e,t,n,r,i,a,o,s,l){const c=a+KA(.1,l),u=[];u.push([KA(s,l)+t+.9*r*Math.cos(c-e),KA(s,l)+n+.9*i*Math.sin(c-e)]);for(let d=c;d<=o;d+=e)u.push([KA(s,l)+t+r*Math.cos(d),KA(s,l)+n+i*Math.sin(d)]);return u.push([t+r*Math.cos(o),n+i*Math.sin(o)]),u.push([t+r*Math.cos(o),n+i*Math.sin(o)]),QA(u,0,l)}function tL(e,t,n,r,i,a,o,s){const l=[],c=[s.maxRandomnessOffset||1,(s.maxRandomnessOffset||1)+.3];let u=[0,0];const d=s.disableMultiStroke?1:2,h=s.preserveVertices;for(let p=0;p<d;p++)0===p?l.push({op:"move",data:[o[0],o[1]]}):l.push({op:"move",data:[o[0]+(h?0:KA(c[0],s)),o[1]+(h?0:KA(c[0],s))]}),u=h?[i,a]:[i+KA(c[p],s),a+KA(c[p],s)],l.push({op:"bcurveTo",data:[e+KA(c[p],s),t+KA(c[p],s),n+KA(c[p],s),r+KA(c[p],s),u[0],u[1]]});return l}function nL(e){return[...e]}function rL(e,t=0){const n=e.length;if(n<3)throw new Error("A curve must have at least three points.");const r=[];if(3===n)r.push(nL(e[0]),nL(e[1]),nL(e[2]),nL(e[2]));else{const n=[];n.push(e[0],e[0]);for(let t=1;t<e.length;t++)n.push(e[t]),t===e.length-1&&n.push(e[t]);const i=[],a=1-t;r.push(nL(n[0]));for(let e=1;e+2<n.length;e++){const t=n[e];i[0]=[t[0],t[1]],i[1]=[t[0]+(a*n[e+1][0]-a*n[e-1][0])/6,t[1]+(a*n[e+1][1]-a*n[e-1][1])/6],i[2]=[n[e+1][0]+(a*n[e][0]-a*n[e+2][0])/6,n[e+1][1]+(a*n[e][1]-a*n[e+2][1])/6],i[3]=[n[e+1][0],n[e+1][1]],r.push(i[1],i[2],i[3])}}return r}function iL(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function aL(e,t,n){const r=iL(t,n);if(0===r)return iL(e,t);let i=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return i=Math.max(0,Math.min(1,i)),iL(e,oL(t,n,i))}function oL(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function sL(e,t,n,r){const i=r||[];if(function(e,t){const n=e[t+0],r=e[t+1],i=e[t+2],a=e[t+3];let o=3*r[0]-2*n[0]-a[0];o*=o;let s=3*r[1]-2*n[1]-a[1];s*=s;let l=3*i[0]-2*a[0]-n[0];l*=l;let c=3*i[1]-2*a[1]-n[1];return c*=c,o<l&&(o=l),s<c&&(s=c),o+s}(e,t)<n){const n=e[t+0];i.length?(a=i[i.length-1],o=n,Math.sqrt(iL(a,o))>1&&i.push(n)):i.push(n),i.push(e[t+3])}else{const r=.5,a=e[t+0],o=e[t+1],s=e[t+2],l=e[t+3],c=oL(a,o,r),u=oL(o,s,r),d=oL(s,l,r),h=oL(c,u,r),p=oL(u,d,r),f=oL(h,p,r);sL([a,c,h,f],0,n,i),sL([f,p,d,l],0,n,i)}var a,o;return i}function lL(e,t){return cL(e,0,e.length,t)}function cL(e,t,n,r,i){const a=i||[],o=e[t],s=e[n-1];let l=0,c=1;for(let u=t+1;u<n-1;++u){const t=aL(e[u],o,s);t>l&&(l=t,c=u)}return Math.sqrt(l)>r?(cL(e,t,c+1,r,a),cL(e,c,n,r,a)):(a.length||a.push(o),a.push(s)),a}function uL(e,t=.15,n){const r=[],i=(e.length-1)/3;for(let a=0;a<i;a++)sL(e,3*a,t,r);return n&&n>0?cL(r,0,r.length,n):r}const dL="none";class hL{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,t,n){return{shape:e,sets:t||[],options:n||this.defaultOptions}}line(e,t,n,r,i){const a=this._o(i);return this._d("line",[BA(e,t,n,r,a)],a)}rectangle(e,t,n,r,i){const a=this._o(i),o=[],s=function(e,t,n,r,i){return function(e,t){return RA(e,!0,t)}([[e,t],[e+n,t],[e+n,t+r],[e,t+r]],i)}(e,t,n,r,a);if(a.fill){const i=[[e,t],[e+n,t],[e+n,t+r],[e,t+r]];"solid"===a.fillStyle?o.push(qA([i],a)):o.push(UA([i],a))}return a.stroke!==dL&&o.push(s),this._d("rectangle",o,a)}ellipse(e,t,n,r,i){const a=this._o(i),o=[],s=jA(n,r,a),l=zA(e,t,a,s);if(a.fill)if("solid"===a.fillStyle){const n=zA(e,t,a,s).opset;n.type="fillPath",o.push(n)}else o.push(UA([l.estimatedPoints],a));return a.stroke!==dL&&o.push(l.opset),this._d("ellipse",o,a)}circle(e,t,n,r){const i=this.ellipse(e,t,n,n,r);return i.shape="circle",i}linearPath(e,t){const n=this._o(t);return this._d("linearPath",[RA(e,!1,n)],n)}arc(e,t,n,r,i,a,o=!1,s){const l=this._o(s),c=[],u=$A(e,t,n,r,i,a,o,!0,l);if(o&&l.fill)if("solid"===l.fillStyle){const o=Object.assign({},l);o.disableMultiStroke=!0;const s=$A(e,t,n,r,i,a,!0,!1,o);s.type="fillPath",c.push(s)}else c.push(function(e,t,n,r,i,a,o){const s=e,l=t;let c=Math.abs(n/2),u=Math.abs(r/2);c+=KA(.01*c,o),u+=KA(.01*u,o);let d=i,h=a;for(;d<0;)d+=2*Math.PI,h+=2*Math.PI;h-d>2*Math.PI&&(d=0,h=2*Math.PI);const p=(h-d)/o.curveStepCount,f=[];for(let m=d;m<=h;m+=p)f.push([s+c*Math.cos(m),l+u*Math.sin(m)]);return f.push([s+c*Math.cos(h),l+u*Math.sin(h)]),f.push([s,l]),UA([f],o)}(e,t,n,r,i,a,l));return l.stroke!==dL&&c.push(u),this._d("arc",c,l)}curve(e,t){const n=this._o(t),r=[],i=IA(e,n);if(n.fill&&n.fill!==dL)if("solid"===n.fillStyle){const t=IA(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(t.ops)})}else{const t=[],i=e;if(i.length){const e="number"==typeof i[0][0]?[i]:i;for(const r of e)r.length<3?t.push(...r):3===r.length?t.push(...uL(rL([r[0],r[0],r[1],r[2]]),10,(1+n.roughness)/2)):t.push(...uL(rL(r),10,(1+n.roughness)/2))}t.length&&r.push(UA([t],n))}return n.stroke!==dL&&r.push(i),this._d("curve",r,n)}polygon(e,t){const n=this._o(t),r=[],i=RA(e,!0,n);return n.fill&&("solid"===n.fillStyle?r.push(qA([e],n)):r.push(UA([e],n))),n.stroke!==dL&&r.push(i),this._d("polygon",r,n)}path(e,t){const n=this._o(t),r=[];if(!e)return this._d("path",r,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const i=n.fill&&"transparent"!==n.fill&&n.fill!==dL,a=n.stroke!==dL,o=!!(n.simplification&&n.simplification<1),s=function(e,t,n){const r=DA(LA(AA(e))),i=[];let a=[],o=[0,0],s=[];const l=()=>{s.length>=4&&a.push(...uL(s,1)),s=[]},c=()=>{l(),a.length&&(i.push(a),a=[])};for(const{key:d,data:h}of r)switch(d){case"M":c(),o=[h[0],h[1]],a.push(o);break;case"L":l(),a.push([h[0],h[1]]);break;case"C":if(!s.length){const e=a.length?a[a.length-1]:o;s.push([e[0],e[1]])}s.push([h[0],h[1]]),s.push([h[2],h[3]]),s.push([h[4],h[5]]);break;case"Z":l(),a.push([o[0],o[1]])}if(c(),!n)return i;const u=[];for(const d of i){const e=lL(d,n);e.length&&u.push(e)}return u}(e,0,o?4-4*(n.simplification||1):(1+n.roughness)/2),l=HA(e,n);if(i)if("solid"===n.fillStyle)if(1===s.length){const t=HA(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(t.ops)})}else r.push(qA(s,n));else r.push(UA(s,n));return a&&(o?s.forEach(e=>{r.push(RA(e,!1,n))}):r.push(l)),this._d("path",r,n)}opsToPath(e,t){let n="";for(const r of e.ops){const e="number"==typeof t&&t>=0?r.data.map(e=>+e.toFixed(t)):r.data;switch(r.op){case"move":n+=`M${e[0]} ${e[1]} `;break;case"bcurveTo":n+=`C${e[0]} ${e[1]}, ${e[2]} ${e[3]}, ${e[4]} ${e[5]} `;break;case"lineTo":n+=`L${e[0]} ${e[1]} `}}return n.trim()}toPaths(e){const t=e.sets||[],n=e.options||this.defaultOptions,r=[];for(const i of t){let e=null;switch(i.type){case"path":e={d:this.opsToPath(i),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:dL};break;case"fillPath":e={d:this.opsToPath(i),stroke:dL,strokeWidth:0,fill:n.fill||dL};break;case"fillSketch":e=this.fillSketch(i,n)}e&&r.push(e)}return r}fillSketch(e,t){let n=t.fillWeight;return n<0&&(n=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||dL,strokeWidth:n,fill:dL}}_mergedShape(e){return e.filter((e,t)=>0===t||"move"!==e.op)}}const pL="http://www.w3.org/2000/svg";class fL{constructor(e,t){this.svg=e,this.gen=new hL(t)}draw(e){const t=e.sets||[],n=e.options||this.getDefaultOptions(),r=this.svg.ownerDocument||window.document,i=r.createElementNS(pL,"g"),a=e.options.fixedDecimalPlaceDigits;for(const o of t){let t=null;switch(o.type){case"path":t=r.createElementNS(pL,"path"),t.setAttribute("d",this.opsToPath(o,a)),t.setAttribute("stroke",n.stroke),t.setAttribute("stroke-width",n.strokeWidth+""),t.setAttribute("fill","none"),n.strokeLineDash&&t.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&t.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":t=r.createElementNS(pL,"path"),t.setAttribute("d",this.opsToPath(o,a)),t.setAttribute("stroke","none"),t.setAttribute("stroke-width","0"),t.setAttribute("fill",n.fill||""),"curve"!==e.shape&&"polygon"!==e.shape||t.setAttribute("fill-rule","evenodd");break;case"fillSketch":t=this.fillSketch(r,o,n)}t&&i.appendChild(t)}return i}fillSketch(e,t,n){let r=n.fillWeight;r<0&&(r=n.strokeWidth/2);const i=e.createElementNS(pL,"path");return i.setAttribute("d",this.opsToPath(t,n.fixedDecimalPlaceDigits)),i.setAttribute("stroke",n.fill||""),i.setAttribute("stroke-width",r+""),i.setAttribute("fill","none"),n.fillLineDash&&i.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&i.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),i}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,t){return this.gen.opsToPath(e,t)}line(e,t,n,r,i){const a=this.gen.line(e,t,n,r,i);return this.draw(a)}rectangle(e,t,n,r,i){const a=this.gen.rectangle(e,t,n,r,i);return this.draw(a)}ellipse(e,t,n,r,i){const a=this.gen.ellipse(e,t,n,r,i);return this.draw(a)}circle(e,t,n,r){const i=this.gen.circle(e,t,n,r);return this.draw(i)}linearPath(e,t){const n=this.gen.linearPath(e,t);return this.draw(n)}polygon(e,t){const n=this.gen.polygon(e,t);return this.draw(n)}arc(e,t,n,r,i,a,o=!1,s){const l=this.gen.arc(e,t,n,r,i,a,o,s);return this.draw(l)}curve(e,t){const n=this.gen.curve(e,t);return this.draw(n)}path(e,t){const n=this.gen.path(e,t);return this.draw(n)}}var mL=(e,t)=>new fL(e,t),gL=Rm(async(e,t,n)=>{let r;const i=t.useHtmlLabels||Zg(Db()?.htmlLabels);r=n||"node default";const a=e.insert("g").attr("class",r).attr("id",t.domId||t.id),o=a.insert("g").attr("class","label").attr("style",mT(t.labelStyle));let s;s=void 0===t.label?"":"string"==typeof t.label?t.label:t.label[0];const l=await fA(o,qg(pT(s),Db()),{useHtmlLabels:i,width:t.width||Db().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let c=l.getBBox();const u=(t?.padding??0)/2;if(i){const e=l.children[0],t=yw(l),n=e.getElementsByTagName("img");if(n){const e=""===s.replace(/<img[^>]*>/g,"").trim();await Promise.all([...n].map(t=>new Promise(n=>{function r(){if(t.style.display="flex",t.style.flexDirection="column",e){const e=Db().fontSize?Db().fontSize:window.getComputedStyle(document.body).fontSize,n=5,[r=gg.fontSize]=cT(e),i=r*n+"px";t.style.minWidth=i,t.style.maxWidth=i}else t.style.width="100%";n(t)}Rm(r,"setupImage"),setTimeout(()=>{t.complete&&r()}),t.addEventListener("error",r),t.addEventListener("load",r)})))}c=e.getBoundingClientRect(),t.attr("width",c.width),t.attr("height",c.height)}return i?o.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"):o.attr("transform","translate(0, "+-c.height/2+")"),t.centerLabel&&o.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),o.insert("rect",":first-child"),{shapeSvg:a,bbox:c,halfPadding:u,label:o}},"labelHelper"),bL=Rm(async(e,t,n)=>{const r=n.useHtmlLabels||Zg(Db()?.flowchart?.htmlLabels),i=e.insert("g").attr("class","label").attr("style",n.labelStyle||""),a=await fA(i,qg(pT(t),Db()),{useHtmlLabels:r,width:n.width||Db()?.flowchart?.wrappingWidth,style:n.labelStyle,addSvgBackground:!!n.icon||!!n.img});let o=a.getBBox();const s=n.padding/2;if(Zg(Db()?.flowchart?.htmlLabels)){const e=a.children[0],t=yw(a);o=e.getBoundingClientRect(),t.attr("width",o.width),t.attr("height",o.height)}return r?i.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"):i.attr("transform","translate(0, "+-o.height/2+")"),n.centerLabel&&i.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:e,bbox:o,halfPadding:s,label:i}},"insertLabel"),yL=Rm((e,t)=>{const n=t.node().getBBox();e.width=n.width,e.height=n.height},"updateNodeBounds"),xL=Rm((e,t)=>("handDrawn"===e.look?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function vL(e){const t=e.map((e,t)=>`${0===t?"M":"L"}${e.x},${e.y}`);return t.push("Z"),t.join(" ")}function kL(e,t,n,r,i,a){const o=[],s=n-e,l=r-t,c=s/a,u=2*Math.PI/c,d=t+l/2;for(let h=0;h<=50;h++){const t=e+h/50*s,n=d+i*Math.sin(u*(t-e));o.push({x:t,y:n})}return o}function wL(e,t,n,r,i,a){const o=[],s=i*Math.PI/180,l=(a*Math.PI/180-s)/(r-1);for(let c=0;c<r;c++){const r=s+c*l,i=e+n*Math.cos(r),a=t+n*Math.sin(r);o.push({x:-i,y:-a})}return o}Rm(vL,"createPathFromPoints"),Rm(kL,"generateFullSineWavePoints"),Rm(wL,"generateCirclePoints");var _L=Rm((e,t)=>{var n,r,i=e.x,a=e.y,o=t.x-i,s=t.y-a,l=e.width/2,c=e.height/2;return Math.abs(s)*l>Math.abs(o)*c?(s<0&&(c=-c),n=0===s?0:c*o/s,r=c):(o<0&&(l=-l),n=l,r=0===o?0:l*s/o),{x:i+n,y:a+r}},"intersectRect"),CL=_L;function SL(e,t){t&&e.attr("style",t)}async function EL(e){const t=yw(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=t.append("xhtml:div"),r=Db();let i=e.label;e.label&&ab(e.label)&&(i=await lb(e.label.replace(cb.lineBreakRegex,"\n"),r));const a='<span class="'+(e.isNode?"nodeLabel":"edgeLabel")+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+i+"</span>";return n.html(qg(a,r)),SL(n,e.labelStyle),n.style("display","inline-block"),n.style("padding-right","1px"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}Rm(SL,"applyStyle"),Rm(EL,"addHtmlLabel");var NL=Rm(async(e,t,n,r)=>{let i=e||"";if("object"==typeof i&&(i=i[0]),Zg(Db().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),zm.info("vertexText"+i);const e={isNode:r,label:pT(i).replace(/fa[blrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`),labelStyle:t?t.replace("fill:","color:"):t};return await EL(e)}{const e=document.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("style",t.replace("color:","fill:"));let r=[];r="string"==typeof i?i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?i:[];for(const t of r){const r=document.createElementNS("http://www.w3.org/2000/svg","tspan");r.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),r.setAttribute("dy","1em"),r.setAttribute("x","0"),n?r.setAttribute("class","title-row"):r.setAttribute("class","row"),r.textContent=t.trim(),e.appendChild(r)}return e}},"createLabel"),TL=NL,ML=Rm((e,t,n,r,i)=>["M",e+i,t,"H",e+n-i,"A",i,i,0,0,1,e+n,t+i,"V",t+r-i,"A",i,i,0,0,1,e+n-i,t+r,"H",e+i,"A",i,i,0,0,1,e,t+r-i,"V",t+i,"A",i,i,0,0,1,e+i,t,"Z"].join(" "),"createRoundedRectPathD"),AL=Rm(async(e,t)=>{zm.info("Creating subgraph rect for ",t.id,t);const n=Db(),{themeVariables:r,handDrawnSeed:i}=n,{clusterBkg:a,clusterBorder:o}=r,{labelStyles:s,nodeStyles:l,borderStyles:c,backgroundStyles:u}=Yv(t),d=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),h=Zg(n.flowchart.htmlLabels),p=d.insert("g").attr("class","cluster-label "),f=await fA(p,t.label,{style:t.labelStyle,useHtmlLabels:h,isNode:!0});let m=f.getBBox();if(Zg(n.flowchart.htmlLabels)){const e=f.children[0],t=yw(f);m=e.getBoundingClientRect(),t.attr("width",m.width),t.attr("height",m.height)}const g=t.width<=m.width+t.padding?m.width+t.padding:t.width;t.width<=m.width+t.padding?t.diff=(g-t.width)/2-t.padding:t.diff=-t.padding;const b=t.height,y=t.x-g/2,x=t.y-b/2;let v;if(zm.trace("Data ",t,JSON.stringify(t)),"handDrawn"===t.look){const e=mL(d),n=Zv(t,{roughness:.7,fill:a,stroke:o,fillWeight:3,seed:i}),r=e.path(ML(y,x,g,b,0),n);v=d.insert(()=>(zm.debug("Rough node insert CXC",r),r),":first-child"),v.select("path:nth-child(2)").attr("style",c.join(";")),v.select("path").attr("style",u.join(";").replace("fill","stroke"))}else v=d.insert("rect",":first-child"),v.attr("style",l).attr("rx",t.rx).attr("ry",t.ry).attr("x",y).attr("y",x).attr("width",g).attr("height",b);const{subGraphTitleTopMargin:k}=Uv(n);if(p.attr("transform",`translate(${t.x-m.width/2}, ${t.y-t.height/2+k})`),s){const e=p.select("span");e&&e.attr("style",s)}const w=v.node().getBBox();return t.offsetX=0,t.width=w.width,t.height=w.height,t.offsetY=m.height-t.padding/2,t.intersect=function(e){return CL(t,e)},{cluster:d,labelBBox:m}},"rect"),LL=Rm((e,t)=>{const n=e.insert("g").attr("class","note-cluster").attr("id",t.id),r=n.insert("rect",":first-child"),i=0*t.padding,a=i/2;r.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-a).attr("y",t.y-t.height/2-a).attr("width",t.width+i).attr("height",t.height+i).attr("fill","none");const o=r.node().getBBox();return t.width=o.width,t.height=o.height,t.intersect=function(e){return CL(t,e)},{cluster:n,labelBBox:{width:0,height:0}}},"noteGroup"),DL=Rm(async(e,t)=>{const n=Db(),{themeVariables:r,handDrawnSeed:i}=n,{altBackground:a,compositeBackground:o,compositeTitleBackground:s,nodeBorder:l}=r,c=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),u=c.insert("g",":first-child"),d=c.insert("g").attr("class","cluster-label");let h=c.append("rect");const p=d.node().appendChild(await TL(t.label,t.labelStyle,void 0,!0));let f=p.getBBox();if(Zg(n.flowchart.htmlLabels)){const e=p.children[0],t=yw(p);f=e.getBoundingClientRect(),t.attr("width",f.width),t.attr("height",f.height)}const m=0*t.padding,g=m/2,b=(t.width<=f.width+t.padding?f.width+t.padding:t.width)+m;t.width<=f.width+t.padding?t.diff=(b-t.width)/2-t.padding:t.diff=-t.padding;const y=t.height+m,x=t.height+m-f.height-6,v=t.x-b/2,k=t.y-y/2;t.width=b;const w=t.y-t.height/2-g+f.height+2;let _;if("handDrawn"===t.look){const e=t.cssClasses.includes("statediagram-cluster-alt"),n=mL(c),r=t.rx||t.ry?n.path(ML(v,k,b,y,10),{roughness:.7,fill:s,fillStyle:"solid",stroke:l,seed:i}):n.rectangle(v,k,b,y,{seed:i});_=c.insert(()=>r,":first-child");const u=n.rectangle(v,w,b,x,{fill:e?a:o,fillStyle:e?"hachure":"solid",stroke:l,seed:i});_=c.insert(()=>r,":first-child"),h=c.insert(()=>u)}else{_=u.insert("rect",":first-child");const e="outer";_.attr("class",e).attr("x",v).attr("y",k).attr("width",b).attr("height",y).attr("data-look",t.look),h.attr("class","inner").attr("x",v).attr("y",w).attr("width",b).attr("height",x)}d.attr("transform",`translate(${t.x-f.width/2}, ${k+1-(Zg(n.flowchart.htmlLabels)?0:3)})`);const C=_.node().getBBox();return t.height=C.height,t.offsetX=0,t.offsetY=f.height-t.padding/2,t.labelBBox=f,t.intersect=function(e){return CL(t,e)},{cluster:c,labelBBox:f}},"roundedWithTitle"),OL=Rm(async(e,t)=>{zm.info("Creating subgraph rect for ",t.id,t);const n=Db(),{themeVariables:r,handDrawnSeed:i}=n,{clusterBkg:a,clusterBorder:o}=r,{labelStyles:s,nodeStyles:l,borderStyles:c,backgroundStyles:u}=Yv(t),d=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),h=Zg(n.flowchart.htmlLabels),p=d.insert("g").attr("class","cluster-label "),f=await fA(p,t.label,{style:t.labelStyle,useHtmlLabels:h,isNode:!0,width:t.width});let m=f.getBBox();if(Zg(n.flowchart.htmlLabels)){const e=f.children[0],t=yw(f);m=e.getBoundingClientRect(),t.attr("width",m.width),t.attr("height",m.height)}const g=t.width<=m.width+t.padding?m.width+t.padding:t.width;t.width<=m.width+t.padding?t.diff=(g-t.width)/2-t.padding:t.diff=-t.padding;const b=t.height,y=t.x-g/2,x=t.y-b/2;let v;if(zm.trace("Data ",t,JSON.stringify(t)),"handDrawn"===t.look){const e=mL(d),n=Zv(t,{roughness:.7,fill:a,stroke:o,fillWeight:4,seed:i}),r=e.path(ML(y,x,g,b,t.rx),n);v=d.insert(()=>(zm.debug("Rough node insert CXC",r),r),":first-child"),v.select("path:nth-child(2)").attr("style",c.join(";")),v.select("path").attr("style",u.join(";").replace("fill","stroke"))}else v=d.insert("rect",":first-child"),v.attr("style",l).attr("rx",t.rx).attr("ry",t.ry).attr("x",y).attr("y",x).attr("width",g).attr("height",b);const{subGraphTitleTopMargin:k}=Uv(n);if(p.attr("transform",`translate(${t.x-m.width/2}, ${t.y-t.height/2+k})`),s){const e=p.select("span");e&&e.attr("style",s)}const w=v.node().getBBox();return t.offsetX=0,t.width=w.width,t.height=w.height,t.offsetY=m.height-t.padding/2,t.intersect=function(e){return CL(t,e)},{cluster:d,labelBBox:m}},"kanbanSection"),PL=Rm((e,t)=>{const n=Db(),{themeVariables:r,handDrawnSeed:i}=n,{nodeBorder:a}=r,o=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),s=o.insert("g",":first-child"),l=0*t.padding,c=t.width+l;t.diff=-t.padding;const u=t.height+l,d=t.x-c/2,h=t.y-u/2;let p;if(t.width=c,"handDrawn"===t.look){const e=mL(o).rectangle(d,h,c,u,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:a,seed:i});p=o.insert(()=>e,":first-child")}else{p=s.insert("rect",":first-child");const e="divider";p.attr("class",e).attr("x",d).attr("y",h).attr("width",c).attr("height",u).attr("data-look",t.look)}const f=p.node().getBBox();return t.height=f.height,t.offsetX=0,t.offsetY=0,t.intersect=function(e){return CL(t,e)},{cluster:o,labelBBox:{}}},"divider"),FL={rect:AL,squareRect:AL,roundedWithTitle:DL,noteGroup:LL,divider:PL,kanbanSection:OL},BL=new Map,RL=Rm(async(e,t)=>{const n=t.shape||"rect",r=await FL[n](e,t);return BL.set(t.id,r),r},"insertCluster"),IL=Rm(()=>{BL=new Map},"clear");function jL(e,t){return e.intersect(t)}Rm(jL,"intersectNode");var zL=jL;function $L(e,t,n,r){var i=e.x,a=e.y,o=i-r.x,s=a-r.y,l=Math.sqrt(t*t*s*s+n*n*o*o),c=Math.abs(t*n*o/l);r.x<i&&(c=-c);var u=Math.abs(t*n*s/l);return r.y<a&&(u=-u),{x:i+c,y:a+u}}Rm($L,"intersectEllipse");var HL=$L;function qL(e,t,n){return HL(e,t,t,n)}Rm(qL,"intersectCircle");var UL=qL;function VL(e,t,n,r){var i,a,o,s,l,c,u,d,h,p,f,m,g;if(i=t.y-e.y,o=e.x-t.x,l=t.x*e.y-e.x*t.y,h=i*n.x+o*n.y+l,p=i*r.x+o*r.y+l,!(0!==h&&0!==p&&WL(h,p)||(a=r.y-n.y,s=n.x-r.x,c=r.x*n.y-n.x*r.y,u=a*e.x+s*e.y+c,d=a*t.x+s*t.y+c,0!==u&&0!==d&&WL(u,d)||0===(f=i*s-a*o))))return m=Math.abs(f/2),{x:(g=o*c-s*l)<0?(g-m)/f:(g+m)/f,y:(g=a*l-i*c)<0?(g-m)/f:(g+m)/f}}function WL(e,t){return e*t>0}Rm(VL,"intersectLine"),Rm(WL,"sameSign");var GL=VL;function KL(e,t,n){let r=e.x,i=e.y,a=[],o=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY;"function"==typeof t.forEach?t.forEach(function(e){o=Math.min(o,e.x),s=Math.min(s,e.y)}):(o=Math.min(o,t.x),s=Math.min(s,t.y));let l=r-e.width/2-o,c=i-e.height/2-s;for(let u=0;u<t.length;u++){let r=t[u],i=t[u<t.length-1?u+1:0],o=GL(e,n,{x:l+r.x,y:c+r.y},{x:l+i.x,y:c+i.y});o&&a.push(o)}return a.length?(a.length>1&&a.sort(function(e,t){let r=e.x-n.x,i=e.y-n.y,a=Math.sqrt(r*r+i*i),o=t.x-n.x,s=t.y-n.y,l=Math.sqrt(o*o+s*s);return a<l?-1:a===l?0:1}),a[0]):e}Rm(KL,"intersectPolygon");var YL={node:zL,circle:UL,ellipse:HL,polygon:KL,rect:CL};function ZL(e,t){const{labelStyles:n}=Yv(t);t.labelStyle=n;const r=xL(t);let i=r;r||(i="anchor");const a=e.insert("g").attr("class",i).attr("id",t.domId||t.id),{cssStyles:o}=t,s=mL(a),l=Zv(t,{fill:"black",stroke:"none",fillStyle:"solid"});"handDrawn"!==t.look&&(l.roughness=0);const c=s.circle(0,0,2,l),u=a.insert(()=>c,":first-child");return u.attr("class","anchor").attr("style",mT(o)),yL(t,u),t.intersect=function(e){return zm.info("Circle intersect",t,1,e),YL.circle(t,1,e)},a}function XL(e,t,n,r,i,a,o){const s=(e+n)/2,l=(t+r)/2,c=Math.atan2(r-t,n-e),u=(n-e)/2/i,d=(r-t)/2/a,h=Math.sqrt(u**2+d**2);if(h>1)throw new Error("The given radii are too small to create an arc between the points.");const p=Math.sqrt(1-h**2),f=s+p*a*Math.sin(c)*(o?-1:1),m=l-p*i*Math.cos(c)*(o?-1:1),g=Math.atan2((t-m)/a,(e-f)/i);let b=Math.atan2((r-m)/a,(n-f)/i)-g;o&&b<0&&(b+=2*Math.PI),!o&&b>0&&(b-=2*Math.PI);const y=[];for(let x=0;x<20;x++){const e=g+x/19*b,t=f+i*Math.cos(e),n=m+a*Math.sin(e);y.push({x:t,y:n})}return y}async function QL(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await gL(e,t,xL(t)),o=a.width+t.padding+20,s=a.height+t.padding,l=s/2,c=l/(2.5+s/50),{cssStyles:u}=t,d=[{x:o/2,y:-s/2},{x:-o/2,y:-s/2},...XL(-o/2,-s/2,-o/2,s/2,c,l,!1),{x:o/2,y:s/2},...XL(o/2,s/2,o/2,-s/2,c,l,!0)],h=mL(i),p=Zv(t,{});"handDrawn"!==t.look&&(p.roughness=0,p.fillStyle="solid");const f=vL(d),m=h.path(f,p),g=i.insert(()=>m,":first-child");return g.attr("class","basic label-container"),u&&"handDrawn"!==t.look&&g.selectAll("path").attr("style",u),r&&"handDrawn"!==t.look&&g.selectAll("path").attr("style",r),g.attr("transform",`translate(${c/2}, 0)`),yL(t,g),t.intersect=function(e){return YL.polygon(t,d,e)},i}function JL(e,t,n,r){return e.insert("polygon",":first-child").attr("points",r.map(function(e){return e.x+","+e.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+n/2+")")}async function eD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await gL(e,t,xL(t)),o=a.height+t.padding,s=a.width+t.padding+12,l=-o,c=[{x:12,y:l},{x:s,y:l},{x:s,y:0},{x:0,y:0},{x:0,y:l+12},{x:12,y:l}];let u;const{cssStyles:d}=t;if("handDrawn"===t.look){const e=mL(i),n=Zv(t,{}),r=vL(c),a=e.path(r,n);u=i.insert(()=>a,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),d&&u.attr("style",d)}else u=JL(i,s,o,c);return r&&u.attr("style",r),yL(t,u),t.intersect=function(e){return YL.polygon(t,c,e)},i}function tD(e,t){const{nodeStyles:n}=Yv(t);t.label="";const r=e.insert("g").attr("class",xL(t)).attr("id",t.domId??t.id),{cssStyles:i}=t,a=Math.max(28,t.width??0),o=[{x:0,y:a/2},{x:a/2,y:0},{x:0,y:-a/2},{x:-a/2,y:0}],s=mL(r),l=Zv(t,{});"handDrawn"!==t.look&&(l.roughness=0,l.fillStyle="solid");const c=vL(o),u=s.path(c,l),d=r.insert(()=>u,":first-child");return i&&"handDrawn"!==t.look&&d.selectAll("path").attr("style",i),n&&"handDrawn"!==t.look&&d.selectAll("path").attr("style",n),t.width=28,t.height=28,t.intersect=function(e){return YL.polygon(t,o,e)},r}async function nD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,halfPadding:o}=await gL(e,t,xL(t)),s=a.width/2+o;let l;const{cssStyles:c}=t;if("handDrawn"===t.look){const e=mL(i),n=Zv(t,{}),r=e.circle(0,0,2*s,n);l=i.insert(()=>r,":first-child"),l.attr("class","basic label-container").attr("style",mT(c))}else l=i.insert("circle",":first-child").attr("class","basic label-container").attr("style",r).attr("r",s).attr("cx",0).attr("cy",0);return yL(t,l),t.intersect=function(e){return zm.info("Circle intersect",t,s,e),YL.circle(t,s,e)},i}function rD(e){const t=Math.cos(Math.PI/4),n=Math.sin(Math.PI/4),r=2*e;return`M ${-r/2*t},${r/2*n} L ${r/2*t},${-r/2*n}\n                   M ${r/2*t},${r/2*n} L ${-r/2*t},${-r/2*n}`}function iD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n,t.label="";const i=e.insert("g").attr("class",xL(t)).attr("id",t.domId??t.id),a=Math.max(30,t?.width??0),{cssStyles:o}=t,s=mL(i),l=Zv(t,{});"handDrawn"!==t.look&&(l.roughness=0,l.fillStyle="solid");const c=s.circle(0,0,2*a,l),u=rD(a),d=s.path(u,l),h=i.insert(()=>c,":first-child");return h.insert(()=>d),o&&"handDrawn"!==t.look&&h.selectAll("path").attr("style",o),r&&"handDrawn"!==t.look&&h.selectAll("path").attr("style",r),yL(t,h),t.intersect=function(e){zm.info("crossedCircle intersect",t,{radius:a,point:e});return YL.circle(t,a,e)},i}function aD(e,t,n,r=100,i=0,a=180){const o=[],s=i*Math.PI/180,l=(a*Math.PI/180-s)/(r-1);for(let c=0;c<r;c++){const r=s+c*l,i=e+n*Math.cos(r),a=t+n*Math.sin(r);o.push({x:-i,y:-a})}return o}async function oD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:o}=await gL(e,t,xL(t)),s=a.width+(t.padding??0),l=a.height+(t.padding??0),c=Math.max(5,.1*l),{cssStyles:u}=t,d=[...aD(s/2,-l/2,c,30,-90,0),{x:-s/2-c,y:c},...aD(s/2+2*c,-c,c,20,-180,-270),...aD(s/2+2*c,c,c,20,-90,-180),{x:-s/2-c,y:-l/2},...aD(s/2,l/2,c,20,0,90)],h=[{x:s/2,y:-l/2-c},{x:-s/2,y:-l/2-c},...aD(s/2,-l/2,c,20,-90,0),{x:-s/2-c,y:-c},...aD(s/2+.1*s,-c,c,20,-180,-270),...aD(s/2+.1*s,c,c,20,-90,-180),{x:-s/2-c,y:l/2},...aD(s/2,l/2,c,20,0,90),{x:-s/2,y:l/2+c},{x:s/2,y:l/2+c}],p=mL(i),f=Zv(t,{fill:"none"});"handDrawn"!==t.look&&(f.roughness=0,f.fillStyle="solid");const m=vL(d).replace("Z",""),g=p.path(m,f),b=vL(h),y=p.path(b,{...f}),x=i.insert("g",":first-child");return x.insert(()=>y,":first-child").attr("stroke-opacity",0),x.insert(()=>g,":first-child"),x.attr("class","text"),u&&"handDrawn"!==t.look&&x.selectAll("path").attr("style",u),r&&"handDrawn"!==t.look&&x.selectAll("path").attr("style",r),x.attr("transform",`translate(${c}, 0)`),o.attr("transform",`translate(${-s/2+c-(a.x-(a.left??0))},${-l/2+(t.padding??0)/2-(a.y-(a.top??0))})`),yL(t,x),t.intersect=function(e){return YL.polygon(t,h,e)},i}function sD(e,t,n,r=100,i=0,a=180){const o=[],s=i*Math.PI/180,l=(a*Math.PI/180-s)/(r-1);for(let c=0;c<r;c++){const r=s+c*l,i=e+n*Math.cos(r),a=t+n*Math.sin(r);o.push({x:i,y:a})}return o}async function lD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:o}=await gL(e,t,xL(t)),s=a.width+(t.padding??0),l=a.height+(t.padding??0),c=Math.max(5,.1*l),{cssStyles:u}=t,d=[...sD(s/2,-l/2,c,20,-90,0),{x:s/2+c,y:-c},...sD(s/2+2*c,-c,c,20,-180,-270),...sD(s/2+2*c,c,c,20,-90,-180),{x:s/2+c,y:l/2},...sD(s/2,l/2,c,20,0,90)],h=[{x:-s/2,y:-l/2-c},{x:s/2,y:-l/2-c},...sD(s/2,-l/2,c,20,-90,0),{x:s/2+c,y:-c},...sD(s/2+2*c,-c,c,20,-180,-270),...sD(s/2+2*c,c,c,20,-90,-180),{x:s/2+c,y:l/2},...sD(s/2,l/2,c,20,0,90),{x:s/2,y:l/2+c},{x:-s/2,y:l/2+c}],p=mL(i),f=Zv(t,{fill:"none"});"handDrawn"!==t.look&&(f.roughness=0,f.fillStyle="solid");const m=vL(d).replace("Z",""),g=p.path(m,f),b=vL(h),y=p.path(b,{...f}),x=i.insert("g",":first-child");return x.insert(()=>y,":first-child").attr("stroke-opacity",0),x.insert(()=>g,":first-child"),x.attr("class","text"),u&&"handDrawn"!==t.look&&x.selectAll("path").attr("style",u),r&&"handDrawn"!==t.look&&x.selectAll("path").attr("style",r),x.attr("transform",`translate(${-c}, 0)`),o.attr("transform",`translate(${-s/2+(t.padding??0)/2-(a.x-(a.left??0))},${-l/2+(t.padding??0)/2-(a.y-(a.top??0))})`),yL(t,x),t.intersect=function(e){return YL.polygon(t,h,e)},i}function cD(e,t,n,r=100,i=0,a=180){const o=[],s=i*Math.PI/180,l=(a*Math.PI/180-s)/(r-1);for(let c=0;c<r;c++){const r=s+c*l,i=e+n*Math.cos(r),a=t+n*Math.sin(r);o.push({x:-i,y:-a})}return o}async function uD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:o}=await gL(e,t,xL(t)),s=a.width+(t.padding??0),l=a.height+(t.padding??0),c=Math.max(5,.1*l),{cssStyles:u}=t,d=[...cD(s/2,-l/2,c,30,-90,0),{x:-s/2-c,y:c},...cD(s/2+2*c,-c,c,20,-180,-270),...cD(s/2+2*c,c,c,20,-90,-180),{x:-s/2-c,y:-l/2},...cD(s/2,l/2,c,20,0,90)],h=[...cD(-s/2+c+c/2,-l/2,c,20,-90,-180),{x:s/2-c/2,y:c},...cD(-s/2-c/2,-c,c,20,0,90),...cD(-s/2-c/2,c,c,20,-90,0),{x:s/2-c/2,y:-c},...cD(-s/2+c+c/2,l/2,c,30,-180,-270)],p=[{x:s/2,y:-l/2-c},{x:-s/2,y:-l/2-c},...cD(s/2,-l/2,c,20,-90,0),{x:-s/2-c,y:-c},...cD(s/2+2*c,-c,c,20,-180,-270),...cD(s/2+2*c,c,c,20,-90,-180),{x:-s/2-c,y:l/2},...cD(s/2,l/2,c,20,0,90),{x:-s/2,y:l/2+c},{x:s/2-c-c/2,y:l/2+c},...cD(-s/2+c+c/2,-l/2,c,20,-90,-180),{x:s/2-c/2,y:c},...cD(-s/2-c/2,-c,c,20,0,90),...cD(-s/2-c/2,c,c,20,-90,0),{x:s/2-c/2,y:-c},...cD(-s/2+c+c/2,l/2,c,30,-180,-270)],f=mL(i),m=Zv(t,{fill:"none"});"handDrawn"!==t.look&&(m.roughness=0,m.fillStyle="solid");const g=vL(d).replace("Z",""),b=f.path(g,m),y=vL(h).replace("Z",""),x=f.path(y,m),v=vL(p),k=f.path(v,{...m}),w=i.insert("g",":first-child");return w.insert(()=>k,":first-child").attr("stroke-opacity",0),w.insert(()=>b,":first-child"),w.insert(()=>x,":first-child"),w.attr("class","text"),u&&"handDrawn"!==t.look&&w.selectAll("path").attr("style",u),r&&"handDrawn"!==t.look&&w.selectAll("path").attr("style",r),w.attr("transform",`translate(${c-c/4}, 0)`),o.attr("transform",`translate(${-s/2+(t.padding??0)/2-(a.x-(a.left??0))},${-l/2+(t.padding??0)/2-(a.y-(a.top??0))})`),yL(t,w),t.intersect=function(e){return YL.polygon(t,p,e)},i}async function dD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await gL(e,t,xL(t)),o=Math.max(80,1.25*(a.width+2*(t.padding??0)),t?.width??0),s=Math.max(20,a.height+2*(t.padding??0),t?.height??0),l=s/2,{cssStyles:c}=t,u=mL(i),d=Zv(t,{});"handDrawn"!==t.look&&(d.roughness=0,d.fillStyle="solid");const h=o-l,p=s/4,f=[{x:h,y:0},{x:p,y:0},{x:0,y:s/2},{x:p,y:s},{x:h,y:s},...wL(-h,-s/2,l,50,270,90)],m=vL(f),g=u.path(m,d),b=i.insert(()=>g,":first-child");return b.attr("class","basic label-container"),c&&"handDrawn"!==t.look&&b.selectChildren("path").attr("style",c),r&&"handDrawn"!==t.look&&b.selectChildren("path").attr("style",r),b.attr("transform",`translate(${-o/2}, ${-s/2})`),yL(t,b),t.intersect=function(e){return YL.polygon(t,f,e)},i}Rm(ZL,"anchor"),Rm(XL,"generateArcPoints"),Rm(QL,"bowTieRect"),Rm(JL,"insertPolygonShape"),Rm(eD,"card"),Rm(tD,"choice"),Rm(nD,"circle"),Rm(rD,"createLine"),Rm(iD,"crossedCircle"),Rm(aD,"generateCirclePoints"),Rm(oD,"curlyBraceLeft"),Rm(sD,"generateCirclePoints"),Rm(lD,"curlyBraceRight"),Rm(cD,"generateCirclePoints"),Rm(uD,"curlyBraces"),Rm(dD,"curvedTrapezoid");var hD=Rm((e,t,n,r,i,a)=>[`M${e},${t+a}`,`a${i},${a} 0,0,0 ${n},0`,`a${i},${a} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${a} 0,0,0 ${n},0`,"l0,"+-r].join(" "),"createCylinderPathD"),pD=Rm((e,t,n,r,i,a)=>[`M${e},${t+a}`,`M${e+n},${t+a}`,`a${i},${a} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${a} 0,0,0 ${n},0`,"l0,"+-r].join(" "),"createOuterCylinderPathD"),fD=Rm((e,t,n,r,i,a)=>[`M${e-n/2},${-r/2}`,`a${i},${a} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function mD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:o}=await gL(e,t,xL(t)),s=Math.max(a.width+t.padding,t.width??0),l=s/2,c=l/(2.5+s/50),u=Math.max(a.height+c+t.padding,t.height??0);let d;const{cssStyles:h}=t;if("handDrawn"===t.look){const e=mL(i),n=pD(0,0,s,u,l,c),r=fD(0,c,s,u,l,c),a=e.path(n,Zv(t,{})),o=e.path(r,Zv(t,{fill:"none"}));d=i.insert(()=>o,":first-child"),d=i.insert(()=>a,":first-child"),d.attr("class","basic label-container"),h&&d.attr("style",h)}else{const e=hD(0,0,s,u,l,c);d=i.insert("path",":first-child").attr("d",e).attr("class","basic label-container").attr("style",mT(h)).attr("style",r)}return d.attr("label-offset-y",c),d.attr("transform",`translate(${-s/2}, ${-(u/2+c)})`),yL(t,d),o.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-a.height/2+(t.padding??0)/1.5-(a.y-(a.top??0))})`),t.intersect=function(e){const n=YL.rect(t,e),r=n.x-(t.x??0);if(0!=l&&(Math.abs(r)<(t.width??0)/2||Math.abs(r)==(t.width??0)/2&&Math.abs(n.y-(t.y??0))>(t.height??0)/2-c)){let i=c*c*(1-r*r/(l*l));i>0&&(i=Math.sqrt(i)),i=c-i,e.y-(t.y??0)>0&&(i=-i),n.y+=i}return n},i}async function gD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:o}=await gL(e,t,xL(t)),s=a.width+t.padding,l=a.height+t.padding,c=.2*l,u=-s/2,d=-l/2-c/2,{cssStyles:h}=t,p=mL(i),f=Zv(t,{});"handDrawn"!==t.look&&(f.roughness=0,f.fillStyle="solid");const m=[{x:u,y:d+c},{x:-u,y:d+c},{x:-u,y:-d},{x:u,y:-d},{x:u,y:d},{x:-u,y:d},{x:-u,y:d+c}],g=p.polygon(m.map(e=>[e.x,e.y]),f),b=i.insert(()=>g,":first-child");return b.attr("class","basic label-container"),h&&"handDrawn"!==t.look&&b.selectAll("path").attr("style",h),r&&"handDrawn"!==t.look&&b.selectAll("path").attr("style",r),o.attr("transform",`translate(${u+(t.padding??0)/2-(a.x-(a.left??0))}, ${d+c+(t.padding??0)/2-(a.y-(a.top??0))})`),yL(t,b),t.intersect=function(e){return YL.rect(t,e)},i}async function bD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,halfPadding:o}=await gL(e,t,xL(t)),s=a.width/2+o+5,l=a.width/2+o;let c;const{cssStyles:u}=t;if("handDrawn"===t.look){const e=mL(i),n=Zv(t,{roughness:.2,strokeWidth:2.5}),r=Zv(t,{roughness:.2,strokeWidth:1.5}),a=e.circle(0,0,2*s,n),o=e.circle(0,0,2*l,r);c=i.insert("g",":first-child"),c.attr("class",mT(t.cssClasses)).attr("style",mT(u)),c.node()?.appendChild(a),c.node()?.appendChild(o)}else{c=i.insert("g",":first-child");const e=c.insert("circle",":first-child"),t=c.insert("circle");c.attr("class","basic label-container").attr("style",r),e.attr("class","outer-circle").attr("style",r).attr("r",s).attr("cx",0).attr("cy",0),t.attr("class","inner-circle").attr("style",r).attr("r",l).attr("cx",0).attr("cy",0)}return yL(t,c),t.intersect=function(e){return zm.info("DoubleCircle intersect",t,s,e),YL.circle(t,s,e)},i}function yD(e,t,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:i}=Yv(t);t.label="",t.labelStyle=r;const a=e.insert("g").attr("class",xL(t)).attr("id",t.domId??t.id),{cssStyles:o}=t,s=mL(a),{nodeBorder:l}=n,c=Zv(t,{fillStyle:"solid"});"handDrawn"!==t.look&&(c.roughness=0);const u=s.circle(0,0,14,c),d=a.insert(()=>u,":first-child");return d.selectAll("path").attr("style",`fill: ${l} !important;`),o&&o.length>0&&"handDrawn"!==t.look&&d.selectAll("path").attr("style",o),i&&"handDrawn"!==t.look&&d.selectAll("path").attr("style",i),yL(t,d),t.intersect=function(e){zm.info("filledCircle intersect",t,{radius:7,point:e});return YL.circle(t,7,e)},a}async function xD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:o}=await gL(e,t,xL(t)),s=a.width+(t.padding??0),l=s+a.height,c=s+a.height,u=[{x:0,y:-l},{x:c,y:-l},{x:c/2,y:0}],{cssStyles:d}=t,h=mL(i),p=Zv(t,{});"handDrawn"!==t.look&&(p.roughness=0,p.fillStyle="solid");const f=vL(u),m=h.path(f,p),g=i.insert(()=>m,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`);return d&&"handDrawn"!==t.look&&g.selectChildren("path").attr("style",d),r&&"handDrawn"!==t.look&&g.selectChildren("path").attr("style",r),t.width=s,t.height=l,yL(t,g),o.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-l/2+(t.padding??0)/2+(a.y-(a.top??0))})`),t.intersect=function(e){return zm.info("Triangle intersect",t,u,e),YL.polygon(t,u,e)},i}function vD(e,t,{dir:n,config:{state:r,themeVariables:i}}){const{nodeStyles:a}=Yv(t);t.label="";const o=e.insert("g").attr("class",xL(t)).attr("id",t.domId??t.id),{cssStyles:s}=t;let l=Math.max(70,t?.width??0),c=Math.max(10,t?.height??0);"LR"===n&&(l=Math.max(10,t?.width??0),c=Math.max(70,t?.height??0));const u=-1*l/2,d=-1*c/2,h=mL(o),p=Zv(t,{stroke:i.lineColor,fill:i.lineColor});"handDrawn"!==t.look&&(p.roughness=0,p.fillStyle="solid");const f=h.rectangle(u,d,l,c,p),m=o.insert(()=>f,":first-child");s&&"handDrawn"!==t.look&&m.selectAll("path").attr("style",s),a&&"handDrawn"!==t.look&&m.selectAll("path").attr("style",a),yL(t,m);const g=r?.padding??0;return t.width&&t.height&&(t.width+=g/2||0,t.height+=g/2||0),t.intersect=function(e){return YL.rect(t,e)},o}async function kD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await gL(e,t,xL(t)),o=Math.max(80,a.width+2*(t.padding??0),t?.width??0),s=Math.max(50,a.height+2*(t.padding??0),t?.height??0),l=s/2,{cssStyles:c}=t,u=mL(i),d=Zv(t,{});"handDrawn"!==t.look&&(d.roughness=0,d.fillStyle="solid");const h=[{x:-o/2,y:-s/2},{x:o/2-l,y:-s/2},...wL(-o/2+l,0,l,50,90,270),{x:o/2-l,y:s/2},{x:-o/2,y:s/2}],p=vL(h),f=u.path(p,d),m=i.insert(()=>f,":first-child");return m.attr("class","basic label-container"),c&&"handDrawn"!==t.look&&m.selectChildren("path").attr("style",c),r&&"handDrawn"!==t.look&&m.selectChildren("path").attr("style",r),yL(t,m),t.intersect=function(e){zm.info("Pill intersect",t,{radius:l,point:e});return YL.polygon(t,h,e)},i}async function wD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await gL(e,t,xL(t)),o=a.height+(t.padding??0),s=a.width+2.5*(t.padding??0),{cssStyles:l}=t,c=mL(i),u=Zv(t,{});"handDrawn"!==t.look&&(u.roughness=0,u.fillStyle="solid");let d=s/2;d+=d/6;const h=o/2,p=d-h/2,f=[{x:-p,y:-h},{x:0,y:-h},{x:p,y:-h},{x:d,y:0},{x:p,y:h},{x:0,y:h},{x:-p,y:h},{x:-d,y:0}],m=vL(f),g=c.path(m,u),b=i.insert(()=>g,":first-child");return b.attr("class","basic label-container"),l&&"handDrawn"!==t.look&&b.selectChildren("path").attr("style",l),r&&"handDrawn"!==t.look&&b.selectChildren("path").attr("style",r),t.width=s,t.height=o,yL(t,b),t.intersect=function(e){return YL.polygon(t,f,e)},i}async function _D(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.label="",t.labelStyle=n;const{shapeSvg:i}=await gL(e,t,xL(t)),a=Math.max(30,t?.width??0),o=Math.max(30,t?.height??0),{cssStyles:s}=t,l=mL(i),c=Zv(t,{});"handDrawn"!==t.look&&(c.roughness=0,c.fillStyle="solid");const u=[{x:0,y:0},{x:a,y:0},{x:0,y:o},{x:a,y:o}],d=vL(u),h=l.path(d,c),p=i.insert(()=>h,":first-child");return p.attr("class","basic label-container"),s&&"handDrawn"!==t.look&&p.selectChildren("path").attr("style",s),r&&"handDrawn"!==t.look&&p.selectChildren("path").attr("style",r),p.attr("transform",`translate(${-a/2}, ${-o/2})`),yL(t,p),t.intersect=function(e){zm.info("Pill intersect",t,{points:u});return YL.polygon(t,u,e)},i}async function CD(e,t,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=Yv(t);t.labelStyle=i;const a=t.assetHeight??48,o=t.assetWidth??48,s=Math.max(a,o),l=r?.wrappingWidth;t.width=Math.max(s,l??0);const{shapeSvg:c,bbox:u,label:d}=await gL(e,t,"icon-shape default"),h="t"===t.pos,p=s,f=s,{nodeBorder:m}=n,{stylesMap:g}=Wv(t),b=-f/2,y=-p/2,x=t.label?8:0,v=mL(c),k=Zv(t,{stroke:"none",fill:"none"});"handDrawn"!==t.look&&(k.roughness=0,k.fillStyle="solid");const w=v.rectangle(b,y,f,p,k),_=Math.max(f,u.width),C=p+u.height+x,S=v.rectangle(-_/2,-C/2,_,C,{...k,fill:"transparent",stroke:"none"}),E=c.insert(()=>w,":first-child"),N=c.insert(()=>S);if(t.icon){const e=c.append("g");e.html(`<g>${await XM(t.icon,{height:s,width:s,fallbackPrefix:""})}</g>`);const n=e.node().getBBox(),r=n.width,i=n.height,a=n.x,o=n.y;e.attr("transform",`translate(${-r/2-a},${h?u.height/2+x/2-i/2-o:-u.height/2-x/2-i/2-o})`),e.attr("style",`color: ${g.get("stroke")??m};`)}return d.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${h?-C/2:C/2-u.height})`),E.attr("transform",`translate(0,${h?u.height/2+x/2:-u.height/2-x/2})`),yL(t,N),t.intersect=function(e){if(zm.info("iconSquare intersect",t,e),!t.label)return YL.rect(t,e);const n=t.x??0,r=t.y??0,i=t.height??0;let a=[];a=h?[{x:n-u.width/2,y:r-i/2},{x:n+u.width/2,y:r-i/2},{x:n+u.width/2,y:r-i/2+u.height+x},{x:n+f/2,y:r-i/2+u.height+x},{x:n+f/2,y:r+i/2},{x:n-f/2,y:r+i/2},{x:n-f/2,y:r-i/2+u.height+x},{x:n-u.width/2,y:r-i/2+u.height+x}]:[{x:n-f/2,y:r-i/2},{x:n+f/2,y:r-i/2},{x:n+f/2,y:r-i/2+p},{x:n+u.width/2,y:r-i/2+p},{x:n+u.width/2/2,y:r+i/2},{x:n-u.width/2,y:r+i/2},{x:n-u.width/2,y:r-i/2+p},{x:n-f/2,y:r-i/2+p}];return YL.polygon(t,a,e)},c}async function SD(e,t,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=Yv(t);t.labelStyle=i;const a=t.assetHeight??48,o=t.assetWidth??48,s=Math.max(a,o),l=r?.wrappingWidth;t.width=Math.max(s,l??0);const{shapeSvg:c,bbox:u,label:d}=await gL(e,t,"icon-shape default"),h=t.label?8:0,p="t"===t.pos,{nodeBorder:f,mainBkg:m}=n,{stylesMap:g}=Wv(t),b=mL(c),y=Zv(t,{});"handDrawn"!==t.look&&(y.roughness=0,y.fillStyle="solid");const x=g.get("fill");y.stroke=x??m;const v=c.append("g");t.icon&&v.html(`<g>${await XM(t.icon,{height:s,width:s,fallbackPrefix:""})}</g>`);const k=v.node().getBBox(),w=k.width,_=k.height,C=k.x,S=k.y,E=Math.max(w,_)*Math.SQRT2+40,N=b.circle(0,0,E,y),T=Math.max(E,u.width),M=E+u.height+h,A=b.rectangle(-T/2,-M/2,T,M,{...y,fill:"transparent",stroke:"none"}),L=c.insert(()=>N,":first-child"),D=c.insert(()=>A);return v.attr("transform",`translate(${-w/2-C},${p?u.height/2+h/2-_/2-S:-u.height/2-h/2-_/2-S})`),v.attr("style",`color: ${g.get("stroke")??f};`),d.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${p?-M/2:M/2-u.height})`),L.attr("transform",`translate(0,${p?u.height/2+h/2:-u.height/2-h/2})`),yL(t,D),t.intersect=function(e){zm.info("iconSquare intersect",t,e);return YL.rect(t,e)},c}async function ED(e,t,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=Yv(t);t.labelStyle=i;const a=t.assetHeight??48,o=t.assetWidth??48,s=Math.max(a,o),l=r?.wrappingWidth;t.width=Math.max(s,l??0);const{shapeSvg:c,bbox:u,halfPadding:d,label:h}=await gL(e,t,"icon-shape default"),p="t"===t.pos,f=s+2*d,m=s+2*d,{nodeBorder:g,mainBkg:b}=n,{stylesMap:y}=Wv(t),x=-m/2,v=-f/2,k=t.label?8:0,w=mL(c),_=Zv(t,{});"handDrawn"!==t.look&&(_.roughness=0,_.fillStyle="solid");const C=y.get("fill");_.stroke=C??b;const S=w.path(ML(x,v,m,f,5),_),E=Math.max(m,u.width),N=f+u.height+k,T=w.rectangle(-E/2,-N/2,E,N,{..._,fill:"transparent",stroke:"none"}),M=c.insert(()=>S,":first-child").attr("class","icon-shape2"),A=c.insert(()=>T);if(t.icon){const e=c.append("g");e.html(`<g>${await XM(t.icon,{height:s,width:s,fallbackPrefix:""})}</g>`);const n=e.node().getBBox(),r=n.width,i=n.height,a=n.x,o=n.y;e.attr("transform",`translate(${-r/2-a},${p?u.height/2+k/2-i/2-o:-u.height/2-k/2-i/2-o})`),e.attr("style",`color: ${y.get("stroke")??g};`)}return h.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${p?-N/2:N/2-u.height})`),M.attr("transform",`translate(0,${p?u.height/2+k/2:-u.height/2-k/2})`),yL(t,A),t.intersect=function(e){if(zm.info("iconSquare intersect",t,e),!t.label)return YL.rect(t,e);const n=t.x??0,r=t.y??0,i=t.height??0;let a=[];a=p?[{x:n-u.width/2,y:r-i/2},{x:n+u.width/2,y:r-i/2},{x:n+u.width/2,y:r-i/2+u.height+k},{x:n+m/2,y:r-i/2+u.height+k},{x:n+m/2,y:r+i/2},{x:n-m/2,y:r+i/2},{x:n-m/2,y:r-i/2+u.height+k},{x:n-u.width/2,y:r-i/2+u.height+k}]:[{x:n-m/2,y:r-i/2},{x:n+m/2,y:r-i/2},{x:n+m/2,y:r-i/2+f},{x:n+u.width/2,y:r-i/2+f},{x:n+u.width/2/2,y:r+i/2},{x:n-u.width/2,y:r+i/2},{x:n-u.width/2,y:r-i/2+f},{x:n-m/2,y:r-i/2+f}];return YL.polygon(t,a,e)},c}async function ND(e,t,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=Yv(t);t.labelStyle=i;const a=t.assetHeight??48,o=t.assetWidth??48,s=Math.max(a,o),l=r?.wrappingWidth;t.width=Math.max(s,l??0);const{shapeSvg:c,bbox:u,halfPadding:d,label:h}=await gL(e,t,"icon-shape default"),p="t"===t.pos,f=s+2*d,m=s+2*d,{nodeBorder:g,mainBkg:b}=n,{stylesMap:y}=Wv(t),x=-m/2,v=-f/2,k=t.label?8:0,w=mL(c),_=Zv(t,{});"handDrawn"!==t.look&&(_.roughness=0,_.fillStyle="solid");const C=y.get("fill");_.stroke=C??b;const S=w.path(ML(x,v,m,f,.1),_),E=Math.max(m,u.width),N=f+u.height+k,T=w.rectangle(-E/2,-N/2,E,N,{..._,fill:"transparent",stroke:"none"}),M=c.insert(()=>S,":first-child"),A=c.insert(()=>T);if(t.icon){const e=c.append("g");e.html(`<g>${await XM(t.icon,{height:s,width:s,fallbackPrefix:""})}</g>`);const n=e.node().getBBox(),r=n.width,i=n.height,a=n.x,o=n.y;e.attr("transform",`translate(${-r/2-a},${p?u.height/2+k/2-i/2-o:-u.height/2-k/2-i/2-o})`),e.attr("style",`color: ${y.get("stroke")??g};`)}return h.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${p?-N/2:N/2-u.height})`),M.attr("transform",`translate(0,${p?u.height/2+k/2:-u.height/2-k/2})`),yL(t,A),t.intersect=function(e){if(zm.info("iconSquare intersect",t,e),!t.label)return YL.rect(t,e);const n=t.x??0,r=t.y??0,i=t.height??0;let a=[];a=p?[{x:n-u.width/2,y:r-i/2},{x:n+u.width/2,y:r-i/2},{x:n+u.width/2,y:r-i/2+u.height+k},{x:n+m/2,y:r-i/2+u.height+k},{x:n+m/2,y:r+i/2},{x:n-m/2,y:r+i/2},{x:n-m/2,y:r-i/2+u.height+k},{x:n-u.width/2,y:r-i/2+u.height+k}]:[{x:n-m/2,y:r-i/2},{x:n+m/2,y:r-i/2},{x:n+m/2,y:r-i/2+f},{x:n+u.width/2,y:r-i/2+f},{x:n+u.width/2/2,y:r+i/2},{x:n-u.width/2,y:r+i/2},{x:n-u.width/2,y:r-i/2+f},{x:n-m/2,y:r-i/2+f}];return YL.polygon(t,a,e)},c}async function TD(e,t,{config:{flowchart:n}}){const r=new Image;r.src=t?.img??"",await r.decode();const i=Number(r.naturalWidth.toString().replace("px","")),a=Number(r.naturalHeight.toString().replace("px",""));t.imageAspectRatio=i/a;const{labelStyles:o}=Yv(t);t.labelStyle=o;const s=n?.wrappingWidth;t.defaultWidth=n?.wrappingWidth;const l=Math.max(t.label?s??0:0,t?.assetWidth??i),c="on"===t.constraint&&t?.assetHeight?t.assetHeight*t.imageAspectRatio:l,u="on"===t.constraint?c/t.imageAspectRatio:t?.assetHeight??a;t.width=Math.max(c,s??0);const{shapeSvg:d,bbox:h,label:p}=await gL(e,t,"image-shape default"),f="t"===t.pos,m=-c/2,g=-u/2,b=t.label?8:0,y=mL(d),x=Zv(t,{});"handDrawn"!==t.look&&(x.roughness=0,x.fillStyle="solid");const v=y.rectangle(m,g,c,u,x),k=Math.max(c,h.width),w=u+h.height+b,_=y.rectangle(-k/2,-w/2,k,w,{...x,fill:"none",stroke:"none"}),C=d.insert(()=>v,":first-child"),S=d.insert(()=>_);if(t.img){const e=d.append("image");e.attr("href",t.img),e.attr("width",c),e.attr("height",u),e.attr("preserveAspectRatio","none"),e.attr("transform",`translate(${-c/2},${f?w/2-u:-w/2})`)}return p.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${f?-u/2-h.height/2-b/2:u/2-h.height/2+b/2})`),C.attr("transform",`translate(0,${f?h.height/2+b/2:-h.height/2-b/2})`),yL(t,S),t.intersect=function(e){if(zm.info("iconSquare intersect",t,e),!t.label)return YL.rect(t,e);const n=t.x??0,r=t.y??0,i=t.height??0;let a=[];a=f?[{x:n-h.width/2,y:r-i/2},{x:n+h.width/2,y:r-i/2},{x:n+h.width/2,y:r-i/2+h.height+b},{x:n+c/2,y:r-i/2+h.height+b},{x:n+c/2,y:r+i/2},{x:n-c/2,y:r+i/2},{x:n-c/2,y:r-i/2+h.height+b},{x:n-h.width/2,y:r-i/2+h.height+b}]:[{x:n-c/2,y:r-i/2},{x:n+c/2,y:r-i/2},{x:n+c/2,y:r-i/2+u},{x:n+h.width/2,y:r-i/2+u},{x:n+h.width/2/2,y:r+i/2},{x:n-h.width/2,y:r+i/2},{x:n-h.width/2,y:r-i/2+u},{x:n-c/2,y:r-i/2+u}];return YL.polygon(t,a,e)},d}async function MD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await gL(e,t,xL(t)),o=Math.max(a.width+2*(t.padding??0),t?.width??0),s=Math.max(a.height+2*(t.padding??0),t?.height??0),l=[{x:0,y:0},{x:o,y:0},{x:o+3*s/6,y:-s},{x:-3*s/6,y:-s}];let c;const{cssStyles:u}=t;if("handDrawn"===t.look){const e=mL(i),n=Zv(t,{}),r=vL(l),a=e.path(r,n);c=i.insert(()=>a,":first-child").attr("transform",`translate(${-o/2}, ${s/2})`),u&&c.attr("style",u)}else c=JL(i,o,s,l);return r&&c.attr("style",r),t.width=o,t.height=s,yL(t,c),t.intersect=function(e){return YL.polygon(t,l,e)},i}async function AD(e,t,n){const{labelStyles:r,nodeStyles:i}=Yv(t);t.labelStyle=r;const{shapeSvg:a,bbox:o}=await gL(e,t,xL(t)),s=Math.max(o.width+2*n.labelPaddingX,t?.width||0),l=Math.max(o.height+2*n.labelPaddingY,t?.height||0),c=-s/2,u=-l/2;let d,{rx:h,ry:p}=t;const{cssStyles:f}=t;if(n?.rx&&n.ry&&(h=n.rx,p=n.ry),"handDrawn"===t.look){const e=mL(a),n=Zv(t,{}),r=h||p?e.path(ML(c,u,s,l,h||0),n):e.rectangle(c,u,s,l,n);d=a.insert(()=>r,":first-child"),d.attr("class","basic label-container").attr("style",mT(f))}else d=a.insert("rect",":first-child"),d.attr("class","basic label-container").attr("style",i).attr("rx",mT(h)).attr("ry",mT(p)).attr("x",c).attr("y",u).attr("width",s).attr("height",l);return yL(t,d),t.intersect=function(e){return YL.rect(t,e)},a}async function LD(e,t){const{shapeSvg:n,bbox:r,label:i}=await gL(e,t,"label"),a=n.insert("rect",":first-child");return a.attr("width",.1).attr("height",.1),n.attr("class","label edgeLabel"),i.attr("transform",`translate(${-r.width/2-(r.x-(r.left??0))}, ${-r.height/2-(r.y-(r.top??0))})`),yL(t,a),t.intersect=function(e){return YL.rect(t,e)},n}async function DD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await gL(e,t,xL(t)),o=Math.max(a.width+(t.padding??0),t?.width??0),s=Math.max(a.height+(t.padding??0),t?.height??0),l=[{x:0,y:0},{x:o+3*s/6,y:0},{x:o,y:-s},{x:-3*s/6,y:-s}];let c;const{cssStyles:u}=t;if("handDrawn"===t.look){const e=mL(i),n=Zv(t,{}),r=vL(l),a=e.path(r,n);c=i.insert(()=>a,":first-child").attr("transform",`translate(${-o/2}, ${s/2})`),u&&c.attr("style",u)}else c=JL(i,o,s,l);return r&&c.attr("style",r),t.width=o,t.height=s,yL(t,c),t.intersect=function(e){return YL.polygon(t,l,e)},i}async function OD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await gL(e,t,xL(t)),o=Math.max(a.width+(t.padding??0),t?.width??0),s=Math.max(a.height+(t.padding??0),t?.height??0),l=[{x:-3*s/6,y:0},{x:o,y:0},{x:o+3*s/6,y:-s},{x:0,y:-s}];let c;const{cssStyles:u}=t;if("handDrawn"===t.look){const e=mL(i),n=Zv(t,{}),r=vL(l),a=e.path(r,n);c=i.insert(()=>a,":first-child").attr("transform",`translate(${-o/2}, ${s/2})`),u&&c.attr("style",u)}else c=JL(i,o,s,l);return r&&c.attr("style",r),t.width=o,t.height=s,yL(t,c),t.intersect=function(e){return YL.polygon(t,l,e)},i}function PD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.label="",t.labelStyle=n;const i=e.insert("g").attr("class",xL(t)).attr("id",t.domId??t.id),{cssStyles:a}=t,o=Math.max(35,t?.width??0),s=Math.max(35,t?.height??0),l=[{x:o,y:0},{x:0,y:s+3.5},{x:o-14,y:s+3.5},{x:0,y:2*s},{x:o,y:s-3.5},{x:14,y:s-3.5}],c=mL(i),u=Zv(t,{});"handDrawn"!==t.look&&(u.roughness=0,u.fillStyle="solid");const d=vL(l),h=c.path(d,u),p=i.insert(()=>h,":first-child");return a&&"handDrawn"!==t.look&&p.selectAll("path").attr("style",a),r&&"handDrawn"!==t.look&&p.selectAll("path").attr("style",r),p.attr("transform",`translate(-${o/2},${-s})`),yL(t,p),t.intersect=function(e){zm.info("lightningBolt intersect",t,e);return YL.polygon(t,l,e)},i}Rm(mD,"cylinder"),Rm(gD,"dividedRectangle"),Rm(bD,"doublecircle"),Rm(yD,"filledCircle"),Rm(xD,"flippedTriangle"),Rm(vD,"forkJoin"),Rm(kD,"halfRoundedRectangle"),Rm(wD,"hexagon"),Rm(_D,"hourglass"),Rm(CD,"icon"),Rm(SD,"iconCircle"),Rm(ED,"iconRounded"),Rm(ND,"iconSquare"),Rm(TD,"imageSquare"),Rm(MD,"inv_trapezoid"),Rm(AD,"drawRect"),Rm(LD,"labelRect"),Rm(DD,"lean_left"),Rm(OD,"lean_right"),Rm(PD,"lightningBolt");var FD=Rm((e,t,n,r,i,a,o)=>[`M${e},${t+a}`,`a${i},${a} 0,0,0 ${n},0`,`a${i},${a} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${a} 0,0,0 ${n},0`,"l0,"+-r,`M${e},${t+a+o}`,`a${i},${a} 0,0,0 ${n},0`].join(" "),"createCylinderPathD"),BD=Rm((e,t,n,r,i,a,o)=>[`M${e},${t+a}`,`M${e+n},${t+a}`,`a${i},${a} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${a} 0,0,0 ${n},0`,"l0,"+-r,`M${e},${t+a+o}`,`a${i},${a} 0,0,0 ${n},0`].join(" "),"createOuterCylinderPathD"),RD=Rm((e,t,n,r,i,a)=>[`M${e-n/2},${-r/2}`,`a${i},${a} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function ID(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:o}=await gL(e,t,xL(t)),s=Math.max(a.width+(t.padding??0),t.width??0),l=s/2,c=l/(2.5+s/50),u=Math.max(a.height+c+(t.padding??0),t.height??0),d=.1*u;let h;const{cssStyles:p}=t;if("handDrawn"===t.look){const e=mL(i),n=BD(0,0,s,u,l,c,d),r=RD(0,c,s,u,l,c),a=Zv(t,{}),o=e.path(n,a),f=e.path(r,a);i.insert(()=>f,":first-child").attr("class","line"),h=i.insert(()=>o,":first-child"),h.attr("class","basic label-container"),p&&h.attr("style",p)}else{const e=FD(0,0,s,u,l,c,d);h=i.insert("path",":first-child").attr("d",e).attr("class","basic label-container").attr("style",mT(p)).attr("style",r)}return h.attr("label-offset-y",c),h.attr("transform",`translate(${-s/2}, ${-(u/2+c)})`),yL(t,h),o.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-a.height/2+c-(a.y-(a.top??0))})`),t.intersect=function(e){const n=YL.rect(t,e),r=n.x-(t.x??0);if(0!=l&&(Math.abs(r)<(t.width??0)/2||Math.abs(r)==(t.width??0)/2&&Math.abs(n.y-(t.y??0))>(t.height??0)/2-c)){let i=c*c*(1-r*r/(l*l));i>0&&(i=Math.sqrt(i)),i=c-i,e.y-(t.y??0)>0&&(i=-i),n.y+=i}return n},i}async function jD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:o}=await gL(e,t,xL(t)),s=Math.max(a.width+2*(t.padding??0),t?.width??0),l=Math.max(a.height+2*(t.padding??0),t?.height??0),c=l/4,u=l+c,{cssStyles:d}=t,h=mL(i),p=Zv(t,{});"handDrawn"!==t.look&&(p.roughness=0,p.fillStyle="solid");const f=[{x:-s/2-s/2*.1,y:-u/2},{x:-s/2-s/2*.1,y:u/2},...kL(-s/2-s/2*.1,u/2,s/2+s/2*.1,u/2,c,.8),{x:s/2+s/2*.1,y:-u/2},{x:-s/2-s/2*.1,y:-u/2},{x:-s/2,y:-u/2},{x:-s/2,y:u/2*1.1},{x:-s/2,y:-u/2}],m=h.polygon(f.map(e=>[e.x,e.y]),p),g=i.insert(()=>m,":first-child");return g.attr("class","basic label-container"),d&&"handDrawn"!==t.look&&g.selectAll("path").attr("style",d),r&&"handDrawn"!==t.look&&g.selectAll("path").attr("style",r),g.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-s/2+(t.padding??0)+s/2*.1/2-(a.x-(a.left??0))},${-l/2+(t.padding??0)-c/2-(a.y-(a.top??0))})`),yL(t,g),t.intersect=function(e){return YL.polygon(t,f,e)},i}async function zD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:o}=await gL(e,t,xL(t)),s=Math.max(a.width+2*(t.padding??0),t?.width??0),l=Math.max(a.height+2*(t.padding??0),t?.height??0),c=-s/2,u=-l/2,{cssStyles:d}=t,h=mL(i),p=Zv(t,{}),f=[{x:c-5,y:u+5},{x:c-5,y:u+l+5},{x:c+s-5,y:u+l+5},{x:c+s-5,y:u+l},{x:c+s,y:u+l},{x:c+s,y:u+l-5},{x:c+s+5,y:u+l-5},{x:c+s+5,y:u-5},{x:c+5,y:u-5},{x:c+5,y:u},{x:c,y:u},{x:c,y:u+5}],m=[{x:c,y:u+5},{x:c+s-5,y:u+5},{x:c+s-5,y:u+l},{x:c+s,y:u+l},{x:c+s,y:u},{x:c,y:u}];"handDrawn"!==t.look&&(p.roughness=0,p.fillStyle="solid");const g=vL(f),b=h.path(g,p),y=vL(m),x=h.path(y,{...p,fill:"none"}),v=i.insert(()=>x,":first-child");return v.insert(()=>b,":first-child"),v.attr("class","basic label-container"),d&&"handDrawn"!==t.look&&v.selectAll("path").attr("style",d),r&&"handDrawn"!==t.look&&v.selectAll("path").attr("style",r),o.attr("transform",`translate(${-a.width/2-5-(a.x-(a.left??0))}, ${-a.height/2+5-(a.y-(a.top??0))})`),yL(t,v),t.intersect=function(e){return YL.polygon(t,f,e)},i}async function $D(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:o}=await gL(e,t,xL(t)),s=Math.max(a.width+2*(t.padding??0),t?.width??0),l=Math.max(a.height+2*(t.padding??0),t?.height??0),c=l/4,u=l+c,d=-s/2,h=-u/2,{cssStyles:p}=t,f=kL(d-5,h+u+5,d+s-5,h+u+5,c,.8),m=f?.[f.length-1],g=[{x:d-5,y:h+5},{x:d-5,y:h+u+5},...f,{x:d+s-5,y:m.y-5},{x:d+s,y:m.y-5},{x:d+s,y:m.y-10},{x:d+s+5,y:m.y-10},{x:d+s+5,y:h-5},{x:d+5,y:h-5},{x:d+5,y:h},{x:d,y:h},{x:d,y:h+5}],b=[{x:d,y:h+5},{x:d+s-5,y:h+5},{x:d+s-5,y:m.y-5},{x:d+s,y:m.y-5},{x:d+s,y:h},{x:d,y:h}],y=mL(i),x=Zv(t,{});"handDrawn"!==t.look&&(x.roughness=0,x.fillStyle="solid");const v=vL(g),k=y.path(v,x),w=vL(b),_=y.path(w,x),C=i.insert(()=>k,":first-child");return C.insert(()=>_),C.attr("class","basic label-container"),p&&"handDrawn"!==t.look&&C.selectAll("path").attr("style",p),r&&"handDrawn"!==t.look&&C.selectAll("path").attr("style",r),C.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-a.width/2-5-(a.x-(a.left??0))}, ${-a.height/2+5-c/2-(a.y-(a.top??0))})`),yL(t,C),t.intersect=function(e){return YL.polygon(t,g,e)},i}async function HD(e,t,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:i}=Yv(t);t.labelStyle=r;t.useHtmlLabels||!1!==Mg().flowchart?.htmlLabels||(t.centerLabel=!0);const{shapeSvg:a,bbox:o,label:s}=await gL(e,t,xL(t)),l=Math.max(o.width+2*(t.padding??0),t?.width??0),c=Math.max(o.height+2*(t.padding??0),t?.height??0),u=-l/2,d=-c/2,{cssStyles:h}=t,p=mL(a),f=Zv(t,{fill:n.noteBkgColor,stroke:n.noteBorderColor});"handDrawn"!==t.look&&(f.roughness=0,f.fillStyle="solid");const m=p.rectangle(u,d,l,c,f),g=a.insert(()=>m,":first-child");return g.attr("class","basic label-container"),h&&"handDrawn"!==t.look&&g.selectAll("path").attr("style",h),i&&"handDrawn"!==t.look&&g.selectAll("path").attr("style",i),s.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${-o.height/2-(o.y-(o.top??0))})`),yL(t,g),t.intersect=function(e){return YL.rect(t,e)},a}Rm(ID,"linedCylinder"),Rm(jD,"linedWaveEdgedRect"),Rm(zD,"multiRect"),Rm($D,"multiWaveEdgedRectangle"),Rm(HD,"note");var qD=Rm((e,t,n)=>[`M${e+n/2},${t}`,`L${e+n},${t-n/2}`,`L${e+n/2},${t-n}`,`L${e},${t-n/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function UD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await gL(e,t,xL(t)),o=a.width+t.padding+(a.height+t.padding),s=[{x:o/2,y:0},{x:o,y:-o/2},{x:o/2,y:-o},{x:0,y:-o/2}];let l;const{cssStyles:c}=t;if("handDrawn"===t.look){const e=mL(i),n=Zv(t,{}),r=qD(0,0,o),a=e.path(r,n);l=i.insert(()=>a,":first-child").attr("transform",`translate(${-o/2+.5}, ${o/2})`),c&&l.attr("style",c)}else l=JL(i,o,o,s),l.attr("transform",`translate(${-o/2+.5}, ${o/2})`);return r&&l.attr("style",r),yL(t,l),t.intersect=function(e){return zm.debug("APA12 Intersect called SPLIT\npoint:",e,"\nnode:\n",t,"\nres:",YL.polygon(t,s,e)),YL.polygon(t,s,e)},i}async function VD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:o}=await gL(e,t,xL(t)),s=-Math.max(a.width+(t.padding??0),t?.width??0)/2,l=-Math.max(a.height+(t.padding??0),t?.height??0)/2,c=l/2,u=[{x:s+c,y:l},{x:s,y:0},{x:s+c,y:-l},{x:-s,y:-l},{x:-s,y:l}],{cssStyles:d}=t,h=mL(i),p=Zv(t,{});"handDrawn"!==t.look&&(p.roughness=0,p.fillStyle="solid");const f=vL(u),m=h.path(f,p),g=i.insert(()=>m,":first-child");return g.attr("class","basic label-container"),d&&"handDrawn"!==t.look&&g.selectAll("path").attr("style",d),r&&"handDrawn"!==t.look&&g.selectAll("path").attr("style",r),g.attr("transform",`translate(${-c/2},0)`),o.attr("transform",`translate(${-c/2-a.width/2-(a.x-(a.left??0))}, ${-a.height/2-(a.y-(a.top??0))})`),yL(t,g),t.intersect=function(e){return YL.polygon(t,u,e)},i}async function WD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);let i;t.labelStyle=n,i=t.cssClasses?"node "+t.cssClasses:"node default";const a=e.insert("g").attr("class",i).attr("id",t.domId||t.id),o=a.insert("g"),s=a.insert("g").attr("class","label").attr("style",r),l=t.description,c=t.label,u=s.node().appendChild(await TL(c,t.labelStyle,!0,!0));let d={width:0,height:0};if(Zg(Db()?.flowchart?.htmlLabels)){const e=u.children[0],t=yw(u);d=e.getBoundingClientRect(),t.attr("width",d.width),t.attr("height",d.height)}zm.info("Text 2",l);const h=l||[],p=u.getBBox(),f=s.node().appendChild(await TL(h.join?h.join("<br/>"):h,t.labelStyle,!0,!0)),m=f.children[0],g=yw(f);d=m.getBoundingClientRect(),g.attr("width",d.width),g.attr("height",d.height);const b=(t.padding||0)/2;yw(f).attr("transform","translate( "+(d.width>p.width?0:(p.width-d.width)/2)+", "+(p.height+b+5)+")"),yw(u).attr("transform","translate( "+(d.width<p.width?0:-(p.width-d.width)/2)+", 0)"),d=s.node().getBBox(),s.attr("transform","translate("+-d.width/2+", "+(-d.height/2-b+3)+")");const y=d.width+(t.padding||0),x=d.height+(t.padding||0),v=-d.width/2-b,k=-d.height/2-b;let w,_;if("handDrawn"===t.look){const e=mL(a),n=Zv(t,{}),r=e.path(ML(v,k,y,x,t.rx||0),n),i=e.line(-d.width/2-b,-d.height/2-b+p.height+b,d.width/2+b,-d.height/2-b+p.height+b,n);_=a.insert(()=>(zm.debug("Rough node insert CXC",r),i),":first-child"),w=a.insert(()=>(zm.debug("Rough node insert CXC",r),r),":first-child")}else w=o.insert("rect",":first-child"),_=o.insert("line"),w.attr("class","outer title-state").attr("style",r).attr("x",-d.width/2-b).attr("y",-d.height/2-b).attr("width",d.width+(t.padding||0)).attr("height",d.height+(t.padding||0)),_.attr("class","divider").attr("x1",-d.width/2-b).attr("x2",d.width/2+b).attr("y1",-d.height/2-b+p.height+b).attr("y2",-d.height/2-b+p.height+b);return yL(t,w),t.intersect=function(e){return YL.rect(t,e)},a}function GD(e,t,n,r,i,a,o){const s=(e+n)/2,l=(t+r)/2,c=Math.atan2(r-t,n-e),u=(n-e)/2/i,d=(r-t)/2/a,h=Math.sqrt(u**2+d**2);if(h>1)throw new Error("The given radii are too small to create an arc between the points.");const p=Math.sqrt(1-h**2),f=s+p*a*Math.sin(c)*(o?-1:1),m=l-p*i*Math.cos(c)*(o?-1:1),g=Math.atan2((t-m)/a,(e-f)/i);let b=Math.atan2((r-m)/a,(n-f)/i)-g;o&&b<0&&(b+=2*Math.PI),!o&&b>0&&(b-=2*Math.PI);const y=[];for(let x=0;x<20;x++){const e=g+x/19*b,t=f+i*Math.cos(e),n=m+a*Math.sin(e);y.push({x:t,y:n})}return y}async function KD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await gL(e,t,xL(t)),o=t?.padding??0,s=t?.padding??0,l=(t?.width?t?.width:a.width)+2*o,c=(t?.height?t?.height:a.height)+2*s,{cssStyles:u}=t,d=mL(i),h=Zv(t,{});"handDrawn"!==t.look&&(h.roughness=0,h.fillStyle="solid");const p=[{x:-l/2+5,y:-c/2},{x:l/2-5,y:-c/2},...GD(l/2-5,-c/2,l/2,-c/2+5,5,5,!0),{x:l/2,y:-c/2+5},{x:l/2,y:c/2-5},...GD(l/2,c/2-5,l/2-5,c/2,5,5,!0),{x:l/2-5,y:c/2},{x:-l/2+5,y:c/2},...GD(-l/2+5,c/2,-l/2,c/2-5,5,5,!0),{x:-l/2,y:c/2-5},{x:-l/2,y:-c/2+5},...GD(-l/2,-c/2+5,-l/2+5,-c/2,5,5,!0)],f=vL(p),m=d.path(f,h),g=i.insert(()=>m,":first-child");return g.attr("class","basic label-container outer-path"),u&&"handDrawn"!==t.look&&g.selectChildren("path").attr("style",u),r&&"handDrawn"!==t.look&&g.selectChildren("path").attr("style",r),yL(t,g),t.intersect=function(e){return YL.polygon(t,p,e)},i}async function YD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:o}=await gL(e,t,xL(t)),s=t?.padding??0,l=Math.max(a.width+2*(t.padding??0),t?.width??0),c=Math.max(a.height+2*(t.padding??0),t?.height??0),u=-a.width/2-s,d=-a.height/2-s,{cssStyles:h}=t,p=mL(i),f=Zv(t,{});"handDrawn"!==t.look&&(f.roughness=0,f.fillStyle="solid");const m=[{x:u,y:d},{x:u+l+8,y:d},{x:u+l+8,y:d+c},{x:u-8,y:d+c},{x:u-8,y:d},{x:u,y:d},{x:u,y:d+c}],g=p.polygon(m.map(e=>[e.x,e.y]),f),b=i.insert(()=>g,":first-child");return b.attr("class","basic label-container").attr("style",mT(h)),r&&"handDrawn"!==t.look&&b.selectAll("path").attr("style",r),h&&"handDrawn"!==t.look&&b.selectAll("path").attr("style",r),o.attr("transform",`translate(${-l/2+4+(t.padding??0)-(a.x-(a.left??0))},${-c/2+(t.padding??0)-(a.y-(a.top??0))})`),yL(t,b),t.intersect=function(e){return YL.rect(t,e)},i}async function ZD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:o}=await gL(e,t,xL(t)),s=Math.max(a.width+2*(t.padding??0),t?.width??0),l=Math.max(a.height+2*(t.padding??0),t?.height??0),c=-s/2,u=-l/2,{cssStyles:d}=t,h=mL(i),p=Zv(t,{});"handDrawn"!==t.look&&(p.roughness=0,p.fillStyle="solid");const f=[{x:c,y:u},{x:c,y:u+l},{x:c+s,y:u+l},{x:c+s,y:u-l/2}],m=vL(f),g=h.path(m,p),b=i.insert(()=>g,":first-child");return b.attr("class","basic label-container"),d&&"handDrawn"!==t.look&&b.selectChildren("path").attr("style",d),r&&"handDrawn"!==t.look&&b.selectChildren("path").attr("style",r),b.attr("transform",`translate(0, ${l/4})`),o.attr("transform",`translate(${-s/2+(t.padding??0)-(a.x-(a.left??0))}, ${-l/4+(t.padding??0)-(a.y-(a.top??0))})`),yL(t,b),t.intersect=function(e){return YL.polygon(t,f,e)},i}async function XD(e,t){return AD(e,t,{rx:0,ry:0,labelPaddingX:2*(t?.padding||0),labelPaddingY:1*(t?.padding||0)})}async function QD(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await gL(e,t,xL(t)),o=a.height+t.padding,s=a.width+o/4+t.padding,l=o/2,{cssStyles:c}=t,u=mL(i),d=Zv(t,{});"handDrawn"!==t.look&&(d.roughness=0,d.fillStyle="solid");const h=[{x:-s/2+l,y:-o/2},{x:s/2-l,y:-o/2},...wL(-s/2+l,0,l,50,90,270),{x:s/2-l,y:o/2},...wL(s/2-l,0,l,50,270,450)],p=vL(h),f=u.path(p,d),m=i.insert(()=>f,":first-child");return m.attr("class","basic label-container outer-path"),c&&"handDrawn"!==t.look&&m.selectChildren("path").attr("style",c),r&&"handDrawn"!==t.look&&m.selectChildren("path").attr("style",r),yL(t,m),t.intersect=function(e){return YL.polygon(t,h,e)},i}async function JD(e,t){return AD(e,t,{rx:5,ry:5})}function eO(e,t,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:i}=Yv(t);t.labelStyle=r;const{cssStyles:a}=t,{lineColor:o,stateBorder:s,nodeBorder:l}=n,c=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),u=mL(c),d=Zv(t,{});"handDrawn"!==t.look&&(d.roughness=0,d.fillStyle="solid");const h=u.circle(0,0,14,{...d,stroke:o,strokeWidth:2}),p=s??l,f=u.circle(0,0,5,{...d,fill:p,stroke:p,strokeWidth:2,fillStyle:"solid"}),m=c.insert(()=>h,":first-child");return m.insert(()=>f),a&&m.selectAll("path").attr("style",a),i&&m.selectAll("path").attr("style",i),yL(t,m),t.intersect=function(e){return YL.circle(t,7,e)},c}function tO(e,t,{config:{themeVariables:n}}){const{lineColor:r}=n,i=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let a;if("handDrawn"===t.look){const e=mL(i).circle(0,0,14,Vv(r));a=i.insert(()=>e),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else a=i.insert("circle",":first-child"),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return yL(t,a),t.intersect=function(e){return YL.circle(t,7,e)},i}async function nO(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await gL(e,t,xL(t)),o=(t?.padding||0)/2,s=a.width+t.padding,l=a.height+t.padding,c=-a.width/2-o,u=-a.height/2-o,d=[{x:0,y:0},{x:s,y:0},{x:s,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:s+8,y:0},{x:s+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if("handDrawn"===t.look){const e=mL(i),n=Zv(t,{}),r=e.rectangle(c-8,u,s+16,l,n),a=e.line(c,u,c,u+l,n),o=e.line(c+s,u,c+s,u+l,n);i.insert(()=>a,":first-child"),i.insert(()=>o,":first-child");const d=i.insert(()=>r,":first-child"),{cssStyles:h}=t;d.attr("class","basic label-container").attr("style",mT(h)),yL(t,d)}else{const e=JL(i,s,l,d);r&&e.attr("style",r),yL(t,e)}return t.intersect=function(e){return YL.polygon(t,d,e)},i}async function rO(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await gL(e,t,xL(t)),o=Math.max(a.width+2*(t.padding??0),t?.width??0),s=Math.max(a.height+2*(t.padding??0),t?.height??0),l=-o/2,c=-s/2,u=.2*s,d=.2*s,{cssStyles:h}=t,p=mL(i),f=Zv(t,{}),m=[{x:l-u/2,y:c},{x:l+o+u/2,y:c},{x:l+o+u/2,y:c+s},{x:l-u/2,y:c+s}],g=[{x:l+o-u/2,y:c+s},{x:l+o+u/2,y:c+s},{x:l+o+u/2,y:c+s-d}];"handDrawn"!==t.look&&(f.roughness=0,f.fillStyle="solid");const b=vL(m),y=p.path(b,f),x=vL(g),v=p.path(x,{...f,fillStyle:"solid"}),k=i.insert(()=>v,":first-child");return k.insert(()=>y,":first-child"),k.attr("class","basic label-container"),h&&"handDrawn"!==t.look&&k.selectAll("path").attr("style",h),r&&"handDrawn"!==t.look&&k.selectAll("path").attr("style",r),yL(t,k),t.intersect=function(e){return YL.polygon(t,m,e)},i}async function iO(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:o}=await gL(e,t,xL(t)),s=Math.max(a.width+2*(t.padding??0),t?.width??0),l=Math.max(a.height+2*(t.padding??0),t?.height??0),c=l/4,u=.2*s,d=.2*l,h=l+c,{cssStyles:p}=t,f=mL(i),m=Zv(t,{});"handDrawn"!==t.look&&(m.roughness=0,m.fillStyle="solid");const g=[{x:-s/2-s/2*.1,y:h/2},...kL(-s/2-s/2*.1,h/2,s/2+s/2*.1,h/2,c,.8),{x:s/2+s/2*.1,y:-h/2},{x:-s/2-s/2*.1,y:-h/2}],b=-s/2+s/2*.1,y=-h/2-.4*d,x=[{x:b+s-u,y:1.4*(y+l)},{x:b+s,y:y+l-d},{x:b+s,y:.9*(y+l)},...kL(b+s,1.3*(y+l),b+s-u,1.5*(y+l),.03*-l,.5)],v=vL(g),k=f.path(v,m),w=vL(x),_=f.path(w,{...m,fillStyle:"solid"}),C=i.insert(()=>_,":first-child");return C.insert(()=>k,":first-child"),C.attr("class","basic label-container"),p&&"handDrawn"!==t.look&&C.selectAll("path").attr("style",p),r&&"handDrawn"!==t.look&&C.selectAll("path").attr("style",r),C.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-s/2+(t.padding??0)-(a.x-(a.left??0))},${-l/2+(t.padding??0)-c/2-(a.y-(a.top??0))})`),yL(t,C),t.intersect=function(e){return YL.polygon(t,g,e)},i}async function aO(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await gL(e,t,xL(t)),o=Math.max(a.width+t.padding,t?.width||0),s=Math.max(a.height+t.padding,t?.height||0),l=-o/2,c=-s/2,u=i.insert("rect",":first-child");return u.attr("class","text").attr("style",r).attr("rx",0).attr("ry",0).attr("x",l).attr("y",c).attr("width",o).attr("height",s),yL(t,u),t.intersect=function(e){return YL.rect(t,e)},i}Rm(UD,"question"),Rm(VD,"rect_left_inv_arrow"),Rm(WD,"rectWithTitle"),Rm(GD,"generateArcPoints"),Rm(KD,"roundedRect"),Rm(YD,"shadedProcess"),Rm(ZD,"slopedRect"),Rm(XD,"squareRect"),Rm(QD,"stadium"),Rm(JD,"state"),Rm(eO,"stateEnd"),Rm(tO,"stateStart"),Rm(nO,"subroutine"),Rm(rO,"taggedRect"),Rm(iO,"taggedWaveEdgedRectangle"),Rm(aO,"text");var oO=Rm((e,t,n,r,i,a)=>`M${e},${t}\n    a${i},${a} 0,0,1 0,${-r}\n    l${n},0\n    a${i},${a} 0,0,1 0,${r}\n    M${n},${-r}\n    a${i},${a} 0,0,0 0,${r}\n    l${-n},0`,"createCylinderPathD"),sO=Rm((e,t,n,r,i,a)=>[`M${e},${t}`,`M${e+n},${t}`,`a${i},${a} 0,0,0 0,${-r}`,`l${-n},0`,`a${i},${a} 0,0,0 0,${r}`,`l${n},0`].join(" "),"createOuterCylinderPathD"),lO=Rm((e,t,n,r,i,a)=>[`M${e+n/2},${-r/2}`,`a${i},${a} 0,0,0 0,${r}`].join(" "),"createInnerCylinderPathD");async function cO(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:o,halfPadding:s}=await gL(e,t,xL(t)),l="neo"===t.look?2*s:s,c=a.height+l,u=c/2,d=u/(2.5+c/50),h=a.width+d+l,{cssStyles:p}=t;let f;if("handDrawn"===t.look){const e=mL(i),n=sO(0,0,h,c,d,u),r=lO(0,0,h,c,d,u),a=e.path(n,Zv(t,{})),o=e.path(r,Zv(t,{fill:"none"}));f=i.insert(()=>o,":first-child"),f=i.insert(()=>a,":first-child"),f.attr("class","basic label-container"),p&&f.attr("style",p)}else{const e=oO(0,0,h,c,d,u);f=i.insert("path",":first-child").attr("d",e).attr("class","basic label-container").attr("style",mT(p)).attr("style",r),f.attr("class","basic label-container"),p&&f.selectAll("path").attr("style",p),r&&f.selectAll("path").attr("style",r)}return f.attr("label-offset-x",d),f.attr("transform",`translate(${-h/2}, ${c/2} )`),o.attr("transform",`translate(${-a.width/2-d-(a.x-(a.left??0))}, ${-a.height/2-(a.y-(a.top??0))})`),yL(t,f),t.intersect=function(e){const n=YL.rect(t,e),r=n.y-(t.y??0);if(0!=u&&(Math.abs(r)<(t.height??0)/2||Math.abs(r)==(t.height??0)/2&&Math.abs(n.x-(t.x??0))>(t.width??0)/2-d)){let i=d*d*(1-r*r/(u*u));0!=i&&(i=Math.sqrt(Math.abs(i))),i=d-i,e.x-(t.x??0)>0&&(i=-i),n.x+=i}return n},i}async function uO(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await gL(e,t,xL(t)),o=a.width+t.padding,s=a.height+t.padding,l=[{x:-3*s/6,y:0},{x:o+3*s/6,y:0},{x:o,y:-s},{x:0,y:-s}];let c;const{cssStyles:u}=t;if("handDrawn"===t.look){const e=mL(i),n=Zv(t,{}),r=vL(l),a=e.path(r,n);c=i.insert(()=>a,":first-child").attr("transform",`translate(${-o/2}, ${s/2})`),u&&c.attr("style",u)}else c=JL(i,o,s,l);return r&&c.attr("style",r),t.width=o,t.height=s,yL(t,c),t.intersect=function(e){return YL.polygon(t,l,e)},i}async function dO(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await gL(e,t,xL(t)),o=Math.max(60,a.width+2*(t.padding??0),t?.width??0),s=Math.max(20,a.height+2*(t.padding??0),t?.height??0),{cssStyles:l}=t,c=mL(i),u=Zv(t,{});"handDrawn"!==t.look&&(u.roughness=0,u.fillStyle="solid");const d=[{x:-o/2*.8,y:-s/2},{x:o/2*.8,y:-s/2},{x:o/2,y:-s/2*.6},{x:o/2,y:s/2},{x:-o/2,y:s/2},{x:-o/2,y:-s/2*.6}],h=vL(d),p=c.path(h,u),f=i.insert(()=>p,":first-child");return f.attr("class","basic label-container"),l&&"handDrawn"!==t.look&&f.selectChildren("path").attr("style",l),r&&"handDrawn"!==t.look&&f.selectChildren("path").attr("style",r),yL(t,f),t.intersect=function(e){return YL.polygon(t,d,e)},i}async function hO(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:o}=await gL(e,t,xL(t)),s=Zg(Db().flowchart?.htmlLabels),l=a.width+(t.padding??0),c=l+a.height,u=l+a.height,d=[{x:0,y:0},{x:u,y:0},{x:u/2,y:-c}],{cssStyles:h}=t,p=mL(i),f=Zv(t,{});"handDrawn"!==t.look&&(f.roughness=0,f.fillStyle="solid");const m=vL(d),g=p.path(m,f),b=i.insert(()=>g,":first-child").attr("transform",`translate(${-c/2}, ${c/2})`);return h&&"handDrawn"!==t.look&&b.selectChildren("path").attr("style",h),r&&"handDrawn"!==t.look&&b.selectChildren("path").attr("style",r),t.width=l,t.height=c,yL(t,b),o.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${c/2-(a.height+(t.padding??0)/(s?2:1)-(a.y-(a.top??0)))})`),t.intersect=function(e){return zm.info("Triangle intersect",t,d,e),YL.polygon(t,d,e)},i}async function pO(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:o}=await gL(e,t,xL(t)),s=Math.max(a.width+2*(t.padding??0),t?.width??0),l=Math.max(a.height+2*(t.padding??0),t?.height??0),c=l/8,u=l+c,{cssStyles:d}=t,h=70-s,p=h>0?h/2:0,f=mL(i),m=Zv(t,{});"handDrawn"!==t.look&&(m.roughness=0,m.fillStyle="solid");const g=[{x:-s/2-p,y:u/2},...kL(-s/2-p,u/2,s/2+p,u/2,c,.8),{x:s/2+p,y:-u/2},{x:-s/2-p,y:-u/2}],b=vL(g),y=f.path(b,m),x=i.insert(()=>y,":first-child");return x.attr("class","basic label-container"),d&&"handDrawn"!==t.look&&x.selectAll("path").attr("style",d),r&&"handDrawn"!==t.look&&x.selectAll("path").attr("style",r),x.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-s/2+(t.padding??0)-(a.x-(a.left??0))},${-l/2+(t.padding??0)-c-(a.y-(a.top??0))})`),yL(t,x),t.intersect=function(e){return YL.polygon(t,g,e)},i}async function fO(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a}=await gL(e,t,xL(t)),o=Math.max(a.width+2*(t.padding??0),t?.width??0),s=Math.max(a.height+2*(t.padding??0),t?.height??0),l=o/s;let c=o,u=s;c>u*l?u=c/l:c=u*l,c=Math.max(c,100),u=Math.max(u,50);const d=Math.min(.2*u,u/4),h=u+2*d,{cssStyles:p}=t,f=mL(i),m=Zv(t,{});"handDrawn"!==t.look&&(m.roughness=0,m.fillStyle="solid");const g=[{x:-c/2,y:h/2},...kL(-c/2,h/2,c/2,h/2,d,1),{x:c/2,y:-h/2},...kL(c/2,-h/2,-c/2,-h/2,d,-1)],b=vL(g),y=f.path(b,m),x=i.insert(()=>y,":first-child");return x.attr("class","basic label-container"),p&&"handDrawn"!==t.look&&x.selectAll("path").attr("style",p),r&&"handDrawn"!==t.look&&x.selectAll("path").attr("style",r),yL(t,x),t.intersect=function(e){return YL.polygon(t,g,e)},i}async function mO(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const{shapeSvg:i,bbox:a,label:o}=await gL(e,t,xL(t)),s=Math.max(a.width+2*(t.padding??0),t?.width??0),l=Math.max(a.height+2*(t.padding??0),t?.height??0),c=-s/2,u=-l/2,{cssStyles:d}=t,h=mL(i),p=Zv(t,{}),f=[{x:c-5,y:u-5},{x:c-5,y:u+l},{x:c+s,y:u+l},{x:c+s,y:u-5}],m=`M${c-5},${u-5} L${c+s},${u-5} L${c+s},${u+l} L${c-5},${u+l} L${c-5},${u-5}\n                M${c-5},${u} L${c+s},${u}\n                M${c},${u-5} L${c},${u+l}`;"handDrawn"!==t.look&&(p.roughness=0,p.fillStyle="solid");const g=h.path(m,p),b=i.insert(()=>g,":first-child");return b.attr("transform","translate(2.5, 2.5)"),b.attr("class","basic label-container"),d&&"handDrawn"!==t.look&&b.selectAll("path").attr("style",d),r&&"handDrawn"!==t.look&&b.selectAll("path").attr("style",r),o.attr("transform",`translate(${-a.width/2+2.5-(a.x-(a.left??0))}, ${-a.height/2+2.5-(a.y-(a.top??0))})`),yL(t,b),t.intersect=function(e){return YL.polygon(t,f,e)},i}async function gO(e,t){const n=t;if(n.alias&&(t.label=n.alias),"handDrawn"===t.look){const{themeVariables:n}=Mg(),{background:r}=n,i={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${r}`]};await gO(e,i)}const r=Mg();t.useHtmlLabels=r.htmlLabels;let i=r.er?.diagramPadding??10,a=r.er?.entityPadding??6;const{cssStyles:o}=t,{labelStyles:s,nodeStyles:l}=Yv(t);if(0===n.attributes.length&&t.label){const n={rx:0,ry:0,labelPaddingX:i,labelPaddingY:1.5*i};nT(t.label,r)+2*n.labelPaddingX<r.er.minEntityWidth&&(t.width=r.er.minEntityWidth);const a=await AD(e,t,n);if(!Zg(r.htmlLabels)){const e=a.select("text"),t=e.node()?.getBBox();e.attr("transform",`translate(${-t.width/2}, 0)`)}return a}r.htmlLabels||(i*=1.25,a*=1.25);let c=xL(t);c||(c="node default");const u=e.insert("g").attr("class",c).attr("id",t.domId||t.id),d=await bO(u,t.label??"",r,0,0,["name"],s);d.height+=a;let h=0;const p=[],f=[];let m=0,g=0,b=0,y=0,x=!0,v=!0;for(const I of n.attributes){const e=await bO(u,I.type,r,0,h,["attribute-type"],s);m=Math.max(m,e.width+i);const t=await bO(u,I.name,r,0,h,["attribute-name"],s);g=Math.max(g,t.width+i);const n=await bO(u,I.keys.join(),r,0,h,["attribute-keys"],s);b=Math.max(b,n.width+i);const o=await bO(u,I.comment,r,0,h,["attribute-comment"],s);y=Math.max(y,o.width+i);const l=Math.max(e.height,t.height,n.height,o.height)+a;f.push({yOffset:h,rowHeight:l}),h+=l}let k=4;b<=i&&(x=!1,b=0,k--),y<=i&&(v=!1,y=0,k--);const w=u.node().getBBox();if(d.width+2*i-(m+g+b+y)>0){const e=d.width+2*i-(m+g+b+y);m+=e/k,g+=e/k,b>0&&(b+=e/k),y>0&&(y+=e/k)}const _=m+g+b+y,C=mL(u),S=Zv(t,{});"handDrawn"!==t.look&&(S.roughness=0,S.fillStyle="solid");let E=0;f.length>0&&(E=f.reduce((e,t)=>e+(t?.rowHeight??0),0));const N=Math.max(w.width+2*i,t?.width||0,_),T=Math.max((E??0)+d.height,t?.height||0),M=-N/2,A=-T/2;u.selectAll("g:not(:first-child)").each((e,t,n)=>{const r=yw(n[t]),o=r.attr("transform");let s=0,l=0;if(o){const e=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(o);e&&(s=parseFloat(e[1]),l=parseFloat(e[2]),r.attr("class").includes("attribute-name")?s+=m:r.attr("class").includes("attribute-keys")?s+=m+g:r.attr("class").includes("attribute-comment")&&(s+=m+g+b))}r.attr("transform",`translate(${M+i/2+s}, ${l+A+d.height+a/2})`)}),u.select(".name").attr("transform","translate("+-d.width/2+", "+(A+a/2)+")");const L=C.rectangle(M,A,N,T,S),D=u.insert(()=>L,":first-child").attr("style",o.join("")),{themeVariables:O}=Mg(),{rowEven:P,rowOdd:F,nodeBorder:B}=O;p.push(0);for(const[I,j]of f.entries()){const e=(I+1)%2==0&&0!==j.yOffset,t=C.rectangle(M,d.height+A+j?.yOffset,N,j?.rowHeight,{...S,fill:e?P:F,stroke:B});u.insert(()=>t,"g.label").attr("style",o.join("")).attr("class","row-rect-"+(e?"even":"odd"))}let R=C.line(M,d.height+A,N+M,d.height+A,S);u.insert(()=>R).attr("class","divider"),R=C.line(m+M,d.height+A,m+M,T+A,S),u.insert(()=>R).attr("class","divider"),x&&(R=C.line(m+g+M,d.height+A,m+g+M,T+A,S),u.insert(()=>R).attr("class","divider")),v&&(R=C.line(m+g+b+M,d.height+A,m+g+b+M,T+A,S),u.insert(()=>R).attr("class","divider"));for(const I of p)R=C.line(M,d.height+A+I,N+M,d.height+A+I,S),u.insert(()=>R).attr("class","divider");if(yL(t,D),l&&"handDrawn"!==t.look){const e=l.split(";"),t=e?.filter(e=>e.includes("stroke"))?.map(e=>`${e}`).join("; ");u.selectAll("path").attr("style",t??""),u.selectAll(".row-rect-even path").attr("style",l)}return t.intersect=function(e){return YL.rect(t,e)},u}async function bO(e,t,n,r=0,i=0,a=[],o=""){const s=e.insert("g").attr("class",`label ${a.join(" ")}`).attr("transform",`translate(${r}, ${i})`).attr("style",o);t!==Jg(t)&&(t=(t=Jg(t)).replaceAll("<","&lt;").replaceAll(">","&gt;"));const l=s.node().appendChild(await fA(s,t,{width:nT(t,n)+100,style:o,useHtmlLabels:n.htmlLabels},n));if(t.includes("&lt;")||t.includes("&gt;")){let e=l.children[0];for(e.textContent=e.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");e.childNodes[0];)e=e.childNodes[0],e.textContent=e.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let c=l.getBBox();if(Zg(n.htmlLabels)){const e=l.children[0];e.style.textAlign="start";const t=yw(l);c=e.getBoundingClientRect(),t.attr("width",c.width),t.attr("height",c.height)}return c}async function yO(e,t,n,r,i=n.class.padding??12){const a=r?0:3,o=e.insert("g").attr("class",xL(t)).attr("id",t.domId||t.id);let s=null,l=null,c=null,u=null,d=0,h=0,p=0;if(s=o.insert("g").attr("class","annotation-group text"),t.annotations.length>0){const e=t.annotations[0];await xO(s,{text:`«${e}»`},0);d=s.node().getBBox().height}l=o.insert("g").attr("class","label-group text"),await xO(l,t,0,["font-weight: bolder"]);const f=l.node().getBBox();h=f.height,c=o.insert("g").attr("class","members-group text");let m=0;for(const y of t.members){m+=await xO(c,y,m,[y.parseClassifier()])+a}p=c.node().getBBox().height,p<=0&&(p=i/2),u=o.insert("g").attr("class","methods-group text");let g=0;for(const y of t.methods){g+=await xO(u,y,g,[y.parseClassifier()])+a}let b=o.node().getBBox();if(null!==s){const e=s.node().getBBox();s.attr("transform",`translate(${-e.width/2})`)}return l.attr("transform",`translate(${-f.width/2}, ${d})`),b=o.node().getBBox(),c.attr("transform",`translate(0, ${d+h+2*i})`),b=o.node().getBBox(),u.attr("transform",`translate(0, ${d+h+(p?p+4*i:2*i)})`),b=o.node().getBBox(),{shapeSvg:o,bbox:b}}async function xO(e,t,n,r=[]){const i=e.insert("g").attr("class","label").attr("style",r.join("; ")),a=Mg();let o="useHtmlLabels"in t?t.useHtmlLabels:Zg(a.htmlLabels)??!0,s="";s="text"in t?t.text:t.label,!o&&s.startsWith("\\")&&(s=s.substring(1)),ab(s)&&(o=!0);const l=await fA(i,Fb(pT(s)),{width:nT(s,a)+50,classes:"markdown-node-label",useHtmlLabels:o},a);let c,u=1;if(o){const e=l.children[0],t=yw(l);u=e.innerHTML.split("<br>").length,e.innerHTML.includes("</math>")&&(u+=e.innerHTML.split("<mrow>").length-1);const n=e.getElementsByTagName("img");if(n){const e=""===s.replace(/<img[^>]*>/g,"").trim();await Promise.all([...n].map(t=>new Promise(n=>{function r(){if(t.style.display="flex",t.style.flexDirection="column",e){const e=a.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,n=5,r=parseInt(e,10)*n+"px";t.style.minWidth=r,t.style.maxWidth=r}else t.style.width="100%";n(t)}Rm(r,"setupImage"),setTimeout(()=>{t.complete&&r()}),t.addEventListener("error",r),t.addEventListener("load",r)})))}c=e.getBoundingClientRect(),t.attr("width",c.width),t.attr("height",c.height)}else{r.includes("font-weight: bolder")&&yw(l).selectAll("tspan").attr("font-weight",""),u=l.children.length;const e=l.children[0];if(""===l.textContent||l.textContent.includes("&gt")){e.textContent=s[0]+s.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim();" "===s[1]&&(e.textContent=e.textContent[0]+" "+e.textContent.substring(1))}"undefined"===e.textContent&&(e.textContent=""),c=l.getBBox()}return i.attr("transform","translate(0,"+(-c.height/(2*u)+n)+")"),c.height}async function vO(e,t){const n=Db(),r=n.class.padding??12,i=r,a=t.useHtmlLabels??Zg(n.htmlLabels)??!0,o=t;o.annotations=o.annotations??[],o.members=o.members??[],o.methods=o.methods??[];const{shapeSvg:s,bbox:l}=await yO(e,t,n,a,i),{labelStyles:c,nodeStyles:u}=Yv(t);t.labelStyle=c,t.cssStyles=o.styles||"";const d=o.styles?.join(";")||u||"";t.cssStyles||(t.cssStyles=d.replaceAll("!important","").split(";"));const h=0===o.members.length&&0===o.methods.length&&!n.class?.hideEmptyMembersBox,p=mL(s),f=Zv(t,{});"handDrawn"!==t.look&&(f.roughness=0,f.fillStyle="solid");const m=l.width;let g=l.height;0===o.members.length&&0===o.methods.length?g+=i:o.members.length>0&&0===o.methods.length&&(g+=2*i);const b=-m/2,y=-g/2,x=p.rectangle(b-r,y-r-(h?r:0===o.members.length&&0===o.methods.length?-r/2:0),m+2*r,g+2*r+(h?2*r:0===o.members.length&&0===o.methods.length?-r:0),f),v=s.insert(()=>x,":first-child");v.attr("class","basic label-container");const k=v.node().getBBox();s.selectAll(".text").each((e,t,n)=>{const i=yw(n[t]),l=i.attr("transform");let c=0;if(l){const e=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(l);e&&(c=parseFloat(e[2]))}let u=c+y+r-(h?r:0===o.members.length&&0===o.methods.length?-r/2:0);a||(u-=4);let d=b;(i.attr("class").includes("label-group")||i.attr("class").includes("annotation-group"))&&(d=-i.node()?.getBBox().width/2||0,s.selectAll("text").each(function(e,t,n){"middle"===window.getComputedStyle(n[t]).textAnchor&&(d=0)})),i.attr("transform",`translate(${d}, ${u})`)});const w=s.select(".annotation-group").node().getBBox().height-(h?r/2:0)||0,_=s.select(".label-group").node().getBBox().height-(h?r/2:0)||0,C=s.select(".members-group").node().getBBox().height-(h?r/2:0)||0;if(o.members.length>0||o.methods.length>0||h){const e=p.line(k.x,w+_+y+r,k.x+k.width,w+_+y+r,f);s.insert(()=>e).attr("class","divider").attr("style",d)}if(h||o.members.length>0||o.methods.length>0){const e=p.line(k.x,w+_+C+y+2*i+r,k.x+k.width,w+_+C+y+r+2*i,f);s.insert(()=>e).attr("class","divider").attr("style",d)}if("handDrawn"!==o.look&&s.selectAll("path").attr("style",d),v.select(":nth-child(2)").attr("style",d),s.selectAll(".divider").select("path").attr("style",d),t.labelStyle?s.selectAll("span").attr("style",t.labelStyle):s.selectAll("span").attr("style",d),!a){const e=RegExp(/color\s*:\s*([^;]*)/),t=e.exec(d);if(t){const e=t[0].replace("color","fill");s.selectAll("tspan").attr("style",e)}else if(c){const t=e.exec(c);if(t){const e=t[0].replace("color","fill");s.selectAll("tspan").attr("style",e)}}}return yL(t,v),t.intersect=function(e){return YL.rect(t,e)},s}async function kO(e,t){const{labelStyles:n,nodeStyles:r}=Yv(t);t.labelStyle=n;const i=t,a=t,o="verifyMethod"in t,s=xL(t),l=e.insert("g").attr("class",s).attr("id",t.domId??t.id);let c;c=o?await wO(l,`&lt;&lt;${i.type}&gt;&gt;`,0,t.labelStyle):await wO(l,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle);let u=c;const d=await wO(l,i.name,u,t.labelStyle+"; font-weight: bold;");if(u+=d+20,o){u+=await wO(l,""+(i.requirementId?`ID: ${i.requirementId}`:""),u,t.labelStyle);u+=await wO(l,""+(i.text?`Text: ${i.text}`:""),u,t.labelStyle);u+=await wO(l,""+(i.risk?`Risk: ${i.risk}`:""),u,t.labelStyle),await wO(l,""+(i.verifyMethod?`Verification: ${i.verifyMethod}`:""),u,t.labelStyle)}else{u+=await wO(l,""+(a.type?`Type: ${a.type}`:""),u,t.labelStyle),await wO(l,""+(a.docRef?`Doc Ref: ${a.docRef}`:""),u,t.labelStyle)}const h=(l.node()?.getBBox().width??200)+20,p=(l.node()?.getBBox().height??200)+20,f=-h/2,m=-p/2,g=mL(l),b=Zv(t,{});"handDrawn"!==t.look&&(b.roughness=0,b.fillStyle="solid");const y=g.rectangle(f,m,h,p,b),x=l.insert(()=>y,":first-child");if(x.attr("class","basic label-container").attr("style",r),l.selectAll(".label").each((e,t,n)=>{const r=yw(n[t]),i=r.attr("transform");let a=0,o=0;if(i){const e=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(i);e&&(a=parseFloat(e[1]),o=parseFloat(e[2]))}const s=o-p/2;let l=f+10;0!==t&&1!==t||(l=a),r.attr("transform",`translate(${l}, ${s+20})`)}),u>c+d+20){const e=g.line(f,m+c+d+20,f+h,m+c+d+20,b);l.insert(()=>e).attr("style",r)}return yL(t,x),t.intersect=function(e){return YL.rect(t,e)},l}async function wO(e,t,n,r=""){if(""===t)return 0;const i=e.insert("g").attr("class","label").attr("style",r),a=Db(),o=a.htmlLabels??!0,s=await fA(i,Fb(pT(t)),{width:nT(t,a)+50,classes:"markdown-node-label",useHtmlLabels:o,style:r},a);let l;if(o){const e=s.children[0],t=yw(s);l=e.getBoundingClientRect(),t.attr("width",l.width),t.attr("height",l.height)}else{const e=s.children[0];for(const t of e.children)t.textContent=t.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),r&&t.setAttribute("style",r);l=s.getBBox(),l.height+=6}return i.attr("transform",`translate(${-l.width/2},${-l.height/2+n})`),l.height}Rm(cO,"tiltedCylinder"),Rm(uO,"trapezoid"),Rm(dO,"trapezoidalPentagon"),Rm(hO,"triangle"),Rm(pO,"waveEdgedRectangle"),Rm(fO,"waveRectangle"),Rm(mO,"windowPane"),Rm(gO,"erBox"),Rm(bO,"addText"),Rm(yO,"textHelper"),Rm(xO,"addText"),Rm(vO,"classBox"),Rm(kO,"requirementBox"),Rm(wO,"addText");var _O=Rm(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function CO(e,t,{config:n}){const{labelStyles:r,nodeStyles:i}=Yv(t);t.labelStyle=r||"";const a=t.width;t.width=(t.width??200)-10;const{shapeSvg:o,bbox:s,label:l}=await gL(e,t,xL(t)),c=t.padding||10;let u,d="";"ticket"in t&&t.ticket&&n?.kanban?.ticketBaseUrl&&(d=n?.kanban?.ticketBaseUrl.replace("#TICKET#",t.ticket),u=o.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",d).attr("target","_blank"));const h={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let p,f;({label:p,bbox:f}=u?await bL(u,"ticket"in t&&t.ticket||"",h):await bL(o,"ticket"in t&&t.ticket||"",h));const{label:m,bbox:g}=await bL(o,"assigned"in t&&t.assigned||"",h);t.width=a;const b=t?.width||0,y=Math.max(f.height,g.height)/2,x=Math.max(s.height+20,t?.height||0)+y,v=-b/2,k=-x/2;let w;l.attr("transform","translate("+(c-b/2)+", "+(-y-s.height/2)+")"),p.attr("transform","translate("+(c-b/2)+", "+(-y+s.height/2)+")"),m.attr("transform","translate("+(c+b/2-g.width-20)+", "+(-y+s.height/2)+")");const{rx:_,ry:C}=t,{cssStyles:S}=t;if("handDrawn"===t.look){const e=mL(o),n=Zv(t,{}),r=_||C?e.path(ML(v,k,b,x,_||0),n):e.rectangle(v,k,b,x,n);w=o.insert(()=>r,":first-child"),w.attr("class","basic label-container").attr("style",S||null)}else{w=o.insert("rect",":first-child"),w.attr("class","basic label-container __APA__").attr("style",i).attr("rx",_??5).attr("ry",C??5).attr("x",v).attr("y",k).attr("width",b).attr("height",x);const e="priority"in t&&t.priority;if(e){const t=o.append("line"),n=v+2,r=k+Math.floor((_??0)/2),i=k+x-Math.floor((_??0)/2);t.attr("x1",n).attr("y1",r).attr("x2",n).attr("y2",i).attr("stroke-width","4").attr("stroke",_O(e))}}return yL(t,w),t.height=x,t.intersect=function(e){return YL.rect(t,e)},o}Rm(CO,"kanbanItem");var SO=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:XD},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:KD},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:QD},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:nO},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:mD},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:nD},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:UD},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:wD},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:OD},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:DD},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:uO},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:MD},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:bD},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:aO},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:eD},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:YD},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:tO},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:eO},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:vD},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:_D},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:oD},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:lD},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:uD},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:PD},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:pO},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:kD},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:cO},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:ID},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:dD},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:gD},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:hO},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:mO},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:yD},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:dO},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:xD},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:ZD},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:$D},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:zD},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:QL},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:iD},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:iO},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:rO},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:fO},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:VD},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:jD}],EO=Rm(()=>{const e={state:JD,choice:tD,note:HD,rectWithTitle:WD,labelRect:LD,iconSquare:ND,iconCircle:SD,icon:CD,iconRounded:ED,imageSquare:TD,anchor:ZL,kanbanItem:CO,classBox:vO,erBox:gO,requirementBox:kO},t=[...Object.entries(e),...SO.flatMap(e=>[e.shortName,..."aliases"in e?e.aliases:[],..."internalAliases"in e?e.internalAliases:[]].map(t=>[t,e.handler]))];return Object.fromEntries(t)},"generateShapeMap"),NO=EO();function TO(e){return e in NO}Rm(TO,"isValidShape");var MO=new Map;async function AO(e,t,n){let r,i;"rect"===t.shape&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");const a=t.shape?NO[t.shape]:void 0;if(!a)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let o;"sandbox"===n.config.securityLevel?o="_top":t.linkTarget&&(o=t.linkTarget||"_blank"),r=e.insert("svg:a").attr("xlink:href",t.link).attr("target",o??null),i=await a(r,t,n)}else i=await a(e,t,n),r=i;return t.tooltip&&i.attr("title",t.tooltip),MO.set(t.id,r),t.haveCallback&&r.attr("class",r.attr("class")+" clickable"),r}Rm(AO,"insertNode");var LO=Rm((e,t)=>{MO.set(t.id,e)},"setNodeElem"),DO=Rm(()=>{MO.clear()},"clear"),OO=Rm(e=>{const t=MO.get(e.id);zm.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-8)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode"),PO=Rm((e,t,n,r,i,a)=>{t.arrowTypeStart&&BO(e,"start",t.arrowTypeStart,n,r,i,a),t.arrowTypeEnd&&BO(e,"end",t.arrowTypeEnd,n,r,i,a)},"addEdgeMarkers"),FO={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},BO=Rm((e,t,n,r,i,a,o)=>{const s=FO[n];if(!s)return void zm.warn(`Unknown arrow type: ${n}`);const l=`${i}_${a}-${s.type}${"start"===t?"Start":"End"}`;if(o&&""!==o.trim()){const n=`${l}_${o.replace(/[^\dA-Za-z]/g,"_")}`;if(!document.getElementById(n)){const e=document.getElementById(l);if(e){const t=e.cloneNode(!0);t.id=n;t.querySelectorAll("path, circle, line").forEach(e=>{e.setAttribute("stroke",o),s.fill&&e.setAttribute("fill",o)}),e.parentNode?.appendChild(t)}}e.attr(`marker-${t}`,`url(${r}#${n})`)}else e.attr(`marker-${t}`,`url(${r}#${l})`)},"addEdgeMarker"),RO=new Map,IO=new Map,jO=Rm(()=>{RO.clear(),IO.clear()},"clear"),zO=Rm(e=>e?e.reduce((e,t)=>e+";"+t,""):"","getLabelStyles"),$O=Rm(async(e,t)=>{let n=Zg(Db().flowchart.htmlLabels);const r=await fA(e,t.label,{style:zO(t.labelStyle),useHtmlLabels:n,addSvgBackground:!0,isNode:!1});zm.info("abc82",t,t.labelType);const i=e.insert("g").attr("class","edgeLabel"),a=i.insert("g").attr("class","label");a.node().appendChild(r);let o,s=r.getBBox();if(n){const e=r.children[0],t=yw(r);s=e.getBoundingClientRect(),t.attr("width",s.width),t.attr("height",s.height)}if(a.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),RO.set(t.id,i),t.width=s.width,t.height=s.height,t.startLabelLeft){const n=await TL(t.startLabelLeft,zO(t.labelStyle)),r=e.insert("g").attr("class","edgeTerminals"),i=r.insert("g").attr("class","inner");o=i.node().appendChild(n);const a=n.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),IO.get(t.id)||IO.set(t.id,{}),IO.get(t.id).startLeft=r,HO(o,t.startLabelLeft)}if(t.startLabelRight){const n=await TL(t.startLabelRight,zO(t.labelStyle)),r=e.insert("g").attr("class","edgeTerminals"),i=r.insert("g").attr("class","inner");o=r.node().appendChild(n),i.node().appendChild(n);const a=n.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),IO.get(t.id)||IO.set(t.id,{}),IO.get(t.id).startRight=r,HO(o,t.startLabelRight)}if(t.endLabelLeft){const n=await TL(t.endLabelLeft,zO(t.labelStyle)),r=e.insert("g").attr("class","edgeTerminals"),i=r.insert("g").attr("class","inner");o=i.node().appendChild(n);const a=n.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),r.node().appendChild(n),IO.get(t.id)||IO.set(t.id,{}),IO.get(t.id).endLeft=r,HO(o,t.endLabelLeft)}if(t.endLabelRight){const n=await TL(t.endLabelRight,zO(t.labelStyle)),r=e.insert("g").attr("class","edgeTerminals"),i=r.insert("g").attr("class","inner");o=i.node().appendChild(n);const a=n.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),r.node().appendChild(n),IO.get(t.id)||IO.set(t.id,{}),IO.get(t.id).endRight=r,HO(o,t.endLabelRight)}return r},"insertEdgeLabel");function HO(e,t){Db().flowchart.htmlLabels&&e&&(e.style.width=9*t.length+"px",e.style.height="12px")}Rm(HO,"setTerminalWidth");var qO=Rm((e,t)=>{zm.debug("Moving label abc88 ",e.id,e.label,RO.get(e.id),t);let n=t.updatedPath?t.updatedPath:t.originalPath;const r=Db(),{subGraphTitleTotalMargin:i}=Uv(r);if(e.label){const r=RO.get(e.id);let a=e.x,o=e.y;if(n){const r=dT.calcLabelPosition(n);zm.debug("Moving label "+e.label+" from (",a,",",o,") to (",r.x,",",r.y,") abc88"),t.updatedPath&&(a=r.x,o=r.y)}r.attr("transform",`translate(${a}, ${o+i/2})`)}if(e.startLabelLeft){const t=IO.get(e.id).startLeft;let r=e.x,i=e.y;if(n){const t=dT.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",n);r=t.x,i=t.y}t.attr("transform",`translate(${r}, ${i})`)}if(e.startLabelRight){const t=IO.get(e.id).startRight;let r=e.x,i=e.y;if(n){const t=dT.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",n);r=t.x,i=t.y}t.attr("transform",`translate(${r}, ${i})`)}if(e.endLabelLeft){const t=IO.get(e.id).endLeft;let r=e.x,i=e.y;if(n){const t=dT.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",n);r=t.x,i=t.y}t.attr("transform",`translate(${r}, ${i})`)}if(e.endLabelRight){const t=IO.get(e.id).endRight;let r=e.x,i=e.y;if(n){const t=dT.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",n);r=t.x,i=t.y}t.attr("transform",`translate(${r}, ${i})`)}},"positionEdgeLabel"),UO=Rm((e,t)=>{const n=e.x,r=e.y,i=Math.abs(t.x-n),a=Math.abs(t.y-r),o=e.width/2,s=e.height/2;return i>=o||a>=s},"outsideNode"),VO=Rm((e,t,n)=>{zm.debug(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(t)}\n  insidePoint : ${JSON.stringify(n)}\n  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const r=e.x,i=e.y,a=Math.abs(r-n.x),o=e.width/2;let s=n.x<t.x?o-a:o+a;const l=e.height/2,c=Math.abs(t.y-n.y),u=Math.abs(t.x-n.x);if(Math.abs(i-t.y)*o>Math.abs(r-t.x)*l){let e=n.y<t.y?t.y-l-i:i-l-t.y;s=u*e/c;const r={x:n.x<t.x?n.x+s:n.x-u+s,y:n.y<t.y?n.y+c-e:n.y-c+e};return 0===s&&(r.x=t.x,r.y=t.y),0===u&&(r.x=t.x),0===c&&(r.y=t.y),zm.debug(`abc89 top/bottom calc, Q ${c}, q ${e}, R ${u}, r ${s}`,r),r}{s=n.x<t.x?t.x-o-r:r-o-t.x;let e=c*s/u,i=n.x<t.x?n.x+u-s:n.x-u+s,a=n.y<t.y?n.y+e:n.y-e;return zm.debug(`sides calc abc89, Q ${c}, q ${e}, R ${u}, r ${s}`,{_x:i,_y:a}),0===s&&(i=t.x,a=t.y),0===u&&(i=t.x),0===c&&(a=t.y),{x:i,y:a}}},"intersection"),WO=Rm((e,t)=>{zm.warn("abc88 cutPathAtIntersect",e,t);let n=[],r=e[0],i=!1;return e.forEach(e=>{if(zm.info("abc88 checking point",e,t),UO(t,e)||i)zm.warn("abc88 outside",e,r),r=e,i||n.push(e);else{const a=VO(t,r,e);zm.debug("abc88 inside",e,r,a),zm.debug("abc88 intersection",a,t);let o=!1;n.forEach(e=>{o=o||e.x===a.x&&e.y===a.y}),n.some(e=>e.x===a.x&&e.y===a.y)?zm.warn("abc88 no intersect",a,n):n.push(a),i=!0}}),zm.debug("returning points",n),n},"cutPathAtIntersect");function GO(e){const t=[],n=[];for(let r=1;r<e.length-1;r++){const i=e[r-1],a=e[r],o=e[r+1];(i.x===a.x&&a.y===o.y&&Math.abs(a.x-o.x)>5&&Math.abs(a.y-i.y)>5||i.y===a.y&&a.x===o.x&&Math.abs(a.x-i.x)>5&&Math.abs(a.y-o.y)>5)&&(t.push(a),n.push(r))}return{cornerPoints:t,cornerPointPositions:n}}Rm(GO,"extractCornerPoints");var KO=Rm(function(e,t,n){const r=t.x-e.x,i=t.y-e.y,a=n/Math.sqrt(r*r+i*i);return{x:t.x-a*r,y:t.y-a*i}},"findAdjacentPoint"),YO=Rm(function(e){const{cornerPointPositions:t}=GO(e),n=[];for(let r=0;r<e.length;r++)if(t.includes(r)){const t=e[r-1],i=e[r+1],a=e[r],o=KO(t,a,5),s=KO(i,a,5),l=s.x-o.x,c=s.y-o.y;n.push(o);const u=2*Math.sqrt(2);let d={x:a.x,y:a.y};if(Math.abs(i.x-t.x)>10&&Math.abs(i.y-t.y)>=10){zm.debug("Corner point fixing",Math.abs(i.x-t.x),Math.abs(i.y-t.y));const e=5;d=a.x===o.x?{x:l<0?o.x-e+u:o.x+e-u,y:c<0?o.y-u:o.y+u}:{x:l<0?o.x-u:o.x+u,y:c<0?o.y-e+u:o.y+e-u}}else zm.debug("Corner point skipping fixing",Math.abs(i.x-t.x),Math.abs(i.y-t.y));n.push(d,s)}else n.push(e[r]);return n},"fixCorners"),ZO=Rm(function(e,t,n,r,i,a,o){const{handDrawnSeed:s}=Db();let l=t.points,c=!1;const u=i;var d=a;const h=[];for(const E in t.cssCompiledStyles)Kv(E)||h.push(t.cssCompiledStyles[E]);d.intersect&&u.intersect&&(l=l.slice(1,t.points.length-1),l.unshift(u.intersect(l[0])),zm.debug("Last point APA12",t.start,"--\x3e",t.end,l[l.length-1],d,d.intersect(l[l.length-1])),l.push(d.intersect(l[l.length-1]))),t.toCluster&&(zm.info("to cluster abc88",n.get(t.toCluster)),l=WO(t.points,n.get(t.toCluster).node),c=!0),t.fromCluster&&(zm.debug("from cluster abc88",n.get(t.fromCluster),JSON.stringify(l,null,2)),l=WO(l.reverse(),n.get(t.fromCluster).node).reverse(),c=!0);let p=l.filter(e=>!Number.isNaN(e.y));p=YO(p);let f=UC;switch(f=PC,t.curve){case"linear":f=PC;break;case"basis":default:f=UC;break;case"cardinal":f=XC;break;case"bumpX":f=jC;break;case"bumpY":f=zC;break;case"catmullRom":f=iS;break;case"monotoneX":f=bS;break;case"monotoneY":f=yS;break;case"natural":f=kS;break;case"step":f=_S;break;case"stepAfter":f=SS;break;case"stepBefore":f=CS}const{x:m,y:g}=qv(t),b=RC().x(m).y(g).curve(f);let y,x;switch(t.thickness){case"normal":default:y="edge-thickness-normal";break;case"thick":y="edge-thickness-thick";break;case"invisible":y="edge-thickness-invisible"}switch(t.pattern){case"solid":default:y+=" edge-pattern-solid";break;case"dotted":y+=" edge-pattern-dotted";break;case"dashed":y+=" edge-pattern-dashed"}let v=b(p);const k=Array.isArray(t.style)?t.style:t.style?[t.style]:[];let w=k.find(e=>e?.startsWith("stroke:"));if("handDrawn"===t.look){const n=mL(e);Object.assign([],p);y+=" transition",x=yw(n.path(v,{roughness:.3,seed:s})).select("path").attr("id",t.id).attr("class"," "+y+(t.classes?" "+t.classes:"")).attr("style",k?k.reduce((e,t)=>e+";"+t,""):"");let r=x.attr("d");x.attr("d",r),e.node().appendChild(x.node())}else{const n=h.join(";"),r=k?k.reduce((e,t)=>e+t+";",""):"";let i="";t.animate&&(i=" edge-animation-fast"),t.animation&&(i=" edge-animation-"+t.animation);const a=n?n+";"+r+";":r;x=e.append("path").attr("d",v).attr("id",t.id).attr("class"," "+y+(t.classes?" "+t.classes:"")+(i??"")).attr("style",a),w=a.match(/stroke:([^;]+)/)?.[1]}let _="";(Db().flowchart.arrowMarkerAbsolute||Db().state.arrowMarkerAbsolute)&&(_=Yg(!0)),zm.info("arrowTypeStart",t.arrowTypeStart),zm.info("arrowTypeEnd",t.arrowTypeEnd),PO(x,t,_,o,r,w);const C=l[Math.floor(l.length/2)];dT.isLabelCoordinateInPath(C,x.attr("d"))||(c=!0);let S={};return c&&(S.updatedPath=l),S.originalPath=t.points,S},"insertEdge"),XO=Rm((e,t,n,r)=>{t.forEach(t=>{pP[t](e,n,r)})},"insertMarkers"),QO=Rm((e,t,n)=>{zm.trace("Making markers for ",n),e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),JO=Rm((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),eP=Rm((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),tP=Rm((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),nP=Rm((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),rP=Rm((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),iP=Rm((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),aP=Rm((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),oP=Rm((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),sP=Rm((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",n+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),lP=Rm((e,t,n)=>{const r=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("d","M9,0 L9,18");const i=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),i.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),cP=Rm((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",n+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),uP=Rm((e,t,n)=>{const r=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const i=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),i.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),dP=Rm((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d","M0,0\n      L20,10\n      M20,10\n      L0,20")},"requirement_arrow"),hP=Rm((e,t,n)=>{const r=e.append("defs").append("marker").attr("id",n+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");r.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),r.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),r.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),pP={extension:QO,composition:JO,aggregation:eP,dependency:tP,lollipop:nP,point:rP,circle:iP,cross:aP,barb:oP,only_one:sP,zero_or_one:lP,one_or_more:cP,zero_or_more:uP,requirement_arrow:dP,requirement_contains:hP},fP=XO,mP={common:cb,getConfig:Mg,insertCluster:RL,insertEdge:ZO,insertEdgeLabel:$O,insertMarkers:fP,insertNode:AO,interpolateToCurve:BN,labelHelper:gL,log:zm,positionEdgeLabel:qO},gP={},bP=Rm(e=>{for(const t of e)gP[t.name]=t},"registerLayoutLoaders");Rm(()=>{bP([{name:"dagre",loader:Rm(async()=>await ef(()=>import("./dagre-2BBEFEWP.js"),[]),"loader")}])},"registerDefaultLayoutLoaders")();var yP=Rm(async(e,t)=>{if(!(e.layoutAlgorithm in gP))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);const n=gP[e.layoutAlgorithm];return(await n.loader()).render(e,t,mP,{algorithm:n.algorithm})},"render"),xP=Rm((e="",{fallback:t="dagre"}={})=>{if(e in gP)return e;if(t in gP)return zm.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm"),vP={name:"mermaid",version:"11.10.1",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.0.4","@iconify/utils":"^2.1.33","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.11",dayjs:"^1.11.13",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.0.0",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.2","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.0",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.0.2",jison:"^0.4.18","js-base64":"^3.7.7",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.2",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.10","type-fest":"^4.35.0",typedoc:"^0.27.8","typedoc-plugin-markdown":"^4.4.2",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.0.2","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},kP=Rm(e=>{const{securityLevel:t}=Db();let n=yw("body");if("sandbox"===t){const t=yw(`#i${e}`);n=yw((t.node()?.contentDocument??document).body)}return n.select(`#${e}`)},"selectSvgElement"),wP="comm",_P="rule",CP="decl",SP=Math.abs,EP=String.fromCharCode;function NP(e){return e.trim()}function TP(e,t,n){return e.replace(t,n)}function MP(e,t,n){return e.indexOf(t,n)}function AP(e,t){return 0|e.charCodeAt(t)}function LP(e,t,n){return e.slice(t,n)}function DP(e){return e.length}function OP(e,t){return t.push(e),e}var PP=1,FP=1,BP=0,RP=0,IP=0,jP="";function zP(e,t,n,r,i,a,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:PP,column:FP,length:o,return:"",siblings:s}}function $P(){return IP=RP>0?AP(jP,--RP):0,FP--,10===IP&&(FP=1,PP--),IP}function HP(){return IP=RP<BP?AP(jP,RP++):0,FP++,10===IP&&(FP=1,PP++),IP}function qP(){return AP(jP,RP)}function UP(){return RP}function VP(e,t){return LP(jP,e,t)}function WP(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function GP(e){return NP(VP(RP-1,ZP(91===e?e+2:40===e?e+1:e)))}function KP(e){for(;(IP=qP())&&IP<33;)HP();return WP(e)>2||WP(IP)>3?"":" "}function YP(e,t){for(;--t&&HP()&&!(IP<48||IP>102||IP>57&&IP<65||IP>70&&IP<97););return VP(e,UP()+(t<6&&32==qP()&&32==HP()))}function ZP(e){for(;HP();)switch(IP){case e:return RP;case 34:case 39:34!==e&&39!==e&&ZP(IP);break;case 40:41===e&&ZP(e);break;case 92:HP()}return RP}function XP(e,t){for(;HP()&&e+IP!==57&&(e+IP!==84||47!==qP()););return"/*"+VP(t,RP-1)+"*"+EP(47===e?e:HP())}function QP(e){for(;!WP(qP());)HP();return VP(e,RP)}function JP(e){return function(e){return jP="",e}(eF("",null,null,null,[""],e=function(e){return PP=FP=1,BP=DP(jP=e),RP=0,[]}(e),0,[0],e))}function eF(e,t,n,r,i,a,o,s,l){for(var c=0,u=0,d=o,h=0,p=0,f=0,m=1,g=1,b=1,y=0,x="",v=i,k=a,w=r,_=x;g;)switch(f=y,y=HP()){case 40:if(108!=f&&58==AP(_,d-1)){-1!=MP(_+=TP(GP(y),"&","&\f"),"&\f",SP(c?s[c-1]:0))&&(b=-1);break}case 34:case 39:case 91:_+=GP(y);break;case 9:case 10:case 13:case 32:_+=KP(f);break;case 92:_+=YP(UP()-1,7);continue;case 47:switch(qP()){case 42:case 47:OP(nF(XP(HP(),UP()),t,n,l),l),5!=WP(f||1)&&5!=WP(qP()||1)||!DP(_)||" "===LP(_,-1,void 0)||(_+=" ");break;default:_+="/"}break;case 123*m:s[c++]=DP(_)*b;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==b&&(_=TP(_,/\f/g,"")),p>0&&(DP(_)-d||0===m&&47===f)&&OP(p>32?rF(_+";",r,n,d-1,l):rF(TP(_," ","")+";",r,n,d-2,l),l);break;case 59:_+=";";default:if(OP(w=tF(_,t,n,c,u,i,s,x,v=[],k=[],d,a),a),123===y)if(0===u)eF(_,t,w,w,v,a,d,s,k);else{switch(h){case 99:if(110===AP(_,3))break;case 108:if(97===AP(_,2))break;default:u=0;case 100:case 109:case 115:}u?eF(e,w,w,r&&OP(tF(e,w,w,0,0,i,s,x,i,v=[],d,k),k),i,k,d,s,r?v:k):eF(_,w,w,w,[""],k,0,s,k)}}c=u=p=0,m=b=1,x=_="",d=o;break;case 58:d=1+DP(_),p=f;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==$P())continue;switch(_+=EP(y),y*m){case 38:b=u>0?1:(_+="\f",-1);break;case 44:s[c++]=(DP(_)-1)*b,b=1;break;case 64:45===qP()&&(_+=GP(HP())),h=qP(),u=d=DP(x=_+=QP(UP())),y++;break;case 45:45===f&&2==DP(_)&&(m=0)}}return a}function tF(e,t,n,r,i,a,o,s,l,c,u,d){for(var h=i-1,p=0===i?a:[""],f=function(e){return e.length}(p),m=0,g=0,b=0;m<r;++m)for(var y=0,x=LP(e,h+1,h=SP(g=o[m])),v=e;y<f;++y)(v=NP(g>0?p[y]+" "+x:TP(x,/&\f/g,p[y])))&&(l[b++]=v);return zP(e,t,n,0===i?_P:s,l,c,u,d)}function nF(e,t,n,r){return zP(e,t,n,wP,EP(IP),LP(e,2,-2),0,r)}function rF(e,t,n,r,i){return zP(e,t,n,CP,LP(e,0,r),LP(e,r+1,-1),r,i)}function iF(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function aF(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case"@namespace":case CP:return e.return=e.return||e.value;case wP:return"";case"@keyframes":return e.return=e.value+"{"+iF(e.children,r)+"}";case _P:if(!DP(e.value=e.props.join(",")))return""}return DP(n=iF(e.children,r))?e.return=e.value+"{"+n+"}":""}var oF=NE(Object.keys,Object),sF=Object.prototype.hasOwnProperty;function lF(e){if(!AE(e))return oF(e);var t=[];for(var n in Object(e))sF.call(e,n)&&"constructor"!=n&&t.push(n);return t}var cF=QS(MS,"DataView"),uF=QS(MS,"Promise"),dF=QS(MS,"Set"),hF=QS(MS,"WeakMap"),pF="[object Map]",fF="[object Promise]",mF="[object Set]",gF="[object WeakMap]",bF="[object DataView]",yF=US(cF),xF=US(sE),vF=US(uF),kF=US(dF),wF=US(hF),_F=RS;(cF&&_F(new cF(new ArrayBuffer(1)))!=bF||sE&&_F(new sE)!=pF||uF&&_F(uF.resolve())!=fF||dF&&_F(new dF)!=mF||hF&&_F(new hF)!=gF)&&(_F=function(e){var t=RS(e),n="[object Object]"==t?e.constructor:void 0,r=n?US(n):"";if(r)switch(r){case yF:return bF;case xF:return pF;case vF:return fF;case kF:return mF;case wF:return gF}return t});var CF=Object.prototype.hasOwnProperty;function SF(e){if(null==e)return!0;if(zE(e)&&(IE(e)||"string"==typeof e||"function"==typeof e.splice||VE(e)||iN(e)||RE(e)))return!e.length;var t=_F(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(AE(e))return!lF(e).length;for(var n in e)if(CF.call(e,n))return!1;return!0}var EF={id:"c4",detector:Rm(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./c4Diagram-AAMF2YG6.js");return{diagram:e}},[]);return{id:"c4",diagram:e}},"loader")},NF="flowchart",TF=Rm((e,t)=>"dagre-wrapper"!==t?.flowchart?.defaultRenderer&&"elk"!==t?.flowchart?.defaultRenderer&&/^\s*graph/.test(e),"detector"),MF={id:NF,detector:TF,loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./flowDiagram-THRYKUMA.js");return{diagram:e}},[]);return{id:NF,diagram:e}},"loader")},AF="flowchart-v2",LF=Rm((e,t)=>"dagre-d3"!==t?.flowchart?.defaultRenderer&&("elk"===t?.flowchart?.defaultRenderer&&(t.layout="elk"),!(!/^\s*graph/.test(e)||"dagre-wrapper"!==t?.flowchart?.defaultRenderer)||/^\s*flowchart/.test(e)),"detector"),DF={id:AF,detector:LF,loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./flowDiagram-THRYKUMA.js");return{diagram:e}},[]);return{id:AF,diagram:e}},"loader")},OF={id:"er",detector:Rm(e=>/^\s*erDiagram/.test(e),"detector"),loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./erDiagram-HZWUO2LU.js");return{diagram:e}},[]);return{id:"er",diagram:e}},"loader")},PF="gitGraph",FF={id:PF,detector:Rm(e=>/^\s*gitGraph/.test(e),"detector"),loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./gitGraphDiagram-OJR772UL.js");return{diagram:e}},[]);return{id:PF,diagram:e}},"loader")},BF="gantt",RF={id:BF,detector:Rm(e=>/^\s*gantt/.test(e),"detector"),loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./ganttDiagram-WV7ZQ7D5.js");return{diagram:e}},[]);return{id:BF,diagram:e}},"loader")},IF="info",jF={id:IF,detector:Rm(e=>/^\s*info/.test(e),"detector"),loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./infoDiagram-DDUCL6P7.js");return{diagram:e}},[]);return{id:IF,diagram:e}},"loader")},zF={id:"pie",detector:Rm(e=>/^\s*pie/.test(e),"detector"),loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./pieDiagram-DBDJKBY4.js");return{diagram:e}},[]);return{id:"pie",diagram:e}},"loader")},$F="quadrantChart",HF={id:$F,detector:Rm(e=>/^\s*quadrantChart/.test(e),"detector"),loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./quadrantDiagram-YPSRARAO.js");return{diagram:e}},[]);return{id:$F,diagram:e}},"loader")},qF="xychart",UF={id:qF,detector:Rm(e=>/^\s*xychart(-beta)?/.test(e),"detector"),loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./xychartDiagram-FDP5SA34.js");return{diagram:e}},[]);return{id:qF,diagram:e}},"loader")},VF="requirement",WF={id:VF,detector:Rm(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./requirementDiagram-EGVEC5DT.js");return{diagram:e}},[]);return{id:VF,diagram:e}},"loader")},GF="sequence",KF={id:GF,detector:Rm(e=>/^\s*sequenceDiagram/.test(e),"detector"),loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./sequenceDiagram-4MX5Z3NR.js");return{diagram:e}},[]);return{id:GF,diagram:e}},"loader")},YF="class",ZF=Rm((e,t)=>"dagre-wrapper"!==t?.class?.defaultRenderer&&/^\s*classDiagram/.test(e),"detector"),XF={id:YF,detector:ZF,loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./classDiagram-3BZAVTQC.js");return{diagram:e}},[]);return{id:YF,diagram:e}},"loader")},QF="classDiagram",JF=Rm((e,t)=>!(!/^\s*classDiagram/.test(e)||"dagre-wrapper"!==t?.class?.defaultRenderer)||/^\s*classDiagram-v2/.test(e),"detector"),eB={id:QF,detector:JF,loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./classDiagram-v2-QTMF73CY.js");return{diagram:e}},[]);return{id:QF,diagram:e}},"loader")},tB="state",nB=Rm((e,t)=>"dagre-wrapper"!==t?.state?.defaultRenderer&&/^\s*stateDiagram/.test(e),"detector"),rB={id:tB,detector:nB,loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./stateDiagram-UUKSUZ4H.js");return{diagram:e}},[]);return{id:tB,diagram:e}},"loader")},iB="stateDiagram",aB=Rm((e,t)=>!!/^\s*stateDiagram-v2/.test(e)||!(!/^\s*stateDiagram/.test(e)||"dagre-wrapper"!==t?.state?.defaultRenderer),"detector"),oB={id:iB,detector:aB,loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./stateDiagram-v2-EYPG3UTE.js");return{diagram:e}},[]);return{id:iB,diagram:e}},"loader")},sB="journey",lB={id:sB,detector:Rm(e=>/^\s*journey/.test(e),"detector"),loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./journeyDiagram-FFXJYRFH.js");return{diagram:e}},[]);return{id:sB,diagram:e}},"loader")},cB=Rm((e,t,n)=>{zm.debug("rendering svg for syntax error\n");const r=kP(t),i=r.append("g");r.attr("viewBox","0 0 2412 512"),hb(r,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${n}`)},"draw"),uB={draw:cB},dB=uB,hB={db:{},renderer:uB,parser:{parse:Rm(()=>{},"parse")}},pB="flowchart-elk",fB=Rm((e,t={})=>!!(/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&"elk"===t?.flowchart?.defaultRenderer)&&(t.layout="elk",!0),"detector"),mB={id:pB,detector:fB,loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./flowDiagram-THRYKUMA.js");return{diagram:e}},[]);return{id:pB,diagram:e}},"loader")},gB="timeline",bB={id:gB,detector:Rm(e=>/^\s*timeline/.test(e),"detector"),loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./timeline-definition-3HZDQTIS.js");return{diagram:e}},[]);return{id:gB,diagram:e}},"loader")},yB="mindmap",xB={id:yB,detector:Rm(e=>/^\s*mindmap/.test(e),"detector"),loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./mindmap-definition-LNHGMQRG.js");return{diagram:e}},[]);return{id:yB,diagram:e}},"loader")},vB="kanban",kB={id:vB,detector:Rm(e=>/^\s*kanban/.test(e),"detector"),loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./kanban-definition-KOZQBZVT.js");return{diagram:e}},[]);return{id:vB,diagram:e}},"loader")},wB="sankey",_B={id:wB,detector:Rm(e=>/^\s*sankey(-beta)?/.test(e),"detector"),loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./sankeyDiagram-HRAUVNP4.js");return{diagram:e}},[]);return{id:wB,diagram:e}},"loader")},CB="packet",SB={id:CB,detector:Rm(e=>/^\s*packet(-beta)?/.test(e),"detector"),loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./diagram-GUPCWM2R.js");return{diagram:e}},[]);return{id:CB,diagram:e}},"loader")},EB="radar",NB={id:EB,detector:Rm(e=>/^\s*radar-beta/.test(e),"detector"),loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./diagram-RP2FKANI.js");return{diagram:e}},[]);return{id:EB,diagram:e}},"loader")},TB="block",MB={id:TB,detector:Rm(e=>/^\s*block(-beta)?/.test(e),"detector"),loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./blockDiagram-ZYB65J3Q.js");return{diagram:e}},[]);return{id:TB,diagram:e}},"loader")},AB="architecture",LB={id:AB,detector:Rm(e=>/^\s*architecture/.test(e),"detector"),loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./architectureDiagram-KFL7JDKH.js");return{diagram:e}},[]);return{id:AB,diagram:e}},"loader")},DB="treemap",OB={id:DB,detector:Rm(e=>/^\s*treemap/.test(e),"detector"),loader:Rm(async()=>{const{diagram:e}=await ef(async()=>{const{diagram:e}=await import("./diagram-4IRLE6MV.js");return{diagram:e}},[]);return{id:DB,diagram:e}},"loader")},PB=!1,FB=Rm(()=>{PB||(PB=!0,jb("error",hB,e=>"error"===e.toLowerCase().trim()),jb("---",{db:{clear:Rm(()=>{},"clear")},styles:{},renderer:{draw:Rm(()=>{},"draw")},parser:{parse:Rm(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:Rm(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),Km(mB,xB,LB),Km(EF,kB,eB,XF,OF,RF,jF,zF,WF,KF,DF,MF,bB,FF,oB,rB,lB,HF,_B,SB,UF,MB,NB,OB))},"addDiagrams"),BB=Rm(async()=>{zm.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(Wm).map(async([e,{detector:t,loader:n}])=>{if(n)try{zb(e)}catch{try{const{diagram:e,id:r}=await n();jb(r,e,t)}catch(r){throw zm.error(`Failed to load external diagram with key ${e}. Removing from detectors.`),delete Wm[e],r}}}))).filter(e=>"rejected"===e.status);if(e.length>0){zm.error(`Failed to load ${e.length} external diagrams`);for(const t of e)zm.error(t);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams");function RB(e,t){e.attr("role","graphics-document document"),""!==t&&e.attr("aria-roledescription",t)}function IB(e,t,n,r){if(void 0!==e.insert){if(n){const t=`chart-desc-${r}`;e.attr("aria-describedby",t),e.insert("desc",":first-child").attr("id",t).text(n)}if(t){const n=`chart-title-${r}`;e.attr("aria-labelledby",n),e.insert("title",":first-child").attr("id",n).text(t)}}}Rm(RB,"setA11yDiagramInfo"),Rm(IB,"addSVGa11yTitleDescription");var jB=class e{constructor(e,t,n,r,i){this.type=e,this.text=t,this.db=n,this.parser=r,this.renderer=i}static{Rm(this,"Diagram")}static async fromText(t,n={}){const r=Mg(),i=Gm(t,r);t=hT(t)+"\n";try{zb(i)}catch{const e=Zm(i);if(!e)throw new Vm(`Diagram ${i} not found.`);const{id:t,diagram:n}=await e();jb(t,n)}const{db:a,parser:o,renderer:s,init:l}=zb(i);return o.parser&&(o.parser.yy=a),a.clear?.(),l?.(r),n.title&&a.setDiagramTitle?.(n.title),await o.parse(t),new e(i,t,a,o,s)}async render(e,t){await this.renderer.draw(this.text,e,t,this)}getParser(){return this.parser}getType(){return this.type}},zB=[],$B=Rm(()=>{zB.forEach(e=>{e()}),zB=[]},"attachFunctions"),HB=Rm(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function qB(e){const t=e.match(Hm);if(!t)return{text:e,metadata:{}};let n=Rv(t[1],{schema:Bv})??{};n="object"!=typeof n||Array.isArray(n)?{}:n;const r={};return n.displayMode&&(r.displayMode=n.displayMode.toString()),n.title&&(r.title=n.title.toString()),n.config&&(r.config=n.config),{text:e.slice(t[0].length),metadata:r}}Rm(qB,"extractFrontMatter");var UB=Rm(e=>e.replace(/\r\n?/g,"\n").replace(/<(\w+)([^>]*)>/g,(e,t,n)=>"<"+t+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),VB=Rm(e=>{const{text:t,metadata:n}=qB(e),{displayMode:r,title:i,config:a={}}=n;return r&&(a.gantt||(a.gantt={}),a.gantt.displayMode=r),{title:i,config:a,text:t}},"processFrontmatter"),WB=Rm(e=>{const t=dT.detectInit(e)??{},n=dT.detectDirective(e,"wrap");return Array.isArray(n)?t.wrap=n.some(({type:e})=>"wrap"===e):"wrap"===n?.type&&(t.wrap=!0),{text:PN(e),directive:t}},"processDirectives");function GB(e){const t=UB(e),n=VB(t),r=WB(n.text),i=uT(n.config,r.directive);return{code:e=HB(r.text),title:n.title,config:i}}function KB(e){const t=(new TextEncoder).encode(e),n=Array.from(t,e=>String.fromCodePoint(e)).join("");return btoa(n)}Rm(GB,"preprocessDiagram"),Rm(KB,"toBase64");var YB=["foreignobject"],ZB=["dominant-baseline"];function XB(e){const t=GB(e);return Dg(),Lg(t.config??{}),t}async function QB(e,t){FB();try{const{code:t,config:n}=XB(e);return{diagramType:(await cR(t)).type,config:n}}catch(n){if(t?.suppressErrors)return!1;throw n}}Rm(XB,"processAndSetConfigs"),Rm(QB,"parse");var JB=Rm((e,t,n=[])=>`\n.${e} ${t} { ${n.join(" !important; ")} !important; }`,"cssImportantStyles"),eR=Rm((e,t=new Map)=>{let n="";if(void 0!==e.themeCSS&&(n+=`\n${e.themeCSS}`),void 0!==e.fontFamily&&(n+=`\n:root { --mermaid-font-family: ${e.fontFamily}}`),void 0!==e.altFontFamily&&(n+=`\n:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){const r=e.htmlLabels??e.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(e=>{SF(e.styles)||r.forEach(t=>{n+=JB(e.id,t,e.styles)}),SF(e.textStyles)||(n+=JB(e.id,"tspan",(e?.textStyles||[]).map(e=>e.replace("color","fill"))))})}return n},"createCssStyles"),tR=Rm((e,t,n,r)=>{const i=eR(e,n);return iF(JP(`${r}{${bb(t,i,e.themeVariables)}}`),aF)},"createUserStyles"),nR=Rm((e="",t,n)=>{let r=e;return n||t||(r=r.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),r=pT(r),r=r.replace(/<br>/g,"<br/>"),r},"cleanUpSvgCode"),rR=Rm((e="",t)=>`<iframe style="width:100%;height:${t?.viewBox?.baseVal?.height?t.viewBox.baseVal.height+"px":"100%"};border:0;margin:0;" src="data:text/html;charset=UTF-8;base64,${KB(`<body style="margin:0">${e}</body>`)}" sandbox="allow-top-navigation-by-user-activation allow-popups">\n  The "iframe" tag is not supported by your browser.\n</iframe>`,"putIntoIFrame"),iR=Rm((e,t,n,r,i)=>{const a=e.append("div");a.attr("id",n),r&&a.attr("style",r);const o=a.append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg");return i&&o.attr("xmlns:xlink",i),o.append("g"),e},"appendDivSvgG");function aR(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}Rm(aR,"sandboxedIframe");var oR=Rm((e,t,n,r)=>{e.getElementById(t)?.remove(),e.getElementById(n)?.remove(),e.getElementById(r)?.remove()},"removeExistingElements"),sR=Rm(async function(e,t,n){FB();const r=XB(t);t=r.code;const i=Mg();zm.debug(i),t.length>(i?.maxTextSize??5e4)&&(t="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");const a="#"+e,o="i"+e,s="#"+o,l="d"+e,c="#"+l,u=Rm(()=>{const e=yw(h?s:c).node();e&&"remove"in e&&e.remove()},"removeTempElements");let d=yw("body");const h="sandbox"===i.securityLevel,p="loose"===i.securityLevel,f=i.fontFamily;if(void 0!==n){if(n&&(n.innerHTML=""),h){const e=aR(yw(n),o);d=yw(e.nodes()[0].contentDocument.body),d.node().style.margin=0}else d=yw(n);iR(d,e,l,`font-family: ${f}`,"http://www.w3.org/1999/xlink")}else{if(oR(document,e,l,o),h){const e=aR(yw("body"),o);d=yw(e.nodes()[0].contentDocument.body),d.node().style.margin=0}else d=yw("body");iR(d,e,l)}let m,g;try{m=await jB.fromText(t,{title:r.title})}catch(T){if(i.suppressErrorRendering)throw u(),T;m=await jB.fromText("error"),g=T}const b=d.select(c).node(),y=m.type,x=b.firstChild,v=x.firstChild,k=m.renderer.getClasses?.(t,m),w=tR(i,y,k,a),_=document.createElement("style");_.innerHTML=w,x.insertBefore(_,v);try{await m.renderer.draw(t,e,vP.version,m)}catch(gA){throw i.suppressErrorRendering?u():dB.draw(t,e,vP.version),gA}const C=d.select(`${c} svg`),S=m.db.getAccTitle?.(),E=m.db.getAccDescription?.();uR(y,C,S,E),d.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let N=d.select(c).node().innerHTML;if(zm.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),N=nR(N,h,Zg(i.arrowMarkerAbsolute)),h){const e=d.select(c+" svg").node();N=rR(N,e)}else p||(N=Fm.sanitize(N,{ADD_TAGS:YB,ADD_ATTR:ZB,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if($B(),g)throw g;return u(),{diagramType:y,svg:N,bindFunctions:m.db.bindFunctions}},"render");function lR(e={}){const t=Qm({},e);t?.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),Sg(t),t?.theme&&t.theme in dg?t.themeVariables=dg[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=dg.default.getThemeVariables(t.themeVariables));const n="object"==typeof t?Cg(t):Ng();$m(n.logLevel),FB()}Rm(lR,"initialize");var cR=Rm((e,t={})=>{const{code:n}=GB(e);return jB.fromText(n,t)},"getDiagramFromText");function uR(e,t,n,r){RB(t,e),IB(t,n,r,t.attr("id"))}Rm(uR,"addA11yInfo");var dR=Object.freeze({render:sR,parse:QB,getDiagramFromText:cR,initialize:lR,getConfig:Mg,setConfig:Tg,getSiteConfig:Ng,updateSiteConfig:Eg,reset:Rm(()=>{Dg()},"reset"),globalReset:Rm(()=>{Dg(xg)},"globalReset"),defaultConfig:xg});$m(Mg().logLevel),Dg(Mg());var hR=Rm((e,t,n)=>{zm.warn(e),sT(e)?(n&&n(e.str,e.hash),t.push({...e,message:e.str,error:e})):(n&&n(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),pR=Rm(async function(e={querySelector:".mermaid"}){try{await fR(e)}catch(gA){if(sT(gA)&&zm.error(gA.str),SR.parseError&&SR.parseError(gA),!e.suppressErrors)throw zm.error("Use the suppressErrors option to suppress these errors"),gA}},"run"),fR=Rm(async function({postRenderCallback:e,querySelector:t,nodes:n}={querySelector:".mermaid"}){const r=dR.getConfig();let i;if(zm.debug((e?"":"No ")+"Callback function found"),n)i=n;else{if(!t)throw new Error("Nodes and querySelector are both undefined");i=document.querySelectorAll(t)}zm.debug(`Found ${i.length} diagrams`),void 0!==r?.startOnLoad&&(zm.debug("Start On Load: "+r?.startOnLoad),dR.updateSiteConfig({startOnLoad:r?.startOnLoad}));const a=new dT.InitIDGenerator(r.deterministicIds,r.deterministicIDSeed);let o;const s=[];for(const c of Array.from(i)){if(zm.info("Rendering diagram: "+c.id),c.getAttribute("data-processed"))continue;c.setAttribute("data-processed","true");const t=`mermaid-${a.next()}`;o=c.innerHTML,o=UM(dT.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const n=dT.detectInit(o);n&&zm.debug("Detected early reinit: ",n);try{const{svg:n,bindFunctions:r}=await CR(t,o,c);c.innerHTML=n,e&&await e(t),r&&r(c)}catch(l){hR(l,s,SR.parseError)}}if(s.length>0)throw s[0]},"runThrowsErrors"),mR=Rm(function(e){dR.initialize(e)},"initialize"),gR=Rm(async function(e,t,n){zm.warn("mermaid.init is deprecated. Please use run instead."),e&&mR(e);const r={postRenderCallback:n,querySelector:".mermaid"};"string"==typeof t?r.querySelector=t:t&&(t instanceof HTMLElement?r.nodes=[t]:r.nodes=t),await pR(r)},"init"),bR=Rm(async(e,{lazyLoad:t=!0}={})=>{FB(),Km(...e),!1===t&&await BB()},"registerExternalDiagrams"),yR=Rm(function(){if(SR.startOnLoad){const{startOnLoad:e}=dR.getConfig();e&&SR.run().catch(e=>zm.error("Mermaid failed to initialize",e))}},"contentLoaded");"undefined"!=typeof document&&window.addEventListener("load",yR,!1);var xR=Rm(function(e){SR.parseError=e},"setParseErrorHandler"),vR=[],kR=!1,wR=Rm(async()=>{if(!kR){for(kR=!0;vR.length>0;){const e=vR.shift();if(e)try{await e()}catch(gA){zm.error("Error executing queue",gA)}}kR=!1}},"executeQueue"),_R=Rm(async(e,t)=>new Promise((n,r)=>{const i=Rm(()=>new Promise((i,a)=>{dR.parse(e,t).then(e=>{i(e),n(e)},e=>{zm.error("Error parsing",e),SR.parseError?.(e),a(e),r(e)})}),"performCall");vR.push(i),wR().catch(r)}),"parse"),CR=Rm((e,t,n)=>new Promise((r,i)=>{const a=Rm(()=>new Promise((a,o)=>{dR.render(e,t,n).then(e=>{a(e),r(e)},e=>{zm.error("Error parsing",e),SR.parseError?.(e),o(e),i(e)})}),"performCall");vR.push(a),wR().catch(i)}),"render"),SR={startOnLoad:!0,mermaidAPI:dR,parse:_R,render:CR,init:gR,run:pR,registerExternalDiagrams:bR,registerLayoutLoaders:bP,initialize:mR,parseError:void 0,contentLoaded:yR,setParseErrorHandler:xR,detectType:Gm,registerIconPacks:KM,getRegisteredDiagramsMetadata:Rm(()=>Object.keys(Wm).map(e=>({id:e})),"getRegisteredDiagramsMetadata")},ER=SR;
/*! Check if previously processed */
/*!
 * Wait for document loaded before starting the execution
 */
const NR=({chart:e,className:t=""})=>{const[n,r]=p.useState(null),[i,a]=p.useState("");return p.useEffect(()=>{ER.initialize({startOnLoad:!1,theme:"default",themeVariables:{primaryColor:"#007acc",primaryTextColor:"#cccccc",primaryBorderColor:"#007acc",lineColor:"#cccccc",secondaryColor:"#1e1e1e",tertiaryColor:"#252526",errorBkgColor:"#f48771",errorTextColor:"#ffffff",warningBkgColor:"#cca700",warningTextColor:"#ffffff",infoBkgColor:"#007acc",infoTextColor:"#ffffff",noteBkgColor:"#252526",noteTextColor:"#cccccc",noteBorderColor:"#007acc",successBkgColor:"#4caf50",successTextColor:"#ffffff",failureBkgColor:"#f44336",failureTextColor:"#ffffff",darkMode:!0}})},[]),p.useEffect(()=>{if(!e)return;(async()=>{try{r(null);const{svg:t}=await ER.render(`mermaid-${Date.now()}`,e);a(t)}catch(t){r(t instanceof Error?t.message:"Failed to render diagram")}})()},[e]),n?h.jsxDEV("div",{className:`mermaid-error ${t}`.trim(),children:h.jsxDEV("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[h.jsxDEV("strong",{children:"Diagram Error:"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MermaidDiagram/MermaidDiagram.tsx",lineNumber:67,columnNumber:21},void 0)," ",n,h.jsxDEV("details",{className:"mt-2",children:[h.jsxDEV("summary",{className:"cursor-pointer text-sm",children:"Show Mermaid Code"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MermaidDiagram/MermaidDiagram.tsx",lineNumber:69,columnNumber:25},void 0),h.jsxDEV("pre",{className:"mt-2 text-xs bg-red-50 p-2 rounded overflow-x-auto",children:h.jsxDEV("code",{children:e},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MermaidDiagram/MermaidDiagram.tsx",lineNumber:71,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MermaidDiagram/MermaidDiagram.tsx",lineNumber:70,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/MermaidDiagram/MermaidDiagram.tsx",lineNumber:68,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/MermaidDiagram/MermaidDiagram.tsx",lineNumber:66,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MermaidDiagram/MermaidDiagram.tsx",lineNumber:65,columnNumber:13},void 0):i?h.jsxDEV("div",{className:`mermaid-container ${t}`.trim(),children:h.jsxDEV("div",{dangerouslySetInnerHTML:{__html:i},style:{textAlign:"center"}},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MermaidDiagram/MermaidDiagram.tsx",lineNumber:89,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MermaidDiagram/MermaidDiagram.tsx",lineNumber:88,columnNumber:9},void 0):h.jsxDEV("div",{className:`mermaid-container ${t}`.trim(),children:h.jsxDEV("div",{className:"text-center text-gray-500",children:"Rendering diagram..."},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MermaidDiagram/MermaidDiagram.tsx",lineNumber:82,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MermaidDiagram/MermaidDiagram.tsx",lineNumber:81,columnNumber:13},void 0)},TR=({content:e,className:t="",options:n={},loadingState:r,loadingStateData:i,emptyContentMessage:a="No content to display"})=>{const{highlightCode:o=!0}=n,s=p.useMemo(()=>[Qp],[]),l=p.useMemo(()=>{const e=[];return o&&e.push(ah),e},[o]);return"loading"===r?h.jsxDEV("div",{className:`markdown-renderer loading ${t}`.trim(),children:h.jsxDEV("div",{className:"loading-spinner",children:"Loading..."},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:57,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:56,columnNumber:13},void 0):"error"===r?h.jsxDEV("div",{className:`markdown-renderer error ${t}`.trim(),children:h.jsxDEV("div",{className:"error-message",children:[h.jsxDEV("p",{children:"Error loading content"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:67,columnNumber:21},void 0),i?.error&&h.jsxDEV("p",{children:["Details: ",i.error]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:69,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:66,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:65,columnNumber:13},void 0):e&&0!==e.trim().length?h.jsxDEV("div",{className:`markdown-renderer ${t}`.trim(),children:h.jsxDEV("div",{className:"markdown-content",children:h.jsxDEV(_u,{remarkPlugins:s,rehypePlugins:l,components:{h1:({children:e,...t})=>h.jsxDEV("h1",{className:"text-3xl font-bold mb-4",...t,children:e},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:94,columnNumber:29},void 0),h2:({children:e,...t})=>h.jsxDEV("h2",{className:"text-2xl font-bold mb-3",...t,children:e},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:99,columnNumber:29},void 0),h3:({children:e,...t})=>h.jsxDEV("h3",{className:"text-xl font-bold mb-2",...t,children:e},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:104,columnNumber:29},void 0),h4:({children:e,...t})=>h.jsxDEV("h4",{className:"text-lg font-semibold mb-2",...t,children:e},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:109,columnNumber:29},void 0),h5:({children:e,...t})=>h.jsxDEV("h5",{className:"text-base font-semibold mb-2",...t,children:e},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:114,columnNumber:29},void 0),h6:({children:e,...t})=>h.jsxDEV("h6",{className:"text-sm font-semibold mb-2",...t,children:e},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:119,columnNumber:29},void 0),p:({children:e,...t})=>h.jsxDEV("p",{className:"mb-4 leading-relaxed",...t,children:e},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:124,columnNumber:29},void 0),code:({className:e,children:t,...n})=>e&&e.includes("language-mermaid")?h.jsxDEV(NR,{chart:String(t),className:"my-6"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:132,columnNumber:37},void 0):e?h.jsxDEV("code",{className:e,...n,children:t},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:154,columnNumber:33},void 0):h.jsxDEV("code",{className:"bg-vs-editor-surface text-vs-editor-text px-1.5 py-0.5 rounded text-sm font-mono border border-vs-editor-border",...n,children:t},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:143,columnNumber:37},void 0),pre:({children:e,...t})=>h.jsxDEV("pre",{className:"bg-vs-editor-bg p-4 rounded-lg overflow-x-auto mb-4 border border-vs-editor-border",...t,children:e},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:163,columnNumber:29},void 0),blockquote:({children:e,...t})=>h.jsxDEV("blockquote",{className:"border-l-4 border-vs-editor-border pl-4 italic mb-4 text-vs-editor-text2",...t,children:e},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:168,columnNumber:29},void 0),ul:({children:e,...t})=>h.jsxDEV("ul",{className:"list-disc list-inside mb-4 space-y-1",...t,children:e},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:173,columnNumber:29},void 0),ol:({children:e,...t})=>h.jsxDEV("ol",{className:"list-decimal list-inside mb-4 space-y-1",...t,children:e},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:178,columnNumber:29},void 0),li:({children:e,...t})=>h.jsxDEV("li",{className:"ml-4",...t,children:e},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:183,columnNumber:29},void 0),a:({href:e,children:t,...n})=>h.jsxDEV("a",{href:e,className:"text-crystal-blue-400 hover:text-crystal-blue-300 underline",target:"_blank",rel:"noopener noreferrer",...n,children:t},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:188,columnNumber:29},void 0),img:({src:e,alt:t,...n})=>h.jsxDEV("img",{src:e,alt:t,className:"max-w-full h-auto rounded-lg shadow-md mb-4",loading:"lazy",...n},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:199,columnNumber:29},void 0),table:({children:e,...t})=>h.jsxDEV("div",{className:"overflow-x-auto mb-4",children:h.jsxDEV("table",{className:"min-w-full border-collapse border border-vs-editor-border",...t,children:e},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:209,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:208,columnNumber:29},void 0),th:({children:e,...t})=>h.jsxDEV("th",{className:"border border-vs-editor-border px-4 py-2 bg-vs-editor-surface font-semibold",...t,children:e},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:215,columnNumber:29},void 0),td:({children:e,...t})=>h.jsxDEV("td",{className:"border border-vs-editor-border px-4 py-2",...t,children:e},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:220,columnNumber:29},void 0),hr:()=>h.jsxDEV("hr",{className:"border-t border-vs-editor-border my-6"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:225,columnNumber:29},void 0)},children:e},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:88,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:87,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:86,columnNumber:9},void 0):h.jsxDEV("div",{className:`markdown-renderer empty ${t}`.trim(),children:h.jsxDEV("p",{children:a},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:80,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MarkdownRenderer/MarkdownRenderer.tsx",lineNumber:79,columnNumber:13},void 0)},MR=({error:e,errorType:t="generic",title:n,message:r,showHomeButton:i=!0,showBackButton:a=!0,className:o=""})=>{const s=ve(),l=e,c=r||(l instanceof Error?l.message:String(l)),u=(()=>{switch(t){case"not-found":return{title:n||"Page Not Found",message:r||"The page you're looking for doesn't exist.",icon:"🔍",suggestions:["Check the URL for typos","Use the navigation menu to find what you need","Try searching for content"]};case"content-error":return{title:n||"Content Error",message:r||"There was a problem loading the requested content.",icon:"📄",suggestions:["Try refreshing the page","Check your internet connection"]};case"network-error":return{title:n||"Network Error",message:r||"Unable to connect to the server.",icon:"🌐",suggestions:["Check your internet connection","Try again in a few moments","Check if the service is available"]};case"malformed-content":return{title:n||"Content Format Error",message:r||"The requested content has formatting issues.",icon:"⚠️",suggestions:["Try refreshing the page","Report this issue to support","Try accessing other content"]};default:return{title:n||"Something Went Wrong",message:r||"An unexpected error occurred.",icon:"❌",suggestions:["Try refreshing the page","Clear your browser cache"]}}})();return h.jsxDEV("div",{className:`min-h-screen bg-vs-editor-bg flex items-center justify-center px-4 ${o}`,children:h.jsxDEV("div",{className:"max-w-md w-full bg-vs-editor-surface rounded-lg shadow-lg p-8 text-center",children:[h.jsxDEV("div",{className:"text-6xl mb-4",children:u.icon},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ErrorPage/ErrorPage.tsx",lineNumber:102,columnNumber:17},void 0),h.jsxDEV("h1",{className:"text-2xl font-bold text-vs-editor-text mb-4",children:u.title},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ErrorPage/ErrorPage.tsx",lineNumber:105,columnNumber:17},void 0),h.jsxDEV("p",{className:"text-vs-editor-text2 mb-6",children:u.message},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ErrorPage/ErrorPage.tsx",lineNumber:110,columnNumber:17},void 0),c&&c!==u.message&&h.jsxDEV("div",{className:"bg-vs-editor-surface2 rounded-lg p-4 mb-6 text-left",children:[h.jsxDEV("p",{className:"text-sm text-vs-editor-text font-medium mb-2",children:"Error Details:"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ErrorPage/ErrorPage.tsx",lineNumber:117,columnNumber:25},void 0),h.jsxDEV("p",{className:"text-sm text-vs-editor-text2 font-mono break-words",children:c},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ErrorPage/ErrorPage.tsx",lineNumber:118,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/ErrorPage/ErrorPage.tsx",lineNumber:116,columnNumber:21},void 0),h.jsxDEV("div",{className:"mb-8",children:[h.jsxDEV("h3",{className:"text-sm font-medium text-vs-editor-text mb-3",children:"Try these solutions:"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ErrorPage/ErrorPage.tsx",lineNumber:126,columnNumber:21},void 0),h.jsxDEV("ul",{className:"text-sm text-vs-editor-text2 space-y-1",children:u.suggestions.map((e,t)=>h.jsxDEV("li",{className:"flex items-center justify-center",children:[h.jsxDEV("span",{className:"text-crystal-blue-400 mr-2",children:"•"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ErrorPage/ErrorPage.tsx",lineNumber:130,columnNumber:33},void 0),e]},t,!0,{fileName:"/workspace/personal-blog/src/pages/ErrorPage/ErrorPage.tsx",lineNumber:129,columnNumber:29},void 0))},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ErrorPage/ErrorPage.tsx",lineNumber:127,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/ErrorPage/ErrorPage.tsx",lineNumber:125,columnNumber:17},void 0),h.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[a&&h.jsxDEV("button",{onClick:()=>{s(-1)},className:"px-4 py-2 bg-vs-editor-surface2 text-vs-editor-text rounded-lg hover:bg-vs-editor-hover transition-colors",children:"Go Back"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ErrorPage/ErrorPage.tsx",lineNumber:140,columnNumber:25},void 0),i&&h.jsxDEV("button",{onClick:()=>{s("/")},className:"px-4 py-2 bg-crystal-blue-600 text-white rounded-lg hover:bg-crystal-blue-700 transition-colors",children:"Go Home"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ErrorPage/ErrorPage.tsx",lineNumber:148,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/ErrorPage/ErrorPage.tsx",lineNumber:138,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/ErrorPage/ErrorPage.tsx",lineNumber:100,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ErrorPage/ErrorPage.tsx",lineNumber:99,columnNumber:9},void 0)},AR=()=>h.jsxDEV("div",{className:"min-h-screen bg-vs-editor-bg pt-16",children:h.jsxDEV("div",{className:"container mx-auto px-4 py-4",children:[h.jsxDEV("div",{className:"text-center mb-4 md:mb-6",children:[h.jsxDEV("h1",{className:"heading-1 mb-2 md:mb-3 text-3xl md:text-4xl lg:text-5xl",children:"Get In Touch"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:21,columnNumber:11},void 0),h.jsxDEV("p",{className:"body-text max-w-2xl mx-auto px-4 text-sm md:text-base",children:"I'm always interested in hearing about new opportunities, interesting projects, or just want to say hello. Feel free to reach out!"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:22,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:20,columnNumber:9},void 0),h.jsxDEV("div",{className:"max-w-4xl mx-auto px-4",children:h.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 md:gap-4",children:[h.jsxDEV("div",{className:"bg-vs-editor-surface/80 backdrop-blur-sm rounded-lg p-3 md:p-4 border border-vs-editor-border hover:border-crystal-blue-500 transition-all duration-300 hover:shadow-lg hover:shadow-crystal-blue-500/20",children:[h.jsxDEV("h2",{className:"heading-2 mb-2 md:mb-3 text-center text-xl md:text-2xl",children:"Personal Contact"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:33,columnNumber:15},void 0),h.jsxDEV("div",{className:"space-y-1.5 md:space-y-2",children:[h.jsxDEV("button",{onClick:()=>{window.location.href="mailto:jordanyu1992@gmail.com"},className:"flex items-center space-x-3 w-full p-1.5 md:p-2.5 rounded-lg hover:bg-vs-editor-hover hover:scale-[1.02] transition-all duration-200 group cursor-pointer",title:"Click to send email",children:[h.jsxDEV(_t,{className:"w-4 h-4 md:w-5 md:h-5 text-blue-400 flex-shrink-0 group-hover:scale-110 transition-transform duration-200"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:40,columnNumber:19},void 0),h.jsxDEV("span",{className:"body-text group-hover:text-blue-300 transition-colors duration-200 text-sm md:text-base truncate",children:"jordanyu1992@gmail.com"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:41,columnNumber:19},void 0),h.jsxDEV("div",{className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:h.jsxDEV(_t,{className:"w-3 h-3 text-blue-400"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:45,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:44,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:35,columnNumber:17},void 0),h.jsxDEV("div",{className:"flex items-center space-x-3 p-1.5 md:p-2.5 rounded-lg hover:bg-vs-editor-hover transition-colors duration-200",children:[h.jsxDEV(Ct,{className:"w-4 h-4 md:w-5 md:h-5 text-red-400 flex-shrink-0"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:49,columnNumber:19},void 0),h.jsxDEV("span",{className:"body-text text-sm md:text-base",children:"Canada"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:50,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:48,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:34,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:32,columnNumber:13},void 0),h.jsxDEV("div",{className:"bg-vs-editor-surface/80 backdrop-blur-sm rounded-lg p-3 md:p-4 border border-vs-editor-border hover:border-crystal-blue-500 transition-all duration-300 hover:shadow-lg hover:shadow-crystal-blue-500/20",children:[h.jsxDEV("h2",{className:"heading-2 mb-2 md:mb-3 text-center text-xl md:text-2xl",children:"Professional Links"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:57,columnNumber:15},void 0),h.jsxDEV("div",{className:"space-y-1.5 md:space-y-2",children:[h.jsxDEV("button",{onClick:()=>{window.open("https://github.com/stymphalian","_blank")},className:"flex items-center space-x-3 w-full p-1.5 md:p-2.5 rounded-lg hover:bg-vs-editor-hover hover:scale-[1.02] transition-all duration-200 group cursor-pointer",title:"Click to visit GitHub profile",children:[h.jsxDEV(vt,{className:"w-4 h-4 md:w-5 md:h-5 text-gray-300 flex-shrink-0 group-hover:scale-110 transition-transform duration-200"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:64,columnNumber:19},void 0),h.jsxDEV("span",{className:"body-text group-hover:text-gray-200 transition-colors duration-200 text-sm md:text-base truncate",children:"github.com/stymphalian"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:65,columnNumber:19},void 0),h.jsxDEV("div",{className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:h.jsxDEV(vt,{className:"w-3 h-3 text-gray-300"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:69,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:68,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:59,columnNumber:17},void 0),h.jsxDEV("button",{onClick:()=>{window.open("https://linkedin.com/in/jordanu92","_blank")},className:"flex items-center space-x-3 w-full p-1.5 md:p-2.5 rounded-lg hover:bg-vs-editor-hover hover:scale-[1.02] transition-all duration-200 group cursor-pointer",title:"Click to visit LinkedIn profile",children:[h.jsxDEV(wt,{className:"w-4 h-4 md:w-5 md:h-5 text-blue-500 flex-shrink-0 group-hover:scale-110 transition-transform duration-200"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:77,columnNumber:19},void 0),h.jsxDEV("span",{className:"body-text group-hover:text-blue-400 transition-colors duration-200 text-sm md:text-base truncate",children:"linkedin.com/in/jordanu92"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:78,columnNumber:19},void 0),h.jsxDEV("div",{className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:h.jsxDEV(wt,{className:"w-3 h-3 text-blue-500"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:82,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:81,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:72,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:58,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:56,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:30,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:28,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:19,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Contact/Contact.tsx",lineNumber:18,columnNumber:5},void 0),LR=({src:e,alt:t,fallbackEmoji:n="👨‍💻",size:r="lg",className:i=""})=>{const[a,o]=p.useState(!1),[s,l]=p.useState(!1),c=!e||s||!a;return h.jsxDEV("div",{className:`relative ${{sm:"w-24 h-24 text-3xl",md:"w-32 h-32 text-4xl",lg:"w-48 h-48 text-6xl",xl:"w-64 h-64 text-8xl"}[r]} ${i}`,children:[h.jsxDEV("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-blue-400 to-purple-600 flex items-center justify-center shadow-lg transition-opacity duration-300 "+(c?"opacity-100":"opacity-0"),children:h.jsxDEV("div",{className:"text-white font-bold",children:n},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Headshot/Headshot.tsx",lineNumber:47,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Headshot/Headshot.tsx",lineNumber:44,columnNumber:7},void 0),e&&h.jsxDEV("img",{src:e,alt:t,className:"absolute inset-0 w-full h-full rounded-full object-cover shadow-lg transition-opacity duration-300 "+(a?"opacity-100":"opacity-0"),onLoad:()=>{o(!0),l(!1)},onError:()=>{l(!0),o(!1)},loading:"lazy"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Headshot/Headshot.tsx",lineNumber:52,columnNumber:9},void 0),e&&!a&&!s&&h.jsxDEV("div",{className:"absolute inset-0 rounded-full bg-gray-200 flex items-center justify-center shadow-lg",children:h.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Headshot/Headshot.tsx",lineNumber:67,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Headshot/Headshot.tsx",lineNumber:66,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/Headshot/Headshot.tsx",lineNumber:42,columnNumber:5},void 0)},DR=({children:e,className:t="",maxWidth:n="2xl",padding:r="lg",showPageTitle:i=!1,pageTitle:a="",pageDescription:o=""})=>{const s={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","4xl":"max-w-4xl","6xl":"max-w-6xl","7xl":"max-w-7xl",full:"max-w-full"},l={none:"",sm:"px-4 py-6",md:"px-6 py-8",lg:"px-8 py-12",xl:"px-12 py-16"};return h.jsxDEV("div",{className:`min-h-screen bg-vs-editor-bg pt-16 ${t}`,children:[i&&h.jsxDEV("div",{className:"bg-vs-editor-surface border-b border-vs-editor-border shadow-sm",children:h.jsxDEV("div",{className:`mx-auto ${s[n]} ${l[r]}`,children:h.jsxDEV("div",{className:"text-center",children:[h.jsxDEV("h1",{className:"text-3xl md:text-4xl font-bold text-vs-editor-text mb-2",children:a},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Layout/Layout.tsx",lineNumber:49,columnNumber:15},void 0),o&&h.jsxDEV("p",{className:"text-lg text-vs-editor-text2 max-w-2xl mx-auto",children:o},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Layout/Layout.tsx",lineNumber:53,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/Layout/Layout.tsx",lineNumber:48,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Layout/Layout.tsx",lineNumber:47,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Layout/Layout.tsx",lineNumber:46,columnNumber:9},void 0),h.jsxDEV("main",{className:`mx-auto ${s[n]} ${l[r]}`,children:h.jsxDEV("div",{className:"bg-vs-editor-surface rounded-lg shadow-sm border border-vs-editor-border overflow-hidden",children:h.jsxDEV("div",{className:"p-6 md:p-8",children:e},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Layout/Layout.tsx",lineNumber:66,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Layout/Layout.tsx",lineNumber:64,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Layout/Layout.tsx",lineNumber:63,columnNumber:7},void 0),h.jsxDEV("footer",{className:"bg-vs-editor-surface border-t border-vs-editor-border mt-16",children:h.jsxDEV("div",{className:`mx-auto ${s[n]} ${l[r]}`,children:h.jsxDEV("div",{className:"text-center py-8",children:h.jsxDEV("p",{className:"text-vs-editor-text2 text-sm",children:"2025. Built with React & Tailwind & Cursor"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Layout/Layout.tsx",lineNumber:76,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Layout/Layout.tsx",lineNumber:75,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Layout/Layout.tsx",lineNumber:74,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Layout/Layout.tsx",lineNumber:73,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/Layout/Layout.tsx",lineNumber:43,columnNumber:5},void 0)},OR=({projects:e,autoPlay:t=!0,autoPlayInterval:n=5e3})=>{const[r,i]=p.useState(0),[a,o]=p.useState(t),s=ve();p.useEffect(()=>{if(!a||e.length<=1)return;const t=setInterval(()=>{i(t=>(t+1)%e.length)},n);return()=>clearInterval(t)},[a,n,e.length]);if(!e||0===e.length)return h.jsxDEV("div",{className:"text-center py-12",children:h.jsxDEV("p",{className:"text-gray-500",children:"No projects to display"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:61,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:60,columnNumber:7},void 0);const l=e[r];return h.jsxDEV("div",{className:"relative w-full max-w-4xl mx-auto",onMouseEnter:()=>o(!1),onMouseLeave:()=>o(t),children:[h.jsxDEV("div",{className:"relative bg-vs-editor-surface rounded-xl overflow-hidden shadow-lg border border-vs-editor-border",children:[h.jsxDEV("div",{className:"px-6 py-4 bg-vs-editor-surface border-b border-vs-editor-border",children:[h.jsxDEV("h2",{className:"text-2xl md:text-3xl font-bold text-vs-editor-text mb-2",children:l.title},void 0,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:78,columnNumber:11},void 0),h.jsxDEV("p",{className:"text-lg text-vs-editor-text2 px-4 py-2 bg-vs-editor-surface2/80 backdrop-blur-sm rounded-lg border border-vs-editor-border",children:l.shortDescription},void 0,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:81,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:77,columnNumber:9},void 0),h.jsxDEV("div",{className:"relative h-64 md:h-80 bg-gradient-to-br from-vs-editor-surface to-vs-editor-surface2",children:[l.image&&h.jsxDEV("img",{src:l.image,alt:l.title,className:"w-full h-full object-cover"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:87,columnNumber:13},void 0),h.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:95,columnNumber:11},void 0),h.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[h.jsxDEV("div",{className:"flex flex-wrap gap-2 mb-4",children:l.techStack.map((e,t)=>h.jsxDEV("span",{className:"px-3 py-1 bg-white/20 backdrop-blur-sm rounded-full text-sm font-medium",children:e},t,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:103,columnNumber:17},void 0))},void 0,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:101,columnNumber:13},void 0),h.jsxDEV("div",{className:"flex flex-wrap gap-3",children:[l.showDetails&&h.jsxDEV("button",{onClick:()=>{const t=e[r];s(`/projects/${t.id}`)},className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg transition-colors duration-200",children:[h.jsxDEV(xt,{className:"w-4 h-4"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:120,columnNumber:19},void 0),"View Details"]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:116,columnNumber:17},void 0),l.liveDemo&&h.jsxDEV("a",{href:l.liveDemo,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors duration-200",children:[h.jsxDEV(yt,{className:"w-4 h-4"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:133,columnNumber:19},void 0),"Live Demo"]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:127,columnNumber:17},void 0),l.githubRepo&&h.jsxDEV("a",{href:l.githubRepo,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-900 rounded-lg transition-colors duration-200",children:[h.jsxDEV(vt,{className:"w-4 h-4"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:146,columnNumber:19},void 0),"View Code"]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:140,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:113,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:98,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:85,columnNumber:9},void 0),h.jsxDEV("div",{className:"p-6",children:[h.jsxDEV("p",{className:"text-vs-editor-text2 leading-relaxed",children:l.description},void 0,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:156,columnNumber:11},void 0),h.jsxDEV("div",{className:"mt-4 text-sm text-vs-editor-text3",children:["Featured • ",new Date(l.date).toLocaleDateString()]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:157,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:155,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:75,columnNumber:7},void 0),e.length>1&&h.jsxDEV("div",{className:"flex justify-center mt-6 space-x-2",children:e.map((e,t)=>h.jsxDEV("button",{onClick:()=>(e=>{i(e)})(t),className:"w-3 h-3 rounded-full transition-all duration-200 "+(t===r?"bg-crystal-blue-500 scale-125":"bg-vs-editor-border hover:bg-vs-editor-text2"),"aria-label":`Go to project ${t+1}`},t,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:167,columnNumber:13},void 0))},void 0,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:165,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/ProjectCarousel/ProjectCarousel.tsx",lineNumber:69,columnNumber:5},void 0)},PR=[{id:"ak-chibi-bot",slug:"ak-chibi-bot",title:"Arknights Chibi Twitch Bot",description:"A twitch bot and browser source overlay to show Arknight chibis walking on your stream. Viewers can issue !chibi chat commands to choose their own operator, change skins and play different animations.",shortDescription:"Twitch Bot and Browser Overlay for Arknights Chibis",image:"/images/ak-chibi-bot/banner.png",techStack:["React","Spine","Twitch API","Golang"],tags:["React","Spine","Twitch API","Golang"],featured:!0,date:"2024-06-10",liveDemo:"https://akchibibot.stymphalian.top",githubRepo:"https://github.com/stymphalian/ak_chibi_bot",showDetails:!0,images:[{type:"image",src:"/images/ak-chibi-bot/banner.png",alt:"Arknights Chibi Bot",caption:"Arknights Chibi Twith Bot and Overlay"}],videos:[]}],FR=async e=>{try{return await(async(e,t,n={})=>{switch(t){case"blog-post":return await Bt(e,n);case"project":return await Rt(e,n);default:throw new Error(`Unsupported content type: ${t}`)}})(`/content/projects/${e}.txt`,"project")}catch(t){return null}},BR=()=>{const e=ve(),t=PR.filter(e=>e.featured),[n,r]=p.useState(!1);return p.useEffect(()=>{const e=setTimeout(()=>r(!0),100);return()=>clearTimeout(e)},[]),h.jsxDEV(DR,{showPageTitle:!1,pageTitle:"Welcome to My Portfolio",pageDescription:"Senior Software Developer with 8+ years of backend experience",maxWidth:"7xl",padding:"md",children:h.jsxDEV("div",{className:"space-y-8 md:space-y-12 lg:space-y-16 transition-all duration-1000 "+(n?"opacity-100 translate-y-0":"opacity-0 translate-y-8"),children:[h.jsxDEV("div",{className:"flex flex-col lg:flex-row items-center lg:items-start gap-6 md:gap-8 lg:gap-12 transition-all duration-700 delay-200 "+(n?"opacity-100 translate-y-0":"opacity-0 translate-y-12"),children:[h.jsxDEV("div",{className:"flex-shrink-0 order-2 lg:order-1 group",children:h.jsxDEV(LR,{src:"/headshot.jpg",alt:"Professional headshot",size:"lg",className:"w-40 h-40 sm:w-48 sm:h-48 md:w-56 md:h-56 lg:w-64 lg:h-64 transition-all duration-500 group-hover:scale-105 group-hover:shadow-2xl"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:34,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:33,columnNumber:11},void 0),h.jsxDEV("div",{className:"flex-1 text-center lg:text-left order-1 lg:order-2",children:[h.jsxDEV("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-vs-editor-text mb-3 md:mb-4 leading-tight transition-all duration-700 delay-300 "+(n?"opacity-100 translate-y-0":"opacity-0 translate-y-8"),children:["Hi, I'm ",h.jsxDEV("span",{className:"text-crystal-blue-400 animate-pulse",children:"Jordan Yu"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:46,columnNumber:23},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:44,columnNumber:13},void 0),h.jsxDEV("h2",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-semibold text-vs-editor-text2 mb-3 md:mb-4 transition-all duration-700 delay-400 "+(n?"opacity-100 translate-y-0":"opacity-0 translate-y-8"),children:"Senior Software Developer"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:48,columnNumber:13},void 0),h.jsxDEV("p",{className:"text-base sm:text-lg md:text-xl text-vs-editor-text2 max-w-3xl mx-auto lg:mx-0 leading-relaxed mb-4 md:mb-6 transition-all duration-700 delay-500 "+(n?"opacity-100 translate-y-0":"opacity-0 translate-y-8"),children:"This my own little spot on the internet where I can share some of my projects and write about interesting things I have worked on. I'm software engineer by trade, but in my heart I'm a gamer, nerd and I love learning about new things and technology. Some of my interests are graphics, competitive programming, and running. Thanks for dropping by!"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:52,columnNumber:13},void 0),h.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4 justify-center lg:justify-start transition-all duration-700 delay-600 "+(n?"opacity-100 translate-y-0":"opacity-0 translate-y-8"),children:[h.jsxDEV("button",{onClick:()=>e("/projects"),className:"bg-crystal-blue-600 text-white px-6 md:px-8 py-2 md:py-3 rounded-lg hover:bg-crystal-blue-700 transition-all duration-300 transform hover:scale-105 hover:-translate-y-1 shadow-lg text-sm md:text-base font-medium active:scale-95",children:"View My Work"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:62,columnNumber:15},void 0),h.jsxDEV("button",{onClick:()=>{const e=document.createElement("a");e.href="/resume.pdf",e.download="Jordan_Resume.pdf",document.body.appendChild(e),e.click(),document.body.removeChild(e)},className:"border-2 border-crystal-blue-600 text-crystal-blue-400 px-6 md:px-8 py-2 md:py-3 rounded-lg hover:bg-crystal-blue-700 hover:text-white transition-all duration-300 transform hover:scale-105 hover:-translate-y-1 text-sm md:text-base font-medium active:scale-95",children:"Download Resume"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:68,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:60,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:43,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:30,columnNumber:9},void 0),h.jsxDEV("div",{className:"bg-gradient-to-r from-vs-editor-surface to-vs-editor-surface2 rounded-xl p-4 md:p-6 lg:p-8 shadow-sm transition-all duration-700 delay-700 "+(n?"opacity-100 translate-y-0":"opacity-0 translate-y-12"),children:[h.jsxDEV("h3",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-vs-editor-text mb-4 md:mb-6 text-center",children:"Technical Expertise"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:88,columnNumber:11},void 0),h.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[{icon:"⚙️",title:"Backend",color:"green",skills:["Java & Go","Python & PHP","REST/RPC APIs","Microservices"]},{icon:"☁️",title:"Infrastructure",color:"blue",skills:["AWS & GCP","Kubernetes","Docker","Borg/Spanner"]},{icon:"🗄️",title:"Databases",color:"purple",skills:["SQL & NoSQL","Bigtable","Spanner","Data Modeling"]},{icon:"🔧",title:"Tools & DevOps",color:"orange",skills:["Git & Bazel","CI/CD","Monitoring","Testing"]}].map((e,t)=>h.jsxDEV("div",{className:`bg-vs-editor-surface rounded-xl p-4 md:p-6 shadow-md hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 hover:scale-105 border-l-4 border-${e.color}-500 group ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:800+100*t+"ms"},children:[h.jsxDEV("div",{className:`text-${e.color}-600 text-xl md:text-2xl lg:text-3xl mb-2 md:mb-3 transition-transform duration-300 group-hover:scale-110`,children:e.icon},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:102,columnNumber:17},void 0),h.jsxDEV("div",{className:`text-${e.color}-600 font-bold text-base md:text-lg mb-2 transition-colors duration-300 group-hover:text-${e.color}-700`,children:e.title},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:105,columnNumber:17},void 0),h.jsxDEV("div",{className:"text-xs md:text-sm text-vs-editor-text2 space-y-1",children:e.skills.map((e,t)=>h.jsxDEV("div",{className:"transition-all duration-300 group-hover:text-vs-editor-text group-hover:translate-x-1",style:{transitionDelay:50*t+"ms"},children:e},t,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:110,columnNumber:21},void 0))},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:108,columnNumber:17},void 0)]},e.title,!0,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:96,columnNumber:15},void 0))},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:89,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:86,columnNumber:9},void 0),h.jsxDEV("div",{className:"bg-vs-editor-surface rounded-xl p-4 md:p-6 lg:p-8 shadow-lg border border-vs-editor-border transition-all duration-700 delay-1000 "+(n?"opacity-100 translate-y-0":"opacity-0 translate-y-12"),children:[h.jsxDEV("h3",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-vs-editor-text mb-4 md:mb-6 text-center",children:"Featured Projects"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:127,columnNumber:11},void 0),h.jsxDEV("p",{className:"text-sm md:text-base lg:text-lg text-vs-editor-text2 mb-6 md:mb-8 text-center max-w-3xl mx-auto",children:"Here are some of my recent personal projects that demonstrate some of my skills and programming interests."},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:128,columnNumber:11},void 0),h.jsxDEV("div",{className:"transition-all duration-700 delay-1100",children:h.jsxDEV(OR,{projects:t},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:132,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:131,columnNumber:11},void 0),h.jsxDEV("div",{className:"text-center mt-6 md:mt-8",children:h.jsxDEV("button",{onClick:()=>e("/projects"),className:"bg-crystal-blue-600 text-white px-6 md:px-8 py-2 md:py-3 rounded-lg hover:bg-crystal-blue-700 transition-all duration-300 transform hover:scale-105 hover:-translate-y-1 shadow-lg text-sm md:text-base font-medium active:scale-95",children:"View All Projects"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:135,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:134,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:125,columnNumber:9},void 0),h.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8 transition-all duration-700 delay-1200 "+(n?"opacity-100 translate-y-0":"opacity-0 translate-y-12"),children:[h.jsxDEV("div",{className:"bg-gradient-to-br from-vs-editor-surface to-vs-editor-surface2 rounded-xl p-4 md:p-6 shadow-sm hover:shadow-lg transition-all duration-500 transform hover:-translate-y-1 group",children:[h.jsxDEV("h3",{className:"text-lg md:text-xl font-bold text-vs-editor-text mb-3 md:mb-4 group-hover:text-crystal-blue-400 transition-colors duration-300",children:"Professional Experience"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:148,columnNumber:13},void 0),h.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[{title:"Senior Backend Software Engineer",company:"Course Hero",period:"2021-2023",description:"Payments Infrastructure - Migrated legacy platform to Recurly affecting 2M+ users, automated 500K+ transaction processing"},{title:"Senior Software Engineer",company:"Google",period:"2018-2020",description:"Dialogflow/Google Assistant - Developed NLP backend services, Java APIs processing 1M+ model edits daily, GCP to Borg migration"},{title:"Software Engineer",company:"Google",period:"2015-2018",description:"Tools & Infrastructure - Built testing infrastructure for Ads spam filtering, maintained 10+ services, mentored 3 interns"}].map((e,t)=>h.jsxDEV("div",{className:"border-l-4 border-blue-500 pl-3 md:pl-4 transition-all duration-300 hover:border-blue-600 hover:pl-5",style:{transitionDelay:100*t+"ms"},children:[h.jsxDEV("div",{className:"font-semibold text-vs-editor-text text-sm md:text-base group-hover:text-crystal-blue-300 transition-colors duration-300",children:e.title},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:160,columnNumber:19},void 0),h.jsxDEV("div",{className:"text-xs md:text-sm text-vs-editor-text2",children:[e.company," • ",e.period]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:161,columnNumber:19},void 0),h.jsxDEV("div",{className:"text-xs md:text-sm text-vs-editor-text3 mt-1 group-hover:text-vs-editor-text transition-colors duration-300",children:e.description},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:162,columnNumber:19},void 0)]},e.title,!0,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:155,columnNumber:17},void 0))},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:149,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:147,columnNumber:11},void 0),h.jsxDEV("div",{className:"bg-gradient-to-br from-vs-editor-surface to-vs-editor-surface2 rounded-xl p-4 md:p-6 shadow-sm hover:shadow-lg transition-all duration-500 transform hover:-translate-y-1 group",children:[h.jsxDEV("h3",{className:"text-lg md:text-xl font-bold text-vs-editor-text mb-3 md:mb-4 group-hover:text-green-400 transition-colors duration-300",children:"Education & Background"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:169,columnNumber:13},void 0),h.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[{title:"Bachelor of Software Engineering",institution:"University of Victoria",period:"2011-2015",description:"Computer Networks, Architecture, Databases, Algorithms, Software Development Methods"},{title:"Technical Skills",institution:"Professional Experience",period:"8+ years",description:"Languages: Python, Go, Java, PHP, C/C++, JavaScript. Infrastructure: AWS, GCP, Kubernetes, Docker"}].map((e,t)=>h.jsxDEV("div",{className:"border-l-4 border-green-500 pl-3 md:pl-4 transition-all duration-300 hover:border-green-600 hover:pl-5",style:{transitionDelay:100*t+"ms"},children:[h.jsxDEV("div",{className:"font-semibold text-vs-editor-text text-sm md:text-base group-hover:text-green-400 transition-colors duration-300",children:e.title},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:180,columnNumber:19},void 0),h.jsxDEV("div",{className:"text-xs md:text-sm text-vs-editor-text2",children:[e.institution," • ",e.period]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:181,columnNumber:19},void 0),h.jsxDEV("div",{className:"text-xs md:text-sm text-vs-editor-text3 mt-1 group-hover:text-vs-editor-text transition-colors duration-300",children:e.description},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:182,columnNumber:19},void 0)]},e.title,!0,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:175,columnNumber:17},void 0))},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:170,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:168,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:145,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:27,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Home/Home.tsx",lineNumber:20,columnNumber:5},void 0)},RR=({items:e,className:t=""})=>h.jsxDEV("nav",{className:`flex items-center space-x-1 sm:space-x-2 text-xs sm:text-sm ${t}`,"aria-label":"Breadcrumb",children:[h.jsxDEV(rt,{to:"/",className:"flex items-center text-vs-editor-text2 hover:text-vs-editor-text transition-colors p-1","aria-label":"Go to home page",children:h.jsxDEV(kt,{className:"w-3 h-3 sm:w-4 sm:h-4"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Breadcrumb/Breadcrumb.tsx",lineNumber:24,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Breadcrumb/Breadcrumb.tsx",lineNumber:19,columnNumber:7},void 0),e.map((e,t)=>h.jsxDEV(f.Fragment,{children:[h.jsxDEV(gt,{className:"w-3 h-3 sm:w-4 sm:h-4 text-vs-editor-text2","data-testid":"chevron-right"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Breadcrumb/Breadcrumb.tsx",lineNumber:29,columnNumber:11},void 0),e.isCurrent?h.jsxDEV("span",{className:"text-vs-editor-text font-medium px-1","aria-current":"page",children:e.label},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Breadcrumb/Breadcrumb.tsx",lineNumber:31,columnNumber:13},void 0):e.path?h.jsxDEV(rt,{to:e.path,className:"text-vs-editor-text2 hover:text-vs-editor-text transition-colors px-1",children:e.label},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Breadcrumb/Breadcrumb.tsx",lineNumber:35,columnNumber:13},void 0):h.jsxDEV("span",{className:"text-vs-editor-text2 px-1",children:e.label},void 0,!1,{fileName:"/workspace/personal-blog/src/components/Breadcrumb/Breadcrumb.tsx",lineNumber:42,columnNumber:13},void 0)]},t,!0,{fileName:"/workspace/personal-blog/src/components/Breadcrumb/Breadcrumb.tsx",lineNumber:28,columnNumber:9},void 0))]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/Breadcrumb/Breadcrumb.tsx",lineNumber:18,columnNumber:5},void 0),IR=({images:e=[],videos:t=[]})=>{const[n,r]=p.useState(null),[i,a]=p.useState(!1),o=[...e,...t];return 0===o.length?null:h.jsxDEV("div",{className:"mb-6 sm:mb-8",children:[h.jsxDEV("h3",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4 text-vs-editor-text",children:"Project Media"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MediaGallery/MediaGallery.tsx",lineNumber:21,columnNumber:13},void 0),h.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:o.map((e,t)=>h.jsxDEV("div",{className:"relative group cursor-pointer",children:["image"===e.type?h.jsxDEV("img",{src:e.src,alt:e.alt||"Project media",className:"w-full h-32 sm:h-40 lg:h-48 object-cover rounded-lg shadow-md group-hover:shadow-lg transition-shadow",onClick:()=>{r(e),a(!0)}},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MediaGallery/MediaGallery.tsx",lineNumber:26,columnNumber:29},void 0):h.jsxDEV("div",{className:"relative cursor-pointer",onClick:()=>{r(e),a(!0)},children:[h.jsxDEV("img",{src:e.thumbnail||e.src,alt:e.alt||"Video thumbnail",className:"w-full h-32 sm:h-40 lg:h-48 object-cover rounded-lg shadow-md group-hover:shadow-lg transition-shadow"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MediaGallery/MediaGallery.tsx",lineNumber:43,columnNumber:33},void 0),h.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 rounded-lg",children:h.jsxDEV("div",{className:"w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 bg-white bg-opacity-90 rounded-full flex items-center justify-center",children:h.jsxDEV("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 lg:w-8 lg:h-8 text-gray-800 ml-0.5 sm:ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.664l-3-2z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MediaGallery/MediaGallery.tsx",lineNumber:51,columnNumber:45},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MediaGallery/MediaGallery.tsx",lineNumber:50,columnNumber:41},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MediaGallery/MediaGallery.tsx",lineNumber:49,columnNumber:37},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MediaGallery/MediaGallery.tsx",lineNumber:48,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/MediaGallery/MediaGallery.tsx",lineNumber:36,columnNumber:29},void 0),e.caption&&h.jsxDEV("p",{className:"mt-2 text-xs sm:text-sm text-vs-editor-text2 text-center px-1",children:e.caption},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MediaGallery/MediaGallery.tsx",lineNumber:58,columnNumber:29},void 0)]},t,!0,{fileName:"/workspace/personal-blog/src/components/MediaGallery/MediaGallery.tsx",lineNumber:24,columnNumber:21},void 0))},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MediaGallery/MediaGallery.tsx",lineNumber:22,columnNumber:13},void 0),i&&n&&h.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-2 sm:p-4",children:h.jsxDEV("div",{className:"relative max-w-full max-h-full w-full sm:max-w-2xl lg:max-w-4xl",children:[h.jsxDEV("button",{onClick:()=>a(!1),className:"absolute top-2 sm:top-4 right-2 sm:right-4 text-white text-xl sm:text-2xl hover:text-vs-editor-text2 transition-colors z-10 bg-black bg-opacity-50 rounded-full w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center",children:"×"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MediaGallery/MediaGallery.tsx",lineNumber:68,columnNumber:25},void 0),"image"===n.type?h.jsxDEV("img",{src:n.src,alt:n.alt||"Project media",className:"max-w-full max-h-full object-contain rounded-lg"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MediaGallery/MediaGallery.tsx",lineNumber:75,columnNumber:29},void 0):h.jsxDEV("iframe",{src:n.src,title:n.alt||"Project video",className:"w-full h-64 sm:h-80 lg:h-96 rounded-lg",allowFullScreen:!0},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MediaGallery/MediaGallery.tsx",lineNumber:81,columnNumber:29},void 0),n.caption&&h.jsxDEV("p",{className:"mt-2 sm:mt-4 text-white text-center text-sm sm:text-base lg:text-lg px-2",children:n.caption},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MediaGallery/MediaGallery.tsx",lineNumber:89,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/MediaGallery/MediaGallery.tsx",lineNumber:67,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/MediaGallery/MediaGallery.tsx",lineNumber:66,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/MediaGallery/MediaGallery.tsx",lineNumber:20,columnNumber:9},void 0)},jR=()=>{const{projectId:e}=function(){let{matches:e}=p.useContext(fe),t=e[e.length-1];return t?t.params:{}}(),t=ve(),[n,r]=p.useState(null),[i,a]=p.useState("loading"),[o,s]=p.useState(null);p.useEffect(()=>{window.scrollTo(0,0)},[e]),p.useEffect(()=>{(async()=>{if(!e)return a("error"),void s("No project ID provided");try{a("loading");const t=await FR(e);t?(r(t),a("loaded")):(a("error"),s("Content not found"))}catch(t){a("error"),s(t instanceof Error?t.message:"Failed to load content")}})()},[e]);const l=e?(e=>PR.find(t=>t.id===e))(e):void 0;if("error"===i&&o)return h.jsxDEV(MR,{errorType:"content-error",title:"Content Loading Error",message:"The project exists but its content could not be loaded.",error:o,showBackButton:!0,showHomeButton:!0},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:60,columnNumber:13},void 0);if(!l)return h.jsxDEV(MR,{errorType:"not-found",title:"Project Not Found",message:"The project you're looking for doesn't exist.",showBackButton:!0,showHomeButton:!0},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:74,columnNumber:13},void 0);const c=[{label:"Projects",path:"/projects"},{label:l.title,isCurrent:!0}];return h.jsxDEV(DR,{maxWidth:"full",padding:"lg",children:h.jsxDEV("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:h.jsxDEV("div",{className:"w-full max-w-7xl mx-auto",children:[h.jsxDEV(RR,{items:c,className:"mb-4 sm:mb-6"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:102,columnNumber:21},void 0),h.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6 sm:mb-8",children:[h.jsxDEV("button",{onClick:()=>t("/projects"),className:"flex items-center text-crystal-blue-400 hover:text-crystal-blue-300 transition-colors font-medium text-sm sm:text-base",children:[h.jsxDEV("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:111,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:110,columnNumber:29},void 0),"Back to Projects"]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:106,columnNumber:25},void 0),h.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[l.liveDemo&&h.jsxDEV("a",{href:l.liveDemo,target:"_blank",rel:"noopener noreferrer",className:"px-3 sm:px-4 py-2 bg-crystal-blue-600 text-white rounded-lg hover:bg-crystal-blue-700 transition-colors text-xs sm:text-sm text-center",children:"View Live Demo"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:119,columnNumber:33},void 0),l.githubRepo&&h.jsxDEV("a",{href:l.githubRepo,target:"_blank",rel:"noopener noreferrer",className:"px-3 sm:px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors text-xs sm:text-sm text-center",children:"View on GitHub"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:129,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:117,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:105,columnNumber:21},void 0),h.jsxDEV("div",{className:"mb-6 sm:mb-8",children:[h.jsxDEV("h1",{className:"heading-1 mb-3 sm:mb-4 text-lg sm:text-2xl lg:text-3xl",children:l.title},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:143,columnNumber:25},void 0),h.jsxDEV("p",{className:"body-text text-vs-editor-text2 mb-4 sm:mb-6 text-sm sm:text-base leading-relaxed",children:l.description},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:144,columnNumber:25},void 0),h.jsxDEV("div",{className:"flex flex-wrap items-center gap-4 mb-4 sm:mb-6",children:[h.jsxDEV("div",{className:"flex flex-wrap gap-2",children:l.tags?.map(e=>h.jsxDEV("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-vs-editor-surface2 text-vs-editor-text2",children:[h.jsxDEV(Et,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:155,columnNumber:41},void 0),e]},e,!0,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:151,columnNumber:37},void 0))},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:149,columnNumber:29},void 0),h.jsxDEV("div",{className:"flex items-center gap-4 text-xs sm:text-sm text-vs-editor-text3",children:[h.jsxDEV("div",{className:"flex items-center",children:[h.jsxDEV(bt,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:164,columnNumber:37},void 0),n?.content?(e=>{const t=e.replace(/<[^>]*>/g,"").split(/\s+/).filter(e=>e.length>0);return Math.ceil(t.length/100)})(n.content):"Loading..."," min read"]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:163,columnNumber:33},void 0),n?.content&&h.jsxDEV("div",{className:"flex items-center",children:[h.jsxDEV("span",{className:"mr-1",children:"📝"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:169,columnNumber:41},void 0),n.content.trim().split(/\s+/).filter(e=>e.length>0).length," words"]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:168,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:162,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:147,columnNumber:25},void 0),h.jsxDEV("div",{className:"mb-6",children:h.jsxDEV("img",{src:l.image,alt:l.title,className:"w-full h-48 sm:h-56 lg:h-64 object-cover rounded-lg shadow-md"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:178,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:177,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:142,columnNumber:21},void 0),h.jsxDEV(IR,{images:l.images,videos:l.videos},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:187,columnNumber:21},void 0),h.jsxDEV("div",{className:"prose prose-sm sm:prose-base lg:prose-lg max-w-none mt-6 sm:mt-8",children:h.jsxDEV(TR,{content:n?.content||"",loadingState:i,loadingStateData:{error:o},className:"prose-headings:text-vs-editor-text prose-p:text-vs-editor-text2 prose-strong:text-vs-editor-text",options:{highlightCode:!0,breaks:!0},emptyContentMessage:"Project content is being loaded...",onError:e=>{s(e.message),a("error")}},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:191,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:190,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:100,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:99,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/ProjectDetail/ProjectDetail.tsx",lineNumber:98,columnNumber:9},void 0)},zR=({project:e,onViewDetails:t,className:n=""})=>h.jsxDEV("div",{"data-testid":"project-card",className:`bg-vs-editor-surface rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300 border border-vs-editor-border ${n}`,children:h.jsxDEV("div",{className:"flex flex-col lg:flex-row",children:[h.jsxDEV("div",{className:"w-full lg:w-1/3 aspect-video lg:aspect-square bg-vs-editor-surface2 overflow-hidden",children:[h.jsxDEV("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onError:e=>{const t=e.target;t.style.display="none",t.nextElementSibling?.classList.remove("hidden")}},void 0,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCard/ProjectCard.tsx",lineNumber:29,columnNumber:11},void 0),h.jsxDEV("div",{className:"hidden w-full h-full flex items-center justify-center text-2xl sm:text-4xl text-vs-editor-text2 bg-vs-editor-surface2",children:"🚀"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCard/ProjectCard.tsx",lineNumber:39,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/ProjectCard/ProjectCard.tsx",lineNumber:28,columnNumber:9},void 0),h.jsxDEV("div",{className:"p-4 sm:p-6 flex-1 flex flex-col justify-between",children:[h.jsxDEV("div",{children:[h.jsxDEV("h3",{className:"text-lg sm:text-xl font-semibold text-vs-editor-text mb-2 sm:mb-3 leading-tight",children:e.title},void 0,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCard/ProjectCard.tsx",lineNumber:47,columnNumber:13},void 0),h.jsxDEV("p",{className:"text-vs-editor-text2 mb-3 sm:mb-4 text-sm sm:text-base overflow-hidden leading-relaxed",style:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:e.description},void 0,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCard/ProjectCard.tsx",lineNumber:50,columnNumber:13},void 0),h.jsxDEV("div",{className:"mb-3 sm:mb-4",children:h.jsxDEV("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:e.techStack.map(e=>h.jsxDEV("span",{className:"px-2 sm:px-3 py-1 bg-crystal-blue-500/20 text-crystal-blue-400 text-xs sm:text-sm rounded-full font-medium",children:e},e,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCard/ProjectCard.tsx",lineNumber:62,columnNumber:19},void 0))},void 0,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCard/ProjectCard.tsx",lineNumber:60,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCard/ProjectCard.tsx",lineNumber:59,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/ProjectCard/ProjectCard.tsx",lineNumber:46,columnNumber:11},void 0),h.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 sm:gap-4 pt-2 sm:pt-0",children:[h.jsxDEV("span",{className:"text-xs sm:text-sm text-vs-editor-text3 flex items-center",children:[h.jsxDEV("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1.5 sm:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCard/ProjectCard.tsx",lineNumber:77,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCard/ProjectCard.tsx",lineNumber:76,columnNumber:15},void 0),new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"long"})]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/ProjectCard/ProjectCard.tsx",lineNumber:75,columnNumber:13},void 0),e.showDetails&&h.jsxDEV("button",{onClick:()=>{t&&t(e.id)},className:"px-3 sm:px-4 py-2 bg-crystal-blue-600 text-white rounded-lg hover:bg-crystal-blue-700 transition-colors duration-200 text-xs sm:text-sm font-medium w-full sm:w-auto",children:"View Details"},void 0,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCard/ProjectCard.tsx",lineNumber:85,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/ProjectCard/ProjectCard.tsx",lineNumber:74,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/ProjectCard/ProjectCard.tsx",lineNumber:45,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/components/ProjectCard/ProjectCard.tsx",lineNumber:26,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/components/ProjectCard/ProjectCard.tsx",lineNumber:22,columnNumber:5},void 0),$R=()=>{const e=ve();return h.jsxDEV(DR,{maxWidth:"full",padding:"lg",children:h.jsxDEV("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:[h.jsxDEV("div",{className:"text-center mb-8 sm:mb-12",children:[h.jsxDEV("h1",{className:"heading-1 mb-4 sm:mb-6 text-2xl sm:text-3xl lg:text-4xl",children:"My Projects"},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Projects/Projects.tsx",lineNumber:14,columnNumber:11},void 0),h.jsxDEV("p",{className:"body-text max-w-3xl mx-auto text-sm sm:text-base leading-relaxed px-2",children:"A collection of random projects that I've worked on. I'm usually trying to learn something new when I build something so the technologies and scope is a mix of what I want to learn."},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Projects/Projects.tsx",lineNumber:15,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Projects/Projects.tsx",lineNumber:13,columnNumber:9},void 0),h.jsxDEV("div",{className:"space-y-4 sm:space-y-6 w-full max-w-7xl mx-auto",children:PR.map(t=>h.jsxDEV(zR,{project:t,onViewDetails:t=>{e(`/projects/${t}`)}},t.id,!1,{fileName:"/workspace/personal-blog/src/pages/Projects/Projects.tsx",lineNumber:23,columnNumber:13},void 0))},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Projects/Projects.tsx",lineNumber:21,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/personal-blog/src/pages/Projects/Projects.tsx",lineNumber:12,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/pages/Projects/Projects.tsx",lineNumber:11,columnNumber:5},void 0)},HR=()=>{const{pathname:e}=be();return p.useEffect(()=>{window.scrollTo(0,0);const e=()=>{sessionStorage.setItem("scrollPosition",window.scrollY.toString())},t=()=>{const e=sessionStorage.getItem("scrollPosition");e&&(window.scrollTo(0,parseInt(e)),sessionStorage.removeItem("scrollPosition"))};return window.addEventListener("beforeunload",e),window.addEventListener("load",t),()=>{window.removeEventListener("beforeunload",e),window.removeEventListener("load",t)}},[e]),null};function qR(){return h.jsxDEV(tt,{children:h.jsxDEV("div",{className:"min-h-screen bg-vs-editor-bg",children:[h.jsxDEV(Tt,{},void 0,!1,{fileName:"/workspace/personal-blog/src/App.tsx",lineNumber:44,columnNumber:9},this),h.jsxDEV(HR,{},void 0,!1,{fileName:"/workspace/personal-blog/src/App.tsx",lineNumber:45,columnNumber:9},this),h.jsxDEV(Oe,{children:[h.jsxDEV(Le,{path:"/",element:h.jsxDEV(BR,{},void 0,!1,{fileName:"/workspace/personal-blog/src/App.tsx",lineNumber:47,columnNumber:36},this)},void 0,!1,{fileName:"/workspace/personal-blog/src/App.tsx",lineNumber:47,columnNumber:11},this),h.jsxDEV(Le,{path:"/projects",element:h.jsxDEV($R,{},void 0,!1,{fileName:"/workspace/personal-blog/src/App.tsx",lineNumber:48,columnNumber:44},this)},void 0,!1,{fileName:"/workspace/personal-blog/src/App.tsx",lineNumber:48,columnNumber:11},this),h.jsxDEV(Le,{path:"/projects/:projectId",element:h.jsxDEV(jR,{},void 0,!1,{fileName:"/workspace/personal-blog/src/App.tsx",lineNumber:49,columnNumber:55},this)},void 0,!1,{fileName:"/workspace/personal-blog/src/App.tsx",lineNumber:49,columnNumber:11},this),h.jsxDEV(Le,{path:"/contact",element:h.jsxDEV(AR,{},void 0,!1,{fileName:"/workspace/personal-blog/src/App.tsx",lineNumber:52,columnNumber:43},this)},void 0,!1,{fileName:"/workspace/personal-blog/src/App.tsx",lineNumber:52,columnNumber:11},this),h.jsxDEV(Le,{path:"*",element:h.jsxDEV(MR,{errorType:"not-found"},void 0,!1,{fileName:"/workspace/personal-blog/src/App.tsx",lineNumber:53,columnNumber:36},this)},void 0,!1,{fileName:"/workspace/personal-blog/src/App.tsx",lineNumber:53,columnNumber:11},this)]},void 0,!0,{fileName:"/workspace/personal-blog/src/App.tsx",lineNumber:46,columnNumber:9},this)]},void 0,!0,{fileName:"/workspace/personal-blog/src/App.tsx",lineNumber:43,columnNumber:7},this)},void 0,!1,{fileName:"/workspace/personal-blog/src/App.tsx",lineNumber:42,columnNumber:5},this)}A.createRoot(document.getElementById("root")).render(h.jsxDEV(p.StrictMode,{children:h.jsxDEV(qR,{},void 0,!1,{fileName:"/workspace/personal-blog/src/main.tsx",lineNumber:8,columnNumber:5},void 0)},void 0,!1,{fileName:"/workspace/personal-blog/src/main.tsx",lineNumber:7,columnNumber:3},void 0));export{yb as $,wf as A,Im as B,Bb as C,uT as D,Mg as E,gg as F,ZN as G,kP as H,vP as I,Bv as J,sg as K,ab as L,ob as M,cT as N,Yg as O,lb as P,Jg as Q,RC as R,UC as S,KN as T,Rg as U,pb as V,Cf as W,Ef as X,Nf as Y,MN as Z,Rm as _,Sb as a,Hw as a$,LC as a0,NC as a1,SC as a2,TC as a3,vC as a4,_C as a5,wC as a6,yC as a7,bC as a8,EC as a9,SN as aA,$E as aB,kN as aC,jS as aD,SF as aE,uA as aF,DC as aG,e as aH,XM as aI,KM as aJ,VM as aK,e_ as aL,o_ as aM,a_ as aN,c_ as aO,Rw as aP,IS as aQ,EN as aR,mN as aS,rE as aT,zE as aU,IE as aV,yN as aW,uN as aX,sN as aY,Yv as aZ,Kv as a_,CC as aa,xC as ab,AC as ac,MC as ad,kC as ae,RL as af,AO as ag,OO as ah,qv as ai,Zg as aj,fA as ak,Uv as al,pA as am,pT as an,WN as ao,cf as ap,vf as aq,fP as ar,DO as as,jO as at,IL as au,yL as av,LO as aw,ZO as ax,qO as ay,$O as az,Cb as b,zw as b0,xw as b1,vw as b2,kw as b3,i_ as b4,n_ as b5,af as b6,CN as b7,vN as b8,mE as b9,NN as bA,AE as bB,ef as bC,pE as ba,QE as bb,TN as bc,DE as bd,RS as be,AS as bf,hN as bg,lF as bh,uE as bi,RE as bj,lN as bk,TE as bl,wE as bm,_E as bn,_F as bo,nN as bp,CE as bq,VE as br,vE as bs,LE as bt,dE as bu,cE as bv,kE as bw,iN as bx,jE as by,dF as bz,Db as c,yw as d,hb as e,Qm as f,Nb as g,nT as h,qg as i,ek as j,cb as k,zm as l,tT as m,Ob as n,xP as o,Tb as p,Mb as q,yP as r,Eb as s,Rv as t,dT as u,TO as v,JN as w,fT as x,_b as y,Pb as z};

import{g as t,d as e}from"./chunk-OMD6QJNC.js";import{_ as n,s as a,g as i,a as s,b as r,c as l,d as o,l as h,e as d,f as u,h as p,i as y,j as f,w as g,k as b,m as _}from"./index.js";var x=function(){var t=n(function(t,e,n,a){for(n=n||{},a=t.length;a--;n[t[a]]=e);return n},"o"),e=[1,24],a=[1,25],i=[1,26],s=[1,27],r=[1,28],l=[1,63],o=[1,64],h=[1,65],d=[1,66],u=[1,67],p=[1,68],y=[1,69],f=[1,29],g=[1,30],b=[1,31],_=[1,32],x=[1,33],m=[1,34],E=[1,35],S=[1,36],A=[1,37],C=[1,38],w=[1,39],O=[1,40],k=[1,41],T=[1,42],v=[1,43],R=[1,44],D=[1,45],N=[1,46],P=[1,47],B=[1,48],j=[1,50],M=[1,51],I=[1,52],L=[1,53],Y=[1,54],U=[1,55],F=[1,56],X=[1,57],z=[1,58],W=[1,59],Q=[1,60],$=[14,42],H=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],q=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],V=[1,82],G=[1,83],K=[1,84],J=[1,85],Z=[12,14,42],tt=[12,14,33,42],et=[12,14,33,42,76,77,79,80],nt=[12,33],at=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],it={trace:n(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:n(function(t,e,n,a,i,s,r){var l=s.length-1;switch(i){case 3:a.setDirection("TB");break;case 4:a.setDirection("BT");break;case 5:a.setDirection("RL");break;case 6:a.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:a.setC4Type(s[l-3]);break;case 19:a.setTitle(s[l].substring(6)),this.$=s[l].substring(6);break;case 20:a.setAccDescription(s[l].substring(15)),this.$=s[l].substring(15);break;case 21:this.$=s[l].trim(),a.setTitle(this.$);break;case 22:case 23:this.$=s[l].trim(),a.setAccDescription(this.$);break;case 28:s[l].splice(2,0,"ENTERPRISE"),a.addPersonOrSystemBoundary(...s[l]),this.$=s[l];break;case 29:s[l].splice(2,0,"SYSTEM"),a.addPersonOrSystemBoundary(...s[l]),this.$=s[l];break;case 30:a.addPersonOrSystemBoundary(...s[l]),this.$=s[l];break;case 31:s[l].splice(2,0,"CONTAINER"),a.addContainerBoundary(...s[l]),this.$=s[l];break;case 32:a.addDeploymentNode("node",...s[l]),this.$=s[l];break;case 33:a.addDeploymentNode("nodeL",...s[l]),this.$=s[l];break;case 34:a.addDeploymentNode("nodeR",...s[l]),this.$=s[l];break;case 35:a.popBoundaryParseStack();break;case 39:a.addPersonOrSystem("person",...s[l]),this.$=s[l];break;case 40:a.addPersonOrSystem("external_person",...s[l]),this.$=s[l];break;case 41:a.addPersonOrSystem("system",...s[l]),this.$=s[l];break;case 42:a.addPersonOrSystem("system_db",...s[l]),this.$=s[l];break;case 43:a.addPersonOrSystem("system_queue",...s[l]),this.$=s[l];break;case 44:a.addPersonOrSystem("external_system",...s[l]),this.$=s[l];break;case 45:a.addPersonOrSystem("external_system_db",...s[l]),this.$=s[l];break;case 46:a.addPersonOrSystem("external_system_queue",...s[l]),this.$=s[l];break;case 47:a.addContainer("container",...s[l]),this.$=s[l];break;case 48:a.addContainer("container_db",...s[l]),this.$=s[l];break;case 49:a.addContainer("container_queue",...s[l]),this.$=s[l];break;case 50:a.addContainer("external_container",...s[l]),this.$=s[l];break;case 51:a.addContainer("external_container_db",...s[l]),this.$=s[l];break;case 52:a.addContainer("external_container_queue",...s[l]),this.$=s[l];break;case 53:a.addComponent("component",...s[l]),this.$=s[l];break;case 54:a.addComponent("component_db",...s[l]),this.$=s[l];break;case 55:a.addComponent("component_queue",...s[l]),this.$=s[l];break;case 56:a.addComponent("external_component",...s[l]),this.$=s[l];break;case 57:a.addComponent("external_component_db",...s[l]),this.$=s[l];break;case 58:a.addComponent("external_component_queue",...s[l]),this.$=s[l];break;case 60:a.addRel("rel",...s[l]),this.$=s[l];break;case 61:a.addRel("birel",...s[l]),this.$=s[l];break;case 62:a.addRel("rel_u",...s[l]),this.$=s[l];break;case 63:a.addRel("rel_d",...s[l]),this.$=s[l];break;case 64:a.addRel("rel_l",...s[l]),this.$=s[l];break;case 65:a.addRel("rel_r",...s[l]),this.$=s[l];break;case 66:a.addRel("rel_b",...s[l]),this.$=s[l];break;case 67:s[l].splice(0,1),a.addRel("rel",...s[l]),this.$=s[l];break;case 68:a.updateElStyle("update_el_style",...s[l]),this.$=s[l];break;case 69:a.updateRelStyle("update_rel_style",...s[l]),this.$=s[l];break;case 70:a.updateLayoutConfig("update_layout_config",...s[l]),this.$=s[l];break;case 71:this.$=[s[l]];break;case 72:s[l].unshift(s[l-1]),this.$=s[l];break;case 73:case 75:this.$=s[l].trim();break;case 74:let t={};t[s[l-1].trim()]=s[l].trim(),this.$=t;break;case 76:this.$=""}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:e,23:a,24:i,26:s,28:r,29:49,30:61,32:62,34:l,36:o,37:h,38:d,39:u,40:p,41:y,43:23,44:f,45:g,46:b,47:_,48:x,49:m,50:E,51:S,52:A,53:C,54:w,55:O,56:k,57:T,58:v,59:R,60:D,61:N,62:P,63:B,64:j,65:M,66:I,67:L,68:Y,69:U,70:F,71:X,72:z,73:W,74:Q},{13:70,19:20,20:21,21:22,22:e,23:a,24:i,26:s,28:r,29:49,30:61,32:62,34:l,36:o,37:h,38:d,39:u,40:p,41:y,43:23,44:f,45:g,46:b,47:_,48:x,49:m,50:E,51:S,52:A,53:C,54:w,55:O,56:k,57:T,58:v,59:R,60:D,61:N,62:P,63:B,64:j,65:M,66:I,67:L,68:Y,69:U,70:F,71:X,72:z,73:W,74:Q},{13:71,19:20,20:21,21:22,22:e,23:a,24:i,26:s,28:r,29:49,30:61,32:62,34:l,36:o,37:h,38:d,39:u,40:p,41:y,43:23,44:f,45:g,46:b,47:_,48:x,49:m,50:E,51:S,52:A,53:C,54:w,55:O,56:k,57:T,58:v,59:R,60:D,61:N,62:P,63:B,64:j,65:M,66:I,67:L,68:Y,69:U,70:F,71:X,72:z,73:W,74:Q},{13:72,19:20,20:21,21:22,22:e,23:a,24:i,26:s,28:r,29:49,30:61,32:62,34:l,36:o,37:h,38:d,39:u,40:p,41:y,43:23,44:f,45:g,46:b,47:_,48:x,49:m,50:E,51:S,52:A,53:C,54:w,55:O,56:k,57:T,58:v,59:R,60:D,61:N,62:P,63:B,64:j,65:M,66:I,67:L,68:Y,69:U,70:F,71:X,72:z,73:W,74:Q},{13:73,19:20,20:21,21:22,22:e,23:a,24:i,26:s,28:r,29:49,30:61,32:62,34:l,36:o,37:h,38:d,39:u,40:p,41:y,43:23,44:f,45:g,46:b,47:_,48:x,49:m,50:E,51:S,52:A,53:C,54:w,55:O,56:k,57:T,58:v,59:R,60:D,61:N,62:P,63:B,64:j,65:M,66:I,67:L,68:Y,69:U,70:F,71:X,72:z,73:W,74:Q},{14:[1,74]},t($,[2,13],{43:23,29:49,30:61,32:62,20:75,34:l,36:o,37:h,38:d,39:u,40:p,41:y,44:f,45:g,46:b,47:_,48:x,49:m,50:E,51:S,52:A,53:C,54:w,55:O,56:k,57:T,58:v,59:R,60:D,61:N,62:P,63:B,64:j,65:M,66:I,67:L,68:Y,69:U,70:F,71:X,72:z,73:W,74:Q}),t($,[2,14]),t(H,[2,16],{12:[1,76]}),t($,[2,36],{12:[1,77]}),t(q,[2,19]),t(q,[2,20]),{25:[1,78]},{27:[1,79]},t(q,[2,23]),{35:80,75:81,76:V,77:G,79:K,80:J},{35:86,75:81,76:V,77:G,79:K,80:J},{35:87,75:81,76:V,77:G,79:K,80:J},{35:88,75:81,76:V,77:G,79:K,80:J},{35:89,75:81,76:V,77:G,79:K,80:J},{35:90,75:81,76:V,77:G,79:K,80:J},{35:91,75:81,76:V,77:G,79:K,80:J},{35:92,75:81,76:V,77:G,79:K,80:J},{35:93,75:81,76:V,77:G,79:K,80:J},{35:94,75:81,76:V,77:G,79:K,80:J},{35:95,75:81,76:V,77:G,79:K,80:J},{35:96,75:81,76:V,77:G,79:K,80:J},{35:97,75:81,76:V,77:G,79:K,80:J},{35:98,75:81,76:V,77:G,79:K,80:J},{35:99,75:81,76:V,77:G,79:K,80:J},{35:100,75:81,76:V,77:G,79:K,80:J},{35:101,75:81,76:V,77:G,79:K,80:J},{35:102,75:81,76:V,77:G,79:K,80:J},{35:103,75:81,76:V,77:G,79:K,80:J},{35:104,75:81,76:V,77:G,79:K,80:J},t(Z,[2,59]),{35:105,75:81,76:V,77:G,79:K,80:J},{35:106,75:81,76:V,77:G,79:K,80:J},{35:107,75:81,76:V,77:G,79:K,80:J},{35:108,75:81,76:V,77:G,79:K,80:J},{35:109,75:81,76:V,77:G,79:K,80:J},{35:110,75:81,76:V,77:G,79:K,80:J},{35:111,75:81,76:V,77:G,79:K,80:J},{35:112,75:81,76:V,77:G,79:K,80:J},{35:113,75:81,76:V,77:G,79:K,80:J},{35:114,75:81,76:V,77:G,79:K,80:J},{35:115,75:81,76:V,77:G,79:K,80:J},{20:116,29:49,30:61,32:62,34:l,36:o,37:h,38:d,39:u,40:p,41:y,43:23,44:f,45:g,46:b,47:_,48:x,49:m,50:E,51:S,52:A,53:C,54:w,55:O,56:k,57:T,58:v,59:R,60:D,61:N,62:P,63:B,64:j,65:M,66:I,67:L,68:Y,69:U,70:F,71:X,72:z,73:W,74:Q},{12:[1,118],33:[1,117]},{35:119,75:81,76:V,77:G,79:K,80:J},{35:120,75:81,76:V,77:G,79:K,80:J},{35:121,75:81,76:V,77:G,79:K,80:J},{35:122,75:81,76:V,77:G,79:K,80:J},{35:123,75:81,76:V,77:G,79:K,80:J},{35:124,75:81,76:V,77:G,79:K,80:J},{35:125,75:81,76:V,77:G,79:K,80:J},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},t($,[2,15]),t(H,[2,17],{21:22,19:130,22:e,23:a,24:i,26:s,28:r}),t($,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:e,23:a,24:i,26:s,28:r,34:l,36:o,37:h,38:d,39:u,40:p,41:y,44:f,45:g,46:b,47:_,48:x,49:m,50:E,51:S,52:A,53:C,54:w,55:O,56:k,57:T,58:v,59:R,60:D,61:N,62:P,63:B,64:j,65:M,66:I,67:L,68:Y,69:U,70:F,71:X,72:z,73:W,74:Q}),t(q,[2,21]),t(q,[2,22]),t(Z,[2,39]),t(tt,[2,71],{75:81,35:132,76:V,77:G,79:K,80:J}),t(et,[2,73]),{78:[1,133]},t(et,[2,75]),t(et,[2,76]),t(Z,[2,40]),t(Z,[2,41]),t(Z,[2,42]),t(Z,[2,43]),t(Z,[2,44]),t(Z,[2,45]),t(Z,[2,46]),t(Z,[2,47]),t(Z,[2,48]),t(Z,[2,49]),t(Z,[2,50]),t(Z,[2,51]),t(Z,[2,52]),t(Z,[2,53]),t(Z,[2,54]),t(Z,[2,55]),t(Z,[2,56]),t(Z,[2,57]),t(Z,[2,58]),t(Z,[2,60]),t(Z,[2,61]),t(Z,[2,62]),t(Z,[2,63]),t(Z,[2,64]),t(Z,[2,65]),t(Z,[2,66]),t(Z,[2,67]),t(Z,[2,68]),t(Z,[2,69]),t(Z,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},t(nt,[2,28]),t(nt,[2,29]),t(nt,[2,30]),t(nt,[2,31]),t(nt,[2,32]),t(nt,[2,33]),t(nt,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},t(H,[2,18]),t($,[2,38]),t(tt,[2,72]),t(et,[2,74]),t(Z,[2,24]),t(Z,[2,35]),t(at,[2,25]),t(at,[2,26],{12:[1,138]}),t(at,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:n(function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},"parseError"),parse:n(function(t){var e=this,a=[0],i=[],s=[null],r=[],l=this.table,o="",c=0,h=0,d=r.slice.call(arguments,1),u=Object.create(this.lexer),p={yy:{}};for(var y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(p.yy[y]=this.yy[y]);u.setInput(t,p.yy),p.yy.lexer=u,p.yy.parser=this,void 0===u.yylloc&&(u.yylloc={});var f=u.yylloc;r.push(f);var g=u.options&&u.options.ranges;function b(){var t;return"number"!=typeof(t=i.pop()||u.lex()||1)&&(t instanceof Array&&(t=(i=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,n(function(t){a.length=a.length-2*t,s.length=s.length-t,r.length=r.length-t},"popStack"),n(b,"lex");for(var _,x,m,E,S,A,C,w,O={};;){if(x=a[a.length-1],this.defaultActions[x]?m=this.defaultActions[x]:(null==_&&(_=b()),m=l[x]&&l[x][_]),void 0===m||!m.length||!m[0]){var k="";for(S in w=[],l[x])this.terminals_[S]&&S>2&&w.push("'"+this.terminals_[S]+"'");k=u.showPosition?"Parse error on line "+(c+1)+":\n"+u.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(c+1)+": Unexpected "+(1==_?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(k,{text:u.match,token:this.terminals_[_]||_,line:u.yylineno,loc:f,expected:w})}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+_);switch(m[0]){case 1:a.push(_),s.push(u.yytext),r.push(u.yylloc),a.push(m[1]),_=null,h=u.yyleng,o=u.yytext,c=u.yylineno,f=u.yylloc;break;case 2:if(A=this.productions_[m[1]][1],O.$=s[s.length-A],O._$={first_line:r[r.length-(A||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(A||1)].first_column,last_column:r[r.length-1].last_column},g&&(O._$.range=[r[r.length-(A||1)].range[0],r[r.length-1].range[1]]),void 0!==(E=this.performAction.apply(O,[o,h,c,p.yy,m[1],s,r].concat(d))))return E;A&&(a=a.slice(0,-1*A*2),s=s.slice(0,-1*A),r=r.slice(0,-1*A)),a.push(this.productions_[m[1]][0]),s.push(O.$),r.push(O._$),C=l[a[a.length-2]][a[a.length-1]],a.push(C);break;case 3:return!0}}return!0},"parse")},st=function(){return{EOF:1,parseError:n(function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},"parseError"),setInput:n(function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:n(function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},"input"),unput:n(function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===a.length?this.yylloc.first_column:0)+a[a.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},"unput"),more:n(function(){return this._more=!0,this},"more"),reject:n(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:n(function(t){this.unput(this.match.slice(t))},"less"),pastInput:n(function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:n(function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:n(function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},"showPosition"),test_match:n(function(t,e){var n,a,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(a=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=a.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:a?a[a.length-1].length-a[a.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var s in i)this[s]=i[s];return!1}return!1},"test_match"),next:n(function(){if(this.done)return this.EOF;var t,e,n,a;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),s=0;s<i.length;s++)if((n=this._input.match(this.rules[i[s]]))&&(!e||n[0].length>e[0].length)){if(e=n,a=s,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[s])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[a]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:n(function(){var t=this.next();return t||this.lex()},"lex"),begin:n(function(t){this.conditionStack.push(t)},"begin"),popState:n(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:n(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:n(function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},"topState"),pushState:n(function(t){this.begin(t)},"pushState"),stateStackSize:n(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:n(function(t,e,n,a){switch(n){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),26;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 73:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:case 16:case 70:break;case 14:c;break;case 15:return 12;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;case 23:return this.begin("person"),44;case 24:return this.begin("system_ext_queue"),51;case 25:return this.begin("system_ext_db"),50;case 26:return this.begin("system_ext"),49;case 27:return this.begin("system_queue"),48;case 28:return this.begin("system_db"),47;case 29:return this.begin("system"),46;case 30:return this.begin("boundary"),37;case 31:return this.begin("enterprise_boundary"),34;case 32:return this.begin("system_boundary"),36;case 33:return this.begin("container_ext_queue"),57;case 34:return this.begin("container_ext_db"),56;case 35:return this.begin("container_ext"),55;case 36:return this.begin("container_queue"),54;case 37:return this.begin("container_db"),53;case 38:return this.begin("container"),52;case 39:return this.begin("container_boundary"),38;case 40:return this.begin("component_ext_queue"),63;case 41:return this.begin("component_ext_db"),62;case 42:return this.begin("component_ext"),61;case 43:return this.begin("component_queue"),60;case 44:return this.begin("component_db"),59;case 45:return this.begin("component"),58;case 46:case 47:return this.begin("node"),39;case 48:return this.begin("node_l"),40;case 49:return this.begin("node_r"),41;case 50:return this.begin("rel"),64;case 51:return this.begin("birel"),65;case 52:case 53:return this.begin("rel_u"),66;case 54:case 55:return this.begin("rel_d"),67;case 56:case 57:return this.begin("rel_l"),68;case 58:case 59:return this.begin("rel_r"),69;case 60:return this.begin("rel_b"),70;case 61:return this.begin("rel_index"),71;case 62:return this.begin("update_el_style"),72;case 63:return this.begin("update_rel_style"),73;case 64:return this.begin("update_layout_config"),74;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 67:this.begin("attribute");break;case 68:case 79:this.popState(),this.popState();break;case 69:case 71:return 80;case 72:this.begin("string");break;case 74:case 80:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}}}();function rt(){this.yy={}}return it.lexer=st,n(rt,"Parser"),rt.prototype=it,it.Parser=rt,new rt}();x.parser=x;var m,E=x,S=[],A=[""],C="global",w="",O=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],k=[],T="",v=!1,R=4,D=2,N=n(function(){return m},"getC4Type"),P=n(function(t){let e=y(t,l());m=e},"setC4Type"),B=n(function(t,e,n,a,i,s,r,l,o){if(null==t||null==e||null==n||null==a)return;let c={};const h=k.find(t=>t.from===e&&t.to===n);if(h?c=h:k.push(c),c.type=t,c.from=e,c.to=n,c.label={text:a},null==i)c.techn={text:""};else if("object"==typeof i){let[t,e]=Object.entries(i)[0];c[t]={text:e}}else c.techn={text:i};if(null==s)c.descr={text:""};else if("object"==typeof s){let[t,e]=Object.entries(s)[0];c[t]={text:e}}else c.descr={text:s};if("object"==typeof r){let[t,e]=Object.entries(r)[0];c[t]=e}else c.sprite=r;if("object"==typeof l){let[t,e]=Object.entries(l)[0];c[t]=e}else c.tags=l;if("object"==typeof o){let[t,e]=Object.entries(o)[0];c[t]=e}else c.link=o;c.wrap=at()},"addRel"),j=n(function(t,e,n,a,i,s,r){if(null===e||null===n)return;let l={};const o=S.find(t=>t.alias===e);if(o&&e===o.alias?l=o:(l.alias=e,S.push(l)),l.label=null==n?{text:""}:{text:n},null==a)l.descr={text:""};else if("object"==typeof a){let[t,e]=Object.entries(a)[0];l[t]={text:e}}else l.descr={text:a};if("object"==typeof i){let[t,e]=Object.entries(i)[0];l[t]=e}else l.sprite=i;if("object"==typeof s){let[t,e]=Object.entries(s)[0];l[t]=e}else l.tags=s;if("object"==typeof r){let[t,e]=Object.entries(r)[0];l[t]=e}else l.link=r;l.typeC4Shape={text:t},l.parentBoundary=C,l.wrap=at()},"addPersonOrSystem"),M=n(function(t,e,n,a,i,s,r,l){if(null===e||null===n)return;let o={};const c=S.find(t=>t.alias===e);if(c&&e===c.alias?o=c:(o.alias=e,S.push(o)),o.label=null==n?{text:""}:{text:n},null==a)o.techn={text:""};else if("object"==typeof a){let[t,e]=Object.entries(a)[0];o[t]={text:e}}else o.techn={text:a};if(null==i)o.descr={text:""};else if("object"==typeof i){let[t,e]=Object.entries(i)[0];o[t]={text:e}}else o.descr={text:i};if("object"==typeof s){let[t,e]=Object.entries(s)[0];o[t]=e}else o.sprite=s;if("object"==typeof r){let[t,e]=Object.entries(r)[0];o[t]=e}else o.tags=r;if("object"==typeof l){let[t,e]=Object.entries(l)[0];o[t]=e}else o.link=l;o.wrap=at(),o.typeC4Shape={text:t},o.parentBoundary=C},"addContainer"),I=n(function(t,e,n,a,i,s,r,l){if(null===e||null===n)return;let o={};const c=S.find(t=>t.alias===e);if(c&&e===c.alias?o=c:(o.alias=e,S.push(o)),o.label=null==n?{text:""}:{text:n},null==a)o.techn={text:""};else if("object"==typeof a){let[t,e]=Object.entries(a)[0];o[t]={text:e}}else o.techn={text:a};if(null==i)o.descr={text:""};else if("object"==typeof i){let[t,e]=Object.entries(i)[0];o[t]={text:e}}else o.descr={text:i};if("object"==typeof s){let[t,e]=Object.entries(s)[0];o[t]=e}else o.sprite=s;if("object"==typeof r){let[t,e]=Object.entries(r)[0];o[t]=e}else o.tags=r;if("object"==typeof l){let[t,e]=Object.entries(l)[0];o[t]=e}else o.link=l;o.wrap=at(),o.typeC4Shape={text:t},o.parentBoundary=C},"addComponent"),L=n(function(t,e,n,a,i){if(null===t||null===e)return;let s={};const r=O.find(e=>e.alias===t);if(r&&t===r.alias?s=r:(s.alias=t,O.push(s)),s.label=null==e?{text:""}:{text:e},null==n)s.type={text:"system"};else if("object"==typeof n){let[t,e]=Object.entries(n)[0];s[t]={text:e}}else s.type={text:n};if("object"==typeof a){let[t,e]=Object.entries(a)[0];s[t]=e}else s.tags=a;if("object"==typeof i){let[t,e]=Object.entries(i)[0];s[t]=e}else s.link=i;s.parentBoundary=C,s.wrap=at(),w=C,C=t,A.push(w)},"addPersonOrSystemBoundary"),Y=n(function(t,e,n,a,i){if(null===t||null===e)return;let s={};const r=O.find(e=>e.alias===t);if(r&&t===r.alias?s=r:(s.alias=t,O.push(s)),s.label=null==e?{text:""}:{text:e},null==n)s.type={text:"container"};else if("object"==typeof n){let[t,e]=Object.entries(n)[0];s[t]={text:e}}else s.type={text:n};if("object"==typeof a){let[t,e]=Object.entries(a)[0];s[t]=e}else s.tags=a;if("object"==typeof i){let[t,e]=Object.entries(i)[0];s[t]=e}else s.link=i;s.parentBoundary=C,s.wrap=at(),w=C,C=t,A.push(w)},"addContainerBoundary"),U=n(function(t,e,n,a,i,s,r,l){if(null===e||null===n)return;let o={};const c=O.find(t=>t.alias===e);if(c&&e===c.alias?o=c:(o.alias=e,O.push(o)),o.label=null==n?{text:""}:{text:n},null==a)o.type={text:"node"};else if("object"==typeof a){let[t,e]=Object.entries(a)[0];o[t]={text:e}}else o.type={text:a};if(null==i)o.descr={text:""};else if("object"==typeof i){let[t,e]=Object.entries(i)[0];o[t]={text:e}}else o.descr={text:i};if("object"==typeof r){let[t,e]=Object.entries(r)[0];o[t]=e}else o.tags=r;if("object"==typeof l){let[t,e]=Object.entries(l)[0];o[t]=e}else o.link=l;o.nodeType=t,o.parentBoundary=C,o.wrap=at(),w=C,C=e,A.push(w)},"addDeploymentNode"),F=n(function(){C=w,A.pop(),w=A.pop(),A.push(w)},"popBoundaryParseStack"),X=n(function(t,e,n,a,i,s,r,l,o,c,h){let d=S.find(t=>t.alias===e);if(void 0!==d||(d=O.find(t=>t.alias===e),void 0!==d)){if(null!=n)if("object"==typeof n){let[t,e]=Object.entries(n)[0];d[t]=e}else d.bgColor=n;if(null!=a)if("object"==typeof a){let[t,e]=Object.entries(a)[0];d[t]=e}else d.fontColor=a;if(null!=i)if("object"==typeof i){let[t,e]=Object.entries(i)[0];d[t]=e}else d.borderColor=i;if(null!=s)if("object"==typeof s){let[t,e]=Object.entries(s)[0];d[t]=e}else d.shadowing=s;if(null!=r)if("object"==typeof r){let[t,e]=Object.entries(r)[0];d[t]=e}else d.shape=r;if(null!=l)if("object"==typeof l){let[t,e]=Object.entries(l)[0];d[t]=e}else d.sprite=l;if(null!=o)if("object"==typeof o){let[t,e]=Object.entries(o)[0];d[t]=e}else d.techn=o;if(null!=c)if("object"==typeof c){let[t,e]=Object.entries(c)[0];d[t]=e}else d.legendText=c;if(null!=h)if("object"==typeof h){let[t,e]=Object.entries(h)[0];d[t]=e}else d.legendSprite=h}},"updateElStyle"),z=n(function(t,e,n,a,i,s,r){const l=k.find(t=>t.from===e&&t.to===n);if(void 0!==l){if(null!=a)if("object"==typeof a){let[t,e]=Object.entries(a)[0];l[t]=e}else l.textColor=a;if(null!=i)if("object"==typeof i){let[t,e]=Object.entries(i)[0];l[t]=e}else l.lineColor=i;if(null!=s)if("object"==typeof s){let[t,e]=Object.entries(s)[0];l[t]=parseInt(e)}else l.offsetX=parseInt(s);if(null!=r)if("object"==typeof r){let[t,e]=Object.entries(r)[0];l[t]=parseInt(e)}else l.offsetY=parseInt(r)}},"updateRelStyle"),W=n(function(t,e,n){let a=R,i=D;if("object"==typeof e){const t=Object.values(e)[0];a=parseInt(t)}else a=parseInt(e);if("object"==typeof n){const t=Object.values(n)[0];i=parseInt(t)}else i=parseInt(n);a>=1&&(R=a),i>=1&&(D=i)},"updateLayoutConfig"),Q=n(function(){return R},"getC4ShapeInRow"),$=n(function(){return D},"getC4BoundaryInRow"),H=n(function(){return C},"getCurrentBoundaryParse"),q=n(function(){return w},"getParentBoundaryParse"),V=n(function(t){return null==t?S:S.filter(e=>e.parentBoundary===t)},"getC4ShapeArray"),G=n(function(t){return S.find(e=>e.alias===t)},"getC4Shape"),K=n(function(t){return Object.keys(V(t))},"getC4ShapeKeys"),J=n(function(t){return null==t?O:O.filter(e=>e.parentBoundary===t)},"getBoundaries"),Z=J,tt=n(function(){return k},"getRels"),et=n(function(){return T},"getTitle"),nt=n(function(t){v=t},"setWrap"),at=n(function(){return v},"autoWrap"),it=n(function(){S=[],O=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],w="",C="global",A=[""],k=[],A=[""],T="",v=!1,R=4,D=2},"clear"),st=n(function(t){let e=y(t,l());T=e},"setTitle"),rt={addPersonOrSystem:j,addPersonOrSystemBoundary:L,addContainer:M,addContainerBoundary:Y,addComponent:I,addDeploymentNode:U,popBoundaryParseStack:F,addRel:B,updateElStyle:X,updateRelStyle:z,updateLayoutConfig:W,autoWrap:at,setWrap:nt,getC4ShapeArray:V,getC4Shape:G,getC4ShapeKeys:K,getBoundaries:J,getBoundarys:Z,getCurrentBoundaryParse:H,getParentBoundaryParse:q,getRels:tt,getTitle:et,getC4Type:N,getC4ShapeInRow:Q,getC4BoundaryInRow:$,setAccTitle:r,getAccTitle:s,getAccDescription:i,setAccDescription:a,getConfig:n(()=>l().c4,"getConfig"),clear:it,LINETYPE:{SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},setTitle:st,setC4Type:P},lt=n(function(t,n){return e(t,n)},"drawRect"),ot=n(function(t,e,n,a,i,s){const r=t.append("image");r.attr("width",e),r.attr("height",n),r.attr("x",a),r.attr("y",i);let l=s.startsWith("data:image/png;base64")?s:f.sanitizeUrl(s);r.attr("xlink:href",l)},"drawImage"),ct=n((t,e,n)=>{const a=t.append("g");let i=0;for(let s of e){let t=s.textColor?s.textColor:"#444444",e=s.lineColor?s.lineColor:"#444444",r=s.offsetX?parseInt(s.offsetX):0,l=s.offsetY?parseInt(s.offsetY):0,o="";if(0===i){let t=a.append("line");t.attr("x1",s.startPoint.x),t.attr("y1",s.startPoint.y),t.attr("x2",s.endPoint.x),t.attr("y2",s.endPoint.y),t.attr("stroke-width","1"),t.attr("stroke",e),t.style("fill","none"),"rel_b"!==s.type&&t.attr("marker-end","url("+o+"#arrowhead)"),"birel"!==s.type&&"rel_b"!==s.type||t.attr("marker-start","url("+o+"#arrowend)"),i=-1}else{let t=a.append("path");t.attr("fill","none").attr("stroke-width","1").attr("stroke",e).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",s.startPoint.x).replaceAll("starty",s.startPoint.y).replaceAll("controlx",s.startPoint.x+(s.endPoint.x-s.startPoint.x)/2-(s.endPoint.x-s.startPoint.x)/4).replaceAll("controly",s.startPoint.y+(s.endPoint.y-s.startPoint.y)/2).replaceAll("stopx",s.endPoint.x).replaceAll("stopy",s.endPoint.y)),"rel_b"!==s.type&&t.attr("marker-end","url("+o+"#arrowhead)"),"birel"!==s.type&&"rel_b"!==s.type||t.attr("marker-start","url("+o+"#arrowend)")}let c=n.messageFont();Et(n)(s.label.text,a,Math.min(s.startPoint.x,s.endPoint.x)+Math.abs(s.endPoint.x-s.startPoint.x)/2+r,Math.min(s.startPoint.y,s.endPoint.y)+Math.abs(s.endPoint.y-s.startPoint.y)/2+l,s.label.width,s.label.height,{fill:t},c),s.techn&&""!==s.techn.text&&(c=n.messageFont(),Et(n)("["+s.techn.text+"]",a,Math.min(s.startPoint.x,s.endPoint.x)+Math.abs(s.endPoint.x-s.startPoint.x)/2+r,Math.min(s.startPoint.y,s.endPoint.y)+Math.abs(s.endPoint.y-s.startPoint.y)/2+n.messageFontSize+5+l,Math.max(s.label.width,s.techn.width),s.techn.height,{fill:t,"font-style":"italic"},c))}},"drawRels"),ht=n(function(t,e,n){const a=t.append("g");let i=e.bgColor?e.bgColor:"none",s=e.borderColor?e.borderColor:"#444444",r=e.fontColor?e.fontColor:"black",l={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};e.nodeType&&(l={"stroke-width":1});let o={x:e.x,y:e.y,fill:i,stroke:s,width:e.width,height:e.height,rx:2.5,ry:2.5,attrs:l};lt(a,o);let c=n.boundaryFont();c.fontWeight="bold",c.fontSize=c.fontSize+2,c.fontColor=r,Et(n)(e.label.text,a,e.x,e.y+e.label.Y,e.width,e.height,{fill:"#444444"},c),e.type&&""!==e.type.text&&(c=n.boundaryFont(),c.fontColor=r,Et(n)(e.type.text,a,e.x,e.y+e.type.Y,e.width,e.height,{fill:"#444444"},c)),e.descr&&""!==e.descr.text&&(c=n.boundaryFont(),c.fontSize=c.fontSize-2,c.fontColor=r,Et(n)(e.descr.text,a,e.x,e.y+e.descr.Y,e.width,e.height,{fill:"#444444"},c))},"drawBoundary"),dt=n(function(e,n,a){let i=n.bgColor?n.bgColor:a[n.typeC4Shape.text+"_bg_color"],s=n.borderColor?n.borderColor:a[n.typeC4Shape.text+"_border_color"],r=n.fontColor?n.fontColor:"#FFFFFF",l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(n.typeC4Shape.text){case"person":l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII="}const o=e.append("g");o.attr("class","person-man");const c=t();switch(n.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":c.x=n.x,c.y=n.y,c.fill=i,c.width=n.width,c.height=n.height,c.stroke=s,c.rx=2.5,c.ry=2.5,c.attrs={"stroke-width":.5},lt(o,c);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":o.append("path").attr("fill",i).attr("stroke-width","0.5").attr("stroke",s).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",n.x).replaceAll("starty",n.y).replaceAll("half",n.width/2).replaceAll("height",n.height)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",s).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",n.x).replaceAll("starty",n.y).replaceAll("half",n.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":o.append("path").attr("fill",i).attr("stroke-width","0.5").attr("stroke",s).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",n.x).replaceAll("starty",n.y).replaceAll("width",n.width).replaceAll("half",n.height/2)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",s).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",n.x+n.width).replaceAll("starty",n.y).replaceAll("half",n.height/2))}let h=mt(a,n.typeC4Shape.text);switch(o.append("text").attr("fill",r).attr("font-family",h.fontFamily).attr("font-size",h.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",n.typeC4Shape.width).attr("x",n.x+n.width/2-n.typeC4Shape.width/2).attr("y",n.y+n.typeC4Shape.Y).text("<<"+n.typeC4Shape.text+">>"),n.typeC4Shape.text){case"person":case"external_person":ot(o,48,48,n.x+n.width/2-24,n.y+n.image.Y,l)}let d=a[n.typeC4Shape.text+"Font"]();return d.fontWeight="bold",d.fontSize=d.fontSize+2,d.fontColor=r,Et(a)(n.label.text,o,n.x,n.y+n.label.Y,n.width,n.height,{fill:r},d),d=a[n.typeC4Shape.text+"Font"](),d.fontColor=r,n.techn&&""!==n.techn?.text?Et(a)(n.techn.text,o,n.x,n.y+n.techn.Y,n.width,n.height,{fill:r,"font-style":"italic"},d):n.type&&""!==n.type.text&&Et(a)(n.type.text,o,n.x,n.y+n.type.Y,n.width,n.height,{fill:r,"font-style":"italic"},d),n.descr&&""!==n.descr.text&&(d=a.personFont(),d.fontColor=r,Et(a)(n.descr.text,o,n.x,n.y+n.descr.Y,n.width,n.height,{fill:r},d)),n.height},"drawC4Shape"),ut=n(function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),pt=n(function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),yt=n(function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),ft=n(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),gt=n(function(t){t.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),bt=n(function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),_t=n(function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),xt=n(function(t){const e=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);e.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),e.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),mt=n((t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),"getC4ShapeFont"),Et=function(){function t(t,e,n,a,s,r,l){i(e.append("text").attr("x",n+s/2).attr("y",a+r/2+5).style("text-anchor","middle").text(t),l)}function e(t,e,n,a,s,r,l,o){const{fontSize:c,fontFamily:h,fontWeight:d}=o,u=t.split(b.lineBreakRegex);for(let p=0;p<u.length;p++){const t=p*c-c*(u.length-1)/2,r=e.append("text").attr("x",n+s/2).attr("y",a).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",c).style("font-weight",d).style("font-family",h);r.append("tspan").attr("dy",t).text(u[p]).attr("alignment-baseline","mathematical"),i(r,l)}}function a(t,n,a,s,r,l,o,c){const h=n.append("switch"),d=h.append("foreignObject").attr("x",a).attr("y",s).attr("width",r).attr("height",l).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");d.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(t),e(t,h,a,s,r,0,o,c),i(d,o)}function i(t,e){for(const n in e)e.hasOwnProperty(n)&&t.attr(n,e[n])}return n(t,"byText"),n(e,"byTspan"),n(a,"byFo"),n(i,"_setTextAttrs"),function(n){return"fo"===n.textPlacement?a:"old"===n.textPlacement?t:e}}(),St={drawRect:lt,drawBoundary:ht,drawC4Shape:dt,drawRels:ct,drawImage:ot,insertArrowHead:ft,insertArrowEnd:gt,insertArrowFilledHead:bt,insertDynamicNumber:_t,insertArrowCrossHead:xt,insertDatabaseIcon:ut,insertComputerIcon:pt,insertClockIcon:yt},At=0,Ct=0,wt=4,Ot=2;x.yy=rt;var kt={},Tt=class{static{n(this,"Bounds")}constructor(t){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,vt(t.db.getConfig())}setData(t,e,n,a){this.nextData.startx=this.data.startx=t,this.nextData.stopx=this.data.stopx=e,this.nextData.starty=this.data.starty=n,this.nextData.stopy=this.data.stopy=a}updateVal(t,e,n,a){void 0===t[e]?t[e]=n:t[e]=a(n,t[e])}insert(t){this.nextData.cnt=this.nextData.cnt+1;let e=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+t.margin:this.nextData.stopx+2*t.margin,n=e+t.width,a=this.nextData.starty+2*t.margin,i=a+t.height;(e>=this.data.widthLimit||n>=this.data.widthLimit||this.nextData.cnt>wt)&&(e=this.nextData.startx+t.margin+kt.nextLinePaddingX,a=this.nextData.stopy+2*t.margin,this.nextData.stopx=n=e+t.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=i=a+t.height,this.nextData.cnt=1),t.x=e,t.y=a,this.updateVal(this.data,"startx",e,Math.min),this.updateVal(this.data,"starty",a,Math.min),this.updateVal(this.data,"stopx",n,Math.max),this.updateVal(this.data,"stopy",i,Math.max),this.updateVal(this.nextData,"startx",e,Math.min),this.updateVal(this.nextData,"starty",a,Math.min),this.updateVal(this.nextData,"stopx",n,Math.max),this.updateVal(this.nextData,"stopy",i,Math.max)}init(t){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},vt(t.db.getConfig())}bumpLastMargin(t){this.data.stopx+=t,this.data.stopy+=t}},vt=n(function(t){u(kt,t),t.fontFamily&&(kt.personFontFamily=kt.systemFontFamily=kt.messageFontFamily=t.fontFamily),t.fontSize&&(kt.personFontSize=kt.systemFontSize=kt.messageFontSize=t.fontSize),t.fontWeight&&(kt.personFontWeight=kt.systemFontWeight=kt.messageFontWeight=t.fontWeight)},"setConf"),Rt=n((t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),"c4ShapeFont"),Dt=n(t=>({fontFamily:t.boundaryFontFamily,fontSize:t.boundaryFontSize,fontWeight:t.boundaryFontWeight}),"boundaryFont"),Nt=n(t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),"messageFont");function Pt(t,e,n,a,i){if(!e[t].width)if(n)e[t].text=g(e[t].text,i,a),e[t].textLines=e[t].text.split(b.lineBreakRegex).length,e[t].width=i,e[t].height=_(e[t].text,a);else{let n=e[t].text.split(b.lineBreakRegex);e[t].textLines=n.length;let i=0;e[t].height=0,e[t].width=0;for(const s of n)e[t].width=Math.max(p(s,a),e[t].width),i=_(s,a),e[t].height=e[t].height+i}}n(Pt,"calcC4ShapeTextWH");var Bt=n(function(t,e,n){e.x=n.data.startx,e.y=n.data.starty,e.width=n.data.stopx-n.data.startx,e.height=n.data.stopy-n.data.starty,e.label.y=kt.c4ShapeMargin-35;let a=e.wrap&&kt.wrap,i=Dt(kt);i.fontSize=i.fontSize+2,i.fontWeight="bold",Pt("label",e,a,i,p(e.label.text,i)),St.drawBoundary(t,e,kt)},"drawBoundary"),jt=n(function(t,e,n,a){let i=0;for(const s of a){i=0;const a=n[s];let r=Rt(kt,a.typeC4Shape.text);switch(r.fontSize=r.fontSize-2,a.typeC4Shape.width=p("«"+a.typeC4Shape.text+"»",r),a.typeC4Shape.height=r.fontSize+2,a.typeC4Shape.Y=kt.c4ShapePadding,i=a.typeC4Shape.Y+a.typeC4Shape.height-4,a.image={width:0,height:0,Y:0},a.typeC4Shape.text){case"person":case"external_person":a.image.width=48,a.image.height=48,a.image.Y=i,i=a.image.Y+a.image.height}a.sprite&&(a.image.width=48,a.image.height=48,a.image.Y=i,i=a.image.Y+a.image.height);let l=a.wrap&&kt.wrap,o=kt.width-2*kt.c4ShapePadding,c=Rt(kt,a.typeC4Shape.text);if(c.fontSize=c.fontSize+2,c.fontWeight="bold",Pt("label",a,l,c,o),a.label.Y=i+8,i=a.label.Y+a.label.height,a.type&&""!==a.type.text){a.type.text="["+a.type.text+"]",Pt("type",a,l,Rt(kt,a.typeC4Shape.text),o),a.type.Y=i+5,i=a.type.Y+a.type.height}else if(a.techn&&""!==a.techn.text){a.techn.text="["+a.techn.text+"]",Pt("techn",a,l,Rt(kt,a.techn.text),o),a.techn.Y=i+5,i=a.techn.Y+a.techn.height}let h=i,d=a.label.width;if(a.descr&&""!==a.descr.text){Pt("descr",a,l,Rt(kt,a.typeC4Shape.text),o),a.descr.Y=i+20,i=a.descr.Y+a.descr.height,d=Math.max(a.label.width,a.descr.width),h=i-5*a.descr.textLines}d+=kt.c4ShapePadding,a.width=Math.max(a.width||kt.width,d,kt.width),a.height=Math.max(a.height||kt.height,h,kt.height),a.margin=a.margin||kt.c4ShapeMargin,t.insert(a),St.drawC4Shape(e,a,kt)}t.bumpLastMargin(kt.c4ShapeMargin)},"drawC4ShapeArray"),Mt=class{static{n(this,"Point")}constructor(t,e){this.x=t,this.y=e}},It=n(function(t,e){let n=t.x,a=t.y,i=e.x,s=e.y,r=n+t.width/2,l=a+t.height/2,o=Math.abs(n-i),c=Math.abs(a-s),h=c/o,d=t.height/t.width,u=null;return a==s&&n<i?u=new Mt(n+t.width,l):a==s&&n>i?u=new Mt(n,l):n==i&&a<s?u=new Mt(r,a+t.height):n==i&&a>s&&(u=new Mt(r,a)),n>i&&a<s?u=d>=h?new Mt(n,l+h*t.width/2):new Mt(r-o/c*t.height/2,a+t.height):n<i&&a<s?u=d>=h?new Mt(n+t.width,l+h*t.width/2):new Mt(r+o/c*t.height/2,a+t.height):n<i&&a>s?u=d>=h?new Mt(n+t.width,l-h*t.width/2):new Mt(r+t.height/2*o/c,a):n>i&&a>s&&(u=d>=h?new Mt(n,l-t.width/2*h):new Mt(r-t.height/2*o/c,a)),u},"getIntersectPoint"),Lt=n(function(t,e){let n={x:0,y:0};n.x=e.x+e.width/2,n.y=e.y+e.height/2;let a=It(t,n);return n.x=t.x+t.width/2,n.y=t.y+t.height/2,{startPoint:a,endPoint:It(e,n)}},"getIntersectPoints"),Yt=n(function(t,e,n,a){let i=0;for(let s of e){i+=1;let t=s.wrap&&kt.wrap,e=Nt(kt);"C4Dynamic"===a.db.getC4Type()&&(s.label.text=i+": "+s.label.text);let r=p(s.label.text,e);Pt("label",s,t,e,r),s.techn&&""!==s.techn.text&&(r=p(s.techn.text,e),Pt("techn",s,t,e,r)),s.descr&&""!==s.descr.text&&(r=p(s.descr.text,e),Pt("descr",s,t,e,r));let l=n(s.from),o=n(s.to),c=Lt(l,o);s.startPoint=c.startPoint,s.endPoint=c.endPoint}St.drawRels(t,e,kt)},"drawRels");function Ut(t,e,n,a,i){let s=new Tt(i);s.data.widthLimit=n.data.widthLimit/Math.min(Ot,a.length);for(let[r,l]of a.entries()){let a=0;l.image={width:0,height:0,Y:0},l.sprite&&(l.image.width=48,l.image.height=48,l.image.Y=a,a=l.image.Y+l.image.height);let o=l.wrap&&kt.wrap,c=Dt(kt);if(c.fontSize=c.fontSize+2,c.fontWeight="bold",Pt("label",l,o,c,s.data.widthLimit),l.label.Y=a+8,a=l.label.Y+l.label.height,l.type&&""!==l.type.text){l.type.text="["+l.type.text+"]",Pt("type",l,o,Dt(kt),s.data.widthLimit),l.type.Y=a+5,a=l.type.Y+l.type.height}if(l.descr&&""!==l.descr.text){let t=Dt(kt);t.fontSize=t.fontSize-2,Pt("descr",l,o,t,s.data.widthLimit),l.descr.Y=a+20,a=l.descr.Y+l.descr.height}if(0==r||r%Ot===0){let t=n.data.startx+kt.diagramMarginX,e=n.data.stopy+kt.diagramMarginY+a;s.setData(t,t,e,e)}else{let t=s.data.stopx!==s.data.startx?s.data.stopx+kt.diagramMarginX:s.data.startx,e=s.data.starty;s.setData(t,t,e,e)}s.name=l.alias;let h=i.db.getC4ShapeArray(l.alias),d=i.db.getC4ShapeKeys(l.alias);d.length>0&&jt(s,t,h,d),e=l.alias;let u=i.db.getBoundaries(e);u.length>0&&Ut(t,e,s,u,i),"global"!==l.alias&&Bt(t,l,s),n.data.stopy=Math.max(s.data.stopy+kt.c4ShapeMargin,n.data.stopy),n.data.stopx=Math.max(s.data.stopx+kt.c4ShapeMargin,n.data.stopx),At=Math.max(At,n.data.stopx),Ct=Math.max(Ct,n.data.stopy)}}n(Ut,"drawInsideBoundary");var Ft={drawPersonOrSystemArray:jt,drawBoundary:Bt,setConf:vt,draw:n(function(t,e,n,a){kt=l().c4;const i=l().securityLevel;let s;"sandbox"===i&&(s=o("#i"+e));const r=o("sandbox"===i?s.nodes()[0].contentDocument.body:"body");let c=a.db;a.db.setWrap(kt.wrap),wt=c.getC4ShapeInRow(),Ot=c.getC4BoundaryInRow(),h.debug(`C:${JSON.stringify(kt,null,2)}`);const u="sandbox"===i?r.select(`[id="${e}"]`):o(`[id="${e}"]`);St.insertComputerIcon(u),St.insertDatabaseIcon(u),St.insertClockIcon(u);let p=new Tt(a);p.setData(kt.diagramMarginX,kt.diagramMarginX,kt.diagramMarginY,kt.diagramMarginY),p.data.widthLimit=screen.availWidth,At=kt.diagramMarginX,Ct=kt.diagramMarginY;const y=a.db.getTitle();Ut(u,"",p,a.db.getBoundaries(""),a),St.insertArrowHead(u),St.insertArrowEnd(u),St.insertArrowCrossHead(u),St.insertArrowFilledHead(u),Yt(u,a.db.getRels(),a.db.getC4Shape,a),p.data.stopx=At,p.data.stopy=Ct;const f=p.data;let g=f.stopy-f.starty+2*kt.diagramMarginY;const b=f.stopx-f.startx+2*kt.diagramMarginX;y&&u.append("text").text(y).attr("x",(f.stopx-f.startx)/2-4*kt.diagramMarginX).attr("y",f.starty+kt.diagramMarginY),d(u,g,b,kt.useMaxWidth);const _=y?60:0;u.attr("viewBox",f.startx-kt.diagramMarginX+" -"+(kt.diagramMarginY+_)+" "+b+" "+(g+_)),h.debug("models:",f)},"draw")},Xt={parser:E,db:rt,renderer:Ft,styles:n(t=>`.person {\n    stroke: ${t.personBorder};\n    fill: ${t.personBkg};\n  }\n`,"getStyles"),init:n(({c4:t,wrap:e})=>{Ft.setConf(t),rt.setWrap(e)},"init")};export{Xt as diagram};

import{_ as t,U as a,j as r}from"./index.js";var s=t((t,a)=>{const r=t.append("rect");if(r.attr("x",a.x),r.attr("y",a.y),r.attr("fill",a.fill),r.attr("stroke",a.stroke),r.attr("width",a.width),r.attr("height",a.height),a.name&&r.attr("name",a.name),a.rx&&r.attr("rx",a.rx),a.ry&&r.attr("ry",a.ry),void 0!==a.attrs)for(const s in a.attrs)r.attr(s,a.attrs[s]);return a.class&&r.attr("class",a.class),r},"drawRect"),e=t((t,a)=>{const r={x:a.startx,y:a.starty,width:a.stopx-a.startx,height:a.stopy-a.starty,fill:a.fill,stroke:a.stroke,class:"rect"};s(t,r).lower()},"drawBackgroundRect"),n=t((t,r)=>{const s=r.text.replace(a," "),e=t.append("text");e.attr("x",r.x),e.attr("y",r.y),e.attr("class","legend"),e.style("text-anchor",r.anchor),r.class&&e.attr("class",r.class);const n=e.append("tspan");return n.attr("x",r.x+2*r.textMargin),n.text(s),e},"drawText"),x=t((t,a,s,e)=>{const n=t.append("image");n.attr("x",a),n.attr("y",s);const x=r.sanitizeUrl(e);n.attr("xlink:href",x)},"drawImage"),c=t((t,a,s,e)=>{const n=t.append("use");n.attr("x",a),n.attr("y",s);const x=r.sanitizeUrl(e);n.attr("xlink:href",`#${x}`)},"drawEmbeddedImage"),i=t(()=>({x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}),"getNoteRect"),o=t(()=>({x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}),"getTextObj");export{e as a,o as b,c,s as d,x as e,n as f,i as g};

import{g as t}from"./chunk-GLLZNHP4.js";import{_ as e,n as s,l as i,c as n,d as r,o as a,r as u,u as o,b as c,s as l,p as h,a as d,g as p,q as g,k as A,t as b,J as y,v as k,x as f,y as m,z as E,A as C}from"./index.js";import{g as D}from"./chunk-WVR4S24B.js";import{s as x}from"./chunk-NRVI72HA.js";import{c as T}from"./channel.js";var S=class{constructor(){this.vertexCounter=0,this.config=n(),this.vertices=new Map,this.edges=[],this.classes=new Map,this.subGraphs=[],this.subGraphLookup=new Map,this.tooltips=new Map,this.subCount=0,this.firstGraphFlag=!0,this.secCount=-1,this.posCrossRef=[],this.funs=[],this.setAccTitle=c,this.setAccDescription=l,this.setDiagramTitle=h,this.getAccTitle=d,this.getAccDescription=p,this.getDiagramTitle=g,this.funs.push(this.setupToolTips.bind(this)),this.addVertex=this.addVertex.bind(this),this.firstGraph=this.firstGraph.bind(this),this.setDirection=this.setDirection.bind(this),this.addSubGraph=this.addSubGraph.bind(this),this.addLink=this.addLink.bind(this),this.setLink=this.setLink.bind(this),this.updateLink=this.updateLink.bind(this),this.addClass=this.addClass.bind(this),this.setClass=this.setClass.bind(this),this.destructLink=this.destructLink.bind(this),this.setClickEvent=this.setClickEvent.bind(this),this.setTooltip=this.setTooltip.bind(this),this.updateLinkInterpolate=this.updateLinkInterpolate.bind(this),this.setClickFun=this.setClickFun.bind(this),this.bindFunctions=this.bindFunctions.bind(this),this.lex={firstGraph:this.firstGraph.bind(this)},this.clear(),this.setGen("gen-2")}static{e(this,"FlowDB")}sanitizeText(t){return A.sanitizeText(t,this.config)}lookUpDomId(t){for(const e of this.vertices.values())if(e.id===t)return e.domId;return t}addVertex(t,e,s,i,r,a,u={},o){if(!t||0===t.trim().length)return;let c;if(void 0!==o){let t;t=o.includes("\n")?o+"\n":"{\n"+o+"\n}",c=b(t,{schema:y})}const l=this.edges.find(e=>e.id===t);if(l){const t=c;return void 0!==t?.animate&&(l.animate=t.animate),void 0!==t?.animation&&(l.animation=t.animation),void(void 0!==t?.curve&&(l.interpolate=t.curve))}let h,d=this.vertices.get(t);if(void 0===d&&(d={id:t,labelType:"text",domId:"flowchart-"+t+"-"+this.vertexCounter,styles:[],classes:[]},this.vertices.set(t,d)),this.vertexCounter++,void 0!==e?(this.config=n(),h=this.sanitizeText(e.text.trim()),d.labelType=e.type,h.startsWith('"')&&h.endsWith('"')&&(h=h.substring(1,h.length-1)),d.text=h):void 0===d.text&&(d.text=t),void 0!==s&&(d.type=s),null!=i&&i.forEach(t=>{d.styles.push(t)}),null!=r&&r.forEach(t=>{d.classes.push(t)}),void 0!==a&&(d.dir=a),void 0===d.props?d.props=u:void 0!==u&&Object.assign(d.props,u),void 0!==c){if(c.shape){if(c.shape!==c.shape.toLowerCase()||c.shape.includes("_"))throw new Error(`No such shape: ${c.shape}. Shape names should be lowercase.`);if(!k(c.shape))throw new Error(`No such shape: ${c.shape}.`);d.type=c?.shape}c?.label&&(d.text=c?.label),c?.icon&&(d.icon=c?.icon,c.label?.trim()||d.text!==t||(d.text="")),c?.form&&(d.form=c?.form),c?.pos&&(d.pos=c?.pos),c?.img&&(d.img=c?.img,c.label?.trim()||d.text!==t||(d.text="")),c?.constraint&&(d.constraint=c.constraint),c.w&&(d.assetWidth=Number(c.w)),c.h&&(d.assetHeight=Number(c.h))}}addSingleLink(t,e,s,n){const r={start:t,end:e,type:void 0,text:"",labelType:"text",classes:[],isUserDefinedId:!1,interpolate:this.edges.defaultInterpolate};i.info("abc78 Got edge...",r);const a=s.text;if(void 0!==a&&(r.text=this.sanitizeText(a.text.trim()),r.text.startsWith('"')&&r.text.endsWith('"')&&(r.text=r.text.substring(1,r.text.length-1)),r.labelType=a.type),void 0!==s&&(r.type=s.type,r.stroke=s.stroke,r.length=s.length>10?10:s.length),n&&!this.edges.some(t=>t.id===n))r.id=n,r.isUserDefinedId=!0;else{const t=this.edges.filter(t=>t.start===r.start&&t.end===r.end);0===t.length?r.id=f(r.start,r.end,{counter:0,prefix:"L"}):r.id=f(r.start,r.end,{counter:t.length+1,prefix:"L"})}if(!(this.edges.length<(this.config.maxEdges??500)))throw new Error(`Edge limit exceeded. ${this.edges.length} edges found, but the limit is ${this.config.maxEdges}.\n\nInitialize mermaid with maxEdges set to a higher number to allow more edges.\nYou cannot set this config via configuration inside the diagram as it is a secure config.\nYou have to call mermaid.initialize.`);i.info("Pushing edge..."),this.edges.push(r)}isLinkData(t){return null!==t&&"object"==typeof t&&"id"in t&&"string"==typeof t.id}addLink(t,e,s){const n=this.isLinkData(s)?s.id.replace("@",""):void 0;i.info("addLink",t,e,n);for(const i of t)for(const r of e){const a=i===t[t.length-1],u=r===e[0];a&&u?this.addSingleLink(i,r,s,n):this.addSingleLink(i,r,s,void 0)}}updateLinkInterpolate(t,e){t.forEach(t=>{"default"===t?this.edges.defaultInterpolate=e:this.edges[t].interpolate=e})}updateLink(t,e){t.forEach(t=>{if("number"==typeof t&&t>=this.edges.length)throw new Error(`The index ${t} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${this.edges.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);"default"===t?this.edges.defaultStyle=e:(this.edges[t].style=e,(this.edges[t]?.style?.length??0)>0&&!this.edges[t]?.style?.some(t=>t?.startsWith("fill"))&&this.edges[t]?.style?.push("fill:none"))})}addClass(t,e){const s=e.join().replace(/\\,/g,"§§§").replace(/,/g,";").replace(/§§§/g,",").split(";");t.split(",").forEach(t=>{let e=this.classes.get(t);void 0===e&&(e={id:t,styles:[],textStyles:[]},this.classes.set(t,e)),null!=s&&s.forEach(t=>{if(/color/.exec(t)){const s=t.replace("fill","bgFill");e.textStyles.push(s)}e.styles.push(t)})})}setDirection(t){this.direction=t.trim(),/.*</.exec(this.direction)&&(this.direction="RL"),/.*\^/.exec(this.direction)&&(this.direction="BT"),/.*>/.exec(this.direction)&&(this.direction="LR"),/.*v/.exec(this.direction)&&(this.direction="TB"),"TD"===this.direction&&(this.direction="TB")}setClass(t,e){for(const s of t.split(",")){const t=this.vertices.get(s);t&&t.classes.push(e);const i=this.edges.find(t=>t.id===s);i&&i.classes.push(e);const n=this.subGraphLookup.get(s);n&&n.classes.push(e)}}setTooltip(t,e){if(void 0!==e){e=this.sanitizeText(e);for(const s of t.split(","))this.tooltips.set("gen-1"===this.version?this.lookUpDomId(s):s,e)}}setClickFun(t,e,s){const i=this.lookUpDomId(t);if("loose"!==n().securityLevel)return;if(void 0===e)return;let r=[];if("string"==typeof s){r=s.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let t=0;t<r.length;t++){let e=r[t].trim();e.startsWith('"')&&e.endsWith('"')&&(e=e.substr(1,e.length-2)),r[t]=e}}0===r.length&&r.push(t);const a=this.vertices.get(t);a&&(a.haveCallback=!0,this.funs.push(()=>{const t=document.querySelector(`[id="${i}"]`);null!==t&&t.addEventListener("click",()=>{o.runFunc(e,...r)},!1)}))}setLink(t,e,s){t.split(",").forEach(t=>{const i=this.vertices.get(t);void 0!==i&&(i.link=o.formatUrl(e,this.config),i.linkTarget=s)}),this.setClass(t,"clickable")}getTooltip(t){return this.tooltips.get(t)}setClickEvent(t,e,s){t.split(",").forEach(t=>{this.setClickFun(t,e,s)}),this.setClass(t,"clickable")}bindFunctions(t){this.funs.forEach(e=>{e(t)})}getDirection(){return this.direction?.trim()}getVertices(){return this.vertices}getEdges(){return this.edges}getClasses(){return this.classes}setupToolTips(t){let e=r(".mermaidTooltip");null===(e._groups||e)[0][0]&&(e=r("body").append("div").attr("class","mermaidTooltip").style("opacity",0));r(t).select("svg").selectAll("g.node").on("mouseover",t=>{const s=r(t.currentTarget);if(null===s.attr("title"))return;const i=t.currentTarget?.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(s.attr("title")).style("left",window.scrollX+i.left+(i.right-i.left)/2+"px").style("top",window.scrollY+i.bottom+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),s.classed("hover",!0)}).on("mouseout",t=>{e.transition().duration(500).style("opacity",0);r(t.currentTarget).classed("hover",!1)})}clear(t="gen-2"){this.vertices=new Map,this.classes=new Map,this.edges=[],this.funs=[this.setupToolTips.bind(this)],this.subGraphs=[],this.subGraphLookup=new Map,this.subCount=0,this.tooltips=new Map,this.firstGraphFlag=!0,this.version=t,this.config=n(),m()}setGen(t){this.version=t||"gen-2"}defaultStyle(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"}addSubGraph(t,s,r){let a=t.text.trim(),u=r.text;t===r&&/\s/.exec(r.text)&&(a=void 0);const o=e(t=>{const e={boolean:{},number:{},string:{}},s=[];let i;return{nodeList:t.filter(function(t){const n=typeof t;return t.stmt&&"dir"===t.stmt?(i=t.value,!1):""!==t.trim()&&(n in e?!e[n].hasOwnProperty(t)&&(e[n][t]=!0):!s.includes(t)&&s.push(t))}),dir:i}},"uniq")(s.flat()),c=o.nodeList;let l=o.dir;const h=n().flowchart??{};if(l=l??(h.inheritDir?this.getDirection()??n().direction??void 0:void 0),"gen-1"===this.version)for(let e=0;e<c.length;e++)c[e]=this.lookUpDomId(c[e]);a=a??"subGraph"+this.subCount,u=u||"",u=this.sanitizeText(u),this.subCount=this.subCount+1;const d={id:a,nodes:c,title:u.trim(),classes:[],dir:l,labelType:r.type};return i.info("Adding",d.id,d.nodes,d.dir),d.nodes=this.makeUniq(d,this.subGraphs).nodes,this.subGraphs.push(d),this.subGraphLookup.set(a,d),a}getPosForId(t){for(const[e,s]of this.subGraphs.entries())if(s.id===t)return e;return-1}indexNodes2(t,e){const s=this.subGraphs[e].nodes;if(this.secCount=this.secCount+1,this.secCount>2e3)return{result:!1,count:0};if(this.posCrossRef[this.secCount]=e,this.subGraphs[e].id===t)return{result:!0,count:0};let i=0,n=1;for(;i<s.length;){const e=this.getPosForId(s[i]);if(e>=0){const s=this.indexNodes2(t,e);if(s.result)return{result:!0,count:n+s.count};n+=s.count}i+=1}return{result:!1,count:n}}getDepthFirstPos(t){return this.posCrossRef[t]}indexNodes(){this.secCount=-1,this.subGraphs.length>0&&this.indexNodes2("none",this.subGraphs.length-1)}getSubGraphs(){return this.subGraphs}firstGraph(){return!!this.firstGraphFlag&&(this.firstGraphFlag=!1,!0)}destructStartLink(t){let e=t.trim(),s="arrow_open";switch(e[0]){case"<":s="arrow_point",e=e.slice(1);break;case"x":s="arrow_cross",e=e.slice(1);break;case"o":s="arrow_circle",e=e.slice(1)}let i="normal";return e.includes("=")&&(i="thick"),e.includes(".")&&(i="dotted"),{type:s,stroke:i}}countChar(t,e){const s=e.length;let i=0;for(let n=0;n<s;++n)e[n]===t&&++i;return i}destructEndLink(t){const e=t.trim();let s=e.slice(0,-1),i="arrow_open";switch(e.slice(-1)){case"x":i="arrow_cross",e.startsWith("x")&&(i="double_"+i,s=s.slice(1));break;case">":i="arrow_point",e.startsWith("<")&&(i="double_"+i,s=s.slice(1));break;case"o":i="arrow_circle",e.startsWith("o")&&(i="double_"+i,s=s.slice(1))}let n="normal",r=s.length-1;s.startsWith("=")&&(n="thick"),s.startsWith("~")&&(n="invisible");const a=this.countChar(".",s);return a&&(n="dotted",r=a),{type:i,stroke:n,length:r}}destructLink(t,e){const s=this.destructEndLink(t);let i;if(e){if(i=this.destructStartLink(e),i.stroke!==s.stroke)return{type:"INVALID",stroke:"INVALID"};if("arrow_open"===i.type)i.type=s.type;else{if(i.type!==s.type)return{type:"INVALID",stroke:"INVALID"};i.type="double_"+i.type}return"double_arrow"===i.type&&(i.type="double_arrow_point"),i.length=s.length,i}return s}exists(t,e){for(const s of t)if(s.nodes.includes(e))return!0;return!1}makeUniq(t,e){const s=[];return t.nodes.forEach((i,n)=>{this.exists(e,i)||s.push(t.nodes[n])}),{nodes:s}}getTypeFromVertex(t){if(t.img)return"imageSquare";if(t.icon)return"circle"===t.form?"iconCircle":"square"===t.form?"iconSquare":"rounded"===t.form?"iconRounded":"icon";switch(t.type){case"square":case void 0:return"squareRect";case"round":return"roundedRect";case"ellipse":return"ellipse";default:return t.type}}findNode(t,e){return t.find(t=>t.id===e)}destructEdgeType(t){let e="none",s="arrow_point";switch(t){case"arrow_point":case"arrow_circle":case"arrow_cross":s=t;break;case"double_arrow_point":case"double_arrow_circle":case"double_arrow_cross":e=t.replace("double_",""),s=e}return{arrowTypeStart:e,arrowTypeEnd:s}}addNodeFromVertex(t,e,s,i,n,r){const a=s.get(t.id),u=i.get(t.id)??!1,o=this.findNode(e,t.id);if(o)o.cssStyles=t.styles,o.cssCompiledStyles=this.getCompiledStyles(t.classes),o.cssClasses=t.classes.join(" ");else{const s={id:t.id,label:t.text,labelStyle:"",parentId:a,padding:n.flowchart?.padding||8,cssStyles:t.styles,cssCompiledStyles:this.getCompiledStyles(["default","node",...t.classes]),cssClasses:"default "+t.classes.join(" "),dir:t.dir,domId:t.domId,look:r,link:t.link,linkTarget:t.linkTarget,tooltip:this.getTooltip(t.id),icon:t.icon,pos:t.pos,img:t.img,assetWidth:t.assetWidth,assetHeight:t.assetHeight,constraint:t.constraint};u?e.push({...s,isGroup:!0,shape:"rect"}):e.push({...s,isGroup:!1,shape:this.getTypeFromVertex(t)})}}getCompiledStyles(t){let e=[];for(const s of t){const t=this.classes.get(s);t?.styles&&(e=[...e,...t.styles??[]].map(t=>t.trim())),t?.textStyles&&(e=[...e,...t.textStyles??[]].map(t=>t.trim()))}return e}getData(){const t=n(),e=[],s=[],i=this.getSubGraphs(),r=new Map,a=new Map;for(let n=i.length-1;n>=0;n--){const t=i[n];t.nodes.length>0&&a.set(t.id,!0);for(const e of t.nodes)r.set(e,t.id)}for(let n=i.length-1;n>=0;n--){const s=i[n];e.push({id:s.id,label:s.title,labelStyle:"",parentId:r.get(s.id),padding:8,cssCompiledStyles:this.getCompiledStyles(s.classes),cssClasses:s.classes.join(" "),shape:"rect",dir:s.dir,isGroup:!0,look:t.look})}this.getVertices().forEach(s=>{this.addNodeFromVertex(s,e,r,a,t,t.look||"classic")});const u=this.getEdges();return u.forEach((e,i)=>{const{arrowTypeStart:n,arrowTypeEnd:r}=this.destructEdgeType(e.type),a=[...u.defaultStyle??[]];e.style&&a.push(...e.style);const o={id:f(e.start,e.end,{counter:i,prefix:"L"},e.id),isUserDefinedId:e.isUserDefinedId,start:e.start,end:e.end,type:e.type??"normal",label:e.text,labelpos:"c",thickness:e.stroke,minlen:e.length,classes:"invisible"===e?.stroke?"":"edge-thickness-normal edge-pattern-solid flowchart-link",arrowTypeStart:"invisible"===e?.stroke||"arrow_open"===e?.type?"none":n,arrowTypeEnd:"invisible"===e?.stroke||"arrow_open"===e?.type?"none":r,arrowheadStyle:"fill: #333",cssCompiledStyles:this.getCompiledStyles(e.classes),labelStyle:a,style:a,pattern:e.stroke,look:t.look,animate:e.animate,animation:e.animation,curve:e.interpolate||this.edges.defaultInterpolate||t.flowchart?.curve};s.push(o)}),{nodes:e,edges:s,other:{},config:t}}defaultConfig(){return E.flowchart}},F={getClasses:e(function(t,e){return e.db.getClasses()},"getClasses"),draw:e(async function(t,e,s,c){i.info("REF0:"),i.info("Drawing state diagram (v2)",e);const{securityLevel:l,flowchart:h,layout:d}=n();let p;"sandbox"===l&&(p=r("#i"+e));const g="sandbox"===l?p.nodes()[0].contentDocument:document;i.debug("Before getData: ");const A=c.db.getData();i.debug("Data: ",A);const b=D(e,l),y=c.db.getDirection();A.type=c.type,A.layoutAlgorithm=a(d),"dagre"===A.layoutAlgorithm&&"elk"===d&&i.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback."),A.direction=y,A.nodeSpacing=h?.nodeSpacing||50,A.rankSpacing=h?.rankSpacing||50,A.markers=["point","circle","cross"],A.diagramId=e,i.debug("REF1:",A),await u(A,b);const k=A.config.flowchart?.diagramPadding??8;o.insertTitle(b,"flowchartTitleText",h?.titleTopMargin||0,c.db.getDiagramTitle()),x(b,k,"flowchart",h?.useMaxWidth||!1);for(const i of A.nodes){const t=r(`#${e} [id="${i.id}"]`);if(!t||!i.link)continue;const s=g.createElementNS("http://www.w3.org/2000/svg","a");s.setAttributeNS("http://www.w3.org/2000/svg","class",i.cssClasses),s.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),"sandbox"===l?s.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):i.linkTarget&&s.setAttributeNS("http://www.w3.org/2000/svg","target",i.linkTarget);const n=t.insert(function(){return s},":first-child"),a=t.select(".label-container");a&&n.append(function(){return a.node()});const u=t.select(".label");u&&n.append(function(){return u.node()})}},"draw")},_=function(){var t=e(function(t,e,s,i){for(s=s||{},i=t.length;i--;s[t[i]]=e);return s},"o"),s=[1,4],i=[1,3],n=[1,5],r=[1,8,9,10,11,27,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],a=[2,2],u=[1,13],o=[1,14],c=[1,15],l=[1,16],h=[1,23],d=[1,25],p=[1,26],g=[1,27],A=[1,49],b=[1,48],y=[1,29],k=[1,30],f=[1,31],m=[1,32],E=[1,33],C=[1,44],D=[1,46],x=[1,42],T=[1,47],S=[1,43],F=[1,50],_=[1,45],B=[1,51],v=[1,52],w=[1,34],L=[1,35],$=[1,36],I=[1,37],N=[1,57],R=[1,8,9,10,11,27,32,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],P=[1,61],G=[1,60],O=[1,62],M=[8,9,11,75,77,78],U=[1,78],V=[1,91],W=[1,96],j=[1,95],z=[1,92],K=[1,88],H=[1,94],Y=[1,90],q=[1,97],X=[1,93],Q=[1,98],Z=[1,89],J=[8,9,10,11,40,75,77,78],tt=[8,9,10,11,40,46,75,77,78],et=[8,9,10,11,29,40,44,46,48,50,52,54,56,58,60,63,65,67,68,70,75,77,78,89,102,105,106,109,111,114,115,116],st=[8,9,11,44,60,75,77,78,89,102,105,106,109,111,114,115,116],it=[44,60,89,102,105,106,109,111,114,115,116],nt=[1,121],rt=[1,122],at=[1,124],ut=[1,123],ot=[44,60,62,74,89,102,105,106,109,111,114,115,116],ct=[1,133],lt=[1,147],ht=[1,148],dt=[1,149],pt=[1,150],gt=[1,135],At=[1,137],bt=[1,141],yt=[1,142],kt=[1,143],ft=[1,144],mt=[1,145],Et=[1,146],Ct=[1,151],Dt=[1,152],xt=[1,131],Tt=[1,132],St=[1,139],Ft=[1,134],_t=[1,138],Bt=[1,136],vt=[8,9,10,11,27,32,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],wt=[1,154],Lt=[1,156],$t=[8,9,11],It=[8,9,10,11,14,44,60,89,105,106,109,111,114,115,116],Nt=[1,176],Rt=[1,172],Pt=[1,173],Gt=[1,177],Ot=[1,174],Mt=[1,175],Ut=[77,116,119],Vt=[8,9,10,11,12,14,27,29,32,44,60,75,84,85,86,87,88,89,90,105,109,111,114,115,116],Wt=[10,106],jt=[31,49,51,53,55,57,62,64,66,67,69,71,116,117,118],zt=[1,247],Kt=[1,245],Ht=[1,249],Yt=[1,243],qt=[1,244],Xt=[1,246],Qt=[1,248],Zt=[1,250],Jt=[1,268],te=[8,9,11,106],ee=[8,9,10,11,60,84,105,106,109,110,111,112],se={trace:e(function(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,shapeData:39,SHAPE_DATA:40,link:41,node:42,styledVertex:43,AMP:44,vertex:45,STYLE_SEPARATOR:46,idString:47,DOUBLECIRCLESTART:48,DOUBLECIRCLEEND:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,"NODE_STRING[field]":59,COLON:60,"NODE_STRING[value]":61,PIPE:62,CYLINDERSTART:63,CYLINDEREND:64,DIAMOND_START:65,DIAMOND_STOP:66,TAGEND:67,TRAPSTART:68,TRAPEND:69,INVTRAPSTART:70,INVTRAPEND:71,linkStatement:72,arrowText:73,TESTSTR:74,START_LINK:75,edgeText:76,LINK:77,LINK_ID:78,edgeTextToken:79,STR:80,MD_STR:81,textToken:82,keywords:83,STYLE:84,LINKSTYLE:85,CLASSDEF:86,CLASS:87,CLICK:88,DOWN:89,UP:90,textNoTagsToken:91,stylesOpt:92,"idString[vertex]":93,"idString[class]":94,CALLBACKNAME:95,CALLBACKARGS:96,HREF:97,LINK_TARGET:98,"STR[link]":99,"STR[tooltip]":100,alphaNum:101,DEFAULT:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,NODE_STRING:109,UNIT:110,BRKT:111,PCT:112,idStringToken:113,MINUS:114,MULT:115,UNICODE_TEXT:116,TEXT:117,TAGSTART:118,EDGE_TEXT:119,alphaNumToken:120,direction_tb:121,direction_bt:122,direction_rl:123,direction_lr:124,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",40:"SHAPE_DATA",44:"AMP",46:"STYLE_SEPARATOR",48:"DOUBLECIRCLESTART",49:"DOUBLECIRCLEEND",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"NODE_STRING[field]",60:"COLON",61:"NODE_STRING[value]",62:"PIPE",63:"CYLINDERSTART",64:"CYLINDEREND",65:"DIAMOND_START",66:"DIAMOND_STOP",67:"TAGEND",68:"TRAPSTART",69:"TRAPEND",70:"INVTRAPSTART",71:"INVTRAPEND",74:"TESTSTR",75:"START_LINK",77:"LINK",78:"LINK_ID",80:"STR",81:"MD_STR",84:"STYLE",85:"LINKSTYLE",86:"CLASSDEF",87:"CLASS",88:"CLICK",89:"DOWN",90:"UP",93:"idString[vertex]",94:"idString[class]",95:"CALLBACKNAME",96:"CALLBACKARGS",97:"HREF",98:"LINK_TARGET",99:"STR[link]",100:"STR[tooltip]",102:"DEFAULT",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"NODE_STRING",110:"UNIT",111:"BRKT",112:"PCT",114:"MINUS",115:"MULT",116:"UNICODE_TEXT",117:"TEXT",118:"TAGSTART",119:"EDGE_TEXT",121:"direction_tb",122:"direction_bt",123:"direction_rl",124:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[39,2],[39,1],[20,4],[20,3],[20,4],[20,2],[20,2],[20,1],[42,1],[42,6],[42,5],[43,1],[43,3],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,8],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[41,2],[41,3],[41,3],[41,1],[41,3],[41,4],[76,1],[76,2],[76,1],[76,1],[72,1],[72,2],[73,3],[30,1],[30,2],[30,1],[30,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[103,1],[103,3],[92,1],[92,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[82,1],[82,1],[82,1],[82,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[79,1],[79,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[47,1],[47,2],[101,1],[101,2],[33,1],[33,1],[33,1],[33,1]],performAction:e(function(t,e,s,i,n,r,a){var u=r.length-1;switch(n){case 2:case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 3:(!Array.isArray(r[u])||r[u].length>0)&&r[u-1].push(r[u]),this.$=r[u-1];break;case 4:case 183:case 44:case 54:case 76:case 181:this.$=r[u];break;case 11:i.setDirection("TB"),this.$="TB";break;case 12:i.setDirection(r[u-1]),this.$=r[u-1];break;case 27:this.$=r[u-1].nodes;break;case 33:this.$=i.addSubGraph(r[u-6],r[u-1],r[u-4]);break;case 34:this.$=i.addSubGraph(r[u-3],r[u-1],r[u-3]);break;case 35:this.$=i.addSubGraph(void 0,r[u-1],void 0);break;case 37:this.$=r[u].trim(),i.setAccTitle(this.$);break;case 38:case 39:this.$=r[u].trim(),i.setAccDescription(this.$);break;case 43:case 133:this.$=r[u-1]+r[u];break;case 45:i.addVertex(r[u-1][r[u-1].length-1],void 0,void 0,void 0,void 0,void 0,void 0,r[u]),i.addLink(r[u-3].stmt,r[u-1],r[u-2]),this.$={stmt:r[u-1],nodes:r[u-1].concat(r[u-3].nodes)};break;case 46:i.addLink(r[u-2].stmt,r[u],r[u-1]),this.$={stmt:r[u],nodes:r[u].concat(r[u-2].nodes)};break;case 47:i.addLink(r[u-3].stmt,r[u-1],r[u-2]),this.$={stmt:r[u-1],nodes:r[u-1].concat(r[u-3].nodes)};break;case 48:this.$={stmt:r[u-1],nodes:r[u-1]};break;case 49:i.addVertex(r[u-1][r[u-1].length-1],void 0,void 0,void 0,void 0,void 0,void 0,r[u]),this.$={stmt:r[u-1],nodes:r[u-1],shapeData:r[u]};break;case 50:this.$={stmt:r[u],nodes:r[u]};break;case 51:case 128:case 130:this.$=[r[u]];break;case 52:i.addVertex(r[u-5][r[u-5].length-1],void 0,void 0,void 0,void 0,void 0,void 0,r[u-4]),this.$=r[u-5].concat(r[u]);break;case 53:this.$=r[u-4].concat(r[u]);break;case 55:this.$=r[u-2],i.setClass(r[u-2],r[u]);break;case 56:this.$=r[u-3],i.addVertex(r[u-3],r[u-1],"square");break;case 57:this.$=r[u-3],i.addVertex(r[u-3],r[u-1],"doublecircle");break;case 58:this.$=r[u-5],i.addVertex(r[u-5],r[u-2],"circle");break;case 59:this.$=r[u-3],i.addVertex(r[u-3],r[u-1],"ellipse");break;case 60:this.$=r[u-3],i.addVertex(r[u-3],r[u-1],"stadium");break;case 61:this.$=r[u-3],i.addVertex(r[u-3],r[u-1],"subroutine");break;case 62:this.$=r[u-7],i.addVertex(r[u-7],r[u-1],"rect",void 0,void 0,void 0,Object.fromEntries([[r[u-5],r[u-3]]]));break;case 63:this.$=r[u-3],i.addVertex(r[u-3],r[u-1],"cylinder");break;case 64:this.$=r[u-3],i.addVertex(r[u-3],r[u-1],"round");break;case 65:this.$=r[u-3],i.addVertex(r[u-3],r[u-1],"diamond");break;case 66:this.$=r[u-5],i.addVertex(r[u-5],r[u-2],"hexagon");break;case 67:this.$=r[u-3],i.addVertex(r[u-3],r[u-1],"odd");break;case 68:this.$=r[u-3],i.addVertex(r[u-3],r[u-1],"trapezoid");break;case 69:this.$=r[u-3],i.addVertex(r[u-3],r[u-1],"inv_trapezoid");break;case 70:this.$=r[u-3],i.addVertex(r[u-3],r[u-1],"lean_right");break;case 71:this.$=r[u-3],i.addVertex(r[u-3],r[u-1],"lean_left");break;case 72:this.$=r[u],i.addVertex(r[u]);break;case 73:r[u-1].text=r[u],this.$=r[u-1];break;case 74:case 75:r[u-2].text=r[u-1],this.$=r[u-2];break;case 77:var o=i.destructLink(r[u],r[u-2]);this.$={type:o.type,stroke:o.stroke,length:o.length,text:r[u-1]};break;case 78:o=i.destructLink(r[u],r[u-2]);this.$={type:o.type,stroke:o.stroke,length:o.length,text:r[u-1],id:r[u-3]};break;case 79:case 86:case 101:case 103:this.$={text:r[u],type:"text"};break;case 80:case 87:case 102:this.$={text:r[u-1].text+""+r[u],type:r[u-1].type};break;case 81:case 88:this.$={text:r[u],type:"string"};break;case 82:case 89:case 104:this.$={text:r[u],type:"markdown"};break;case 83:o=i.destructLink(r[u]);this.$={type:o.type,stroke:o.stroke,length:o.length};break;case 84:o=i.destructLink(r[u]);this.$={type:o.type,stroke:o.stroke,length:o.length,id:r[u-1]};break;case 85:this.$=r[u-1];break;case 105:this.$=r[u-4],i.addClass(r[u-2],r[u]);break;case 106:this.$=r[u-4],i.setClass(r[u-2],r[u]);break;case 107:case 115:this.$=r[u-1],i.setClickEvent(r[u-1],r[u]);break;case 108:case 116:this.$=r[u-3],i.setClickEvent(r[u-3],r[u-2]),i.setTooltip(r[u-3],r[u]);break;case 109:this.$=r[u-2],i.setClickEvent(r[u-2],r[u-1],r[u]);break;case 110:this.$=r[u-4],i.setClickEvent(r[u-4],r[u-3],r[u-2]),i.setTooltip(r[u-4],r[u]);break;case 111:this.$=r[u-2],i.setLink(r[u-2],r[u]);break;case 112:this.$=r[u-4],i.setLink(r[u-4],r[u-2]),i.setTooltip(r[u-4],r[u]);break;case 113:this.$=r[u-4],i.setLink(r[u-4],r[u-2],r[u]);break;case 114:this.$=r[u-6],i.setLink(r[u-6],r[u-4],r[u]),i.setTooltip(r[u-6],r[u-2]);break;case 117:this.$=r[u-1],i.setLink(r[u-1],r[u]);break;case 118:this.$=r[u-3],i.setLink(r[u-3],r[u-2]),i.setTooltip(r[u-3],r[u]);break;case 119:this.$=r[u-3],i.setLink(r[u-3],r[u-2],r[u]);break;case 120:this.$=r[u-5],i.setLink(r[u-5],r[u-4],r[u]),i.setTooltip(r[u-5],r[u-2]);break;case 121:this.$=r[u-4],i.addVertex(r[u-2],void 0,void 0,r[u]);break;case 122:this.$=r[u-4],i.updateLink([r[u-2]],r[u]);break;case 123:this.$=r[u-4],i.updateLink(r[u-2],r[u]);break;case 124:this.$=r[u-8],i.updateLinkInterpolate([r[u-6]],r[u-2]),i.updateLink([r[u-6]],r[u]);break;case 125:this.$=r[u-8],i.updateLinkInterpolate(r[u-6],r[u-2]),i.updateLink(r[u-6],r[u]);break;case 126:this.$=r[u-6],i.updateLinkInterpolate([r[u-4]],r[u]);break;case 127:this.$=r[u-6],i.updateLinkInterpolate(r[u-4],r[u]);break;case 129:case 131:r[u-2].push(r[u]),this.$=r[u-2];break;case 182:case 184:this.$=r[u-1]+""+r[u];break;case 185:this.$={stmt:"dir",value:"TB"};break;case 186:this.$={stmt:"dir",value:"BT"};break;case 187:this.$={stmt:"dir",value:"RL"};break;case 188:this.$={stmt:"dir",value:"LR"}}},"anonymous"),table:[{3:1,4:2,9:s,10:i,12:n},{1:[3]},t(r,a,{5:6}),{4:7,9:s,10:i,12:n},{4:8,9:s,10:i,12:n},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:u,9:o,10:c,11:l,20:17,22:18,23:19,24:20,25:21,26:22,27:h,33:24,34:d,36:p,38:g,42:28,43:38,44:A,45:39,47:40,60:b,84:y,85:k,86:f,87:m,88:E,89:C,102:D,105:x,106:T,109:S,111:F,113:41,114:_,115:B,116:v,121:w,122:L,123:$,124:I},t(r,[2,9]),t(r,[2,10]),t(r,[2,11]),{8:[1,54],9:[1,55],10:N,15:53,18:56},t(R,[2,3]),t(R,[2,4]),t(R,[2,5]),t(R,[2,6]),t(R,[2,7]),t(R,[2,8]),{8:P,9:G,11:O,21:58,41:59,72:63,75:[1,64],77:[1,66],78:[1,65]},{8:P,9:G,11:O,21:67},{8:P,9:G,11:O,21:68},{8:P,9:G,11:O,21:69},{8:P,9:G,11:O,21:70},{8:P,9:G,11:O,21:71},{8:P,9:G,10:[1,72],11:O,21:73},t(R,[2,36]),{35:[1,74]},{37:[1,75]},t(R,[2,39]),t(M,[2,50],{18:76,39:77,10:N,40:U}),{10:[1,79]},{10:[1,80]},{10:[1,81]},{10:[1,82]},{14:V,44:W,60:j,80:[1,86],89:z,95:[1,83],97:[1,84],101:85,105:K,106:H,109:Y,111:q,114:X,115:Q,116:Z,120:87},t(R,[2,185]),t(R,[2,186]),t(R,[2,187]),t(R,[2,188]),t(J,[2,51]),t(J,[2,54],{46:[1,99]}),t(tt,[2,72],{113:112,29:[1,100],44:A,48:[1,101],50:[1,102],52:[1,103],54:[1,104],56:[1,105],58:[1,106],60:b,63:[1,107],65:[1,108],67:[1,109],68:[1,110],70:[1,111],89:C,102:D,105:x,106:T,109:S,111:F,114:_,115:B,116:v}),t(et,[2,181]),t(et,[2,142]),t(et,[2,143]),t(et,[2,144]),t(et,[2,145]),t(et,[2,146]),t(et,[2,147]),t(et,[2,148]),t(et,[2,149]),t(et,[2,150]),t(et,[2,151]),t(et,[2,152]),t(r,[2,12]),t(r,[2,18]),t(r,[2,19]),{9:[1,113]},t(st,[2,26],{18:114,10:N}),t(R,[2,27]),{42:115,43:38,44:A,45:39,47:40,60:b,89:C,102:D,105:x,106:T,109:S,111:F,113:41,114:_,115:B,116:v},t(R,[2,40]),t(R,[2,41]),t(R,[2,42]),t(it,[2,76],{73:116,62:[1,118],74:[1,117]}),{76:119,79:120,80:nt,81:rt,116:at,119:ut},{75:[1,125],77:[1,126]},t(ot,[2,83]),t(R,[2,28]),t(R,[2,29]),t(R,[2,30]),t(R,[2,31]),t(R,[2,32]),{10:ct,12:lt,14:ht,27:dt,28:127,32:pt,44:gt,60:At,75:bt,80:[1,129],81:[1,130],83:140,84:yt,85:kt,86:ft,87:mt,88:Et,89:Ct,90:Dt,91:128,105:xt,109:Tt,111:St,114:Ft,115:_t,116:Bt},t(vt,a,{5:153}),t(R,[2,37]),t(R,[2,38]),t(M,[2,48],{44:wt}),t(M,[2,49],{18:155,10:N,40:Lt}),t(J,[2,44]),{44:A,47:157,60:b,89:C,102:D,105:x,106:T,109:S,111:F,113:41,114:_,115:B,116:v},{102:[1,158],103:159,105:[1,160]},{44:A,47:161,60:b,89:C,102:D,105:x,106:T,109:S,111:F,113:41,114:_,115:B,116:v},{44:A,47:162,60:b,89:C,102:D,105:x,106:T,109:S,111:F,113:41,114:_,115:B,116:v},t($t,[2,107],{10:[1,163],96:[1,164]}),{80:[1,165]},t($t,[2,115],{120:167,10:[1,166],14:V,44:W,60:j,89:z,105:K,106:H,109:Y,111:q,114:X,115:Q,116:Z}),t($t,[2,117],{10:[1,168]}),t(It,[2,183]),t(It,[2,170]),t(It,[2,171]),t(It,[2,172]),t(It,[2,173]),t(It,[2,174]),t(It,[2,175]),t(It,[2,176]),t(It,[2,177]),t(It,[2,178]),t(It,[2,179]),t(It,[2,180]),{44:A,47:169,60:b,89:C,102:D,105:x,106:T,109:S,111:F,113:41,114:_,115:B,116:v},{30:170,67:Nt,80:Rt,81:Pt,82:171,116:Gt,117:Ot,118:Mt},{30:178,67:Nt,80:Rt,81:Pt,82:171,116:Gt,117:Ot,118:Mt},{30:180,50:[1,179],67:Nt,80:Rt,81:Pt,82:171,116:Gt,117:Ot,118:Mt},{30:181,67:Nt,80:Rt,81:Pt,82:171,116:Gt,117:Ot,118:Mt},{30:182,67:Nt,80:Rt,81:Pt,82:171,116:Gt,117:Ot,118:Mt},{30:183,67:Nt,80:Rt,81:Pt,82:171,116:Gt,117:Ot,118:Mt},{109:[1,184]},{30:185,67:Nt,80:Rt,81:Pt,82:171,116:Gt,117:Ot,118:Mt},{30:186,65:[1,187],67:Nt,80:Rt,81:Pt,82:171,116:Gt,117:Ot,118:Mt},{30:188,67:Nt,80:Rt,81:Pt,82:171,116:Gt,117:Ot,118:Mt},{30:189,67:Nt,80:Rt,81:Pt,82:171,116:Gt,117:Ot,118:Mt},{30:190,67:Nt,80:Rt,81:Pt,82:171,116:Gt,117:Ot,118:Mt},t(et,[2,182]),t(r,[2,20]),t(st,[2,25]),t(M,[2,46],{39:191,18:192,10:N,40:U}),t(it,[2,73],{10:[1,193]}),{10:[1,194]},{30:195,67:Nt,80:Rt,81:Pt,82:171,116:Gt,117:Ot,118:Mt},{77:[1,196],79:197,116:at,119:ut},t(Ut,[2,79]),t(Ut,[2,81]),t(Ut,[2,82]),t(Ut,[2,168]),t(Ut,[2,169]),{76:198,79:120,80:nt,81:rt,116:at,119:ut},t(ot,[2,84]),{8:P,9:G,10:ct,11:O,12:lt,14:ht,21:200,27:dt,29:[1,199],32:pt,44:gt,60:At,75:bt,83:140,84:yt,85:kt,86:ft,87:mt,88:Et,89:Ct,90:Dt,91:201,105:xt,109:Tt,111:St,114:Ft,115:_t,116:Bt},t(Vt,[2,101]),t(Vt,[2,103]),t(Vt,[2,104]),t(Vt,[2,157]),t(Vt,[2,158]),t(Vt,[2,159]),t(Vt,[2,160]),t(Vt,[2,161]),t(Vt,[2,162]),t(Vt,[2,163]),t(Vt,[2,164]),t(Vt,[2,165]),t(Vt,[2,166]),t(Vt,[2,167]),t(Vt,[2,90]),t(Vt,[2,91]),t(Vt,[2,92]),t(Vt,[2,93]),t(Vt,[2,94]),t(Vt,[2,95]),t(Vt,[2,96]),t(Vt,[2,97]),t(Vt,[2,98]),t(Vt,[2,99]),t(Vt,[2,100]),{6:11,7:12,8:u,9:o,10:c,11:l,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,202],33:24,34:d,36:p,38:g,42:28,43:38,44:A,45:39,47:40,60:b,84:y,85:k,86:f,87:m,88:E,89:C,102:D,105:x,106:T,109:S,111:F,113:41,114:_,115:B,116:v,121:w,122:L,123:$,124:I},{10:N,18:203},{44:[1,204]},t(J,[2,43]),{10:[1,205],44:A,60:b,89:C,102:D,105:x,106:T,109:S,111:F,113:112,114:_,115:B,116:v},{10:[1,206]},{10:[1,207],106:[1,208]},t(Wt,[2,128]),{10:[1,209],44:A,60:b,89:C,102:D,105:x,106:T,109:S,111:F,113:112,114:_,115:B,116:v},{10:[1,210],44:A,60:b,89:C,102:D,105:x,106:T,109:S,111:F,113:112,114:_,115:B,116:v},{80:[1,211]},t($t,[2,109],{10:[1,212]}),t($t,[2,111],{10:[1,213]}),{80:[1,214]},t(It,[2,184]),{80:[1,215],98:[1,216]},t(J,[2,55],{113:112,44:A,60:b,89:C,102:D,105:x,106:T,109:S,111:F,114:_,115:B,116:v}),{31:[1,217],67:Nt,82:218,116:Gt,117:Ot,118:Mt},t(jt,[2,86]),t(jt,[2,88]),t(jt,[2,89]),t(jt,[2,153]),t(jt,[2,154]),t(jt,[2,155]),t(jt,[2,156]),{49:[1,219],67:Nt,82:218,116:Gt,117:Ot,118:Mt},{30:220,67:Nt,80:Rt,81:Pt,82:171,116:Gt,117:Ot,118:Mt},{51:[1,221],67:Nt,82:218,116:Gt,117:Ot,118:Mt},{53:[1,222],67:Nt,82:218,116:Gt,117:Ot,118:Mt},{55:[1,223],67:Nt,82:218,116:Gt,117:Ot,118:Mt},{57:[1,224],67:Nt,82:218,116:Gt,117:Ot,118:Mt},{60:[1,225]},{64:[1,226],67:Nt,82:218,116:Gt,117:Ot,118:Mt},{66:[1,227],67:Nt,82:218,116:Gt,117:Ot,118:Mt},{30:228,67:Nt,80:Rt,81:Pt,82:171,116:Gt,117:Ot,118:Mt},{31:[1,229],67:Nt,82:218,116:Gt,117:Ot,118:Mt},{67:Nt,69:[1,230],71:[1,231],82:218,116:Gt,117:Ot,118:Mt},{67:Nt,69:[1,233],71:[1,232],82:218,116:Gt,117:Ot,118:Mt},t(M,[2,45],{18:155,10:N,40:Lt}),t(M,[2,47],{44:wt}),t(it,[2,75]),t(it,[2,74]),{62:[1,234],67:Nt,82:218,116:Gt,117:Ot,118:Mt},t(it,[2,77]),t(Ut,[2,80]),{77:[1,235],79:197,116:at,119:ut},{30:236,67:Nt,80:Rt,81:Pt,82:171,116:Gt,117:Ot,118:Mt},t(vt,a,{5:237}),t(Vt,[2,102]),t(R,[2,35]),{43:238,44:A,45:39,47:40,60:b,89:C,102:D,105:x,106:T,109:S,111:F,113:41,114:_,115:B,116:v},{10:N,18:239},{10:zt,60:Kt,84:Ht,92:240,105:Yt,107:241,108:242,109:qt,110:Xt,111:Qt,112:Zt},{10:zt,60:Kt,84:Ht,92:251,104:[1,252],105:Yt,107:241,108:242,109:qt,110:Xt,111:Qt,112:Zt},{10:zt,60:Kt,84:Ht,92:253,104:[1,254],105:Yt,107:241,108:242,109:qt,110:Xt,111:Qt,112:Zt},{105:[1,255]},{10:zt,60:Kt,84:Ht,92:256,105:Yt,107:241,108:242,109:qt,110:Xt,111:Qt,112:Zt},{44:A,47:257,60:b,89:C,102:D,105:x,106:T,109:S,111:F,113:41,114:_,115:B,116:v},t($t,[2,108]),{80:[1,258]},{80:[1,259],98:[1,260]},t($t,[2,116]),t($t,[2,118],{10:[1,261]}),t($t,[2,119]),t(tt,[2,56]),t(jt,[2,87]),t(tt,[2,57]),{51:[1,262],67:Nt,82:218,116:Gt,117:Ot,118:Mt},t(tt,[2,64]),t(tt,[2,59]),t(tt,[2,60]),t(tt,[2,61]),{109:[1,263]},t(tt,[2,63]),t(tt,[2,65]),{66:[1,264],67:Nt,82:218,116:Gt,117:Ot,118:Mt},t(tt,[2,67]),t(tt,[2,68]),t(tt,[2,70]),t(tt,[2,69]),t(tt,[2,71]),t([10,44,60,89,102,105,106,109,111,114,115,116],[2,85]),t(it,[2,78]),{31:[1,265],67:Nt,82:218,116:Gt,117:Ot,118:Mt},{6:11,7:12,8:u,9:o,10:c,11:l,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,266],33:24,34:d,36:p,38:g,42:28,43:38,44:A,45:39,47:40,60:b,84:y,85:k,86:f,87:m,88:E,89:C,102:D,105:x,106:T,109:S,111:F,113:41,114:_,115:B,116:v,121:w,122:L,123:$,124:I},t(J,[2,53]),{43:267,44:A,45:39,47:40,60:b,89:C,102:D,105:x,106:T,109:S,111:F,113:41,114:_,115:B,116:v},t($t,[2,121],{106:Jt}),t(te,[2,130],{108:269,10:zt,60:Kt,84:Ht,105:Yt,109:qt,110:Xt,111:Qt,112:Zt}),t(ee,[2,132]),t(ee,[2,134]),t(ee,[2,135]),t(ee,[2,136]),t(ee,[2,137]),t(ee,[2,138]),t(ee,[2,139]),t(ee,[2,140]),t(ee,[2,141]),t($t,[2,122],{106:Jt}),{10:[1,270]},t($t,[2,123],{106:Jt}),{10:[1,271]},t(Wt,[2,129]),t($t,[2,105],{106:Jt}),t($t,[2,106],{113:112,44:A,60:b,89:C,102:D,105:x,106:T,109:S,111:F,114:_,115:B,116:v}),t($t,[2,110]),t($t,[2,112],{10:[1,272]}),t($t,[2,113]),{98:[1,273]},{51:[1,274]},{62:[1,275]},{66:[1,276]},{8:P,9:G,11:O,21:277},t(R,[2,34]),t(J,[2,52]),{10:zt,60:Kt,84:Ht,105:Yt,107:278,108:242,109:qt,110:Xt,111:Qt,112:Zt},t(ee,[2,133]),{14:V,44:W,60:j,89:z,101:279,105:K,106:H,109:Y,111:q,114:X,115:Q,116:Z,120:87},{14:V,44:W,60:j,89:z,101:280,105:K,106:H,109:Y,111:q,114:X,115:Q,116:Z,120:87},{98:[1,281]},t($t,[2,120]),t(tt,[2,58]),{30:282,67:Nt,80:Rt,81:Pt,82:171,116:Gt,117:Ot,118:Mt},t(tt,[2,66]),t(vt,a,{5:283}),t(te,[2,131],{108:269,10:zt,60:Kt,84:Ht,105:Yt,109:qt,110:Xt,111:Qt,112:Zt}),t($t,[2,126],{120:167,10:[1,284],14:V,44:W,60:j,89:z,105:K,106:H,109:Y,111:q,114:X,115:Q,116:Z}),t($t,[2,127],{120:167,10:[1,285],14:V,44:W,60:j,89:z,105:K,106:H,109:Y,111:q,114:X,115:Q,116:Z}),t($t,[2,114]),{31:[1,286],67:Nt,82:218,116:Gt,117:Ot,118:Mt},{6:11,7:12,8:u,9:o,10:c,11:l,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,287],33:24,34:d,36:p,38:g,42:28,43:38,44:A,45:39,47:40,60:b,84:y,85:k,86:f,87:m,88:E,89:C,102:D,105:x,106:T,109:S,111:F,113:41,114:_,115:B,116:v,121:w,122:L,123:$,124:I},{10:zt,60:Kt,84:Ht,92:288,105:Yt,107:241,108:242,109:qt,110:Xt,111:Qt,112:Zt},{10:zt,60:Kt,84:Ht,92:289,105:Yt,107:241,108:242,109:qt,110:Xt,111:Qt,112:Zt},t(tt,[2,62]),t(R,[2,33]),t($t,[2,124],{106:Jt}),t($t,[2,125],{106:Jt})],defaultActions:{},parseError:e(function(t,e){if(!e.recoverable){var s=new Error(t);throw s.hash=e,s}this.trace(t)},"parseError"),parse:e(function(t){var s=this,i=[0],n=[],r=[null],a=[],u=this.table,o="",c=0,l=0,h=a.slice.call(arguments,1),d=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);d.setInput(t,p.yy),p.yy.lexer=d,p.yy.parser=this,void 0===d.yylloc&&(d.yylloc={});var A=d.yylloc;a.push(A);var b=d.options&&d.options.ranges;function y(){var t;return"number"!=typeof(t=n.pop()||d.lex()||1)&&(t instanceof Array&&(t=(n=t).pop()),t=s.symbols_[t]||t),t}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,e(function(t){i.length=i.length-2*t,r.length=r.length-t,a.length=a.length-t},"popStack"),e(y,"lex");for(var k,f,m,E,C,D,x,T,S={};;){if(f=i[i.length-1],this.defaultActions[f]?m=this.defaultActions[f]:(null==k&&(k=y()),m=u[f]&&u[f][k]),void 0===m||!m.length||!m[0]){var F="";for(C in T=[],u[f])this.terminals_[C]&&C>2&&T.push("'"+this.terminals_[C]+"'");F=d.showPosition?"Parse error on line "+(c+1)+":\n"+d.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[k]||k)+"'":"Parse error on line "+(c+1)+": Unexpected "+(1==k?"end of input":"'"+(this.terminals_[k]||k)+"'"),this.parseError(F,{text:d.match,token:this.terminals_[k]||k,line:d.yylineno,loc:A,expected:T})}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+k);switch(m[0]){case 1:i.push(k),r.push(d.yytext),a.push(d.yylloc),i.push(m[1]),k=null,l=d.yyleng,o=d.yytext,c=d.yylineno,A=d.yylloc;break;case 2:if(D=this.productions_[m[1]][1],S.$=r[r.length-D],S._$={first_line:a[a.length-(D||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(D||1)].first_column,last_column:a[a.length-1].last_column},b&&(S._$.range=[a[a.length-(D||1)].range[0],a[a.length-1].range[1]]),void 0!==(E=this.performAction.apply(S,[o,l,c,p.yy,m[1],r,a].concat(h))))return E;D&&(i=i.slice(0,-1*D*2),r=r.slice(0,-1*D),a=a.slice(0,-1*D)),i.push(this.productions_[m[1]][0]),r.push(S.$),a.push(S._$),x=u[i[i.length-2]][i[i.length-1]],i.push(x);break;case 3:return!0}}return!0},"parse")},ie=function(){return{EOF:1,parseError:e(function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},"parseError"),setInput:e(function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:e(function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},"input"),unput:e(function(t){var e=t.length,s=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),s.length-1&&(this.yylineno-=s.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:s?(s.length===i.length?this.yylloc.first_column:0)+i[i.length-s.length].length-s[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},"unput"),more:e(function(){return this._more=!0,this},"more"),reject:e(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:e(function(t){this.unput(this.match.slice(t))},"less"),pastInput:e(function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:e(function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:e(function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},"showPosition"),test_match:e(function(t,e){var s,i,n;if(this.options.backtrack_lexer&&(n={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(n.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],s=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),s)return s;if(this._backtrack){for(var r in n)this[r]=n[r];return!1}return!1},"test_match"),next:e(function(){if(this.done)return this.EOF;var t,e,s,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),r=0;r<n.length;r++)if((s=this._input.match(this.rules[n[r]]))&&(!e||s[0].length>e[0].length)){if(e=s,i=r,this.options.backtrack_lexer){if(!1!==(t=this.test_match(s,n[r])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,n[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:e(function(){var t=this.next();return t||this.lex()},"lex"),begin:e(function(t){this.conditionStack.push(t)},"begin"),popState:e(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:e(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:e(function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},"topState"),pushState:e(function(t){this.begin(t)},"pushState"),stateStackSize:e(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:e(function(t,e,s,i){switch(s){case 0:return this.begin("acc_title"),34;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),36;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:case 12:case 14:case 17:case 20:case 23:case 33:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.pushState("shapeData"),e.yytext="",40;case 8:return this.pushState("shapeDataStr"),40;case 9:return this.popState(),40;case 10:const s=/\n\s*/g;return e.yytext=e.yytext.replace(s,"<br/>"),40;case 11:return 40;case 13:this.begin("callbackname");break;case 15:this.popState(),this.begin("callbackargs");break;case 16:return 95;case 18:return 96;case 19:return"MD_STR";case 21:this.begin("md_string");break;case 22:return"STR";case 24:this.pushState("string");break;case 25:return 84;case 26:return 102;case 27:return 85;case 28:return 104;case 29:return 86;case 30:return 87;case 31:return 97;case 32:this.begin("click");break;case 34:return 88;case 35:case 36:case 37:return t.lex.firstGraph()&&this.begin("dir"),12;case 38:return 27;case 39:return 32;case 40:case 41:case 42:case 43:return 98;case 44:return this.popState(),13;case 45:case 46:case 47:case 48:case 49:case 50:case 51:case 52:case 53:case 54:return this.popState(),14;case 55:return 121;case 56:return 122;case 57:return 123;case 58:return 124;case 59:return 78;case 60:return 105;case 61:case 102:return 111;case 62:return 46;case 63:return 60;case 64:case 103:return 44;case 65:return 8;case 66:return 106;case 67:case 101:return 115;case 68:case 71:case 74:return this.popState(),77;case 69:return this.pushState("edgeText"),75;case 70:case 73:case 76:return 119;case 72:return this.pushState("thickEdgeText"),75;case 75:return this.pushState("dottedEdgeText"),75;case 77:return 77;case 78:return this.popState(),53;case 79:case 115:return"TEXT";case 80:return this.pushState("ellipseText"),52;case 81:return this.popState(),55;case 82:return this.pushState("text"),54;case 83:return this.popState(),57;case 84:return this.pushState("text"),56;case 85:return 58;case 86:return this.pushState("text"),67;case 87:return this.popState(),64;case 88:return this.pushState("text"),63;case 89:return this.popState(),49;case 90:return this.pushState("text"),48;case 91:return this.popState(),69;case 92:return this.popState(),71;case 93:return 117;case 94:return this.pushState("trapText"),68;case 95:return this.pushState("trapText"),70;case 96:return 118;case 97:return 67;case 98:return 90;case 99:return"SEP";case 100:return 89;case 104:return 109;case 105:return 114;case 106:return 116;case 107:return this.popState(),62;case 108:return this.pushState("text"),62;case 109:return this.popState(),51;case 110:return this.pushState("text"),50;case 111:return this.popState(),31;case 112:return this.pushState("text"),29;case 113:return this.popState(),66;case 114:return this.pushState("text"),65;case 116:return"QUOTE";case 117:return 9;case 118:return 10;case 119:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:@\{)/,/^(?:["])/,/^(?:["])/,/^(?:[^\"]+)/,/^(?:[^}^"]+)/,/^(?:\})/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[^\s\"]+@(?=[^\{\"]))/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{shapeDataEndBracket:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},shapeDataStr:{rules:[9,10,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},shapeData:{rules:[8,11,12,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},callbackargs:{rules:[17,18,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},callbackname:{rules:[14,15,16,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},href:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},click:{rules:[21,24,33,34,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},dottedEdgeText:{rules:[21,24,74,76,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},thickEdgeText:{rules:[21,24,71,73,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},edgeText:{rules:[21,24,68,70,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},trapText:{rules:[21,24,77,80,82,84,88,90,91,92,93,94,95,108,110,112,114],inclusive:!1},ellipseText:{rules:[21,24,77,78,79,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},text:{rules:[21,24,77,80,81,82,83,84,87,88,89,90,94,95,107,108,109,110,111,112,113,114,115],inclusive:!1},vertex:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},dir:{rules:[21,24,44,45,46,47,48,49,50,51,52,53,54,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_descr_multiline:{rules:[5,6,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_descr:{rules:[3,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_title:{rules:[1,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},md_string:{rules:[19,20,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},string:{rules:[21,22,23,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},INITIAL:{rules:[0,2,4,7,13,21,24,25,26,27,28,29,30,31,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,71,72,74,75,77,80,82,84,85,86,88,90,94,95,96,97,98,99,100,101,102,103,104,105,106,108,110,112,114,116,117,118,119],inclusive:!0}}}}();function ne(){this.yy={}}return se.lexer=ie,e(ne,"Parser"),ne.prototype=se,se.Parser=ne,new ne}();_.parser=_;var B=_,v=Object.assign({},B);v.parse=t=>{const e=t.replace(/}\s*\n/g,"}\n");return B.parse(e)};var w=v,L=e((t,e)=>{const s=T,i=s(t,"r"),n=s(t,"g"),r=s(t,"b");return C(i,n,r,e)},"fade"),$=e(e=>`.label {\n    font-family: ${e.fontFamily};\n    color: ${e.nodeTextColor||e.textColor};\n  }\n  .cluster-label text {\n    fill: ${e.titleColor};\n  }\n  .cluster-label span {\n    color: ${e.titleColor};\n  }\n  .cluster-label span p {\n    background-color: transparent;\n  }\n\n  .label text,span {\n    fill: ${e.nodeTextColor||e.textColor};\n    color: ${e.nodeTextColor||e.textColor};\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${e.mainBkg};\n    stroke: ${e.nodeBorder};\n    stroke-width: 1px;\n  }\n  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {\n    text-anchor: middle;\n  }\n  // .flowchart-label .text-outer-tspan {\n  //   text-anchor: middle;\n  // }\n  // .flowchart-label .text-inner-tspan {\n  //   text-anchor: start;\n  // }\n\n  .node .katex path {\n    fill: #000;\n    stroke: #000;\n    stroke-width: 1px;\n  }\n\n  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n\n  .root .anchor path {\n    fill: ${e.lineColor} !important;\n    stroke-width: 0;\n    stroke: ${e.lineColor};\n  }\n\n  .arrowheadPath {\n    fill: ${e.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${e.lineColor};\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ${e.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${e.edgeLabelBackground};\n    p {\n      background-color: ${e.edgeLabelBackground};\n    }\n    rect {\n      opacity: 0.5;\n      background-color: ${e.edgeLabelBackground};\n      fill: ${e.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n\n  /* For html labels only */\n  .labelBkg {\n    background-color: ${L(e.edgeLabelBackground,.5)};\n    // background-color:\n  }\n\n  .cluster rect {\n    fill: ${e.clusterBkg};\n    stroke: ${e.clusterBorder};\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ${e.titleColor};\n  }\n\n  .cluster span {\n    color: ${e.titleColor};\n  }\n  /* .cluster div {\n    color: ${e.titleColor};\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ${e.fontFamily};\n    font-size: 12px;\n    background: ${e.tertiaryColor};\n    border: 1px solid ${e.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .flowchartTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${e.textColor};\n  }\n\n  rect.text {\n    fill: none;\n    stroke-width: 0;\n  }\n\n  .icon-shape, .image-shape {\n    background-color: ${e.edgeLabelBackground};\n    p {\n      background-color: ${e.edgeLabelBackground};\n      padding: 2px;\n    }\n    rect {\n      opacity: 0.5;\n      background-color: ${e.edgeLabelBackground};\n      fill: ${e.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n  ${t()}\n`,"getStyles"),I={parser:w,get db(){return new S},renderer:F,styles:$,init:e(t=>{t.flowchart||(t.flowchart={}),t.layout&&s({layout:t.layout}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,s({flowchart:{arrowMarkerAbsolute:t.arrowMarkerAbsolute}})},"init")};export{I as diagram};

import{_ as n}from"./index.js";var e=n(()=>"\n  /* Font Awesome icon styling - consolidated */\n  .label-icon {\n    display: inline-block;\n    height: 1em;\n    overflow: visible;\n    vertical-align: -0.125em;\n  }\n  \n  .node .label-icon path {\n    fill: currentColor;\n    stroke: revert;\n    stroke-width: revert;\n  }\n","getIconStyles");export{e as g};

import{_ as e,d as o}from"./index.js";var t=e((e,t)=>{let n;"sandbox"===t&&(n=o("#i"+e));return o("sandbox"===t?n.nodes()[0].contentDocument.body:"body").select(`[id="${e}"]`)},"getDiagramElement");export{t as g};

import{_ as t,e,l as i}from"./index.js";var o=t((t,o,a,d)=>{t.attr("class",a);const{width:r,height:n,x:x,y:g}=h(t,o);e(t,n,r,d);const w=s(x,g,r,n,o);t.attr("viewBox",w),i.debug(`viewBox configured: ${w} with padding: ${o}`)},"setupViewPortForSVG"),h=t((t,e)=>{const i=t.node()?.getBBox()||{width:0,height:0,x:0,y:0};return{width:i.width+2*e,height:i.height+2*e,x:i.x,y:i.y}},"calculateDimensionsWithPadding"),s=t((t,e,i,o,h)=>`${t-h} ${e-h} ${i} ${o}`,"createViewBox");export{o as s};

import{ap as a,aq as s}from"./index.js";const o=(o,r)=>a.lang.round(s.parse(o)[r]);export{o as c};

import{g as t}from"./chunk-WVR4S24B.js";import{s as e}from"./chunk-NRVI72HA.js";import{_ as s,b as i,a as n,s as r,g as a,p as c,q as o,c as l,l as h,y,x as u,A as d,B as p,o as _,r as g,d as b,u as f}from"./index.js";import{c as m}from"./channel.js";var E=function(){var t=s(function(t,e,s,i){for(s=s||{},i=t.length;i--;s[t[i]]=e);return s},"o"),e=[6,8,10,22,24,26,28,33,34,35,36,37,40,43,44,50],i=[1,10],n=[1,11],r=[1,12],a=[1,13],c=[1,20],o=[1,21],l=[1,22],h=[1,23],y=[1,24],u=[1,19],d=[1,25],p=[1,26],_=[1,18],g=[1,33],b=[1,34],f=[1,35],m=[1,36],E=[1,37],k=[6,8,10,13,15,17,20,21,22,24,26,28,33,34,35,36,37,40,43,44,50,63,64,65,66,67],O=[1,42],S=[1,43],T=[1,52],N=[40,50,68,69],A=[1,63],R=[1,61],I=[1,58],C=[1,62],x=[1,64],D=[6,8,10,13,17,22,24,26,28,33,34,35,36,37,40,41,42,43,44,48,49,50,63,64,65,66,67],$=[63,64,65,66,67],v=[1,81],w=[1,80],L=[1,78],M=[1,79],B=[6,10,42,47],F=[6,10,13,41,42,47,48,49],Y=[1,89],P=[1,88],z=[1,87],G=[19,56],K=[1,98],j=[1,97],Z=[19,56,58,60],U={trace:s(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,COLON:13,role:14,STYLE_SEPARATOR:15,idList:16,BLOCK_START:17,attributes:18,BLOCK_STOP:19,SQS:20,SQE:21,title:22,title_value:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,direction:29,classDefStatement:30,classStatement:31,styleStatement:32,direction_tb:33,direction_bt:34,direction_rl:35,direction_lr:36,CLASSDEF:37,stylesOpt:38,separator:39,UNICODE_TEXT:40,STYLE_TEXT:41,COMMA:42,CLASS:43,STYLE:44,style:45,styleComponent:46,SEMI:47,NUM:48,BRKT:49,ENTITY_NAME:50,attribute:51,attributeType:52,attributeName:53,attributeKeyTypeList:54,attributeComment:55,ATTRIBUTE_WORD:56,attributeKeyType:57,",":58,ATTRIBUTE_KEY:59,COMMENT:60,cardinality:61,relType:62,ZERO_OR_ONE:63,ZERO_OR_MORE:64,ONE_OR_MORE:65,ONLY_ONE:66,MD_PARENT:67,NON_IDENTIFYING:68,IDENTIFYING:69,WORD:70,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:"COLON",15:"STYLE_SEPARATOR",17:"BLOCK_START",19:"BLOCK_STOP",20:"SQS",21:"SQE",22:"title",23:"title_value",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"direction_tb",34:"direction_bt",35:"direction_rl",36:"direction_lr",37:"CLASSDEF",40:"UNICODE_TEXT",41:"STYLE_TEXT",42:"COMMA",43:"CLASS",44:"STYLE",47:"SEMI",48:"NUM",49:"BRKT",50:"ENTITY_NAME",56:"ATTRIBUTE_WORD",58:",",59:"ATTRIBUTE_KEY",60:"COMMENT",63:"ZERO_OR_ONE",64:"ZERO_OR_MORE",65:"ONE_OR_MORE",66:"ONLY_ONE",67:"MD_PARENT",68:"NON_IDENTIFYING",69:"IDENTIFYING",70:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,9],[9,7],[9,7],[9,4],[9,6],[9,3],[9,5],[9,1],[9,3],[9,7],[9,9],[9,6],[9,8],[9,4],[9,6],[9,2],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[9,1],[29,1],[29,1],[29,1],[29,1],[30,4],[16,1],[16,1],[16,3],[16,3],[31,3],[32,4],[38,1],[38,3],[45,1],[45,2],[39,1],[39,1],[39,1],[46,1],[46,1],[46,1],[46,1],[11,1],[11,1],[18,1],[18,2],[51,2],[51,3],[51,3],[51,4],[52,1],[53,1],[54,1],[54,3],[57,1],[55,1],[12,3],[61,1],[61,1],[61,1],[61,1],[61,1],[62,1],[62,1],[14,1],[14,1],[14,1]],performAction:s(function(t,e,s,i,n,r,a){var c=r.length-1;switch(n){case 1:break;case 2:case 6:case 7:this.$=[];break;case 3:r[c-1].push(r[c]),this.$=r[c-1];break;case 4:case 5:case 55:case 78:case 62:case 63:case 66:this.$=r[c];break;case 8:i.addEntity(r[c-4]),i.addEntity(r[c-2]),i.addRelationship(r[c-4],r[c],r[c-2],r[c-3]);break;case 9:i.addEntity(r[c-8]),i.addEntity(r[c-4]),i.addRelationship(r[c-8],r[c],r[c-4],r[c-5]),i.setClass([r[c-8]],r[c-6]),i.setClass([r[c-4]],r[c-2]);break;case 10:i.addEntity(r[c-6]),i.addEntity(r[c-2]),i.addRelationship(r[c-6],r[c],r[c-2],r[c-3]),i.setClass([r[c-6]],r[c-4]);break;case 11:i.addEntity(r[c-6]),i.addEntity(r[c-4]),i.addRelationship(r[c-6],r[c],r[c-4],r[c-5]),i.setClass([r[c-4]],r[c-2]);break;case 12:i.addEntity(r[c-3]),i.addAttributes(r[c-3],r[c-1]);break;case 13:i.addEntity(r[c-5]),i.addAttributes(r[c-5],r[c-1]),i.setClass([r[c-5]],r[c-3]);break;case 14:i.addEntity(r[c-2]);break;case 15:i.addEntity(r[c-4]),i.setClass([r[c-4]],r[c-2]);break;case 16:i.addEntity(r[c]);break;case 17:i.addEntity(r[c-2]),i.setClass([r[c-2]],r[c]);break;case 18:i.addEntity(r[c-6],r[c-4]),i.addAttributes(r[c-6],r[c-1]);break;case 19:i.addEntity(r[c-8],r[c-6]),i.addAttributes(r[c-8],r[c-1]),i.setClass([r[c-8]],r[c-3]);break;case 20:i.addEntity(r[c-5],r[c-3]);break;case 21:i.addEntity(r[c-7],r[c-5]),i.setClass([r[c-7]],r[c-2]);break;case 22:i.addEntity(r[c-3],r[c-1]);break;case 23:i.addEntity(r[c-5],r[c-3]),i.setClass([r[c-5]],r[c]);break;case 24:case 25:this.$=r[c].trim(),i.setAccTitle(this.$);break;case 26:case 27:this.$=r[c].trim(),i.setAccDescription(this.$);break;case 32:i.setDirection("TB");break;case 33:i.setDirection("BT");break;case 34:i.setDirection("RL");break;case 35:i.setDirection("LR");break;case 36:this.$=r[c-3],i.addClass(r[c-2],r[c-1]);break;case 37:case 38:case 56:case 64:case 43:this.$=[r[c]];break;case 39:case 40:this.$=r[c-2].concat([r[c]]);break;case 41:this.$=r[c-2],i.setClass(r[c-1],r[c]);break;case 42:this.$=r[c-3],i.addCssStyles(r[c-2],r[c-1]);break;case 44:case 65:r[c-2].push(r[c]),this.$=r[c-2];break;case 46:this.$=r[c-1]+r[c];break;case 54:case 76:case 77:case 67:this.$=r[c].replace(/"/g,"");break;case 57:r[c].push(r[c-1]),this.$=r[c];break;case 58:this.$={type:r[c-1],name:r[c]};break;case 59:this.$={type:r[c-2],name:r[c-1],keys:r[c]};break;case 60:this.$={type:r[c-2],name:r[c-1],comment:r[c]};break;case 61:this.$={type:r[c-3],name:r[c-2],keys:r[c-1],comment:r[c]};break;case 68:this.$={cardA:r[c],relType:r[c-1],cardB:r[c-2]};break;case 69:this.$=i.Cardinality.ZERO_OR_ONE;break;case 70:this.$=i.Cardinality.ZERO_OR_MORE;break;case 71:this.$=i.Cardinality.ONE_OR_MORE;break;case 72:this.$=i.Cardinality.ONLY_ONE;break;case 73:this.$=i.Cardinality.MD_PARENT;break;case 74:this.$=i.Identification.NON_IDENTIFYING;break;case 75:this.$=i.Identification.IDENTIFYING}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,22:i,24:n,26:r,28:a,29:14,30:15,31:16,32:17,33:c,34:o,35:l,36:h,37:y,40:u,43:d,44:p,50:_},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:27,11:9,22:i,24:n,26:r,28:a,29:14,30:15,31:16,32:17,33:c,34:o,35:l,36:h,37:y,40:u,43:d,44:p,50:_},t(e,[2,5]),t(e,[2,6]),t(e,[2,16],{12:28,61:32,15:[1,29],17:[1,30],20:[1,31],63:g,64:b,65:f,66:m,67:E}),{23:[1,38]},{25:[1,39]},{27:[1,40]},t(e,[2,27]),t(e,[2,28]),t(e,[2,29]),t(e,[2,30]),t(e,[2,31]),t(k,[2,54]),t(k,[2,55]),t(e,[2,32]),t(e,[2,33]),t(e,[2,34]),t(e,[2,35]),{16:41,40:O,41:S},{16:44,40:O,41:S},{16:45,40:O,41:S},t(e,[2,4]),{11:46,40:u,50:_},{16:47,40:O,41:S},{18:48,19:[1,49],51:50,52:51,56:T},{11:53,40:u,50:_},{62:54,68:[1,55],69:[1,56]},t(N,[2,69]),t(N,[2,70]),t(N,[2,71]),t(N,[2,72]),t(N,[2,73]),t(e,[2,24]),t(e,[2,25]),t(e,[2,26]),{13:A,38:57,41:R,42:I,45:59,46:60,48:C,49:x},t(D,[2,37]),t(D,[2,38]),{16:65,40:O,41:S,42:I},{13:A,38:66,41:R,42:I,45:59,46:60,48:C,49:x},{13:[1,67],15:[1,68]},t(e,[2,17],{61:32,12:69,17:[1,70],42:I,63:g,64:b,65:f,66:m,67:E}),{19:[1,71]},t(e,[2,14]),{18:72,19:[2,56],51:50,52:51,56:T},{53:73,56:[1,74]},{56:[2,62]},{21:[1,75]},{61:76,63:g,64:b,65:f,66:m,67:E},t($,[2,74]),t($,[2,75]),{6:v,10:w,39:77,42:L,47:M},{40:[1,82],41:[1,83]},t(B,[2,43],{46:84,13:A,41:R,48:C,49:x}),t(F,[2,45]),t(F,[2,50]),t(F,[2,51]),t(F,[2,52]),t(F,[2,53]),t(e,[2,41],{42:I}),{6:v,10:w,39:85,42:L,47:M},{14:86,40:Y,50:P,70:z},{16:90,40:O,41:S},{11:91,40:u,50:_},{18:92,19:[1,93],51:50,52:51,56:T},t(e,[2,12]),{19:[2,57]},t(G,[2,58],{54:94,55:95,57:96,59:K,60:j}),t([19,56,59,60],[2,63]),t(e,[2,22],{15:[1,100],17:[1,99]}),t([40,50],[2,68]),t(e,[2,36]),{13:A,41:R,45:101,46:60,48:C,49:x},t(e,[2,47]),t(e,[2,48]),t(e,[2,49]),t(D,[2,39]),t(D,[2,40]),t(F,[2,46]),t(e,[2,42]),t(e,[2,8]),t(e,[2,76]),t(e,[2,77]),t(e,[2,78]),{13:[1,102],42:I},{13:[1,104],15:[1,103]},{19:[1,105]},t(e,[2,15]),t(G,[2,59],{55:106,58:[1,107],60:j}),t(G,[2,60]),t(Z,[2,64]),t(G,[2,67]),t(Z,[2,66]),{18:108,19:[1,109],51:50,52:51,56:T},{16:110,40:O,41:S},t(B,[2,44],{46:84,13:A,41:R,48:C,49:x}),{14:111,40:Y,50:P,70:z},{16:112,40:O,41:S},{14:113,40:Y,50:P,70:z},t(e,[2,13]),t(G,[2,61]),{57:114,59:K},{19:[1,115]},t(e,[2,20]),t(e,[2,23],{17:[1,116],42:I}),t(e,[2,11]),{13:[1,117],42:I},t(e,[2,10]),t(Z,[2,65]),t(e,[2,18]),{18:118,19:[1,119],51:50,52:51,56:T},{14:120,40:Y,50:P,70:z},{19:[1,121]},t(e,[2,21]),t(e,[2,9]),t(e,[2,19])],defaultActions:{52:[2,62],72:[2,57]},parseError:s(function(t,e){if(!e.recoverable){var s=new Error(t);throw s.hash=e,s}this.trace(t)},"parseError"),parse:s(function(t){var e=this,i=[0],n=[],r=[null],a=[],c=this.table,o="",l=0,h=0,y=a.slice.call(arguments,1),u=Object.create(this.lexer),d={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(d.yy[p]=this.yy[p]);u.setInput(t,d.yy),d.yy.lexer=u,d.yy.parser=this,void 0===u.yylloc&&(u.yylloc={});var _=u.yylloc;a.push(_);var g=u.options&&u.options.ranges;function b(){var t;return"number"!=typeof(t=n.pop()||u.lex()||1)&&(t instanceof Array&&(t=(n=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,s(function(t){i.length=i.length-2*t,r.length=r.length-t,a.length=a.length-t},"popStack"),s(b,"lex");for(var f,m,E,k,O,S,T,N,A={};;){if(m=i[i.length-1],this.defaultActions[m]?E=this.defaultActions[m]:(null==f&&(f=b()),E=c[m]&&c[m][f]),void 0===E||!E.length||!E[0]){var R="";for(O in N=[],c[m])this.terminals_[O]&&O>2&&N.push("'"+this.terminals_[O]+"'");R=u.showPosition?"Parse error on line "+(l+1)+":\n"+u.showPosition()+"\nExpecting "+N.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(R,{text:u.match,token:this.terminals_[f]||f,line:u.yylineno,loc:_,expected:N})}if(E[0]instanceof Array&&E.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+f);switch(E[0]){case 1:i.push(f),r.push(u.yytext),a.push(u.yylloc),i.push(E[1]),f=null,h=u.yyleng,o=u.yytext,l=u.yylineno,_=u.yylloc;break;case 2:if(S=this.productions_[E[1]][1],A.$=r[r.length-S],A._$={first_line:a[a.length-(S||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(S||1)].first_column,last_column:a[a.length-1].last_column},g&&(A._$.range=[a[a.length-(S||1)].range[0],a[a.length-1].range[1]]),void 0!==(k=this.performAction.apply(A,[o,h,l,d.yy,E[1],r,a].concat(y))))return k;S&&(i=i.slice(0,-1*S*2),r=r.slice(0,-1*S),a=a.slice(0,-1*S)),i.push(this.productions_[E[1]][0]),r.push(A.$),a.push(A._$),T=c[i[i.length-2]][i[i.length-1]],i.push(T);break;case 3:return!0}}return!0},"parse")},W=function(){return{EOF:1,parseError:s(function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},"parseError"),setInput:s(function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:s(function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},"input"),unput:s(function(t){var e=t.length,s=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),s.length-1&&(this.yylineno-=s.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:s?(s.length===i.length?this.yylloc.first_column:0)+i[i.length-s.length].length-s[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},"unput"),more:s(function(){return this._more=!0,this},"more"),reject:s(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:s(function(t){this.unput(this.match.slice(t))},"less"),pastInput:s(function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:s(function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:s(function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},"showPosition"),test_match:s(function(t,e){var s,i,n;if(this.options.backtrack_lexer&&(n={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(n.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],s=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),s)return s;if(this._backtrack){for(var r in n)this[r]=n[r];return!1}return!1},"test_match"),next:s(function(){if(this.done)return this.EOF;var t,e,s,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),r=0;r<n.length;r++)if((s=this._input.match(this.rules[n[r]]))&&(!e||s[0].length>e[0].length)){if(e=s,i=r,this.options.backtrack_lexer){if(!1!==(t=this.test_match(s,n[r])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,n[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:s(function(){var t=this.next();return t||this.lex()},"lex"),begin:s(function(t){this.conditionStack.push(t)},"begin"),popState:s(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:s(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:s(function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},"topState"),pushState:s(function(t){this.begin(t)},"pushState"),stateStackSize:s(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:s(function(t,e,s,i){switch(s){case 0:return this.begin("acc_title"),24;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),26;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 33;case 8:return 34;case 9:return 35;case 10:return 36;case 11:return 10;case 12:case 23:case 28:case 35:break;case 13:return 8;case 14:return 50;case 15:return 70;case 16:return 4;case 17:return this.begin("block"),17;case 18:case 19:case 38:return 49;case 20:case 37:return 42;case 21:return 15;case 22:case 36:return 13;case 24:return 59;case 25:case 26:return 56;case 27:return 60;case 29:return this.popState(),19;case 30:case 73:return e.yytext[0];case 31:return 20;case 32:return 21;case 33:return this.begin("style"),44;case 34:return this.popState(),10;case 39:return this.begin("style"),37;case 40:return 43;case 41:case 45:case 46:case 59:return 63;case 42:case 43:case 44:case 52:case 54:case 61:return 65;case 47:case 48:case 49:case 50:case 51:case 53:case 60:return 64;case 55:case 56:case 57:case 58:return 66;case 62:return 67;case 63:case 66:case 67:case 68:return 68;case 64:case 65:return 69;case 69:return 41;case 70:return 47;case 71:return 40;case 72:return 48;case 74:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:#)/i,/^(?:#)/i,/^(?:,)/i,/^(?::::)/i,/^(?::)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:([^\s]*)[~].*[~]([^\s]*))/i,/^(?:([\*A-Za-z_\u00C0-\uFFFF][A-Za-z0-9\-\_\[\]\(\)\u00C0-\uFFFF\*]*))/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:style\b)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?::)/i,/^(?:,)/i,/^(?:#)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:([^\x00-\x7F]|\w|-|\*)+)/i,/^(?:;)/i,/^(?:([^\x00-\x7F]|\w|-|\*)+)/i,/^(?:[0-9])/i,/^(?:.)/i,/^(?:$)/i],conditions:{style:{rules:[34,35,36,37,38,69,70],inclusive:!1},acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[23,24,25,26,27,28,29,30],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,31,32,33,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,71,72,73,74],inclusive:!0}}}}();function Q(){this.yy={}}return U.lexer=W,s(Q,"Parser"),Q.prototype=U,U.Parser=Q,new Q}();E.parser=E;var k=E,O=class{constructor(){this.entities=new Map,this.relationships=[],this.classes=new Map,this.direction="TB",this.Cardinality={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},this.Identification={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},this.setAccTitle=i,this.getAccTitle=n,this.setAccDescription=r,this.getAccDescription=a,this.setDiagramTitle=c,this.getDiagramTitle=o,this.getConfig=s(()=>l().er,"getConfig"),this.clear(),this.addEntity=this.addEntity.bind(this),this.addAttributes=this.addAttributes.bind(this),this.addRelationship=this.addRelationship.bind(this),this.setDirection=this.setDirection.bind(this),this.addCssStyles=this.addCssStyles.bind(this),this.addClass=this.addClass.bind(this),this.setClass=this.setClass.bind(this),this.setAccTitle=this.setAccTitle.bind(this),this.setAccDescription=this.setAccDescription.bind(this)}static{s(this,"ErDB")}addEntity(t,e=""){return this.entities.has(t)?!this.entities.get(t)?.alias&&e&&(this.entities.get(t).alias=e,h.info(`Add alias '${e}' to entity '${t}'`)):(this.entities.set(t,{id:`entity-${t}-${this.entities.size}`,label:t,attributes:[],alias:e,shape:"erBox",look:l().look??"default",cssClasses:"default",cssStyles:[]}),h.info("Added new entity :",t)),this.entities.get(t)}getEntity(t){return this.entities.get(t)}getEntities(){return this.entities}getClasses(){return this.classes}addAttributes(t,e){const s=this.addEntity(t);let i;for(i=e.length-1;i>=0;i--)e[i].keys||(e[i].keys=[]),e[i].comment||(e[i].comment=""),s.attributes.push(e[i]),h.debug("Added attribute ",e[i].name)}addRelationship(t,e,s,i){const n=this.entities.get(t),r=this.entities.get(s);if(!n||!r)return;const a={entityA:n.id,roleA:e,entityB:r.id,relSpec:i};this.relationships.push(a),h.debug("Added new relationship :",a)}getRelationships(){return this.relationships}getDirection(){return this.direction}setDirection(t){this.direction=t}getCompiledStyles(t){let e=[];for(const s of t){const t=this.classes.get(s);t?.styles&&(e=[...e,...t.styles??[]].map(t=>t.trim())),t?.textStyles&&(e=[...e,...t.textStyles??[]].map(t=>t.trim()))}return e}addCssStyles(t,e){for(const s of t){const t=this.entities.get(s);if(!e||!t)return;for(const s of e)t.cssStyles.push(s)}}addClass(t,e){t.forEach(t=>{let s=this.classes.get(t);void 0===s&&(s={id:t,styles:[],textStyles:[]},this.classes.set(t,s)),e&&e.forEach(function(t){if(/color/.exec(t)){const e=t.replace("fill","bgFill");s.textStyles.push(e)}s.styles.push(t)})})}setClass(t,e){for(const s of t){const t=this.entities.get(s);if(t)for(const s of e)t.cssClasses+=" "+s}}clear(){this.entities=new Map,this.classes=new Map,this.relationships=[],y()}getData(){const t=[],e=[],s=l();for(const n of this.entities.keys()){const e=this.entities.get(n);e&&(e.cssCompiledStyles=this.getCompiledStyles(e.cssClasses.split(" ")),t.push(e))}let i=0;for(const n of this.relationships){const t={id:u(n.entityA,n.entityB,{prefix:"id",counter:i++}),type:"normal",curve:"basis",start:n.entityA,end:n.entityB,label:n.roleA,labelpos:"c",thickness:"normal",classes:"relationshipLine",arrowTypeStart:n.relSpec.cardB.toLowerCase(),arrowTypeEnd:n.relSpec.cardA.toLowerCase(),pattern:"IDENTIFYING"==n.relSpec.relType?"solid":"dashed",look:s.look};e.push(t)}return{nodes:t,edges:e,other:{},config:s,direction:"TB"}}},S={};p(S,{draw:()=>T});var T=s(async function(s,i,n,r){h.info("REF0:"),h.info("Drawing er diagram (unified)",i);const{securityLevel:a,er:c,layout:o}=l(),y=r.db.getData(),u=t(i,a);y.type=r.type,y.layoutAlgorithm=_(o),y.config.flowchart.nodeSpacing=c?.nodeSpacing||140,y.config.flowchart.rankSpacing=c?.rankSpacing||80,y.direction=r.db.getDirection(),y.markers=["only_one","zero_or_one","one_or_more","zero_or_more"],y.diagramId=i,await g(y,u),"elk"===y.layoutAlgorithm&&u.select(".edges").lower();const d=u.selectAll('[id*="-background"]');Array.from(d).length>0&&d.each(function(){const t=b(this),e=t.attr("id").replace("-background",""),s=u.select(`#${CSS.escape(e)}`);if(!s.empty()){const e=s.attr("transform");t.attr("transform",e)}});f.insertTitle(u,"erDiagramTitleText",c?.titleTopMargin??25,r.db.getDiagramTitle()),e(u,8,"erDiagram",c?.useMaxWidth??!0)},"draw"),N=s((t,e)=>{const s=m,i=s(t,"r"),n=s(t,"g"),r=s(t,"b");return d(i,n,r,e)},"fade"),A=s(t=>`\n  .entityBox {\n    fill: ${t.mainBkg};\n    stroke: ${t.nodeBorder};\n  }\n\n  .relationshipLabelBox {\n    fill: ${t.tertiaryColor};\n    opacity: 0.7;\n    background-color: ${t.tertiaryColor};\n      rect {\n        opacity: 0.5;\n      }\n  }\n\n  .labelBkg {\n    background-color: ${N(t.tertiaryColor,.5)};\n  }\n\n  .edgeLabel .label {\n    fill: ${t.nodeBorder};\n    font-size: 14px;\n  }\n\n  .label {\n    font-family: ${t.fontFamily};\n    color: ${t.nodeTextColor||t.textColor};\n  }\n\n  .edge-pattern-dashed {\n    stroke-dasharray: 8,8;\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon\n  {\n    fill: ${t.mainBkg};\n    stroke: ${t.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .relationshipLine {\n    stroke: ${t.lineColor};\n    stroke-width: 1;\n    fill: none;\n  }\n\n  .marker {\n    fill: none !important;\n    stroke: ${t.lineColor} !important;\n    stroke-width: 1;\n  }\n`,"getStyles"),R={parser:k,get db(){return new O},renderer:S,styles:A};export{R as diagram};

import{p as t}from"./chunk-ANTBXLJU.js";import{I as r}from"./chunk-FHKO5MBM.js";import{_ as e,q as o,p as n,s as a,g as s,a as c,b as i,l as h,c as d,d as m,u as $,C as l,y,k as g,D as p,E as x,F as f,G as u}from"./index.js";import{p as b}from"./treemap-75Q7IDZK.js";import"./_baseUniq.js";import"./_basePickBy.js";import"./clone.js";var w={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},B=f.gitGraph,E=e(()=>p({...B,...x().gitGraph}),"getConfig"),k=new r(()=>{const t=E(),r=t.mainBranchName,e=t.mainBranchOrder;return{mainBranchName:r,commits:new Map,head:null,branchConfig:new Map([[r,{name:r,order:e}]]),branches:new Map([[r,null]]),currBranch:r,direction:"LR",seq:0,options:{}}});function C(){return u({length:7})}function L(t,r){const e=Object.create(null);return t.reduce((t,o)=>{const n=r(o);return e[n]||(e[n]=!0,t.push(o)),t},[])}e(C,"getID"),e(L,"uniqBy");var T=e(function(t){k.records.direction=t},"setDirection"),M=e(function(t){h.debug("options str",t),t=t?.trim(),t=t||"{}";try{k.records.options=JSON.parse(t)}catch(r){h.error("error while parsing gitGraph options",r.message)}},"setOptions"),v=e(function(){return k.records.options},"getOptions"),P=e(function(t){let r=t.msg,e=t.id;const o=t.type;let n=t.tags;h.info("commit",r,e,o,n),h.debug("Entering commit:",r,e,o,n);const a=E();e=g.sanitizeText(e,a),r=g.sanitizeText(r,a),n=n?.map(t=>g.sanitizeText(t,a));const s={id:e||k.records.seq+"-"+C(),message:r,seq:k.records.seq++,type:o??w.NORMAL,tags:n??[],parents:null==k.records.head?[]:[k.records.head.id],branch:k.records.currBranch};k.records.head=s,h.info("main branch",a.mainBranchName),k.records.commits.has(s.id)&&h.warn(`Commit ID ${s.id} already exists`),k.records.commits.set(s.id,s),k.records.branches.set(k.records.currBranch,s.id),h.debug("in pushCommit "+s.id)},"commit"),R=e(function(t){let r=t.name;const e=t.order;if(r=g.sanitizeText(r,E()),k.records.branches.has(r))throw new Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${r}")`);k.records.branches.set(r,null!=k.records.head?k.records.head.id:null),k.records.branchConfig.set(r,{name:r,order:e}),G(r),h.debug("in createBranch")},"branch"),I=e(t=>{let r=t.branch,e=t.id;const o=t.type,n=t.tags,a=E();r=g.sanitizeText(r,a),e&&(e=g.sanitizeText(e,a));const s=k.records.branches.get(k.records.currBranch),c=k.records.branches.get(r),i=s?k.records.commits.get(s):void 0,d=c?k.records.commits.get(c):void 0;if(i&&d&&i.branch===r)throw new Error(`Cannot merge branch '${r}' into itself.`);if(k.records.currBranch===r){const t=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw t.hash={text:`merge ${r}`,token:`merge ${r}`,expected:["branch abc"]},t}if(void 0===i||!i){const t=new Error(`Incorrect usage of "merge". Current branch (${k.records.currBranch})has no commits`);throw t.hash={text:`merge ${r}`,token:`merge ${r}`,expected:["commit"]},t}if(!k.records.branches.has(r)){const t=new Error('Incorrect usage of "merge". Branch to be merged ('+r+") does not exist");throw t.hash={text:`merge ${r}`,token:`merge ${r}`,expected:[`branch ${r}`]},t}if(void 0===d||!d){const t=new Error('Incorrect usage of "merge". Branch to be merged ('+r+") has no commits");throw t.hash={text:`merge ${r}`,token:`merge ${r}`,expected:['"commit"']},t}if(i===d){const t=new Error('Incorrect usage of "merge". Both branches have same head');throw t.hash={text:`merge ${r}`,token:`merge ${r}`,expected:["branch abc"]},t}if(e&&k.records.commits.has(e)){const t=new Error('Incorrect usage of "merge". Commit with id:'+e+" already exists, use different custom id");throw t.hash={text:`merge ${r} ${e} ${o} ${n?.join(" ")}`,token:`merge ${r} ${e} ${o} ${n?.join(" ")}`,expected:[`merge ${r} ${e}_UNIQUE ${o} ${n?.join(" ")}`]},t}const m=c||"",$={id:e||`${k.records.seq}-${C()}`,message:`merged branch ${r} into ${k.records.currBranch}`,seq:k.records.seq++,parents:null==k.records.head?[]:[k.records.head.id,m],branch:k.records.currBranch,type:w.MERGE,customType:o,customId:!!e,tags:n??[]};k.records.head=$,k.records.commits.set($.id,$),k.records.branches.set(k.records.currBranch,$.id),h.debug(k.records.branches),h.debug("in mergeBranch")},"merge"),A=e(function(t){let r=t.id,e=t.targetId,o=t.tags,n=t.parent;h.debug("Entering cherryPick:",r,e,o);const a=E();if(r=g.sanitizeText(r,a),e=g.sanitizeText(e,a),o=o?.map(t=>g.sanitizeText(t,a)),n=g.sanitizeText(n,a),!r||!k.records.commits.has(r)){const t=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw t.hash={text:`cherryPick ${r} ${e}`,token:`cherryPick ${r} ${e}`,expected:["cherry-pick abc"]},t}const s=k.records.commits.get(r);if(void 0===s||!s)throw new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(n&&(!Array.isArray(s.parents)||!s.parents.includes(n))){throw new Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.")}const c=s.branch;if(s.type===w.MERGE&&!n){throw new Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.")}if(!e||!k.records.commits.has(e)){if(c===k.records.currBranch){const t=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw t.hash={text:`cherryPick ${r} ${e}`,token:`cherryPick ${r} ${e}`,expected:["cherry-pick abc"]},t}const t=k.records.branches.get(k.records.currBranch);if(void 0===t||!t){const t=new Error(`Incorrect usage of "cherry-pick". Current branch (${k.records.currBranch})has no commits`);throw t.hash={text:`cherryPick ${r} ${e}`,token:`cherryPick ${r} ${e}`,expected:["cherry-pick abc"]},t}const a=k.records.commits.get(t);if(void 0===a||!a){const t=new Error(`Incorrect usage of "cherry-pick". Current branch (${k.records.currBranch})has no commits`);throw t.hash={text:`cherryPick ${r} ${e}`,token:`cherryPick ${r} ${e}`,expected:["cherry-pick abc"]},t}const i={id:k.records.seq+"-"+C(),message:`cherry-picked ${s?.message} into ${k.records.currBranch}`,seq:k.records.seq++,parents:null==k.records.head?[]:[k.records.head.id,s.id],branch:k.records.currBranch,type:w.CHERRY_PICK,tags:o?o.filter(Boolean):[`cherry-pick:${s.id}${s.type===w.MERGE?`|parent:${n}`:""}`]};k.records.head=i,k.records.commits.set(i.id,i),k.records.branches.set(k.records.currBranch,i.id),h.debug(k.records.branches),h.debug("in cherryPick")}},"cherryPick"),G=e(function(t){if(t=g.sanitizeText(t,E()),!k.records.branches.has(t)){const r=new Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${t}")`);throw r.hash={text:`checkout ${t}`,token:`checkout ${t}`,expected:[`branch ${t}`]},r}{k.records.currBranch=t;const r=k.records.branches.get(k.records.currBranch);k.records.head=void 0!==r&&r?k.records.commits.get(r)??null:null}},"checkout");function O(t,r,e){const o=t.indexOf(r);-1===o?t.push(e):t.splice(o,1,e)}function q(t){const r=t.reduce((t,r)=>t.seq>r.seq?t:r,t[0]);let e="";t.forEach(function(t){e+=t===r?"\t*":"\t|"});const o=[e,r.id,r.seq];for(const n in k.records.branches)k.records.branches.get(n)===r.id&&o.push(n);if(h.debug(o.join(" ")),r.parents&&2==r.parents.length&&r.parents[0]&&r.parents[1]){const e=k.records.commits.get(r.parents[0]);O(t,r,e),r.parents[1]&&t.push(k.records.commits.get(r.parents[1]))}else{if(0==r.parents.length)return;if(r.parents[0]){const e=k.records.commits.get(r.parents[0]);O(t,r,e)}}q(t=L(t,t=>t.id))}e(O,"upsert"),e(q,"prettyPrintCommitHistory");var H=e(function(){h.debug(k.records.commits);q([N()[0]])},"prettyPrint"),z=e(function(){k.reset(),y()},"clear"),j=e(function(){return[...k.records.branchConfig.values()].map((t,r)=>null!==t.order&&void 0!==t.order?t:{...t,order:parseFloat(`0.${r}`)}).sort((t,r)=>(t.order??0)-(r.order??0)).map(({name:t})=>({name:t}))},"getBranchesAsObjArray"),D=e(function(){return k.records.branches},"getBranches"),S=e(function(){return k.records.commits},"getCommits"),N=e(function(){const t=[...k.records.commits.values()];return t.forEach(function(t){h.debug(t.id)}),t.sort((t,r)=>t.seq-r.seq),t},"getCommitsArray"),W={commitType:w,getConfig:E,setDirection:T,setOptions:M,getOptions:v,commit:P,branch:R,merge:I,cherryPick:A,checkout:G,prettyPrint:H,clear:z,getBranchesAsObjArray:j,getBranches:D,getCommits:S,getCommitsArray:N,getCurrentBranch:e(function(){return k.records.currBranch},"getCurrentBranch"),getDirection:e(function(){return k.records.direction},"getDirection"),getHead:e(function(){return k.records.head},"getHead"),setAccTitle:i,getAccTitle:c,getAccDescription:s,setAccDescription:a,setDiagramTitle:n,getDiagramTitle:o},_=e((r,e)=>{t(r,e),r.dir&&e.setDirection(r.dir);for(const t of r.statements)F(t,e)},"populate"),F=e((t,r)=>{const o={Commit:e(t=>r.commit(K(t)),"Commit"),Branch:e(t=>r.branch(U(t)),"Branch"),Merge:e(t=>r.merge(Y(t)),"Merge"),Checkout:e(t=>r.checkout(V(t)),"Checkout"),CherryPicking:e(t=>r.cherryPick(J(t)),"CherryPicking")}[t.$type];o?o(t):h.error(`Unknown statement type: ${t.$type}`)},"parseStatement"),K=e(t=>({id:t.id,msg:t.message??"",type:void 0!==t.type?w[t.type]:w.NORMAL,tags:t.tags??void 0}),"parseCommit"),U=e(t=>({name:t.name,order:t.order??0}),"parseBranch"),Y=e(t=>({branch:t.branch,id:t.id??"",type:void 0!==t.type?w[t.type]:void 0,tags:t.tags??void 0}),"parseMerge"),V=e(t=>t.branch,"parseCheckout"),J=e(t=>({id:t.id,targetId:"",tags:0===t.tags?.length?void 0:t.tags,parent:t.parent}),"parseCherryPicking"),Q={parse:e(async t=>{const r=await b("gitGraph",t);h.debug(r),_(r,W)},"parse")},X=d(),Z=X?.gitGraph,tt=10,rt=40,et=new Map,ot=new Map,nt=new Map,at=[],st=0,ct="LR",it=e(()=>{et.clear(),ot.clear(),nt.clear(),st=0,at=[],ct="LR"},"clear"),ht=e(t=>{const r=document.createElementNS("http://www.w3.org/2000/svg","text");return("string"==typeof t?t.split(/\\n|\n|<br\s*\/?>/gi):t).forEach(t=>{const e=document.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.setAttribute("dy","1em"),e.setAttribute("x","0"),e.setAttribute("class","row"),e.textContent=t.trim(),r.appendChild(e)}),r},"drawText"),dt=e(t=>{let r,o,n;return"BT"===ct?(o=e((t,r)=>t<=r,"comparisonFunc"),n=1/0):(o=e((t,r)=>t>=r,"comparisonFunc"),n=0),t.forEach(t=>{const e="TB"===ct||"BT"==ct?ot.get(t)?.y:ot.get(t)?.x;void 0!==e&&o(e,n)&&(r=t,n=e)}),r},"findClosestParent"),mt=e(t=>{let r="",e=1/0;return t.forEach(t=>{const o=ot.get(t).y;o<=e&&(r=t,e=o)}),r||void 0},"findClosestParentBT"),$t=e((t,r,e)=>{let o=e,n=e;const a=[];t.forEach(t=>{const e=r.get(t);if(!e)throw new Error(`Commit not found for key ${t}`);e.parents.length?(o=yt(e),n=Math.max(o,n)):a.push(e),gt(e,o)}),o=n,a.forEach(t=>{pt(t,o,e)}),t.forEach(t=>{const e=r.get(t);if(e?.parents.length){const t=mt(e.parents);o=ot.get(t).y-rt,o<=n&&(n=o);const r=et.get(e.branch).pos,a=o-tt;ot.set(e.id,{x:r,y:a})}})},"setParallelBTPos"),lt=e(t=>{const r=dt(t.parents.filter(t=>null!==t));if(!r)throw new Error(`Closest parent not found for commit ${t.id}`);const e=ot.get(r)?.y;if(void 0===e)throw new Error(`Closest parent position not found for commit ${t.id}`);return e},"findClosestParentPos"),yt=e(t=>lt(t)+rt,"calculateCommitPosition"),gt=e((t,r)=>{const e=et.get(t.branch);if(!e)throw new Error(`Branch not found for commit ${t.id}`);const o=e.pos,n=r+tt;return ot.set(t.id,{x:o,y:n}),{x:o,y:n}},"setCommitPosition"),pt=e((t,r,e)=>{const o=et.get(t.branch);if(!o)throw new Error(`Branch not found for commit ${t.id}`);const n=r+e,a=o.pos;ot.set(t.id,{x:a,y:n})},"setRootPosition"),xt=e((t,r,e,o,n,a)=>{if(a===w.HIGHLIGHT)t.append("rect").attr("x",e.x-10).attr("y",e.y-10).attr("width",20).attr("height",20).attr("class",`commit ${r.id} commit-highlight${n%8} ${o}-outer`),t.append("rect").attr("x",e.x-6).attr("y",e.y-6).attr("width",12).attr("height",12).attr("class",`commit ${r.id} commit${n%8} ${o}-inner`);else if(a===w.CHERRY_PICK)t.append("circle").attr("cx",e.x).attr("cy",e.y).attr("r",10).attr("class",`commit ${r.id} ${o}`),t.append("circle").attr("cx",e.x-3).attr("cy",e.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${r.id} ${o}`),t.append("circle").attr("cx",e.x+3).attr("cy",e.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${r.id} ${o}`),t.append("line").attr("x1",e.x+3).attr("y1",e.y+1).attr("x2",e.x).attr("y2",e.y-5).attr("stroke","#fff").attr("class",`commit ${r.id} ${o}`),t.append("line").attr("x1",e.x-3).attr("y1",e.y+1).attr("x2",e.x).attr("y2",e.y-5).attr("stroke","#fff").attr("class",`commit ${r.id} ${o}`);else{const s=t.append("circle");if(s.attr("cx",e.x),s.attr("cy",e.y),s.attr("r",r.type===w.MERGE?9:10),s.attr("class",`commit ${r.id} commit${n%8}`),a===w.MERGE){const a=t.append("circle");a.attr("cx",e.x),a.attr("cy",e.y),a.attr("r",6),a.attr("class",`commit ${o} ${r.id} commit${n%8}`)}if(a===w.REVERSE){t.append("path").attr("d",`M ${e.x-5},${e.y-5}L${e.x+5},${e.y+5}M${e.x-5},${e.y+5}L${e.x+5},${e.y-5}`).attr("class",`commit ${o} ${r.id} commit${n%8}`)}}},"drawCommitBullet"),ft=e((t,r,e,o)=>{if(r.type!==w.CHERRY_PICK&&(r.customId&&r.type===w.MERGE||r.type!==w.MERGE)&&Z?.showCommitLabel){const n=t.append("g"),a=n.insert("rect").attr("class","commit-label-bkg"),s=n.append("text").attr("x",o).attr("y",e.y+25).attr("class","commit-label").text(r.id),c=s.node()?.getBBox();if(c&&(a.attr("x",e.posWithOffset-c.width/2-2).attr("y",e.y+13.5).attr("width",c.width+4).attr("height",c.height+4),"TB"===ct||"BT"===ct?(a.attr("x",e.x-(c.width+16+5)).attr("y",e.y-12),s.attr("x",e.x-(c.width+16)).attr("y",e.y+c.height-12)):s.attr("x",e.posWithOffset-c.width/2),Z.rotateCommitLabel))if("TB"===ct||"BT"===ct)s.attr("transform","rotate(-45, "+e.x+", "+e.y+")"),a.attr("transform","rotate(-45, "+e.x+", "+e.y+")");else{const t=-7.5-(c.width+10)/25*9.5,r=10+c.width/25*8.5;n.attr("transform","translate("+t+", "+r+") rotate(-45, "+o+", "+e.y+")")}}},"drawCommitLabel"),ut=e((t,r,e,o)=>{if(r.tags.length>0){let n=0,a=0,s=0;const c=[];for(const o of r.tags.reverse()){const r=t.insert("polygon"),i=t.append("circle"),h=t.append("text").attr("y",e.y-16-n).attr("class","tag-label").text(o),d=h.node()?.getBBox();if(!d)throw new Error("Tag bbox not found");a=Math.max(a,d.width),s=Math.max(s,d.height),h.attr("x",e.posWithOffset-d.width/2),c.push({tag:h,hole:i,rect:r,yOffset:n}),n+=20}for(const{tag:t,hole:r,rect:i,yOffset:h}of c){const n=s/2,c=e.y-19.2-h;if(i.attr("class","tag-label-bkg").attr("points",`\n      ${o-a/2-2},${c+2}  \n      ${o-a/2-2},${c-2}\n      ${e.posWithOffset-a/2-4},${c-n-2}\n      ${e.posWithOffset+a/2+4},${c-n-2}\n      ${e.posWithOffset+a/2+4},${c+n+2}\n      ${e.posWithOffset-a/2-4},${c+n+2}`),r.attr("cy",c).attr("cx",o-a/2+2).attr("r",1.5).attr("class","tag-hole"),"TB"===ct||"BT"===ct){const s=o+h;i.attr("class","tag-label-bkg").attr("points",`\n        ${e.x},${s+2}\n        ${e.x},${s-2}\n        ${e.x+tt},${s-n-2}\n        ${e.x+tt+a+4},${s-n-2}\n        ${e.x+tt+a+4},${s+n+2}\n        ${e.x+tt},${s+n+2}`).attr("transform","translate(12,12) rotate(45, "+e.x+","+o+")"),r.attr("cx",e.x+2).attr("cy",s).attr("transform","translate(12,12) rotate(45, "+e.x+","+o+")"),t.attr("x",e.x+5).attr("y",s+3).attr("transform","translate(14,14) rotate(45, "+e.x+","+o+")")}}}},"drawCommitTags"),bt=e(t=>{switch(t.customType??t.type){case w.NORMAL:return"commit-normal";case w.REVERSE:return"commit-reverse";case w.HIGHLIGHT:return"commit-highlight";case w.MERGE:return"commit-merge";case w.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}},"getCommitClassType"),wt=e((t,r,e,o)=>{const n={x:0,y:0};if(!(t.parents.length>0)){if("TB"===r)return 30;if("BT"===r){return(o.get(t.id)??n).y-rt}return 0}{const e=dt(t.parents);if(e){const a=o.get(e)??n;if("TB"===r)return a.y+rt;if("BT"===r){return(o.get(t.id)??n).y-rt}return a.x+rt}}return 0},"calculatePosition"),Bt=e((t,r,e)=>{const o="BT"===ct&&e?r:r+tt,n="TB"===ct||"BT"===ct?o:et.get(t.branch)?.pos,a="TB"===ct||"BT"===ct?et.get(t.branch)?.pos:o;if(void 0===a||void 0===n)throw new Error(`Position were undefined for commit ${t.id}`);return{x:a,y:n,posWithOffset:o}},"getCommitPosition"),Et=e((t,r,o)=>{if(!Z)throw new Error("GitGraph config not found");const n=t.append("g").attr("class","commit-bullets"),a=t.append("g").attr("class","commit-labels");let s="TB"===ct||"BT"===ct?30:0;const c=[...r.keys()],i=Z?.parallelCommits??!1,h=e((t,e)=>{const o=r.get(t)?.seq,n=r.get(e)?.seq;return void 0!==o&&void 0!==n?o-n:0},"sortKeys");let d=c.sort(h);"BT"===ct&&(i&&$t(d,r,s),d=d.reverse()),d.forEach(t=>{const e=r.get(t);if(!e)throw new Error(`Commit not found for key ${t}`);i&&(s=wt(e,ct,s,ot));const c=Bt(e,s,i);if(o){const t=bt(e),r=e.customType??e.type,o=et.get(e.branch)?.index??0;xt(n,e,c,t,o,r),ft(a,e,c,s),ut(a,e,c,s)}"TB"===ct||"BT"===ct?ot.set(e.id,{x:c.x,y:c.posWithOffset}):ot.set(e.id,{x:c.posWithOffset,y:c.y}),s="BT"===ct&&i?s+rt:s+rt+tt,s>st&&(st=s)})},"drawCommits"),kt=e((t,r,o,n,a)=>{const s=("TB"===ct||"BT"===ct?o.x<n.x:o.y<n.y)?r.branch:t.branch,c=e(t=>t.branch===s,"isOnBranchToGetCurve"),i=e(e=>e.seq>t.seq&&e.seq<r.seq,"isBetweenCommits");return[...a.values()].some(t=>i(t)&&c(t))},"shouldRerouteArrow"),Ct=e((t,r,e=0)=>{const o=t+Math.abs(t-r)/2;if(e>5)return o;if(at.every(t=>Math.abs(t-o)>=10))return at.push(o),o;const n=Math.abs(t-r);return Ct(t,r-n/5,e+1)},"findLane"),Lt=e((t,r,e,o)=>{const n=ot.get(r.id),a=ot.get(e.id);if(void 0===n||void 0===a)throw new Error(`Commit positions not found for commits ${r.id} and ${e.id}`);const s=kt(r,e,n,a,o);let c,i="",h="",d=0,m=0,$=et.get(e.branch)?.index;if(e.type===w.MERGE&&r.id!==e.parents[0]&&($=et.get(r.branch)?.index),s){i="A 10 10, 0, 0, 0,",h="A 10 10, 0, 0, 1,",d=10,m=10;const t=n.y<a.y?Ct(n.y,a.y):Ct(a.y,n.y),e=n.x<a.x?Ct(n.x,a.x):Ct(a.x,n.x);"TB"===ct?n.x<a.x?c=`M ${n.x} ${n.y} L ${e-d} ${n.y} ${h} ${e} ${n.y+m} L ${e} ${a.y-d} ${i} ${e+m} ${a.y} L ${a.x} ${a.y}`:($=et.get(r.branch)?.index,c=`M ${n.x} ${n.y} L ${e+d} ${n.y} ${i} ${e} ${n.y+m} L ${e} ${a.y-d} ${h} ${e-m} ${a.y} L ${a.x} ${a.y}`):"BT"===ct?n.x<a.x?c=`M ${n.x} ${n.y} L ${e-d} ${n.y} ${i} ${e} ${n.y-m} L ${e} ${a.y+d} ${h} ${e+m} ${a.y} L ${a.x} ${a.y}`:($=et.get(r.branch)?.index,c=`M ${n.x} ${n.y} L ${e+d} ${n.y} ${h} ${e} ${n.y-m} L ${e} ${a.y+d} ${i} ${e-m} ${a.y} L ${a.x} ${a.y}`):n.y<a.y?c=`M ${n.x} ${n.y} L ${n.x} ${t-d} ${i} ${n.x+m} ${t} L ${a.x-d} ${t} ${h} ${a.x} ${t+m} L ${a.x} ${a.y}`:($=et.get(r.branch)?.index,c=`M ${n.x} ${n.y} L ${n.x} ${t+d} ${h} ${n.x+m} ${t} L ${a.x-d} ${t} ${i} ${a.x} ${t-m} L ${a.x} ${a.y}`)}else i="A 20 20, 0, 0, 0,",h="A 20 20, 0, 0, 1,",d=20,m=20,"TB"===ct?(n.x<a.x&&(c=e.type===w.MERGE&&r.id!==e.parents[0]?`M ${n.x} ${n.y} L ${n.x} ${a.y-d} ${i} ${n.x+m} ${a.y} L ${a.x} ${a.y}`:`M ${n.x} ${n.y} L ${a.x-d} ${n.y} ${h} ${a.x} ${n.y+m} L ${a.x} ${a.y}`),n.x>a.x&&(i="A 20 20, 0, 0, 0,",h="A 20 20, 0, 0, 1,",d=20,m=20,c=e.type===w.MERGE&&r.id!==e.parents[0]?`M ${n.x} ${n.y} L ${n.x} ${a.y-d} ${h} ${n.x-m} ${a.y} L ${a.x} ${a.y}`:`M ${n.x} ${n.y} L ${a.x+d} ${n.y} ${i} ${a.x} ${n.y+m} L ${a.x} ${a.y}`),n.x===a.x&&(c=`M ${n.x} ${n.y} L ${a.x} ${a.y}`)):"BT"===ct?(n.x<a.x&&(c=e.type===w.MERGE&&r.id!==e.parents[0]?`M ${n.x} ${n.y} L ${n.x} ${a.y+d} ${h} ${n.x+m} ${a.y} L ${a.x} ${a.y}`:`M ${n.x} ${n.y} L ${a.x-d} ${n.y} ${i} ${a.x} ${n.y-m} L ${a.x} ${a.y}`),n.x>a.x&&(i="A 20 20, 0, 0, 0,",h="A 20 20, 0, 0, 1,",d=20,m=20,c=e.type===w.MERGE&&r.id!==e.parents[0]?`M ${n.x} ${n.y} L ${n.x} ${a.y+d} ${i} ${n.x-m} ${a.y} L ${a.x} ${a.y}`:`M ${n.x} ${n.y} L ${a.x-d} ${n.y} ${i} ${a.x} ${n.y-m} L ${a.x} ${a.y}`),n.x===a.x&&(c=`M ${n.x} ${n.y} L ${a.x} ${a.y}`)):(n.y<a.y&&(c=e.type===w.MERGE&&r.id!==e.parents[0]?`M ${n.x} ${n.y} L ${a.x-d} ${n.y} ${h} ${a.x} ${n.y+m} L ${a.x} ${a.y}`:`M ${n.x} ${n.y} L ${n.x} ${a.y-d} ${i} ${n.x+m} ${a.y} L ${a.x} ${a.y}`),n.y>a.y&&(c=e.type===w.MERGE&&r.id!==e.parents[0]?`M ${n.x} ${n.y} L ${a.x-d} ${n.y} ${i} ${a.x} ${n.y-m} L ${a.x} ${a.y}`:`M ${n.x} ${n.y} L ${n.x} ${a.y+d} ${h} ${n.x+m} ${a.y} L ${a.x} ${a.y}`),n.y===a.y&&(c=`M ${n.x} ${n.y} L ${a.x} ${a.y}`));if(void 0===c)throw new Error("Line definition not found");t.append("path").attr("d",c).attr("class","arrow arrow"+$%8)},"drawArrow"),Tt=e((t,r)=>{const e=t.append("g").attr("class","commit-arrows");[...r.keys()].forEach(t=>{const o=r.get(t);o.parents&&o.parents.length>0&&o.parents.forEach(t=>{Lt(e,r.get(t),o,r)})})},"drawArrows"),Mt=e((t,r)=>{const e=t.append("g");r.forEach((t,r)=>{const o=r%8,n=et.get(t.name)?.pos;if(void 0===n)throw new Error(`Position not found for branch ${t.name}`);const a=e.append("line");a.attr("x1",0),a.attr("y1",n),a.attr("x2",st),a.attr("y2",n),a.attr("class","branch branch"+o),"TB"===ct?(a.attr("y1",30),a.attr("x1",n),a.attr("y2",st),a.attr("x2",n)):"BT"===ct&&(a.attr("y1",st),a.attr("x1",n),a.attr("y2",30),a.attr("x2",n)),at.push(n);const s=t.name,c=ht(s),i=e.insert("rect"),h=e.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+o);h.node().appendChild(c);const d=c.getBBox();i.attr("class","branchLabelBkg label"+o).attr("rx",4).attr("ry",4).attr("x",-d.width-4-(!0===Z?.rotateCommitLabel?30:0)).attr("y",-d.height/2+8).attr("width",d.width+18).attr("height",d.height+4),h.attr("transform","translate("+(-d.width-14-(!0===Z?.rotateCommitLabel?30:0))+", "+(n-d.height/2-1)+")"),"TB"===ct?(i.attr("x",n-d.width/2-10).attr("y",0),h.attr("transform","translate("+(n-d.width/2-5)+", 0)")):"BT"===ct?(i.attr("x",n-d.width/2-10).attr("y",st),h.attr("transform","translate("+(n-d.width/2-5)+", "+st+")")):i.attr("transform","translate(-19, "+(n-d.height/2)+")")})},"drawBranches"),vt=e(function(t,r,e,o,n){return et.set(t,{pos:r,index:e}),r+=50+(n?40:0)+("TB"===ct||"BT"===ct?o.width/2:0)},"setBranchPosition"),Pt={parser:Q,db:W,renderer:{draw:e(function(t,r,e,o){if(it(),h.debug("in gitgraph renderer",t+"\n","id:",r,e),!Z)throw new Error("GitGraph config not found");const n=Z.rotateCommitLabel??!1,a=o.db;nt=a.getCommits();const s=a.getBranchesAsObjArray();ct=a.getDirection();const c=m(`[id="${r}"]`);let i=0;s.forEach((t,r)=>{const e=ht(t.name),o=c.append("g"),a=o.insert("g").attr("class","branchLabel"),s=a.insert("g").attr("class","label branch-label");s.node()?.appendChild(e);const h=e.getBBox();i=vt(t.name,i,r,h,n),s.remove(),a.remove(),o.remove()}),Et(c,nt,!1),Z.showBranches&&Mt(c,s),Tt(c,nt),Et(c,nt,!0),$.insertTitle(c,"gitTitleText",Z.titleTopMargin??0,a.getDiagramTitle()),l(void 0,c,Z.diagramPadding,Z.useMaxWidth)},"draw")},styles:e(t=>`\n  .commit-id,\n  .commit-msg,\n  .branch-label {\n    fill: lightgrey;\n    color: lightgrey;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  ${[0,1,2,3,4,5,6,7].map(r=>`\n        .branch-label${r} { fill: ${t["gitBranchLabel"+r]}; }\n        .commit${r} { stroke: ${t["git"+r]}; fill: ${t["git"+r]}; }\n        .commit-highlight${r} { stroke: ${t["gitInv"+r]}; fill: ${t["gitInv"+r]}; }\n        .label${r}  { fill: ${t["git"+r]}; }\n        .arrow${r} { stroke: ${t["git"+r]}; }\n        `).join("\n")}\n\n  .branch {\n    stroke-width: 1;\n    stroke: ${t.lineColor};\n    stroke-dasharray: 2;\n  }\n  .commit-label { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelColor};}\n  .commit-label-bkg { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelBackground}; opacity: 0.5; }\n  .tag-label { font-size: ${t.tagLabelFontSize}; fill: ${t.tagLabelColor};}\n  .tag-label-bkg { fill: ${t.tagLabelBackground}; stroke: ${t.tagLabelBorder}; }\n  .tag-hole { fill: ${t.textColor}; }\n\n  .commit-merge {\n    stroke: ${t.primaryColor};\n    fill: ${t.primaryColor};\n  }\n  .commit-reverse {\n    stroke: ${t.primaryColor};\n    fill: ${t.primaryColor};\n    stroke-width: 3;\n  }\n  .commit-highlight-outer {\n  }\n  .commit-highlight-inner {\n    stroke: ${t.primaryColor};\n    fill: ${t.primaryColor};\n  }\n\n  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}\n  .gitTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${t.textColor};\n  }\n`,"getStyles")};export{Pt as diagram};

import{_ as c}from"./index.js";function t(c,t){c.accDescr&&t.setAccDescription?.(c.accDescr),c.accTitle&&t.setAccTitle?.(c.accTitle),c.title&&t.setDiagramTitle?.(c.title)}c(t,"populateCommonDb");export{t as p};

import{_ as t}from"./index.js";var i=class{constructor(t){this.init=t,this.records=this.init()}static{t(this,"ImperativeState")}reset(){this.records=this.init()}};export{i as I};

import{bA as e,bB as t,aU as n,bk as r,aY as i,aV as s,aA as a,aB as o,ba as l,bd as c,be as u,bb as d,bp as h,aD as f,aE as p,aW as m,aQ as g,bC as y}from"./index.js";import{k as T,j as v,g as R,S as $,w as E,x as A,c as k,v as x,y as I,l as S,z as C,A as N,B as w,C as L,a as b,d as _,i as O,r as P,f as M,D}from"./_baseUniq.js";import{j as U,m as F,d as G,f as B,g as K,h as V,i as j,l as H,e as W}from"./_basePickBy.js";import{c as z}from"./clone.js";var Y=Object.prototype.hasOwnProperty,q=e(function(e,s){if(t(s)||n(s))r(s,T(s),e);else for(var a in s)Y.call(s,a)&&i(e,a,s[a])});function X(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}function Q(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var s=e[t];s&&(i[r++]=s)}return i}function Z(e,t,n,r){for(var i=-1,s=null==e?0:e.length;++i<s;){var a=e[i];t(r,a,n(a),e)}return r}function J(e,t,n,r){return v(e,function(e,i,s){t(r,e,n(e),s)}),r}var ee=a(function(e,t){return o(e)?function(e,t,n,r){var i=-1,s=E,a=!0,o=e.length,l=[],c=t.length;if(!o)return l;t.length>=200&&(s=A,a=!1,t=new $(t));e:for(;++i<o;){var u=e[i],d=u;if(u=0!==u?u:0,a&&d==d){for(var h=c;h--;)if(t[h]===d)continue e;l.push(u)}else s(t,d,r)||l.push(u)}return l}(e,k(t,1,o,!0)):[]});function te(e,t,n){var r=null==e?0:e.length;return r?X(e,(t=void 0===t?1:U(t))<0?0:t,r):[]}function ne(e,t,n){var r=null==e?0:e.length;return r?X(e,0,(t=r-(t=void 0===t?1:U(t)))<0?0:t):[]}function re(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function ie(e,t){var n=!0;return v(e,function(e,r,i){return n=!!t(e,r,i)}),n}function se(e,t,n){return(s(e)?re:ie)(e,R(t))}function ae(e){return e&&e.length?e[0]:void 0}function oe(e,t){return k(F(e,t))}var le,ce,ue=Object.prototype.hasOwnProperty,de=(le=function(e,t,n){ue.call(e,n)?e[n].push(t):l(e,n,[t])},function(e,t){var n=s(e)?Z:J,r=ce?ce():{};return n(e,le,R(t),r)});function he(e){return"string"==typeof e||!s(e)&&c(e)&&"[object String]"==u(e)}var fe=Math.max;function pe(e,t,r,i){e=n(e)?e:x(e),r=r?U(r):0;var s=e.length;return r<0&&(r=fe(s+r,0)),he(e)?r<=s&&e.indexOf(t,r)>-1:!!s&&I(e,t,r)>-1}function me(e,t,n){if(!(null==e?0:e.length))return-1;return I(e,t,0)}var ge=h&&h.isRegExp,ye=ge?d(ge):function(e){return c(e)&&"[object RegExp]"==u(e)};function Te(e,t){if(null==e)return{};var n=S(C(e),function(e){return[e]});return t=R(t),G(e,n,function(e,n){return t(e,n[0])})}function ve(e,t){return(s(e)?N:w)(e,function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}(R(t)))}function Re(e,t){var n;return v(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function $e(e,t,n){return(s(e)?L:Re)(e,R(t))}function Ee(e){return e&&e.length?b(e):[]}function Ae(e){return"object"==typeof e&&null!==e&&"string"==typeof e.$type}function ke(e){return"object"==typeof e&&null!==e&&"string"==typeof e.$refText}function xe(e){return"object"==typeof e&&null!==e&&Ae(e.container)&&ke(e.reference)&&"string"==typeof e.message}class Ie{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(e,t){return Ae(e)&&this.isSubtype(e.$type,t)}isSubtype(e,t){if(e===t)return!0;let n=this.subtypes[e];n||(n=this.subtypes[e]={});const r=n[t];if(void 0!==r)return r;{const r=this.computeIsSubtype(e,t);return n[t]=r,r}}getAllSubTypes(e){const t=this.allSubtypes[e];if(t)return t;{const t=this.getAllTypes(),n=[];for(const r of t)this.isSubtype(r,e)&&n.push(r);return this.allSubtypes[e]=n,n}}}function Se(e){return"object"==typeof e&&null!==e&&Array.isArray(e.content)}function Ce(e){return"object"==typeof e&&null!==e&&"object"==typeof e.tokenType}function Ne(e){return Se(e)&&"string"==typeof e.fullText}class we{constructor(e,t){this.startFn=e,this.nextFn=t}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),[Symbol.iterator]:()=>e};return e}[Symbol.iterator](){return this.iterator()}isEmpty(){const e=this.iterator();return Boolean(e.next().done)}count(){const e=this.iterator();let t=0,n=e.next();for(;!n.done;)t++,n=e.next();return t}toArray(){const e=[],t=this.iterator();let n;do{n=t.next(),void 0!==n.value&&e.push(n.value)}while(!n.done);return e}toSet(){return new Set(this)}toMap(e,t){const n=this.map(n=>[e?e(n):n,t?t(n):n]);return new Map(n)}toString(){return this.join()}concat(e){return new we(()=>({first:this.startFn(),firstDone:!1,iterator:e[Symbol.iterator]()}),e=>{let t;if(!e.firstDone){do{if(t=this.nextFn(e.first),!t.done)return t}while(!t.done);e.firstDone=!0}do{if(t=e.iterator.next(),!t.done)return t}while(!t.done);return Oe})}join(e=","){const t=this.iterator();let n,r="",i=!1;do{n=t.next(),n.done||(i&&(r+=e),r+=Le(n.value)),i=!0}while(!n.done);return r}indexOf(e,t=0){const n=this.iterator();let r=0,i=n.next();for(;!i.done;){if(r>=t&&i.value===e)return r;i=n.next(),r++}return-1}every(e){const t=this.iterator();let n=t.next();for(;!n.done;){if(!e(n.value))return!1;n=t.next()}return!0}some(e){const t=this.iterator();let n=t.next();for(;!n.done;){if(e(n.value))return!0;n=t.next()}return!1}forEach(e){const t=this.iterator();let n=0,r=t.next();for(;!r.done;)e(r.value,n),r=t.next(),n++}map(e){return new we(this.startFn,t=>{const{done:n,value:r}=this.nextFn(t);return n?Oe:{done:!1,value:e(r)}})}filter(e){return new we(this.startFn,t=>{let n;do{if(n=this.nextFn(t),!n.done&&e(n.value))return n}while(!n.done);return Oe})}nonNullable(){return this.filter(e=>null!=e)}reduce(e,t){const n=this.iterator();let r=t,i=n.next();for(;!i.done;)r=void 0===r?i.value:e(r,i.value),i=n.next();return r}reduceRight(e,t){return this.recursiveReduce(this.iterator(),e,t)}recursiveReduce(e,t,n){const r=e.next();if(r.done)return n;const i=this.recursiveReduce(e,t,n);return void 0===i?r.value:t(i,r.value)}find(e){const t=this.iterator();let n=t.next();for(;!n.done;){if(e(n.value))return n.value;n=t.next()}}findIndex(e){const t=this.iterator();let n=0,r=t.next();for(;!r.done;){if(e(r.value))return n;r=t.next(),n++}return-1}includes(e){const t=this.iterator();let n=t.next();for(;!n.done;){if(n.value===e)return!0;n=t.next()}return!1}flatMap(e){return new we(()=>({this:this.startFn()}),t=>{do{if(t.iterator){const e=t.iterator.next();if(!e.done)return e;t.iterator=void 0}const{done:n,value:r}=this.nextFn(t.this);if(!n){const n=e(r);if(!be(n))return{done:!1,value:n};t.iterator=n[Symbol.iterator]()}}while(t.iterator);return Oe})}flat(e){if(void 0===e&&(e=1),e<=0)return this;const t=e>1?this.flat(e-1):this;return new we(()=>({this:t.startFn()}),e=>{do{if(e.iterator){const t=e.iterator.next();if(!t.done)return t;e.iterator=void 0}const{done:n,value:r}=t.nextFn(e.this);if(!n){if(!be(r))return{done:!1,value:r};e.iterator=r[Symbol.iterator]()}}while(e.iterator);return Oe})}head(){const e=this.iterator().next();if(!e.done)return e.value}tail(e=1){return new we(()=>{const t=this.startFn();for(let n=0;n<e;n++){if(this.nextFn(t).done)return t}return t},this.nextFn)}limit(e){return new we(()=>({size:0,state:this.startFn()}),t=>(t.size++,t.size>e?Oe:this.nextFn(t.state)))}distinct(e){return new we(()=>({set:new Set,internalState:this.startFn()}),t=>{let n;do{if(n=this.nextFn(t.internalState),!n.done){const r=e?e(n.value):n.value;if(!t.set.has(r))return t.set.add(r),n}}while(!n.done);return Oe})}exclude(e,t){const n=new Set;for(const r of e){const e=t?t(r):r;n.add(e)}return this.filter(e=>{const r=t?t(e):e;return!n.has(r)})}}function Le(e){return"string"==typeof e?e:void 0===e?"undefined":"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e)}function be(e){return!!e&&"function"==typeof e[Symbol.iterator]}const _e=new we(()=>{},()=>Oe),Oe=Object.freeze({done:!0,value:void 0});function Pe(...e){if(1===e.length){const t=e[0];if(t instanceof we)return t;if(be(t))return new we(()=>t[Symbol.iterator](),e=>e.next());if("number"==typeof t.length)return new we(()=>({index:0}),e=>e.index<t.length?{done:!1,value:t[e.index++]}:Oe)}return e.length>1?new we(()=>({collIndex:0,arrIndex:0}),t=>{do{if(t.iterator){const e=t.iterator.next();if(!e.done)return e;t.iterator=void 0}if(t.array){if(t.arrIndex<t.array.length)return{done:!1,value:t.array[t.arrIndex++]};t.array=void 0,t.arrIndex=0}if(t.collIndex<e.length){const n=e[t.collIndex++];be(n)?t.iterator=n[Symbol.iterator]():n&&"number"==typeof n.length&&(t.array=n)}}while(t.iterator||t.array||t.collIndex<e.length);return Oe}):_e}class Me extends we{constructor(e,t,n){super(()=>({iterators:(null==n?void 0:n.includeRoot)?[[e][Symbol.iterator]()]:[t(e)[Symbol.iterator]()],pruned:!1}),e=>{for(e.pruned&&(e.iterators.pop(),e.pruned=!1);e.iterators.length>0;){const n=e.iterators[e.iterators.length-1].next();if(!n.done)return e.iterators.push(t(n.value)[Symbol.iterator]()),n;e.iterators.pop()}return Oe})}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),prune:()=>{e.state.pruned=!0},[Symbol.iterator]:()=>e};return e}}var De,Ue;function Fe(e){return new Me(e,e=>Se(e)?e.content:[],{includeRoot:!0})}function Ge(e){return{start:{character:e.startColumn-1,line:e.startLine-1},end:{character:e.endColumn,line:e.endLine-1}}}function Be(e){if(!e)return;const{offset:t,end:n,range:r}=e;return{range:r,offset:t,end:n,length:n-t}}function Ke(e,t){const n=function(e,t){if(e.end.line<t.start.line||e.end.line===t.start.line&&e.end.character<=t.start.character)return Ue.Before;if(e.start.line>t.end.line||e.start.line===t.end.line&&e.start.character>=t.end.character)return Ue.After;const n=e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>=t.start.character,r=e.end.line<t.end.line||e.end.line===t.end.line&&e.end.character<=t.end.character;return n&&r?Ue.Inside:n?Ue.OverlapBack:r?Ue.OverlapFront:Ue.Outside}(e,t);return n>Ue.After}!function(e){e.sum=function(e){return e.reduce((e,t)=>e+t,0)},e.product=function(e){return e.reduce((e,t)=>e*t,0)},e.min=function(e){return e.reduce((e,t)=>Math.min(e,t))},e.max=function(e){return e.reduce((e,t)=>Math.max(e,t))}}(De||(De={})),function(e){e[e.Before=0]="Before",e[e.After=1]="After",e[e.OverlapFront=2]="OverlapFront",e[e.OverlapBack=3]="OverlapBack",e[e.Inside=4]="Inside",e[e.Outside=5]="Outside"}(Ue||(Ue={}));const Ve=/^[\w\p{L}]$/u;function je(e,t){if(e){const n=function(e,t=!0){for(;e.container;){const n=e.container;let r=n.content.indexOf(e);for(;r>0;){r--;const e=n.content[r];if(t||!e.hidden)return e}e=n}return}(e,!0);if(n&&He(n,t))return n;if(Ne(e)){for(let n=e.content.findIndex(e=>!e.hidden)-1;n>=0;n--){const r=e.content[n];if(He(r,t))return r}}}}function He(e,t){return Ce(e)&&t.includes(e.tokenType.name)}class We extends Error{constructor(e,t){super(e?`${t} at ${e.range.start.line}:${e.range.start.character}`:t)}}function ze(e){throw new Error("Error! The input value was not handled.")}const Ye="AbstractRule",qe="AbstractType",Xe="Condition",Qe="TypeDefinition",Ze="ValueLiteral",Je="AbstractElement";function et(e){return nn.isInstance(e,Je)}const tt="ArrayLiteral",nt="ArrayType",rt="BooleanLiteral";const it="Conjunction";const st="Disjunction";const at="Grammar",ot="GrammarImport",lt="InferredType";function ct(e){return nn.isInstance(e,lt)}const ut="Interface";function dt(e){return nn.isInstance(e,ut)}const ht="NamedArgument",ft="Negation";const pt="NumberLiteral",mt="Parameter",gt="ParameterReference";const yt="ParserRule";function Tt(e){return nn.isInstance(e,yt)}const vt="ReferenceType",Rt="ReturnType";const $t="SimpleType";function Et(e){return nn.isInstance(e,$t)}const At="StringLiteral",kt="TerminalRule";function xt(e){return nn.isInstance(e,kt)}const It="Type";function St(e){return nn.isInstance(e,It)}const Ct="TypeAttribute",Nt="UnionType",wt="Action";function Lt(e){return nn.isInstance(e,wt)}const bt="Alternatives";function _t(e){return nn.isInstance(e,bt)}const Ot="Assignment";function Pt(e){return nn.isInstance(e,Ot)}const Mt="CharacterRange";const Dt="CrossReference";function Ut(e){return nn.isInstance(e,Dt)}const Ft="EndOfFile";const Gt="Group";function Bt(e){return nn.isInstance(e,Gt)}const Kt="Keyword";function Vt(e){return nn.isInstance(e,Kt)}const jt="NegatedToken";const Ht="RegexToken";const Wt="RuleCall";function zt(e){return nn.isInstance(e,Wt)}const Yt="TerminalAlternatives";const qt="TerminalGroup";const Xt="TerminalRuleCall";const Qt="UnorderedGroup";function Zt(e){return nn.isInstance(e,Qt)}const Jt="UntilToken";const en="Wildcard";class tn extends Ie{getAllTypes(){return[Je,Ye,qe,wt,bt,tt,nt,Ot,rt,Mt,Xe,it,Dt,st,Ft,at,ot,Gt,lt,ut,Kt,ht,jt,ft,pt,mt,gt,yt,vt,Ht,Rt,Wt,$t,At,Yt,qt,kt,Xt,It,Ct,Qe,Nt,Qt,Jt,Ze,en]}computeIsSubtype(e,t){switch(e){case wt:case bt:case Ot:case Mt:case Dt:case Ft:case Gt:case Kt:case jt:case Ht:case Wt:case Yt:case qt:case Xt:case Qt:case Jt:case en:return this.isSubtype(Je,t);case tt:case pt:case At:return this.isSubtype(Ze,t);case nt:case vt:case $t:case Nt:return this.isSubtype(Qe,t);case rt:return this.isSubtype(Xe,t)||this.isSubtype(Ze,t);case it:case st:case ft:case gt:return this.isSubtype(Xe,t);case lt:case ut:case It:return this.isSubtype(qe,t);case yt:return this.isSubtype(Ye,t)||this.isSubtype(qe,t);case kt:return this.isSubtype(Ye,t);default:return!1}}getReferenceType(e){const t=`${e.container.$type}:${e.property}`;switch(t){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return qe;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return Ye;case"Grammar:usedGrammars":return at;case"NamedArgument:parameter":case"ParameterReference:parameter":return mt;case"TerminalRuleCall:rule":return kt;default:throw new Error(`${t} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case Je:return{name:Je,properties:[{name:"cardinality"},{name:"lookahead"}]};case tt:return{name:tt,properties:[{name:"elements",defaultValue:[]}]};case nt:return{name:nt,properties:[{name:"elementType"}]};case rt:return{name:rt,properties:[{name:"true",defaultValue:!1}]};case it:return{name:it,properties:[{name:"left"},{name:"right"}]};case st:return{name:st,properties:[{name:"left"},{name:"right"}]};case at:return{name:at,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case ot:return{name:ot,properties:[{name:"path"}]};case lt:return{name:lt,properties:[{name:"name"}]};case ut:return{name:ut,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case ht:return{name:ht,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case ft:return{name:ft,properties:[{name:"value"}]};case pt:return{name:pt,properties:[{name:"value"}]};case mt:return{name:mt,properties:[{name:"name"}]};case gt:return{name:gt,properties:[{name:"parameter"}]};case yt:return{name:yt,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case vt:return{name:vt,properties:[{name:"referenceType"}]};case Rt:return{name:Rt,properties:[{name:"name"}]};case $t:return{name:$t,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case At:return{name:At,properties:[{name:"value"}]};case kt:return{name:kt,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case It:return{name:It,properties:[{name:"name"},{name:"type"}]};case Ct:return{name:Ct,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case Nt:return{name:Nt,properties:[{name:"types",defaultValue:[]}]};case wt:return{name:wt,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case bt:return{name:bt,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Ot:return{name:Ot,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case Mt:return{name:Mt,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case Dt:return{name:Dt,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case Ft:return{name:Ft,properties:[{name:"cardinality"},{name:"lookahead"}]};case Gt:return{name:Gt,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case Kt:return{name:Kt,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case jt:return{name:jt,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case Ht:return{name:Ht,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case Wt:return{name:Wt,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case Yt:return{name:Yt,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case qt:return{name:qt,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Xt:return{name:Xt,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case Qt:return{name:Qt,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Jt:return{name:Jt,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case en:return{name:en,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:e,properties:[]}}}}const nn=new tn;function rn(e,t){let n=e;for(;n;){if(t(n))return n;n=n.$container}}function sn(e){const t=an(e).$document;if(!t)throw new Error("AST node has no document.");return t}function an(e){for(;e.$container;)e=e.$container;return e}function on(e,t){if(!e)throw new Error("Node must be an AstNode.");const n=null==t?void 0:t.range;return new we(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),t=>{for(;t.keyIndex<t.keys.length;){const r=t.keys[t.keyIndex];if(!r.startsWith("$")){const i=e[r];if(Ae(i)){if(t.keyIndex++,un(i,n))return{done:!1,value:i}}else if(Array.isArray(i)){for(;t.arrayIndex<i.length;){const e=i[t.arrayIndex++];if(Ae(e)&&un(e,n))return{done:!1,value:e}}t.arrayIndex=0}}t.keyIndex++}return Oe})}function ln(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new Me(e,e=>on(e,t))}function cn(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new Me(e,e=>on(e,t),{includeRoot:!0})}function un(e,t){var n;if(!t)return!0;const r=null===(n=e.$cstNode)||void 0===n?void 0:n.range;return!!r&&Ke(r,t)}function dn(e){return new we(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),t=>{for(;t.keyIndex<t.keys.length;){const n=t.keys[t.keyIndex];if(!n.startsWith("$")){const r=e[n];if(ke(r))return t.keyIndex++,{done:!1,value:{reference:r,container:e,property:n}};if(Array.isArray(r)){for(;t.arrayIndex<r.length;){const i=t.arrayIndex++,s=r[i];if(ke(s))return{done:!1,value:{reference:s,container:e,property:n,index:i}}}t.arrayIndex=0}}t.keyIndex++}return Oe})}function hn(e){return Array.isArray(e)?[...e.map(hn)]:e}function fn(e){return e.charCodeAt(0)}function pn(e,t){Array.isArray(e)?e.forEach(function(e){t.push(e)}):t.push(e)}function mn(e,t){if(!0===e[t])throw"duplicate flag "+t;e[t],e[t]=!0}function gn(e){if(void 0===e)throw Error("Internal Error - Should never get here!");return!0}function yn(e){return"Character"===e.type}const Tn=[];for(let Kh=fn("0");Kh<=fn("9");Kh++)Tn.push(Kh);const vn=[fn("_")].concat(Tn);for(let Kh=fn("a");Kh<=fn("z");Kh++)vn.push(Kh);for(let Kh=fn("A");Kh<=fn("Z");Kh++)vn.push(Kh);const Rn=[fn(" "),fn("\f"),fn("\n"),fn("\r"),fn("\t"),fn("\v"),fn("\t"),fn(" "),fn(" "),fn(" "),fn(" "),fn(" "),fn(" "),fn(" "),fn(" "),fn(" "),fn(" "),fn(" "),fn(" "),fn(" "),fn("\u2028"),fn("\u2029"),fn(" "),fn(" "),fn("　"),fn("\ufeff")],$n=/[0-9a-fA-F]/,En=/[0-9]/,An=/[1-9]/;class kn{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const t=this.disjunction();this.consumeChar("/");const n={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":mn(n,"global");break;case"i":mn(n,"ignoreCase");break;case"m":mn(n,"multiLine");break;case"u":mn(n,"unicode");break;case"y":mn(n,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:t,loc:this.loc(0)}}disjunction(){const e=[],t=this.idx;for(e.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}}alternative(){const e=[],t=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":let t;switch(this.consumeChar("?"),this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead"}gn(t);const n=this.disjunction();return this.consumeChar(")"),{type:t,value:n,loc:this.loc(e)}}return function(){throw Error("Internal Error - Should never get here!")}()}quantifier(e=!1){let t;const n=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":const n=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:n,atMost:n};break;case",":let e;this.isDigit()?(e=this.integerIncludingZero(),t={atLeast:n,atMost:e}):t={atLeast:n,atMost:1/0},this.consumeChar("}")}if(!0===e&&void 0===t)return;gn(t)}if(!0!==e||void 0!==t)return gn(t)?("?"===this.peekChar(0)?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(n),t):void 0}atom(){let e;const t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group()}if(void 0===e&&this.isPatternCharacter()&&(e=this.patternCharacter()),gn(e))return e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[fn("\n"),fn("\r"),fn("\u2028"),fn("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,t=!1;switch(this.popChar()){case"d":e=Tn;break;case"D":e=Tn,t=!0;break;case"s":e=Rn;break;case"S":e=Rn,t=!0;break;case"w":e=vn;break;case"W":e=vn,t=!0}if(gn(e))return{type:"Set",value:e,complement:t}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=fn("\f");break;case"n":e=fn("\n");break;case"r":e=fn("\r");break;case"t":e=fn("\t");break;case"v":e=fn("\v")}if(gn(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(!1===/[a-zA-Z]/.test(e))throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:fn("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){return{type:"Character",value:fn(this.popChar())}}classPatternCharacterAtom(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:fn(this.popChar())}}}characterClass(){const e=[];let t=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),t=!0);this.isClassAtom();){const t=this.classAtom();if(t.type,yn(t)&&this.isRangeDash()){this.consumeChar("-");const n=this.classAtom();if(n.type,yn(n)){if(n.value<t.value)throw Error("Range out of order in character class");e.push({from:t.value,to:n.value})}else pn(t.value,e),e.push(fn("-")),pn(n.value,e)}else pn(t.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}}classAtom(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:fn("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;if(this.consumeChar("("),"?"===this.peekChar(0))this.consumeChar("?"),this.consumeChar(":"),e=!1;else this.groupIdx++;const t=this.disjunction();this.consumeChar(")");const n={type:"Group",capturing:e,value:t};return e&&(n.idx=this.groupIdx),n}positiveInteger(){let e=this.popChar();if(!1===An.test(e))throw Error("Expecting a positive integer");for(;En.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(!1===En.test(e))throw Error("Expecting an integer");for(;En.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:fn(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return"-"===this.peekChar()&&this.isClassAtom(1)}isDigit(){return En.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}}isQuantifier(){const e=this.saveState();try{return void 0!==this.quantifier(!0)}catch(t){return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let t="";for(let n=0;n<e;n++){const e=this.popChar();if(!1===$n.test(e))throw Error("Expecting a HexDecimal digits");t+=e}return{type:"Character",value:parseInt(t,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(void 0!==e&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class xn{visitChildren(e){for(const t in e){const n=e[t];e.hasOwnProperty(t)&&(void 0!==n.type?this.visit(n):Array.isArray(n)&&n.forEach(e=>{this.visit(e)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e)}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}const In=/\r?\n/gm,Sn=new kn;const Cn=new class extends xn{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(e){this.multiline=!1,this.regex=e,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(e){e.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(e){const t=String.fromCharCode(e.value);if(this.multiline||"\n"!==t||(this.multiline=!0),e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const e=bn(t);this.endRegexpStack.push(e),this.isStarting&&(this.startRegexp+=e)}}visitSet(e){if(!this.multiline){const t=this.regex.substring(e.loc.begin,e.loc.end),n=new RegExp(t);this.multiline=Boolean("\n".match(n))}if(e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const t=this.regex.substring(e.loc.begin,e.loc.end);this.endRegexpStack.push(t),this.isStarting&&(this.startRegexp+=t)}}visitChildren(e){if("Group"===e.type){if(e.quantifier)return}super.visitChildren(e)}};function Nn(e){try{return"string"==typeof e&&(e=new RegExp(e)),e=e.toString(),Cn.reset(e),Cn.visit(Sn.pattern(e)),Cn.multiline}catch(t){return!1}}const wn="\f\n\r\t\v              \u2028\u2029  　\ufeff".split("");function Ln(e){const t="string"==typeof e?new RegExp(e):e;return wn.some(e=>t.test(e))}function bn(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _n(e,t){const n=function(e){"string"==typeof e&&(e=new RegExp(e));const t=e,n=e.source;let r=0;function i(){let e,s="";function a(e){s+=n.substr(r,e),r+=e}function o(e){s+="(?:"+n.substr(r,e)+"|$)",r+=e}for(;r<n.length;)switch(n[r]){case"\\":switch(n[r+1]){case"c":o(3);break;case"x":o(4);break;case"u":t.unicode?"{"===n[r+2]?o(n.indexOf("}",r)-r+1):o(6):o(2);break;case"p":case"P":t.unicode?o(n.indexOf("}",r)-r+1):o(2);break;case"k":o(n.indexOf(">",r)-r+1);break;default:o(2)}break;case"[":e=/\[(?:\\.|.)*?\]/g,e.lastIndex=r,e=e.exec(n)||[],o(e[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":a(1);break;case"{":e=/\{\d+,?\d*\}/g,e.lastIndex=r,e=e.exec(n),e?a(e[0].length):o(1);break;case"(":if("?"===n[r+1])switch(n[r+2]){case":":s+="(?:",r+=3,s+=i()+"|$)";break;case"=":s+="(?=",r+=3,s+=i()+")";break;case"!":e=r,r+=3,i(),s+=n.substr(e,r-e);break;case"<":switch(n[r+3]){case"=":case"!":e=r,r+=4,i(),s+=n.substr(e,r-e);break;default:a(n.indexOf(">",r)-r+1),s+=i()+"|$)"}}else a(1),s+=i()+"|$)";break;case")":return++r,s;default:o(1)}return s}return new RegExp(i(),e.flags)}(e),r=t.match(n);return!!r&&r[0].length>0}function On(e,t){const n=new Set,r=function(e){return e.rules.find(e=>Tt(e)&&e.entry)}(e);if(!r)return new Set(e.rules);const i=[r].concat(function(e){return e.rules.filter(e=>xt(e)&&e.hidden)}(e));for(const a of i)Pn(a,n,t);const s=new Set;for(const a of e.rules)(n.has(a.name)||xt(a)&&a.hidden)&&s.add(a);return s}function Pn(e,t,n){t.add(e.name),ln(e).forEach(e=>{if(zt(e)||n){const r=e.rule.ref;r&&!t.has(r.name)&&Pn(r,t,n)}})}function Mn(e){return e.hidden&&!Ln(Wn(e))}function Dn(e,t,n){if(!e||!t)return;const r=Un(e,t,e.astNode,!0);return 0!==r.length?r[n=void 0!==n?Math.max(0,Math.min(n,r.length-1)):0]:void 0}function Un(e,t,n,r){if(!r){const n=rn(e.grammarSource,Pt);if(n&&n.feature===t)return[e]}return Se(e)&&e.astNode===n?e.content.flatMap(e=>Un(e,t,n,!1)):[]}function Fn(e,t,n){if(!e)return;const r=function(e,t,n){if(e.astNode!==n)return[];if(Vt(e.grammarSource)&&e.grammarSource.value===t)return[e];const r=Fe(e).iterator();let i;const s=[];do{if(i=r.next(),!i.done){const e=i.value;e.astNode===n?Vt(e.grammarSource)&&e.grammarSource.value===t&&s.push(e):r.prune()}}while(!i.done);return s}(e,t,null==e?void 0:e.astNode);return 0!==r.length?r[n=void 0!==n?Math.max(0,Math.min(n,r.length-1)):0]:void 0}function Gn(e){let t=e;return ct(t)&&(Lt(t.$container)?t=t.$container.$container:Tt(t.$container)?t=t.$container:ze(t.$container)),Bn(e,t,new Map)}function Bn(e,t,n){var r;function i(t,r){let i;return rn(t,Pt)||(i=Bn(r,r,n)),n.set(e,i),i}if(n.has(e))return n.get(e);n.set(e,void 0);for(const s of ln(t)){if(Pt(s)&&"name"===s.feature.toLowerCase())return n.set(e,s),s;if(zt(s)&&Tt(s.rule.ref))return i(s,s.rule.ref);if(Et(s)&&(null===(r=s.typeRef)||void 0===r?void 0:r.ref))return i(s,s.typeRef.ref)}}function Kn(e){return Vn(e,new Set)}function Vn(e,t){if(t.has(e))return!0;t.add(e);for(const n of ln(e))if(zt(n)){if(!n.rule.ref)return!1;if(Tt(n.rule.ref)&&!Vn(n.rule.ref,t))return!1}else{if(Pt(n))return!1;if(Lt(n))return!1}return Boolean(e.definition)}function jn(e){if(e.inferredType)return e.inferredType.name;if(e.dataType)return e.dataType;if(e.returnType){const t=e.returnType.ref;if(t){if(Tt(t))return t.name;if(dt(t)||St(t))return t.name}}}function Hn(e){var t,n;if(Tt(e))return Kn(e)?e.name:null!==(t=jn(e))&&void 0!==t?t:e.name;if(dt(e)||St(e)||(n=e,nn.isInstance(n,Rt)))return e.name;if(Lt(e)){const t=function(e){var t;if(e.inferredType)return e.inferredType.name;if(null===(t=e.type)||void 0===t?void 0:t.ref)return Hn(e.type.ref);return}(e);if(t)return t}else if(ct(e))return e.name;throw new Error("Cannot get name of Unknown Type")}function Wn(e){const t={s:!1,i:!1,u:!1},n=Yn(e.definition,t),r=Object.entries(t).filter(([,e])=>e).map(([e])=>e).join("");return new RegExp(n,r)}const zn=/[\s\S]/.source;function Yn(e,t){if(s=e,nn.isInstance(s,Yt))return Xn((i=e).elements.map(e=>Yn(e)).join("|"),{cardinality:i.cardinality,lookahead:i.lookahead});if(function(e){return nn.isInstance(e,qt)}(e))return Xn((r=e).elements.map(e=>Yn(e)).join(""),{cardinality:r.cardinality,lookahead:r.lookahead});if(function(e){return nn.isInstance(e,Mt)}(e))return function(e){if(e.right)return Xn(`[${qn(e.left)}-${qn(e.right)}]`,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1});return Xn(qn(e.left),{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}(e);if(function(e){return nn.isInstance(e,Xt)}(e)){const t=e.rule.ref;if(!t)throw new Error("Missing rule reference.");return Xn(Yn(t.definition),{cardinality:e.cardinality,lookahead:e.lookahead})}if(function(e){return nn.isInstance(e,jt)}(e))return function(e){return Xn(`(?!${Yn(e.terminal)})${zn}*?`,{cardinality:e.cardinality,lookahead:e.lookahead})}(e);if(function(e){return nn.isInstance(e,Jt)}(e))return Xn(`${zn}*?${Yn((n=e).terminal)}`,{cardinality:n.cardinality,lookahead:n.lookahead});if(function(e){return nn.isInstance(e,Ht)}(e)){const n=e.regex.lastIndexOf("/"),r=e.regex.substring(1,n),i=e.regex.substring(n+1);return t&&(t.i=i.includes("i"),t.s=i.includes("s"),t.u=i.includes("u")),Xn(r,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}if(function(e){return nn.isInstance(e,en)}(e))return Xn(zn,{cardinality:e.cardinality,lookahead:e.lookahead});throw new Error(`Invalid terminal element: ${null==e?void 0:e.$type}`);var n,r,i,s}function qn(e){return bn(e.value)}function Xn(e,t){var n;return(!1!==t.wrap||t.lookahead)&&(e=`(${null!==(n=t.lookahead)&&void 0!==n?n:""}${e})`),t.cardinality?`${e}${t.cardinality}`:e}function Qn(e){console&&console.error}function Zn(e){console&&console.warn}function Jn(e){const t=(new Date).getTime(),n=e();return{time:(new Date).getTime()-t,value:n}}function er(e){function t(){}t.prototype=e;const n=new t;function r(){return typeof n.bar}return r(),r(),e}function tr(e){return he((t=e).LABEL)&&""!==t.LABEL?e.LABEL:e.name;var t}class nr{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),_(this.definition,t=>{t.accept(e)})}}class rr extends nr{constructor(e){super([]),this.idx=1,q(this,Te(e,e=>void 0!==e))}set definition(e){}get definition(){return void 0!==this.referencedRule?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class ir extends nr{constructor(e){super(e.definition),this.orgText="",q(this,Te(e,e=>void 0!==e))}}class sr extends nr{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,q(this,Te(e,e=>void 0!==e))}}let ar=class extends nr{constructor(e){super(e.definition),this.idx=1,q(this,Te(e,e=>void 0!==e))}};class or extends nr{constructor(e){super(e.definition),this.idx=1,q(this,Te(e,e=>void 0!==e))}}class lr extends nr{constructor(e){super(e.definition),this.idx=1,q(this,Te(e,e=>void 0!==e))}}class cr extends nr{constructor(e){super(e.definition),this.idx=1,q(this,Te(e,e=>void 0!==e))}}class ur extends nr{constructor(e){super(e.definition),this.idx=1,q(this,Te(e,e=>void 0!==e))}}class dr extends nr{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,q(this,Te(e,e=>void 0!==e))}}class hr{constructor(e){this.idx=1,q(this,Te(e,e=>void 0!==e))}accept(e){e.visit(this)}}function fr(e){function t(e){return F(e,fr)}if(e instanceof rr){const t={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return he(e.label)&&(t.label=e.label),t}if(e instanceof sr)return{type:"Alternative",definition:t(e.definition)};if(e instanceof ar)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof or)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof lr)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:fr(new hr({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof ur)return{type:"RepetitionWithSeparator",idx:e.idx,separator:fr(new hr({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof cr)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof dr)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof hr){const t={type:"Terminal",name:e.terminalType.name,label:tr(e.terminalType),idx:e.idx};he(e.label)&&(t.terminalLabel=e.label);const n=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(t.pattern=ye(n)?n.source:n),t}if(e instanceof ir)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}class pr{visit(e){const t=e;switch(t.constructor){case rr:return this.visitNonTerminal(t);case sr:return this.visitAlternative(t);case ar:return this.visitOption(t);case or:return this.visitRepetitionMandatory(t);case lr:return this.visitRepetitionMandatoryWithSeparator(t);case ur:return this.visitRepetitionWithSeparator(t);case cr:return this.visitRepetition(t);case dr:return this.visitAlternation(t);case hr:return this.visitTerminal(t);case ir:return this.visitRule(t);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function mr(e,t=[]){return!!(e instanceof ar||e instanceof cr||e instanceof ur)||(e instanceof dr?$e(e.definition,e=>mr(e,t)):!(e instanceof rr&&pe(t,e))&&(e instanceof nr&&(e instanceof rr&&t.push(e),se(e.definition,e=>mr(e,t)))))}function gr(e){if(e instanceof rr)return"SUBRULE";if(e instanceof ar)return"OPTION";if(e instanceof dr)return"OR";if(e instanceof or)return"AT_LEAST_ONE";if(e instanceof lr)return"AT_LEAST_ONE_SEP";if(e instanceof ur)return"MANY_SEP";if(e instanceof cr)return"MANY";if(e instanceof hr)return"CONSUME";throw Error("non exhaustive match")}class yr{walk(e,t=[]){_(e.definition,(n,r)=>{const i=te(e.definition,r+1);if(n instanceof rr)this.walkProdRef(n,i,t);else if(n instanceof hr)this.walkTerminal(n,i,t);else if(n instanceof sr)this.walkFlat(n,i,t);else if(n instanceof ar)this.walkOption(n,i,t);else if(n instanceof or)this.walkAtLeastOne(n,i,t);else if(n instanceof lr)this.walkAtLeastOneSep(n,i,t);else if(n instanceof ur)this.walkManySep(n,i,t);else if(n instanceof cr)this.walkMany(n,i,t);else{if(!(n instanceof dr))throw Error("non exhaustive match");this.walkOr(n,i,t)}})}walkTerminal(e,t,n){}walkProdRef(e,t,n){}walkFlat(e,t,n){const r=t.concat(n);this.walk(e,r)}walkOption(e,t,n){const r=t.concat(n);this.walk(e,r)}walkAtLeastOne(e,t,n){const r=[new ar({definition:e.definition})].concat(t,n);this.walk(e,r)}walkAtLeastOneSep(e,t,n){const r=Tr(e,t,n);this.walk(e,r)}walkMany(e,t,n){const r=[new ar({definition:e.definition})].concat(t,n);this.walk(e,r)}walkManySep(e,t,n){const r=Tr(e,t,n);this.walk(e,r)}walkOr(e,t,n){const r=t.concat(n);_(e.definition,e=>{const t=new sr({definition:[e]});this.walk(t,r)})}}function Tr(e,t,n){return[new ar({definition:[new hr({terminalType:e.separator})].concat(e.definition)})].concat(t,n)}function vr(e){if(e instanceof rr)return vr(e.referencedRule);if(e instanceof hr)return[e.terminalType];if(function(e){return e instanceof sr||e instanceof ar||e instanceof cr||e instanceof or||e instanceof lr||e instanceof ur||e instanceof hr||e instanceof ir}(e))return function(e){let t=[];const n=e.definition;let r,i=0,s=n.length>i,a=!0;for(;s&&a;)r=n[i],a=mr(r),t=t.concat(vr(r)),i+=1,s=n.length>i;return Ee(t)}(e);if(function(e){return e instanceof dr}(e))return function(e){const t=F(e.definition,e=>vr(e));return Ee(B(t))}(e);throw Error("non exhaustive match")}const Rr="_~IN~_";class $r extends yr{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,t,n){}walkProdRef(e,t,n){const r=(i=e.referencedRule,s=e.idx,i.name+s+Rr+this.topProd.name);var i,s;const a=t.concat(n),o=vr(new sr({definition:a}));this.follows[r]=o}}let Er={};const Ar=new kn;function kr(e){const t=e.toString();if(Er.hasOwnProperty(t))return Er[t];{const e=Ar.pattern(t);return Er[t]=e,e}}const xr="Complement Sets are not supported for first char optimization";function Ir(e,t=!1){try{const t=kr(e);return Sr(t.value,{},t.flags.ignoreCase)}catch(n){if(n.message===xr)t&&Zn(e.toString());else{let n="";t&&(n="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),Qn(e.toString())}}return[]}function Sr(e,t,n){switch(e.type){case"Disjunction":for(let i=0;i<e.value.length;i++)Sr(e.value[i],t,n);break;case"Alternative":const r=e.value;for(let e=0;e<r.length;e++){const i=r[e];switch(i.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const s=i;switch(s.type){case"Character":Cr(s.value,t,n);break;case"Set":if(!0===s.complement)throw Error(xr);_(s.value,e=>{if("number"==typeof e)Cr(e,t,n);else{const r=e;if(!0===n)for(let e=r.from;e<=r.to;e++)Cr(e,t,n);else{for(let e=r.from;e<=r.to&&e<Xr;e++)Cr(e,t,n);if(r.to>=Xr){const e=r.from>=Xr?r.from:Xr,n=r.to,i=Zr(e),s=Zr(n);for(let r=i;r<=s;r++)t[r]=r}}}});break;case"Group":Sr(s.value,t,n);break;default:throw Error("Non Exhaustive Match")}const a=void 0!==s.quantifier&&0===s.quantifier.atLeast;if("Group"===s.type&&!1===wr(s)||"Group"!==s.type&&!1===a)break}break;default:throw Error("non exhaustive match!")}return x(t)}function Cr(e,t,n){const r=Zr(e);t[r]=r,!0===n&&function(e,t){const n=String.fromCharCode(e),r=n.toUpperCase();if(r!==n){const e=Zr(r.charCodeAt(0));t[e]=e}else{const e=n.toLowerCase();if(e!==n){const n=Zr(e.charCodeAt(0));t[n]=n}}}(e,t)}function Nr(e,t){return K(e.value,e=>{if("number"==typeof e)return pe(t,e);{const n=e;return void 0!==K(t,e=>n.from<=e&&e<=n.to)}})}function wr(e){const t=e.quantifier;return!(!t||0!==t.atLeast)||!!e.value&&(s(e.value)?se(e.value,wr):wr(e.value))}class Lr extends xn{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(!0!==this.found){switch(e.type){case"Lookahead":return void this.visitLookahead(e);case"NegativeLookahead":return void this.visitNegativeLookahead(e)}super.visitChildren(e)}}visitCharacter(e){pe(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?void 0===Nr(e,this.targetCharCodes)&&(this.found=!0):void 0!==Nr(e,this.targetCharCodes)&&(this.found=!0)}}function br(e,t){if(t instanceof RegExp){const n=kr(t),r=new Lr(e);return r.visit(n),r.found}return void 0!==K(t,t=>pe(e,t.charCodeAt(0)))}const _r="PATTERN",Or="defaultMode",Pr="modes";let Mr="boolean"==typeof new RegExp("(?:)").sticky;function Dr(e,t){const n=(t=j(t,{useSticky:Mr,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:(e,t)=>t()})).tracer;let r;n("initCharCodeToOptimizedIndexMap",()=>{!function(){if(p(Qr)){Qr=new Array(65536);for(let e=0;e<65536;e++)Qr[e]=e>255?255+~~(e/255):e}}()}),n("Reject Lexer.NA",()=>{r=ve(e,e=>e[_r]===di.NA)});let i,a,o,l,c,u,d,h,m,g,y,T=!1;n("Transform Patterns",()=>{T=!1,i=F(r,e=>{const n=e[_r];if(ye(n)){const e=n.source;return 1!==e.length||"^"===e||"$"===e||"."===e||n.ignoreCase?2!==e.length||"\\"!==e[0]||pe(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],e[1])?t.useSticky?Kr(n):Br(n):e[1]:e}if(f(n))return T=!0,{exec:n};if("object"==typeof n)return T=!0,n;if("string"==typeof n){if(1===n.length)return n;{const e=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),r=new RegExp(e);return t.useSticky?Kr(r):Br(r)}}throw Error("non exhaustive match")})}),n("misc mapping",()=>{a=F(r,e=>e.tokenTypeIdx),o=F(r,e=>{const t=e.GROUP;if(t!==di.SKIPPED){if(he(t))return t;if(O(t))return!1;throw Error("non exhaustive match")}}),l=F(r,e=>{const t=e.LONGER_ALT;if(t){return s(t)?F(t,e=>me(r,e)):[me(r,t)]}}),c=F(r,e=>e.PUSH_MODE),u=F(r,e=>V(e,"POP_MODE"))}),n("Line Terminator Handling",()=>{const e=Yr(t.lineTerminatorCharacters);d=F(r,e=>!1),"onlyOffset"!==t.positionTracking&&(d=F(r,t=>V(t,"LINE_BREAKS")?!!t.LINE_BREAKS:!1===zr(t,e)&&br(e,t.PATTERN)))}),n("Misc Mapping #2",()=>{h=F(r,jr),m=F(i,Hr),g=P(r,(e,t)=>{const n=t.GROUP;return he(n)&&n!==di.SKIPPED&&(e[n]=[]),e},{}),y=F(i,(e,t)=>({pattern:i[t],longerAlt:l[t],canLineTerminator:d[t],isCustom:h[t],short:m[t],group:o[t],push:c[t],pop:u[t],tokenTypeIdx:a[t],tokenType:r[t]}))});let v=!0,R=[];return t.safeMode||n("First Char Optimization",()=>{R=P(r,(e,n,r)=>{if("string"==typeof n.PATTERN){const t=Zr(n.PATTERN.charCodeAt(0));qr(e,t,y[r])}else if(s(n.START_CHARS_HINT)){let t;_(n.START_CHARS_HINT,n=>{const i=Zr("string"==typeof n?n.charCodeAt(0):n);t!==i&&(t=i,qr(e,i,y[r]))})}else if(ye(n.PATTERN))if(n.PATTERN.unicode)v=!1,t.ensureOptimizations&&Qn(n.PATTERN.toString());else{const i=Ir(n.PATTERN,t.ensureOptimizations);p(i)&&(v=!1),_(i,t=>{qr(e,t,y[r])})}else t.ensureOptimizations&&Qn(n.name),v=!1;return e},[])}),{emptyGroups:g,patternIdxToConfig:y,charCodeToPatternIdxToConfig:R,hasCustom:T,canBeOptimized:v}}function Ur(e,t){let n=[];const r=function(e){const t=M(e,e=>!V(e,_r)),n=F(t,e=>({message:"Token Type: ->"+e.name+"<- missing static 'PATTERN' property",type:ci.MISSING_PATTERN,tokenTypes:[e]})),r=ee(e,t);return{errors:n,valid:r}}(e);n=n.concat(r.errors);const i=function(e){const t=M(e,e=>{const t=e[_r];return!(ye(t)||f(t)||V(t,"exec")||he(t))}),n=F(t,e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:ci.INVALID_PATTERN,tokenTypes:[e]})),r=ee(e,t);return{errors:n,valid:r}}(r.valid),s=i.valid;return n=n.concat(i.errors),n=n.concat(function(e){let t=[];const n=M(e,e=>ye(e[_r]));return t=t.concat(function(e){class t extends xn{constructor(){super(...arguments),this.found=!1}visitEndAnchor(e){this.found=!0}}const n=M(e,e=>{const n=e.PATTERN;try{const e=kr(n),r=new t;return r.visit(e),r.found}catch(r){return Fr.test(n.source)}}),r=F(n,e=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:ci.EOI_ANCHOR_FOUND,tokenTypes:[e]}));return r}(n)),t=t.concat(function(e){class t extends xn{constructor(){super(...arguments),this.found=!1}visitStartAnchor(e){this.found=!0}}const n=M(e,e=>{const n=e.PATTERN;try{const e=kr(n),r=new t;return r.visit(e),r.found}catch(r){return Gr.test(n.source)}}),r=F(n,e=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:ci.SOI_ANCHOR_FOUND,tokenTypes:[e]}));return r}(n)),t=t.concat(function(e){const t=M(e,e=>{const t=e[_r];return t instanceof RegExp&&(t.multiline||t.global)}),n=F(t,e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:ci.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[e]}));return n}(n)),t=t.concat(function(e){const t=[];let n=F(e,n=>P(e,(e,r)=>(n.PATTERN.source!==r.PATTERN.source||pe(t,r)||r.PATTERN===di.NA||(t.push(r),e.push(r)),e),[]));n=Q(n);const r=M(n,e=>e.length>1),i=F(r,e=>{const t=F(e,e=>e.name);return{message:`The same RegExp pattern ->${ae(e).PATTERN}<-has been used in all of the following Token Types: ${t.join(", ")} <-`,type:ci.DUPLICATE_PATTERNS_FOUND,tokenTypes:e}});return i}(n)),t=t.concat(function(e){const t=M(e,e=>e.PATTERN.test("")),n=F(t,e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' must not match an empty string",type:ci.EMPTY_MATCH_PATTERN,tokenTypes:[e]}));return n}(n)),t}(s)),n=n.concat(function(e){const t=M(e,e=>{if(!V(e,"GROUP"))return!1;const t=e.GROUP;return t!==di.SKIPPED&&t!==di.NA&&!he(t)}),n=F(t,e=>({message:"Token Type: ->"+e.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:ci.INVALID_GROUP_TYPE_FOUND,tokenTypes:[e]}));return n}(s)),n=n.concat(function(e,t){const n=M(e,e=>void 0!==e.PUSH_MODE&&!pe(t,e.PUSH_MODE)),r=F(n,e=>({message:`Token Type: ->${e.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${e.PUSH_MODE}<-which does not exist`,type:ci.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[e]}));return r}(s,t)),n=n.concat(function(e){const t=[],n=P(e,(e,t,n)=>{const r=t.PATTERN;return r===di.NA||(he(r)?e.push({str:r,idx:n,tokenType:t}):ye(r)&&(i=r,void 0===K([".","\\","[","]","|","^","$","(",")","?","*","+","{"],e=>-1!==i.source.indexOf(e)))&&e.push({str:r.source,idx:n,tokenType:t})),e;var i},[]);return _(e,(e,r)=>{_(n,({str:n,idx:i,tokenType:s})=>{if(r<i&&function(e,t){if(ye(t)){const n=t.exec(e);return null!==n&&0===n.index}if(f(t))return t(e,0,[],{});if(V(t,"exec"))return t.exec(e,0,[],{});if("string"==typeof t)return t===e;throw Error("non exhaustive match")}(n,e.PATTERN)){const n=`Token: ->${s.name}<- can never be matched.\nBecause it appears AFTER the Token Type ->${e.name}<-in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:n,type:ci.UNREACHABLE_PATTERN,tokenTypes:[e,s]})}})}),t}(s)),n}const Fr=/[^\\][$]/;const Gr=/[^\\[][\^]|^\^/;function Br(e){const t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function Kr(e){const t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function Vr(e,t,n){const r=[];let i=!1;const s=ve(Q(B(x(e.modes))),e=>e[_r]===di.NA),a=Yr(n);return t&&_(s,e=>{const t=zr(e,a);if(!1!==t){const n=function(e,t){if(t.issue===ci.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <${e.name}> Token Type\n\t Root cause: ${t.errMsg}.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===ci.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <${e.name}> Token Type\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}(e,t),i={message:n,type:t.issue,tokenType:e};r.push(i)}else V(e,"LINE_BREAKS")?!0===e.LINE_BREAKS&&(i=!0):br(a,e.PATTERN)&&(i=!0)}),t&&!i&&r.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:ci.NO_LINE_BREAKS_FLAGS}),r}function jr(e){const t=e.PATTERN;if(ye(t))return!1;if(f(t))return!0;if(V(t,"exec"))return!0;if(he(t))return!1;throw Error("non exhaustive match")}function Hr(e){return!(!he(e)||1!==e.length)&&e.charCodeAt(0)}const Wr={test:function(e){const t=e.length;for(let n=this.lastIndex;n<t;n++){const t=e.charCodeAt(n);if(10===t)return this.lastIndex=n+1,!0;if(13===t)return 10===e.charCodeAt(n+1)?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function zr(e,t){if(V(e,"LINE_BREAKS"))return!1;if(ye(e.PATTERN)){try{br(t,e.PATTERN)}catch(n){return{issue:ci.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}if(he(e.PATTERN))return!1;if(jr(e))return{issue:ci.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function Yr(e){return F(e,e=>he(e)?e.charCodeAt(0):e)}function qr(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}const Xr=256;let Qr=[];function Zr(e){return e<Xr?e:Qr[e]}function Jr(e,t){const n=e.tokenTypeIdx;return n===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[n]}function ei(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}let ti=1;const ni={};function ri(e){const t=function(e){let t=z(e),n=e,r=!0;for(;r;){n=Q(B(F(n,e=>e.CATEGORIES)));const e=ee(n,t);t=t.concat(e),p(e)?r=!1:n=e}return t}(e);!function(e){_(e,e=>{si(e)||(ni[ti]=e,e.tokenTypeIdx=ti++),ai(e)&&!s(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),ai(e)||(e.CATEGORIES=[]),V(e,"categoryMatches")||(e.categoryMatches=[]),function(e){return V(e,"categoryMatchesMap")}(e)||(e.categoryMatchesMap={})})}(t),function(e){_(e,e=>{ii([],e)})}(t),function(e){_(e,e=>{e.categoryMatches=[],_(e.categoryMatchesMap,(t,n)=>{e.categoryMatches.push(ni[n].tokenTypeIdx)})})}(t),_(t,e=>{e.isParent=e.categoryMatches.length>0})}function ii(e,t){_(e,e=>{t.categoryMatchesMap[e.tokenTypeIdx]=!0}),_(t.CATEGORIES,n=>{const r=e.concat(t);pe(r,n)||ii(r,n)})}function si(e){return V(e,"tokenTypeIdx")}function ai(e){return V(e,"CATEGORIES")}function oi(e){return V(e,"tokenTypeIdx")}const li={buildUnableToPopLexerModeMessage:e=>`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`,buildUnexpectedCharactersMessage:(e,t,n,r,i)=>`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${n} characters.`};var ci;!function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"}(ci||(ci={}));const ui={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:li,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(ui);class di{constructor(e,t=ui){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(e,t)=>{if(!0===this.traceInitPerf){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent,this.traceInitMaxIdent;const{time:r,value:i}=Jn(t),s=r>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(`${n}<-- <${e}> time: ${r}ms`),this.traceInitIndent--,i}return t()},"boolean"==typeof t)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=q({},ui,t);const n=this.config.traceInitPerf;!0===n?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof n&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let n,r=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===ui.lineTerminatorsPattern)this.config.lineTerminatorsPattern=Wr;else if(this.config.lineTerminatorCharacters===ui.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),s(e)?n={modes:{defaultMode:z(e)},defaultMode:Or}:(r=!1,n=z(e))}),!1===this.config.skipValidations&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function(e){const t=[];return V(e,Or)||t.push({message:"A MultiMode Lexer cannot be initialized without a <"+Or+"> property in its definition\n",type:ci.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),V(e,Pr)||t.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:ci.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),V(e,Pr)&&V(e,Or)&&!V(e.modes,e.defaultMode)&&t.push({message:`A MultiMode Lexer cannot be initialized with a ${Or}: <${e.defaultMode}>which does not exist\n`,type:ci.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),V(e,Pr)&&_(e.modes,(e,n)=>{_(e,(r,i)=>{if(O(r))t.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${n}> at index: <${i}>\n`,type:ci.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(V(r,"LONGER_ALT")){const i=s(r.LONGER_ALT)?r.LONGER_ALT:[r.LONGER_ALT];_(i,i=>{O(i)||pe(e,i)||t.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${i.name}> on token <${r.name}> outside of mode <${n}>\n`,type:ci.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),t}(n,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(Vr(n,this.trackStartLines,this.config.lineTerminatorCharacters))})),n.modes=n.modes?n.modes:{},_(n.modes,(e,t)=>{n.modes[t]=ve(e,e=>O(e))});const i=T(n.modes);if(_(n.modes,(e,n)=>{this.TRACE_INIT(`Mode: <${n}> processing`,()=>{if(this.modes.push(n),!1===this.config.skipValidations&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Ur(e,i))}),p(this.lexerDefinitionErrors)){let r;ri(e),this.TRACE_INIT("analyzeTokenTypes",()=>{r=Dr(e,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[n]=r.patternIdxToConfig,this.charCodeToPatternIdxToConfig[n]=r.charCodeToPatternIdxToConfig,this.emptyGroups=q({},this.emptyGroups,r.emptyGroups),this.hasCustom=r.hasCustom||this.hasCustom,this.canModeBeOptimized[n]=r.canBeOptimized}})}),this.defaultMode=n.defaultMode,!p(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const e=F(this.lexerDefinitionErrors,e=>e.message).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+e)}_(this.lexerDefinitionWarning,e=>{Zn(e.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(Mr?(this.chopInput=m,this.match=this.matchWithTest):(this.updateLastIndex=D,this.match=this.matchWithExec),r&&(this.handleModes=D),!1===this.trackStartLines&&(this.computeNewColumn=m),!1===this.trackEndLines&&(this.updateTokenEndLineColumnLocation=D),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else{if(!/onlyOffset/i.test(this.config.positionTracking))throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.createTokenInstance=this.createOffsetOnlyToken}this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const e=P(this.canModeBeOptimized,(e,t,n)=>(!1===t&&e.push(n),e),[]);if(t.ensureOptimizations&&!p(e))throw Error(`Lexer Modes: < ${e.join(", ")} > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{Er={}}),this.TRACE_INIT("toFastProperties",()=>{er(this)})})}tokenize(e,t=this.defaultMode){if(!p(this.lexerDefinitionErrors)){const e=F(this.lexerDefinitionErrors,e=>e.message).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+e)}return this.tokenizeInternal(e,t)}tokenizeInternal(e,t){let n,r,i,a,o,l,c,u,d,h,f,p,m,g,y;const v=e,R=v.length;let $=0,E=0;const A=this.hasCustom?0:Math.floor(e.length/10),k=new Array(A),x=[];let I=this.trackStartLines?1:void 0,S=this.trackStartLines?1:void 0;const C=function(e){const t={},n=T(e);return _(n,n=>{const r=e[n];if(!s(r))throw Error("non exhaustive match");t[n]=[]}),t}(this.emptyGroups),N=this.trackStartLines,w=this.config.lineTerminatorsPattern;let L=0,b=[],O=[];const P=[],M=[];let D;function U(){return b}function F(e){const t=Zr(e),n=O[t];return void 0===n?M:n}Object.freeze(M);const G=e=>{if(1===P.length&&void 0===e.tokenType.PUSH_MODE){const t=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(e);x.push({offset:e.startOffset,line:e.startLine,column:e.startColumn,length:e.image.length,message:t})}else{P.pop();const e=H(P);b=this.patternIdxToConfig[e],O=this.charCodeToPatternIdxToConfig[e],L=b.length;const t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;D=O&&t?F:U}};function B(e){P.push(e),O=this.charCodeToPatternIdxToConfig[e],b=this.patternIdxToConfig[e],L=b.length,L=b.length;const t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;D=O&&t?F:U}let K;B.call(this,t);const V=this.config.recoveryEnabled;for(;$<R;){l=null;const t=v.charCodeAt($),s=D(t),T=s.length;for(n=0;n<T;n++){K=s[n];const r=K.pattern;c=null;const d=K.short;if(!1!==d?t===d&&(l=r):!0===K.isCustom?(y=r.exec(v,$,k,C),null!==y?(l=y[0],void 0!==y.payload&&(c=y.payload)):l=null):(this.updateLastIndex(r,$),l=this.match(r,e,$)),null!==l){if(o=K.longerAlt,void 0!==o){const t=o.length;for(i=0;i<t;i++){const t=b[o[i]],n=t.pattern;if(u=null,!0===t.isCustom?(y=n.exec(v,$,k,C),null!==y?(a=y[0],void 0!==y.payload&&(u=y.payload)):a=null):(this.updateLastIndex(n,$),a=this.match(n,e,$)),a&&a.length>l.length){l=a,c=u,K=t;break}}}break}}if(null!==l){if(d=l.length,h=K.group,void 0!==h&&(f=K.tokenTypeIdx,p=this.createTokenInstance(l,$,f,K.tokenType,I,S,d),this.handlePayload(p,c),!1===h?E=this.addToken(k,E,p):C[h].push(p)),e=this.chopInput(e,d),$+=d,S=this.computeNewColumn(S,d),!0===N&&!0===K.canLineTerminator){let e,t,n=0;w.lastIndex=0;do{e=w.test(l),!0===e&&(t=w.lastIndex-1,n++)}while(!0===e);0!==n&&(I+=n,S=d-t,this.updateTokenEndLineColumnLocation(p,h,t,n,I,S,d))}this.handleModes(K,G,B,p)}else{const t=$,n=I,i=S;let s=!1===V;for(;!1===s&&$<R;)for(e=this.chopInput(e,1),$++,r=0;r<L;r++){const t=b[r],n=t.pattern,i=t.short;if(!1!==i?v.charCodeAt($)===i&&(s=!0):!0===t.isCustom?s=null!==n.exec(v,$,k,C):(this.updateLastIndex(n,$),s=null!==n.exec(e)),!0===s)break}if(m=$-t,S=this.computeNewColumn(S,m),g=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(v,t,m,n,i),x.push({offset:t,line:n,column:i,length:m,message:g}),!1===V)break}}return this.hasCustom||(k.length=E),{tokens:k,groups:C,errors:x}}handleModes(e,t,n,r){if(!0===e.pop){const i=e.push;t(r),void 0!==i&&n.call(this,i)}else void 0!==e.push&&n.call(this,e.push)}chopInput(e,t){return e.substring(t)}updateLastIndex(e,t){e.lastIndex=t}updateTokenEndLineColumnLocation(e,t,n,r,i,s,a){let o,l;void 0!==t&&(o=n===a-1,l=o?-1:0,1===r&&!0===o||(e.endLine=i+l,e.endColumn=s-1-l))}computeNewColumn(e,t){return e+t}createOffsetOnlyToken(e,t,n,r){return{image:e,startOffset:t,tokenTypeIdx:n,tokenType:r}}createStartOnlyToken(e,t,n,r,i,s){return{image:e,startOffset:t,startLine:i,startColumn:s,tokenTypeIdx:n,tokenType:r}}createFullToken(e,t,n,r,i,s,a){return{image:e,startOffset:t,endOffset:t+a-1,startLine:i,endLine:i,startColumn:s,endColumn:s+a-1,tokenTypeIdx:n,tokenType:r}}addTokenUsingPush(e,t,n){return e.push(n),t}addTokenUsingMemberAccess(e,t,n){return e[t]=n,++t}handlePayloadNoCustom(e,t){}handlePayloadWithCustom(e,t){null!==t&&(e.payload=t)}matchWithTest(e,t,n){return!0===e.test(t)?t.substring(n,e.lastIndex):null}matchWithExec(e,t){const n=e.exec(t);return null!==n?n[0]:null}}function hi(e){return fi(e)?e.LABEL:e.name}function fi(e){return he(e.LABEL)&&""!==e.LABEL}di.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",di.NA=/NOT_APPLICABLE/;const pi="parent",mi="categories",gi="label",yi="group",Ti="push_mode",vi="pop_mode",Ri="longer_alt",$i="line_breaks",Ei="start_chars_hint";function Ai(e){return function(e){const t=e.pattern,n={};n.name=e.name,O(t)||(n.PATTERN=t);if(V(e,pi))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";V(e,mi)&&(n.CATEGORIES=e[mi]);ri([n]),V(e,gi)&&(n.LABEL=e[gi]);V(e,yi)&&(n.GROUP=e[yi]);V(e,vi)&&(n.POP_MODE=e[vi]);V(e,Ti)&&(n.PUSH_MODE=e[Ti]);V(e,Ri)&&(n.LONGER_ALT=e[Ri]);V(e,$i)&&(n.LINE_BREAKS=e[$i]);V(e,Ei)&&(n.START_CHARS_HINT=e[Ei]);return n}(e)}const ki=Ai({name:"EOF",pattern:di.NA});function xi(e,t,n,r,i,s,a,o){return{image:t,startOffset:n,endOffset:r,startLine:i,endLine:s,startColumn:a,endColumn:o,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function Ii(e,t){return Jr(e,t)}ri([ki]);const Si={buildMismatchTokenMessage:({expected:e,actual:t,previous:n,ruleName:r})=>`Expecting ${fi(e)?`--\x3e ${hi(e)} <--`:`token of type --\x3e ${e.name} <--`} but found --\x3e '${t.image}' <--`,buildNotAllInputParsedMessage:({firstRedundant:e,ruleName:t})=>"Redundant input, expecting EOF but found: "+e.image,buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:n,customUserDescription:r,ruleName:i}){const s="Expecting: ",a="\nbut found: '"+ae(t).image+"'";if(r)return s+r+a;{const t=P(e,(e,t)=>e.concat(t),[]),n=F(t,e=>`[${F(e,e=>hi(e)).join(", ")}]`);return s+`one of these possible Token sequences:\n${F(n,(e,t)=>`  ${t+1}. ${e}`).join("\n")}`+a}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:n,ruleName:r}){const i="Expecting: ",s="\nbut found: '"+ae(t).image+"'";if(n)return i+n+s;return i+`expecting at least one iteration which starts with one of these possible Token sequences::\n  <${F(e,e=>`[${F(e,e=>hi(e)).join(",")}]`).join(" ,")}>`+s}};Object.freeze(Si);const Ci={buildRuleNotFoundError:(e,t)=>"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-"},Ni={buildDuplicateFoundError(e,t){const n=e.name,r=ae(t),i=r.idx,s=gr(r),a=(o=r)instanceof hr?o.terminalType.name:o instanceof rr?o.nonTerminalName:"";var o;let l=`->${s}${i>0?i:""}<- ${a?`with argument: ->${a}<-`:""}\n                  appears more than once (${t.length} times) in the top level rule: ->${n}<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  `;return l=l.replace(/[ \t]+/g," "),l=l.replace(/\s\s+/g,"\n"),l},buildNamespaceConflictError:e=>`Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.`,buildAlternationPrefixAmbiguityError(e){const t=F(e.prefixPath,e=>hi(e)).join(", "),n=0===e.alternation.idx?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix\nin <OR${n}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.`},buildAlternationAmbiguityError(e){const t=F(e.prefixPath,e=>hi(e)).join(", "),n=0===e.alternation.idx?"":e.alternation.idx;let r=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${n}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\n`;return r+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",r},buildEmptyRepetitionError(e){let t=gr(e.repetition);0!==e.repetition.idx&&(t+=e.repetition.idx);return`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.\nThis could lead to an infinite loop.`},buildTokenNameError:e=>"deprecated",buildEmptyAlternationError:e=>`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.\nOnly the last alternative may be an empty alternative.`,buildTooManyAlternativesError:e=>`An Alternation cannot have more than 256 alternatives:\n<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.\n has ${e.alternation.definition.length+1} alternatives.`,buildLeftRecursionError(e){const t=e.topLevelRule.name;return`Left Recursion found in grammar.\nrule: <${t}> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n ${`${t} --\x3e ${F(e.leftRecursionPath,e=>e.name).concat([t]).join(" --\x3e ")}`}\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError:e=>"deprecated",buildDuplicateRuleNameError(e){let t;t=e.topLevelRule instanceof ir?e.topLevelRule.name:e.topLevelRule;return`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}};class wi extends pr{constructor(e,t){super(),this.nameToTopRule=e,this.errMsgProvider=t,this.errors=[]}resolveRefs(){_(x(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{const t=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:t,type:Zs.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class Li extends yr{constructor(e,t){super(),this.topProd=e,this.path=t,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=z(this.path.ruleStack).reverse(),this.occurrenceStack=z(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,t=[]){this.found||super.walk(e,t)}walkProdRef(e,t,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const r=t.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,r)}}updateExpectedNext(){p(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class bi extends Li{constructor(e,t){super(e,t),this.path=t,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,t,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const e=t.concat(n),r=new sr({definition:e});this.possibleTokTypes=vr(r),this.found=!0}}}class _i extends yr{constructor(e,t){super(),this.topRule=e,this.occurrence=t,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class Oi extends _i{walkMany(e,t,n){if(e.idx===this.occurrence){const e=ae(t.concat(n));this.result.isEndOfRule=void 0===e,e instanceof hr&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkMany(e,t,n)}}class Pi extends _i{walkManySep(e,t,n){if(e.idx===this.occurrence){const e=ae(t.concat(n));this.result.isEndOfRule=void 0===e,e instanceof hr&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkManySep(e,t,n)}}class Mi extends _i{walkAtLeastOne(e,t,n){if(e.idx===this.occurrence){const e=ae(t.concat(n));this.result.isEndOfRule=void 0===e,e instanceof hr&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkAtLeastOne(e,t,n)}}class Di extends _i{walkAtLeastOneSep(e,t,n){if(e.idx===this.occurrence){const e=ae(t.concat(n));this.result.isEndOfRule=void 0===e,e instanceof hr&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkAtLeastOneSep(e,t,n)}}function Ui(e,t,n=[]){n=z(n);let r=[],i=0;function s(s){const a=Ui(s.concat(te(e,i+1)),t,n);return r.concat(a)}for(;n.length<t&&i<e.length;){const t=e[i];if(t instanceof sr)return s(t.definition);if(t instanceof rr)return s(t.definition);if(t instanceof ar)r=s(t.definition);else{if(t instanceof or){return s(t.definition.concat([new cr({definition:t.definition})]))}if(t instanceof lr){return s([new sr({definition:t.definition}),new cr({definition:[new hr({terminalType:t.separator})].concat(t.definition)})])}if(t instanceof ur){const e=t.definition.concat([new cr({definition:[new hr({terminalType:t.separator})].concat(t.definition)})]);r=s(e)}else if(t instanceof cr){const e=t.definition.concat([new cr({definition:t.definition})]);r=s(e)}else{if(t instanceof dr)return _(t.definition,e=>{!1===p(e.definition)&&(r=s(e.definition))}),r;if(!(t instanceof hr))throw Error("non exhaustive match");n.push(t.terminalType)}}i++}return r.push({partialPath:n,suffixDef:te(e,i)}),r}function Fi(e,t,n,r){const i="EXIT_NONE_TERMINAL",s=[i],a="EXIT_ALTERNATIVE";let o=!1;const l=t.length,c=l-r-1,u=[],d=[];for(d.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!p(d);){const e=d.pop();if(e===a){o&&H(d).idx<=c&&d.pop();continue}const r=e.def,h=e.idx,f=e.ruleStack,m=e.occurrenceStack;if(p(r))continue;const g=r[0];if(g===i){const e={idx:h,def:te(r),ruleStack:ne(f),occurrenceStack:ne(m)};d.push(e)}else if(g instanceof hr)if(h<l-1){const e=h+1;if(n(t[e],g.terminalType)){const t={idx:e,def:te(r),ruleStack:f,occurrenceStack:m};d.push(t)}}else{if(h!==l-1)throw Error("non exhaustive match");u.push({nextTokenType:g.terminalType,nextTokenOccurrence:g.idx,ruleStack:f,occurrenceStack:m}),o=!0}else if(g instanceof rr){const e=z(f);e.push(g.nonTerminalName);const t=z(m);t.push(g.idx);const n={idx:h,def:g.definition.concat(s,te(r)),ruleStack:e,occurrenceStack:t};d.push(n)}else if(g instanceof ar){const e={idx:h,def:te(r),ruleStack:f,occurrenceStack:m};d.push(e),d.push(a);const t={idx:h,def:g.definition.concat(te(r)),ruleStack:f,occurrenceStack:m};d.push(t)}else if(g instanceof or){const e=new cr({definition:g.definition,idx:g.idx}),t={idx:h,def:g.definition.concat([e],te(r)),ruleStack:f,occurrenceStack:m};d.push(t)}else if(g instanceof lr){const e=new hr({terminalType:g.separator}),t=new cr({definition:[e].concat(g.definition),idx:g.idx}),n={idx:h,def:g.definition.concat([t],te(r)),ruleStack:f,occurrenceStack:m};d.push(n)}else if(g instanceof ur){const e={idx:h,def:te(r),ruleStack:f,occurrenceStack:m};d.push(e),d.push(a);const t=new hr({terminalType:g.separator}),n=new cr({definition:[t].concat(g.definition),idx:g.idx}),i={idx:h,def:g.definition.concat([n],te(r)),ruleStack:f,occurrenceStack:m};d.push(i)}else if(g instanceof cr){const e={idx:h,def:te(r),ruleStack:f,occurrenceStack:m};d.push(e),d.push(a);const t=new cr({definition:g.definition,idx:g.idx}),n={idx:h,def:g.definition.concat([t],te(r)),ruleStack:f,occurrenceStack:m};d.push(n)}else if(g instanceof dr)for(let t=g.definition.length-1;t>=0;t--){const e={idx:h,def:g.definition[t].definition.concat(te(r)),ruleStack:f,occurrenceStack:m};d.push(e),d.push(a)}else if(g instanceof sr)d.push({idx:h,def:g.definition.concat(te(r)),ruleStack:f,occurrenceStack:m});else{if(!(g instanceof ir))throw Error("non exhaustive match");d.push(Gi(g,h,f,m))}}return u}function Gi(e,t,n,r){const i=z(n);i.push(e.name);const s=z(r);return s.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:s}}var Bi;function Ki(e){if(e instanceof ar||"Option"===e)return Bi.OPTION;if(e instanceof cr||"Repetition"===e)return Bi.REPETITION;if(e instanceof or||"RepetitionMandatory"===e)return Bi.REPETITION_MANDATORY;if(e instanceof lr||"RepetitionMandatoryWithSeparator"===e)return Bi.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof ur||"RepetitionWithSeparator"===e)return Bi.REPETITION_WITH_SEPARATOR;if(e instanceof dr||"Alternation"===e)return Bi.ALTERNATION;throw Error("non exhaustive match")}function Vi(e){const{occurrence:t,rule:n,prodType:r,maxLookahead:i}=e,s=Ki(r);return s===Bi.ALTERNATION?Zi(t,n,i):Ji(t,n,s,i)}function ji(e,t,n,r){const i=e.length,s=se(e,e=>se(e,e=>1===e.length));if(t)return function(t){const r=F(t,e=>e.GATE);for(let s=0;s<i;s++){const t=e[s],i=t.length,a=r[s];if(void 0===a||!1!==a.call(this))e:for(let e=0;e<i;e++){const r=t[e],i=r.length;for(let e=0;e<i;e++){const t=this.LA(e+1);if(!1===n(t,r[e]))continue e}return s}}};if(s&&!r){const t=F(e,e=>B(e)),n=P(t,(e,t,n)=>(_(t,t=>{V(e,t.tokenTypeIdx)||(e[t.tokenTypeIdx]=n),_(t.categoryMatches,t=>{V(e,t)||(e[t]=n)})}),e),{});return function(){const e=this.LA(1);return n[e.tokenTypeIdx]}}return function(){for(let t=0;t<i;t++){const r=e[t],i=r.length;e:for(let e=0;e<i;e++){const i=r[e],s=i.length;for(let e=0;e<s;e++){const t=this.LA(e+1);if(!1===n(t,i[e]))continue e}return t}}}}function Hi(e,t,n){const r=se(e,e=>1===e.length),i=e.length;if(r&&!n){const t=B(e);if(1===t.length&&p(t[0].categoryMatches)){const e=t[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===e}}{const e=P(t,(e,t,n)=>(e[t.tokenTypeIdx]=!0,_(t.categoryMatches,t=>{e[t]=!0}),e),[]);return function(){const t=this.LA(1);return!0===e[t.tokenTypeIdx]}}}return function(){e:for(let n=0;n<i;n++){const r=e[n],i=r.length;for(let e=0;e<i;e++){const n=this.LA(e+1);if(!1===t(n,r[e]))continue e}return!0}return!1}}!function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"}(Bi||(Bi={}));class Wi extends yr{constructor(e,t,n){super(),this.topProd=e,this.targetOccurrence=t,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,t,n,r){return e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.restDef=n.concat(r),!0)}walkOption(e,t,n){this.checkIsTarget(e,Bi.OPTION,t,n)||super.walkOption(e,t,n)}walkAtLeastOne(e,t,n){this.checkIsTarget(e,Bi.REPETITION_MANDATORY,t,n)||super.walkOption(e,t,n)}walkAtLeastOneSep(e,t,n){this.checkIsTarget(e,Bi.REPETITION_MANDATORY_WITH_SEPARATOR,t,n)||super.walkOption(e,t,n)}walkMany(e,t,n){this.checkIsTarget(e,Bi.REPETITION,t,n)||super.walkOption(e,t,n)}walkManySep(e,t,n){this.checkIsTarget(e,Bi.REPETITION_WITH_SEPARATOR,t,n)||super.walkOption(e,t,n)}}class zi extends pr{constructor(e,t,n){super(),this.targetOccurrence=e,this.targetProdType=t,this.targetRef=n,this.result=[]}checkIsTarget(e,t){e.idx!==this.targetOccurrence||this.targetProdType!==t||void 0!==this.targetRef&&e!==this.targetRef||(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,Bi.OPTION)}visitRepetition(e){this.checkIsTarget(e,Bi.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,Bi.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,Bi.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,Bi.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,Bi.ALTERNATION)}}function Yi(e){const t=new Array(e);for(let n=0;n<e;n++)t[n]=[];return t}function qi(e){let t=[""];for(let n=0;n<e.length;n++){const r=e[n],i=[];for(let e=0;e<t.length;e++){const n=t[e];i.push(n+"_"+r.tokenTypeIdx);for(let e=0;e<r.categoryMatches.length;e++){const t="_"+r.categoryMatches[e];i.push(n+t)}}t=i}return t}function Xi(e,t,n){for(let r=0;r<e.length;r++){if(r===n)continue;const i=e[r];for(let e=0;e<t.length;e++){if(!0===i[t[e]])return!1}}return!0}function Qi(e,t){const n=F(e,e=>Ui([e],1)),r=Yi(n.length),i=F(n,e=>{const t={};return _(e,e=>{const n=qi(e.partialPath);_(n,e=>{t[e]=!0})}),t});let s=n;for(let a=1;a<=t;a++){const e=s;s=Yi(e.length);for(let n=0;n<e.length;n++){const o=e[n];for(let e=0;e<o.length;e++){const l=o[e].partialPath,c=o[e].suffixDef,u=qi(l);if(Xi(i,u,n)||p(c)||l.length===t){const e=r[n];if(!1===es(e,l)){e.push(l);for(let e=0;e<u.length;e++){const t=u[e];i[n][t]=!0}}}else{const e=Ui(c,a+1,l);s[n]=s[n].concat(e),_(e,e=>{const t=qi(e.partialPath);_(t,e=>{i[n][e]=!0})})}}}}return r}function Zi(e,t,n,r){const i=new zi(e,Bi.ALTERNATION,r);return t.accept(i),Qi(i.result,n)}function Ji(e,t,n,r){const i=new zi(e,n);t.accept(i);const s=i.result,a=new Wi(t,e,n).startWalking();return Qi([new sr({definition:s}),new sr({definition:a})],r)}function es(e,t){e:for(let n=0;n<e.length;n++){const r=e[n];if(r.length===t.length){for(let e=0;e<r.length;e++){const n=t[e],i=r[e];if(!1===(n===i||void 0!==i.categoryMatchesMap[n.tokenTypeIdx]))continue e}return!0}}return!1}function ts(e){return se(e,e=>se(e,e=>se(e,e=>p(e.categoryMatches))))}function ns(e,t,n,r){const i=oe(e,e=>function(e,t){const n=new ss;e.accept(n);const r=n.allProductions,i=Te(de(r,rs),e=>e.length>1),s=F(x(i),n=>{const r=ae(n),i=t.buildDuplicateFoundError(e,n),s=gr(r),a={message:i,type:Zs.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:s,occurrence:r.idx},o=is(r);return o&&(a.parameter=o),a});return s}(e,n)),s=function(e,t,n){const r=[],i=F(t,e=>e.name);return _(e,e=>{const t=e.name;if(pe(i,t)){const i=n.buildNamespaceConflictError(e);r.push({message:i,type:Zs.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:t})}}),r}(e,t,n),a=oe(e,e=>function(e,t){const n=new ls;e.accept(n);const r=oe(n.alternations,n=>n.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:n}),type:Zs.TOO_MANY_ALTS,ruleName:e.name,occurrence:n.idx}]:[]);return r}(e,n)),o=oe(e,t=>function(e,t,n,r){const i=[],s=P(t,(t,n)=>n.name===e.name?t+1:t,0);if(s>1){const t=r.buildDuplicateRuleNameError({topLevelRule:e,grammarName:n});i.push({message:t,type:Zs.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}(t,e,r,n));return i.concat(s,a,o)}function rs(e){return`${gr(e)}_#_${e.idx}_#_${is(e)}`}function is(e){return e instanceof hr?e.terminalType.name:e instanceof rr?e.nonTerminalName:""}class ss extends pr{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function as(e,t,n,r=[]){const i=[],s=os(t.definition);if(p(s))return[];{const t=e.name;pe(s,e)&&i.push({message:n.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:r}),type:Zs.LEFT_RECURSION,ruleName:t});const a=oe(ee(s,r.concat([e])),t=>{const i=z(r);return i.push(t),as(e,t,n,i)});return i.concat(a)}}function os(e){let t=[];if(p(e))return t;const n=ae(e);if(n instanceof rr)t.push(n.referencedRule);else if(n instanceof sr||n instanceof ar||n instanceof or||n instanceof lr||n instanceof ur||n instanceof cr)t=t.concat(os(n.definition));else if(n instanceof dr)t=B(F(n.definition,e=>os(e.definition)));else if(!(n instanceof hr))throw Error("non exhaustive match");const r=mr(n),i=e.length>1;if(r&&i){const n=te(e);return t.concat(os(n))}return t}class ls extends pr{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function cs(e,t,n){const r=new ls;e.accept(r);let i=r.alternations;i=ve(i,e=>!0===e.ignoreAmbiguities);const s=oe(i,r=>{const i=r.idx,s=r.maxLookahead||t,a=Zi(i,e,s,r),o=function(e,t,n,r){const i=[],s=P(e,(n,r,s)=>(!0===t.definition[s].ignoreAmbiguities||_(r,r=>{const a=[s];_(e,(e,n)=>{s!==n&&es(e,r)&&!0!==t.definition[n].ignoreAmbiguities&&a.push(n)}),a.length>1&&!es(i,r)&&(i.push(r),n.push({alts:a,path:r}))}),n),[]),a=F(s,e=>{const i=F(e.alts,e=>e+1);return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:Zs.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:t.idx,alternatives:e.alts}});return a}(a,r,e,n),l=function(e,t,n,r){const i=P(e,(e,t,n)=>{const r=F(t,e=>({idx:n,path:e}));return e.concat(r)},[]),s=Q(oe(i,e=>{if(!0===t.definition[e.idx].ignoreAmbiguities)return[];const s=e.idx,a=e.path,o=M(i,e=>{return!0!==t.definition[e.idx].ignoreAmbiguities&&e.idx<s&&(n=e.path,r=a,n.length<r.length&&se(n,(e,t)=>{const n=r[t];return e===n||n.categoryMatchesMap[e.tokenTypeIdx]}));var n,r});return F(o,e=>{const i=[e.idx+1,s+1],a=0===t.idx?"":t.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:Zs.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:a,alternatives:i}})}));return s}(a,r,e,n);return o.concat(l)});return s}class us extends pr{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function ds(e){const t=j(e,{errMsgProvider:Ci}),n={};return _(e.rules,e=>{n[e.name]=e}),function(e,t){const n=new wi(e,t);return n.resolveRefs(),n.errors}(n,t.errMsgProvider)}const hs="MismatchedTokenException",fs="NoViableAltException",ps="EarlyExitException",ms="NotAllInputParsedException",gs=[hs,fs,ps,ms];function ys(e){return pe(gs,e.name)}Object.freeze(gs);class Ts extends Error{constructor(e,t){super(e),this.token=t,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class vs extends Ts{constructor(e,t,n){super(e,t),this.previousToken=n,this.name=hs}}class Rs extends Ts{constructor(e,t,n){super(e,t),this.previousToken=n,this.name=fs}}class $s extends Ts{constructor(e,t){super(e,t),this.name=ms}}class Es extends Ts{constructor(e,t,n){super(e,t),this.previousToken=n,this.name=ps}}const As={},ks="InRuleRecoveryException";class xs extends Error{constructor(e){super(e),this.name=ks}}function Is(e,t,n,r,i,s,a){const o=this.getKeyForAutomaticLookahead(r,i);let l=this.firstAfterRepMap[o];if(void 0===l){const e=this.getCurrRuleFullName();l=new s(this.getGAstProductions()[e],i).startWalking(),this.firstAfterRepMap[o]=l}let c=l.token,u=l.occurrence;const d=l.isEndOfRule;1===this.RULE_STACK.length&&d&&void 0===c&&(c=ki,u=1),void 0!==c&&void 0!==u&&this.shouldInRepetitionRecoveryBeTried(c,u,a)&&this.tryInRepetitionRecovery(e,t,n,c)}const Ss=1024,Cs=1280,Ns=1536;function ws(e,t,n){return n|t|e}class Ls{constructor(e){var t;this.maxLookahead=null!==(t=null==e?void 0:e.maxLookahead)&&void 0!==t?t:Xs.maxLookahead}validate(e){const t=this.validateNoLeftRecursion(e.rules);if(p(t)){const n=this.validateEmptyOrAlternatives(e.rules),r=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),i=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...t,...n,...r,...i]}return t}validateNoLeftRecursion(e){return oe(e,e=>as(e,e,Ni))}validateEmptyOrAlternatives(e){return oe(e,e=>function(e,t){const n=new ls;return e.accept(n),oe(n.alternations,n=>oe(ne(n.definition),(r,i)=>{const s=Fi([r],[],Jr,1);return p(s)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:n,emptyChoiceIdx:i}),type:Zs.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:n.idx,alternative:i+1}]:[]}))}(e,Ni))}validateAmbiguousAlternationAlternatives(e,t){return oe(e,e=>cs(e,t,Ni))}validateSomeNonEmptyLookaheadPath(e,t){return function(e,t,n){const r=[];return _(e,e=>{const i=new us;e.accept(i);const s=i.allProductions;_(s,i=>{const s=Ki(i),a=i.maxLookahead||t,o=Ji(i.idx,e,s,a)[0];if(p(B(o))){const t=n.buildEmptyRepetitionError({topLevelRule:e,repetition:i});r.push({message:t,type:Zs.NO_NON_EMPTY_LOOKAHEAD,ruleName:e.name})}})}),r}(e,t,Ni)}buildLookaheadForAlternation(e){return function(e,t,n,r,i,s){const a=Zi(e,t,n);return s(a,r,ts(a)?ei:Jr,i)}(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,ji)}buildLookaheadForOptional(e){return function(e,t,n,r,i,s){const a=Ji(e,t,i,n),o=ts(a)?ei:Jr;return s(a[0],o,r)}(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,Ki(e.prodType),Hi)}}const bs=new class extends pr{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}};function _s(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset==!0&&(e.endOffset=t.endOffset)}function Os(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset==!0&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function Ps(e,t){Object.defineProperty(e,"name",{enumerable:!1,configurable:!0,writable:!1,value:t})}function Ms(e,t){const n=T(e),r=n.length;for(let i=0;i<r;i++){const r=e[n[i]],s=r.length;for(let e=0;e<s;e++){const n=r[e];void 0===n.tokenTypeIdx&&this[n.name](n.children,t)}}}function Ds(e,t){const n=function(){};Ps(n,e+"BaseSemantics");const r={visit:function(e,t){if(s(e)&&(e=e[0]),!O(e))return this[e.name](e.children,t)},validateVisitor:function(){const e=function(e,t){const n=function(e,t){const n=M(t,t=>!1===f(e[t])),r=F(n,t=>({msg:`Missing visitor method: <${t}> on ${e.constructor.name} CST Visitor.`,type:Us.MISSING_METHOD,methodName:t}));return Q(r)}(e,t);return n}(this,t);if(!p(e)){const t=F(e,e=>e.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:\n\t${t.join("\n\n").replace(/\n/g,"\n\t")}`)}}};return(n.prototype=r).constructor=n,n._RULE_NAMES=t,n}var Us;!function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"}(Us||(Us={}));const Fs={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(Fs);const Gs=!0,Bs=Math.pow(2,8)-1,Ks=Ai({name:"RECORDING_PHASE_TOKEN",pattern:di.NA});ri([Ks]);const Vs=xi(Ks,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(Vs);const js={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}};function Hs(e,t,n,r=!1){Ys(n);const i=H(this.recordingProdStack),s=f(t)?t:t.DEF,a=new e({definition:[],idx:n});return r&&(a.separator=t.SEP),V(t,"MAX_LOOKAHEAD")&&(a.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(a),s.call(this),i.definition.push(a),this.recordingProdStack.pop(),Fs}function Ws(e,t){Ys(t);const n=H(this.recordingProdStack),r=!1===s(e),i=!1===r?e:e.DEF,a=new dr({definition:[],idx:t,ignoreAmbiguities:r&&!0===e.IGNORE_AMBIGUITIES});V(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD);const o=$e(i,e=>f(e.GATE));return a.hasPredicates=o,n.definition.push(a),_(i,e=>{const t=new sr({definition:[]});a.definition.push(t),V(e,"IGNORE_AMBIGUITIES")?t.ignoreAmbiguities=e.IGNORE_AMBIGUITIES:V(e,"GATE")&&(t.ignoreAmbiguities=!0),this.recordingProdStack.push(t),e.ALT.call(this),this.recordingProdStack.pop()}),Fs}function zs(e){return 0===e?"":`${e}`}function Ys(e){if(e<0||e>Bs){const t=new Error(`Invalid DSL Method idx value: <${e}>\n\tIdx value must be a none negative value smaller than ${Bs+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}const qs=xi(ki,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(qs);const Xs=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Si,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Qs=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var Zs,Js,ea;function ta(e=void 0){return function(){return e}}!function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"}(Zs||(Zs={}));class na{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const t=this.className;this.TRACE_INIT("toFastProps",()=>{er(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),_(this.definedRulesNames,e=>{const t=this[e].originalGrammarAction;let n;this.TRACE_INIT(`${e} Rule`,()=>{n=this.topLevelRuleRecord(e,t)}),this.gastProductionsCache[e]=n})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=ds({rules:x(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(p(n)&&!1===this.skipValidations){const n=(e={rules:x(this.gastProductionsCache),tokenTypes:x(this.tokensMap),errMsgProvider:Ni,grammarName:t},ns((e=j(e,{errMsgProvider:Ni})).rules,e.tokenTypes,e.errMsgProvider,e.grammarName)),r=function(e){const t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return F(t,e=>Object.assign({type:Zs.CUSTOM_LOOKAHEAD_VALIDATION},e))}({lookaheadStrategy:this.lookaheadStrategy,rules:x(this.gastProductionsCache),tokenTypes:x(this.tokensMap),grammarName:t});this.definitionErrors=this.definitionErrors.concat(n,r)}var e}),p(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const e=function(e){const t={};return _(e,e=>{const n=new $r(e).startWalking();q(t,n)}),t}(x(this.gastProductionsCache));this.resyncFollows=e}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var e,t;null===(t=(e=this.lookaheadStrategy).initialize)||void 0===t||t.call(e,{rules:x(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(x(this.gastProductionsCache))})),!na.DEFER_DEFINITION_ERRORS_HANDLING&&!p(this.definitionErrors))throw e=F(this.definitionErrors,e=>e.message),new Error(`Parser Definition Errors detected:\n ${e.join("\n-------------------------------\n")}`)})}constructor(e,t){this.definitionErrors=[],this.selfAnalysisDone=!1;const n=this;if(n.initErrorHandler(t),n.initLexerAdapter(),n.initLooksAhead(t),n.initRecognizerEngine(e,t),n.initRecoverable(t),n.initTreeBuilder(t),n.initContentAssist(),n.initGastRecorder(t),n.initPerformanceTracer(t),V(t,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=V(t,"skipValidations")?t.skipValidations:Xs.skipValidations}}na.DEFER_DEFINITION_ERRORS_HANDLING=!1,Js=na,ea=[class{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=V(e,"recoveryEnabled")?e.recoveryEnabled:Xs.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Is)}getTokenToInsert(e){const t=xi(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,t,n,r){const i=this.findReSyncTokenType(),s=this.exportLexerState(),a=[];let o=!1;const l=this.LA(1);let c=this.LA(1);const u=()=>{const e=this.LA(0),t=this.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:l,previous:e,ruleName:this.getCurrRuleFullName()}),n=new vs(t,l,this.LA(0));n.resyncedTokens=ne(a),this.SAVE_ERROR(n)};for(;!o;){if(this.tokenMatcher(c,r))return void u();if(n.call(this))return u(),void e.apply(this,t);this.tokenMatcher(c,i)?o=!0:(c=this.SKIP_TOKEN(),this.addToResyncTokens(c,a))}this.importLexerState(s)}shouldInRepetitionRecoveryBeTried(e,t,n){return!1!==n&&!this.tokenMatcher(this.LA(1),e)&&!this.isBackTracking()&&!this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t))}getFollowsForInRuleRecovery(e,t){const n=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const e=this.SKIP_TOKEN();return this.consumeToken(),e}throw new xs("sad sad panda")}canPerformInRuleRecovery(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,t){if(!this.canTokenTypeBeInsertedInRecovery(e))return!1;if(p(t))return!1;const n=this.LA(1);return void 0!==K(t,e=>this.tokenMatcher(n,e))}canRecoverWithSingleTokenDeletion(e){return!!this.canTokenTypeBeDeletedInRecovery(e)&&this.tokenMatcher(this.LA(2),e)}isInCurrentRuleReSyncSet(e){const t=this.getCurrFollowKey();return pe(this.getFollowSetFromFollowKey(t),e)}findReSyncTokenType(){const e=this.flattenFollowSet();let t=this.LA(1),n=2;for(;;){const r=K(e,e=>Ii(t,e));if(void 0!==r)return r;t=this.LA(n),n++}}getCurrFollowKey(){if(1===this.RULE_STACK.length)return As;const e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,t=this.RULE_OCCURRENCE_STACK;return F(e,(n,r)=>0===r?As:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:t[r],inRule:this.shortRuleNameToFullName(e[r-1])})}flattenFollowSet(){const e=F(this.buildFullFollowKeyStack(),e=>this.getFollowSetFromFollowKey(e));return B(e)}getFollowSetFromFollowKey(e){if(e===As)return[ki];const t=e.ruleName+e.idxInCallingRule+Rr+e.inRule;return this.resyncFollows[t]}addToResyncTokens(e,t){return this.tokenMatcher(e,ki)||t.push(e),t}reSyncTo(e){const t=[];let n=this.LA(1);for(;!1===this.tokenMatcher(n,e);)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,t);return ne(t)}attemptInRepetitionRecovery(e,t,n,r,i,s,a){}getCurrentGrammarPath(e,t){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:z(this.RULE_OCCURRENCE_STACK),lastTok:e,lastTokOccurrence:t}}getHumanReadableRuleStack(){return F(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}},class{initLooksAhead(e){this.dynamicTokensEnabled=V(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:Xs.dynamicTokensEnabled,this.maxLookahead=V(e,"maxLookahead")?e.maxLookahead:Xs.maxLookahead,this.lookaheadStrategy=V(e,"lookaheadStrategy")?e.lookaheadStrategy:new Ls({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){_(e,e=>{this.TRACE_INIT(`${e.name} Rule Lookahead`,()=>{const{alternation:t,repetition:n,option:r,repetitionMandatory:i,repetitionMandatoryWithSeparator:s,repetitionWithSeparator:a}=function(e){bs.reset(),e.accept(bs);const t=bs.dslMethods;return bs.reset(),t}(e);_(t,t=>{const n=0===t.idx?"":t.idx;this.TRACE_INIT(`${gr(t)}${n}`,()=>{const n=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:t.idx,rule:e,maxLookahead:t.maxLookahead||this.maxLookahead,hasPredicates:t.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),r=ws(this.fullRuleNameToShort[e.name],256,t.idx);this.setLaFuncCache(r,n)})}),_(n,t=>{this.computeLookaheadFunc(e,t.idx,768,"Repetition",t.maxLookahead,gr(t))}),_(r,t=>{this.computeLookaheadFunc(e,t.idx,512,"Option",t.maxLookahead,gr(t))}),_(i,t=>{this.computeLookaheadFunc(e,t.idx,Ss,"RepetitionMandatory",t.maxLookahead,gr(t))}),_(s,t=>{this.computeLookaheadFunc(e,t.idx,Ns,"RepetitionMandatoryWithSeparator",t.maxLookahead,gr(t))}),_(a,t=>{this.computeLookaheadFunc(e,t.idx,Cs,"RepetitionWithSeparator",t.maxLookahead,gr(t))})})})}computeLookaheadFunc(e,t,n,r,i,s){this.TRACE_INIT(`${s}${0===t?"":t}`,()=>{const s=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:t,rule:e,maxLookahead:i||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:r}),a=ws(this.fullRuleNameToShort[e.name],n,t);this.setLaFuncCache(a,s)})}getKeyForAutomaticLookahead(e,t){return ws(this.getLastExplicitRuleShortName(),e,t)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,t){this.lookAheadFuncsCache.set(e,t)}},class{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=V(e,"nodeLocationTracking")?e.nodeLocationTracking:Xs.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Os,this.setNodeLocationFromNode=Os,this.cstPostRule=D,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=D,this.setNodeLocationFromNode=D,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=_s,this.setNodeLocationFromNode=_s,this.cstPostRule=D,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=D,this.setNodeLocationFromNode=D,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`);this.setNodeLocationFromToken=D,this.setNodeLocationFromNode=D,this.cstPostRule=D,this.setInitialNodeLocation=D}else this.cstInvocationStateUpdate=D,this.cstFinallyStateUpdate=D,this.cstPostTerminal=D,this.cstPostNonTerminal=D,this.cstPostRule=D}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const t={name:e,children:Object.create(null)};this.setInitialNodeLocation(t),this.CST_STACK.push(t)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const t=this.LA(0),n=e.location;n.startOffset<=t.startOffset==1?(n.endOffset=t.endOffset,n.endLine=t.endLine,n.endColumn=t.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(e){const t=this.LA(0),n=e.location;n.startOffset<=t.startOffset==1?n.endOffset=t.endOffset:n.startOffset=NaN}cstPostTerminal(e,t){const n=this.CST_STACK[this.CST_STACK.length-1];var r,i,s;i=t,s=e,void 0===(r=n).children[s]?r.children[s]=[i]:r.children[s].push(i),this.setNodeLocationFromToken(n.location,t)}cstPostNonTerminal(e,t){const n=this.CST_STACK[this.CST_STACK.length-1];!function(e,t,n){void 0===e.children[t]?e.children[t]=[n]:e.children[t].push(n)}(n,t,e),this.setNodeLocationFromNode(n.location,e.location)}getBaseCstVisitorConstructor(){if(O(this.baseCstVisitorConstructor)){const e=Ds(this.className,T(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(O(this.baseCstVisitorWithDefaultsConstructor)){const e=function(e,t,n){const r=function(){};Ps(r,e+"BaseSemanticsWithDefaults");const i=Object.create(n.prototype);return _(t,e=>{i[e]=Ms}),(r.prototype=i).constructor=r,r}(this.className,T(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}},class{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):qs}LA(e){const t=this.currIdx+e;return t<0||this.tokVectorLength<=t?qs:this.tokVector[t]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},class{initRecognizerEngine(e,t){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=ei,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},V(t,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if(s(e)){if(p(e))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof e[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(s(e))this.tokensMap=P(e,(e,t)=>(e[t.name]=t,e),{});else if(V(e,"modes")&&se(B(x(e.modes)),oi)){const t=Ee(B(x(e.modes)));this.tokensMap=P(t,(e,t)=>(e[t.name]=t,e),{})}else{if(!g(e))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=z(e)}this.tokensMap.EOF=ki;const n=se(V(e,"modes")?B(x(e.modes)):x(e),e=>p(e.categoryMatches));this.tokenMatcher=n?ei:Jr,ri(x(this.tokensMap))}defineRule(e,t,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const r=V(n,"resyncEnabled")?n.resyncEnabled:Qs.resyncEnabled,i=V(n,"recoveryValueFunc")?n.recoveryValueFunc:Qs.recoveryValueFunc,s=this.ruleShortNameIdx<<12;let a;return this.ruleShortNameIdx++,this.shortRuleNameToFull[s]=e,this.fullRuleNameToShort[e]=s,a=!0===this.outputCst?function(...n){try{this.ruleInvocationStateUpdate(s,e,this.subruleIdx),t.apply(this,n);const r=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(r),r}catch(a){return this.invokeRuleCatch(a,r,i)}finally{this.ruleFinallyStateUpdate()}}:function(...n){try{return this.ruleInvocationStateUpdate(s,e,this.subruleIdx),t.apply(this,n)}catch(a){return this.invokeRuleCatch(a,r,i)}finally{this.ruleFinallyStateUpdate()}},Object.assign(a,{ruleName:e,originalGrammarAction:t})}invokeRuleCatch(e,t,n){const r=1===this.RULE_STACK.length,i=t&&!this.isBackTracking()&&this.recoveryEnabled;if(ys(e)){const t=e;if(i){const r=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(r)){if(t.resyncedTokens=this.reSyncTo(r),this.outputCst){const e=this.CST_STACK[this.CST_STACK.length-1];return e.recoveredNode=!0,e}return n(e)}if(this.outputCst){const e=this.CST_STACK[this.CST_STACK.length-1];e.recoveredNode=!0,t.partialCstResult=e}throw t}if(r)return this.moveToTerminatedState(),n(e);throw t}throw e}optionInternal(e,t){const n=this.getKeyForAutomaticLookahead(512,t);return this.optionInternalLogic(e,t,n)}optionInternalLogic(e,t,n){let r,i=this.getLaFuncFromCache(n);if("function"!=typeof e){r=e.DEF;const t=e.GATE;if(void 0!==t){const e=i;i=()=>t.call(this)&&e.call(this)}}else r=e;if(!0===i.call(this))return r.call(this)}atLeastOneInternal(e,t){const n=this.getKeyForAutomaticLookahead(Ss,e);return this.atLeastOneInternalLogic(e,t,n)}atLeastOneInternalLogic(e,t,n){let r,i=this.getLaFuncFromCache(n);if("function"!=typeof t){r=t.DEF;const e=t.GATE;if(void 0!==e){const t=i;i=()=>e.call(this)&&t.call(this)}}else r=t;if(!0!==i.call(this))throw this.raiseEarlyExitException(e,Bi.REPETITION_MANDATORY,t.ERR_MSG);{let e=this.doSingleRepetition(r);for(;!0===i.call(this)&&!0===e;)e=this.doSingleRepetition(r)}this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],i,Ss,e,Mi)}atLeastOneSepFirstInternal(e,t){const n=this.getKeyForAutomaticLookahead(Ns,e);this.atLeastOneSepFirstInternalLogic(e,t,n)}atLeastOneSepFirstInternalLogic(e,t,n){const r=t.DEF,i=t.SEP;if(!0!==this.getLaFuncFromCache(n).call(this))throw this.raiseEarlyExitException(e,Bi.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG);{r.call(this);const t=()=>this.tokenMatcher(this.LA(1),i);for(;!0===this.tokenMatcher(this.LA(1),i);)this.CONSUME(i),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,t,r,Di],t,Ns,e,Di)}}manyInternal(e,t){const n=this.getKeyForAutomaticLookahead(768,e);return this.manyInternalLogic(e,t,n)}manyInternalLogic(e,t,n){let r,i=this.getLaFuncFromCache(n);if("function"!=typeof t){r=t.DEF;const e=t.GATE;if(void 0!==e){const t=i;i=()=>e.call(this)&&t.call(this)}}else r=t;let s=!0;for(;!0===i.call(this)&&!0===s;)s=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],i,768,e,Oi,s)}manySepFirstInternal(e,t){const n=this.getKeyForAutomaticLookahead(Cs,e);this.manySepFirstInternalLogic(e,t,n)}manySepFirstInternalLogic(e,t,n){const r=t.DEF,i=t.SEP;if(!0===this.getLaFuncFromCache(n).call(this)){r.call(this);const t=()=>this.tokenMatcher(this.LA(1),i);for(;!0===this.tokenMatcher(this.LA(1),i);)this.CONSUME(i),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,t,r,Pi],t,Cs,e,Pi)}}repetitionSepSecondInternal(e,t,n,r,i){for(;n();)this.CONSUME(t),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,n,r,i],n,Ns,e,i)}doSingleRepetition(e){const t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t}orInternal(e,t){const n=this.getKeyForAutomaticLookahead(256,t),r=s(e)?e:e.DEF,i=this.getLaFuncFromCache(n).call(this,r);if(void 0!==i)return r[i].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){const e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new $s(t,e))}}subruleInternal(e,t,n){let r;try{const i=void 0!==n?n.ARGS:void 0;return this.subruleIdx=t,r=e.apply(this,i),this.cstPostNonTerminal(r,void 0!==n&&void 0!==n.LABEL?n.LABEL:e.ruleName),r}catch(i){throw this.subruleInternalError(i,n,e.ruleName)}}subruleInternalError(e,t,n){throw ys(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==t&&void 0!==t.LABEL?t.LABEL:n),delete e.partialCstResult),e}consumeInternal(e,t,n){let r;try{const t=this.LA(1);!0===this.tokenMatcher(t,e)?(this.consumeToken(),r=t):this.consumeInternalError(e,t,n)}catch(i){r=this.consumeInternalRecovery(e,t,i)}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:e.name,r),r}consumeInternalError(e,t,n){let r;const i=this.LA(0);throw r=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new vs(r,t,i))}consumeInternalRecovery(e,t,n){if(!this.recoveryEnabled||"MismatchedTokenException"!==n.name||this.isBackTracking())throw n;{const i=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,i)}catch(r){throw r.name===ks?n:r}}}saveRecogState(){const e=this.errors,t=z(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,t,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t)}isBackTracking(){return 0!==this.isBackTrackingStack.length}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),ki)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},class{ACTION(e){return e.call(this)}consume(e,t,n){return this.consumeInternal(t,e,n)}subrule(e,t,n){return this.subruleInternal(t,e,n)}option(e,t){return this.optionInternal(t,e)}or(e,t){return this.orInternal(t,e)}many(e,t){return this.manyInternal(e,t)}atLeastOne(e,t){return this.atLeastOneInternal(e,t)}CONSUME(e,t){return this.consumeInternal(e,0,t)}CONSUME1(e,t){return this.consumeInternal(e,1,t)}CONSUME2(e,t){return this.consumeInternal(e,2,t)}CONSUME3(e,t){return this.consumeInternal(e,3,t)}CONSUME4(e,t){return this.consumeInternal(e,4,t)}CONSUME5(e,t){return this.consumeInternal(e,5,t)}CONSUME6(e,t){return this.consumeInternal(e,6,t)}CONSUME7(e,t){return this.consumeInternal(e,7,t)}CONSUME8(e,t){return this.consumeInternal(e,8,t)}CONSUME9(e,t){return this.consumeInternal(e,9,t)}SUBRULE(e,t){return this.subruleInternal(e,0,t)}SUBRULE1(e,t){return this.subruleInternal(e,1,t)}SUBRULE2(e,t){return this.subruleInternal(e,2,t)}SUBRULE3(e,t){return this.subruleInternal(e,3,t)}SUBRULE4(e,t){return this.subruleInternal(e,4,t)}SUBRULE5(e,t){return this.subruleInternal(e,5,t)}SUBRULE6(e,t){return this.subruleInternal(e,6,t)}SUBRULE7(e,t){return this.subruleInternal(e,7,t)}SUBRULE8(e,t){return this.subruleInternal(e,8,t)}SUBRULE9(e,t){return this.subruleInternal(e,9,t)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,t,n=Qs){if(pe(this.definedRulesNames,e)){const t={message:Ni.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:Zs.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(t)}this.definedRulesNames.push(e);const r=this.defineRule(e,t,n);return this[e]=r,r}OVERRIDE_RULE(e,t,n=Qs){const r=function(e,t,n){const r=[];let i;return pe(t,e)||(i=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${n}<-as it is not defined in any of the super grammars `,r.push({message:i,type:Zs.INVALID_RULE_OVERRIDE,ruleName:e})),r}(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(r);const i=this.defineRule(e,t,n);return this[e]=i,i}BACKTRACK(e,t){return function(){this.isBackTrackingStack.push(1);const n=this.saveRecogState();try{return e.apply(this,t),!0}catch(r){if(ys(r))return!1;throw r}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return e=x(this.gastProductionsCache),F(e,fr);var e}},class{initErrorHandler(e){this._errors=[],this.errorMessageProvider=V(e,"errorMessageProvider")?e.errorMessageProvider:Xs.errorMessageProvider}SAVE_ERROR(e){if(ys(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:z(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return z(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,t,n){const r=this.getCurrRuleFullName(),i=Ji(e,this.getGAstProductions()[r],t,this.maxLookahead)[0],s=[];for(let o=1;o<=this.maxLookahead;o++)s.push(this.LA(o));const a=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:i,actual:s,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new Es(a,this.LA(1),this.LA(0)))}raiseNoAltException(e,t){const n=this.getCurrRuleFullName(),r=Zi(e,this.getGAstProductions()[n],this.maxLookahead),i=[];for(let o=1;o<=this.maxLookahead;o++)i.push(this.LA(o));const s=this.LA(0),a=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:r,actual:i,previous:s,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new Rs(a,this.LA(1),s))}},class{initContentAssist(){}computeContentAssist(e,t){const n=this.gastProductionsCache[e];if(O(n))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return Fi([n],t,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const t=ae(e.ruleStack),n=this.getGAstProductions()[t];return new bi(n,e).startWalking()}},class{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const t=e>0?e:"";this[`CONSUME${t}`]=function(t,n){return this.consumeInternalRecord(t,e,n)},this[`SUBRULE${t}`]=function(t,n){return this.subruleInternalRecord(t,e,n)},this[`OPTION${t}`]=function(t){return this.optionInternalRecord(t,e)},this[`OR${t}`]=function(t){return this.orInternalRecord(t,e)},this[`MANY${t}`]=function(t){this.manyInternalRecord(e,t)},this[`MANY_SEP${t}`]=function(t){this.manySepFirstInternalRecord(e,t)},this[`AT_LEAST_ONE${t}`]=function(t){this.atLeastOneInternalRecord(e,t)},this[`AT_LEAST_ONE_SEP${t}`]=function(t){this.atLeastOneSepFirstInternalRecord(e,t)}}this.consume=function(e,t,n){return this.consumeInternalRecord(t,e,n)},this.subrule=function(e,t,n){return this.subruleInternalRecord(t,e,n)},this.option=function(e,t){return this.optionInternalRecord(t,e)},this.or=function(e,t){return this.orInternalRecord(t,e)},this.many=function(e,t){this.manyInternalRecord(e,t)},this.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let t=0;t<10;t++){const n=t>0?t:"";delete e[`CONSUME${n}`],delete e[`SUBRULE${n}`],delete e[`OPTION${n}`],delete e[`OR${n}`],delete e[`MANY${n}`],delete e[`MANY_SEP${n}`],delete e[`AT_LEAST_ONE${n}`],delete e[`AT_LEAST_ONE_SEP${n}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,t){return()=>!0}LA_RECORD(e){return qs}topLevelRuleRecord(e,t){try{const n=new ir({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),t.call(this),this.recordingProdStack.pop(),n}catch(n){if(!0!==n.KNOWN_RECORDER_ERROR)try{n.message=n.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch(r){throw n}throw n}}optionInternalRecord(e,t){return Hs.call(this,ar,e,t)}atLeastOneInternalRecord(e,t){Hs.call(this,or,t,e)}atLeastOneSepFirstInternalRecord(e,t){Hs.call(this,lr,t,e,Gs)}manyInternalRecord(e,t){Hs.call(this,cr,t,e)}manySepFirstInternalRecord(e,t){Hs.call(this,ur,t,e,Gs)}orInternalRecord(e,t){return Ws.call(this,e,t)}subruleInternalRecord(e,t,n){if(Ys(t),!e||!1===V(e,"ruleName")){const n=new Error(`<SUBRULE${zs(t)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw n.KNOWN_RECORDER_ERROR=!0,n}const r=H(this.recordingProdStack),i=e.ruleName,s=new rr({idx:t,nonTerminalName:i,label:null==n?void 0:n.LABEL,referencedRule:void 0});return r.definition.push(s),this.outputCst?js:Fs}consumeInternalRecord(e,t,n){if(Ys(t),!si(e)){const n=new Error(`<CONSUME${zs(t)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw n.KNOWN_RECORDER_ERROR=!0,n}const r=H(this.recordingProdStack),i=new hr({idx:t,terminalType:e,label:null==n?void 0:n.LABEL});return r.definition.push(i),Vs}},class{initPerformanceTracer(e){if(V(e,"traceInitPerf")){const t=e.traceInitPerf,n="number"==typeof t;this.traceInitMaxIdent=n?t:1/0,this.traceInitPerf=n?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=Xs.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent,this.traceInitMaxIdent;const{time:r,value:i}=Jn(t),s=r>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(`${n}<-- <${e}> time: ${r}ms`),this.traceInitIndent--,i}return t()}}],ea.forEach(e=>{const t=e.prototype;Object.getOwnPropertyNames(t).forEach(n=>{if("constructor"===n)return;const r=Object.getOwnPropertyDescriptor(t,n);r&&(r.get||r.set)?Object.defineProperty(Js.prototype,n,r):Js.prototype[n]=e.prototype[n]})});class ra extends na{constructor(e,t=Xs){const n=z(t);n.outputCst=!1,super(e,n)}}function ia(e,t,n){return`${e.name}_${t}_${n}`}class sa{constructor(e){this.target=e}isEpsilon(){return!1}}class aa extends sa{constructor(e,t){super(e),this.tokenType=t}}class oa extends sa{constructor(e){super(e)}isEpsilon(){return!0}}class la extends sa{constructor(e,t,n){super(e),this.rule=t,this.followState=n}isEpsilon(){return!0}}function ca(e){const t={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};!function(e,t){const n=t.length;for(let r=0;r<n;r++){const n=t[r],i=va(e,n,void 0,{type:2}),s=va(e,n,void 0,{type:7});i.stop=s,e.ruleToStartState.set(n,i),e.ruleToStopState.set(n,s)}}(t,e);const n=e.length;for(let r=0;r<n;r++){const n=e[r],i=da(t,n,n);void 0!==i&&ya(t,n,i)}return t}function ua(e,t,n){return n instanceof hr?ga(e,t,n.terminalType,n):n instanceof rr?function(e,t,n){const r=n.referencedRule,i=e.ruleToStartState.get(r),s=va(e,t,n,{type:1}),a=va(e,t,n,{type:1}),o=new la(i,r,a);return Ra(s,o),{left:s,right:a}}(e,t,n):n instanceof dr?function(e,t,n){const r=va(e,t,n,{type:1});pa(e,r);const i=F(n.definition,n=>ua(e,t,n)),s=ma(e,t,r,n,...i);return s}(e,t,n):n instanceof ar?function(e,t,n){const r=va(e,t,n,{type:1});pa(e,r);const i=ma(e,t,r,n,da(e,t,n));return function(e,t,n,r){const i=r.left,s=r.right;return Ta(i,s),e.decisionMap[ia(t,"Option",n.idx)]=i,r}(e,t,n,i)}(e,t,n):n instanceof cr?function(e,t,n){const r=va(e,t,n,{type:5});pa(e,r);const i=ma(e,t,r,n,da(e,t,n));return fa(e,t,n,i)}(e,t,n):n instanceof ur?function(e,t,n){const r=va(e,t,n,{type:5});pa(e,r);const i=ma(e,t,r,n,da(e,t,n)),s=ga(e,t,n.separator,n);return fa(e,t,n,i,s)}(e,t,n):n instanceof or?function(e,t,n){const r=va(e,t,n,{type:4});pa(e,r);const i=ma(e,t,r,n,da(e,t,n));return ha(e,t,n,i)}(e,t,n):n instanceof lr?function(e,t,n){const r=va(e,t,n,{type:4});pa(e,r);const i=ma(e,t,r,n,da(e,t,n)),s=ga(e,t,n.separator,n);return ha(e,t,n,i,s)}(e,t,n):da(e,t,n)}function da(e,t,n){const r=M(F(n.definition,n=>ua(e,t,n)),e=>void 0!==e);return 1===r.length?r[0]:0===r.length?void 0:function(e,t){const n=t.length;for(let s=0;s<n-1;s++){const n=t[s];let r;1===n.left.transitions.length&&(r=n.left.transitions[0]);const i=r instanceof la,a=r,o=t[s+1].left;1===n.left.type&&1===n.right.type&&void 0!==r&&(i&&a.followState===n.right||r.target===n.right)?(i?a.followState=o:r.target=o,$a(e,n.right)):Ta(n.right,o)}const r=t[0],i=t[n-1];return{left:r.left,right:i.right}}(e,r)}function ha(e,t,n,r,i){const s=r.left,a=r.right,o=va(e,t,n,{type:11});pa(e,o);const l=va(e,t,n,{type:12});return s.loopback=o,l.loopback=o,e.decisionMap[ia(t,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",n.idx)]=o,Ta(a,o),void 0===i?(Ta(o,s),Ta(o,l)):(Ta(o,l),Ta(o,i.left),Ta(i.right,s)),{left:s,right:l}}function fa(e,t,n,r,i){const s=r.left,a=r.right,o=va(e,t,n,{type:10});pa(e,o);const l=va(e,t,n,{type:12}),c=va(e,t,n,{type:9});return o.loopback=c,l.loopback=c,Ta(o,s),Ta(o,l),Ta(a,c),void 0!==i?(Ta(c,l),Ta(c,i.left),Ta(i.right,s)):Ta(c,o),e.decisionMap[ia(t,i?"RepetitionWithSeparator":"Repetition",n.idx)]=o,{left:o,right:l}}function pa(e,t){return e.decisionStates.push(t),t.decision=e.decisionStates.length-1,t.decision}function ma(e,t,n,r,...i){const s=va(e,t,r,{type:8,start:n});n.end=s;for(const o of i)void 0!==o?(Ta(n,o.left),Ta(o.right,s)):Ta(n,s);const a={left:n,right:s};return e.decisionMap[ia(t,function(e){if(e instanceof dr)return"Alternation";if(e instanceof ar)return"Option";if(e instanceof cr)return"Repetition";if(e instanceof ur)return"RepetitionWithSeparator";if(e instanceof or)return"RepetitionMandatory";if(e instanceof lr)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}(r),r.idx)]=n,a}function ga(e,t,n,r){const i=va(e,t,r,{type:1}),s=va(e,t,r,{type:1});return Ra(i,new aa(s,n)),{left:i,right:s}}function ya(e,t,n){const r=e.ruleToStartState.get(t);Ta(r,n.left);const i=e.ruleToStopState.get(t);Ta(n.right,i);return{left:r,right:i}}function Ta(e,t){Ra(e,new oa(t))}function va(e,t,n,r){const i=Object.assign({atn:e,production:n,epsilonOnlyTransitions:!1,rule:t,transitions:[],nextTokenWithinRule:[],stateNumber:e.states.length},r);return e.states.push(i),i}function Ra(e,t){0===e.transitions.length&&(e.epsilonOnlyTransitions=t.isEpsilon()),e.transitions.push(t)}function $a(e,t){e.states.splice(e.states.indexOf(t),1)}const Ea={};class Aa{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){const t=ka(e);t in this.map||(this.map[t]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return F(this.configs,e=>e.alt)}get key(){let e="";for(const t in this.map)e+=t+":";return e}}function ka(e,t=!0){return`${t?`a${e.alt}`:""}s${e.state.stateNumber}:${e.stack.map(e=>e.stateNumber.toString()).join("_")}`}function xa(e,t){const n={};return r=>{const i=r.toString();let s=n[i];return void 0!==s||(s={atnStartState:e,decision:t,states:{}},n[i]=s),s}}class Ia{constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,t){this.predicates[e]=t}toString(){let e="";const t=this.predicates.length;for(let n=0;n<t;n++)e+=!0===this.predicates[n]?"1":"0";return e}}const Sa=new Ia;class Ca extends Ls{constructor(e){var t;super(),this.logging=null!==(t=null==e?void 0:e.logging)&&void 0!==t?t:e=>{}}initialize(e){this.atn=ca(e.rules),this.dfas=function(e){const t=e.decisionStates.length,n=Array(t);for(let r=0;r<t;r++)n[r]=xa(e.decisionStates[r],r);return n}(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){const{prodOccurrence:t,rule:n,hasPredicates:r,dynamicTokensEnabled:i}=e,s=this.dfas,a=this.logging,o=ia(n,"Alternation",t),l=this.atn.decisionMap[o].decision,c=F(Vi({maxLookahead:1,occurrence:t,prodType:"Alternation",rule:n}),e=>F(e,e=>e[0]));if(Na(c,!1)&&!i){const e=P(c,(e,t,n)=>(_(t,t=>{t&&(e[t.tokenTypeIdx]=n,_(t.categoryMatches,t=>{e[t]=n}))}),e),{});return r?function(t){var n;const r=this.LA(1),i=e[r.tokenTypeIdx];if(void 0!==t&&void 0!==i){const e=null===(n=t[i])||void 0===n?void 0:n.GATE;if(void 0!==e&&!1===e.call(this))return}return i}:function(){const t=this.LA(1);return e[t.tokenTypeIdx]}}return r?function(e){const t=new Ia,n=void 0===e?0:e.length;for(let i=0;i<n;i++){const n=null==e?void 0:e[i].GATE;t.set(i,void 0===n||n.call(this))}const r=wa.call(this,s,l,t,a);return"number"==typeof r?r:void 0}:function(){const e=wa.call(this,s,l,Sa,a);return"number"==typeof e?e:void 0}}buildLookaheadForOptional(e){const{prodOccurrence:t,rule:n,prodType:r,dynamicTokensEnabled:i}=e,s=this.dfas,a=this.logging,o=ia(n,r,t),l=this.atn.decisionMap[o].decision,c=F(Vi({maxLookahead:1,occurrence:t,prodType:r,rule:n}),e=>F(e,e=>e[0]));if(Na(c)&&c[0][0]&&!i){const e=c[0],t=B(e);if(1===t.length&&p(t[0].categoryMatches)){const e=t[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===e}}{const e=P(t,(e,t)=>(void 0!==t&&(e[t.tokenTypeIdx]=!0,_(t.categoryMatches,t=>{e[t]=!0})),e),{});return function(){const t=this.LA(1);return!0===e[t.tokenTypeIdx]}}}return function(){const e=wa.call(this,s,l,Sa,a);return"object"!=typeof e&&0===e}}}function Na(e,t=!0){const n=new Set;for(const r of e){const e=new Set;for(const i of r){if(void 0===i){if(t)break;return!1}const r=[i.tokenTypeIdx].concat(i.categoryMatches);for(const t of r)if(n.has(t)){if(!e.has(t))return!1}else n.add(t),e.add(t)}}return!0}function wa(e,t,n,r){const i=e[t](n);let s=i.start;if(void 0===s){s=Fa(i,Da(Ga(i.atnStartState))),i.start=s}return La.apply(this,[i,s,n,r])}function La(e,t,n,r){let i=t,s=1;const a=[];let o=this.LA(s++);for(;;){let t=Pa(i,o);if(void 0===t&&(t=ba.apply(this,[e,i,o,s,n,r])),t===Ea)return Oa(a,i,o);if(!0===t.isAcceptState)return t.prediction;i=t,a.push(o),o=this.LA(s++)}}function ba(e,t,n,r,i,s){const a=function(e,t,n){const r=new Aa,i=[];for(const a of e.elements){if(!1===n.is(a.alt))continue;if(7===a.state.type){i.push(a);continue}const e=a.state.transitions.length;for(let n=0;n<e;n++){const e=Ma(a.state.transitions[n],t);void 0!==e&&r.add({state:e,alt:a.alt,stack:a.stack})}}let s;0===i.length&&1===r.size&&(s=r);if(void 0===s){s=new Aa;for(const e of r.elements)Ba(e,s)}if(i.length>0&&!function(e){for(const t of e.elements)if(7===t.state.type)return!0;return!1}(s))for(const a of i)s.add(a);return s}(t.configs,n,i);if(0===a.size)return Ua(e,t,n,Ea),Ea;let o=Da(a);const l=function(e,t){let n;for(const r of e.elements)if(!0===t.is(r.alt))if(void 0===n)n=r.alt;else if(n!==r.alt)return;return n}(a,i);if(void 0!==l)o.isAcceptState=!0,o.prediction=l,o.configs.uniqueAlt=l;else if(function(e){if(function(e){for(const t of e.elements)if(7!==t.state.type)return!1;return!0}(e))return!0;const t=function(e){const t=new Map;for(const n of e){const e=ka(n,!1);let r=t.get(e);void 0===r&&(r={},t.set(e,r)),r[n.alt]=!0}return t}(e.elements);return function(e){for(const t of Array.from(e.values()))if(Object.keys(t).length>1)return!0;return!1}(t)&&!function(e){for(const t of Array.from(e.values()))if(1===Object.keys(t).length)return!0;return!1}(t)}(a)){const t=W(a.alts);o.isAcceptState=!0,o.prediction=t,o.configs.uniqueAlt=t,_a.apply(this,[e,r,a.alts,s])}return o=Ua(e,t,n,o),o}function _a(e,t,n,r){const i=[];for(let a=1;a<=t;a++)i.push(this.LA(a).tokenType);const s=e.atnStartState;r(function(e){const t=F(e.prefixPath,e=>hi(e)).join(", "),n=0===e.production.idx?"":e.production.idx;let r=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(", ")}> in <${function(e){if(e instanceof rr)return"SUBRULE";if(e instanceof ar)return"OPTION";if(e instanceof dr)return"OR";if(e instanceof or)return"AT_LEAST_ONE";if(e instanceof lr)return"AT_LEAST_ONE_SEP";if(e instanceof ur)return"MANY_SEP";if(e instanceof cr)return"MANY";if(e instanceof hr)return"CONSUME";throw Error("non exhaustive match")}(e.production)}${n}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\n`;return r+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",r}({topLevelRule:s.rule,ambiguityIndices:n,production:s.production,prefixPath:i}))}function Oa(e,t,n){const r=oe(t.configs.elements,e=>e.state.transitions);var i,s;return{actualToken:n,possibleTokenTypes:(i=r.filter(e=>e instanceof aa).map(e=>e.tokenType),s=e=>e.tokenTypeIdx,i&&i.length?b(i,R(s)):[]),tokenPath:e}}function Pa(e,t){return e.edges[t.tokenTypeIdx]}function Ma(e,t){if(e instanceof aa&&Ii(t,e.tokenType))return e.target}function Da(e){return{configs:e,edges:{},isAcceptState:!1,prediction:-1}}function Ua(e,t,n,r){return r=Fa(e,r),t.edges[n.tokenTypeIdx]=r,r}function Fa(e,t){if(t===Ea)return t;const n=t.configs.key,r=e.states[n];return void 0!==r?r:(t.configs.finalize(),e.states[n]=t,t)}function Ga(e){const t=new Aa,n=e.transitions.length;for(let r=0;r<n;r++){Ba({state:e.transitions[r].target,alt:r,stack:[]},t)}return t}function Ba(e,t){const n=e.state;if(7===n.type){if(e.stack.length>0){const n=[...e.stack];Ba({state:n.pop(),alt:e.alt,stack:n},t)}else t.add(e);return}n.epsilonOnlyTransitions||t.add(e);const r=n.transitions.length;for(let i=0;i<r;i++){const r=Ka(e,n.transitions[i]);void 0!==r&&Ba(r,t)}}function Ka(e,t){if(t instanceof oa)return{state:t.target,alt:e.alt,stack:e.stack};if(t instanceof la){const n=[...e.stack,t.followState];return{state:t.target,alt:e.alt,stack:n}}}var Va,ja,Ha,Wa,za,Ya,qa,Xa,Qa,Za,Ja,eo,to,no,ro,io,so,ao,oo,lo,co,uo,ho,fo,po,mo,go,yo,To,vo,Ro,$o,Eo,Ao,ko,xo,Io,So,Co,No,wo,Lo,bo,_o,Oo,Po,Mo,Do,Uo,Fo,Go,Bo,Ko,Vo,jo,Ho,Wo,zo,Yo,qo,Xo,Qo,Zo,Jo,el,tl,nl,rl,il,sl,al,ol,ll,cl,ul,dl,hl,fl,pl;!function(e){e.is=function(e){return"string"==typeof e}}(Va||(Va={})),(ja||(ja={})).is=function(e){return"string"==typeof e},function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(Ha||(Ha={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(Wa||(Wa={})),function(e){e.create=function(e,t){return e===Number.MAX_VALUE&&(e=Wa.MAX_VALUE),t===Number.MAX_VALUE&&(t=Wa.MAX_VALUE),{line:e,character:t}},e.is=function(e){let t=e;return gl.objectLiteral(t)&&gl.uinteger(t.line)&&gl.uinteger(t.character)}}(za||(za={})),function(e){e.create=function(e,t,n,r){if(gl.uinteger(e)&&gl.uinteger(t)&&gl.uinteger(n)&&gl.uinteger(r))return{start:za.create(e,t),end:za.create(n,r)};if(za.is(e)&&za.is(t))return{start:e,end:t};throw new Error(`Range#create called with invalid arguments[${e}, ${t}, ${n}, ${r}]`)},e.is=function(e){let t=e;return gl.objectLiteral(t)&&za.is(t.start)&&za.is(t.end)}}(Ya||(Ya={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){let t=e;return gl.objectLiteral(t)&&Ya.is(t.range)&&(gl.string(t.uri)||gl.undefined(t.uri))}}(qa||(qa={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){let t=e;return gl.objectLiteral(t)&&Ya.is(t.targetRange)&&gl.string(t.targetUri)&&Ya.is(t.targetSelectionRange)&&(Ya.is(t.originSelectionRange)||gl.undefined(t.originSelectionRange))}}(Xa||(Xa={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){const t=e;return gl.objectLiteral(t)&&gl.numberRange(t.red,0,1)&&gl.numberRange(t.green,0,1)&&gl.numberRange(t.blue,0,1)&&gl.numberRange(t.alpha,0,1)}}(Qa||(Qa={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){const t=e;return gl.objectLiteral(t)&&Ya.is(t.range)&&Qa.is(t.color)}}(Za||(Za={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){const t=e;return gl.objectLiteral(t)&&gl.string(t.label)&&(gl.undefined(t.textEdit)||lo.is(t))&&(gl.undefined(t.additionalTextEdits)||gl.typedArray(t.additionalTextEdits,lo.is))}}(Ja||(Ja={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(eo||(eo={})),function(e){e.create=function(e,t,n,r,i,s){const a={startLine:e,endLine:t};return gl.defined(n)&&(a.startCharacter=n),gl.defined(r)&&(a.endCharacter=r),gl.defined(i)&&(a.kind=i),gl.defined(s)&&(a.collapsedText=s),a},e.is=function(e){const t=e;return gl.objectLiteral(t)&&gl.uinteger(t.startLine)&&gl.uinteger(t.startLine)&&(gl.undefined(t.startCharacter)||gl.uinteger(t.startCharacter))&&(gl.undefined(t.endCharacter)||gl.uinteger(t.endCharacter))&&(gl.undefined(t.kind)||gl.string(t.kind))}}(to||(to={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){let t=e;return gl.defined(t)&&qa.is(t.location)&&gl.string(t.message)}}(no||(no={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(ro||(ro={})),function(e){e.Unnecessary=1,e.Deprecated=2}(io||(io={})),function(e){e.is=function(e){const t=e;return gl.objectLiteral(t)&&gl.string(t.href)}}(so||(so={})),function(e){e.create=function(e,t,n,r,i,s){let a={range:e,message:t};return gl.defined(n)&&(a.severity=n),gl.defined(r)&&(a.code=r),gl.defined(i)&&(a.source=i),gl.defined(s)&&(a.relatedInformation=s),a},e.is=function(e){var t;let n=e;return gl.defined(n)&&Ya.is(n.range)&&gl.string(n.message)&&(gl.number(n.severity)||gl.undefined(n.severity))&&(gl.integer(n.code)||gl.string(n.code)||gl.undefined(n.code))&&(gl.undefined(n.codeDescription)||gl.string(null===(t=n.codeDescription)||void 0===t?void 0:t.href))&&(gl.string(n.source)||gl.undefined(n.source))&&(gl.undefined(n.relatedInformation)||gl.typedArray(n.relatedInformation,no.is))}}(ao||(ao={})),function(e){e.create=function(e,t,...n){let r={title:e,command:t};return gl.defined(n)&&n.length>0&&(r.arguments=n),r},e.is=function(e){let t=e;return gl.defined(t)&&gl.string(t.title)&&gl.string(t.command)}}(oo||(oo={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){const t=e;return gl.objectLiteral(t)&&gl.string(t.newText)&&Ya.is(t.range)}}(lo||(lo={})),function(e){e.create=function(e,t,n){const r={label:e};return void 0!==t&&(r.needsConfirmation=t),void 0!==n&&(r.description=n),r},e.is=function(e){const t=e;return gl.objectLiteral(t)&&gl.string(t.label)&&(gl.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(gl.string(t.description)||void 0===t.description)}}(co||(co={})),function(e){e.is=function(e){const t=e;return gl.string(t)}}(uo||(uo={})),function(e){e.replace=function(e,t,n){return{range:e,newText:t,annotationId:n}},e.insert=function(e,t,n){return{range:{start:e,end:e},newText:t,annotationId:n}},e.del=function(e,t){return{range:e,newText:"",annotationId:t}},e.is=function(e){const t=e;return lo.is(t)&&(co.is(t.annotationId)||uo.is(t.annotationId))}}(ho||(ho={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){let t=e;return gl.defined(t)&&Ro.is(t.textDocument)&&Array.isArray(t.edits)}}(fo||(fo={})),function(e){e.create=function(e,t,n){let r={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){let t=e;return t&&"create"===t.kind&&gl.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||gl.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||gl.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||uo.is(t.annotationId))}}(po||(po={})),function(e){e.create=function(e,t,n,r){let i={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(i.options=n),void 0!==r&&(i.annotationId=r),i},e.is=function(e){let t=e;return t&&"rename"===t.kind&&gl.string(t.oldUri)&&gl.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||gl.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||gl.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||uo.is(t.annotationId))}}(mo||(mo={})),function(e){e.create=function(e,t,n){let r={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){let t=e;return t&&"delete"===t.kind&&gl.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||gl.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||gl.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||uo.is(t.annotationId))}}(go||(go={})),function(e){e.is=function(e){let t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every(e=>gl.string(e.kind)?po.is(e)||mo.is(e)||go.is(e):fo.is(e)))}}(yo||(yo={})),function(e){e.create=function(e){return{uri:e}},e.is=function(e){let t=e;return gl.defined(t)&&gl.string(t.uri)}}(To||(To={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){let t=e;return gl.defined(t)&&gl.string(t.uri)&&gl.integer(t.version)}}(vo||(vo={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){let t=e;return gl.defined(t)&&gl.string(t.uri)&&(null===t.version||gl.integer(t.version))}}(Ro||(Ro={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){let t=e;return gl.defined(t)&&gl.string(t.uri)&&gl.string(t.languageId)&&gl.integer(t.version)&&gl.string(t.text)}}($o||($o={})),function(e){e.PlainText="plaintext",e.Markdown="markdown",e.is=function(t){const n=t;return n===e.PlainText||n===e.Markdown}}(Eo||(Eo={})),function(e){e.is=function(e){const t=e;return gl.objectLiteral(e)&&Eo.is(t.kind)&&gl.string(t.value)}}(Ao||(Ao={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(ko||(ko={})),function(e){e.PlainText=1,e.Snippet=2}(xo||(xo={})),function(e){e.Deprecated=1}(Io||(Io={})),function(e){e.create=function(e,t,n){return{newText:e,insert:t,replace:n}},e.is=function(e){const t=e;return t&&gl.string(t.newText)&&Ya.is(t.insert)&&Ya.is(t.replace)}}(So||(So={})),function(e){e.asIs=1,e.adjustIndentation=2}(Co||(Co={})),function(e){e.is=function(e){const t=e;return t&&(gl.string(t.detail)||void 0===t.detail)&&(gl.string(t.description)||void 0===t.description)}}(No||(No={})),function(e){e.create=function(e){return{label:e}}}(wo||(wo={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(Lo||(Lo={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){const t=e;return gl.string(t)||gl.objectLiteral(t)&&gl.string(t.language)&&gl.string(t.value)}}(bo||(bo={})),function(e){e.is=function(e){let t=e;return!!t&&gl.objectLiteral(t)&&(Ao.is(t.contents)||bo.is(t.contents)||gl.typedArray(t.contents,bo.is))&&(void 0===e.range||Ya.is(e.range))}}(_o||(_o={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(Oo||(Oo={})),function(e){e.create=function(e,t,...n){let r={label:e};return gl.defined(t)&&(r.documentation=t),gl.defined(n)?r.parameters=n:r.parameters=[],r}}(Po||(Po={})),function(e){e.Text=1,e.Read=2,e.Write=3}(Mo||(Mo={})),function(e){e.create=function(e,t){let n={range:e};return gl.number(t)&&(n.kind=t),n}}(Do||(Do={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(Uo||(Uo={})),function(e){e.Deprecated=1}(Fo||(Fo={})),function(e){e.create=function(e,t,n,r,i){let s={name:e,kind:t,location:{uri:r,range:n}};return i&&(s.containerName=i),s}}(Go||(Go={})),function(e){e.create=function(e,t,n,r){return void 0!==r?{name:e,kind:t,location:{uri:n,range:r}}:{name:e,kind:t,location:{uri:n}}}}(Bo||(Bo={})),function(e){e.create=function(e,t,n,r,i,s){let a={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==s&&(a.children=s),a},e.is=function(e){let t=e;return t&&gl.string(t.name)&&gl.number(t.kind)&&Ya.is(t.range)&&Ya.is(t.selectionRange)&&(void 0===t.detail||gl.string(t.detail))&&(void 0===t.deprecated||gl.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(Ko||(Ko={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(Vo||(Vo={})),function(e){e.Invoked=1,e.Automatic=2}(jo||(jo={})),function(e){e.create=function(e,t,n){let r={diagnostics:e};return null!=t&&(r.only=t),null!=n&&(r.triggerKind=n),r},e.is=function(e){let t=e;return gl.defined(t)&&gl.typedArray(t.diagnostics,ao.is)&&(void 0===t.only||gl.typedArray(t.only,gl.string))&&(void 0===t.triggerKind||t.triggerKind===jo.Invoked||t.triggerKind===jo.Automatic)}}(Ho||(Ho={})),function(e){e.create=function(e,t,n){let r={title:e},i=!0;return"string"==typeof t?(i=!1,r.kind=t):oo.is(t)?r.command=t:r.edit=t,i&&void 0!==n&&(r.kind=n),r},e.is=function(e){let t=e;return t&&gl.string(t.title)&&(void 0===t.diagnostics||gl.typedArray(t.diagnostics,ao.is))&&(void 0===t.kind||gl.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||oo.is(t.command))&&(void 0===t.isPreferred||gl.boolean(t.isPreferred))&&(void 0===t.edit||yo.is(t.edit))}}(Wo||(Wo={})),function(e){e.create=function(e,t){let n={range:e};return gl.defined(t)&&(n.data=t),n},e.is=function(e){let t=e;return gl.defined(t)&&Ya.is(t.range)&&(gl.undefined(t.command)||oo.is(t.command))}}(zo||(zo={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){let t=e;return gl.defined(t)&&gl.uinteger(t.tabSize)&&gl.boolean(t.insertSpaces)}}(Yo||(Yo={})),function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){let t=e;return gl.defined(t)&&Ya.is(t.range)&&(gl.undefined(t.target)||gl.string(t.target))}}(qo||(qo={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){let n=t;return gl.objectLiteral(n)&&Ya.is(n.range)&&(void 0===n.parent||e.is(n.parent))}}(Xo||(Xo={})),function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"}(Qo||(Qo={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(Zo||(Zo={})),function(e){e.is=function(e){const t=e;return gl.objectLiteral(t)&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}}(Jo||(Jo={})),function(e){e.create=function(e,t){return{range:e,text:t}},e.is=function(e){const t=e;return null!=t&&Ya.is(t.range)&&gl.string(t.text)}}(el||(el={})),function(e){e.create=function(e,t,n){return{range:e,variableName:t,caseSensitiveLookup:n}},e.is=function(e){const t=e;return null!=t&&Ya.is(t.range)&&gl.boolean(t.caseSensitiveLookup)&&(gl.string(t.variableName)||void 0===t.variableName)}}(tl||(tl={})),function(e){e.create=function(e,t){return{range:e,expression:t}},e.is=function(e){const t=e;return null!=t&&Ya.is(t.range)&&(gl.string(t.expression)||void 0===t.expression)}}(nl||(nl={})),function(e){e.create=function(e,t){return{frameId:e,stoppedLocation:t}},e.is=function(e){const t=e;return gl.defined(t)&&Ya.is(e.stoppedLocation)}}(rl||(rl={})),function(e){e.Type=1,e.Parameter=2,e.is=function(e){return 1===e||2===e}}(il||(il={})),function(e){e.create=function(e){return{value:e}},e.is=function(e){const t=e;return gl.objectLiteral(t)&&(void 0===t.tooltip||gl.string(t.tooltip)||Ao.is(t.tooltip))&&(void 0===t.location||qa.is(t.location))&&(void 0===t.command||oo.is(t.command))}}(sl||(sl={})),function(e){e.create=function(e,t,n){const r={position:e,label:t};return void 0!==n&&(r.kind=n),r},e.is=function(e){const t=e;return gl.objectLiteral(t)&&za.is(t.position)&&(gl.string(t.label)||gl.typedArray(t.label,sl.is))&&(void 0===t.kind||il.is(t.kind))&&void 0===t.textEdits||gl.typedArray(t.textEdits,lo.is)&&(void 0===t.tooltip||gl.string(t.tooltip)||Ao.is(t.tooltip))&&(void 0===t.paddingLeft||gl.boolean(t.paddingLeft))&&(void 0===t.paddingRight||gl.boolean(t.paddingRight))}}(al||(al={})),function(e){e.createSnippet=function(e){return{kind:"snippet",value:e}}}(ol||(ol={})),function(e){e.create=function(e,t,n,r){return{insertText:e,filterText:t,range:n,command:r}}}(ll||(ll={})),function(e){e.create=function(e){return{items:e}}}(cl||(cl={})),function(e){e.Invoked=0,e.Automatic=1}(ul||(ul={})),function(e){e.create=function(e,t){return{range:e,text:t}}}(dl||(dl={})),function(e){e.create=function(e,t){return{triggerKind:e,selectedCompletionInfo:t}}}(hl||(hl={})),function(e){e.is=function(e){const t=e;return gl.objectLiteral(t)&&ja.is(t.uri)&&gl.string(t.name)}}(fl||(fl={})),function(e){function t(e,n){if(e.length<=1)return e;const r=e.length/2|0,i=e.slice(0,r),s=e.slice(r);t(i,n),t(s,n);let a=0,o=0,l=0;for(;a<i.length&&o<s.length;){let t=n(i[a],s[o]);e[l++]=t<=0?i[a++]:s[o++]}for(;a<i.length;)e[l++]=i[a++];for(;o<s.length;)e[l++]=s[o++];return e}e.create=function(e,t,n,r){return new ml(e,t,n,r)},e.is=function(e){let t=e;return!!(gl.defined(t)&&gl.string(t.uri)&&(gl.undefined(t.languageId)||gl.string(t.languageId))&&gl.uinteger(t.lineCount)&&gl.func(t.getText)&&gl.func(t.positionAt)&&gl.func(t.offsetAt))},e.applyEdits=function(e,n){let r=e.getText(),i=t(n,(e,t)=>{let n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n}),s=r.length;for(let t=i.length-1;t>=0;t--){let n=i[t],a=e.offsetAt(n.range.start),o=e.offsetAt(n.range.end);if(!(o<=s))throw new Error("Overlapping edit");r=r.substring(0,a)+n.newText+r.substring(o,r.length),s=a}return r}}(pl||(pl={}));let ml=class{constructor(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(void 0===this._lineOffsets){let e=[],t=this._content,n=!0;for(let r=0;r<t.length;r++){n&&(e.push(r),n=!1);let i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return za.create(0,e);for(;n<r;){let i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}let i=n-1;return za.create(i,e-t[i])}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)}get lineCount(){return this.getLineOffsets().length}};var gl;!function(e){const t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.numberRange=function(e,n,r){return"[object Number]"===t.call(e)&&n<=e&&e<=r},e.integer=function(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647},e.uinteger=function(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(gl||(gl={}));class yl{constructor(){this.nodeStack=[]}get current(){var e;return null!==(e=this.nodeStack[this.nodeStack.length-1])&&void 0!==e?e:this.rootNode}buildRootNode(e){return this.rootNode=new El(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){const t=new Rl;return t.grammarSource=e,t.root=this.rootNode,this.current.content.push(t),this.nodeStack.push(t),t}buildLeafNode(e,t){const n=new vl(e.startOffset,e.image.length,Ge(e),e.tokenType,!t);return n.grammarSource=t,n.root=this.rootNode,this.current.content.push(n),n}removeNode(e){const t=e.container;if(t){const n=t.content.indexOf(e);n>=0&&t.content.splice(n,1)}}addHiddenNodes(e){const t=[];for(const i of e){const e=new vl(i.startOffset,i.image.length,Ge(i),i.tokenType,!0);e.root=this.rootNode,t.push(e)}let n=this.current,r=!1;if(n.content.length>0)n.content.push(...t);else{for(;n.container;){const e=n.container.content.indexOf(n);if(e>0){n.container.content.splice(e,0,...t),r=!0;break}n=n.container}r||this.rootNode.content.unshift(...t)}}construct(e){const t=this.current;"string"==typeof e.$type&&(this.current.astNode=e),e.$cstNode=t;const n=this.nodeStack.pop();0===(null==n?void 0:n.content.length)&&this.removeNode(n)}}class Tl{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,t;const n="string"==typeof(null===(e=this._astNode)||void 0===e?void 0:e.$type)?this._astNode:null===(t=this.container)||void 0===t?void 0:t.astNode;if(!n)throw new Error("This node has no associated AST element");return n}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}class vl extends Tl{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,t,n,r,i=!1){super(),this._hidden=i,this._offset=e,this._tokenType=r,this._length=t,this._range=n}}class Rl extends Tl{constructor(){super(...arguments),this.content=new $l(this)}get children(){return this.content}get offset(){var e,t;return null!==(t=null===(e=this.firstNonHiddenNode)||void 0===e?void 0:e.offset)&&void 0!==t?t:0}get length(){return this.end-this.offset}get end(){var e,t;return null!==(t=null===(e=this.lastNonHiddenNode)||void 0===e?void 0:e.end)&&void 0!==t?t:0}get range(){const e=this.firstNonHiddenNode,t=this.lastNonHiddenNode;if(e&&t){if(void 0===this._rangeCache){const{range:n}=e,{range:r}=t;this._rangeCache={start:n.start,end:r.end.line<n.start.line?n.start:r.end}}return this._rangeCache}return{start:za.create(0,0),end:za.create(0,0)}}get firstNonHiddenNode(){for(const e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){const t=this.content[e];if(!t.hidden)return t}return this.content[this.content.length-1]}}class $l extends Array{constructor(e){super(),this.parent=e,Object.setPrototypeOf(this,$l.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(e,t,...n){return this.addParents(n),super.splice(e,t,...n)}addParents(e){for(const t of e)t.container=this.parent}}class El extends Rl{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=null!=e?e:""}}const Al=Symbol("Datatype");function kl(e){return e.$type===Al}const xl=e=>e.endsWith("​")?e:e+"​";class Il{constructor(e){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=e.parser.Lexer;const t=this.lexer.definition,n="production"===e.LanguageMetaData.mode;this.wrapper=new bl(t,Object.assign(Object.assign({},e.parser.ParserConfig),{skipValidations:n,errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,t){this.wrapper.wrapOr(e,t)}optional(e,t){this.wrapper.wrapOption(e,t)}many(e,t){this.wrapper.wrapMany(e,t)}atLeastOne(e,t){this.wrapper.wrapAtLeastOne(e,t)}getRule(e){return this.allRules.get(e)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class Sl extends Il{get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new yl,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,t){const n=this.computeRuleType(e),r=this.wrapper.DEFINE_RULE(xl(e.name),this.startImplementation(n,t).bind(this));return this.allRules.set(e.name,r),e.entry&&(this.mainRule=r),r}computeRuleType(e){if(!e.fragment){if(Kn(e))return Al;{const t=jn(e);return null!=t?t:e.name}}}parse(e,t={}){this.nodeBuilder.buildRootNode(e);const n=this.lexerResult=this.lexer.tokenize(e);this.wrapper.input=n.tokens;const r=t.rule?this.allRules.get(t.rule):this.mainRule;if(!r)throw new Error(t.rule?`No rule found with name '${t.rule}'`:"No main rule available.");const i=r.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(n.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:i,lexerErrors:n.errors,lexerReport:n.report,parserErrors:this.wrapper.errors}}startImplementation(e,t){return n=>{const r=!this.isRecording()&&void 0!==e;if(r){const t={$type:e};this.stack.push(t),e===Al&&(t.value="")}let i;try{i=t(n)}catch(s){i=void 0}return void 0===i&&r&&(i=this.construct()),i}}extractHiddenTokens(e){const t=this.lexerResult.hidden;if(!t.length)return[];const n=e.startOffset;for(let r=0;r<t.length;r++){if(t[r].startOffset>n)return t.splice(0,r)}return t.splice(0,t.length)}consume(e,t,n){const r=this.wrapper.wrapConsume(e,t);if(!this.isRecording()&&this.isValidToken(r)){const e=this.extractHiddenTokens(r);this.nodeBuilder.addHiddenNodes(e);const t=this.nodeBuilder.buildLeafNode(r,n),{assignment:i,isCrossRef:s}=this.getAssignment(n),a=this.current;if(i){const e=Vt(n)?r.image:this.converter.convert(r.image,t);this.assign(i.operator,i.feature,e,t,s)}else if(kl(a)){let e=r.image;Vt(n)||(e=this.converter.convert(e,t).toString()),a.value+=e}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&"number"==typeof e.endOffset&&!isNaN(e.endOffset)}subrule(e,t,n,r,i){let s;this.isRecording()||n||(s=this.nodeBuilder.buildCompositeNode(r));const a=this.wrapper.wrapSubrule(e,t,i);!this.isRecording()&&s&&s.length>0&&this.performSubruleAssignment(a,r,s)}performSubruleAssignment(e,t,n){const{assignment:r,isCrossRef:i}=this.getAssignment(t);if(r)this.assign(r.operator,r.feature,e,n,i);else if(!r){const t=this.current;if(kl(t))t.value+=e.toString();else if("object"==typeof e&&e){const n=this.assignWithoutOverride(e,t);this.stack.pop(),this.stack.push(n)}}}action(e,t){if(!this.isRecording()){let n=this.current;if(t.feature&&t.operator){n=this.construct(),this.nodeBuilder.removeNode(n.$cstNode);this.nodeBuilder.buildCompositeNode(t).content.push(n.$cstNode);const r={$type:e};this.stack.push(r),this.assign(t.operator,t.feature,n,n.$cstNode,!1)}else n.$type=e}}construct(){if(this.isRecording())return;const e=this.current;return function(e){for(const[t,n]of Object.entries(e))t.startsWith("$")||(Array.isArray(n)?n.forEach((n,r)=>{Ae(n)&&(n.$container=e,n.$containerProperty=t,n.$containerIndex=r)}):Ae(n)&&(n.$container=e,n.$containerProperty=t))}(e),this.nodeBuilder.construct(e),this.stack.pop(),kl(e)?this.converter.convert(e.value,e.$cstNode):(function(e,t){const n=e.getTypeMetaData(t.$type),r=t;for(const i of n.properties)void 0!==i.defaultValue&&void 0===r[i.name]&&(r[i.name]=hn(i.defaultValue))}(this.astReflection,e),e)}getAssignment(e){if(!this.assignmentMap.has(e)){const t=rn(e,Pt);this.assignmentMap.set(e,{assignment:t,isCrossRef:!!t&&Ut(t.terminal)})}return this.assignmentMap.get(e)}assign(e,t,n,r,i){const s=this.current;let a;switch(a=i&&"string"==typeof n?this.linker.buildReference(s,t,r,n):n,e){case"=":s[t]=a;break;case"?=":s[t]=!0;break;case"+=":Array.isArray(s[t])||(s[t]=[]),s[t].push(a)}}assignWithoutOverride(e,t){for(const[r,i]of Object.entries(t)){const t=e[r];void 0===t?e[r]=i:Array.isArray(t)&&Array.isArray(i)&&(i.push(...t),e[r]=i)}const n=e.$cstNode;return n&&(n.astNode=void 0,e.$cstNode=void 0),e}get definitionErrors(){return this.wrapper.definitionErrors}}class Cl{buildMismatchTokenMessage(e){return Si.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return Si.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return Si.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return Si.buildEarlyExitMessage(e)}}class Nl extends Cl{buildMismatchTokenMessage({expected:e,actual:t}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${t.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}}class wl extends Il{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();const t=this.lexer.tokenize(e,{mode:"partial"});return this.tokens=t.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,t){const n=this.wrapper.DEFINE_RULE(xl(e.name),this.startImplementation(t).bind(this));return this.allRules.set(e.name,n),e.entry&&(this.mainRule=n),n}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return t=>{const n=this.keepStackSize();try{e(t)}finally{this.resetStackSize(n)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,t,n){this.wrapper.wrapConsume(e,t),this.isRecording()||(this.lastElementStack=[...this.elementStack,n],this.nextTokenIndex=this.currIdx+1)}subrule(e,t,n,r,i){this.before(r),this.wrapper.wrapSubrule(e,t,i),this.after(r)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){const t=this.elementStack.lastIndexOf(e);t>=0&&this.elementStack.splice(t)}}get currIdx(){return this.wrapper.currIdx}}const Ll={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new Nl};class bl extends ra{constructor(e,t){const n=t&&"maxLookahead"in t;super(e,Object.assign(Object.assign(Object.assign({},Ll),{lookaheadStrategy:n?new Ls({maxLookahead:t.maxLookahead}):new Ca({logging:t.skipValidations?()=>{}:void 0})}),t))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,t){return this.RULE(e,t)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,t){return this.consume(e,t)}wrapSubrule(e,t,n){return this.subrule(e,t,{ARGS:[n]})}wrapOr(e,t){this.or(e,t)}wrapOption(e,t){this.option(e,t)}wrapMany(e,t){this.many(e,t)}wrapAtLeastOne(e,t){this.atLeastOne(e,t)}}function _l(e,t,n){return function(e,t){const n=On(t,!1),r=Pe(t.rules).filter(Tt).filter(e=>n.has(e));for(const i of r){const t=Object.assign(Object.assign({},e),{consume:1,optional:1,subrule:1,many:1,or:1});e.parser.rule(i,Ol(t,i.definition))}}({parser:t,tokens:n,ruleNames:new Map},e),t}function Ol(e,t,n=!1){let r;if(Vt(t))r=function(e,t){const n=e.consume++,r=e.tokens[t.value];if(!r)throw new Error("Could not find token for keyword: "+t.value);return()=>e.parser.consume(n,r,t)}(e,t);else if(Lt(t))r=function(e,t){const n=Hn(t);return()=>e.parser.action(n,t)}(e,t);else if(Pt(t))r=Ol(e,t.terminal);else if(Ut(t))r=Dl(e,t);else if(zt(t))r=function(e,t){const n=t.rule.ref;if(Tt(n)){const r=e.subrule++,i=n.fragment,s=t.arguments.length>0?function(e,t){const n=t.map(e=>Pl(e.value));return t=>{const r={};for(let i=0;i<n.length;i++){const s=e.parameters[i],a=n[i];r[s.name]=a(t)}return r}}(n,t.arguments):()=>({});return a=>e.parser.subrule(r,Fl(e,n),i,t,s(a))}if(xt(n)){const r=e.consume++,i=Gl(e,n.name);return()=>e.parser.consume(r,i,t)}if(!n)throw new We(t.$cstNode,`Undefined rule: ${t.rule.$refText}`);ze()}(e,t);else if(_t(t))r=function(e,t){if(1===t.elements.length)return Ol(e,t.elements[0]);{const n=[];for(const i of t.elements){const t={ALT:Ol(e,i,!0)},r=Ml(i);r&&(t.GATE=Pl(r)),n.push(t)}const r=e.or++;return t=>e.parser.alternatives(r,n.map(e=>{const n={ALT:()=>e.ALT(t)},r=e.GATE;return r&&(n.GATE=()=>r(t)),n}))}}(e,t);else if(Zt(t))r=function(e,t){if(1===t.elements.length)return Ol(e,t.elements[0]);const n=[];for(const o of t.elements){const t={ALT:Ol(e,o,!0)},r=Ml(o);r&&(t.GATE=Pl(r)),n.push(t)}const r=e.or++,i=(e,t)=>`uGroup_${e}_${t.getRuleStack().join("-")}`,s=t=>e.parser.alternatives(r,n.map((n,s)=>{const a={ALT:()=>!0},o=e.parser;a.ALT=()=>{if(n.ALT(t),!o.isRecording()){const e=i(r,o);o.unorderedGroups.get(e)||o.unorderedGroups.set(e,[]);const t=o.unorderedGroups.get(e);void 0===(null==t?void 0:t[s])&&(t[s]=!0)}};const l=n.GATE;return a.GATE=l?()=>l(t):()=>{const e=o.unorderedGroups.get(i(r,o));return!(null==e?void 0:e[s])},a})),a=Ul(e,Ml(t),s,"*");return t=>{a(t),e.parser.isRecording()||e.parser.unorderedGroups.delete(i(r,e.parser))}}(e,t);else if(Bt(t))r=function(e,t){const n=t.elements.map(t=>Ol(e,t));return e=>n.forEach(t=>t(e))}(e,t);else{if(i=t,!nn.isInstance(i,Ft))throw new We(t.$cstNode,`Unexpected element type: ${t.$type}`);{const n=e.consume++;r=()=>e.parser.consume(n,ki,t)}}var i;return Ul(e,n?void 0:Ml(t),r,t.cardinality)}function Pl(e){if(t=e,nn.isInstance(t,st)){const t=Pl(e.left),n=Pl(e.right);return e=>t(e)||n(e)}if(function(e){return nn.isInstance(e,it)}(e)){const t=Pl(e.left),n=Pl(e.right);return e=>t(e)&&n(e)}if(function(e){return nn.isInstance(e,ft)}(e)){const t=Pl(e.value);return e=>!t(e)}if(function(e){return nn.isInstance(e,gt)}(e)){const t=e.parameter.ref.name;return e=>void 0!==e&&!0===e[t]}if(function(e){return nn.isInstance(e,rt)}(e)){const t=Boolean(e.true);return()=>t}var t;ze()}function Ml(e){if(Bt(e))return e.guardCondition}function Dl(e,t,n=t.terminal){if(n){if(zt(n)&&Tt(n.rule.ref)){const r=n.rule.ref,i=e.subrule++;return n=>e.parser.subrule(i,Fl(e,r),!1,t,n)}if(zt(n)&&xt(n.rule.ref)){const r=e.consume++,i=Gl(e,n.rule.ref.name);return()=>e.parser.consume(r,i,t)}if(Vt(n)){const r=e.consume++,i=Gl(e,n.value);return()=>e.parser.consume(r,i,t)}throw new Error("Could not build cross reference parser")}{if(!t.type.ref)throw new Error("Could not resolve reference to type: "+t.type.$refText);const n=Gn(t.type.ref),r=null==n?void 0:n.terminal;if(!r)throw new Error("Could not find name assignment for type: "+Hn(t.type.ref));return Dl(e,t,r)}}function Ul(e,t,n,r){const i=t&&Pl(t);if(!r){if(i){const t=e.or++;return r=>e.parser.alternatives(t,[{ALT:()=>n(r),GATE:()=>i(r)},{ALT:ta(),GATE:()=>!i(r)}])}return n}if("*"===r){const t=e.many++;return r=>e.parser.many(t,{DEF:()=>n(r),GATE:i?()=>i(r):void 0})}if("+"===r){const t=e.many++;if(i){const r=e.or++;return s=>e.parser.alternatives(r,[{ALT:()=>e.parser.atLeastOne(t,{DEF:()=>n(s)}),GATE:()=>i(s)},{ALT:ta(),GATE:()=>!i(s)}])}return r=>e.parser.atLeastOne(t,{DEF:()=>n(r)})}if("?"===r){const t=e.optional++;return r=>e.parser.optional(t,{DEF:()=>n(r),GATE:i?()=>i(r):void 0})}ze()}function Fl(e,t){const n=function(e,t){if(Tt(t))return t.name;if(e.ruleNames.has(t))return e.ruleNames.get(t);{let n=t,r=n.$container,i=t.$type;for(;!Tt(r);){if(Bt(r)||_t(r)||Zt(r)){i=r.elements.indexOf(n).toString()+":"+i}n=r,r=r.$container}return i=r.name+":"+i,e.ruleNames.set(t,i),i}}(e,t),r=e.parser.getRule(n);if(!r)throw new Error(`Rule "${n}" not found."`);return r}function Gl(e,t){const n=e.tokens[t];if(!n)throw new Error(`Token "${t}" not found."`);return n}function Bl(e){const t=function(e){const t=e.Grammar,n=e.parser.Lexer,r=new Sl(e);return _l(t,r,n.definition)}(e);return t.finalize(),t}class Kl{constructor(){this.diagnostics=[]}buildTokens(e,t){const n=Pe(On(e,!1)),r=this.buildTerminalTokens(n),i=this.buildKeywordTokens(n,r,t);return r.forEach(e=>{const t=e.PATTERN;"object"==typeof t&&t&&"test"in t&&Ln(t)?i.unshift(e):i.push(e)}),i}flushLexingReport(e){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){const e=[...this.diagnostics];return this.diagnostics=[],e}buildTerminalTokens(e){return e.filter(xt).filter(e=>!e.fragment).map(e=>this.buildTerminalToken(e)).toArray()}buildTerminalToken(e){const t=Wn(e),n=this.requiresCustomPattern(t)?this.regexPatternFunction(t):t,r={name:e.name,PATTERN:n};return"function"==typeof n&&(r.LINE_BREAKS=!0),e.hidden&&(r.GROUP=Ln(t)?di.SKIPPED:"hidden"),r}requiresCustomPattern(e){return!(!e.flags.includes("u")&&!e.flags.includes("s"))||!(!e.source.includes("?<=")&&!e.source.includes("?<!"))}regexPatternFunction(e){const t=new RegExp(e,e.flags+"y");return(e,n)=>{t.lastIndex=n;return t.exec(e)}}buildKeywordTokens(e,t,n){return e.filter(Tt).flatMap(e=>ln(e).filter(Vt)).distinct(e=>e.value).toArray().sort((e,t)=>t.value.length-e.value.length).map(e=>this.buildKeywordToken(e,t,Boolean(null==n?void 0:n.caseInsensitive)))}buildKeywordToken(e,t,n){const r=this.buildKeywordPattern(e,n),i={name:e.value,PATTERN:r,LONGER_ALT:this.findLongerAlt(e,t)};return"function"==typeof r&&(i.LINE_BREAKS=!0),i}buildKeywordPattern(e,t){return t?new RegExp(function(e){return Array.prototype.map.call(e,e=>/\w/.test(e)?`[${e.toLowerCase()}${e.toUpperCase()}]`:bn(e)).join("")}(e.value)):e.value}findLongerAlt(e,t){return t.reduce((t,n)=>{const r=null==n?void 0:n.PATTERN;return(null==r?void 0:r.source)&&_n("^"+r.source+"$",e.value)&&t.push(n),t},[])}}class Vl{convert(e,t){let n=t.grammarSource;if(Ut(n)&&(n=function(e){if(e.terminal)return e.terminal;if(e.type.ref){const t=Gn(e.type.ref);return null==t?void 0:t.terminal}}(n)),zt(n)){const r=n.rule.ref;if(!r)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(r,e,t)}return e}runConverter(e,t,n){var r;switch(e.name.toUpperCase()){case"INT":return jl.convertInt(t);case"STRING":return jl.convertString(t);case"ID":return jl.convertID(t)}switch(null===(r=function(e){var t,n,r;return xt(e)?null!==(n=null===(t=e.type)||void 0===t?void 0:t.name)&&void 0!==n?n:"string":null!==(r=jn(e))&&void 0!==r?r:e.name}(e))||void 0===r?void 0:r.toLowerCase()){case"number":return jl.convertNumber(t);case"boolean":return jl.convertBoolean(t);case"bigint":return jl.convertBigint(t);case"date":return jl.convertDate(t);default:return t}}}var jl;!function(e){function t(e){switch(e){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"v":return"\v";case"0":return"\0";default:return e}}e.convertString=function(e){let n="";for(let r=1;r<e.length-1;r++){const i=e.charAt(r);if("\\"===i){n+=t(e.charAt(++r))}else n+=i}return n},e.convertID=function(e){return"^"===e.charAt(0)?e.substring(1):e},e.convertInt=function(e){return parseInt(e)},e.convertBigint=function(e){return BigInt(e)},e.convertDate=function(e){return new Date(e)},e.convertNumber=function(e){return Number(e)},e.convertBoolean=function(e){return"true"===e.toLowerCase()}}(jl||(jl={}));var Hl,Wl={},zl={};function Yl(){if(Hl)return zl;let e;function t(){if(void 0===e)throw new Error("No runtime abstraction layer installed");return e}return Hl=1,Object.defineProperty(zl,"__esModule",{value:!0}),function(t){t.install=function(t){if(void 0===t)throw new Error("No runtime abstraction layer provided");e=t}}(t||(t={})),zl.default=t,zl}var ql,Xl={};var Ql,Zl,Jl={};function ec(){if(Ql)return Jl;Ql=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.Emitter=Jl.Event=void 0;const e=Yl();var t;!function(e){const t={dispose(){}};e.None=function(){return t}}(t||(Jl.Event=t={}));class n{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];const n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let a=0,o=r.length;a<o;a++)try{n.push(r[a].apply(i[a],t))}catch(s){(0,e.default)().console.error(s)}return n}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class r{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,i)=>{this._callbacks||(this._callbacks=new n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const s={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),s.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(i)&&i.push(s),s}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}return Jl.Emitter=r,r._noop=function(){},Jl}var tc=function(){if(Zl)return Wl;Zl=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.CancellationTokenSource=Wl.CancellationToken=void 0;const e=Yl(),t=function(){if(ql)return Xl;function e(e){return"string"==typeof e||e instanceof String}function t(e){return Array.isArray(e)}return ql=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.stringArray=Xl.array=Xl.func=Xl.error=Xl.number=Xl.string=Xl.boolean=void 0,Xl.boolean=function(e){return!0===e||!1===e},Xl.string=e,Xl.number=function(e){return"number"==typeof e||e instanceof Number},Xl.error=function(e){return e instanceof Error},Xl.func=function(e){return"function"==typeof e},Xl.array=t,Xl.stringArray=function(n){return t(n)&&n.every(t=>e(t))},Xl}(),n=ec();var r;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:n.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:n.Event.None}),e.is=function(n){const r=n;return r&&(r===e.None||r===e.Cancelled||t.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}}(r||(Wl.CancellationToken=r={}));const i=Object.freeze(function(t,n){const r=(0,e.default)().timer.setTimeout(t.bind(n),0);return{dispose(){r.dispose()}}});class s{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?i:(this._emitter||(this._emitter=new n.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}return Wl.CancellationTokenSource=class{get token(){return this._token||(this._token=new s),this._token}cancel(){this._token?this._token.cancel():this._token=r.Cancelled}dispose(){this._token?this._token instanceof s&&this._token.dispose():this._token=r.None}},Wl}();let nc=0;const rc=Symbol("OperationCancelled");function ic(e){return e===rc}async function sc(e){if(e===tc.CancellationToken.None)return;const t=performance.now();if(t-nc>=10&&(nc=t,await new Promise(e=>{"undefined"==typeof setImmediate?setTimeout(e,0):setImmediate(e)}),nc=performance.now()),e.isCancellationRequested)throw rc}class ac{constructor(){this.promise=new Promise((e,t)=>{this.resolve=t=>(e(t),this),this.reject=e=>(t(e),this)})}}class oc{constructor(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){for(const n of e)if(oc.isIncremental(n)){const e=fc(n.range),t=this.offsetAt(e.start),r=this.offsetAt(e.end);this._content=this._content.substring(0,t)+n.text+this._content.substring(r,this._content.length);const i=Math.max(e.start.line,0),s=Math.max(e.end.line,0);let a=this._lineOffsets;const o=dc(n.text,!1,t);if(s-i===o.length)for(let n=0,c=o.length;n<c;n++)a[n+i+1]=o[n];else o.length<1e4?a.splice(i+1,s-i,...o):this._lineOffsets=a=a.slice(0,i+1).concat(o,a.slice(s+1));const l=n.text.length-(r-t);if(0!==l)for(let n=i+1+o.length,c=a.length;n<c;n++)a[n]=a[n]+l}else{if(!oc.isFull(n))throw new Error("Unknown change event received");this._content=n.text,this._lineOffsets=void 0}this._version=t}getLineOffsets(){return void 0===this._lineOffsets&&(this._lineOffsets=dc(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);const t=this.getLineOffsets();let n=0,r=t.length;if(0===r)return{line:0,character:e};for(;n<r;){const i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}const i=n-1;return{line:i,character:(e=this.ensureBeforeEOL(e,t[i]))-t[i]}}offsetAt(e){const t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;const n=t[e.line];if(e.character<=0)return n;const r=e.line+1<t.length?t[e.line+1]:this._content.length,i=Math.min(n+e.character,r);return this.ensureBeforeEOL(i,n)}ensureBeforeEOL(e,t){for(;e>t&&hc(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){const t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)}static isFull(e){const t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength}}var lc,cc;function uc(e,t){if(e.length<=1)return e;const n=e.length/2|0,r=e.slice(0,n),i=e.slice(n);uc(r,t),uc(i,t);let s=0,a=0,o=0;for(;s<r.length&&a<i.length;){const n=t(r[s],i[a]);e[o++]=n<=0?r[s++]:i[a++]}for(;s<r.length;)e[o++]=r[s++];for(;a<i.length;)e[o++]=i[a++];return e}function dc(e,t,n=0){const r=t?[n]:[];for(let i=0;i<e.length;i++){const t=e.charCodeAt(i);hc(t)&&(13===t&&i+1<e.length&&10===e.charCodeAt(i+1)&&i++,r.push(n+i+1))}return r}function hc(e){return 13===e||10===e}function fc(e){const t=e.start,n=e.end;return t.line>n.line||t.line===n.line&&t.character>n.character?{start:n,end:t}:e}function pc(e){const t=fc(e.range);return t!==e.range?{newText:e.newText,range:t}:e}!function(e){e.create=function(e,t,n,r){return new oc(e,t,n,r)},e.update=function(e,t,n){if(e instanceof oc)return e.update(t,n),e;throw new Error("TextDocument.update: document must be created by TextDocument.create")},e.applyEdits=function(e,t){const n=e.getText(),r=uc(t.map(pc),(e,t)=>{const n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n});let i=0;const s=[];for(const a of r){const t=e.offsetAt(a.range.start);if(t<i)throw new Error("Overlapping edit");t>i&&s.push(n.substring(i,t)),a.newText.length&&s.push(a.newText),i=e.offsetAt(a.range.end)}return s.push(n.substr(i)),s.join("")}}(lc||(lc={})),(()=>{var e={470:e=>{function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",i=0,s=-1,a=0,o=0;o<=e.length;++o){if(o<e.length)n=e.charCodeAt(o);else{if(47===n)break;n=47}if(47===n){if(s===o-1||1===a);else if(s!==o-1&&2===a){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",i=0):i=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),s=o,a=0;continue}}else if(2===r.length||1===r.length){r="",i=0,s=o,a=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(s+1,o):r=e.slice(s+1,o),i=o-s-1;s=o,a=0}else 46===n&&-1!==a?++a:a=-1}return r}var r={resolve:function(){for(var e,r="",i=!1,s=arguments.length-1;s>=-1&&!i;s--){var a;s>=0?a=arguments[s]:(void 0===e&&(e=process.cwd()),a=e),t(a),0!==a.length&&(r=a+"/"+r,i=47===a.charCodeAt(0))}return r=n(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&i&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var s=e.length,a=s-i,o=1;o<n.length&&47===n.charCodeAt(o);++o);for(var l=n.length-o,c=a<l?a:l,u=-1,d=0;d<=c;++d){if(d===c){if(l>c){if(47===n.charCodeAt(o+d))return n.slice(o+d+1);if(0===d)return n.slice(o+d)}else a>c&&(47===e.charCodeAt(i+d)?u=d:0===d&&(u=0));break}var h=e.charCodeAt(i+d);if(h!==n.charCodeAt(o+d))break;47===h&&(u=d)}var f="";for(d=i+u+1;d<=s;++d)d!==s&&47!==e.charCodeAt(d)||(0===f.length?f+="..":f+="/..");return f.length>0?f+n.slice(o+u):(o+=u,47===n.charCodeAt(o)&&++o,n.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,i=-1,s=!0,a=e.length-1;a>=1;--a)if(47===(n=e.charCodeAt(a))){if(!s){i=a;break}}else s=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,i=0,s=-1,a=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var o=n.length-1,l=-1;for(r=e.length-1;r>=0;--r){var c=e.charCodeAt(r);if(47===c){if(!a){i=r+1;break}}else-1===l&&(a=!1,l=r+1),o>=0&&(c===n.charCodeAt(o)?-1==--o&&(s=r):(o=-1,s=l))}return i===s?s=l:-1===s&&(s=e.length),e.slice(i,s)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!a){i=r+1;break}}else-1===s&&(a=!1,s=r+1);return-1===s?"":e.slice(i,s)},extname:function(e){t(e);for(var n=-1,r=0,i=-1,s=!0,a=0,o=e.length-1;o>=0;--o){var l=e.charCodeAt(o);if(47!==l)-1===i&&(s=!1,i=o+1),46===l?-1===n?n=o:1!==a&&(a=1):-1!==n&&(a=-1);else if(!s){r=o+1;break}}return-1===n||-1===i||0===a||1===a&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+"/"+r:r}(0,e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,i=e.charCodeAt(0),s=47===i;s?(n.root="/",r=1):r=0;for(var a=-1,o=0,l=-1,c=!0,u=e.length-1,d=0;u>=r;--u)if(47!==(i=e.charCodeAt(u)))-1===l&&(c=!1,l=u+1),46===i?-1===a?a=u:1!==d&&(d=1):-1!==a&&(d=-1);else if(!c){o=u+1;break}return-1===a||-1===l||0===d||1===d&&a===l-1&&a===o+1?-1!==l&&(n.base=n.name=0===o&&s?e.slice(1,l):e.slice(o,l)):(0===o&&s?(n.name=e.slice(1,a),n.base=e.slice(1,l)):(n.name=e.slice(o,a),n.base=e.slice(o,l)),n.ext=e.slice(a,l)),o>0?n.dir=e.slice(0,o-1):s&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{let e;if(n.r(r),n.d(r,{URI:()=>u,Utils:()=>k}),"object"==typeof process)e="win32"===process.platform;else if("object"==typeof navigator){let t=navigator.userAgent;e=t.indexOf("Windows")>=0}const t=/^\w[\w\d+.-]*$/,i=/^\//,s=/^\/\//;function a(e,n){if(!e.scheme&&n)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!t.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!i.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(s.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const o="",l="/",c=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class u{static isUri(e){return e instanceof u||!!e&&"string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme&&"string"==typeof e.fsPath&&"function"==typeof e.with&&"function"==typeof e.toString}scheme;authority;path;query;fragment;constructor(e,t,n,r,i,s=!1){"object"==typeof e?(this.scheme=e.scheme||o,this.authority=e.authority||o,this.path=e.path||o,this.query=e.query||o,this.fragment=e.fragment||o):(this.scheme=function(e,t){return e||t?e:"file"}(e,s),this.authority=t||o,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==l&&(t=l+t):t=l}return t}(this.scheme,n||o),this.query=r||o,this.fragment=i||o,a(this,s))}get fsPath(){return g(this)}with(e){if(!e)return this;let{scheme:t,authority:n,path:r,query:i,fragment:s}=e;return void 0===t?t=this.scheme:null===t&&(t=o),void 0===n?n=this.authority:null===n&&(n=o),void 0===r?r=this.path:null===r&&(r=o),void 0===i?i=this.query:null===i&&(i=o),void 0===s?s=this.fragment:null===s&&(s=o),t===this.scheme&&n===this.authority&&r===this.path&&i===this.query&&s===this.fragment?this:new h(t,n,r,i,s)}static parse(e,t=!1){const n=c.exec(e);return n?new h(n[2]||o,R(n[4]||o),R(n[5]||o),R(n[7]||o),R(n[9]||o),t):new h(o,o,o,o,o)}static file(t){let n=o;if(e&&(t=t.replace(/\\/g,l)),t[0]===l&&t[1]===l){const e=t.indexOf(l,2);-1===e?(n=t.substring(2),t=l):(n=t.substring(2,e),t=t.substring(e)||l)}return new h("file",n,t,o,o)}static from(e){const t=new h(e.scheme,e.authority,e.path,e.query,e.fragment);return a(t,!0),t}toString(e=!1){return y(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof u)return e;{const t=new h(e);return t._formatted=e.external,t._fsPath=e._sep===d?e.fsPath:null,t}}return e}}const d=e?1:void 0;class h extends u{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=g(this)),this._fsPath}toString(e=!1){return e?y(this,!0):(this._formatted||(this._formatted=y(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=d),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const f={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function p(e,t,n){let r,i=-1;for(let s=0;s<e.length;s++){const a=e.charCodeAt(s);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||45===a||46===a||95===a||126===a||t&&47===a||n&&91===a||n&&93===a||n&&58===a)-1!==i&&(r+=encodeURIComponent(e.substring(i,s)),i=-1),void 0!==r&&(r+=e.charAt(s));else{void 0===r&&(r=e.substr(0,s));const t=f[a];void 0!==t?(-1!==i&&(r+=encodeURIComponent(e.substring(i,s)),i=-1),r+=t):-1===i&&(i=s)}}return-1!==i&&(r+=encodeURIComponent(e.substring(i))),void 0!==r?r:e}function m(e){let t;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);35===r||63===r?(void 0===t&&(t=e.substr(0,n)),t+=f[r]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function g(t,n){let r;return r=t.authority&&t.path.length>1&&"file"===t.scheme?`//${t.authority}${t.path}`:47===t.path.charCodeAt(0)&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&58===t.path.charCodeAt(2)?t.path[1].toLowerCase()+t.path.substr(2):t.path,e&&(r=r.replace(/\//g,"\\")),r}function y(e,t){const n=t?m:p;let r="",{scheme:i,authority:s,path:a,query:o,fragment:c}=e;if(i&&(r+=i,r+=":"),(s||"file"===i)&&(r+=l,r+=l),s){let e=s.indexOf("@");if(-1!==e){const t=s.substr(0,e);s=s.substr(e+1),e=t.lastIndexOf(":"),-1===e?r+=n(t,!1,!1):(r+=n(t.substr(0,e),!1,!1),r+=":",r+=n(t.substr(e+1),!1,!0)),r+="@"}s=s.toLowerCase(),e=s.lastIndexOf(":"),-1===e?r+=n(s,!1,!0):(r+=n(s.substr(0,e),!1,!0),r+=s.substr(e))}if(a){if(a.length>=3&&47===a.charCodeAt(0)&&58===a.charCodeAt(2)){const e=a.charCodeAt(1);e>=65&&e<=90&&(a=`/${String.fromCharCode(e+32)}:${a.substr(3)}`)}else if(a.length>=2&&58===a.charCodeAt(1)){const e=a.charCodeAt(0);e>=65&&e<=90&&(a=`${String.fromCharCode(e+32)}:${a.substr(2)}`)}r+=n(a,!0,!1)}return o&&(r+="?",r+=n(o,!1,!1)),c&&(r+="#",r+=t?c:p(c,!1,!1)),r}function T(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+T(e.substr(3)):e}}const v=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function R(e){return e.match(v)?e.replace(v,e=>T(e)):e}var $=n(470);const E=$.posix||$,A="/";var k;!function(e){e.joinPath=function(e,...t){return e.with({path:E.join(e.path,...t)})},e.resolvePath=function(e,...t){let n=e.path,r=!1;n[0]!==A&&(n=A+n,r=!0);let i=E.resolve(n,...t);return r&&i[0]===A&&!e.authority&&(i=i.substring(1)),e.with({path:i})},e.dirname=function(e){if(0===e.path.length||e.path===A)return e;let t=E.dirname(e.path);return 1===t.length&&46===t.charCodeAt(0)&&(t=""),e.with({path:t})},e.basename=function(e){return E.basename(e.path)},e.extname=function(e){return E.extname(e.path)}}(k||(k={}))})(),cc=r})();const{URI:mc,Utils:gc}=cc;var yc,Tc;!function(e){e.basename=gc.basename,e.dirname=gc.dirname,e.extname=gc.extname,e.joinPath=gc.joinPath,e.resolvePath=gc.resolvePath,e.equals=function(e,t){return(null==e?void 0:e.toString())===(null==t?void 0:t.toString())},e.relative=function(e,t){const n="string"==typeof e?e:e.path,r="string"==typeof t?t:t.path,i=n.split("/").filter(e=>e.length>0),s=r.split("/").filter(e=>e.length>0);let a=0;for(;a<i.length&&i[a]===s[a];a++);return"../".repeat(i.length-a)+s.slice(a).join("/")},e.normalize=function(e){return mc.parse(e.toString()).toString()}}(yc||(yc={})),function(e){e[e.Changed=0]="Changed",e[e.Parsed=1]="Parsed",e[e.IndexedContent=2]="IndexedContent",e[e.ComputedScopes=3]="ComputedScopes",e[e.Linked=4]="Linked",e[e.IndexedReferences=5]="IndexedReferences",e[e.Validated=6]="Validated"}(Tc||(Tc={}));class vc{constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}async fromUri(e,t=tc.CancellationToken.None){const n=await this.fileSystemProvider.readFile(e);return this.createAsync(e,n,t)}fromTextDocument(e,t,n){return t=null!=t?t:mc.parse(e.uri),tc.CancellationToken.is(n)?this.createAsync(t,e,n):this.create(t,e,n)}fromString(e,t,n){return tc.CancellationToken.is(n)?this.createAsync(t,e,n):this.create(t,e,n)}fromModel(e,t){return this.create(t,{$model:e})}create(e,t,n){if("string"==typeof t){const r=this.parse(e,t,n);return this.createLangiumDocument(r,e,void 0,t)}if("$model"in t){const n={value:t.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(n,e)}{const r=this.parse(e,t.getText(),n);return this.createLangiumDocument(r,e,t)}}async createAsync(e,t,n){if("string"==typeof t){const r=await this.parseAsync(e,t,n);return this.createLangiumDocument(r,e,void 0,t)}{const r=await this.parseAsync(e,t.getText(),n);return this.createLangiumDocument(r,e,t)}}createLangiumDocument(e,t,n,r){let i;if(n)i={parseResult:e,uri:t,state:Tc.Parsed,references:[],textDocument:n};else{const n=this.createTextDocumentGetter(t,r);i={parseResult:e,uri:t,state:Tc.Parsed,references:[],get textDocument(){return n()}}}return e.value.$document=i,i}async update(e,t){var n,r;const i=null===(n=e.parseResult.value.$cstNode)||void 0===n?void 0:n.root.fullText,s=null===(r=this.textDocuments)||void 0===r?void 0:r.get(e.uri.toString()),a=s?s.getText():await this.fileSystemProvider.readFile(e.uri);if(s)Object.defineProperty(e,"textDocument",{value:s});else{const t=this.createTextDocumentGetter(e.uri,a);Object.defineProperty(e,"textDocument",{get:t})}return i!==a&&(e.parseResult=await this.parseAsync(e.uri,a,t),e.parseResult.value.$document=e),e.state=Tc.Parsed,e}parse(e,t,n){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(t,n)}parseAsync(e,t,n){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(t,n)}createTextDocumentGetter(e,t){const n=this.serviceRegistry;let r;return()=>null!=r?r:r=lc.create(e.toString(),n.getServices(e).LanguageMetaData.languageId,0,null!=t?t:"")}}class Rc{constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.serviceRegistry=e.ServiceRegistry}get all(){return Pe(this.documentMap.values())}addDocument(e){const t=e.uri.toString();if(this.documentMap.has(t))throw new Error(`A document with the URI '${t}' is already present.`);this.documentMap.set(t,e)}getDocument(e){const t=e.toString();return this.documentMap.get(t)}async getOrCreateDocument(e,t){let n=this.getDocument(e);return n||(n=await this.langiumDocumentFactory.fromUri(e,t),this.addDocument(n),n)}createDocument(e,t,n){if(n)return this.langiumDocumentFactory.fromString(t,e,n).then(e=>(this.addDocument(e),e));{const n=this.langiumDocumentFactory.fromString(t,e);return this.addDocument(n),n}}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){const t=e.toString(),n=this.documentMap.get(t);if(n){this.serviceRegistry.getServices(e).references.Linker.unlink(n),n.state=Tc.Changed,n.precomputedScopes=void 0,n.diagnostics=void 0}return n}deleteDocument(e){const t=e.toString(),n=this.documentMap.get(t);return n&&(n.state=Tc.Changed,this.documentMap.delete(t)),n}}const $c=Symbol("ref_resolving");class Ec{constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}async link(e,t=tc.CancellationToken.None){for(const n of cn(e.parseResult.value))await sc(t),dn(n).forEach(t=>this.doLink(t,e))}doLink(e,t){var n;const r=e.reference;if(void 0===r._ref){r._ref=$c;try{const t=this.getCandidate(e);if(xe(t))r._ref=t;else if(r._nodeDescription=t,this.langiumDocuments().hasDocument(t.documentUri)){const n=this.loadAstNode(t);r._ref=null!=n?n:this.createLinkingError(e,t)}else r._ref=void 0}catch(i){const t=null!==(n=i.message)&&void 0!==n?n:String(i);r._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${r.$refText}': ${t}`})}t.references.push(r)}}unlink(e){for(const t of e.references)delete t._ref,delete t._nodeDescription;e.references=[]}getCandidate(e){const t=this.scopeProvider.getScope(e).getElement(e.reference.$refText);return null!=t?t:this.createLinkingError(e)}buildReference(e,t,n,r){const i=this,s={$refNode:n,$refText:r,get ref(){var n,a;if(Ae(this._ref))return this._ref;if("object"==typeof(a=this._nodeDescription)&&null!==a&&"string"==typeof a.name&&"string"==typeof a.type&&"string"==typeof a.path){const n=i.loadAstNode(this._nodeDescription);this._ref=null!=n?n:i.createLinkingError({reference:s,container:e,property:t},this._nodeDescription)}else if(void 0===this._ref){this._ref=$c;const r=an(e).$document,a=i.getLinkedNode({reference:s,container:e,property:t});if(a.error&&r&&r.state<Tc.ComputedScopes)return this._ref=void 0;this._ref=null!==(n=a.node)&&void 0!==n?n:a.error,this._nodeDescription=a.descr,null==r||r.references.push(this)}else if(this._ref===$c)throw new Error(`Cyclic reference resolution detected: ${i.astNodeLocator.getAstNodePath(e)}/${t} (symbol '${r}')`);return Ae(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return xe(this._ref)?this._ref:void 0}};return s}getLinkedNode(e){var t;try{const t=this.getCandidate(e);if(xe(t))return{error:t};const n=this.loadAstNode(t);return n?{node:n,descr:t}:{descr:t,error:this.createLinkingError(e,t)}}catch(n){const r=null!==(t=n.message)&&void 0!==t?t:String(n);return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${r}`})}}}loadAstNode(e){if(e.node)return e.node;const t=this.langiumDocuments().getDocument(e.documentUri);return t?this.astNodeLocator.getAstNode(t.parseResult.value,e.path):void 0}createLinkingError(e,t){const n=an(e.container).$document;n&&(n.state,Tc.ComputedScopes);const r=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${r} named '${e.reference.$refText}'.`,targetDescription:t})}}class Ac{getName(e){if(function(e){return"string"==typeof e.name}(e))return e.name}getNameNode(e){return Dn(e.$cstNode,"name")}}class kc{constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){const t=function(e){var t;const n=e.astNode;for(;n===(null===(t=e.container)||void 0===t?void 0:t.astNode);){const t=rn(e.grammarSource,Pt);if(t)return t;e=e.container}}(e),n=e.astNode;if(t&&n){const r=n[t.feature];if(ke(r))return r.ref;if(Array.isArray(r))for(const t of r)if(ke(t)&&t.$refNode&&t.$refNode.offset<=e.offset&&t.$refNode.end>=e.end)return t.ref}if(n){const t=this.nameProvider.getNameNode(n);if(t&&(t===e||function(e,t){for(;e.container;)if((e=e.container)===t)return!0;return!1}(e,t)))return n}}}findDeclarationNode(e){const t=this.findDeclaration(e);if(null==t?void 0:t.$cstNode){const e=this.nameProvider.getNameNode(t);return null!=e?e:t.$cstNode}}findReferences(e,t){const n=[];if(t.includeDeclaration){const t=this.getReferenceToSelf(e);t&&n.push(t)}let r=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return t.documentUri&&(r=r.filter(e=>yc.equals(e.sourceUri,t.documentUri))),n.push(...r),Pe(n)}getReferenceToSelf(e){const t=this.nameProvider.getNameNode(e);if(t){const n=sn(e),r=this.nodeLocator.getAstNodePath(e);return{sourceUri:n.uri,sourcePath:r,targetUri:n.uri,targetPath:r,segment:Be(t),local:!0}}}}class xc{constructor(e){if(this.map=new Map,e)for(const[t,n]of e)this.add(t,n)}get size(){return De.sum(Pe(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,t){if(void 0===t)return this.map.delete(e);{const n=this.map.get(e);if(n){const r=n.indexOf(t);if(r>=0)return 1===n.length?this.map.delete(e):n.splice(r,1),!0}return!1}}get(e){var t;return null!==(t=this.map.get(e))&&void 0!==t?t:[]}has(e,t){if(void 0===t)return this.map.has(e);{const n=this.map.get(e);return!!n&&n.indexOf(t)>=0}}add(e,t){return this.map.has(e)?this.map.get(e).push(t):this.map.set(e,[t]),this}addAll(e,t){return this.map.has(e)?this.map.get(e).push(...t):this.map.set(e,Array.from(t)),this}forEach(e){this.map.forEach((t,n)=>t.forEach(t=>e(t,n,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return Pe(this.map.entries()).flatMap(([e,t])=>t.map(t=>[e,t]))}keys(){return Pe(this.map.keys())}values(){return Pe(this.map.values()).flat()}entriesGroupedByKey(){return Pe(this.map.entries())}}class Ic{get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(const[t,n]of e)this.set(t,n)}clear(){this.map.clear(),this.inverse.clear()}set(e,t){return this.map.set(e,t),this.inverse.set(t,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){const t=this.map.get(e);return void 0!==t&&(this.map.delete(e),this.inverse.delete(t),!0)}}class Sc{constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async computeExports(e,t=tc.CancellationToken.None){return this.computeExportsForNode(e.parseResult.value,e,void 0,t)}async computeExportsForNode(e,t,n=on,r=tc.CancellationToken.None){const i=[];this.exportNode(e,i,t);for(const s of n(e))await sc(r),this.exportNode(s,i,t);return i}exportNode(e,t,n){const r=this.nameProvider.getName(e);r&&t.push(this.descriptions.createDescription(e,r,n))}async computeLocalScopes(e,t=tc.CancellationToken.None){const n=e.parseResult.value,r=new xc;for(const i of ln(n))await sc(t),this.processNode(i,e,r);return r}processNode(e,t,n){const r=e.$container;if(r){const i=this.nameProvider.getName(e);i&&n.add(r,this.descriptions.createDescription(e,i,t))}}}class Cc{constructor(e,t,n){var r;this.elements=e,this.outerScope=t,this.caseInsensitive=null!==(r=null==n?void 0:n.caseInsensitive)&&void 0!==r&&r}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){const t=this.caseInsensitive?this.elements.find(t=>t.name.toLowerCase()===e.toLowerCase()):this.elements.find(t=>t.name===e);return t||(this.outerScope?this.outerScope.getElement(e):void 0)}}class Nc{constructor(e,t,n){var r;this.elements=new Map,this.caseInsensitive=null!==(r=null==n?void 0:n.caseInsensitive)&&void 0!==r&&r;for(const i of e){const e=this.caseInsensitive?i.name.toLowerCase():i.name;this.elements.set(e,i)}this.outerScope=t}getElement(e){const t=this.caseInsensitive?e.toLowerCase():e,n=this.elements.get(t);return n||(this.outerScope?this.outerScope.getElement(e):void 0)}getAllElements(){let e=Pe(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}}class wc{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class Lc extends wc{constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,t){this.throwIfDisposed(),this.cache.set(e,t)}get(e,t){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(t){const n=t();return this.cache.set(e,n),n}}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}}class bc extends wc{constructor(e){super(),this.cache=new Map,this.converter=null!=e?e:e=>e}has(e,t){return this.throwIfDisposed(),this.cacheForContext(e).has(t)}set(e,t,n){this.throwIfDisposed(),this.cacheForContext(e).set(t,n)}get(e,t,n){this.throwIfDisposed();const r=this.cacheForContext(e);if(r.has(t))return r.get(t);if(n){const e=n();return r.set(t,e),e}}delete(e,t){return this.throwIfDisposed(),this.cacheForContext(e).delete(t)}clear(e){if(this.throwIfDisposed(),e){const t=this.converter(e);this.cache.delete(t)}else this.cache.clear()}cacheForContext(e){const t=this.converter(e);let n=this.cache.get(t);return n||(n=new Map,this.cache.set(t,n)),n}}class _c extends Lc{constructor(e,t){super(),t?(this.toDispose.push(e.workspace.DocumentBuilder.onBuildPhase(t,()=>{this.clear()})),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((e,t)=>{t.length>0&&this.clear()}))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}class Oc{constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new _c(e.shared)}getScope(e){const t=[],n=this.reflection.getReferenceType(e),r=sn(e.container).precomputedScopes;if(r){let i=e.container;do{const e=r.get(i);e.length>0&&t.push(Pe(e).filter(e=>this.reflection.isSubtype(e.type,n))),i=i.$container}while(i)}let i=this.getGlobalScope(n,e);for(let s=t.length-1;s>=0;s--)i=this.createScope(t[s],i);return i}createScope(e,t,n){return new Cc(Pe(e),t,n)}createScopeForNodes(e,t,n){const r=Pe(e).map(e=>{const t=this.nameProvider.getName(e);if(t)return this.descriptions.createDescription(e,t)}).nonNullable();return new Cc(r,t,n)}getGlobalScope(e,t){return this.globalScopeCache.get(e,()=>new Nc(this.indexManager.allElements(e)))}}function Pc(e){return"object"==typeof e&&!!e&&("$ref"in e||"$error"in e)}class Mc{constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,t){const n=null!=t?t:{},r=null==t?void 0:t.replacer,i=(e,t)=>this.replacer(e,t,n),s=r?(e,t)=>r(e,t,i):i;try{return this.currentDocument=sn(e),JSON.stringify(e,s,null==t?void 0:t.space)}finally{this.currentDocument=void 0}}deserialize(e,t){const n=null!=t?t:{},r=JSON.parse(e);return this.linkNode(r,r,n),r}replacer(e,t,{refText:n,sourceText:r,textRegions:i,comments:s,uriConverter:a}){var o,l,c,u;if(!this.ignoreProperties.has(e)){if(ke(t)){const e=t.ref,r=n?t.$refText:void 0;if(e){const n=sn(e);let i="";this.currentDocument&&this.currentDocument!==n&&(i=a?a(n.uri,t):n.uri.toString());return{$ref:`${i}#${this.astNodeLocator.getAstNodePath(e)}`,$refText:r}}return{$error:null!==(l=null===(o=t.error)||void 0===o?void 0:o.message)&&void 0!==l?l:"Could not resolve reference",$refText:r}}if(Ae(t)){let n;if(i&&(n=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},t)),e&&!t.$document||!(null==n?void 0:n.$textRegion)||(n.$textRegion.documentURI=null===(c=this.currentDocument)||void 0===c?void 0:c.uri.toString())),r&&!e&&(null!=n||(n=Object.assign({},t)),n.$sourceText=null===(u=t.$cstNode)||void 0===u?void 0:u.text),s){null!=n||(n=Object.assign({},t));const e=this.commentProvider.getComment(t);e&&(n.$comment=e.replace(/\r/g,""))}return null!=n?n:t}return t}}addAstNodeRegionWithAssignmentsTo(e){const t=e=>({offset:e.offset,end:e.end,length:e.length,range:e.range});if(e.$cstNode){const n=(e.$textRegion=t(e.$cstNode)).assignments={};return Object.keys(e).filter(e=>!e.startsWith("$")).forEach(r=>{const i=function(e,t){return e&&t?Un(e,t,e.astNode,!0):[]}(e.$cstNode,r).map(t);0!==i.length&&(n[r]=i)}),e}}linkNode(e,t,n,r,i,s){for(const[o,l]of Object.entries(e))if(Array.isArray(l))for(let r=0;r<l.length;r++){const i=l[r];Pc(i)?l[r]=this.reviveReference(e,o,t,i,n):Ae(i)&&this.linkNode(i,t,n,e,o,r)}else Pc(l)?e[o]=this.reviveReference(e,o,t,l,n):Ae(l)&&this.linkNode(l,t,n,e,o);const a=e;a.$container=r,a.$containerProperty=i,a.$containerIndex=s}reviveReference(e,t,n,r,i){let s=r.$refText,a=r.$error;if(r.$ref){const e=this.getRefNode(n,r.$ref,i.uriConverter);if(Ae(e))return s||(s=this.nameProvider.getName(e)),{$refText:null!=s?s:"",ref:e};a=e}if(a){const n={$refText:null!=s?s:""};return n.error={container:e,property:t,message:a,reference:n},n}}getRefNode(e,t,n){try{const r=t.indexOf("#");if(0===r){const n=this.astNodeLocator.getAstNode(e,t.substring(1));return n||"Could not resolve path: "+t}if(r<0){const e=n?n(t):mc.parse(t),r=this.langiumDocuments.getDocument(e);return r?r.parseResult.value:"Could not find document for URI: "+t}const i=n?n(t.substring(0,r)):mc.parse(t.substring(0,r)),s=this.langiumDocuments.getDocument(i);if(!s)return"Could not find document for URI: "+t;if(r===t.length-1)return s.parseResult.value;const a=this.astNodeLocator.getAstNode(s.parseResult.value,t.substring(r+1));return a||"Could not resolve URI: "+t}catch(r){return String(r)}}}class Dc{get map(){return this.fileExtensionMap}constructor(e){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=null==e?void 0:e.workspace.TextDocuments}register(e){const t=e.LanguageMetaData;for(const n of t.fileExtensions)this.fileExtensionMap.has(n),this.fileExtensionMap.set(n,e);this.languageIdMap.set(t.languageId,e),1===this.languageIdMap.size?this.singleton=e:this.singleton=void 0}getServices(e){var t,n;if(void 0!==this.singleton)return this.singleton;if(0===this.languageIdMap.size)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const r=null===(n=null===(t=this.textDocuments)||void 0===t?void 0:t.get(e))||void 0===n?void 0:n.languageId;if(void 0!==r){const e=this.languageIdMap.get(r);if(e)return e}const i=yc.extname(e),s=this.fileExtensionMap.get(i);if(!s)throw r?new Error(`The service registry contains no services for the extension '${i}' for language '${r}'.`):new Error(`The service registry contains no services for the extension '${i}'.`);return s}hasServices(e){try{return this.getServices(e),!0}catch(t){return!1}}get all(){return Array.from(this.languageIdMap.values())}}function Uc(e){return{code:e}}var Fc,Gc;!function(e){e.all=["fast","slow","built-in"]}(Fc||(Fc={}));class Bc{constructor(e){this.entries=new xc,this.entriesBefore=[],this.entriesAfter=[],this.reflection=e.shared.AstReflection}register(e,t=this,n="fast"){if("built-in"===n)throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(const[r,i]of Object.entries(e)){const e=i;if(Array.isArray(e))for(const i of e){const e={check:this.wrapValidationException(i,t),category:n};this.addEntry(r,e)}else if("function"==typeof e){const i={check:this.wrapValidationException(e,t),category:n};this.addEntry(r,i)}else ze()}}wrapValidationException(e,t){return async(n,r,i)=>{await this.handleException(()=>e.call(t,n,r,i),"An error occurred during validation",r,n)}}async handleException(e,t,n,r){try{await e()}catch(i){if(ic(i))throw i;i instanceof Error&&i.stack;n("error",`${t}: ${i instanceof Error?i.message:String(i)}`,{node:r})}}addEntry(e,t){if("AstNode"!==e)for(const n of this.reflection.getAllSubTypes(e))this.entries.add(n,t);else this.entries.add("AstNode",t)}getChecks(e,t){let n=Pe(this.entries.get(e)).concat(this.entries.get("AstNode"));return t&&(n=n.filter(e=>t.includes(e.category))),n.map(e=>e.check)}registerBeforeDocument(e,t=this){this.entriesBefore.push(this.wrapPreparationException(e,"An error occurred during set-up of the validation",t))}registerAfterDocument(e,t=this){this.entriesAfter.push(this.wrapPreparationException(e,"An error occurred during tear-down of the validation",t))}wrapPreparationException(e,t,n){return async(r,i,s,a)=>{await this.handleException(()=>e.call(n,r,i,s,a),t,i,r)}}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}}class Kc{constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}async validateDocument(e,t={},n=tc.CancellationToken.None){const r=e.parseResult,i=[];if(await sc(n),!t.categories||t.categories.includes("built-in")){if(this.processLexingErrors(r,i,t),t.stopAfterLexingErrors&&i.some(e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.code)===Gc.LexingError}))return i;if(this.processParsingErrors(r,i,t),t.stopAfterParsingErrors&&i.some(e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.code)===Gc.ParsingError}))return i;if(this.processLinkingErrors(e,i,t),t.stopAfterLinkingErrors&&i.some(e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.code)===Gc.LinkingError}))return i}try{i.push(...await this.validateAst(r.value,t,n))}catch(s){if(ic(s))throw s}return await sc(n),i}processLexingErrors(e,t,n){var r,i,s;const a=[...e.lexerErrors,...null!==(i=null===(r=e.lexerReport)||void 0===r?void 0:r.diagnostics)&&void 0!==i?i:[]];for(const o of a){const e=null!==(s=o.severity)&&void 0!==s?s:"error",n={severity:jc(e),range:{start:{line:o.line-1,character:o.column-1},end:{line:o.line-1,character:o.column+o.length-1}},message:o.message,data:Hc(e),source:this.getSource()};t.push(n)}}processParsingErrors(e,t,n){for(const r of e.parserErrors){let e;if(isNaN(r.token.startOffset)){if("previousToken"in r){const t=r.previousToken;if(isNaN(t.startOffset)){const t={line:0,character:0};e={start:t,end:t}}else{const n={line:t.endLine-1,character:t.endColumn};e={start:n,end:n}}}}else e=Ge(r.token);if(e){const n={severity:jc("error"),range:e,message:r.message,data:Uc(Gc.ParsingError),source:this.getSource()};t.push(n)}}}processLinkingErrors(e,t,n){for(const r of e.references){const e=r.error;if(e){const n={node:e.container,property:e.property,index:e.index,data:{code:Gc.LinkingError,containerType:e.container.$type,property:e.property,refText:e.reference.$refText}};t.push(this.toDiagnostic("error",e.message,n))}}}async validateAst(e,t,n=tc.CancellationToken.None){const r=[],i=(e,t,n)=>{r.push(this.toDiagnostic(e,t,n))};return await this.validateAstBefore(e,t,i,n),await this.validateAstNodes(e,t,i,n),await this.validateAstAfter(e,t,i,n),r}async validateAstBefore(e,t,n,r=tc.CancellationToken.None){var i;const s=this.validationRegistry.checksBefore;for(const a of s)await sc(r),await a(e,n,null!==(i=t.categories)&&void 0!==i?i:[],r)}async validateAstNodes(e,t,n,r=tc.CancellationToken.None){await Promise.all(cn(e).map(async e=>{await sc(r);const i=this.validationRegistry.getChecks(e.$type,t.categories);for(const t of i)await t(e,n,r)}))}async validateAstAfter(e,t,n,r=tc.CancellationToken.None){var i;const s=this.validationRegistry.checksAfter;for(const a of s)await sc(r),await a(e,n,null!==(i=t.categories)&&void 0!==i?i:[],r)}toDiagnostic(e,t,n){return{message:t,range:Vc(n),severity:jc(e),code:n.code,codeDescription:n.codeDescription,tags:n.tags,relatedInformation:n.relatedInformation,data:n.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function Vc(e){if(e.range)return e.range;let t;return"string"==typeof e.property?t=Dn(e.node.$cstNode,e.property,e.index):"string"==typeof e.keyword&&(t=Fn(e.node.$cstNode,e.keyword,e.index)),null!=t||(t=e.node.$cstNode),t?t.range:{start:{line:0,character:0},end:{line:0,character:0}}}function jc(e){switch(e){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+e)}}function Hc(e){switch(e){case"error":return Uc(Gc.LexingError);case"warning":return Uc(Gc.LexingWarning);case"info":return Uc(Gc.LexingInfo);case"hint":return Uc(Gc.LexingHint);default:throw new Error("Invalid diagnostic severity: "+e)}}!function(e){e.LexingError="lexing-error",e.LexingWarning="lexing-warning",e.LexingInfo="lexing-info",e.LexingHint="lexing-hint",e.ParsingError="parsing-error",e.LinkingError="linking-error"}(Gc||(Gc={}));class Wc{constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,t,n){const r=null!=n?n:sn(e);null!=t||(t=this.nameProvider.getName(e));const i=this.astNodeLocator.getAstNodePath(e);if(!t)throw new Error(`Node at path ${i} has no name.`);let s;const a=()=>{var t;return null!=s?s:s=Be(null!==(t=this.nameProvider.getNameNode(e))&&void 0!==t?t:e.$cstNode)};return{node:e,name:t,get nameSegment(){return a()},selectionSegment:Be(e.$cstNode),type:e.$type,documentUri:r.uri,path:i}}}class zc{constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,t=tc.CancellationToken.None){const n=[],r=e.parseResult.value;for(const i of cn(r))await sc(t),dn(i).filter(e=>!xe(e)).forEach(e=>{const t=this.createDescription(e);t&&n.push(t)});return n}createDescription(e){const t=e.reference.$nodeDescription,n=e.reference.$refNode;if(!t||!n)return;const r=sn(e.container).uri;return{sourceUri:r,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:t.documentUri,targetPath:t.path,segment:Be(n),local:yc.equals(t.documentUri,r)}}}class Yc{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){const t=this.getAstNodePath(e.$container),n=this.getPathSegment(e);return t+this.segmentSeparator+n}return""}getPathSegment({$containerProperty:e,$containerIndex:t}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return void 0!==t?e+this.indexSeparator+t:e}getAstNode(e,t){return t.split(this.segmentSeparator).reduce((e,t)=>{if(!e||0===t.length)return e;const n=t.indexOf(this.indexSeparator);if(n>0){const r=t.substring(0,n),i=parseInt(t.substring(n+1)),s=e[r];return null==s?void 0:s[i]}return e[t]},e)}}var qc,Xc=ec();class Qc{constructor(e){this._ready=new ac,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new Xc.Emitter,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var t,n;this.workspaceConfig=null!==(n=null===(t=e.capabilities.workspace)||void 0===t?void 0:t.configuration)&&void 0!==n&&n}async initialized(e){if(this.workspaceConfig){if(e.register){const t=this.serviceRegistry.all;e.register({section:t.map(e=>this.toSectionName(e.LanguageMetaData.languageId))})}if(e.fetchConfiguration){const t=this.serviceRegistry.all.map(e=>({section:this.toSectionName(e.LanguageMetaData.languageId)})),n=await e.fetchConfiguration(t);t.forEach((e,t)=>{this.updateSectionConfiguration(e.section,n[t])})}}this._ready.resolve()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach(t=>{const n=e.settings[t];this.updateSectionConfiguration(t,n),this.onConfigurationSectionUpdateEmitter.fire({section:t,configuration:n})})}updateSectionConfiguration(e,t){this.settings[e]=t}async getConfiguration(e,t){await this.ready;const n=this.toSectionName(e);if(this.settings[n])return this.settings[n][t]}toSectionName(e){return`${e}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}!function(e){e.create=function(e){return{dispose:async()=>await e()}}}(qc||(qc={}));class Zc{constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new xc,this.documentPhaseListeners=new xc,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=Tc.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.textDocuments=e.workspace.TextDocuments,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}async build(e,t={},n=tc.CancellationToken.None){var r,i;for(const s of e){const e=s.uri.toString();if(s.state===Tc.Validated){if("boolean"==typeof t.validation&&t.validation)s.state=Tc.IndexedReferences,s.diagnostics=void 0,this.buildState.delete(e);else if("object"==typeof t.validation){const n=this.buildState.get(e),a=null===(r=null==n?void 0:n.result)||void 0===r?void 0:r.validationChecks;if(a){const r=(null!==(i=t.validation.categories)&&void 0!==i?i:Fc.all).filter(e=>!a.includes(e));r.length>0&&(this.buildState.set(e,{completed:!1,options:{validation:Object.assign(Object.assign({},t.validation),{categories:r})},result:n.result}),s.state=Tc.IndexedReferences)}}}else this.buildState.delete(e)}this.currentState=Tc.Changed,await this.emitUpdate(e.map(e=>e.uri),[]),await this.buildDocuments(e,t,n)}async update(e,t,n=tc.CancellationToken.None){this.currentState=Tc.Changed;for(const s of t)this.langiumDocuments.deleteDocument(s),this.buildState.delete(s.toString()),this.indexManager.remove(s);for(const s of e){if(!this.langiumDocuments.invalidateDocument(s)){const e=this.langiumDocumentFactory.fromModel({$type:"INVALID"},s);e.state=Tc.Changed,this.langiumDocuments.addDocument(e)}this.buildState.delete(s.toString())}const r=Pe(e).concat(t).map(e=>e.toString()).toSet();this.langiumDocuments.all.filter(e=>!r.has(e.uri.toString())&&this.shouldRelink(e,r)).forEach(e=>{this.serviceRegistry.getServices(e.uri).references.Linker.unlink(e),e.state=Math.min(e.state,Tc.ComputedScopes),e.diagnostics=void 0}),await this.emitUpdate(e,t),await sc(n);const i=this.sortDocuments(this.langiumDocuments.all.filter(e=>{var t;return e.state<Tc.Linked||!(null===(t=this.buildState.get(e.uri.toString()))||void 0===t?void 0:t.completed)}).toArray());await this.buildDocuments(i,this.updateBuildOptions,n)}async emitUpdate(e,t){await Promise.all(this.updateListeners.map(n=>n(e,t)))}sortDocuments(e){let t=0,n=e.length-1;for(;t<n;){for(;t<e.length&&this.hasTextDocument(e[t]);)t++;for(;n>=0&&!this.hasTextDocument(e[n]);)n--;t<n&&([e[t],e[n]]=[e[n],e[t]])}return e}hasTextDocument(e){var t;return Boolean(null===(t=this.textDocuments)||void 0===t?void 0:t.get(e.uri))}shouldRelink(e,t){return!!e.references.some(e=>void 0!==e.error)||this.indexManager.isAffected(e,t)}onUpdate(e){return this.updateListeners.push(e),qc.create(()=>{const t=this.updateListeners.indexOf(e);t>=0&&this.updateListeners.splice(t,1)})}async buildDocuments(e,t,n){this.prepareBuild(e,t),await this.runCancelable(e,Tc.Parsed,n,e=>this.langiumDocumentFactory.update(e,n)),await this.runCancelable(e,Tc.IndexedContent,n,e=>this.indexManager.updateContent(e,n)),await this.runCancelable(e,Tc.ComputedScopes,n,async e=>{const t=this.serviceRegistry.getServices(e.uri).references.ScopeComputation;e.precomputedScopes=await t.computeLocalScopes(e,n)}),await this.runCancelable(e,Tc.Linked,n,e=>this.serviceRegistry.getServices(e.uri).references.Linker.link(e,n)),await this.runCancelable(e,Tc.IndexedReferences,n,e=>this.indexManager.updateReferences(e,n));const r=e.filter(e=>this.shouldValidate(e));await this.runCancelable(r,Tc.Validated,n,e=>this.validate(e,n));for(const i of e){const e=this.buildState.get(i.uri.toString());e&&(e.completed=!0)}}prepareBuild(e,t){for(const n of e){const e=n.uri.toString(),r=this.buildState.get(e);r&&!r.completed||this.buildState.set(e,{completed:!1,options:t,result:null==r?void 0:r.result})}}async runCancelable(e,t,n,r){const i=e.filter(e=>e.state<t);for(const a of i)await sc(n),await r(a),a.state=t,await this.notifyDocumentPhase(a,t,n);const s=e.filter(e=>e.state===t);await this.notifyBuildPhase(s,t,n),this.currentState=t}onBuildPhase(e,t){return this.buildPhaseListeners.add(e,t),qc.create(()=>{this.buildPhaseListeners.delete(e,t)})}onDocumentPhase(e,t){return this.documentPhaseListeners.add(e,t),qc.create(()=>{this.documentPhaseListeners.delete(e,t)})}waitUntil(e,t,n){let r;if(t&&"path"in t?r=t:n=t,null!=n||(n=tc.CancellationToken.None),r){const t=this.langiumDocuments.getDocument(r);if(t&&t.state>e)return Promise.resolve(r)}return this.currentState>=e?Promise.resolve(void 0):n.isCancellationRequested?Promise.reject(rc):new Promise((t,i)=>{const s=this.onBuildPhase(e,()=>{if(s.dispose(),a.dispose(),r){const e=this.langiumDocuments.getDocument(r);t(null==e?void 0:e.uri)}else t(void 0)}),a=n.onCancellationRequested(()=>{s.dispose(),a.dispose(),i(rc)})})}async notifyDocumentPhase(e,t,n){const r=this.documentPhaseListeners.get(t).slice();for(const s of r)try{await s(e,n)}catch(i){if(!ic(i))throw i}}async notifyBuildPhase(e,t,n){if(0===e.length)return;const r=this.buildPhaseListeners.get(t).slice();for(const i of r)await sc(n),await i(e,n)}shouldValidate(e){return Boolean(this.getBuildOptions(e).validation)}async validate(e,t){var n,r;const i=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,s=this.getBuildOptions(e).validation,a="object"==typeof s?s:void 0,o=await i.validateDocument(e,a,t);e.diagnostics?e.diagnostics.push(...o):e.diagnostics=o;const l=this.buildState.get(e.uri.toString());if(l){null!==(n=l.result)&&void 0!==n||(l.result={});const e=null!==(r=null==a?void 0:a.categories)&&void 0!==r?r:Fc.all;l.result.validationChecks?l.result.validationChecks.push(...e):l.result.validationChecks=[...e]}}getBuildOptions(e){var t,n;return null!==(n=null===(t=this.buildState.get(e.uri.toString()))||void 0===t?void 0:t.options)&&void 0!==n?n:{}}}class Jc{constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new bc,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,t){const n=sn(e).uri,r=[];return this.referenceIndex.forEach(e=>{e.forEach(e=>{yc.equals(e.targetUri,n)&&e.targetPath===t&&r.push(e)})}),Pe(r)}allElements(e,t){let n=Pe(this.symbolIndex.keys());return t&&(n=n.filter(e=>!t||t.has(e))),n.map(t=>this.getFileDescriptions(t,e)).flat()}getFileDescriptions(e,t){var n;if(!t)return null!==(n=this.symbolIndex.get(e))&&void 0!==n?n:[];const r=this.symbolByTypeIndex.get(e,t,()=>{var n;return(null!==(n=this.symbolIndex.get(e))&&void 0!==n?n:[]).filter(e=>this.astReflection.isSubtype(e.type,t))});return r}remove(e){const t=e.toString();this.symbolIndex.delete(t),this.symbolByTypeIndex.clear(t),this.referenceIndex.delete(t)}async updateContent(e,t=tc.CancellationToken.None){const n=this.serviceRegistry.getServices(e.uri),r=await n.references.ScopeComputation.computeExports(e,t),i=e.uri.toString();this.symbolIndex.set(i,r),this.symbolByTypeIndex.clear(i)}async updateReferences(e,t=tc.CancellationToken.None){const n=this.serviceRegistry.getServices(e.uri),r=await n.workspace.ReferenceDescriptionProvider.createDescriptions(e,t);this.referenceIndex.set(e.uri.toString(),r)}isAffected(e,t){const n=this.referenceIndex.get(e.uri.toString());return!!n&&n.some(e=>!e.local&&t.has(e.targetUri.toString()))}}class eu{constructor(e){this.initialBuildOptions={},this._ready=new ac,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(e){var t;this.folders=null!==(t=e.workspaceFolders)&&void 0!==t?t:void 0}initialized(e){return this.mutex.write(e=>{var t;return this.initializeWorkspace(null!==(t=this.folders)&&void 0!==t?t:[],e)})}async initializeWorkspace(e,t=tc.CancellationToken.None){const n=await this.performStartup(e);await sc(t),await this.documentBuilder.build(n,this.initialBuildOptions,t)}async performStartup(e){const t=this.serviceRegistry.all.flatMap(e=>e.LanguageMetaData.fileExtensions),n=[],r=e=>{n.push(e),this.langiumDocuments.hasDocument(e.uri)||this.langiumDocuments.addDocument(e)};return await this.loadAdditionalDocuments(e,r),await Promise.all(e.map(e=>[e,this.getRootFolder(e)]).map(async e=>this.traverseFolder(...e,t,r))),this._ready.resolve(),n}loadAdditionalDocuments(e,t){return Promise.resolve()}getRootFolder(e){return mc.parse(e.uri)}async traverseFolder(e,t,n,r){const i=await this.fileSystemProvider.readDirectory(t);await Promise.all(i.map(async t=>{if(this.includeEntry(e,t,n))if(t.isDirectory)await this.traverseFolder(e,t.uri,n,r);else if(t.isFile){const e=await this.langiumDocuments.getOrCreateDocument(t.uri);r(e)}}))}includeEntry(e,t,n){const r=yc.basename(t.uri);if(r.startsWith("."))return!1;if(t.isDirectory)return"node_modules"!==r&&"out"!==r;if(t.isFile){const e=yc.extname(t.uri);return n.includes(e)}return!1}}class tu{buildUnexpectedCharactersMessage(e,t,n,r,i){return li.buildUnexpectedCharactersMessage(e,t,n,r,i)}buildUnableToPopLexerModeMessage(e){return li.buildUnableToPopLexerModeMessage(e)}}const nu={mode:"full"};class ru{constructor(e){this.errorMessageProvider=e.parser.LexerErrorMessageProvider,this.tokenBuilder=e.parser.TokenBuilder;const t=this.tokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(t);const n=su(t)?Object.values(t):t,r="production"===e.LanguageMetaData.mode;this.chevrotainLexer=new di(n,{positionTracking:"full",skipValidations:r,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(e,t=nu){var n,r,i;const s=this.chevrotainLexer.tokenize(e);return{tokens:s.tokens,errors:s.errors,hidden:null!==(n=s.groups.hidden)&&void 0!==n?n:[],report:null===(i=(r=this.tokenBuilder).flushLexingReport)||void 0===i?void 0:i.call(r,e)}}toTokenTypeDictionary(e){if(su(e))return e;const t=iu(e)?Object.values(e.modes).flat():e,n={};return t.forEach(e=>n[e.name]=e),n}}function iu(e){return e&&"modes"in e&&"defaultMode"in e}function su(e){return!function(e){return Array.isArray(e)&&(0===e.length||"name"in e[0])}(e)&&!iu(e)}function au(e,t,n){let r,i;"string"==typeof e?(i=t,r=n):(i=e.range.start,r=t),i||(i=za.create(0,0));const s=function(e){var t,n,r;const i=[];let s=e.position.line,a=e.position.character;for(let o=0;o<e.lines.length;o++){const l=0===o,c=o===e.lines.length-1;let u=e.lines[o],d=0;if(l&&e.options.start){const n=null===(t=e.options.start)||void 0===t?void 0:t.exec(u);n&&(d=n.index+n[0].length)}else{const t=null===(n=e.options.line)||void 0===n?void 0:n.exec(u);t&&(d=t.index+t[0].length)}if(c){const t=null===(r=e.options.end)||void 0===r?void 0:r.exec(u);t&&(u=u.substring(0,t.index))}u=u.substring(0,pu(u));if(fu(u,d)>=u.length){if(i.length>0){const e=za.create(s,a);i.push({type:"break",content:"",range:Ya.create(e,e)})}}else{lu.lastIndex=d;const e=lu.exec(u);if(e){const t=e[0],n=e[1],r=za.create(s,a+d),o=za.create(s,a+d+t.length);i.push({type:"tag",content:n,range:Ya.create(r,o)}),d+=t.length,d=fu(u,d)}if(d<u.length){const e=u.substring(d),t=Array.from(e.matchAll(cu));i.push(...uu(t,e,s,a+d))}}s++,a=0}if(i.length>0&&"break"===i[i.length-1].type)return i.slice(0,-1);return i}({lines:ou(e),position:i,options:Ru(r)});return function(e){var t,n,r,i;const s=za.create(e.position.line,e.position.character);if(0===e.tokens.length)return new Eu([],Ya.create(s,s));const a=[];for(;e.index<e.tokens.length;){const t=mu(e,a[a.length-1]);t&&a.push(t)}const o=null!==(n=null===(t=a[0])||void 0===t?void 0:t.range.start)&&void 0!==n?n:s,l=null!==(i=null===(r=a[a.length-1])||void 0===r?void 0:r.range.end)&&void 0!==i?i:s;return new Eu(a,Ya.create(o,l))}({index:0,tokens:s,position:i})}function ou(e){let t="";t="string"==typeof e?e:e.text;return t.split(In)}const lu=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,cu=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function uu(e,t,n,r){const i=[];if(0===e.length){const e=za.create(n,r),s=za.create(n,r+t.length);i.push({type:"text",content:t,range:Ya.create(e,s)})}else{let s=0;for(const o of e){const e=o.index,a=t.substring(s,e);a.length>0&&i.push({type:"text",content:t.substring(s,e),range:Ya.create(za.create(n,s+r),za.create(n,e+r))});let l=a.length+1;const c=o[1];if(i.push({type:"inline-tag",content:c,range:Ya.create(za.create(n,s+l+r),za.create(n,s+l+c.length+r))}),l+=c.length,4===o.length){l+=o[2].length;const e=o[3];i.push({type:"text",content:e,range:Ya.create(za.create(n,s+l+r),za.create(n,s+l+e.length+r))})}else i.push({type:"text",content:"",range:Ya.create(za.create(n,s+l+r),za.create(n,s+l+r))});s=e+o[0].length}const a=t.substring(s);a.length>0&&i.push({type:"text",content:a,range:Ya.create(za.create(n,s+r),za.create(n,s+r+a.length))})}return i}const du=/\S/,hu=/\s*$/;function fu(e,t){const n=e.substring(t).match(du);return n?t+n.index:e.length}function pu(e){const t=e.match(hu);if(t&&"number"==typeof t.index)return t.index}function mu(e,t){const n=e.tokens[e.index];return"tag"===n.type?Tu(e,!1):"text"===n.type||"inline-tag"===n.type?gu(e):(function(e,t){if(t){const n=new xu("",e.range);"inlines"in t?t.inlines.push(n):t.content.inlines.push(n)}}(n,t),void e.index++)}function gu(e){let t=e.tokens[e.index];const n=t;let r=t;const i=[];for(;t&&"break"!==t.type&&"tag"!==t.type;)i.push(yu(e)),r=t,t=e.tokens[e.index];return new ku(i,Ya.create(n.range.start,r.range.end))}function yu(e){return"inline-tag"===e.tokens[e.index].type?Tu(e,!0):vu(e)}function Tu(e,t){const n=e.tokens[e.index++],r=n.content.substring(1),i=e.tokens[e.index];if("text"===(null==i?void 0:i.type)){if(t){const i=vu(e);return new Au(r,new ku([i],i.range),t,Ya.create(n.range.start,i.range.end))}{const i=gu(e);return new Au(r,i,t,Ya.create(n.range.start,i.range.end))}}{const e=n.range;return new Au(r,new ku([],e),t,e)}}function vu(e){const t=e.tokens[e.index++];return new xu(t.content,t.range)}function Ru(e){if(!e)return Ru({start:"/**",end:"*/",line:"*"});const{start:t,end:n,line:r}=e;return{start:$u(t,!0),end:$u(n,!1),line:$u(r,!0)}}function $u(e,t){if("string"==typeof e||"object"==typeof e){const n="string"==typeof e?bn(e):e.source;return t?new RegExp(`^\\s*${n}`):new RegExp(`\\s*${n}\\s*$`)}return e}class Eu{constructor(e,t){this.elements=e,this.range=t}getTag(e){return this.getAllTags().find(t=>t.name===e)}getTags(e){return this.getAllTags().filter(t=>t.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(const t of this.elements)if(0===e.length)e=t.toString();else{const n=t.toString();e+=Iu(e)+n}return e.trim()}toMarkdown(e){let t="";for(const n of this.elements)if(0===t.length)t=n.toMarkdown(e);else{const r=n.toMarkdown(e);t+=Iu(t)+r}return t.trim()}}class Au{constructor(e,t,n,r){this.name=e,this.content=t,this.inline=n,this.range=r}toString(){let e=`@${this.name}`;const t=this.content.toString();return 1===this.content.inlines.length?e=`${e} ${t}`:this.content.inlines.length>1&&(e=`${e}\n${t}`),this.inline?`{${e}}`:e}toMarkdown(e){var t,n;return null!==(n=null===(t=null==e?void 0:e.renderTag)||void 0===t?void 0:t.call(e,this))&&void 0!==n?n:this.toMarkdownDefault(e)}toMarkdownDefault(e){const t=this.content.toMarkdown(e);if(this.inline){const n=function(e,t,n){var r,i;if("linkplain"===e||"linkcode"===e||"link"===e){const s=t.indexOf(" ");let a=t;if(s>0){const e=fu(t,s);a=t.substring(e),t=t.substring(0,s)}("linkcode"===e||"link"===e&&"code"===n.link)&&(a=`\`${a}\``);const o=null!==(i=null===(r=n.renderLink)||void 0===r?void 0:r.call(n,t,a))&&void 0!==i?i:function(e,t){try{return mc.parse(e,!0),`[${t}](${e})`}catch(r){return e}}(t,a);return o}return}(this.name,t,null!=e?e:{});if("string"==typeof n)return n}let n="";"italic"===(null==e?void 0:e.tag)||void 0===(null==e?void 0:e.tag)?n="*":"bold"===(null==e?void 0:e.tag)?n="**":"bold-italic"===(null==e?void 0:e.tag)&&(n="***");let r=`${n}@${this.name}${n}`;return 1===this.content.inlines.length?r=`${r} — ${t}`:this.content.inlines.length>1&&(r=`${r}\n${t}`),this.inline?`{${r}}`:r}}class ku{constructor(e,t){this.inlines=e,this.range=t}toString(){let e="";for(let t=0;t<this.inlines.length;t++){const n=this.inlines[t],r=this.inlines[t+1];e+=n.toString(),r&&r.range.start.line>n.range.start.line&&(e+="\n")}return e}toMarkdown(e){let t="";for(let n=0;n<this.inlines.length;n++){const r=this.inlines[n],i=this.inlines[n+1];t+=r.toMarkdown(e),i&&i.range.start.line>r.range.start.line&&(t+="\n")}return t}}class xu{constructor(e,t){this.text=e,this.range=t}toString(){return this.text}toMarkdown(){return this.text}}function Iu(e){return e.endsWith("\n")?"\n":"\n\n"}class Su{constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){const t=this.commentProvider.getComment(e);if(t&&function(e,t){const n=Ru(t),r=ou(e);if(0===r.length)return!1;const i=r[0],s=r[r.length-1],a=n.start,o=n.end;return Boolean(null==a?void 0:a.exec(i))&&Boolean(null==o?void 0:o.exec(s))}(t)){return au(t).toMarkdown({renderLink:(t,n)=>this.documentationLinkRenderer(e,t,n),renderTag:t=>this.documentationTagRenderer(e,t)})}}documentationLinkRenderer(e,t,n){var r;const i=null!==(r=this.findNameInPrecomputedScopes(e,t))&&void 0!==r?r:this.findNameInGlobalScope(e,t);if(i&&i.nameSegment){const e=i.nameSegment.range.start.line+1,t=i.nameSegment.range.start.character+1;return`[${n}](${i.documentUri.with({fragment:`L${e},${t}`}).toString()})`}}documentationTagRenderer(e,t){}findNameInPrecomputedScopes(e,t){const n=sn(e).precomputedScopes;if(!n)return;let r=e;do{const e=n.get(r).find(e=>e.name===t);if(e)return e;r=r.$container}while(r)}findNameInGlobalScope(e,t){return this.indexManager.allElements().find(e=>e.name===t)}}class Cu{constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var t;return function(e){return"string"==typeof e.$comment}(e)?e.$comment:null===(t=je(e.$cstNode,this.grammarConfig().multilineCommentRules))||void 0===t?void 0:t.text}}class Nu{constructor(e){this.syncParser=e.parser.LangiumParser}parse(e,t){return Promise.resolve(this.syncParser.parse(e))}}class wu{constructor(){this.previousTokenSource=new tc.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();const t=(nc=performance.now(),new tc.CancellationTokenSource);return this.previousTokenSource=t,this.enqueue(this.writeQueue,e,t.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,t,n=tc.CancellationToken.None){const r=new ac,i={action:t,deferred:r,cancellationToken:n};return e.push(i),this.performNextOperation(),r.promise}async performNextOperation(){if(!this.done)return;const e=[];if(this.writeQueue.length>0)e.push(this.writeQueue.shift());else{if(!(this.readQueue.length>0))return;e.push(...this.readQueue.splice(0,this.readQueue.length))}this.done=!1,await Promise.all(e.map(async({action:e,deferred:t,cancellationToken:n})=>{try{const r=await Promise.resolve().then(()=>e(n));t.resolve(r)}catch(r){ic(r)?t.resolve(void 0):t.reject(r)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}class Lu{constructor(e){this.grammarElementIdMap=new Ic,this.tokenTypeIdMap=new Ic,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport?this.dehydrateLexerReport(e.lexerReport):void 0,parserErrors:e.parserErrors.map(e=>Object.assign(Object.assign({},e),{message:e.message})),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}dehydrateLexerReport(e){return e}createDehyrationContext(e){const t=new Map,n=new Map;for(const r of cn(e))t.set(r,{});if(e.$cstNode)for(const r of Fe(e.$cstNode))n.set(r,{});return{astNodes:t,cstNodes:n}}dehydrateAstNode(e,t){const n=t.astNodes.get(e);n.$type=e.$type,n.$containerIndex=e.$containerIndex,n.$containerProperty=e.$containerProperty,void 0!==e.$cstNode&&(n.$cstNode=this.dehydrateCstNode(e.$cstNode,t));for(const[r,i]of Object.entries(e))if(!r.startsWith("$"))if(Array.isArray(i)){const e=[];n[r]=e;for(const n of i)Ae(n)?e.push(this.dehydrateAstNode(n,t)):ke(n)?e.push(this.dehydrateReference(n,t)):e.push(n)}else Ae(i)?n[r]=this.dehydrateAstNode(i,t):ke(i)?n[r]=this.dehydrateReference(i,t):void 0!==i&&(n[r]=i);return n}dehydrateReference(e,t){const n={};return n.$refText=e.$refText,e.$refNode&&(n.$refNode=t.cstNodes.get(e.$refNode)),n}dehydrateCstNode(e,t){const n=t.cstNodes.get(e);return Ne(e)?n.fullText=e.fullText:n.grammarSource=this.getGrammarElementId(e.grammarSource),n.hidden=e.hidden,n.astNode=t.astNodes.get(e.astNode),Se(e)?n.content=e.content.map(e=>this.dehydrateCstNode(e,t)):Ce(e)&&(n.tokenType=e.tokenType.name,n.offset=e.offset,n.length=e.length,n.startLine=e.range.start.line,n.startColumn=e.range.start.character,n.endLine=e.range.end.line,n.endColumn=e.range.end.character),n}hydrate(e){const t=e.value,n=this.createHydrationContext(t);return"$cstNode"in t&&this.hydrateCstNode(t.$cstNode,n),{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport,parserErrors:e.parserErrors,value:this.hydrateAstNode(t,n)}}createHydrationContext(e){const t=new Map,n=new Map;for(const i of cn(e))t.set(i,{});let r;if(e.$cstNode)for(const i of Fe(e.$cstNode)){let e;"fullText"in i?(e=new El(i.fullText),r=e):"content"in i?e=new Rl:"tokenType"in i&&(e=this.hydrateCstLeafNode(i)),e&&(n.set(i,e),e.root=r)}return{astNodes:t,cstNodes:n}}hydrateAstNode(e,t){const n=t.astNodes.get(e);n.$type=e.$type,n.$containerIndex=e.$containerIndex,n.$containerProperty=e.$containerProperty,e.$cstNode&&(n.$cstNode=t.cstNodes.get(e.$cstNode));for(const[r,i]of Object.entries(e))if(!r.startsWith("$"))if(Array.isArray(i)){const e=[];n[r]=e;for(const s of i)Ae(s)?e.push(this.setParent(this.hydrateAstNode(s,t),n)):ke(s)?e.push(this.hydrateReference(s,n,r,t)):e.push(s)}else Ae(i)?n[r]=this.setParent(this.hydrateAstNode(i,t),n):ke(i)?n[r]=this.hydrateReference(i,n,r,t):void 0!==i&&(n[r]=i);return n}setParent(e,t){return e.$container=t,e}hydrateReference(e,t,n,r){return this.linker.buildReference(t,n,r.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,t,n=0){const r=t.cstNodes.get(e);if("number"==typeof e.grammarSource&&(r.grammarSource=this.getGrammarElement(e.grammarSource)),r.astNode=t.astNodes.get(e.astNode),Se(r))for(const i of e.content){const e=this.hydrateCstNode(i,t,n++);r.content.push(e)}return r}hydrateCstLeafNode(e){const t=this.getTokenType(e.tokenType),n=e.offset,r=e.length,i=e.startLine,s=e.startColumn,a=e.endLine,o=e.endColumn,l=e.hidden;return new vl(n,r,{start:{line:i,character:s},end:{line:a,character:o}},t,l)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){if(e)return 0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap();return this.grammarElementIdMap.getKey(e)}createGrammarElementIdMap(){let e=0;for(const t of cn(this.grammar))et(t)&&this.grammarElementIdMap.set(t,e++)}}function bu(e){return{documentation:{CommentProvider:e=>new Cu(e),DocumentationProvider:e=>new Su(e)},parser:{AsyncParser:e=>new Nu(e),GrammarConfig:e=>function(e){const t=[],n=e.Grammar;for(const r of n.rules)xt(r)&&Mn(r)&&Nn(Wn(r))&&t.push(r.name);return{multilineCommentRules:t,nameRegexp:Ve}}(e),LangiumParser:e=>Bl(e),CompletionParser:e=>function(e){const t=e.Grammar,n=e.parser.Lexer,r=new wl(e);return _l(t,r,n.definition),r.finalize(),r}(e),ValueConverter:()=>new Vl,TokenBuilder:()=>new Kl,Lexer:e=>new ru(e),ParserErrorMessageProvider:()=>new Nl,LexerErrorMessageProvider:()=>new tu},workspace:{AstNodeLocator:()=>new Yc,AstNodeDescriptionProvider:e=>new Wc(e),ReferenceDescriptionProvider:e=>new zc(e)},references:{Linker:e=>new Ec(e),NameProvider:()=>new Ac,ScopeProvider:e=>new Oc(e),ScopeComputation:e=>new Sc(e),References:e=>new kc(e)},serializer:{Hydrator:e=>new Lu(e),JsonSerializer:e=>new Mc(e)},validation:{DocumentValidator:e=>new Kc(e),ValidationRegistry:e=>new Bc(e)},shared:()=>e.shared}}function _u(e){return{ServiceRegistry:e=>new Dc(e),workspace:{LangiumDocuments:e=>new Rc(e),LangiumDocumentFactory:e=>new vc(e),DocumentBuilder:e=>new Zc(e),IndexManager:e=>new Jc(e),WorkspaceManager:e=>new eu(e),FileSystemProvider:t=>e.fileSystemProvider(t),WorkspaceLock:()=>new wu,ConfigurationProvider:e=>new Qc(e)}}}var Ou;function Pu(e,t,n,r,i,s,a,o,l){return Du([e,t,n,r,i,s,a,o,l].reduce(Gu,{}))}!function(e){e.merge=(e,t)=>Gu(Gu({},e),t)}(Ou||(Ou={}));const Mu=Symbol("isProxy");function Du(e,t){const n=new Proxy({},{deleteProperty:()=>!1,set:()=>{throw new Error("Cannot set property on injected service container")},get:(r,i)=>i===Mu||Fu(r,i,e,t||n),getOwnPropertyDescriptor:(r,i)=>(Fu(r,i,e,t||n),Object.getOwnPropertyDescriptor(r,i)),has:(t,n)=>n in e,ownKeys:()=>[...Object.getOwnPropertyNames(e)]});return n}const Uu=Symbol();function Fu(e,t,n,r){if(t in e){if(e[t]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:e[t]});if(e[t]===Uu)throw new Error('Cycle detected. Please make "'+String(t)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return e[t]}if(t in n){const s=n[t];e[t]=Uu;try{e[t]="function"==typeof s?s(r):Du(s,r)}catch(i){throw e[t]=i instanceof Error?i:void 0,i}return e[t]}}function Gu(e,t){if(t)for(const[n,r]of Object.entries(t))if(void 0!==r){const t=e[n];e[n]=null!==t&&null!==r&&"object"==typeof t&&"object"==typeof r?Gu(t,r):r}return e}class Bu{readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}}const Ku={fileSystemProvider:()=>new Bu},Vu={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},ju={AstReflection:()=>new tn};function Hu(e){var t;const n=function(){const e=Pu(_u(Ku),ju),t=Pu(bu({shared:e}),Vu);return e.ServiceRegistry.register(t),t}(),r=n.serializer.JsonSerializer.deserialize(e);return n.shared.workspace.LangiumDocumentFactory.fromModel(r,mc.parse(`memory://${null!==(t=r.name)&&void 0!==t?t:"grammar"}.langium`)),r}var Wu=Object.defineProperty,zu=(e,t)=>Wu(e,"name",{value:t,configurable:!0}),Yu="Statement",qu="Architecture";zu(function(e){return Ld.isInstance(e,qu)},"isArchitecture");var Xu="Axis",Qu="Branch";zu(function(e){return Ld.isInstance(e,Qu)},"isBranch");var Zu="Checkout",Ju="CherryPicking",ed="ClassDefStatement",td="Commit";zu(function(e){return Ld.isInstance(e,td)},"isCommit");var nd="Curve",rd="Edge",id="Entry",sd="GitGraph";zu(function(e){return Ld.isInstance(e,sd)},"isGitGraph");var ad="Group",od="Info";zu(function(e){return Ld.isInstance(e,od)},"isInfo");var ld="Item",cd="Junction",ud="Merge";zu(function(e){return Ld.isInstance(e,ud)},"isMerge");var dd="Option",hd="Packet";zu(function(e){return Ld.isInstance(e,hd)},"isPacket");var fd="PacketBlock";zu(function(e){return Ld.isInstance(e,fd)},"isPacketBlock");var pd="Pie";zu(function(e){return Ld.isInstance(e,pd)},"isPie");var md="PieSection";zu(function(e){return Ld.isInstance(e,md)},"isPieSection");var gd="Radar",yd="Service",Td="Treemap";zu(function(e){return Ld.isInstance(e,Td)},"isTreemap");var vd,Rd,$d,Ed,Ad,kd,xd,Id="TreemapRow",Sd="Direction",Cd="Leaf",Nd="Section",wd=class extends Ie{static{zu(this,"MermaidAstReflection")}getAllTypes(){return[qu,Xu,Qu,Zu,Ju,ed,td,nd,Sd,rd,id,sd,ad,od,ld,cd,Cd,ud,dd,hd,fd,pd,md,gd,Nd,yd,Yu,Td,Id]}computeIsSubtype(e,t){switch(e){case Qu:case Zu:case Ju:case td:case ud:return this.isSubtype(Yu,t);case Sd:return this.isSubtype(sd,t);case Cd:case Nd:return this.isSubtype(ld,t);default:return!1}}getReferenceType(e){const t=`${e.container.$type}:${e.property}`;if("Entry:axis"===t)return Xu;throw new Error(`${t} is not a valid reference id.`)}getTypeMetaData(e){switch(e){case qu:return{name:qu,properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case Xu:return{name:Xu,properties:[{name:"label"},{name:"name"}]};case Qu:return{name:Qu,properties:[{name:"name"},{name:"order"}]};case Zu:return{name:Zu,properties:[{name:"branch"}]};case Ju:return{name:Ju,properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case ed:return{name:ed,properties:[{name:"className"},{name:"styleText"}]};case td:return{name:td,properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case nd:return{name:nd,properties:[{name:"entries",defaultValue:[]},{name:"label"},{name:"name"}]};case rd:return{name:rd,properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case id:return{name:id,properties:[{name:"axis"},{name:"value"}]};case sd:return{name:sd,properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case ad:return{name:ad,properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case od:return{name:od,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case ld:return{name:ld,properties:[{name:"classSelector"},{name:"name"}]};case cd:return{name:cd,properties:[{name:"id"},{name:"in"}]};case ud:return{name:ud,properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case dd:return{name:dd,properties:[{name:"name"},{name:"value",defaultValue:!1}]};case hd:return{name:hd,properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case fd:return{name:fd,properties:[{name:"bits"},{name:"end"},{name:"label"},{name:"start"}]};case pd:return{name:pd,properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case md:return{name:md,properties:[{name:"label"},{name:"value"}]};case gd:return{name:gd,properties:[{name:"accDescr"},{name:"accTitle"},{name:"axes",defaultValue:[]},{name:"curves",defaultValue:[]},{name:"options",defaultValue:[]},{name:"title"}]};case yd:return{name:yd,properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case Td:return{name:Td,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"},{name:"TreemapRows",defaultValue:[]}]};case Id:return{name:Id,properties:[{name:"indent"},{name:"item"}]};case Sd:return{name:Sd,properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};case Cd:return{name:Cd,properties:[{name:"classSelector"},{name:"name"},{name:"value"}]};case Nd:return{name:Nd,properties:[{name:"classSelector"},{name:"name"}]};default:return{name:e,properties:[]}}}},Ld=new wd,bd=zu(()=>vd??(vd=Hu('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@7"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"InfoGrammar"),_d=zu(()=>Rd??(Rd=Hu('{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"packet"},{"$type":"Keyword","value":"packet-beta"}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}],"cardinality":"?"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"+"},{"$type":"Assignment","feature":"bits","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"PacketGrammar"),Od=zu(()=>$d??($d=Hu('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"PieGrammar"),Pd=zu(()=>Ed??(Ed=Hu('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@18"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@19"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"ArchitectureGrammar"),Md=zu(()=>Ad??(Ad=Hu('{"$type":"Grammar","isDeclared":true,"name":"GitGraph","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@14"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"REFERENCE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"GitGraphGrammar"),Dd=zu(()=>kd??(kd=Hu('{"$type":"Grammar","isDeclared":true,"name":"Radar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@2"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@16"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"interfaces":[{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@2"}}}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"types":[],"usedGrammars":[]}')),"RadarGrammar"),Ud=zu(()=>xd??(xd=Hu('{"$type":"Grammar","isDeclared":true,"name":"Treemap","rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"ParserRule","entry":true,"name":"Treemap","returnType":{"$ref":"#/interfaces@4"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"TreemapRows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"TREEMAP_KEYWORD","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap-beta"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"CLASS_DEF","definition":{"$type":"RegexToken","regex":"/classDef\\\\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\\\\s+([^;\\\\r\\\\n]*))?(?:;)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STYLE_SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":::"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"COMMA","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":","}},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/[ \\\\t]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\%\\\\%[^\\\\n]*/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"NL","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false},{"$type":"ParserRule","name":"TreemapRow","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"indent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"item","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ClassDef","dataType":"string","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Item","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Section","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Leaf","returnType":{"$ref":"#/interfaces@2"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INDENTATION","definition":{"$type":"RegexToken","regex":"/[ \\\\t]{1,}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID2","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER2","definition":{"$type":"RegexToken","regex":"/[0-9_\\\\.\\\\,]+/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"MyNumber","dataType":"number","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"STRING2","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|\'[^\']*\'/"},"fragment":false,"hidden":false}],"interfaces":[{"$type":"Interface","name":"Item","attributes":[{"$type":"TypeAttribute","name":"name","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"classSelector","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]},{"$type":"Interface","name":"Section","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[]},{"$type":"Interface","name":"Leaf","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}]},{"$type":"Interface","name":"ClassDefStatement","attributes":[{"$type":"TypeAttribute","name":"className","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"styleText","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false}],"superTypes":[]},{"$type":"Interface","name":"Treemap","attributes":[{"$type":"TypeAttribute","name":"TreemapRows","type":{"$type":"ArrayType","elementType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@14"}}},"isOptional":false},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[],"$comment":"/**\\n * Treemap grammar for Langium\\n * Converted from mindmap grammar\\n *\\n * The ML_COMMENT and NL hidden terminals handle whitespace, comments, and newlines\\n * before the treemap keyword, allowing for empty lines and comments before the\\n * treemap declaration.\\n */"}')),"TreemapGrammar"),Fd={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Gd={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Bd={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Kd={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Vd={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},jd={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Hd={languageId:"treemap",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Wd={AstReflection:zu(()=>new wd,"AstReflection")},zd={Grammar:zu(()=>bd(),"Grammar"),LanguageMetaData:zu(()=>Fd,"LanguageMetaData"),parser:{}},Yd={Grammar:zu(()=>_d(),"Grammar"),LanguageMetaData:zu(()=>Gd,"LanguageMetaData"),parser:{}},qd={Grammar:zu(()=>Od(),"Grammar"),LanguageMetaData:zu(()=>Bd,"LanguageMetaData"),parser:{}},Xd={Grammar:zu(()=>Pd(),"Grammar"),LanguageMetaData:zu(()=>Kd,"LanguageMetaData"),parser:{}},Qd={Grammar:zu(()=>Md(),"Grammar"),LanguageMetaData:zu(()=>Vd,"LanguageMetaData"),parser:{}},Zd={Grammar:zu(()=>Dd(),"Grammar"),LanguageMetaData:zu(()=>jd,"LanguageMetaData"),parser:{}},Jd={Grammar:zu(()=>Ud(),"Grammar"),LanguageMetaData:zu(()=>Hd,"LanguageMetaData"),parser:{}},eh={ACC_DESCR:/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/accTitle[\t ]*:([^\n\r]*)/,TITLE:/title([\t ][^\n\r]*|)/},th=class extends Vl{static{zu(this,"AbstractMermaidValueConverter")}runConverter(e,t,n){let r=this.runCommonConverter(e,t,n);return void 0===r&&(r=this.runCustomConverter(e,t,n)),void 0===r?super.runConverter(e,t,n):r}runCommonConverter(e,t,n){const r=eh[e.name];if(void 0===r)return;const i=r.exec(t);return null!==i?void 0!==i[1]?i[1].trim().replace(/[\t ]{2,}/gm," "):void 0!==i[2]?i[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,"\n"):void 0:void 0}},nh=class extends th{static{zu(this,"CommonValueConverter")}runCustomConverter(e,t,n){}},rh=class extends Kl{static{zu(this,"AbstractMermaidTokenBuilder")}constructor(e){super(),this.keywords=new Set(e)}buildKeywordTokens(e,t,n){const r=super.buildKeywordTokens(e,t,n);return r.forEach(e=>{this.keywords.has(e.name)&&void 0!==e.PATTERN&&(e.PATTERN=new RegExp(e.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),r}};(class extends rh{static{zu(this,"CommonTokenBuilder")}});var ih=class extends rh{static{zu(this,"GitGraphTokenBuilder")}constructor(){super(["gitGraph"])}},sh={parser:{TokenBuilder:zu(()=>new ih,"TokenBuilder"),ValueConverter:zu(()=>new nh,"ValueConverter")}};function ah(e=Ku){const t=Pu(_u(e),Wd),n=Pu(bu({shared:t}),Qd,sh);return t.ServiceRegistry.register(n),{shared:t,GitGraph:n}}zu(ah,"createGitGraphServices");var oh=class extends rh{static{zu(this,"InfoTokenBuilder")}constructor(){super(["info","showInfo"])}},lh={parser:{TokenBuilder:zu(()=>new oh,"TokenBuilder"),ValueConverter:zu(()=>new nh,"ValueConverter")}};function ch(e=Ku){const t=Pu(_u(e),Wd),n=Pu(bu({shared:t}),zd,lh);return t.ServiceRegistry.register(n),{shared:t,Info:n}}zu(ch,"createInfoServices");var uh=class extends rh{static{zu(this,"PacketTokenBuilder")}constructor(){super(["packet"])}},dh={parser:{TokenBuilder:zu(()=>new uh,"TokenBuilder"),ValueConverter:zu(()=>new nh,"ValueConverter")}};function hh(e=Ku){const t=Pu(_u(e),Wd),n=Pu(bu({shared:t}),Yd,dh);return t.ServiceRegistry.register(n),{shared:t,Packet:n}}zu(hh,"createPacketServices");var fh=class extends rh{static{zu(this,"PieTokenBuilder")}constructor(){super(["pie","showData"])}},ph=class extends th{static{zu(this,"PieValueConverter")}runCustomConverter(e,t,n){if("PIE_SECTION_LABEL"===e.name)return t.replace(/"/g,"").trim()}},mh={parser:{TokenBuilder:zu(()=>new fh,"TokenBuilder"),ValueConverter:zu(()=>new ph,"ValueConverter")}};function gh(e=Ku){const t=Pu(_u(e),Wd),n=Pu(bu({shared:t}),qd,mh);return t.ServiceRegistry.register(n),{shared:t,Pie:n}}zu(gh,"createPieServices");var yh=class extends rh{static{zu(this,"ArchitectureTokenBuilder")}constructor(){super(["architecture"])}},Th=class extends th{static{zu(this,"ArchitectureValueConverter")}runCustomConverter(e,t,n){return"ARCH_ICON"===e.name?t.replace(/[()]/g,"").trim():"ARCH_TEXT_ICON"===e.name?t.replace(/["()]/g,""):"ARCH_TITLE"===e.name?t.replace(/[[\]]/g,"").trim():void 0}},vh={parser:{TokenBuilder:zu(()=>new yh,"TokenBuilder"),ValueConverter:zu(()=>new Th,"ValueConverter")}};function Rh(e=Ku){const t=Pu(_u(e),Wd),n=Pu(bu({shared:t}),Xd,vh);return t.ServiceRegistry.register(n),{shared:t,Architecture:n}}zu(Rh,"createArchitectureServices");var $h=class extends rh{static{zu(this,"RadarTokenBuilder")}constructor(){super(["radar-beta"])}},Eh={parser:{TokenBuilder:zu(()=>new $h,"TokenBuilder"),ValueConverter:zu(()=>new nh,"ValueConverter")}};function Ah(e=Ku){const t=Pu(_u(e),Wd),n=Pu(bu({shared:t}),Zd,Eh);return t.ServiceRegistry.register(n),{shared:t,Radar:n}}zu(Ah,"createRadarServices");var kh=class extends rh{static{zu(this,"TreemapTokenBuilder")}constructor(){super(["treemap"])}},xh=/classDef\s+([A-Z_a-z]\w+)(?:\s+([^\n\r;]*))?;?/,Ih=class extends th{static{zu(this,"TreemapValueConverter")}runCustomConverter(e,t,n){if("NUMBER2"===e.name)return parseFloat(t.replace(/,/g,""));if("SEPARATOR"===e.name)return t.substring(1,t.length-1);if("STRING2"===e.name)return t.substring(1,t.length-1);if("INDENTATION"===e.name)return t.length;if("ClassDef"===e.name){if("string"!=typeof t)return t;const e=xh.exec(t);if(e)return{$type:"ClassDefStatement",className:e[1],styleText:e[2]||void 0}}}};function Sh(e){const t=e.validation.TreemapValidator,n=e.validation.ValidationRegistry;if(n){const e={Treemap:t.checkSingleRoot.bind(t)};n.register(e,t)}}zu(Sh,"registerValidationChecks");var Ch=class{static{zu(this,"TreemapValidator")}checkSingleRoot(e,t){let n;for(const r of e.TreemapRows)r.item&&(void 0===n&&void 0===r.indent?n=0:(void 0===r.indent||void 0!==n&&n>=parseInt(r.indent,10))&&t("error","Multiple root nodes are not allowed in a treemap.",{node:r,property:"item"}))}},Nh={parser:{TokenBuilder:zu(()=>new kh,"TokenBuilder"),ValueConverter:zu(()=>new Ih,"ValueConverter")},validation:{TreemapValidator:zu(()=>new Ch,"TreemapValidator")}};function wh(e=Ku){const t=Pu(_u(e),Wd),n=Pu(bu({shared:t}),Jd,Nh);return t.ServiceRegistry.register(n),Sh(n),{shared:t,Treemap:n}}zu(wh,"createTreemapServices");var Lh={},bh={info:zu(async()=>{const{createInfoServices:e}=await y(async()=>{const{createInfoServices:e}=await Promise.resolve().then(()=>Ph);return{createInfoServices:e}},void 0),t=e().Info.parser.LangiumParser;Lh.info=t},"info"),packet:zu(async()=>{const{createPacketServices:e}=await y(async()=>{const{createPacketServices:e}=await Promise.resolve().then(()=>Mh);return{createPacketServices:e}},void 0),t=e().Packet.parser.LangiumParser;Lh.packet=t},"packet"),pie:zu(async()=>{const{createPieServices:e}=await y(async()=>{const{createPieServices:e}=await Promise.resolve().then(()=>Dh);return{createPieServices:e}},void 0),t=e().Pie.parser.LangiumParser;Lh.pie=t},"pie"),architecture:zu(async()=>{const{createArchitectureServices:e}=await y(async()=>{const{createArchitectureServices:e}=await Promise.resolve().then(()=>Uh);return{createArchitectureServices:e}},void 0),t=e().Architecture.parser.LangiumParser;Lh.architecture=t},"architecture"),gitGraph:zu(async()=>{const{createGitGraphServices:e}=await y(async()=>{const{createGitGraphServices:e}=await Promise.resolve().then(()=>Fh);return{createGitGraphServices:e}},void 0),t=e().GitGraph.parser.LangiumParser;Lh.gitGraph=t},"gitGraph"),radar:zu(async()=>{const{createRadarServices:e}=await y(async()=>{const{createRadarServices:e}=await Promise.resolve().then(()=>Gh);return{createRadarServices:e}},void 0),t=e().Radar.parser.LangiumParser;Lh.radar=t},"radar"),treemap:zu(async()=>{const{createTreemapServices:e}=await y(async()=>{const{createTreemapServices:e}=await Promise.resolve().then(()=>Bh);return{createTreemapServices:e}},void 0),t=e().Treemap.parser.LangiumParser;Lh.treemap=t},"treemap")};async function _h(e,t){const n=bh[e];if(!n)throw new Error(`Unknown diagram type: ${e}`);Lh[e]||await n();const r=Lh[e].parse(t);if(r.lexerErrors.length>0||r.parserErrors.length>0)throw new Oh(r);return r.value}zu(_h,"parse");var Oh=class extends Error{constructor(e){super(`Parsing failed: ${e.lexerErrors.map(e=>e.message).join("\n")} ${e.parserErrors.map(e=>e.message).join("\n")}`),this.result=e}static{zu(this,"MermaidParseError")}};const Ph=Object.freeze(Object.defineProperty({__proto__:null,InfoModule:lh,createInfoServices:ch},Symbol.toStringTag,{value:"Module"})),Mh=Object.freeze(Object.defineProperty({__proto__:null,PacketModule:dh,createPacketServices:hh},Symbol.toStringTag,{value:"Module"})),Dh=Object.freeze(Object.defineProperty({__proto__:null,PieModule:mh,createPieServices:gh},Symbol.toStringTag,{value:"Module"})),Uh=Object.freeze(Object.defineProperty({__proto__:null,ArchitectureModule:vh,createArchitectureServices:Rh},Symbol.toStringTag,{value:"Module"})),Fh=Object.freeze(Object.defineProperty({__proto__:null,GitGraphModule:sh,createGitGraphServices:ah},Symbol.toStringTag,{value:"Module"})),Gh=Object.freeze(Object.defineProperty({__proto__:null,RadarModule:Eh,createRadarServices:Ah},Symbol.toStringTag,{value:"Module"})),Bh=Object.freeze(Object.defineProperty({__proto__:null,TreemapModule:Nh,createTreemapServices:wh},Symbol.toStringTag,{value:"Module"}));export{_h as p};

import{bd as r,be as t,aV as n,bf as e,bg as o,bh as u,aU as a,bi as c,bj as i,bk as f,aS as s,bl as l,bm as b,bn as v,bo as j,bb as p,bp as y,aQ as h,bq as g,br as d,bs as w,bt as A,bu as _,aY as m,bv as O,aT as S,bw as x,bx as E,by as I,aX as U,aW as k,b9 as z,bz as B}from"./index.js";function D(n){return"symbol"==typeof n||r(n)&&"[object Symbol]"==t(n)}function F(r,t){for(var n=-1,e=null==r?0:r.length,o=Array(e);++n<e;)o[n]=t(r[n],n,r);return o}var M=e?e.prototype:void 0,C=M?M.toString:void 0;function L(r){if("string"==typeof r)return r;if(n(r))return F(r,L)+"";if(D(r))return C?C.call(r):"";var t=r+"";return"0"==t&&1/r==-1/0?"-0":t}function P(){}function V(r,t){for(var n=-1,e=null==r?0:r.length;++n<e&&!1!==t(r[n],n,r););return r}function $(r,t,n,e){for(var o=r.length,u=n+-1;++u<o;)if(t(r[u],u,r))return u;return-1}function N(r){return r!=r}function R(r,t,n){return t==t?function(r,t,n){for(var e=n-1,o=r.length;++e<o;)if(r[e]===t)return e;return-1}(r,t,n):$(r,N,n)}function q(r,t){return!!(null==r?0:r.length)&&R(r,t,0)>-1}function W(r){return a(r)?o(r):u(r)}var G=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/;function T(r,t){if(n(r))return!1;var e=typeof r;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=r&&!D(r))||(Q.test(r)||!G.test(r)||null!=t&&r in Object(t))}var X,Y,H,J=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K=/\\(\\)?/g,Z=(X=function(r){var t=[];return 46===r.charCodeAt(0)&&t.push(""),r.replace(J,function(r,n,e,o){t.push(e?o.replace(K,"$1"):n||r)}),t},Y=c(X,function(r){return 500===H.size&&H.clear(),r}),H=Y.cache,Y);function rr(r){return null==r?"":L(r)}function tr(r,t){return n(r)?r:T(r,t)?[r]:Z(rr(r))}function nr(r){if("string"==typeof r||D(r))return r;var t=r+"";return"0"==t&&1/r==-1/0?"-0":t}function er(r,t){for(var n=0,e=(t=tr(t,r)).length;null!=r&&n<e;)r=r[nr(t[n++])];return n&&n==e?r:void 0}function or(r,t){for(var n=-1,e=t.length,o=r.length;++n<e;)r[o+n]=t[n];return r}var ur=e?e.isConcatSpreadable:void 0;function ar(r){return n(r)||i(r)||!!(ur&&r&&r[ur])}function cr(r,t,n,e,o){var u=-1,a=r.length;for(n||(n=ar),o||(o=[]);++u<a;){var c=r[u];n(c)?or(o,c):e||(o[o.length]=c)}return o}function ir(r,t,n,e){var o=-1,u=null==r?0:r.length;for(e&&u&&(n=r[++o]);++o<u;)n=t(n,r[o],o,r);return n}function fr(r,t){for(var n=-1,e=null==r?0:r.length,o=0,u=[];++n<e;){var a=r[n];t(a,n,r)&&(u[o++]=a)}return u}function sr(){return[]}var lr=Object.prototype.propertyIsEnumerable,br=Object.getOwnPropertySymbols,vr=br?function(r){return null==r?[]:(r=Object(r),fr(br(r),function(t){return lr.call(r,t)}))}:sr;var jr=Object.getOwnPropertySymbols?function(r){for(var t=[];r;)or(t,vr(r)),r=l(r);return t}:sr;function pr(r,t,e){var o=t(r);return n(r)?o:or(o,e(r))}function yr(r){return pr(r,W,vr)}function hr(r){return pr(r,s,jr)}var gr=Object.prototype.hasOwnProperty;var dr=/\w*$/;var wr=e?e.prototype:void 0,Ar=wr?wr.valueOf:void 0;function _r(r,t,n){var e,o=r.constructor;switch(t){case"[object ArrayBuffer]":return b(r);case"[object Boolean]":case"[object Date]":return new o(+r);case"[object DataView]":return function(r,t){var n=t?b(r.buffer):r.buffer;return new r.constructor(n,r.byteOffset,r.byteLength)}(r,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return v(r,n);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(r);case"[object RegExp]":return function(r){var t=new r.constructor(r.source,dr.exec(r));return t.lastIndex=r.lastIndex,t}(r);case"[object Symbol]":return e=r,Ar?Object(Ar.call(e)):{}}}var mr=y&&y.isMap,Or=mr?p(mr):function(t){return r(t)&&"[object Map]"==j(t)};var Sr=y&&y.isSet,xr=Sr?p(Sr):function(t){return r(t)&&"[object Set]"==j(t)},Er="[object Arguments]",Ir="[object Function]",Ur="[object Object]",kr={};function zr(r,t,e,o,u,a){var c,i=1&t,l=2&t,b=4&t;if(void 0!==c)return c;if(!h(r))return r;var v=n(r);if(v){if(c=function(r){var t=r.length,n=new r.constructor(t);return t&&"string"==typeof r[0]&&gr.call(r,"index")&&(n.index=r.index,n.input=r.input),n}(r),!i)return g(r,c)}else{var p=j(r),y=p==Ir||"[object GeneratorFunction]"==p;if(d(r))return w(r,i);if(p==Ur||p==Er||y&&!u){if(c=l||y?{}:A(r),!i)return l?function(r,t){return f(r,jr(r),t)}(r,function(r,t){return r&&f(t,s(t),r)}(c,r)):function(r,t){return f(r,vr(r),t)}(r,function(r,t){return r&&f(t,W(t),r)}(c,r))}else{if(!kr[p])return u?r:{};c=_r(r,p,i)}}a||(a=new _);var O=a.get(r);if(O)return O;a.set(r,c),xr(r)?r.forEach(function(n){c.add(zr(n,t,e,n,r,a))}):Or(r)&&r.forEach(function(n,o){c.set(o,zr(n,t,e,o,r,a))});var S=v?void 0:(b?l?hr:yr:l?s:W)(r);return V(S||r,function(n,o){S&&(n=r[o=n]),m(c,o,zr(n,t,e,o,r,a))}),c}kr[Er]=kr["[object Array]"]=kr["[object ArrayBuffer]"]=kr["[object DataView]"]=kr["[object Boolean]"]=kr["[object Date]"]=kr["[object Float32Array]"]=kr["[object Float64Array]"]=kr["[object Int8Array]"]=kr["[object Int16Array]"]=kr["[object Int32Array]"]=kr["[object Map]"]=kr["[object Number]"]=kr[Ur]=kr["[object RegExp]"]=kr["[object Set]"]=kr["[object String]"]=kr["[object Symbol]"]=kr["[object Uint8Array]"]=kr["[object Uint8ClampedArray]"]=kr["[object Uint16Array]"]=kr["[object Uint32Array]"]=!0,kr["[object Error]"]=kr[Ir]=kr["[object WeakMap]"]=!1;function Br(r){var t=-1,n=null==r?0:r.length;for(this.__data__=new O;++t<n;)this.add(r[t])}function Dr(r,t){for(var n=-1,e=null==r?0:r.length;++n<e;)if(t(r[n],n,r))return!0;return!1}function Fr(r,t){return r.has(t)}Br.prototype.add=Br.prototype.push=function(r){return this.__data__.set(r,"__lodash_hash_undefined__"),this},Br.prototype.has=function(r){return this.__data__.has(r)};function Mr(r,t,n,e,o,u){var a=1&n,c=r.length,i=t.length;if(c!=i&&!(a&&i>c))return!1;var f=u.get(r),s=u.get(t);if(f&&s)return f==t&&s==r;var l=-1,b=!0,v=2&n?new Br:void 0;for(u.set(r,t),u.set(t,r);++l<c;){var j=r[l],p=t[l];if(e)var y=a?e(p,j,l,t,r,u):e(j,p,l,r,t,u);if(void 0!==y){if(y)continue;b=!1;break}if(v){if(!Dr(t,function(r,t){if(!Fr(v,t)&&(j===r||o(j,r,n,e,u)))return v.push(t)})){b=!1;break}}else if(j!==p&&!o(j,p,n,e,u)){b=!1;break}}return u.delete(r),u.delete(t),b}function Cr(r){var t=-1,n=Array(r.size);return r.forEach(function(r,e){n[++t]=[e,r]}),n}function Lr(r){var t=-1,n=Array(r.size);return r.forEach(function(r){n[++t]=r}),n}var Pr=e?e.prototype:void 0,Vr=Pr?Pr.valueOf:void 0;var $r=Object.prototype.hasOwnProperty;var Nr="[object Arguments]",Rr="[object Array]",qr="[object Object]",Wr=Object.prototype.hasOwnProperty;function Gr(r,t,e,o,u,a){var c=n(r),i=n(t),f=c?Rr:j(r),s=i?Rr:j(t),l=(f=f==Nr?qr:f)==qr,b=(s=s==Nr?qr:s)==qr,v=f==s;if(v&&d(r)){if(!d(t))return!1;c=!0,l=!1}if(v&&!l)return a||(a=new _),c||E(r)?Mr(r,t,e,o,u,a):function(r,t,n,e,o,u,a){switch(n){case"[object DataView]":if(r.byteLength!=t.byteLength||r.byteOffset!=t.byteOffset)return!1;r=r.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(r.byteLength!=t.byteLength||!u(new x(r),new x(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return S(+r,+t);case"[object Error]":return r.name==t.name&&r.message==t.message;case"[object RegExp]":case"[object String]":return r==t+"";case"[object Map]":var c=Cr;case"[object Set]":var i=1&e;if(c||(c=Lr),r.size!=t.size&&!i)return!1;var f=a.get(r);if(f)return f==t;e|=2,a.set(r,t);var s=Mr(c(r),c(t),e,o,u,a);return a.delete(r),s;case"[object Symbol]":if(Vr)return Vr.call(r)==Vr.call(t)}return!1}(r,t,f,e,o,u,a);if(!(1&e)){var p=l&&Wr.call(r,"__wrapped__"),y=b&&Wr.call(t,"__wrapped__");if(p||y){var h=p?r.value():r,g=y?t.value():t;return a||(a=new _),u(h,g,e,o,a)}}return!!v&&(a||(a=new _),function(r,t,n,e,o,u){var a=1&n,c=yr(r),i=c.length;if(i!=yr(t).length&&!a)return!1;for(var f=i;f--;){var s=c[f];if(!(a?s in t:$r.call(t,s)))return!1}var l=u.get(r),b=u.get(t);if(l&&b)return l==t&&b==r;var v=!0;u.set(r,t),u.set(t,r);for(var j=a;++f<i;){var p=r[s=c[f]],y=t[s];if(e)var h=a?e(y,p,s,t,r,u):e(p,y,s,r,t,u);if(!(void 0===h?p===y||o(p,y,n,e,u):h)){v=!1;break}j||(j="constructor"==s)}if(v&&!j){var g=r.constructor,d=t.constructor;g==d||!("constructor"in r)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof d&&d instanceof d||(v=!1)}return u.delete(r),u.delete(t),v}(r,t,e,o,u,a))}function Qr(t,n,e,o,u){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!=t&&n!=n:Gr(t,n,e,o,Qr,u))}function Tr(r){return r==r&&!h(r)}function Xr(r,t){return function(n){return null!=n&&(n[r]===t&&(void 0!==t||r in Object(n)))}}function Yr(r){var t=function(r){for(var t=W(r),n=t.length;n--;){var e=t[n],o=r[e];t[n]=[e,o,Tr(o)]}return t}(r);return 1==t.length&&t[0][2]?Xr(t[0][0],t[0][1]):function(n){return n===r||function(r,t,n,e){var o=n.length,u=o;if(null==r)return!u;for(r=Object(r);o--;){var a=n[o];if(a[2]?a[1]!==r[a[0]]:!(a[0]in r))return!1}for(;++o<u;){var c=(a=n[o])[0],i=r[c],f=a[1];if(a[2]){if(void 0===i&&!(c in r))return!1}else if(!Qr(f,i,3,e,new _))return!1}return!0}(n,0,t)}}function Hr(r,t){return null!=r&&t in Object(r)}function Jr(r,t,e){for(var o=-1,u=(t=tr(t,r)).length,a=!1;++o<u;){var c=nr(t[o]);if(!(a=null!=r&&e(r,c)))break;r=r[c]}return a||++o!=u?a:!!(u=null==r?0:r.length)&&I(u)&&U(c,u)&&(n(r)||i(r))}function Kr(r,t){return null!=r&&Jr(r,t,Hr)}function Zr(r,t){return T(r)&&Tr(t)?Xr(nr(r),t):function(n){var e=function(r,t,n){var e=null==r?void 0:er(r,t);return void 0===e?n:e}(n,r);return void 0===e&&e===t?Kr(n,r):Qr(t,e,3)}}function rt(r){return T(r)?(t=nr(r),function(r){return null==r?void 0:r[t]}):function(r){return function(t){return er(t,r)}}(r);var t}function tt(r){return"function"==typeof r?r:null==r?k:"object"==typeof r?n(r)?Zr(r[0],r[1]):Yr(r):rt(r)}function nt(r,t){return r&&z(r,t,W)}var et,ot=(et=nt,function(r,t){if(null==r)return r;if(!a(r))return et(r,t);for(var n=r.length,e=-1,o=Object(r);++e<n&&!1!==t(o[e],e,o););return r});function ut(r){return"function"==typeof r?r:k}function at(r,t){return(n(r)?V:ot)(r,ut(t))}function ct(r,t){var n=[];return ot(r,function(r,e,o){t(r,e,o)&&n.push(r)}),n}function it(r,t){return(n(r)?fr:ct)(r,tt(t))}function ft(r){return null==r?[]:function(r,t){return F(t,function(t){return r[t]})}(r,W(r))}function st(r){return void 0===r}function lt(r,t,n,e,o){return o(r,function(r,o,u){n=e?(e=!1,r):t(n,r,o,u)}),n}function bt(r,t,e){var o=n(r)?ir:lt,u=arguments.length<3;return o(r,tt(t),e,u,ot)}var vt=B&&1/Lr(new B([,-0]))[1]==1/0?function(r){return new B(r)}:P;function jt(r,t,n){var e=-1,o=q,u=r.length,a=!0,c=[],i=c;if(u>=200){var f=t?null:vt(r);if(f)return Lr(f);a=!1,o=Fr,i=new Br}else i=t?[]:c;r:for(;++e<u;){var s=r[e],l=t?t(s):s;if(s=0!==s?s:0,a&&l==l){for(var b=i.length;b--;)if(i[b]===l)continue r;t&&i.push(l),c.push(s)}else o(i,l,n)||(i!==c&&i.push(l),c.push(s))}return c}export{fr as A,ct as B,Dr as C,P as D,Br as S,jt as a,zr as b,cr as c,at as d,D as e,it as f,tt as g,$ as h,st as i,ot as j,W as k,F as l,Jr as m,tr as n,er as o,ut as p,nt as q,bt as r,Kr as s,nr as t,rr as u,ft as v,q as w,Fr as x,R as y,hr as z};

import{e as r,c as n,g as t,k as a,h as e,j as u,l as o,m as i,n as s,t as f,o as v}from"./_baseUniq.js";import{aQ as l,aA as c,aR as h,aS as p,aT as g,aU as d,aV as y,aW as b,aX as j,aY as m}from"./index.js";var O=/\s/;var _=/^\s+/;function x(r){return r?r.slice(0,function(r){for(var n=r.length;n--&&O.test(r.charAt(n)););return n}(r)+1).replace(_,""):r}var N=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,$=/^0o[0-7]+$/i,w=parseInt;var P=1/0;function U(n){return n?(n=function(n){if("number"==typeof n)return n;if(r(n))return NaN;if(l(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=l(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=x(n);var a=A.test(n);return a||$.test(n)?w(n.slice(2),a?2:8):N.test(n)?NaN:+n}(n))===P||n===-1/0?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0}function k(r){var n=U(r),t=n%1;return n==n?t?n-t:n:0}function q(r){return(null==r?0:r.length)?n(r):[]}var I=Object.prototype,M=I.hasOwnProperty,Q=c(function(r,n){r=Object(r);var t=-1,a=n.length,e=a>2?n[2]:void 0;for(e&&h(n[0],n[1],e)&&(a=1);++t<a;)for(var u=n[t],o=p(u),i=-1,s=o.length;++i<s;){var f=o[i],v=r[f];(void 0===v||g(v,I[f])&&!M.call(r,f))&&(r[f]=u[f])}return r});function R(r){var n=null==r?0:r.length;return n?r[n-1]:void 0}var S=Math.max;var T,V=(T=function(r,n,a){var u=null==r?0:r.length;if(!u)return-1;var o=null==a?0:k(a);return o<0&&(o=S(u+o,0)),e(r,t(n),o)},function(r,n,e){var u=Object(r);if(!d(r)){var o=t(n);r=a(r),n=function(r){return o(u[r],r,u)}}var i=T(r,n,e);return i>-1?u[o?r[i]:i]:void 0});function W(r,n){var t=-1,a=d(r)?Array(r.length):[];return u(r,function(r,e,u){a[++t]=n(r,e,u)}),a}function X(r,n){return(y(r)?o:W)(r,t(n))}var Y=Object.prototype.hasOwnProperty;function z(r,n){return null!=r&&Y.call(r,n)}function B(r,n){return null!=r&&i(r,n,z)}function C(r,n){return r<n}function D(n,t,a){for(var e=-1,u=n.length;++e<u;){var o=n[e],i=t(o);if(null!=i&&(void 0===s?i==i&&!r(i):a(i,s)))var s=i,f=o}return f}function E(r){return r&&r.length?D(r,b,C):void 0}function F(r,n,t,a){if(!l(r))return r;for(var e=-1,u=(n=s(n,r)).length,o=u-1,i=r;null!=i&&++e<u;){var v=f(n[e]),c=t;if("__proto__"===v||"constructor"===v||"prototype"===v)return r;if(e!=o){var h=i[v];void 0===(c=void 0)&&(c=l(h)?h:j(n[e+1])?[]:{})}m(i,v,c),i=i[v]}return r}function G(r,n,t){for(var a=-1,e=n.length,u={};++a<e;){var o=n[a],i=v(r,o);t(i,o)&&F(u,s(o,r),i)}return u}export{C as a,D as b,W as c,G as d,E as e,q as f,V as g,B as h,Q as i,k as j,R as l,X as m,U as t};

import{b as r}from"./_baseUniq.js";function n(n){return r(n,4)}export{n as c};

import{_ as e,l as r,H as s,e as a,I as t}from"./index.js";import{p as n}from"./treemap-75Q7IDZK.js";import"./_baseUniq.js";import"./_basePickBy.js";import"./clone.js";var i={parse:e(async e=>{const s=await n("info",e);r.debug(s)},"parse")},o={version:t.version+""},p={parser:i,db:{getVersion:e(()=>o.version,"getVersion")},renderer:{draw:e((e,t,n)=>{r.debug("rendering info diagram\n"+e);const i=s(t);a(i,100,400,!0);i.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${n}`)},"draw")}};export{p as diagram};

import{_ as t,s as e,g as i,q as a,p as n,a as s,b as r,c as o,l,d as h,e as c,y as d,F as u,K as x,i as g}from"./index.js";import{l as f}from"./linear.js";import"./init.js";import"./defaultLocale.js";var p=function(){var e=t(function(t,e,i,a){for(i=i||{},a=t.length;a--;i[t[a]]=e);return i},"o"),i=[1,3],a=[1,4],n=[1,5],s=[1,6],r=[1,7],o=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],l=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],h=[55,56,57],c=[2,36],d=[1,37],u=[1,36],x=[1,38],g=[1,35],f=[1,43],p=[1,41],y=[1,14],T=[1,23],m=[1,18],q=[1,19],A=[1,20],_=[1,21],b=[1,22],S=[1,24],k=[1,25],F=[1,26],P=[1,27],C=[1,28],L=[1,29],v=[1,32],E=[1,33],D=[1,34],z=[1,39],I=[1,40],w=[1,42],N=[1,44],B=[1,62],W=[1,61],R=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],$=[1,65],U=[1,66],Q=[1,67],O=[1,68],X=[1,69],H=[1,70],M=[1,71],Y=[1,72],j=[1,73],K=[1,74],G=[1,75],V=[1,76],Z=[4,5,6,7,8,9,10,11,12,13,14,15,18],J=[1,90],tt=[1,91],et=[1,92],it=[1,99],at=[1,93],nt=[1,96],st=[1,94],rt=[1,95],ot=[1,97],lt=[1,98],ht=[1,102],ct=[10,55,56,57],dt=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],ut={trace:t(function(){},"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:t(function(t,e,i,a,n,s,r){var o=s.length-1;switch(n){case 23:case 68:this.$=s[o];break;case 24:case 69:this.$=s[o-1]+""+s[o];break;case 26:this.$=s[o-1]+s[o];break;case 27:this.$=[s[o].trim()];break;case 28:s[o-2].push(s[o].trim()),this.$=s[o-2];break;case 29:this.$=s[o-4],a.addClass(s[o-2],s[o]);break;case 37:this.$=[];break;case 42:this.$=s[o].trim(),a.setDiagramTitle(this.$);break;case 43:this.$=s[o].trim(),a.setAccTitle(this.$);break;case 44:case 45:this.$=s[o].trim(),a.setAccDescription(this.$);break;case 46:a.addSection(s[o].substr(8)),this.$=s[o].substr(8);break;case 47:a.addPoint(s[o-3],"",s[o-1],s[o],[]);break;case 48:a.addPoint(s[o-4],s[o-3],s[o-1],s[o],[]);break;case 49:a.addPoint(s[o-4],"",s[o-2],s[o-1],s[o]);break;case 50:a.addPoint(s[o-5],s[o-4],s[o-2],s[o-1],s[o]);break;case 51:a.setXAxisLeftText(s[o-2]),a.setXAxisRightText(s[o]);break;case 52:s[o-1].text+=" ⟶ ",a.setXAxisLeftText(s[o-1]);break;case 53:a.setXAxisLeftText(s[o]);break;case 54:a.setYAxisBottomText(s[o-2]),a.setYAxisTopText(s[o]);break;case 55:s[o-1].text+=" ⟶ ",a.setYAxisBottomText(s[o-1]);break;case 56:a.setYAxisBottomText(s[o]);break;case 57:a.setQuadrant1Text(s[o]);break;case 58:a.setQuadrant2Text(s[o]);break;case 59:a.setQuadrant3Text(s[o]);break;case 60:a.setQuadrant4Text(s[o]);break;case 64:case 66:this.$={text:s[o],type:"text"};break;case 65:this.$={text:s[o-1].text+""+s[o],type:s[o-1].type};break;case 67:this.$={text:s[o],type:"markdown"}}},"anonymous"),table:[{18:i,26:1,27:2,28:a,55:n,56:s,57:r},{1:[3]},{18:i,26:8,27:2,28:a,55:n,56:s,57:r},{18:i,26:9,27:2,28:a,55:n,56:s,57:r},e(o,[2,33],{29:10}),e(l,[2,61]),e(l,[2,62]),e(l,[2,63]),{1:[2,30]},{1:[2,31]},e(h,c,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:d,5:u,10:x,12:g,13:f,14:p,18:y,25:T,35:m,37:q,39:A,41:_,42:b,48:S,50:k,51:F,52:P,53:C,54:L,60:v,61:E,63:D,64:z,65:I,66:w,67:N}),e(o,[2,34]),{27:45,55:n,56:s,57:r},e(h,[2,37]),e(h,c,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:d,5:u,10:x,12:g,13:f,14:p,18:y,25:T,35:m,37:q,39:A,41:_,42:b,48:S,50:k,51:F,52:P,53:C,54:L,60:v,61:E,63:D,64:z,65:I,66:w,67:N}),e(h,[2,39]),e(h,[2,40]),e(h,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},e(h,[2,45]),e(h,[2,46]),{18:[1,50]},{4:d,5:u,10:x,12:g,13:f,14:p,43:51,58:31,60:v,61:E,63:D,64:z,65:I,66:w,67:N},{4:d,5:u,10:x,12:g,13:f,14:p,43:52,58:31,60:v,61:E,63:D,64:z,65:I,66:w,67:N},{4:d,5:u,10:x,12:g,13:f,14:p,43:53,58:31,60:v,61:E,63:D,64:z,65:I,66:w,67:N},{4:d,5:u,10:x,12:g,13:f,14:p,43:54,58:31,60:v,61:E,63:D,64:z,65:I,66:w,67:N},{4:d,5:u,10:x,12:g,13:f,14:p,43:55,58:31,60:v,61:E,63:D,64:z,65:I,66:w,67:N},{4:d,5:u,10:x,12:g,13:f,14:p,43:56,58:31,60:v,61:E,63:D,64:z,65:I,66:w,67:N},{4:d,5:u,8:B,10:x,12:g,13:f,14:p,18:W,44:[1,57],47:[1,58],58:60,59:59,63:D,64:z,65:I,66:w,67:N},e(R,[2,64]),e(R,[2,66]),e(R,[2,67]),e(R,[2,70]),e(R,[2,71]),e(R,[2,72]),e(R,[2,73]),e(R,[2,74]),e(R,[2,75]),e(R,[2,76]),e(R,[2,77]),e(R,[2,78]),e(R,[2,79]),e(R,[2,80]),e(o,[2,35]),e(h,[2,38]),e(h,[2,42]),e(h,[2,43]),e(h,[2,44]),{3:64,4:$,5:U,6:Q,7:O,8:X,9:H,10:M,11:Y,12:j,13:K,14:G,15:V,21:63},e(h,[2,53],{59:59,58:60,4:d,5:u,8:B,10:x,12:g,13:f,14:p,18:W,49:[1,77],63:D,64:z,65:I,66:w,67:N}),e(h,[2,56],{59:59,58:60,4:d,5:u,8:B,10:x,12:g,13:f,14:p,18:W,49:[1,78],63:D,64:z,65:I,66:w,67:N}),e(h,[2,57],{59:59,58:60,4:d,5:u,8:B,10:x,12:g,13:f,14:p,18:W,63:D,64:z,65:I,66:w,67:N}),e(h,[2,58],{59:59,58:60,4:d,5:u,8:B,10:x,12:g,13:f,14:p,18:W,63:D,64:z,65:I,66:w,67:N}),e(h,[2,59],{59:59,58:60,4:d,5:u,8:B,10:x,12:g,13:f,14:p,18:W,63:D,64:z,65:I,66:w,67:N}),e(h,[2,60],{59:59,58:60,4:d,5:u,8:B,10:x,12:g,13:f,14:p,18:W,63:D,64:z,65:I,66:w,67:N}),{45:[1,79]},{44:[1,80]},e(R,[2,65]),e(R,[2,81]),e(R,[2,82]),e(R,[2,83]),{3:82,4:$,5:U,6:Q,7:O,8:X,9:H,10:M,11:Y,12:j,13:K,14:G,15:V,18:[1,81]},e(Z,[2,23]),e(Z,[2,1]),e(Z,[2,2]),e(Z,[2,3]),e(Z,[2,4]),e(Z,[2,5]),e(Z,[2,6]),e(Z,[2,7]),e(Z,[2,8]),e(Z,[2,9]),e(Z,[2,10]),e(Z,[2,11]),e(Z,[2,12]),e(h,[2,52],{58:31,43:83,4:d,5:u,10:x,12:g,13:f,14:p,60:v,61:E,63:D,64:z,65:I,66:w,67:N}),e(h,[2,55],{58:31,43:84,4:d,5:u,10:x,12:g,13:f,14:p,60:v,61:E,63:D,64:z,65:I,66:w,67:N}),{46:[1,85]},{45:[1,86]},{4:J,5:tt,6:et,8:it,11:at,13:nt,16:89,17:st,18:rt,19:ot,20:lt,22:88,23:87},e(Z,[2,24]),e(h,[2,51],{59:59,58:60,4:d,5:u,8:B,10:x,12:g,13:f,14:p,18:W,63:D,64:z,65:I,66:w,67:N}),e(h,[2,54],{59:59,58:60,4:d,5:u,8:B,10:x,12:g,13:f,14:p,18:W,63:D,64:z,65:I,66:w,67:N}),e(h,[2,47],{22:88,16:89,23:100,4:J,5:tt,6:et,8:it,11:at,13:nt,17:st,18:rt,19:ot,20:lt}),{46:[1,101]},e(h,[2,29],{10:ht}),e(ct,[2,27],{16:103,4:J,5:tt,6:et,8:it,11:at,13:nt,17:st,18:rt,19:ot,20:lt}),e(dt,[2,25]),e(dt,[2,13]),e(dt,[2,14]),e(dt,[2,15]),e(dt,[2,16]),e(dt,[2,17]),e(dt,[2,18]),e(dt,[2,19]),e(dt,[2,20]),e(dt,[2,21]),e(dt,[2,22]),e(h,[2,49],{10:ht}),e(h,[2,48],{22:88,16:89,23:104,4:J,5:tt,6:et,8:it,11:at,13:nt,17:st,18:rt,19:ot,20:lt}),{4:J,5:tt,6:et,8:it,11:at,13:nt,16:89,17:st,18:rt,19:ot,20:lt,22:105},e(dt,[2,26]),e(h,[2,50],{10:ht}),e(ct,[2,28],{16:103,4:J,5:tt,6:et,8:it,11:at,13:nt,17:st,18:rt,19:ot,20:lt})],defaultActions:{8:[2,30],9:[2,31]},parseError:t(function(t,e){if(!e.recoverable){var i=new Error(t);throw i.hash=e,i}this.trace(t)},"parseError"),parse:t(function(e){var i=this,a=[0],n=[],s=[null],r=[],o=this.table,l="",h=0,c=0,d=r.slice.call(arguments,1),u=Object.create(this.lexer),x={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(x.yy[g]=this.yy[g]);u.setInput(e,x.yy),x.yy.lexer=u,x.yy.parser=this,void 0===u.yylloc&&(u.yylloc={});var f=u.yylloc;r.push(f);var p=u.options&&u.options.ranges;function y(){var t;return"number"!=typeof(t=n.pop()||u.lex()||1)&&(t instanceof Array&&(t=(n=t).pop()),t=i.symbols_[t]||t),t}"function"==typeof x.yy.parseError?this.parseError=x.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,t(function(t){a.length=a.length-2*t,s.length=s.length-t,r.length=r.length-t},"popStack"),t(y,"lex");for(var T,m,q,A,_,b,S,k,F={};;){if(m=a[a.length-1],this.defaultActions[m]?q=this.defaultActions[m]:(null==T&&(T=y()),q=o[m]&&o[m][T]),void 0===q||!q.length||!q[0]){var P="";for(_ in k=[],o[m])this.terminals_[_]&&_>2&&k.push("'"+this.terminals_[_]+"'");P=u.showPosition?"Parse error on line "+(h+1)+":\n"+u.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[T]||T)+"'":"Parse error on line "+(h+1)+": Unexpected "+(1==T?"end of input":"'"+(this.terminals_[T]||T)+"'"),this.parseError(P,{text:u.match,token:this.terminals_[T]||T,line:u.yylineno,loc:f,expected:k})}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+T);switch(q[0]){case 1:a.push(T),s.push(u.yytext),r.push(u.yylloc),a.push(q[1]),T=null,c=u.yyleng,l=u.yytext,h=u.yylineno,f=u.yylloc;break;case 2:if(b=this.productions_[q[1]][1],F.$=s[s.length-b],F._$={first_line:r[r.length-(b||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(b||1)].first_column,last_column:r[r.length-1].last_column},p&&(F._$.range=[r[r.length-(b||1)].range[0],r[r.length-1].range[1]]),void 0!==(A=this.performAction.apply(F,[l,c,h,x.yy,q[1],s,r].concat(d))))return A;b&&(a=a.slice(0,-1*b*2),s=s.slice(0,-1*b),r=r.slice(0,-1*b)),a.push(this.productions_[q[1]][0]),s.push(F.$),r.push(F._$),S=o[a[a.length-2]][a[a.length-1]],a.push(S);break;case 3:return!0}}return!0},"parse")},xt=function(){return{EOF:1,parseError:t(function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},"parseError"),setInput:t(function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:t(function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},"input"),unput:t(function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===a.length?this.yylloc.first_column:0)+a[a.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},"unput"),more:t(function(){return this._more=!0,this},"more"),reject:t(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:t(function(t){this.unput(this.match.slice(t))},"less"),pastInput:t(function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:t(function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:t(function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},"showPosition"),test_match:t(function(t,e){var i,a,n;if(this.options.backtrack_lexer&&(n={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(n.yylloc.range=this.yylloc.range.slice(0))),(a=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=a.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:a?a[a.length-1].length-a[a.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],i=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack){for(var s in n)this[s]=n[s];return!1}return!1},"test_match"),next:t(function(){if(this.done)return this.EOF;var t,e,i,a;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),s=0;s<n.length;s++)if((i=this._input.match(this.rules[n[s]]))&&(!e||i[0].length>e[0].length)){if(e=i,a=s,this.options.backtrack_lexer){if(!1!==(t=this.test_match(i,n[s])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,n[a]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:t(function(){var t=this.next();return t||this.lex()},"lex"),begin:t(function(t){this.conditionStack.push(t)},"begin"),popState:t(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:t(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:t(function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},"topState"),pushState:t(function(t){this.begin(t)},"pushState"),stateStackSize:t(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:t(function(t,e,i,a){switch(i){case 0:case 1:case 3:break;case 2:return 55;case 4:return this.begin("title"),35;case 5:return this.popState(),"title_value";case 6:return this.begin("acc_title"),37;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),39;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 23:case 25:case 31:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 24:this.begin("string");break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;case 29:return this.begin("point_start"),44;case 30:return this.begin("point_x"),45;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}}}();function gt(){this.yy={}}return ut.lexer=xt,t(gt,"Parser"),gt.prototype=ut,ut.Parser=gt,new gt}();p.parser=p;var y=p,T=x(),m=class{constructor(){this.classes=new Map,this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}static{t(this,"QuadrantBuilder")}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:u.quadrantChart?.chartWidth||500,chartWidth:u.quadrantChart?.chartHeight||500,titlePadding:u.quadrantChart?.titlePadding||10,titleFontSize:u.quadrantChart?.titleFontSize||20,quadrantPadding:u.quadrantChart?.quadrantPadding||5,xAxisLabelPadding:u.quadrantChart?.xAxisLabelPadding||5,yAxisLabelPadding:u.quadrantChart?.yAxisLabelPadding||5,xAxisLabelFontSize:u.quadrantChart?.xAxisLabelFontSize||16,yAxisLabelFontSize:u.quadrantChart?.yAxisLabelFontSize||16,quadrantLabelFontSize:u.quadrantChart?.quadrantLabelFontSize||16,quadrantTextTopPadding:u.quadrantChart?.quadrantTextTopPadding||5,pointTextPadding:u.quadrantChart?.pointTextPadding||5,pointLabelFontSize:u.quadrantChart?.pointLabelFontSize||12,pointRadius:u.quadrantChart?.pointRadius||5,xAxisPosition:u.quadrantChart?.xAxisPosition||"top",yAxisPosition:u.quadrantChart?.yAxisPosition||"left",quadrantInternalBorderStrokeWidth:u.quadrantChart?.quadrantInternalBorderStrokeWidth||1,quadrantExternalBorderStrokeWidth:u.quadrantChart?.quadrantExternalBorderStrokeWidth||2}}getDefaultThemeConfig(){return{quadrant1Fill:T.quadrant1Fill,quadrant2Fill:T.quadrant2Fill,quadrant3Fill:T.quadrant3Fill,quadrant4Fill:T.quadrant4Fill,quadrant1TextFill:T.quadrant1TextFill,quadrant2TextFill:T.quadrant2TextFill,quadrant3TextFill:T.quadrant3TextFill,quadrant4TextFill:T.quadrant4TextFill,quadrantPointFill:T.quadrantPointFill,quadrantPointTextFill:T.quadrantPointTextFill,quadrantXAxisTextFill:T.quadrantXAxisTextFill,quadrantYAxisTextFill:T.quadrantYAxisTextFill,quadrantTitleFill:T.quadrantTitleFill,quadrantInternalBorderStrokeFill:T.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:T.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,l.info("clear called")}setData(t){this.data={...this.data,...t}}addPoints(t){this.data.points=[...t,...this.data.points]}addClass(t,e){this.classes.set(t,e)}setConfig(t){l.trace("setConfig called with: ",t),this.config={...this.config,...t}}setThemeConfig(t){l.trace("setThemeConfig called with: ",t),this.themeConfig={...this.themeConfig,...t}}calculateSpace(t,e,i,a){const n=2*this.config.xAxisLabelPadding+this.config.xAxisLabelFontSize,s={top:"top"===t&&e?n:0,bottom:"bottom"===t&&e?n:0},r=2*this.config.yAxisLabelPadding+this.config.yAxisLabelFontSize,o={left:"left"===this.config.yAxisPosition&&i?r:0,right:"right"===this.config.yAxisPosition&&i?r:0},l=this.config.titleFontSize+2*this.config.titlePadding,h={top:a?l:0},c=this.config.quadrantPadding+o.left,d=this.config.quadrantPadding+s.top+h.top,u=this.config.chartWidth-2*this.config.quadrantPadding-o.left-o.right,x=this.config.chartHeight-2*this.config.quadrantPadding-s.top-s.bottom-h.top;return{xAxisSpace:s,yAxisSpace:o,titleSpace:h,quadrantSpace:{quadrantLeft:c,quadrantTop:d,quadrantWidth:u,quadrantHalfWidth:u/2,quadrantHeight:x,quadrantHalfHeight:x/2}}}getAxisLabels(t,e,i,a){const{quadrantSpace:n,titleSpace:s}=a,{quadrantHalfHeight:r,quadrantHeight:o,quadrantLeft:l,quadrantHalfWidth:h,quadrantTop:c,quadrantWidth:d}=n,u=Boolean(this.data.xAxisRightText),x=Boolean(this.data.yAxisTopText),g=[];return this.data.xAxisLeftText&&e&&g.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:l+(u?h/2:0),y:"top"===t?this.config.xAxisLabelPadding+s.top:this.config.xAxisLabelPadding+c+o+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:u?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&e&&g.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:l+h+(u?h/2:0),y:"top"===t?this.config.xAxisLabelPadding+s.top:this.config.xAxisLabelPadding+c+o+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:u?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&i&&g.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:"left"===this.config.yAxisPosition?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+l+d+this.config.quadrantPadding,y:c+o-(x?r/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:x?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&i&&g.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:"left"===this.config.yAxisPosition?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+l+d+this.config.quadrantPadding,y:c+r-(x?r/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:x?"center":"left",horizontalPos:"top",rotation:-90}),g}getQuadrants(t){const{quadrantSpace:e}=t,{quadrantHalfHeight:i,quadrantLeft:a,quadrantHalfWidth:n,quadrantTop:s}=e,r=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:a+n,y:s,width:n,height:i,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:a,y:s,width:n,height:i,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:a,y:s+i,width:n,height:i,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:a+n,y:s+i,width:n,height:i,fill:this.themeConfig.quadrant4Fill}];for(const o of r)o.text.x=o.x+o.width/2,0===this.data.points.length?(o.text.y=o.y+o.height/2,o.text.horizontalPos="middle"):(o.text.y=o.y+this.config.quadrantTextTopPadding,o.text.horizontalPos="top");return r}getQuadrantPoints(t){const{quadrantSpace:e}=t,{quadrantHeight:i,quadrantLeft:a,quadrantTop:n,quadrantWidth:s}=e,r=f().domain([0,1]).range([a,s+a]),o=f().domain([0,1]).range([i+n,n]);return this.data.points.map(t=>{const e=this.classes.get(t.className);e&&(t={...e,...t});return{x:r(t.x),y:o(t.y),fill:t.color??this.themeConfig.quadrantPointFill,radius:t.radius??this.config.pointRadius,text:{text:t.text,fill:this.themeConfig.quadrantPointTextFill,x:r(t.x),y:o(t.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:t.strokeColor??this.themeConfig.quadrantPointFill,strokeWidth:t.strokeWidth??"0px"}})}getBorders(t){const e=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:i}=t,{quadrantHalfHeight:a,quadrantHeight:n,quadrantLeft:s,quadrantHalfWidth:r,quadrantTop:o,quadrantWidth:l}=i;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s-e,y1:o,x2:s+l+e,y2:o},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s+l,y1:o+e,x2:s+l,y2:o+n-e},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s-e,y1:o+n,x2:s+l+e,y2:o+n},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s,y1:o+e,x2:s,y2:o+n-e},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:s+r,y1:o+e,x2:s+r,y2:o+n-e},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:s+e,y1:o+a,x2:s+l-e,y2:o+a}]}getTitle(t){if(t)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){const t=this.config.showXAxis&&!(!this.data.xAxisLeftText&&!this.data.xAxisRightText),e=this.config.showYAxis&&!(!this.data.yAxisTopText&&!this.data.yAxisBottomText),i=this.config.showTitle&&!!this.data.titleText,a=this.data.points.length>0?"bottom":this.config.xAxisPosition,n=this.calculateSpace(a,t,e,i);return{points:this.getQuadrantPoints(n),quadrants:this.getQuadrants(n),axisLabels:this.getAxisLabels(a,t,e,n),borderLines:this.getBorders(n),title:this.getTitle(i)}}},q=class extends Error{static{t(this,"InvalidStyleError")}constructor(t,e,i){super(`value for ${t} ${e} is invalid, please use a valid ${i}`),this.name="InvalidStyleError"}};function A(t){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(t)}function _(t){return!/^\d+$/.test(t)}function b(t){return!/^\d+px$/.test(t)}t(A,"validateHexCode"),t(_,"validateNumber"),t(b,"validateSizeInPixels");var S=o();function k(t){return g(t.trim(),S)}t(k,"textSanitizer");var F=new m;function P(t){F.setData({quadrant1Text:k(t.text)})}function C(t){F.setData({quadrant2Text:k(t.text)})}function L(t){F.setData({quadrant3Text:k(t.text)})}function v(t){F.setData({quadrant4Text:k(t.text)})}function E(t){F.setData({xAxisLeftText:k(t.text)})}function D(t){F.setData({xAxisRightText:k(t.text)})}function z(t){F.setData({yAxisTopText:k(t.text)})}function I(t){F.setData({yAxisBottomText:k(t.text)})}function w(t){const e={};for(const i of t){const[t,a]=i.trim().split(/\s*:\s*/);if("radius"===t){if(_(a))throw new q(t,a,"number");e.radius=parseInt(a)}else if("color"===t){if(A(a))throw new q(t,a,"hex code");e.color=a}else if("stroke-color"===t){if(A(a))throw new q(t,a,"hex code");e.strokeColor=a}else{if("stroke-width"!==t)throw new Error(`style named ${t} is not supported.`);if(b(a))throw new q(t,a,"number of pixels (eg. 10px)");e.strokeWidth=a}}return e}function N(t,e,i,a,n){const s=w(n);F.addPoints([{x:i,y:a,text:k(t.text),className:e,...s}])}function B(t,e){F.addClass(t,w(e))}function W(t){F.setConfig({chartWidth:t})}function R(t){F.setConfig({chartHeight:t})}function $(){const t=o(),{themeVariables:e,quadrantChart:i}=t;return i&&F.setConfig(i),F.setThemeConfig({quadrant1Fill:e.quadrant1Fill,quadrant2Fill:e.quadrant2Fill,quadrant3Fill:e.quadrant3Fill,quadrant4Fill:e.quadrant4Fill,quadrant1TextFill:e.quadrant1TextFill,quadrant2TextFill:e.quadrant2TextFill,quadrant3TextFill:e.quadrant3TextFill,quadrant4TextFill:e.quadrant4TextFill,quadrantPointFill:e.quadrantPointFill,quadrantPointTextFill:e.quadrantPointTextFill,quadrantXAxisTextFill:e.quadrantXAxisTextFill,quadrantYAxisTextFill:e.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:e.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:e.quadrantInternalBorderStrokeFill,quadrantTitleFill:e.quadrantTitleFill}),F.setData({titleText:a()}),F.build()}t(P,"setQuadrant1Text"),t(C,"setQuadrant2Text"),t(L,"setQuadrant3Text"),t(v,"setQuadrant4Text"),t(E,"setXAxisLeftText"),t(D,"setXAxisRightText"),t(z,"setYAxisTopText"),t(I,"setYAxisBottomText"),t(w,"parseStyles"),t(N,"addPoint"),t(B,"addClass"),t(W,"setWidth"),t(R,"setHeight"),t($,"getQuadrantData");var U={parser:y,db:{setWidth:W,setHeight:R,setQuadrant1Text:P,setQuadrant2Text:C,setQuadrant3Text:L,setQuadrant4Text:v,setXAxisLeftText:E,setXAxisRightText:D,setYAxisTopText:z,setYAxisBottomText:I,parseStyles:w,addPoint:N,addClass:B,getQuadrantData:$,clear:t(function(){F.clear(),d()},"clear"),setAccTitle:r,getAccTitle:s,setDiagramTitle:n,getDiagramTitle:a,getAccDescription:i,setAccDescription:e},renderer:{draw:t((e,i,a,n)=>{function s(t){return"top"===t?"hanging":"middle"}function r(t){return"left"===t?"start":"middle"}function d(t){return`translate(${t.x}, ${t.y}) rotate(${t.rotation||0})`}t(s,"getDominantBaseLine"),t(r,"getTextAnchor"),t(d,"getTransformation");const u=o();l.debug("Rendering quadrant chart\n"+e);const x=u.securityLevel;let g;"sandbox"===x&&(g=h("#i"+i));const f=h("sandbox"===x?g.nodes()[0].contentDocument.body:"body").select(`[id="${i}"]`),p=f.append("g").attr("class","main"),y=u.quadrantChart?.chartWidth??500,T=u.quadrantChart?.chartHeight??500;c(f,T,y,u.quadrantChart?.useMaxWidth??!0),f.attr("viewBox","0 0 "+y+" "+T),n.db.setHeight(T),n.db.setWidth(y);const m=n.db.getQuadrantData(),q=p.append("g").attr("class","quadrants"),A=p.append("g").attr("class","border"),_=p.append("g").attr("class","data-points"),b=p.append("g").attr("class","labels"),S=p.append("g").attr("class","title");m.title&&S.append("text").attr("x",0).attr("y",0).attr("fill",m.title.fill).attr("font-size",m.title.fontSize).attr("dominant-baseline",s(m.title.horizontalPos)).attr("text-anchor",r(m.title.verticalPos)).attr("transform",d(m.title)).text(m.title.text),m.borderLines&&A.selectAll("line").data(m.borderLines).enter().append("line").attr("x1",t=>t.x1).attr("y1",t=>t.y1).attr("x2",t=>t.x2).attr("y2",t=>t.y2).style("stroke",t=>t.strokeFill).style("stroke-width",t=>t.strokeWidth);const k=q.selectAll("g.quadrant").data(m.quadrants).enter().append("g").attr("class","quadrant");k.append("rect").attr("x",t=>t.x).attr("y",t=>t.y).attr("width",t=>t.width).attr("height",t=>t.height).attr("fill",t=>t.fill),k.append("text").attr("x",0).attr("y",0).attr("fill",t=>t.text.fill).attr("font-size",t=>t.text.fontSize).attr("dominant-baseline",t=>s(t.text.horizontalPos)).attr("text-anchor",t=>r(t.text.verticalPos)).attr("transform",t=>d(t.text)).text(t=>t.text.text);b.selectAll("g.label").data(m.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text(t=>t.text).attr("fill",t=>t.fill).attr("font-size",t=>t.fontSize).attr("dominant-baseline",t=>s(t.horizontalPos)).attr("text-anchor",t=>r(t.verticalPos)).attr("transform",t=>d(t));const F=_.selectAll("g.data-point").data(m.points).enter().append("g").attr("class","data-point");F.append("circle").attr("cx",t=>t.x).attr("cy",t=>t.y).attr("r",t=>t.radius).attr("fill",t=>t.fill).attr("stroke",t=>t.strokeColor).attr("stroke-width",t=>t.strokeWidth),F.append("text").attr("x",0).attr("y",0).text(t=>t.text.text).attr("fill",t=>t.text.fill).attr("font-size",t=>t.text.fontSize).attr("dominant-baseline",t=>s(t.text.horizontalPos)).attr("text-anchor",t=>r(t.text.verticalPos)).attr("transform",t=>d(t.text))},"draw")},styles:t(()=>"","styles")};export{U as diagram};

import{aL as n,aM as t,aN as r,aO as e,aP as a}from"./index.js";import{i as u}from"./init.js";import{e as o,f as i,a as f,b as c}from"./defaultLocale.js";function l(n,t){return null==n||null==t?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function s(n,t){return null==n||null==t?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function h(n){let t,r,e;function a(n,e,a=0,u=n.length){if(a<u){if(0!==t(e,e))return u;do{const t=a+u>>>1;r(n[t],e)<0?a=t+1:u=t}while(a<u)}return a}return 2!==n.length?(t=l,r=(t,r)=>l(n(t),r),e=(t,r)=>n(t)-r):(t=n===l||n===s?n:M,r=n,e=n),{left:a,center:function(n,t,r=0,u=n.length){const o=a(n,t,r,u-1);return o>r&&e(n[o-1],t)>-e(n[o],t)?o-1:o},right:function(n,e,a=0,u=n.length){if(a<u){if(0!==t(e,e))return u;do{const t=a+u>>>1;r(n[t],e)<=0?a=t+1:u=t}while(a<u)}return a}}}function M(){return 0}const m=h(l).right;h(function(n){return null===n?NaN:+n}).center;const p=Math.sqrt(50),g=Math.sqrt(10),N=Math.sqrt(2);function v(n,t,r){const e=(t-n)/Math.max(0,r),a=Math.floor(Math.log10(e)),u=e/Math.pow(10,a),o=u>=p?10:u>=g?5:u>=N?2:1;let i,f,c;return a<0?(c=Math.pow(10,-a)/o,i=Math.round(n*c),f=Math.round(t*c),i/c<n&&++i,f/c>t&&--f,c=-c):(c=Math.pow(10,a)*o,i=Math.round(n/c),f=Math.round(t/c),i*c<n&&++i,f*c>t&&--f),f<i&&.5<=r&&r<2?v(n,t,2*r):[i,f,c]}function y(n,t,r){return v(n=+n,t=+t,r=+r)[2]}function w(n,t,r){r=+r;const e=(t=+t)<(n=+n),a=e?y(t,n,r):y(n,t,r);return(e?-1:1)*(a<0?1/-a:a)}function b(n,t){t||(t=[]);var r,e=n?Math.min(t.length,n.length):0,a=t.slice();return function(u){for(r=0;r<e;++r)a[r]=n[r]*(1-u)+t[r]*u;return a}}function d(n,t){var r,e=t?t.length:0,a=n?Math.min(e,n.length):0,u=new Array(a),o=new Array(e);for(r=0;r<a;++r)u[r]=k(n[r],t[r]);for(;r<e;++r)o[r]=t[r];return function(n){for(r=0;r<a;++r)o[r]=u[r](n);return o}}function A(n,t){var r=new Date;return n=+n,t=+t,function(e){return r.setTime(n*(1-e)+t*e),r}}function x(n,t){var r,e={},a={};for(r in null!==n&&"object"==typeof n||(n={}),null!==t&&"object"==typeof t||(t={}),t)r in n?e[r]=k(n[r],t[r]):a[r]=t[r];return function(n){for(r in e)a[r]=e[r](n);return a}}function k(u,o){var i,f,c=typeof o;return null==o||"boolean"===c?n(o):("number"===c?t:"string"===c?(i=a(o))?(o=i,r):e:o instanceof a?r:o instanceof Date?A:(f=o,!ArrayBuffer.isView(f)||f instanceof DataView?Array.isArray(o)?d:"function"!=typeof o.valueOf&&"function"!=typeof o.toString||isNaN(o)?x:t:b))(u,o)}function j(n,t){return n=+n,t=+t,function(r){return Math.round(n*(1-r)+t*r)}}function q(n){return+n}var D=[0,1];function L(n){return n}function O(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function V(n,t,r){var e=n[0],a=n[1],u=t[0],o=t[1];return a<e?(e=O(a,e),u=r(o,u)):(e=O(e,a),u=r(u,o)),function(n){return u(e(n))}}function B(n,t,r){var e=Math.min(n.length,t.length)-1,a=new Array(e),u=new Array(e),o=-1;for(n[e]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<e;)a[o]=O(n[o],n[o+1]),u[o]=r(t[o],t[o+1]);return function(t){var r=m(n,t,1,e)-1;return u[r](a[r](t))}}function F(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function P(){var n,r,e,a,u,o,i=D,f=D,c=k,l=L;function s(){var n,t,r,e=Math.min(i.length,f.length);return l!==L&&(n=i[0],t=i[e-1],n>t&&(r=n,n=t,t=r),l=function(r){return Math.max(n,Math.min(t,r))}),a=e>2?B:V,u=o=null,h}function h(t){return null==t||isNaN(t=+t)?e:(u||(u=a(i.map(n),f,c)))(n(l(t)))}return h.invert=function(e){return l(r((o||(o=a(f,i.map(n),t)))(e)))},h.domain=function(n){return arguments.length?(i=Array.from(n,q),s()):i.slice()},h.range=function(n){return arguments.length?(f=Array.from(n),s()):f.slice()},h.rangeRound=function(n){return f=Array.from(n),c=j,s()},h.clamp=function(n){return arguments.length?(l=!!n||L,s()):l!==L},h.interpolate=function(n){return arguments.length?(c=n,s()):c},h.unknown=function(n){return arguments.length?(e=n,h):e},function(t,e){return n=t,r=e,s()}}function R(){return P()(L,L)}function S(n,t,r,e){var a,u=w(n,t,r);switch((e=i(null==e?",f":e)).type){case"s":var l=Math.max(Math.abs(n),Math.abs(t));return null!=e.precision||isNaN(a=function(n,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(o(t)/3)))-o(Math.abs(n)))}(u,l))||(e.precision=a),f(e,l);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(a=function(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,o(t)-o(n))+1}(u,Math.max(Math.abs(n),Math.abs(t))))||(e.precision=a-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(a=function(n){return Math.max(0,-o(Math.abs(n)))}(u))||(e.precision=a-2*("%"===e.type))}return c(e)}function T(n){var t=n.domain;return n.ticks=function(n){var r=t();return function(n,t,r){if(!((r=+r)>0))return[];if((n=+n)===(t=+t))return[n];const e=t<n,[a,u,o]=e?v(t,n,r):v(n,t,r);if(!(u>=a))return[];const i=u-a+1,f=new Array(i);if(e)if(o<0)for(let c=0;c<i;++c)f[c]=(u-c)/-o;else for(let c=0;c<i;++c)f[c]=(u-c)*o;else if(o<0)for(let c=0;c<i;++c)f[c]=(a+c)/-o;else for(let c=0;c<i;++c)f[c]=(a+c)*o;return f}(r[0],r[r.length-1],null==n?10:n)},n.tickFormat=function(n,r){var e=t();return S(e[0],e[e.length-1],null==n?10:n,r)},n.nice=function(r){null==r&&(r=10);var e,a,u=t(),o=0,i=u.length-1,f=u[o],c=u[i],l=10;for(c<f&&(a=f,f=c,c=a,a=o,o=i,i=a);l-- >0;){if((a=y(f,c,r))===e)return u[o]=f,u[i]=c,t(u);if(a>0)f=Math.floor(f/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;f=Math.ceil(f*a)/a,c=Math.floor(c*a)/a}e=a}return n},n}function z(){var n=R();return n.copy=function(){return F(n,z())},u.apply(n,arguments),T(n)}export{F as a,h as b,R as c,z as l,w as t};

function e(e,a){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(a).domain(e)}return this}export{e as i};

function t(t,i){if((n=(t=i?t.toExponential(i-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function i(i){return(i=t(Math.abs(i)))?i[1]:NaN}var n,r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function e(t){if(!(i=r.exec(t)))throw new Error("invalid format: "+t);var i;return new o({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}function o(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function a(i,n){var r=t(i,n);if(!r)return i+"";var e=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+e:e.length>o+1?e.slice(0,o+1)+"."+e.slice(o+1):e+new Array(o-e.length+2).join("0")}e.prototype=o.prototype,o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const s={"%":(t,i)=>(100*t).toFixed(i),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,i)=>t.toExponential(i),f:(t,i)=>t.toFixed(i),g:(t,i)=>t.toPrecision(i),o:t=>Math.round(t).toString(8),p:(t,i)=>a(100*t,i),r:a,s:function(i,r){var e=t(i,r);if(!e)return i+"";var o=e[0],a=e[1],s=a-(n=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,c=o.length;return s===c?o:s>c?o+new Array(s-c+1).join("0"):s>0?o.slice(0,s)+"."+o.slice(s):"0."+new Array(1-s).join("0")+t(i,Math.max(0,r+s-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function c(t){return t}var l,h,u,f=Array.prototype.map,d=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function g(t){var r,o,a=void 0===t.grouping||void 0===t.thousands?c:(r=f.call(t.grouping,Number),o=t.thousands+"",function(t,i){for(var n=t.length,e=[],a=0,s=r[0],c=0;n>0&&s>0&&(c+s+1>i&&(s=Math.max(1,i-c)),e.push(t.substring(n-=s,n+s)),!((c+=s+1)>i));)s=r[a=(a+1)%r.length];return e.reverse().join(o)}),l=void 0===t.currency?"":t.currency[0]+"",h=void 0===t.currency?"":t.currency[1]+"",u=void 0===t.decimal?".":t.decimal+"",g=void 0===t.numerals?c:function(t){return function(i){return i.replace(/[0-9]/g,function(i){return t[+i]})}}(f.call(t.numerals,String)),m=void 0===t.percent?"%":t.percent+"",p=void 0===t.minus?"−":t.minus+"",v=void 0===t.nan?"NaN":t.nan+"";function y(t){var i=(t=e(t)).fill,r=t.align,o=t.sign,c=t.symbol,f=t.zero,y=t.width,M=t.comma,b=t.precision,x=t.trim,w=t.type;"n"===w?(M=!0,w="g"):s[w]||(void 0===b&&(b=12),x=!0,w="g"),(f||"0"===i&&"="===r)&&(f=!0,i="0",r="=");var S="$"===c?l:"#"===c&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",k="$"===c?h:/[%p]/.test(w)?m:"",z=s[w],A=/[defgprs%]/.test(w);function N(t){var e,s,c,l=S,h=k;if("c"===w)h=z(t)+h,t="";else{var m=(t=+t)<0||1/t<0;if(t=isNaN(t)?v:z(Math.abs(t),b),x&&(t=function(t){t:for(var i,n=t.length,r=1,e=-1;r<n;++r)switch(t[r]){case".":e=i=r;break;case"0":0===e&&(e=r),i=r;break;default:if(!+t[r])break t;e>0&&(e=0)}return e>0?t.slice(0,e)+t.slice(i+1):t}(t)),m&&0===+t&&"+"!==o&&(m=!1),l=(m?"("===o?o:p:"-"===o||"("===o?"":o)+l,h=("s"===w?d[8+n/3]:"")+h+(m&&"("===o?")":""),A)for(e=-1,s=t.length;++e<s;)if(48>(c=t.charCodeAt(e))||c>57){h=(46===c?u+t.slice(e+1):t.slice(e))+h,t=t.slice(0,e);break}}M&&!f&&(t=a(t,1/0));var N=l.length+t.length+h.length,j=N<y?new Array(y-N+1).join(i):"";switch(M&&f&&(t=a(j+t,j.length?y-h.length:1/0),j=""),r){case"<":t=l+t+h+j;break;case"=":t=l+j+t+h;break;case"^":t=j.slice(0,N=j.length>>1)+l+t+h+j.slice(N);break;default:t=j+l+t+h}return g(t)}return b=void 0===b?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),N.toString=function(){return t+""},N}return{format:y,formatPrefix:function(t,n){var r=y(((t=e(t)).type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(i(n)/3))),a=Math.pow(10,-o),s=d[8+o/3];return function(t){return r(a*t)+s}}}}l=g({thousands:",",grouping:[3],currency:["$",""]}),h=l.format,u=l.formatPrefix;export{u as a,h as b,i as e,e as f};

import{g as e}from"./chunk-WVR4S24B.js";import{s as t}from"./chunk-NRVI72HA.js";import{_ as s,b as i,a as n,s as r,g as a,p as l,q as c,c as o,l as h,y as u,B as y,o as m,r as E,u as p}from"./index.js";var R=function(){var e=s(function(e,t,s,i){for(s=s||{},i=e.length;i--;s[e[i]]=t);return s},"o"),t=[1,3],i=[1,4],n=[1,5],r=[1,6],a=[5,6,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],l=[1,22],c=[2,7],o=[1,26],h=[1,27],u=[1,28],y=[1,29],m=[1,33],E=[1,34],p=[1,35],R=[1,36],d=[1,37],f=[1,38],_=[1,24],g=[1,31],S=[1,32],I=[1,30],b=[1,39],T=[1,40],k=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],N=[1,61],q=[89,90],A=[5,8,9,11,13,21,22,23,24,27,29,41,42,43,44,45,46,54,61,63,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],C=[27,29],v=[1,70],L=[1,71],O=[1,72],x=[1,73],w=[1,74],D=[1,75],M=[1,76],$=[1,83],F=[1,80],P=[1,84],V=[1,85],U=[1,86],Y=[1,87],B=[1,88],Q=[1,89],H=[1,90],K=[1,91],j=[1,92],W=[5,8,9,11,13,21,22,23,24,27,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],G=[63,64],z=[1,101],X=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,76,77,89,90],J=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],Z=[1,110],ee=[1,106],te=[1,107],se=[1,108],ie=[1,109],ne=[1,111],re=[1,116],ae=[1,117],le=[1,114],ce=[1,115],oe={trace:s(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,direction:17,styleStatement:18,classDefStatement:19,classStatement:20,direction_tb:21,direction_bt:22,direction_rl:23,direction_lr:24,requirementType:25,requirementName:26,STRUCT_START:27,requirementBody:28,STYLE_SEPARATOR:29,idList:30,ID:31,COLONSEP:32,id:33,TEXT:34,text:35,RISK:36,riskLevel:37,VERIFYMTHD:38,verifyType:39,STRUCT_STOP:40,REQUIREMENT:41,FUNCTIONAL_REQUIREMENT:42,INTERFACE_REQUIREMENT:43,PERFORMANCE_REQUIREMENT:44,PHYSICAL_REQUIREMENT:45,DESIGN_CONSTRAINT:46,LOW_RISK:47,MED_RISK:48,HIGH_RISK:49,VERIFY_ANALYSIS:50,VERIFY_DEMONSTRATION:51,VERIFY_INSPECTION:52,VERIFY_TEST:53,ELEMENT:54,elementName:55,elementBody:56,TYPE:57,type:58,DOCREF:59,ref:60,END_ARROW_L:61,relationship:62,LINE:63,END_ARROW_R:64,CONTAINS:65,COPIES:66,DERIVES:67,SATISFIES:68,VERIFIES:69,REFINES:70,TRACES:71,CLASSDEF:72,stylesOpt:73,CLASS:74,ALPHA:75,COMMA:76,STYLE:77,style:78,styleComponent:79,NUM:80,COLON:81,UNIT:82,SPACE:83,BRKT:84,PCT:85,MINUS:86,LABEL:87,SEMICOLON:88,unqString:89,qString:90,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",21:"direction_tb",22:"direction_bt",23:"direction_rl",24:"direction_lr",27:"STRUCT_START",29:"STYLE_SEPARATOR",31:"ID",32:"COLONSEP",34:"TEXT",36:"RISK",38:"VERIFYMTHD",40:"STRUCT_STOP",41:"REQUIREMENT",42:"FUNCTIONAL_REQUIREMENT",43:"INTERFACE_REQUIREMENT",44:"PERFORMANCE_REQUIREMENT",45:"PHYSICAL_REQUIREMENT",46:"DESIGN_CONSTRAINT",47:"LOW_RISK",48:"MED_RISK",49:"HIGH_RISK",50:"VERIFY_ANALYSIS",51:"VERIFY_DEMONSTRATION",52:"VERIFY_INSPECTION",53:"VERIFY_TEST",54:"ELEMENT",57:"TYPE",59:"DOCREF",61:"END_ARROW_L",63:"LINE",64:"END_ARROW_R",65:"CONTAINS",66:"COPIES",67:"DERIVES",68:"SATISFIES",69:"VERIFIES",70:"REFINES",71:"TRACES",72:"CLASSDEF",74:"CLASS",75:"ALPHA",76:"COMMA",77:"STYLE",80:"NUM",81:"COLON",82:"UNIT",83:"SPACE",84:"BRKT",85:"PCT",86:"MINUS",87:"LABEL",88:"SEMICOLON",89:"unqString",90:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[17,1],[17,1],[17,1],[17,1],[14,5],[14,7],[28,5],[28,5],[28,5],[28,5],[28,2],[28,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[37,1],[37,1],[37,1],[39,1],[39,1],[39,1],[39,1],[15,5],[15,7],[56,5],[56,5],[56,2],[56,1],[16,5],[16,5],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[19,3],[20,3],[20,3],[30,1],[30,3],[30,1],[30,3],[18,3],[73,1],[73,3],[78,1],[78,2],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[26,1],[26,1],[33,1],[33,1],[35,1],[35,1],[55,1],[55,1],[58,1],[58,1],[60,1],[60,1]],performAction:s(function(e,t,s,i,n,r,a){var l=r.length-1;switch(n){case 4:this.$=r[l].trim(),i.setAccTitle(this.$);break;case 5:case 6:this.$=r[l].trim(),i.setAccDescription(this.$);break;case 7:this.$=[];break;case 17:i.setDirection("TB");break;case 18:i.setDirection("BT");break;case 19:i.setDirection("RL");break;case 20:i.setDirection("LR");break;case 21:i.addRequirement(r[l-3],r[l-4]);break;case 22:i.addRequirement(r[l-5],r[l-6]),i.setClass([r[l-5]],r[l-3]);break;case 23:i.setNewReqId(r[l-2]);break;case 24:i.setNewReqText(r[l-2]);break;case 25:i.setNewReqRisk(r[l-2]);break;case 26:i.setNewReqVerifyMethod(r[l-2]);break;case 29:this.$=i.RequirementType.REQUIREMENT;break;case 30:this.$=i.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 31:this.$=i.RequirementType.INTERFACE_REQUIREMENT;break;case 32:this.$=i.RequirementType.PERFORMANCE_REQUIREMENT;break;case 33:this.$=i.RequirementType.PHYSICAL_REQUIREMENT;break;case 34:this.$=i.RequirementType.DESIGN_CONSTRAINT;break;case 35:this.$=i.RiskLevel.LOW_RISK;break;case 36:this.$=i.RiskLevel.MED_RISK;break;case 37:this.$=i.RiskLevel.HIGH_RISK;break;case 38:this.$=i.VerifyType.VERIFY_ANALYSIS;break;case 39:this.$=i.VerifyType.VERIFY_DEMONSTRATION;break;case 40:this.$=i.VerifyType.VERIFY_INSPECTION;break;case 41:this.$=i.VerifyType.VERIFY_TEST;break;case 42:i.addElement(r[l-3]);break;case 43:i.addElement(r[l-5]),i.setClass([r[l-5]],r[l-3]);break;case 44:i.setNewElementType(r[l-2]);break;case 45:i.setNewElementDocRef(r[l-2]);break;case 48:i.addRelationship(r[l-2],r[l],r[l-4]);break;case 49:i.addRelationship(r[l-2],r[l-4],r[l]);break;case 50:this.$=i.Relationships.CONTAINS;break;case 51:this.$=i.Relationships.COPIES;break;case 52:this.$=i.Relationships.DERIVES;break;case 53:this.$=i.Relationships.SATISFIES;break;case 54:this.$=i.Relationships.VERIFIES;break;case 55:this.$=i.Relationships.REFINES;break;case 56:this.$=i.Relationships.TRACES;break;case 57:this.$=r[l-2],i.defineClass(r[l-1],r[l]);break;case 58:i.setClass(r[l-1],r[l]);break;case 59:i.setClass([r[l-2]],r[l]);break;case 60:case 62:case 65:this.$=[r[l]];break;case 61:case 63:this.$=r[l-2].concat([r[l]]);break;case 64:this.$=r[l-2],i.setCssStyle(r[l-1],r[l]);break;case 66:r[l-2].push(r[l]),this.$=r[l-2];break;case 68:this.$=r[l-1]+r[l]}},"anonymous"),table:[{3:1,4:2,6:t,9:i,11:n,13:r},{1:[3]},{3:8,4:2,5:[1,7],6:t,9:i,11:n,13:r},{5:[1,9]},{10:[1,10]},{12:[1,11]},e(a,[2,6]),{3:12,4:2,6:t,9:i,11:n,13:r},{1:[2,2]},{4:17,5:l,7:13,8:c,9:i,11:n,13:r,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:o,22:h,23:u,24:y,25:23,33:25,41:m,42:E,43:p,44:R,45:d,46:f,54:_,72:g,74:S,77:I,89:b,90:T},e(a,[2,4]),e(a,[2,5]),{1:[2,1]},{8:[1,41]},{4:17,5:l,7:42,8:c,9:i,11:n,13:r,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:o,22:h,23:u,24:y,25:23,33:25,41:m,42:E,43:p,44:R,45:d,46:f,54:_,72:g,74:S,77:I,89:b,90:T},{4:17,5:l,7:43,8:c,9:i,11:n,13:r,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:o,22:h,23:u,24:y,25:23,33:25,41:m,42:E,43:p,44:R,45:d,46:f,54:_,72:g,74:S,77:I,89:b,90:T},{4:17,5:l,7:44,8:c,9:i,11:n,13:r,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:o,22:h,23:u,24:y,25:23,33:25,41:m,42:E,43:p,44:R,45:d,46:f,54:_,72:g,74:S,77:I,89:b,90:T},{4:17,5:l,7:45,8:c,9:i,11:n,13:r,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:o,22:h,23:u,24:y,25:23,33:25,41:m,42:E,43:p,44:R,45:d,46:f,54:_,72:g,74:S,77:I,89:b,90:T},{4:17,5:l,7:46,8:c,9:i,11:n,13:r,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:o,22:h,23:u,24:y,25:23,33:25,41:m,42:E,43:p,44:R,45:d,46:f,54:_,72:g,74:S,77:I,89:b,90:T},{4:17,5:l,7:47,8:c,9:i,11:n,13:r,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:o,22:h,23:u,24:y,25:23,33:25,41:m,42:E,43:p,44:R,45:d,46:f,54:_,72:g,74:S,77:I,89:b,90:T},{4:17,5:l,7:48,8:c,9:i,11:n,13:r,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:o,22:h,23:u,24:y,25:23,33:25,41:m,42:E,43:p,44:R,45:d,46:f,54:_,72:g,74:S,77:I,89:b,90:T},{4:17,5:l,7:49,8:c,9:i,11:n,13:r,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:o,22:h,23:u,24:y,25:23,33:25,41:m,42:E,43:p,44:R,45:d,46:f,54:_,72:g,74:S,77:I,89:b,90:T},{4:17,5:l,7:50,8:c,9:i,11:n,13:r,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:o,22:h,23:u,24:y,25:23,33:25,41:m,42:E,43:p,44:R,45:d,46:f,54:_,72:g,74:S,77:I,89:b,90:T},{26:51,89:[1,52],90:[1,53]},{55:54,89:[1,55],90:[1,56]},{29:[1,59],61:[1,57],63:[1,58]},e(k,[2,17]),e(k,[2,18]),e(k,[2,19]),e(k,[2,20]),{30:60,33:62,75:N,89:b,90:T},{30:63,33:62,75:N,89:b,90:T},{30:64,33:62,75:N,89:b,90:T},e(q,[2,29]),e(q,[2,30]),e(q,[2,31]),e(q,[2,32]),e(q,[2,33]),e(q,[2,34]),e(A,[2,81]),e(A,[2,82]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{8:[2,13]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{27:[1,65],29:[1,66]},e(C,[2,79]),e(C,[2,80]),{27:[1,67],29:[1,68]},e(C,[2,85]),e(C,[2,86]),{62:69,65:v,66:L,67:O,68:x,69:w,70:D,71:M},{62:77,65:v,66:L,67:O,68:x,69:w,70:D,71:M},{30:78,33:62,75:N,89:b,90:T},{73:79,75:$,76:F,78:81,79:82,80:P,81:V,82:U,83:Y,84:B,85:Q,86:H,87:K,88:j},e(W,[2,60]),e(W,[2,62]),{73:93,75:$,76:F,78:81,79:82,80:P,81:V,82:U,83:Y,84:B,85:Q,86:H,87:K,88:j},{30:94,33:62,75:N,76:F,89:b,90:T},{5:[1,95]},{30:96,33:62,75:N,89:b,90:T},{5:[1,97]},{30:98,33:62,75:N,89:b,90:T},{63:[1,99]},e(G,[2,50]),e(G,[2,51]),e(G,[2,52]),e(G,[2,53]),e(G,[2,54]),e(G,[2,55]),e(G,[2,56]),{64:[1,100]},e(k,[2,59],{76:F}),e(k,[2,64],{76:z}),{33:103,75:[1,102],89:b,90:T},e(X,[2,65],{79:104,75:$,80:P,81:V,82:U,83:Y,84:B,85:Q,86:H,87:K,88:j}),e(J,[2,67]),e(J,[2,69]),e(J,[2,70]),e(J,[2,71]),e(J,[2,72]),e(J,[2,73]),e(J,[2,74]),e(J,[2,75]),e(J,[2,76]),e(J,[2,77]),e(J,[2,78]),e(k,[2,57],{76:z}),e(k,[2,58],{76:F}),{5:Z,28:105,31:ee,34:te,36:se,38:ie,40:ne},{27:[1,112],76:F},{5:re,40:ae,56:113,57:le,59:ce},{27:[1,118],76:F},{33:119,89:b,90:T},{33:120,89:b,90:T},{75:$,78:121,79:82,80:P,81:V,82:U,83:Y,84:B,85:Q,86:H,87:K,88:j},e(W,[2,61]),e(W,[2,63]),e(J,[2,68]),e(k,[2,21]),{32:[1,122]},{32:[1,123]},{32:[1,124]},{32:[1,125]},{5:Z,28:126,31:ee,34:te,36:se,38:ie,40:ne},e(k,[2,28]),{5:[1,127]},e(k,[2,42]),{32:[1,128]},{32:[1,129]},{5:re,40:ae,56:130,57:le,59:ce},e(k,[2,47]),{5:[1,131]},e(k,[2,48]),e(k,[2,49]),e(X,[2,66],{79:104,75:$,80:P,81:V,82:U,83:Y,84:B,85:Q,86:H,87:K,88:j}),{33:132,89:b,90:T},{35:133,89:[1,134],90:[1,135]},{37:136,47:[1,137],48:[1,138],49:[1,139]},{39:140,50:[1,141],51:[1,142],52:[1,143],53:[1,144]},e(k,[2,27]),{5:Z,28:145,31:ee,34:te,36:se,38:ie,40:ne},{58:146,89:[1,147],90:[1,148]},{60:149,89:[1,150],90:[1,151]},e(k,[2,46]),{5:re,40:ae,56:152,57:le,59:ce},{5:[1,153]},{5:[1,154]},{5:[2,83]},{5:[2,84]},{5:[1,155]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[1,156]},{5:[2,38]},{5:[2,39]},{5:[2,40]},{5:[2,41]},e(k,[2,22]),{5:[1,157]},{5:[2,87]},{5:[2,88]},{5:[1,158]},{5:[2,89]},{5:[2,90]},e(k,[2,43]),{5:Z,28:159,31:ee,34:te,36:se,38:ie,40:ne},{5:Z,28:160,31:ee,34:te,36:se,38:ie,40:ne},{5:Z,28:161,31:ee,34:te,36:se,38:ie,40:ne},{5:Z,28:162,31:ee,34:te,36:se,38:ie,40:ne},{5:re,40:ae,56:163,57:le,59:ce},{5:re,40:ae,56:164,57:le,59:ce},e(k,[2,23]),e(k,[2,24]),e(k,[2,25]),e(k,[2,26]),e(k,[2,44]),e(k,[2,45])],defaultActions:{8:[2,2],12:[2,1],41:[2,3],42:[2,8],43:[2,9],44:[2,10],45:[2,11],46:[2,12],47:[2,13],48:[2,14],49:[2,15],50:[2,16],134:[2,83],135:[2,84],137:[2,35],138:[2,36],139:[2,37],141:[2,38],142:[2,39],143:[2,40],144:[2,41],147:[2,87],148:[2,88],150:[2,89],151:[2,90]},parseError:s(function(e,t){if(!t.recoverable){var s=new Error(e);throw s.hash=t,s}this.trace(e)},"parseError"),parse:s(function(e){var t=this,i=[0],n=[],r=[null],a=[],l=this.table,c="",o=0,h=0,u=a.slice.call(arguments,1),y=Object.create(this.lexer),m={yy:{}};for(var E in this.yy)Object.prototype.hasOwnProperty.call(this.yy,E)&&(m.yy[E]=this.yy[E]);y.setInput(e,m.yy),m.yy.lexer=y,m.yy.parser=this,void 0===y.yylloc&&(y.yylloc={});var p=y.yylloc;a.push(p);var R=y.options&&y.options.ranges;function d(){var e;return"number"!=typeof(e=n.pop()||y.lex()||1)&&(e instanceof Array&&(e=(n=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof m.yy.parseError?this.parseError=m.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,s(function(e){i.length=i.length-2*e,r.length=r.length-e,a.length=a.length-e},"popStack"),s(d,"lex");for(var f,_,g,S,I,b,T,k,N={};;){if(_=i[i.length-1],this.defaultActions[_]?g=this.defaultActions[_]:(null==f&&(f=d()),g=l[_]&&l[_][f]),void 0===g||!g.length||!g[0]){var q="";for(I in k=[],l[_])this.terminals_[I]&&I>2&&k.push("'"+this.terminals_[I]+"'");q=y.showPosition?"Parse error on line "+(o+1)+":\n"+y.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(o+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(q,{text:y.match,token:this.terminals_[f]||f,line:y.yylineno,loc:p,expected:k})}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+f);switch(g[0]){case 1:i.push(f),r.push(y.yytext),a.push(y.yylloc),i.push(g[1]),f=null,h=y.yyleng,c=y.yytext,o=y.yylineno,p=y.yylloc;break;case 2:if(b=this.productions_[g[1]][1],N.$=r[r.length-b],N._$={first_line:a[a.length-(b||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(b||1)].first_column,last_column:a[a.length-1].last_column},R&&(N._$.range=[a[a.length-(b||1)].range[0],a[a.length-1].range[1]]),void 0!==(S=this.performAction.apply(N,[c,h,o,m.yy,g[1],r,a].concat(u))))return S;b&&(i=i.slice(0,-1*b*2),r=r.slice(0,-1*b),a=a.slice(0,-1*b)),i.push(this.productions_[g[1]][0]),r.push(N.$),a.push(N._$),T=l[i[i.length-2]][i[i.length-1]],i.push(T);break;case 3:return!0}}return!0},"parse")},he=function(){return{EOF:1,parseError:s(function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},"parseError"),setInput:s(function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:s(function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},"input"),unput:s(function(e){var t=e.length,s=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),s.length-1&&(this.yylineno-=s.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:s?(s.length===i.length?this.yylloc.first_column:0)+i[i.length-s.length].length-s[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},"unput"),more:s(function(){return this._more=!0,this},"more"),reject:s(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:s(function(e){this.unput(this.match.slice(e))},"less"),pastInput:s(function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:s(function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:s(function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},"showPosition"),test_match:s(function(e,t){var s,i,n;if(this.options.backtrack_lexer&&(n={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(n.yylloc.range=this.yylloc.range.slice(0))),(i=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],s=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),s)return s;if(this._backtrack){for(var r in n)this[r]=n[r];return!1}return!1},"test_match"),next:s(function(){if(this.done)return this.EOF;var e,t,s,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),r=0;r<n.length;r++)if((s=this._input.match(this.rules[n[r]]))&&(!t||s[0].length>t[0].length)){if(t=s,i=r,this.options.backtrack_lexer){if(!1!==(e=this.test_match(s,n[r])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,n[i]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:s(function(){var e=this.next();return e||this.lex()},"lex"),begin:s(function(e){this.conditionStack.push(e)},"begin"),popState:s(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:s(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:s(function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},"topState"),pushState:s(function(e){this.begin(e)},"pushState"),stateStackSize:s(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:s(function(e,t,s,i){switch(s){case 0:return"title";case 1:return this.begin("acc_title"),9;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),11;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:case 58:case 65:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 21;case 9:return 22;case 10:return 23;case 11:return 24;case 12:return 5;case 13:case 14:case 15:case 56:break;case 16:return 8;case 17:return 6;case 18:return 27;case 19:return 40;case 20:return 29;case 21:return 32;case 22:return 31;case 23:return 34;case 24:return 36;case 25:return 38;case 26:return 41;case 27:return 42;case 28:return 43;case 29:return 44;case 30:return 45;case 31:return 46;case 32:return 47;case 33:return 48;case 34:return 49;case 35:return 50;case 36:return 51;case 37:return 52;case 38:return 53;case 39:return 54;case 40:return 65;case 41:return 66;case 42:return 67;case 43:return 68;case 44:return 69;case 45:return 70;case 46:return 71;case 47:return 57;case 48:return 59;case 49:return this.begin("style"),77;case 50:case 68:return 75;case 51:return 81;case 52:return 88;case 53:return"PERCENT";case 54:return 86;case 55:return 84;case 57:case 64:this.begin("string");break;case 59:return this.begin("style"),72;case 60:return this.begin("style"),74;case 61:return 61;case 62:return 64;case 63:return 63;case 66:return"qString";case 67:return t.yytext=t.yytext.trim(),89;case 69:return 80;case 70:return 76}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::{3})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:style\b)/i,/^(?:\w+)/i,/^(?::)/i,/^(?:;)/i,/^(?:%)/i,/^(?:-)/i,/^(?:#)/i,/^(?: )/i,/^(?:["])/i,/^(?:\n)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^:,\r\n\{\<\>\-\=]*)/i,/^(?:\w+)/i,/^(?:[0-9]+)/i,/^(?:,)/i],conditions:{acc_descr_multiline:{rules:[6,7,68,69,70],inclusive:!1},acc_descr:{rules:[4,68,69,70],inclusive:!1},acc_title:{rules:[2,68,69,70],inclusive:!1},style:{rules:[50,51,52,53,54,55,56,57,58,68,69,70],inclusive:!1},unqString:{rules:[68,69,70],inclusive:!1},token:{rules:[68,69,70],inclusive:!1},string:{rules:[65,66,68,69,70],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,59,60,61,62,63,64,67,68,69,70],inclusive:!0}}}}();function ue(){this.yy={}}return oe.lexer=he,s(ue,"Parser"),ue.prototype=oe,oe.Parser=ue,new ue}();R.parser=R;var d=R,f=class{constructor(){this.relations=[],this.latestRequirement=this.getInitialRequirement(),this.requirements=new Map,this.latestElement=this.getInitialElement(),this.elements=new Map,this.classes=new Map,this.direction="TB",this.RequirementType={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},this.RiskLevel={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},this.VerifyType={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},this.Relationships={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},this.setAccTitle=i,this.getAccTitle=n,this.setAccDescription=r,this.getAccDescription=a,this.setDiagramTitle=l,this.getDiagramTitle=c,this.getConfig=s(()=>o().requirement,"getConfig"),this.clear(),this.setDirection=this.setDirection.bind(this),this.addRequirement=this.addRequirement.bind(this),this.setNewReqId=this.setNewReqId.bind(this),this.setNewReqRisk=this.setNewReqRisk.bind(this),this.setNewReqText=this.setNewReqText.bind(this),this.setNewReqVerifyMethod=this.setNewReqVerifyMethod.bind(this),this.addElement=this.addElement.bind(this),this.setNewElementType=this.setNewElementType.bind(this),this.setNewElementDocRef=this.setNewElementDocRef.bind(this),this.addRelationship=this.addRelationship.bind(this),this.setCssStyle=this.setCssStyle.bind(this),this.setClass=this.setClass.bind(this),this.defineClass=this.defineClass.bind(this),this.setAccTitle=this.setAccTitle.bind(this),this.setAccDescription=this.setAccDescription.bind(this)}static{s(this,"RequirementDB")}getDirection(){return this.direction}setDirection(e){this.direction=e}resetLatestRequirement(){this.latestRequirement=this.getInitialRequirement()}resetLatestElement(){this.latestElement=this.getInitialElement()}getInitialRequirement(){return{requirementId:"",text:"",risk:"",verifyMethod:"",name:"",type:"",cssStyles:[],classes:["default"]}}getInitialElement(){return{name:"",type:"",docRef:"",cssStyles:[],classes:["default"]}}addRequirement(e,t){return this.requirements.has(e)||this.requirements.set(e,{name:e,type:t,requirementId:this.latestRequirement.requirementId,text:this.latestRequirement.text,risk:this.latestRequirement.risk,verifyMethod:this.latestRequirement.verifyMethod,cssStyles:[],classes:["default"]}),this.resetLatestRequirement(),this.requirements.get(e)}getRequirements(){return this.requirements}setNewReqId(e){void 0!==this.latestRequirement&&(this.latestRequirement.requirementId=e)}setNewReqText(e){void 0!==this.latestRequirement&&(this.latestRequirement.text=e)}setNewReqRisk(e){void 0!==this.latestRequirement&&(this.latestRequirement.risk=e)}setNewReqVerifyMethod(e){void 0!==this.latestRequirement&&(this.latestRequirement.verifyMethod=e)}addElement(e){return this.elements.has(e)||(this.elements.set(e,{name:e,type:this.latestElement.type,docRef:this.latestElement.docRef,cssStyles:[],classes:["default"]}),h.info("Added new element: ",e)),this.resetLatestElement(),this.elements.get(e)}getElements(){return this.elements}setNewElementType(e){void 0!==this.latestElement&&(this.latestElement.type=e)}setNewElementDocRef(e){void 0!==this.latestElement&&(this.latestElement.docRef=e)}addRelationship(e,t,s){this.relations.push({type:e,src:t,dst:s})}getRelationships(){return this.relations}clear(){this.relations=[],this.resetLatestRequirement(),this.requirements=new Map,this.resetLatestElement(),this.elements=new Map,this.classes=new Map,u()}setCssStyle(e,t){for(const s of e){const e=this.requirements.get(s)??this.elements.get(s);if(!t||!e)return;for(const s of t)s.includes(",")?e.cssStyles.push(...s.split(",")):e.cssStyles.push(s)}}setClass(e,t){for(const s of e){const e=this.requirements.get(s)??this.elements.get(s);if(e)for(const s of t){e.classes.push(s);const t=this.classes.get(s)?.styles;t&&e.cssStyles.push(...t)}}}defineClass(e,t){for(const s of e){let e=this.classes.get(s);void 0===e&&(e={id:s,styles:[],textStyles:[]},this.classes.set(s,e)),t&&t.forEach(function(t){if(/color/.exec(t)){const s=t.replace("fill","bgFill");e.textStyles.push(s)}e.styles.push(t)}),this.requirements.forEach(e=>{e.classes.includes(s)&&e.cssStyles.push(...t.flatMap(e=>e.split(",")))}),this.elements.forEach(e=>{e.classes.includes(s)&&e.cssStyles.push(...t.flatMap(e=>e.split(",")))})}}getClasses(){return this.classes}getData(){const e=o(),t=[],s=[];for(const i of this.requirements.values()){const s=i;s.id=i.name,s.cssStyles=i.cssStyles,s.cssClasses=i.classes.join(" "),s.shape="requirementBox",s.look=e.look,t.push(s)}for(const i of this.elements.values()){const s=i;s.shape="requirementBox",s.look=e.look,s.id=i.name,s.cssStyles=i.cssStyles,s.cssClasses=i.classes.join(" "),t.push(s)}for(const i of this.relations){let t=0;const n=i.type===this.Relationships.CONTAINS,r={id:`${i.src}-${i.dst}-${t}`,start:this.requirements.get(i.src)?.name??this.elements.get(i.src)?.name,end:this.requirements.get(i.dst)?.name??this.elements.get(i.dst)?.name,label:`&lt;&lt;${i.type}&gt;&gt;`,classes:"relationshipLine",style:["fill:none",n?"":"stroke-dasharray: 10,7"],labelpos:"c",thickness:"normal",type:"normal",pattern:n?"normal":"dashed",arrowTypeStart:n?"requirement_contains":"",arrowTypeEnd:n?"":"requirement_arrow",look:e.look};s.push(r),t++}return{nodes:t,edges:s,other:{},config:e,direction:this.getDirection()}}},_=s(e=>`\n\n  marker {\n    fill: ${e.relationColor};\n    stroke: ${e.relationColor};\n  }\n\n  marker.cross {\n    stroke: ${e.lineColor};\n  }\n\n  svg {\n    font-family: ${e.fontFamily};\n    font-size: ${e.fontSize};\n  }\n\n  .reqBox {\n    fill: ${e.requirementBackground};\n    fill-opacity: 1.0;\n    stroke: ${e.requirementBorderColor};\n    stroke-width: ${e.requirementBorderSize};\n  }\n  \n  .reqTitle, .reqLabel{\n    fill:  ${e.requirementTextColor};\n  }\n  .reqLabelBox {\n    fill: ${e.relationLabelBackground};\n    fill-opacity: 1.0;\n  }\n\n  .req-title-line {\n    stroke: ${e.requirementBorderColor};\n    stroke-width: ${e.requirementBorderSize};\n  }\n  .relationshipLine {\n    stroke: ${e.relationColor};\n    stroke-width: 1;\n  }\n  .relationshipLabel {\n    fill: ${e.relationLabelColor};\n  }\n  .divider {\n    stroke: ${e.nodeBorder};\n    stroke-width: 1;\n  }\n  .label {\n    font-family: ${e.fontFamily};\n    color: ${e.nodeTextColor||e.textColor};\n  }\n  .label text,span {\n    fill: ${e.nodeTextColor||e.textColor};\n    color: ${e.nodeTextColor||e.textColor};\n  }\n  .labelBkg {\n    background-color: ${e.edgeLabelBackground};\n  }\n\n`,"getStyles"),g={};y(g,{draw:()=>S});var S=s(async function(s,i,n,r){h.info("REF0:"),h.info("Drawing requirement diagram (unified)",i);const{securityLevel:a,state:l,layout:c}=o(),u=r.db.getData(),y=e(i,a);u.type=r.type,u.layoutAlgorithm=m(c),u.nodeSpacing=l?.nodeSpacing??50,u.rankSpacing=l?.rankSpacing??50,u.markers=["requirement_contains","requirement_arrow"],u.diagramId=i,await E(u,y);p.insertTitle(y,"requirementDiagramTitleText",l?.titleTopMargin??25,r.db.getDiagramTitle()),t(y,8,"requirementDiagram",l?.useMaxWidth??!0)},"draw"),I={parser:d,get db(){return new f},renderer:g,styles:_};export{I as diagram};

import{a as t,b as e,g as a,d as s,c as r,e as i}from"./chunk-OMD6QJNC.js";import{I as n}from"./chunk-FHKO5MBM.js";import{_ as o,n as c,c as l,d,l as h,j as p,e as g,f as u,k as x,b as y,s as m,p as b,a as T,g as E,q as f,y as w,i as I,u as L,L as P,M as _,N,Z as A,O as k,P as v,E as M}from"./index.js";var O=function(){var t=o(function(t,e,a,s){for(a=a||{},s=t.length;s--;a[t[s]]=e);return a},"o"),e=[1,2],a=[1,3],s=[1,4],r=[2,4],i=[1,9],n=[1,11],c=[1,13],l=[1,14],d=[1,16],h=[1,17],p=[1,18],g=[1,24],u=[1,25],x=[1,26],y=[1,27],m=[1,28],b=[1,29],T=[1,30],E=[1,31],f=[1,32],w=[1,33],I=[1,34],L=[1,35],P=[1,36],_=[1,37],N=[1,38],A=[1,39],k=[1,41],v=[1,42],M=[1,43],O=[1,44],S=[1,45],D=[1,46],R=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,54,59,60,61,62,70],C=[4,5,16,50,52,53],B=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],Y=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,54,59,60,61,62,70],$=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,54,59,60,61,62,70],V=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,54,59,60,61,62,70],F=[68,69,70],W=[1,122],q={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,note:54,placement:55,text2:56,over:57,actor_pair:58,links:59,link:60,properties:61,details:62,spaceList:63,",":64,left_of:65,right_of:66,signaltype:67,"+":68,"-":69,ACTOR:70,SOLID_OPEN_ARROW:71,DOTTED_OPEN_ARROW:72,SOLID_ARROW:73,BIDIRECTIONAL_SOLID_ARROW:74,DOTTED_ARROW:75,BIDIRECTIONAL_DOTTED_ARROW:76,SOLID_CROSS:77,DOTTED_CROSS:78,SOLID_POINT:79,DOTTED_POINT:80,TXT:81,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",54:"note",57:"over",59:"links",60:"link",61:"properties",62:"details",64:",",65:"left_of",66:"right_of",68:"+",69:"-",70:"ACTOR",71:"SOLID_OPEN_ARROW",72:"DOTTED_OPEN_ARROW",73:"SOLID_ARROW",74:"BIDIRECTIONAL_SOLID_ARROW",75:"DOTTED_ARROW",76:"BIDIRECTIONAL_DOTTED_ARROW",77:"SOLID_CROSS",78:"DOTTED_CROSS",79:"SOLID_POINT",80:"DOTTED_POINT",81:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[63,2],[63,1],[58,3],[58,1],[55,1],[55,1],[17,5],[17,5],[17,4],[22,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[56,1]],performAction:o(function(t,e,a,s,r,i,n){var o=i.length-1;switch(r){case 3:return s.apply(i[o]),i[o];case 4:case 9:case 8:case 13:this.$=[];break;case 5:case 10:i[o-1].push(i[o]),this.$=i[o-1];break;case 6:case 7:case 11:case 12:case 62:this.$=i[o];break;case 15:i[o].type="createParticipant",this.$=i[o];break;case 16:i[o-1].unshift({type:"boxStart",boxData:s.parseBoxData(i[o-2])}),i[o-1].push({type:"boxEnd",boxText:i[o-2]}),this.$=i[o-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(i[o-2]),sequenceIndexStep:Number(i[o-1]),sequenceVisible:!0,signalType:s.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(i[o-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:s.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:s.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:s.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:s.LINETYPE.ACTIVE_START,actor:i[o-1].actor};break;case 23:this.$={type:"activeEnd",signalType:s.LINETYPE.ACTIVE_END,actor:i[o-1].actor};break;case 29:s.setDiagramTitle(i[o].substring(6)),this.$=i[o].substring(6);break;case 30:s.setDiagramTitle(i[o].substring(7)),this.$=i[o].substring(7);break;case 31:this.$=i[o].trim(),s.setAccTitle(this.$);break;case 32:case 33:this.$=i[o].trim(),s.setAccDescription(this.$);break;case 34:i[o-1].unshift({type:"loopStart",loopText:s.parseMessage(i[o-2]),signalType:s.LINETYPE.LOOP_START}),i[o-1].push({type:"loopEnd",loopText:i[o-2],signalType:s.LINETYPE.LOOP_END}),this.$=i[o-1];break;case 35:i[o-1].unshift({type:"rectStart",color:s.parseMessage(i[o-2]),signalType:s.LINETYPE.RECT_START}),i[o-1].push({type:"rectEnd",color:s.parseMessage(i[o-2]),signalType:s.LINETYPE.RECT_END}),this.$=i[o-1];break;case 36:i[o-1].unshift({type:"optStart",optText:s.parseMessage(i[o-2]),signalType:s.LINETYPE.OPT_START}),i[o-1].push({type:"optEnd",optText:s.parseMessage(i[o-2]),signalType:s.LINETYPE.OPT_END}),this.$=i[o-1];break;case 37:i[o-1].unshift({type:"altStart",altText:s.parseMessage(i[o-2]),signalType:s.LINETYPE.ALT_START}),i[o-1].push({type:"altEnd",signalType:s.LINETYPE.ALT_END}),this.$=i[o-1];break;case 38:i[o-1].unshift({type:"parStart",parText:s.parseMessage(i[o-2]),signalType:s.LINETYPE.PAR_START}),i[o-1].push({type:"parEnd",signalType:s.LINETYPE.PAR_END}),this.$=i[o-1];break;case 39:i[o-1].unshift({type:"parStart",parText:s.parseMessage(i[o-2]),signalType:s.LINETYPE.PAR_OVER_START}),i[o-1].push({type:"parEnd",signalType:s.LINETYPE.PAR_END}),this.$=i[o-1];break;case 40:i[o-1].unshift({type:"criticalStart",criticalText:s.parseMessage(i[o-2]),signalType:s.LINETYPE.CRITICAL_START}),i[o-1].push({type:"criticalEnd",signalType:s.LINETYPE.CRITICAL_END}),this.$=i[o-1];break;case 41:i[o-1].unshift({type:"breakStart",breakText:s.parseMessage(i[o-2]),signalType:s.LINETYPE.BREAK_START}),i[o-1].push({type:"breakEnd",optText:s.parseMessage(i[o-2]),signalType:s.LINETYPE.BREAK_END}),this.$=i[o-1];break;case 43:this.$=i[o-3].concat([{type:"option",optionText:s.parseMessage(i[o-1]),signalType:s.LINETYPE.CRITICAL_OPTION},i[o]]);break;case 45:this.$=i[o-3].concat([{type:"and",parText:s.parseMessage(i[o-1]),signalType:s.LINETYPE.PAR_AND},i[o]]);break;case 47:this.$=i[o-3].concat([{type:"else",altText:s.parseMessage(i[o-1]),signalType:s.LINETYPE.ALT_ELSE},i[o]]);break;case 48:i[o-3].draw="participant",i[o-3].type="addParticipant",i[o-3].description=s.parseMessage(i[o-1]),this.$=i[o-3];break;case 49:i[o-1].draw="participant",i[o-1].type="addParticipant",this.$=i[o-1];break;case 50:i[o-3].draw="actor",i[o-3].type="addParticipant",i[o-3].description=s.parseMessage(i[o-1]),this.$=i[o-3];break;case 51:i[o-1].draw="actor",i[o-1].type="addParticipant",this.$=i[o-1];break;case 52:i[o-1].type="destroyParticipant",this.$=i[o-1];break;case 53:this.$=[i[o-1],{type:"addNote",placement:i[o-2],actor:i[o-1].actor,text:i[o]}];break;case 54:i[o-2]=[].concat(i[o-1],i[o-1]).slice(0,2),i[o-2][0]=i[o-2][0].actor,i[o-2][1]=i[o-2][1].actor,this.$=[i[o-1],{type:"addNote",placement:s.PLACEMENT.OVER,actor:i[o-2].slice(0,2),text:i[o]}];break;case 55:this.$=[i[o-1],{type:"addLinks",actor:i[o-1].actor,text:i[o]}];break;case 56:this.$=[i[o-1],{type:"addALink",actor:i[o-1].actor,text:i[o]}];break;case 57:this.$=[i[o-1],{type:"addProperties",actor:i[o-1].actor,text:i[o]}];break;case 58:this.$=[i[o-1],{type:"addDetails",actor:i[o-1].actor,text:i[o]}];break;case 61:this.$=[i[o-2],i[o]];break;case 63:this.$=s.PLACEMENT.LEFTOF;break;case 64:this.$=s.PLACEMENT.RIGHTOF;break;case 65:this.$=[i[o-4],i[o-1],{type:"addMessage",from:i[o-4].actor,to:i[o-1].actor,signalType:i[o-3],msg:i[o],activate:!0},{type:"activeStart",signalType:s.LINETYPE.ACTIVE_START,actor:i[o-1].actor}];break;case 66:this.$=[i[o-4],i[o-1],{type:"addMessage",from:i[o-4].actor,to:i[o-1].actor,signalType:i[o-3],msg:i[o]},{type:"activeEnd",signalType:s.LINETYPE.ACTIVE_END,actor:i[o-4].actor}];break;case 67:this.$=[i[o-3],i[o-1],{type:"addMessage",from:i[o-3].actor,to:i[o-1].actor,signalType:i[o-2],msg:i[o]}];break;case 68:this.$={type:"addParticipant",actor:i[o]};break;case 69:this.$=s.LINETYPE.SOLID_OPEN;break;case 70:this.$=s.LINETYPE.DOTTED_OPEN;break;case 71:this.$=s.LINETYPE.SOLID;break;case 72:this.$=s.LINETYPE.BIDIRECTIONAL_SOLID;break;case 73:this.$=s.LINETYPE.DOTTED;break;case 74:this.$=s.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 75:this.$=s.LINETYPE.SOLID_CROSS;break;case 76:this.$=s.LINETYPE.DOTTED_CROSS;break;case 77:this.$=s.LINETYPE.SOLID_POINT;break;case 78:this.$=s.LINETYPE.DOTTED_POINT;break;case 79:this.$=s.parseMessage(i[o].trim().substring(1))}},"anonymous"),table:[{3:1,4:e,5:a,6:s},{1:[3]},{3:5,4:e,5:a,6:s},{3:6,4:e,5:a,6:s},t([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],r,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:i,5:n,8:8,9:10,12:12,13:c,14:l,17:15,18:d,21:h,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:u,31:x,33:y,35:m,36:b,37:T,38:E,39:f,41:w,43:I,44:L,46:P,50:_,52:N,53:A,54:k,59:v,60:M,61:O,62:S,70:D},t(R,[2,5]),{9:47,12:12,13:c,14:l,17:15,18:d,21:h,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:u,31:x,33:y,35:m,36:b,37:T,38:E,39:f,41:w,43:I,44:L,46:P,50:_,52:N,53:A,54:k,59:v,60:M,61:O,62:S,70:D},t(R,[2,7]),t(R,[2,8]),t(R,[2,14]),{12:48,50:_,52:N,53:A},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,70:D},{22:55,70:D},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},t(R,[2,29]),t(R,[2,30]),{32:[1,61]},{34:[1,62]},t(R,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,70:D},{22:72,70:D},{22:73,70:D},{67:74,71:[1,75],72:[1,76],73:[1,77],74:[1,78],75:[1,79],76:[1,80],77:[1,81],78:[1,82],79:[1,83],80:[1,84]},{55:85,57:[1,86],65:[1,87],66:[1,88]},{22:89,70:D},{22:90,70:D},{22:91,70:D},{22:92,70:D},t([5,51,64,71,72,73,74,75,76,77,78,79,80,81],[2,68]),t(R,[2,6]),t(R,[2,15]),t(C,[2,9],{10:93}),t(R,[2,17]),{5:[1,95],19:[1,94]},{5:[1,96]},t(R,[2,21]),{5:[1,97]},{5:[1,98]},t(R,[2,24]),t(R,[2,25]),t(R,[2,26]),t(R,[2,27]),t(R,[2,28]),t(R,[2,31]),t(R,[2,32]),t(B,r,{7:99}),t(B,r,{7:100}),t(B,r,{7:101}),t(Y,r,{40:102,7:103}),t($,r,{42:104,7:105}),t($,r,{7:105,42:106}),t(V,r,{45:107,7:108}),t(B,r,{7:109}),{5:[1,111],51:[1,110]},{5:[1,113],51:[1,112]},{5:[1,114]},{22:117,68:[1,115],69:[1,116],70:D},t(F,[2,69]),t(F,[2,70]),t(F,[2,71]),t(F,[2,72]),t(F,[2,73]),t(F,[2,74]),t(F,[2,75]),t(F,[2,76]),t(F,[2,77]),t(F,[2,78]),{22:118,70:D},{22:120,58:119,70:D},{70:[2,63]},{70:[2,64]},{56:121,81:W},{56:123,81:W},{56:124,81:W},{56:125,81:W},{4:[1,128],5:[1,130],11:127,12:129,16:[1,126],50:_,52:N,53:A},{5:[1,131]},t(R,[2,19]),t(R,[2,20]),t(R,[2,22]),t(R,[2,23]),{4:i,5:n,8:8,9:10,12:12,13:c,14:l,16:[1,132],17:15,18:d,21:h,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:u,31:x,33:y,35:m,36:b,37:T,38:E,39:f,41:w,43:I,44:L,46:P,50:_,52:N,53:A,54:k,59:v,60:M,61:O,62:S,70:D},{4:i,5:n,8:8,9:10,12:12,13:c,14:l,16:[1,133],17:15,18:d,21:h,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:u,31:x,33:y,35:m,36:b,37:T,38:E,39:f,41:w,43:I,44:L,46:P,50:_,52:N,53:A,54:k,59:v,60:M,61:O,62:S,70:D},{4:i,5:n,8:8,9:10,12:12,13:c,14:l,16:[1,134],17:15,18:d,21:h,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:u,31:x,33:y,35:m,36:b,37:T,38:E,39:f,41:w,43:I,44:L,46:P,50:_,52:N,53:A,54:k,59:v,60:M,61:O,62:S,70:D},{16:[1,135]},{4:i,5:n,8:8,9:10,12:12,13:c,14:l,16:[2,46],17:15,18:d,21:h,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:u,31:x,33:y,35:m,36:b,37:T,38:E,39:f,41:w,43:I,44:L,46:P,49:[1,136],50:_,52:N,53:A,54:k,59:v,60:M,61:O,62:S,70:D},{16:[1,137]},{4:i,5:n,8:8,9:10,12:12,13:c,14:l,16:[2,44],17:15,18:d,21:h,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:u,31:x,33:y,35:m,36:b,37:T,38:E,39:f,41:w,43:I,44:L,46:P,48:[1,138],50:_,52:N,53:A,54:k,59:v,60:M,61:O,62:S,70:D},{16:[1,139]},{16:[1,140]},{4:i,5:n,8:8,9:10,12:12,13:c,14:l,16:[2,42],17:15,18:d,21:h,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:u,31:x,33:y,35:m,36:b,37:T,38:E,39:f,41:w,43:I,44:L,46:P,47:[1,141],50:_,52:N,53:A,54:k,59:v,60:M,61:O,62:S,70:D},{4:i,5:n,8:8,9:10,12:12,13:c,14:l,16:[1,142],17:15,18:d,21:h,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:u,31:x,33:y,35:m,36:b,37:T,38:E,39:f,41:w,43:I,44:L,46:P,50:_,52:N,53:A,54:k,59:v,60:M,61:O,62:S,70:D},{15:[1,143]},t(R,[2,49]),{15:[1,144]},t(R,[2,51]),t(R,[2,52]),{22:145,70:D},{22:146,70:D},{56:147,81:W},{56:148,81:W},{56:149,81:W},{64:[1,150],81:[2,62]},{5:[2,55]},{5:[2,79]},{5:[2,56]},{5:[2,57]},{5:[2,58]},t(R,[2,16]),t(C,[2,10]),{12:151,50:_,52:N,53:A},t(C,[2,12]),t(C,[2,13]),t(R,[2,18]),t(R,[2,34]),t(R,[2,35]),t(R,[2,36]),t(R,[2,37]),{15:[1,152]},t(R,[2,38]),{15:[1,153]},t(R,[2,39]),t(R,[2,40]),{15:[1,154]},t(R,[2,41]),{5:[1,155]},{5:[1,156]},{56:157,81:W},{56:158,81:W},{5:[2,67]},{5:[2,53]},{5:[2,54]},{22:159,70:D},t(C,[2,11]),t(Y,r,{7:103,40:160}),t($,r,{7:105,42:161}),t(V,r,{7:108,45:162}),t(R,[2,48]),t(R,[2,50]),{5:[2,65]},{5:[2,66]},{81:[2,61]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],87:[2,63],88:[2,64],121:[2,55],122:[2,79],123:[2,56],124:[2,57],125:[2,58],147:[2,67],148:[2,53],149:[2,54],157:[2,65],158:[2,66],159:[2,61],160:[2,47],161:[2,45],162:[2,43]},parseError:o(function(t,e){if(!e.recoverable){var a=new Error(t);throw a.hash=e,a}this.trace(t)},"parseError"),parse:o(function(t){var e=this,a=[0],s=[],r=[null],i=[],n=this.table,c="",l=0,d=0,h=i.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var u in this.yy)Object.prototype.hasOwnProperty.call(this.yy,u)&&(g.yy[u]=this.yy[u]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var x=p.yylloc;i.push(x);var y=p.options&&p.options.ranges;function m(){var t;return"number"!=typeof(t=s.pop()||p.lex()||1)&&(t instanceof Array&&(t=(s=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,o(function(t){a.length=a.length-2*t,r.length=r.length-t,i.length=i.length-t},"popStack"),o(m,"lex");for(var b,T,E,f,w,I,L,P,_={};;){if(T=a[a.length-1],this.defaultActions[T]?E=this.defaultActions[T]:(null==b&&(b=m()),E=n[T]&&n[T][b]),void 0===E||!E.length||!E[0]){var N="";for(w in P=[],n[T])this.terminals_[w]&&w>2&&P.push("'"+this.terminals_[w]+"'");N=p.showPosition?"Parse error on line "+(l+1)+":\n"+p.showPosition()+"\nExpecting "+P.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==b?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(N,{text:p.match,token:this.terminals_[b]||b,line:p.yylineno,loc:x,expected:P})}if(E[0]instanceof Array&&E.length>1)throw new Error("Parse Error: multiple actions possible at state: "+T+", token: "+b);switch(E[0]){case 1:a.push(b),r.push(p.yytext),i.push(p.yylloc),a.push(E[1]),b=null,d=p.yyleng,c=p.yytext,l=p.yylineno,x=p.yylloc;break;case 2:if(I=this.productions_[E[1]][1],_.$=r[r.length-I],_._$={first_line:i[i.length-(I||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(I||1)].first_column,last_column:i[i.length-1].last_column},y&&(_._$.range=[i[i.length-(I||1)].range[0],i[i.length-1].range[1]]),void 0!==(f=this.performAction.apply(_,[c,d,l,g.yy,E[1],r,i].concat(h))))return f;I&&(a=a.slice(0,-1*I*2),r=r.slice(0,-1*I),i=i.slice(0,-1*I)),a.push(this.productions_[E[1]][0]),r.push(_.$),i.push(_._$),L=n[a[a.length-2]][a[a.length-1]],a.push(L);break;case 3:return!0}}return!0},"parse")},z=function(){return{EOF:1,parseError:o(function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},"parseError"),setInput:o(function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},"input"),unput:o(function(t){var e=t.length,a=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var s=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),a.length-1&&(this.yylineno-=a.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:a?(a.length===s.length?this.yylloc.first_column:0)+s[s.length-a.length].length-a[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:o(function(t){this.unput(this.match.slice(t))},"less"),pastInput:o(function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},"showPosition"),test_match:o(function(t,e){var a,s,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(s=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=s.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],a=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a)return a;if(this._backtrack){for(var i in r)this[i]=r[i];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;var t,e,a,s;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),i=0;i<r.length;i++)if((a=this._input.match(this.rules[r[i]]))&&(!e||a[0].length>e[0].length)){if(e=a,s=i,this.options.backtrack_lexer){if(!1!==(t=this.test_match(a,r[i])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[s]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var t=this.next();return t||this.lex()},"lex"),begin:o(function(t){this.conditionStack.push(t)},"begin"),popState:o(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},"topState"),pushState:o(function(t){this.begin(t)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(t,e,a,s){switch(a){case 0:case 51:case 67:return 5;case 1:case 2:case 3:case 4:case 5:break;case 6:return 19;case 7:return this.begin("LINE"),14;case 8:return this.begin("ID"),50;case 9:return this.begin("ID"),52;case 10:return 13;case 11:return this.begin("ID"),53;case 12:return e.yytext=e.yytext.trim(),this.begin("ALIAS"),70;case 13:return this.popState(),this.popState(),this.begin("LINE"),51;case 14:return this.popState(),this.popState(),5;case 15:return this.begin("LINE"),36;case 16:return this.begin("LINE"),37;case 17:return this.begin("LINE"),38;case 18:return this.begin("LINE"),39;case 19:return this.begin("LINE"),49;case 20:return this.begin("LINE"),41;case 21:return this.begin("LINE"),43;case 22:return this.begin("LINE"),48;case 23:return this.begin("LINE"),44;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),46;case 26:return this.popState(),15;case 27:return 16;case 28:return 65;case 29:return 66;case 30:return 59;case 31:return 60;case 32:return 61;case 33:return 62;case 34:return 57;case 35:return 54;case 36:return this.begin("ID"),21;case 37:return this.begin("ID"),23;case 38:return 29;case 39:return 30;case 40:return this.begin("acc_title"),31;case 41:return this.popState(),"acc_title_value";case 42:return this.begin("acc_descr"),33;case 43:return this.popState(),"acc_descr_value";case 44:this.begin("acc_descr_multiline");break;case 45:this.popState();break;case 46:return"acc_descr_multiline_value";case 47:return 6;case 48:return 18;case 49:return 20;case 50:return 64;case 52:return e.yytext=e.yytext.trim(),70;case 53:return 73;case 54:return 74;case 55:return 75;case 56:return 76;case 57:return 71;case 58:return 72;case 59:return 77;case 60:return 78;case 61:return 79;case 62:return 80;case 63:case 64:return 81;case 65:return 68;case 66:return 69;case 68:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^<\->\->:\n,;]+?([\-]*[^<\->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^+<\->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+<\->\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]*)/i,/^(?::)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[45,46],inclusive:!1},acc_descr:{rules:[43],inclusive:!1},acc_title:{rules:[41],inclusive:!1},ID:{rules:[2,3,12],inclusive:!1},ALIAS:{rules:[2,3,13,14],inclusive:!1},LINE:{rules:[2,3,26],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,15,16,17,18,19,20,21,22,23,24,25,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,44,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68],inclusive:!0}}}}();function H(){this.yy={}}return q.lexer=z,o(H,"Parser"),H.prototype=q,q.Parser=H,new H}();O.parser=O;var S=O,D={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34},R={FILLED:0,OPEN:1},C={LEFTOF:0,RIGHTOF:1,OVER:2},B=class{constructor(){this.state=new n(()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0})),this.setAccTitle=y,this.setAccDescription=m,this.setDiagramTitle=b,this.getAccTitle=T,this.getAccDescription=E,this.getDiagramTitle=f,this.apply=this.apply.bind(this),this.parseBoxData=this.parseBoxData.bind(this),this.parseMessage=this.parseMessage.bind(this),this.clear(),this.setWrap(l().wrap),this.LINETYPE=D,this.ARROWTYPE=R,this.PLACEMENT=C}static{o(this,"SequenceDB")}addBox(t){this.state.records.boxes.push({name:t.text,wrap:t.wrap??this.autoWrap(),fill:t.color,actorKeys:[]}),this.state.records.currentBox=this.state.records.boxes.slice(-1)[0]}addActor(t,e,a,s){let r=this.state.records.currentBox;const i=this.state.records.actors.get(t);if(i){if(this.state.records.currentBox&&i.box&&this.state.records.currentBox!==i.box)throw new Error(`A same participant should only be defined in one Box: ${i.name} can't be in '${i.box.name}' and in '${this.state.records.currentBox.name}' at the same time.`);if(r=i.box?i.box:this.state.records.currentBox,i.box=r,i&&e===i.name&&null==a)return}if(null==a?.text&&(a={text:e,type:s}),null!=s&&null!=a.text||(a={text:e,type:s}),this.state.records.actors.set(t,{box:r,name:e,description:a.text,wrap:a.wrap??this.autoWrap(),prevActor:this.state.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:s??"participant"}),this.state.records.prevActor){const e=this.state.records.actors.get(this.state.records.prevActor);e&&(e.nextActor=t)}this.state.records.currentBox&&this.state.records.currentBox.actorKeys.push(t),this.state.records.prevActor=t}activationCount(t){let e,a=0;if(!t)return 0;for(e=0;e<this.state.records.messages.length;e++)this.state.records.messages[e].type===this.LINETYPE.ACTIVE_START&&this.state.records.messages[e].from===t&&a++,this.state.records.messages[e].type===this.LINETYPE.ACTIVE_END&&this.state.records.messages[e].from===t&&a--;return a}addMessage(t,e,a,s){this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:t,to:e,message:a.text,wrap:a.wrap??this.autoWrap(),answer:s})}addSignal(t,e,a,s,r=!1){if(s===this.LINETYPE.ACTIVE_END){if(this.activationCount(t??"")<1){const e=new Error("Trying to inactivate an inactive participant ("+t+")");throw e.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},e}}return this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:t,to:e,message:a?.text??"",wrap:a?.wrap??this.autoWrap(),type:s,activate:r}),!0}hasAtLeastOneBox(){return this.state.records.boxes.length>0}hasAtLeastOneBoxWithTitle(){return this.state.records.boxes.some(t=>t.name)}getMessages(){return this.state.records.messages}getBoxes(){return this.state.records.boxes}getActors(){return this.state.records.actors}getCreatedActors(){return this.state.records.createdActors}getDestroyedActors(){return this.state.records.destroyedActors}getActor(t){return this.state.records.actors.get(t)}getActorKeys(){return[...this.state.records.actors.keys()]}enableSequenceNumbers(){this.state.records.sequenceNumbersEnabled=!0}disableSequenceNumbers(){this.state.records.sequenceNumbersEnabled=!1}showSequenceNumbers(){return this.state.records.sequenceNumbersEnabled}setWrap(t){this.state.records.wrapEnabled=t}extractWrap(t){if(void 0===t)return{};t=t.trim();const e=null!==/^:?wrap:/.exec(t)||null===/^:?nowrap:/.exec(t)&&void 0;return{cleanedText:(void 0===e?t:t.replace(/^:?(?:no)?wrap:/,"")).trim(),wrap:e}}autoWrap(){return void 0!==this.state.records.wrapEnabled?this.state.records.wrapEnabled:l().sequence?.wrap??!1}clear(){this.state.reset(),w()}parseMessage(t){const e=t.trim(),{wrap:a,cleanedText:s}=this.extractWrap(e),r={text:s,wrap:a};return h.debug(`parseMessage: ${JSON.stringify(r)}`),r}parseBoxData(t){const e=/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(t);let a=e?.[1]?e[1].trim():"transparent",s=e?.[2]?e[2].trim():void 0;if(window?.CSS)window.CSS.supports("color",a)||(a="transparent",s=t.trim());else{const e=(new Option).style;e.color=a,e.color!==a&&(a="transparent",s=t.trim())}const{wrap:r,cleanedText:i}=this.extractWrap(s);return{text:i?I(i,l()):void 0,color:a,wrap:r}}addNote(t,e,a){const s={actor:t,placement:e,message:a.text,wrap:a.wrap??this.autoWrap()},r=[].concat(t,t);this.state.records.notes.push(s),this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:r[0],to:r[1],message:a.text,wrap:a.wrap??this.autoWrap(),type:this.LINETYPE.NOTE,placement:e})}addLinks(t,e){const a=this.getActor(t);try{let t=I(e.text,l());t=t.replace(/&equals;/g,"="),t=t.replace(/&amp;/g,"&");const s=JSON.parse(t);this.insertLinks(a,s)}catch(s){h.error("error while parsing actor link text",s)}}addALink(t,e){const a=this.getActor(t);try{const t={};let s=I(e.text,l());const r=s.indexOf("@");s=s.replace(/&equals;/g,"="),s=s.replace(/&amp;/g,"&");const i=s.slice(0,r-1).trim(),n=s.slice(r+1).trim();t[i]=n,this.insertLinks(a,t)}catch(s){h.error("error while parsing actor link text",s)}}insertLinks(t,e){if(null==t.links)t.links=e;else for(const a in e)t.links[a]=e[a]}addProperties(t,e){const a=this.getActor(t);try{const t=I(e.text,l()),s=JSON.parse(t);this.insertProperties(a,s)}catch(s){h.error("error while parsing actor properties text",s)}}insertProperties(t,e){if(null==t.properties)t.properties=e;else for(const a in e)t.properties[a]=e[a]}boxEnd(){this.state.records.currentBox=void 0}addDetails(t,e){const a=this.getActor(t),s=document.getElementById(e.text);try{const t=s.innerHTML,e=JSON.parse(t);e.properties&&this.insertProperties(a,e.properties),e.links&&this.insertLinks(a,e.links)}catch(r){h.error("error while parsing actor details text",r)}}getActorProperty(t,e){if(void 0!==t?.properties)return t.properties[e]}apply(t){if(Array.isArray(t))t.forEach(t=>{this.apply(t)});else switch(t.type){case"sequenceIndex":this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:void 0,to:void 0,message:{start:t.sequenceIndex,step:t.sequenceIndexStep,visible:t.sequenceVisible},wrap:!1,type:t.signalType});break;case"addParticipant":this.addActor(t.actor,t.actor,t.description,t.draw);break;case"createParticipant":if(this.state.records.actors.has(t.actor))throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");this.state.records.lastCreated=t.actor,this.addActor(t.actor,t.actor,t.description,t.draw),this.state.records.createdActors.set(t.actor,this.state.records.messages.length);break;case"destroyParticipant":this.state.records.lastDestroyed=t.actor,this.state.records.destroyedActors.set(t.actor,this.state.records.messages.length);break;case"activeStart":case"activeEnd":this.addSignal(t.actor,void 0,void 0,t.signalType);break;case"addNote":this.addNote(t.actor,t.placement,t.text);break;case"addLinks":this.addLinks(t.actor,t.text);break;case"addALink":this.addALink(t.actor,t.text);break;case"addProperties":this.addProperties(t.actor,t.text);break;case"addDetails":this.addDetails(t.actor,t.text);break;case"addMessage":if(this.state.records.lastCreated){if(t.to!==this.state.records.lastCreated)throw new Error("The created participant "+this.state.records.lastCreated.name+" does not have an associated creating message after its declaration. Please check the sequence diagram.");this.state.records.lastCreated=void 0}else if(this.state.records.lastDestroyed){if(t.to!==this.state.records.lastDestroyed&&t.from!==this.state.records.lastDestroyed)throw new Error("The destroyed participant "+this.state.records.lastDestroyed.name+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");this.state.records.lastDestroyed=void 0}this.addSignal(t.from,t.to,t.msg,t.signalType,t.activate);break;case"boxStart":this.addBox(t.boxData);break;case"boxEnd":this.boxEnd();break;case"loopStart":this.addSignal(void 0,void 0,t.loopText,t.signalType);break;case"loopEnd":case"rectEnd":case"optEnd":case"altEnd":case"parEnd":case"criticalEnd":case"breakEnd":this.addSignal(void 0,void 0,void 0,t.signalType);break;case"rectStart":this.addSignal(void 0,void 0,t.color,t.signalType);break;case"optStart":this.addSignal(void 0,void 0,t.optText,t.signalType);break;case"altStart":case"else":this.addSignal(void 0,void 0,t.altText,t.signalType);break;case"setAccTitle":y(t.text);break;case"parStart":case"and":this.addSignal(void 0,void 0,t.parText,t.signalType);break;case"criticalStart":this.addSignal(void 0,void 0,t.criticalText,t.signalType);break;case"option":this.addSignal(void 0,void 0,t.optionText,t.signalType);break;case"breakStart":this.addSignal(void 0,void 0,t.breakText,t.signalType)}}getConfig(){return l().sequence}},Y=o(t=>`.actor {\n    stroke: ${t.actorBorder};\n    fill: ${t.actorBkg};\n  }\n\n  text.actor > tspan {\n    fill: ${t.actorTextColor};\n    stroke: none;\n  }\n\n  .actor-line {\n    stroke: ${t.actorLineColor};\n  }\n\n  .messageLine0 {\n    stroke-width: 1.5;\n    stroke-dasharray: none;\n    stroke: ${t.signalColor};\n  }\n\n  .messageLine1 {\n    stroke-width: 1.5;\n    stroke-dasharray: 2, 2;\n    stroke: ${t.signalColor};\n  }\n\n  #arrowhead path {\n    fill: ${t.signalColor};\n    stroke: ${t.signalColor};\n  }\n\n  .sequenceNumber {\n    fill: ${t.sequenceNumberColor};\n  }\n\n  #sequencenumber {\n    fill: ${t.signalColor};\n  }\n\n  #crosshead path {\n    fill: ${t.signalColor};\n    stroke: ${t.signalColor};\n  }\n\n  .messageText {\n    fill: ${t.signalTextColor};\n    stroke: none;\n  }\n\n  .labelBox {\n    stroke: ${t.labelBoxBorderColor};\n    fill: ${t.labelBoxBkgColor};\n  }\n\n  .labelText, .labelText > tspan {\n    fill: ${t.labelTextColor};\n    stroke: none;\n  }\n\n  .loopText, .loopText > tspan {\n    fill: ${t.loopTextColor};\n    stroke: none;\n  }\n\n  .loopLine {\n    stroke-width: 2px;\n    stroke-dasharray: 2, 2;\n    stroke: ${t.labelBoxBorderColor};\n    fill: ${t.labelBoxBorderColor};\n  }\n\n  .note {\n    //stroke: #decc93;\n    stroke: ${t.noteBorderColor};\n    fill: ${t.noteBkgColor};\n  }\n\n  .noteText, .noteText > tspan {\n    fill: ${t.noteTextColor};\n    stroke: none;\n  }\n\n  .activation0 {\n    fill: ${t.activationBkgColor};\n    stroke: ${t.activationBorderColor};\n  }\n\n  .activation1 {\n    fill: ${t.activationBkgColor};\n    stroke: ${t.activationBorderColor};\n  }\n\n  .activation2 {\n    fill: ${t.activationBkgColor};\n    stroke: ${t.activationBorderColor};\n  }\n\n  .actorPopupMenu {\n    position: absolute;\n  }\n\n  .actorPopupMenuPanel {\n    position: absolute;\n    fill: ${t.actorBkg};\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));\n}\n  .actor-man line {\n    stroke: ${t.actorBorder};\n    fill: ${t.actorBkg};\n  }\n  .actor-man circle, line {\n    stroke: ${t.actorBorder};\n    fill: ${t.actorBkg};\n    stroke-width: 2px;\n  }\n`,"getStyles"),$="actor-top",V="actor-bottom",F="actor-man",W=o(function(t,e){return s(t,e)},"drawRect"),q=o(function(t,e,a,s,r){if(void 0===e.links||null===e.links||0===Object.keys(e.links).length)return{height:0,width:0};const i=e.links,n=e.actorCnt,o=e.rectData;var c="none";r&&(c="block !important");const l=t.append("g");l.attr("id","actor"+n+"_popup"),l.attr("class","actorPopupMenu"),l.attr("display",c);var d="";void 0!==o.class&&(d=" "+o.class);let h=o.width>a?o.width:a;const g=l.append("rect");if(g.attr("class","actorPopupMenuPanel"+d),g.attr("x",o.x),g.attr("y",o.height),g.attr("fill",o.fill),g.attr("stroke",o.stroke),g.attr("width",h),g.attr("height",o.height),g.attr("rx",o.rx),g.attr("ry",o.ry),null!=i){var u=20;for(let t in i){var x=l.append("a"),y=p.sanitizeUrl(i[t]);x.attr("xlink:href",y),x.attr("target","_blank"),ut(s)(t,x,o.x+10,o.height+u,h,20,{class:"actor"},s),u+=30}}return g.attr("height",u),{height:o.height+u,width:h}},"drawPopup"),z=o(function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"},"popupMenuToggle"),H=o(async function(t,e,a=null){let s=t.append("foreignObject");const r=await v(e.text,M()),i=s.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(r).node().getBoundingClientRect();if(s.attr("height",Math.round(i.height)).attr("width",Math.round(i.width)),"noteText"===e.class){const a=t.node().firstChild;a.setAttribute("height",i.height+2*e.textMargin);const r=a.getBBox();s.attr("x",Math.round(r.x+r.width/2-i.width/2)).attr("y",Math.round(r.y+r.height/2-i.height/2))}else if(a){let{startx:t,stopx:r,starty:n}=a;if(t>r){const e=t;t=r,r=e}s.attr("x",Math.round(t+Math.abs(t-r)/2-i.width/2)),"loopText"===e.class?s.attr("y",Math.round(n)):s.attr("y",Math.round(n-i.height))}return[s]},"drawKatex"),j=o(function(t,e){let a=0,s=0;const r=e.text.split(x.lineBreakRegex),[i,n]=N(e.fontSize);let c=[],l=0,d=o(()=>e.y,"yfunc");if(void 0!==e.valign&&void 0!==e.textMargin&&e.textMargin>0)switch(e.valign){case"top":case"start":d=o(()=>Math.round(e.y+e.textMargin),"yfunc");break;case"middle":case"center":d=o(()=>Math.round(e.y+(a+s+e.textMargin)/2),"yfunc");break;case"bottom":case"end":d=o(()=>Math.round(e.y+(a+s+2*e.textMargin)-e.textMargin),"yfunc")}if(void 0!==e.anchor&&void 0!==e.textMargin&&void 0!==e.width)switch(e.anchor){case"left":case"start":e.x=Math.round(e.x+e.textMargin),e.anchor="start",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"middle":case"center":e.x=Math.round(e.x+e.width/2),e.anchor="middle",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"right":case"end":e.x=Math.round(e.x+e.width-e.textMargin),e.anchor="end",e.dominantBaseline="middle",e.alignmentBaseline="middle"}for(let[o,h]of r.entries()){void 0!==e.textMargin&&0===e.textMargin&&void 0!==i&&(l=o*i);const r=t.append("text");r.attr("x",e.x),r.attr("y",d()),void 0!==e.anchor&&r.attr("text-anchor",e.anchor).attr("dominant-baseline",e.dominantBaseline).attr("alignment-baseline",e.alignmentBaseline),void 0!==e.fontFamily&&r.style("font-family",e.fontFamily),void 0!==n&&r.style("font-size",n),void 0!==e.fontWeight&&r.style("font-weight",e.fontWeight),void 0!==e.fill&&r.attr("fill",e.fill),void 0!==e.class&&r.attr("class",e.class),void 0!==e.dy?r.attr("dy",e.dy):0!==l&&r.attr("dy",l);const p=h||A;if(e.tspan){const t=r.append("tspan");t.attr("x",e.x),void 0!==e.fill&&t.attr("fill",e.fill),t.text(p)}else r.text(p);void 0!==e.valign&&void 0!==e.textMargin&&e.textMargin>0&&(s+=(r._groups||r)[0][0].getBBox().height,a=s),c.push(r)}return c},"drawText"),U=o(function(t,e){function a(t,e,a,s,r){return t+","+e+" "+(t+a)+","+e+" "+(t+a)+","+(e+s-r)+" "+(t+a-1.2*r)+","+(e+s)+" "+t+","+(e+s)}o(a,"genPoints");const s=t.append("polygon");return s.attr("points",a(e.x,e.y,e.width,e.height,7)),s.attr("class","labelBox"),e.y=e.y+e.height/2,j(t,e),s},"drawLabel"),K=-1,X=o((t,e,a,s)=>{t.select&&a.forEach(a=>{const r=e.get(a),i=t.select("#actor"+r.actorCnt);!s.mirrorActors&&r.stopy?i.attr("y2",r.stopy+r.height/2):s.mirrorActors&&i.attr("y2",r.stopy)})},"fixLifeLineHeights"),G=o(function(t,e,s,n){const o=n?e.stopy:e.starty,c=e.x+e.width/2,l=o+e.height,d=t.append("g").lower();var h=d;n||(K++,Object.keys(e.links||{}).length&&!s.forceMenus&&h.attr("onclick",z(`actor${K}_popup`)).attr("cursor","pointer"),h.append("line").attr("id","actor"+K).attr("x1",c).attr("y1",l).attr("x2",c).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",e.name),h=d.append("g"),e.actorCnt=K,null!=e.links&&h.attr("id","root-"+K));const p=a();var g="actor";e.properties?.class?g=e.properties.class:p.fill="#eaeaea",g+=n?` ${V}`:` ${$}`,p.x=e.x,p.y=o,p.width=e.width,p.height=e.height,p.class=g,p.rx=3,p.ry=3,p.name=e.name;const u=W(h,p);if(e.rectData=p,e.properties?.icon){const t=e.properties.icon.trim();"@"===t.charAt(0)?r(h,p.x+p.width-20,p.y+10,t.substr(1)):i(h,p.x+p.width-20,p.y+10,t)}gt(s,P(e.description))(e.description,h,p.x,p.y,p.width,p.height,{class:"actor actor-box"},s);let x=e.height;if(u.node){const t=u.node().getBBox();e.height=t.height,x=t.height}return x},"drawActorTypeParticipant"),J=o(function(t,e,s,r){const i=r?e.stopy:e.starty,n=e.x+e.width/2,o=i+80,c=t.append("g").lower();r||(K++,c.append("line").attr("id","actor"+K).attr("x1",n).attr("y1",o).attr("x2",n).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",e.name),e.actorCnt=K);const l=t.append("g");let d=F;d+=r?` ${V}`:` ${$}`,l.attr("class",d),l.attr("name",e.name);const h=a();h.x=e.x,h.y=i,h.fill="#eaeaea",h.width=e.width,h.height=e.height,h.class="actor",h.rx=3,h.ry=3,l.append("line").attr("id","actor-man-torso"+K).attr("x1",n).attr("y1",i+25).attr("x2",n).attr("y2",i+45),l.append("line").attr("id","actor-man-arms"+K).attr("x1",n-18).attr("y1",i+33).attr("x2",n+18).attr("y2",i+33),l.append("line").attr("x1",n-18).attr("y1",i+60).attr("x2",n).attr("y2",i+45),l.append("line").attr("x1",n).attr("y1",i+45).attr("x2",n+18-2).attr("y2",i+60);const p=l.append("circle");p.attr("cx",e.x+e.width/2),p.attr("cy",i+10),p.attr("r",15),p.attr("width",e.width),p.attr("height",e.height);const g=l.node().getBBox();return e.height=g.height,gt(s,P(e.description))(e.description,l,h.x,h.y+35,h.width,h.height,{class:`actor ${F}`},s),e.height},"drawActorTypeActor"),Z=o(async function(t,e,a,s){switch(e.type){case"actor":return await J(t,e,a,s);case"participant":return await G(t,e,a,s)}},"drawActor"),Q=o(function(t,e,a){const s=t.append("g");st(s,e),e.name&&gt(a)(e.name,s,e.x,e.y+a.boxTextMargin+(e.textMaxHeight||0)/2,e.width,0,{class:"text"},a),s.lower()},"drawBox"),tt=o(function(t){return t.append("g")},"anchorElement"),et=o(function(t,e,s,r,i){const n=a(),o=e.anchored;n.x=e.startx,n.y=e.starty,n.class="activation"+i%3,n.width=e.stopx-e.startx,n.height=s-e.starty,W(o,n)},"drawActivation"),at=o(async function(t,a,s,r){const{boxMargin:i,boxTextMargin:n,labelBoxHeight:c,labelBoxWidth:l,messageFontFamily:d,messageFontSize:h,messageFontWeight:p}=r,g=t.append("g"),u=o(function(t,e,a,s){return g.append("line").attr("x1",t).attr("y1",e).attr("x2",a).attr("y2",s).attr("class","loopLine")},"drawLoopLine");u(a.startx,a.starty,a.stopx,a.starty),u(a.stopx,a.starty,a.stopx,a.stopy),u(a.startx,a.stopy,a.stopx,a.stopy),u(a.startx,a.starty,a.startx,a.stopy),void 0!==a.sections&&a.sections.forEach(function(t){u(a.startx,t.y,a.stopx,t.y).style("stroke-dasharray","3, 3")});let x=e();x.text=s,x.x=a.startx,x.y=a.starty,x.fontFamily=d,x.fontSize=h,x.fontWeight=p,x.anchor="middle",x.valign="middle",x.tspan=!1,x.width=l||50,x.height=c||20,x.textMargin=n,x.class="labelText",U(g,x),x=ht(),x.text=a.title,x.x=a.startx+l/2+(a.stopx-a.startx)/2,x.y=a.starty+i+n,x.anchor="middle",x.valign="middle",x.textMargin=n,x.class="loopText",x.fontFamily=d,x.fontSize=h,x.fontWeight=p,x.wrap=!0;let y=P(x.text)?await H(g,x,a):j(g,x);if(void 0!==a.sectionTitles)for(const[e,o]of Object.entries(a.sectionTitles))if(o.message){x.text=o.message,x.x=a.startx+(a.stopx-a.startx)/2,x.y=a.sections[e].y+i+n,x.class="loopText",x.anchor="middle",x.valign="middle",x.tspan=!1,x.fontFamily=d,x.fontSize=h,x.fontWeight=p,x.wrap=a.wrap,P(x.text)?(a.starty=a.sections[e].y,await H(g,x,a)):j(g,x);let t=Math.round(y.map(t=>(t._groups||t)[0][0].getBBox().height).reduce((t,e)=>t+e));a.sections[e].height+=t-(i+n)}return a.height=Math.round(a.stopy-a.starty),g},"drawLoop"),st=o(function(e,a){t(e,a)},"drawBackgroundRect"),rt=o(function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),it=o(function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),nt=o(function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),ot=o(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto-start-reverse").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")},"insertArrowHead"),ct=o(function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),lt=o(function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),dt=o(function(t){t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),ht=o(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),pt=o(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),gt=function(){function t(t,e,a,s,i,n,o){r(e.append("text").attr("x",a+i/2).attr("y",s+n/2+5).style("text-anchor","middle").text(t),o)}function e(t,e,a,s,i,n,o,c){const{actorFontSize:l,actorFontFamily:d,actorFontWeight:h}=c,[p,g]=N(l),u=t.split(x.lineBreakRegex);for(let x=0;x<u.length;x++){const t=x*p-p*(u.length-1)/2,c=e.append("text").attr("x",a+i/2).attr("y",s).style("text-anchor","middle").style("font-size",g).style("font-weight",h).style("font-family",d);c.append("tspan").attr("x",a+i/2).attr("dy",t).text(u[x]),c.attr("y",s+n/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(c,o)}}function a(t,a,s,i,n,o,c,l){const d=a.append("switch"),h=d.append("foreignObject").attr("x",s).attr("y",i).attr("width",n).attr("height",o).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(t),e(t,d,s,i,n,o,c,l),r(h,c)}async function s(t,a,s,i,n,o,c,l){const d=await _(t,M()),h=a.append("switch"),p=h.append("foreignObject").attr("x",s+n/2-d.width/2).attr("y",i+o/2-d.height/2).attr("width",d.width).attr("height",d.height).append("xhtml:div").style("height","100%").style("width","100%");p.append("div").style("text-align","center").style("vertical-align","middle").html(await v(t,M())),e(t,h,s,i,n,o,c,l),r(p,c)}function r(t,e){for(const a in e)e.hasOwnProperty(a)&&t.attr(a,e[a])}return o(t,"byText"),o(e,"byTspan"),o(a,"byFo"),o(s,"byKatex"),o(r,"_setTextAttrs"),function(r,i=!1){return i?s:"fo"===r.textPlacement?a:"old"===r.textPlacement?t:e}}(),ut=function(){function t(t,e,a,r,i,n,o){s(e.append("text").attr("x",a).attr("y",r).style("text-anchor","start").text(t),o)}function e(t,e,a,r,i,n,o,c){const{actorFontSize:l,actorFontFamily:d,actorFontWeight:h}=c,p=t.split(x.lineBreakRegex);for(let g=0;g<p.length;g++){const t=g*l-l*(p.length-1)/2,i=e.append("text").attr("x",a).attr("y",r).style("text-anchor","start").style("font-size",l).style("font-weight",h).style("font-family",d);i.append("tspan").attr("x",a).attr("dy",t).text(p[g]),i.attr("y",r+n/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),s(i,o)}}function a(t,a,r,i,n,o,c,l){const d=a.append("switch"),h=d.append("foreignObject").attr("x",r).attr("y",i).attr("width",n).attr("height",o).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(t),e(t,d,r,i,0,o,c,l),s(h,c)}function s(t,e){for(const a in e)e.hasOwnProperty(a)&&t.attr(a,e[a])}return o(t,"byText"),o(e,"byTspan"),o(a,"byFo"),o(s,"_setTextAttrs"),function(s){return"fo"===s.textPlacement?a:"old"===s.textPlacement?t:e}}(),xt={drawRect:W,drawText:j,drawLabel:U,drawActor:Z,drawBox:Q,drawPopup:q,anchorElement:tt,drawActivation:et,drawLoop:at,drawBackgroundRect:st,insertArrowHead:ot,insertArrowFilledHead:ct,insertSequenceNumber:lt,insertArrowCrossHead:dt,insertDatabaseIcon:rt,insertComputerIcon:it,insertClockIcon:nt,getTextObj:ht,getNoteRect:pt,fixLifeLineHeights:X,sanitizeUrl:p.sanitizeUrl},yt={},mt={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:o(function(){return Math.max.apply(null,0===this.actors.length?[0]:this.actors.map(t=>t.height||0))+(0===this.loops.length?0:this.loops.map(t=>t.height||0).reduce((t,e)=>t+e))+(0===this.messages.length?0:this.messages.map(t=>t.height||0).reduce((t,e)=>t+e))+(0===this.notes.length?0:this.notes.map(t=>t.height||0).reduce((t,e)=>t+e))},"getHeight"),clear:o(function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},"clear"),addBox:o(function(t){this.boxes.push(t)},"addBox"),addActor:o(function(t){this.actors.push(t)},"addActor"),addLoop:o(function(t){this.loops.push(t)},"addLoop"),addMessage:o(function(t){this.messages.push(t)},"addMessage"),addNote:o(function(t){this.notes.push(t)},"addNote"),lastActor:o(function(){return this.actors[this.actors.length-1]},"lastActor"),lastLoop:o(function(){return this.loops[this.loops.length-1]},"lastLoop"),lastMessage:o(function(){return this.messages[this.messages.length-1]},"lastMessage"),lastNote:o(function(){return this.notes[this.notes.length-1]},"lastNote"),actors:[],boxes:[],loops:[],messages:[],notes:[]},init:o(function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,Nt(l())},"init"),updateVal:o(function(t,e,a,s){void 0===t[e]?t[e]=a:t[e]=s(a,t[e])},"updateVal"),updateBounds:o(function(t,e,a,s){const r=this;let i=0;function n(n){return o(function(o){i++;const c=r.sequenceItems.length-i+1;r.updateVal(o,"starty",e-c*yt.boxMargin,Math.min),r.updateVal(o,"stopy",s+c*yt.boxMargin,Math.max),r.updateVal(mt.data,"startx",t-c*yt.boxMargin,Math.min),r.updateVal(mt.data,"stopx",a+c*yt.boxMargin,Math.max),"activation"!==n&&(r.updateVal(o,"startx",t-c*yt.boxMargin,Math.min),r.updateVal(o,"stopx",a+c*yt.boxMargin,Math.max),r.updateVal(mt.data,"starty",e-c*yt.boxMargin,Math.min),r.updateVal(mt.data,"stopy",s+c*yt.boxMargin,Math.max))},"updateItemBounds")}o(n,"updateFn"),this.sequenceItems.forEach(n()),this.activations.forEach(n("activation"))},"updateBounds"),insert:o(function(t,e,a,s){const r=x.getMin(t,a),i=x.getMax(t,a),n=x.getMin(e,s),o=x.getMax(e,s);this.updateVal(mt.data,"startx",r,Math.min),this.updateVal(mt.data,"starty",n,Math.min),this.updateVal(mt.data,"stopx",i,Math.max),this.updateVal(mt.data,"stopy",o,Math.max),this.updateBounds(r,n,i,o)},"insert"),newActivation:o(function(t,e,a){const s=a.get(t.from),r=At(t.from).length||0,i=s.x+s.width/2+(r-1)*yt.activationWidth/2;this.activations.push({startx:i,starty:this.verticalPos+2,stopx:i+yt.activationWidth,stopy:void 0,actor:t.from,anchored:xt.anchorElement(e)})},"newActivation"),endActivation:o(function(t){const e=this.activations.map(function(t){return t.actor}).lastIndexOf(t.from);return this.activations.splice(e,1)[0]},"endActivation"),createLoop:o(function(t={message:void 0,wrap:!1,width:void 0},e){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:t.message,wrap:t.wrap,width:t.width,height:0,fill:e}},"createLoop"),newLoop:o(function(t={message:void 0,wrap:!1,width:void 0},e){this.sequenceItems.push(this.createLoop(t,e))},"newLoop"),endLoop:o(function(){return this.sequenceItems.pop()},"endLoop"),isLoopOverlap:o(function(){return!!this.sequenceItems.length&&this.sequenceItems[this.sequenceItems.length-1].overlap},"isLoopOverlap"),addSectionToLoop:o(function(t){const e=this.sequenceItems.pop();e.sections=e.sections||[],e.sectionTitles=e.sectionTitles||[],e.sections.push({y:mt.getVerticalPos(),height:0}),e.sectionTitles.push(t),this.sequenceItems.push(e)},"addSectionToLoop"),saveVerticalPos:o(function(){this.isLoopOverlap()&&(this.savedVerticalPos=this.verticalPos)},"saveVerticalPos"),resetVerticalPos:o(function(){this.isLoopOverlap()&&(this.verticalPos=this.savedVerticalPos)},"resetVerticalPos"),bumpVerticalPos:o(function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=x.getMax(this.data.stopy,this.verticalPos)},"bumpVerticalPos"),getVerticalPos:o(function(){return this.verticalPos},"getVerticalPos"),getBounds:o(function(){return{bounds:this.data,models:this.models}},"getBounds")},bt=o(async function(t,s){mt.bumpVerticalPos(yt.boxMargin),s.height=yt.boxMargin,s.starty=mt.getVerticalPos();const r=a();r.x=s.startx,r.y=s.starty,r.width=s.width||yt.width,r.class="note";const i=t.append("g"),n=xt.drawRect(i,r),o=e();o.x=s.startx,o.y=s.starty,o.width=r.width,o.dy="1em",o.text=s.message,o.class="noteText",o.fontFamily=yt.noteFontFamily,o.fontSize=yt.noteFontSize,o.fontWeight=yt.noteFontWeight,o.anchor=yt.noteAlign,o.textMargin=yt.noteMargin,o.valign="center";const c=P(o.text)?await H(i,o):j(i,o),l=Math.round(c.map(t=>(t._groups||t)[0][0].getBBox().height).reduce((t,e)=>t+e));n.attr("height",l+2*yt.noteMargin),s.height+=l+2*yt.noteMargin,mt.bumpVerticalPos(l+2*yt.noteMargin),s.stopy=s.starty+l+2*yt.noteMargin,s.stopx=s.startx+r.width,mt.insert(s.startx,s.starty,s.stopx,s.stopy),mt.models.addNote(s)},"drawNote"),Tt=o(t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),"messageFont"),Et=o(t=>({fontFamily:t.noteFontFamily,fontSize:t.noteFontSize,fontWeight:t.noteFontWeight}),"noteFont"),ft=o(t=>({fontFamily:t.actorFontFamily,fontSize:t.actorFontSize,fontWeight:t.actorFontWeight}),"actorFont");async function wt(t,e){mt.bumpVerticalPos(10);const{startx:a,stopx:s,message:r}=e,i=x.splitBreaks(r).length,n=P(r),o=n?await _(r,l()):L.calculateTextDimensions(r,Tt(yt));if(!n){const t=o.height/i;e.height+=t,mt.bumpVerticalPos(t)}let c,d=o.height-10;const h=o.width;if(a===s){c=mt.getVerticalPos()+d,yt.rightAngles||(d+=yt.boxMargin,c=mt.getVerticalPos()+d),d+=30;const t=x.getMax(h/2,yt.width/2);mt.insert(a-t,mt.getVerticalPos()-10+d,s+t,mt.getVerticalPos()+30+d)}else d+=yt.boxMargin,c=mt.getVerticalPos()+d,mt.insert(a,c-10,s,c);return mt.bumpVerticalPos(d),e.height+=d,e.stopy=e.starty+e.height,mt.insert(e.fromBounds,e.starty,e.toBounds,e.stopy),c}o(wt,"boundMessage");var It=o(async function(t,a,s,r){const{startx:i,stopx:n,starty:o,message:c,type:l,sequenceIndex:d,sequenceVisible:h}=a,p=L.calculateTextDimensions(c,Tt(yt)),g=e();g.x=i,g.y=o+10,g.width=n-i,g.class="messageText",g.dy="1em",g.text=c,g.fontFamily=yt.messageFontFamily,g.fontSize=yt.messageFontSize,g.fontWeight=yt.messageFontWeight,g.anchor=yt.messageAlign,g.valign="center",g.textMargin=yt.wrapPadding,g.tspan=!1,P(g.text)?await H(t,g,{startx:i,stopx:n,starty:s}):j(t,g);const u=p.width;let y;i===n?y=yt.rightAngles?t.append("path").attr("d",`M  ${i},${s} H ${i+x.getMax(yt.width/2,u/2)} V ${s+25} H ${i}`):t.append("path").attr("d","M "+i+","+s+" C "+(i+60)+","+(s-10)+" "+(i+60)+","+(s+30)+" "+i+","+(s+20)):(y=t.append("line"),y.attr("x1",i),y.attr("y1",s),y.attr("x2",n),y.attr("y2",s)),l===r.db.LINETYPE.DOTTED||l===r.db.LINETYPE.DOTTED_CROSS||l===r.db.LINETYPE.DOTTED_POINT||l===r.db.LINETYPE.DOTTED_OPEN||l===r.db.LINETYPE.BIDIRECTIONAL_DOTTED?(y.style("stroke-dasharray","3, 3"),y.attr("class","messageLine1")):y.attr("class","messageLine0");let m="";if(yt.arrowMarkerAbsolute&&(m=k(!0)),y.attr("stroke-width",2),y.attr("stroke","none"),y.style("fill","none"),l!==r.db.LINETYPE.SOLID&&l!==r.db.LINETYPE.DOTTED||y.attr("marker-end","url("+m+"#arrowhead)"),l!==r.db.LINETYPE.BIDIRECTIONAL_SOLID&&l!==r.db.LINETYPE.BIDIRECTIONAL_DOTTED||(y.attr("marker-start","url("+m+"#arrowhead)"),y.attr("marker-end","url("+m+"#arrowhead)")),l!==r.db.LINETYPE.SOLID_POINT&&l!==r.db.LINETYPE.DOTTED_POINT||y.attr("marker-end","url("+m+"#filled-head)"),l!==r.db.LINETYPE.SOLID_CROSS&&l!==r.db.LINETYPE.DOTTED_CROSS||y.attr("marker-end","url("+m+"#crosshead)"),h||yt.showSequenceNumbers){if(l===r.db.LINETYPE.BIDIRECTIONAL_SOLID||l===r.db.LINETYPE.BIDIRECTIONAL_DOTTED){const t=6;i<n?y.attr("x1",i+2*t):y.attr("x1",i+t)}t.append("line").attr("x1",i).attr("y1",s).attr("x2",i).attr("y2",s).attr("stroke-width",0).attr("marker-start","url("+m+"#sequencenumber)"),t.append("text").attr("x",i).attr("y",s+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(d)}},"drawMessage"),Lt=o(function(t,e,a,s,r,i,n){let o,c=0,l=0,d=0;for(const h of s){const t=e.get(h),s=t.box;o&&o!=s&&(n||mt.models.addBox(o),l+=yt.boxMargin+o.margin),s&&s!=o&&(n||(s.x=c+l,s.y=r),l+=s.margin),t.width=t.width||yt.width,t.height=x.getMax(t.height||yt.height,yt.height),t.margin=t.margin||yt.actorMargin,d=x.getMax(d,t.height),a.get(t.name)&&(l+=t.width/2),t.x=c+l,t.starty=mt.getVerticalPos(),mt.insert(t.x,r,t.x+t.width,t.height),c+=t.width+l,t.box&&(t.box.width=c+s.margin-t.box.x),l=t.margin,o=t.box,mt.models.addActor(t)}o&&!n&&mt.models.addBox(o),mt.bumpVerticalPos(d)},"addActorRenderingData"),Pt=o(async function(t,e,a,s){if(s){let s=0;mt.bumpVerticalPos(2*yt.boxMargin);for(const r of a){const a=e.get(r);a.stopy||(a.stopy=mt.getVerticalPos());const i=await xt.drawActor(t,a,yt,!0);s=x.getMax(s,i)}mt.bumpVerticalPos(s+yt.boxMargin)}else for(const r of a){const a=e.get(r);await xt.drawActor(t,a,yt,!1)}},"drawActors"),_t=o(function(t,e,a,s){let r=0,i=0;for(const n of a){const a=e.get(n),o=Dt(a),c=xt.drawPopup(t,a,o,yt,yt.forceMenus,s);c.height>r&&(r=c.height),c.width+a.x>i&&(i=c.width+a.x)}return{maxHeight:r,maxWidth:i}},"drawActorsPopup"),Nt=o(function(t){u(yt,t),t.fontFamily&&(yt.actorFontFamily=yt.noteFontFamily=yt.messageFontFamily=t.fontFamily),t.fontSize&&(yt.actorFontSize=yt.noteFontSize=yt.messageFontSize=t.fontSize),t.fontWeight&&(yt.actorFontWeight=yt.noteFontWeight=yt.messageFontWeight=t.fontWeight)},"setConf"),At=o(function(t){return mt.activations.filter(function(e){return e.actor===t})},"actorActivations"),kt=o(function(t,e){const a=e.get(t),s=At(t);return[s.reduce(function(t,e){return x.getMin(t,e.startx)},a.x+a.width/2-1),s.reduce(function(t,e){return x.getMax(t,e.stopx)},a.x+a.width/2+1)]},"activationBounds");function vt(t,e,a,s,r){mt.bumpVerticalPos(a);let i=s;if(e.id&&e.message&&t[e.id]){const a=t[e.id].width,r=Tt(yt);e.message=L.wrapLabel(`[${e.message}]`,a-2*yt.wrapPadding,r),e.width=a,e.wrap=!0;const n=L.calculateTextDimensions(e.message,r),o=x.getMax(n.height,yt.labelBoxHeight);i=s+o,h.debug(`${o} - ${e.message}`)}r(e),mt.bumpVerticalPos(i)}function Mt(t,e,a,s,r,i,n){function c(a,s){a.x<r.get(t.from).x?(mt.insert(e.stopx-s,e.starty,e.startx,e.stopy+a.height/2+yt.noteMargin),e.stopx=e.stopx+s):(mt.insert(e.startx,e.starty,e.stopx+s,e.stopy+a.height/2+yt.noteMargin),e.stopx=e.stopx-s)}function l(a,s){a.x<r.get(t.to).x?(mt.insert(e.startx-s,e.starty,e.stopx,e.stopy+a.height/2+yt.noteMargin),e.startx=e.startx+s):(mt.insert(e.stopx,e.starty,e.startx+s,e.stopy+a.height/2+yt.noteMargin),e.startx=e.startx-s)}if(o(c,"receiverAdjustment"),o(l,"senderAdjustment"),i.get(t.to)==s){const e=r.get(t.to);c(e,"actor"==e.type?21:e.width/2+3),e.starty=a-e.height/2,mt.bumpVerticalPos(e.height/2)}else if(n.get(t.from)==s){const e=r.get(t.from);if(yt.mirrorActors){l(e,"actor"==e.type?18:e.width/2)}e.stopy=a-e.height/2,mt.bumpVerticalPos(e.height/2)}else if(n.get(t.to)==s){const e=r.get(t.to);if(yt.mirrorActors){c(e,"actor"==e.type?21:e.width/2+3)}e.stopy=a-e.height/2,mt.bumpVerticalPos(e.height/2)}}o(vt,"adjustLoopHeightForWrap"),o(Mt,"adjustCreatedDestroyedData");var Ot=o(async function(t,e,a,s){const{securityLevel:r,sequence:i}=l();let n;yt=i,"sandbox"===r&&(n=d("#i"+e));const c=d("sandbox"===r?n.nodes()[0].contentDocument.body:"body"),p="sandbox"===r?n.nodes()[0].contentDocument:document;mt.init(),h.debug(s.db);const u="sandbox"===r?c.select(`[id="${e}"]`):d(`[id="${e}"]`),x=s.db.getActors(),y=s.db.getCreatedActors(),m=s.db.getDestroyedActors(),b=s.db.getBoxes();let T=s.db.getActorKeys();const E=s.db.getMessages(),f=s.db.getDiagramTitle(),w=s.db.hasAtLeastOneBox(),I=s.db.hasAtLeastOneBoxWithTitle(),L=await St(x,E,s);if(yt.height=await Rt(x,L,b),xt.insertComputerIcon(u),xt.insertDatabaseIcon(u),xt.insertClockIcon(u),w&&(mt.bumpVerticalPos(yt.boxMargin),I&&mt.bumpVerticalPos(b[0].textMaxHeight)),!0===yt.hideUnusedParticipants){const t=new Set;E.forEach(e=>{t.add(e.from),t.add(e.to)}),T=T.filter(e=>t.has(e))}Lt(u,x,y,T,0,E,!1);const P=await Yt(E,x,L,s);function _(t,e){const a=mt.endActivation(t);a.starty+18>e&&(a.starty=e-6,e+=12),xt.drawActivation(u,a,e,yt,At(t.from).length),mt.insert(a.startx,e-10,a.stopx,e)}xt.insertArrowHead(u),xt.insertArrowCrossHead(u),xt.insertArrowFilledHead(u),xt.insertSequenceNumber(u),o(_,"activeEnd");let N=1,A=1;const k=[],v=[];let M=0;for(const o of E){let t,e,a;switch(o.type){case s.db.LINETYPE.NOTE:mt.resetVerticalPos(),e=o.noteModel,await bt(u,e);break;case s.db.LINETYPE.ACTIVE_START:mt.newActivation(o,u,x);break;case s.db.LINETYPE.ACTIVE_END:_(o,mt.getVerticalPos());break;case s.db.LINETYPE.LOOP_START:vt(P,o,yt.boxMargin,yt.boxMargin+yt.boxTextMargin,t=>mt.newLoop(t));break;case s.db.LINETYPE.LOOP_END:t=mt.endLoop(),await xt.drawLoop(u,t,"loop",yt),mt.bumpVerticalPos(t.stopy-mt.getVerticalPos()),mt.models.addLoop(t);break;case s.db.LINETYPE.RECT_START:vt(P,o,yt.boxMargin,yt.boxMargin,t=>mt.newLoop(void 0,t.message));break;case s.db.LINETYPE.RECT_END:t=mt.endLoop(),v.push(t),mt.models.addLoop(t),mt.bumpVerticalPos(t.stopy-mt.getVerticalPos());break;case s.db.LINETYPE.OPT_START:vt(P,o,yt.boxMargin,yt.boxMargin+yt.boxTextMargin,t=>mt.newLoop(t));break;case s.db.LINETYPE.OPT_END:t=mt.endLoop(),await xt.drawLoop(u,t,"opt",yt),mt.bumpVerticalPos(t.stopy-mt.getVerticalPos()),mt.models.addLoop(t);break;case s.db.LINETYPE.ALT_START:vt(P,o,yt.boxMargin,yt.boxMargin+yt.boxTextMargin,t=>mt.newLoop(t));break;case s.db.LINETYPE.ALT_ELSE:vt(P,o,yt.boxMargin+yt.boxTextMargin,yt.boxMargin,t=>mt.addSectionToLoop(t));break;case s.db.LINETYPE.ALT_END:t=mt.endLoop(),await xt.drawLoop(u,t,"alt",yt),mt.bumpVerticalPos(t.stopy-mt.getVerticalPos()),mt.models.addLoop(t);break;case s.db.LINETYPE.PAR_START:case s.db.LINETYPE.PAR_OVER_START:vt(P,o,yt.boxMargin,yt.boxMargin+yt.boxTextMargin,t=>mt.newLoop(t)),mt.saveVerticalPos();break;case s.db.LINETYPE.PAR_AND:vt(P,o,yt.boxMargin+yt.boxTextMargin,yt.boxMargin,t=>mt.addSectionToLoop(t));break;case s.db.LINETYPE.PAR_END:t=mt.endLoop(),await xt.drawLoop(u,t,"par",yt),mt.bumpVerticalPos(t.stopy-mt.getVerticalPos()),mt.models.addLoop(t);break;case s.db.LINETYPE.AUTONUMBER:N=o.message.start||N,A=o.message.step||A,o.message.visible?s.db.enableSequenceNumbers():s.db.disableSequenceNumbers();break;case s.db.LINETYPE.CRITICAL_START:vt(P,o,yt.boxMargin,yt.boxMargin+yt.boxTextMargin,t=>mt.newLoop(t));break;case s.db.LINETYPE.CRITICAL_OPTION:vt(P,o,yt.boxMargin+yt.boxTextMargin,yt.boxMargin,t=>mt.addSectionToLoop(t));break;case s.db.LINETYPE.CRITICAL_END:t=mt.endLoop(),await xt.drawLoop(u,t,"critical",yt),mt.bumpVerticalPos(t.stopy-mt.getVerticalPos()),mt.models.addLoop(t);break;case s.db.LINETYPE.BREAK_START:vt(P,o,yt.boxMargin,yt.boxMargin+yt.boxTextMargin,t=>mt.newLoop(t));break;case s.db.LINETYPE.BREAK_END:t=mt.endLoop(),await xt.drawLoop(u,t,"break",yt),mt.bumpVerticalPos(t.stopy-mt.getVerticalPos()),mt.models.addLoop(t);break;default:try{a=o.msgModel,a.starty=mt.getVerticalPos(),a.sequenceIndex=N,a.sequenceVisible=s.db.showSequenceNumbers();const t=await wt(0,a);Mt(o,a,t,M,x,y,m),k.push({messageModel:a,lineStartY:t}),mt.models.addMessage(a)}catch($){h.error("error while drawing message",$)}}[s.db.LINETYPE.SOLID_OPEN,s.db.LINETYPE.DOTTED_OPEN,s.db.LINETYPE.SOLID,s.db.LINETYPE.DOTTED,s.db.LINETYPE.SOLID_CROSS,s.db.LINETYPE.DOTTED_CROSS,s.db.LINETYPE.SOLID_POINT,s.db.LINETYPE.DOTTED_POINT,s.db.LINETYPE.BIDIRECTIONAL_SOLID,s.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(o.type)&&(N+=A),M++}h.debug("createdActors",y),h.debug("destroyedActors",m),await Pt(u,x,T,!1);for(const o of k)await It(u,o.messageModel,o.lineStartY,s);yt.mirrorActors&&await Pt(u,x,T,!0),v.forEach(t=>xt.drawBackgroundRect(u,t)),X(u,x,T,yt);for(const o of mt.models.boxes)o.height=mt.getVerticalPos()-o.y,mt.insert(o.x,o.y,o.x+o.width,o.height),o.startx=o.x,o.starty=o.y,o.stopx=o.startx+o.width,o.stopy=o.starty+o.height,o.stroke="rgb(0,0,0, 0.5)",xt.drawBox(u,o,yt);w&&mt.bumpVerticalPos(yt.boxMargin);const O=_t(u,x,T,p),{bounds:S}=mt.getBounds();void 0===S.startx&&(S.startx=0),void 0===S.starty&&(S.starty=0),void 0===S.stopx&&(S.stopx=0),void 0===S.stopy&&(S.stopy=0);let D=S.stopy-S.starty;D<O.maxHeight&&(D=O.maxHeight);let R=D+2*yt.diagramMarginY;yt.mirrorActors&&(R=R-yt.boxMargin+yt.bottomMarginAdj);let C=S.stopx-S.startx;C<O.maxWidth&&(C=O.maxWidth);const B=C+2*yt.diagramMarginX;f&&u.append("text").text(f).attr("x",(S.stopx-S.startx)/2-2*yt.diagramMarginX).attr("y",-25),g(u,R,B,yt.useMaxWidth);const Y=f?40:0;u.attr("viewBox",S.startx-yt.diagramMarginX+" -"+(yt.diagramMarginY+Y)+" "+B+" "+(R+Y)),h.debug("models:",mt.models)},"draw");async function St(t,e,a){const s={};for(const r of e)if(t.get(r.to)&&t.get(r.from)){const e=t.get(r.to);if(r.placement===a.db.PLACEMENT.LEFTOF&&!e.prevActor)continue;if(r.placement===a.db.PLACEMENT.RIGHTOF&&!e.nextActor)continue;const i=void 0!==r.placement,n=!i,o=i?Et(yt):Tt(yt),c=r.wrap?L.wrapLabel(r.message,yt.width-2*yt.wrapPadding,o):r.message,d=(P(c)?await _(r.message,l()):L.calculateTextDimensions(c,o)).width+2*yt.wrapPadding;n&&r.from===e.nextActor?s[r.to]=x.getMax(s[r.to]||0,d):n&&r.from===e.prevActor?s[r.from]=x.getMax(s[r.from]||0,d):n&&r.from===r.to?(s[r.from]=x.getMax(s[r.from]||0,d/2),s[r.to]=x.getMax(s[r.to]||0,d/2)):r.placement===a.db.PLACEMENT.RIGHTOF?s[r.from]=x.getMax(s[r.from]||0,d):r.placement===a.db.PLACEMENT.LEFTOF?s[e.prevActor]=x.getMax(s[e.prevActor]||0,d):r.placement===a.db.PLACEMENT.OVER&&(e.prevActor&&(s[e.prevActor]=x.getMax(s[e.prevActor]||0,d/2)),e.nextActor&&(s[r.from]=x.getMax(s[r.from]||0,d/2)))}return h.debug("maxMessageWidthPerActor:",s),s}o(St,"getMaxMessageWidthPerActor");var Dt=o(function(t){let e=0;const a=ft(yt);for(const s in t.links){const t=L.calculateTextDimensions(s,a).width+2*yt.wrapPadding+2*yt.boxMargin;e<t&&(e=t)}return e},"getRequiredPopupWidth");async function Rt(t,e,a){let s=0;for(const i of t.keys()){const e=t.get(i);e.wrap&&(e.description=L.wrapLabel(e.description,yt.width-2*yt.wrapPadding,ft(yt)));const a=P(e.description)?await _(e.description,l()):L.calculateTextDimensions(e.description,ft(yt));e.width=e.wrap?yt.width:x.getMax(yt.width,a.width+2*yt.wrapPadding),e.height=e.wrap?x.getMax(a.height,yt.height):yt.height,s=x.getMax(s,e.height)}for(const i in e){const a=t.get(i);if(!a)continue;const s=t.get(a.nextActor);if(!s){const t=e[i]+yt.actorMargin-a.width/2;a.margin=x.getMax(t,yt.actorMargin);continue}const r=e[i]+yt.actorMargin-a.width/2-s.width/2;a.margin=x.getMax(r,yt.actorMargin)}let r=0;return a.forEach(e=>{const a=Tt(yt);let s=e.actorKeys.reduce((e,a)=>e+(t.get(a).width+(t.get(a).margin||0)),0);s-=2*yt.boxTextMargin,e.wrap&&(e.name=L.wrapLabel(e.name,s-2*yt.wrapPadding,a));const i=L.calculateTextDimensions(e.name,a);r=x.getMax(i.height,r);const n=x.getMax(s,i.width+2*yt.wrapPadding);if(e.margin=yt.boxTextMargin,s<n){const t=(n-s)/2;e.margin+=t}}),a.forEach(t=>t.textMaxHeight=r),x.getMax(s,yt.height)}o(Rt,"calculateActorMargins");var Ct=o(async function(t,e,a){const s=e.get(t.from),r=e.get(t.to),i=s.x,n=r.x,o=t.wrap&&t.message;let c=P(t.message)?await _(t.message,l()):L.calculateTextDimensions(o?L.wrapLabel(t.message,yt.width,Et(yt)):t.message,Et(yt));const d={width:o?yt.width:x.getMax(yt.width,c.width+2*yt.noteMargin),height:0,startx:s.x,stopx:0,starty:0,stopy:0,message:t.message};return t.placement===a.db.PLACEMENT.RIGHTOF?(d.width=o?x.getMax(yt.width,c.width):x.getMax(s.width/2+r.width/2,c.width+2*yt.noteMargin),d.startx=i+(s.width+yt.actorMargin)/2):t.placement===a.db.PLACEMENT.LEFTOF?(d.width=o?x.getMax(yt.width,c.width+2*yt.noteMargin):x.getMax(s.width/2+r.width/2,c.width+2*yt.noteMargin),d.startx=i-d.width+(s.width-yt.actorMargin)/2):t.to===t.from?(c=L.calculateTextDimensions(o?L.wrapLabel(t.message,x.getMax(yt.width,s.width),Et(yt)):t.message,Et(yt)),d.width=o?x.getMax(yt.width,s.width):x.getMax(s.width,yt.width,c.width+2*yt.noteMargin),d.startx=i+(s.width-d.width)/2):(d.width=Math.abs(i+s.width/2-(n+r.width/2))+yt.actorMargin,d.startx=i<n?i+s.width/2-yt.actorMargin/2:n+r.width/2-yt.actorMargin/2),o&&(d.message=L.wrapLabel(t.message,d.width-2*yt.wrapPadding,Et(yt))),h.debug(`NM:[${d.startx},${d.stopx},${d.starty},${d.stopy}:${d.width},${d.height}=${t.message}]`),d},"buildNoteModel"),Bt=o(function(t,e,a){if(![a.db.LINETYPE.SOLID_OPEN,a.db.LINETYPE.DOTTED_OPEN,a.db.LINETYPE.SOLID,a.db.LINETYPE.DOTTED,a.db.LINETYPE.SOLID_CROSS,a.db.LINETYPE.DOTTED_CROSS,a.db.LINETYPE.SOLID_POINT,a.db.LINETYPE.DOTTED_POINT,a.db.LINETYPE.BIDIRECTIONAL_SOLID,a.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(t.type))return{};const[s,r]=kt(t.from,e),[i,n]=kt(t.to,e),c=s<=i;let l=c?r:s,d=c?i:n;const h=Math.abs(i-n)>2,p=o(t=>c?-t:t,"adjustValue");t.from===t.to?d=l:(t.activate&&!h&&(d+=p(yt.activationWidth/2-1)),[a.db.LINETYPE.SOLID_OPEN,a.db.LINETYPE.DOTTED_OPEN].includes(t.type)||(d+=p(3)),[a.db.LINETYPE.BIDIRECTIONAL_SOLID,a.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(t.type)&&(l-=p(3)));const g=[s,r,i,n],u=Math.abs(l-d);t.wrap&&t.message&&(t.message=L.wrapLabel(t.message,x.getMax(u+2*yt.wrapPadding,yt.width),Tt(yt)));const y=L.calculateTextDimensions(t.message,Tt(yt));return{width:x.getMax(t.wrap?0:y.width+2*yt.wrapPadding,u+2*yt.wrapPadding,yt.width),height:0,startx:l,stopx:d,starty:0,stopy:0,message:t.message,type:t.type,wrap:t.wrap,fromBounds:Math.min.apply(null,g),toBounds:Math.max.apply(null,g)}},"buildMessageModel"),Yt=o(async function(t,e,a,s){const r={},i=[];let n,o,c;for(const l of t){switch(l.type){case s.db.LINETYPE.LOOP_START:case s.db.LINETYPE.ALT_START:case s.db.LINETYPE.OPT_START:case s.db.LINETYPE.PAR_START:case s.db.LINETYPE.PAR_OVER_START:case s.db.LINETYPE.CRITICAL_START:case s.db.LINETYPE.BREAK_START:i.push({id:l.id,msg:l.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case s.db.LINETYPE.ALT_ELSE:case s.db.LINETYPE.PAR_AND:case s.db.LINETYPE.CRITICAL_OPTION:l.message&&(n=i.pop(),r[n.id]=n,r[l.id]=n,i.push(n));break;case s.db.LINETYPE.LOOP_END:case s.db.LINETYPE.ALT_END:case s.db.LINETYPE.OPT_END:case s.db.LINETYPE.PAR_END:case s.db.LINETYPE.CRITICAL_END:case s.db.LINETYPE.BREAK_END:n=i.pop(),r[n.id]=n;break;case s.db.LINETYPE.ACTIVE_START:{const t=e.get(l.from?l.from:l.to.actor),a=At(l.from?l.from:l.to.actor).length,s=t.x+t.width/2+(a-1)*yt.activationWidth/2,r={startx:s,stopx:s+yt.activationWidth,actor:l.from,enabled:!0};mt.activations.push(r)}break;case s.db.LINETYPE.ACTIVE_END:{const t=mt.activations.map(t=>t.actor).lastIndexOf(l.from);mt.activations.splice(t,1).splice(0,1)}}void 0!==l.placement?(o=await Ct(l,e,s),l.noteModel=o,i.forEach(t=>{n=t,n.from=x.getMin(n.from,o.startx),n.to=x.getMax(n.to,o.startx+o.width),n.width=x.getMax(n.width,Math.abs(n.from-n.to))-yt.labelBoxWidth})):(c=Bt(l,e,s),l.msgModel=c,c.startx&&c.stopx&&i.length>0&&i.forEach(t=>{if(n=t,c.startx===c.stopx){const t=e.get(l.from),a=e.get(l.to);n.from=x.getMin(t.x-c.width/2,t.x-t.width/2,n.from),n.to=x.getMax(a.x+c.width/2,a.x+t.width/2,n.to),n.width=x.getMax(n.width,Math.abs(n.to-n.from))-yt.labelBoxWidth}else n.from=x.getMin(c.startx,n.from),n.to=x.getMax(c.stopx,n.to),n.width=x.getMax(n.width,c.width)-yt.labelBoxWidth}))}return mt.activations=[],h.debug("Loop type widths:",r),r},"calculateLoopBounds"),$t={bounds:mt,drawActors:Pt,drawActorsPopup:_t,setConf:Nt,draw:Ot},Vt={parser:S,get db(){return new B},renderer:$t,styles:Y,init:o(t=>{t.sequence||(t.sequence={}),t.wrap&&(t.sequence.wrap=t.wrap,c({sequence:{wrap:t.wrap}}))},"init")};export{Vt as diagram};

import{s as r,c as s,a,C as e}from"./chunk-JBRWN2VN.js";import{_ as t}from"./index.js";import"./chunk-GLLZNHP4.js";import"./chunk-WVR4S24B.js";import"./chunk-NRVI72HA.js";var o={parser:a,get db(){return new e},renderer:s,styles:r,init:t(r=>{r.class||(r.class={}),r.class.arrowMarkerAbsolute=r.arrowMarkerAbsolute},"init")};export{o as diagram};

import{g as t}from"./chunk-GLLZNHP4.js";import{g as e}from"./chunk-WVR4S24B.js";import{s}from"./chunk-NRVI72HA.js";import{_ as i,l as n,c as a,o as r,r as u,u as l,d as o,b as c,a as h,s as p,g as d,p as A,q as y,k as C,y as m,x as g,i as b,Q as E}from"./index.js";var T=function(){var t=i(function(t,e,s,i){for(s=s||{},i=t.length;i--;s[t[i]]=e);return s},"o"),e=[1,18],s=[1,19],n=[1,20],a=[1,41],r=[1,42],u=[1,26],l=[1,24],o=[1,25],c=[1,32],h=[1,33],p=[1,34],d=[1,45],A=[1,35],y=[1,36],C=[1,37],m=[1,38],g=[1,27],b=[1,28],E=[1,29],T=[1,30],k=[1,31],f=[1,44],F=[1,46],D=[1,43],B=[1,47],_=[1,9],S=[1,8,9],N=[1,58],L=[1,59],$=[1,60],x=[1,61],I=[1,62],O=[1,63],v=[1,64],w=[1,8,9,41],R=[1,76],P=[1,8,9,12,13,22,39,41,44,66,67,68,69,70,71,72,77,79],M=[1,8,9,12,13,18,20,22,39,41,44,48,58,66,67,68,69,70,71,72,77,79,84,99,101,102],G=[13,58,84,99,101,102],U=[13,58,71,72,84,99,101,102],z=[13,58,66,67,68,69,70,84,99,101,102],K=[1,99],Y=[1,116],j=[1,108],W=[1,114],Q=[1,109],X=[1,110],H=[1,111],q=[1,112],V=[1,113],J=[1,115],Z=[22,58,59,80,84,85,86,87,88,89],tt=[1,8,9,39,41,44],et=[1,8,9,22],st=[1,144],it=[1,8,9,59],nt=[1,8,9,22,58,59,80,84,85,86,87,88,89],at={trace:i(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,classLiteralName:17,DOT:18,className:19,GENERICTYPE:20,relationStatement:21,LABEL:22,namespaceStatement:23,classStatement:24,memberStatement:25,annotationStatement:26,clickStatement:27,styleStatement:28,cssClassStatement:29,noteStatement:30,classDefStatement:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,namespaceIdentifier:38,STRUCT_START:39,classStatements:40,STRUCT_STOP:41,NAMESPACE:42,classIdentifier:43,STYLE_SEPARATOR:44,members:45,CLASS:46,ANNOTATION_START:47,ANNOTATION_END:48,MEMBER:49,SEPARATOR:50,relation:51,NOTE_FOR:52,noteText:53,NOTE:54,CLASSDEF:55,classList:56,stylesOpt:57,ALPHA:58,COMMA:59,direction_tb:60,direction_bt:61,direction_rl:62,direction_lr:63,relationType:64,lineType:65,AGGREGATION:66,EXTENSION:67,COMPOSITION:68,DEPENDENCY:69,LOLLIPOP:70,LINE:71,DOTTED_LINE:72,CALLBACK:73,LINK:74,LINK_TARGET:75,CLICK:76,CALLBACK_NAME:77,CALLBACK_ARGS:78,HREF:79,STYLE:80,CSSCLASS:81,style:82,styleComponent:83,NUM:84,COLON:85,UNIT:86,SPACE:87,BRKT:88,PCT:89,commentToken:90,textToken:91,graphCodeTokens:92,textNoTagsToken:93,TAGSTART:94,TAGEND:95,"==":96,"--":97,DEFAULT:98,MINUS:99,keywords:100,UNICODE_TEXT:101,BQUOTE_STR:102,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",18:"DOT",20:"GENERICTYPE",22:"LABEL",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",39:"STRUCT_START",41:"STRUCT_STOP",42:"NAMESPACE",44:"STYLE_SEPARATOR",46:"CLASS",47:"ANNOTATION_START",48:"ANNOTATION_END",49:"MEMBER",50:"SEPARATOR",52:"NOTE_FOR",54:"NOTE",55:"CLASSDEF",58:"ALPHA",59:"COMMA",60:"direction_tb",61:"direction_bt",62:"direction_rl",63:"direction_lr",66:"AGGREGATION",67:"EXTENSION",68:"COMPOSITION",69:"DEPENDENCY",70:"LOLLIPOP",71:"LINE",72:"DOTTED_LINE",73:"CALLBACK",74:"LINK",75:"LINK_TARGET",76:"CLICK",77:"CALLBACK_NAME",78:"CALLBACK_ARGS",79:"HREF",80:"STYLE",81:"CSSCLASS",84:"NUM",85:"COLON",86:"UNIT",87:"SPACE",88:"BRKT",89:"PCT",92:"graphCodeTokens",94:"TAGSTART",95:"TAGEND",96:"==",97:"--",98:"DEFAULT",99:"MINUS",100:"keywords",101:"UNICODE_TEXT",102:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,1],[15,3],[15,2],[19,1],[19,3],[19,1],[19,2],[19,2],[19,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[23,4],[23,5],[38,2],[40,1],[40,2],[40,3],[24,1],[24,3],[24,4],[24,6],[43,2],[43,3],[26,4],[45,1],[45,2],[25,1],[25,2],[25,1],[25,1],[21,3],[21,4],[21,4],[21,5],[30,3],[30,2],[31,3],[56,1],[56,3],[32,1],[32,1],[32,1],[32,1],[51,3],[51,2],[51,2],[51,1],[64,1],[64,1],[64,1],[64,1],[64,1],[65,1],[65,1],[27,3],[27,4],[27,3],[27,4],[27,4],[27,5],[27,3],[27,4],[27,4],[27,5],[27,4],[27,5],[27,5],[27,6],[28,3],[29,3],[57,1],[57,3],[82,1],[82,2],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[90,1],[90,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[93,1],[93,1],[93,1],[93,1],[16,1],[16,1],[16,1],[16,1],[17,1],[53,1]],performAction:i(function(t,e,s,i,n,a,r){var u=a.length-1;switch(n){case 8:this.$=a[u-1];break;case 9:case 10:case 13:case 15:this.$=a[u];break;case 11:case 14:this.$=a[u-2]+"."+a[u];break;case 12:case 16:case 96:this.$=a[u-1]+a[u];break;case 17:case 18:this.$=a[u-1]+"~"+a[u]+"~";break;case 19:i.addRelation(a[u]);break;case 20:a[u-1].title=i.cleanupLabel(a[u]),i.addRelation(a[u-1]);break;case 31:this.$=a[u].trim(),i.setAccTitle(this.$);break;case 32:case 33:this.$=a[u].trim(),i.setAccDescription(this.$);break;case 34:i.addClassesToNamespace(a[u-3],a[u-1]);break;case 35:i.addClassesToNamespace(a[u-4],a[u-1]);break;case 36:this.$=a[u],i.addNamespace(a[u]);break;case 37:case 47:case 60:case 93:this.$=[a[u]];break;case 38:this.$=[a[u-1]];break;case 39:a[u].unshift(a[u-2]),this.$=a[u];break;case 41:i.setCssClass(a[u-2],a[u]);break;case 42:i.addMembers(a[u-3],a[u-1]);break;case 43:i.setCssClass(a[u-5],a[u-3]),i.addMembers(a[u-5],a[u-1]);break;case 44:this.$=a[u],i.addClass(a[u]);break;case 45:this.$=a[u-1],i.addClass(a[u-1]),i.setClassLabel(a[u-1],a[u]);break;case 46:i.addAnnotation(a[u],a[u-2]);break;case 48:a[u].push(a[u-1]),this.$=a[u];break;case 49:case 51:case 52:break;case 50:i.addMember(a[u-1],i.cleanupLabel(a[u]));break;case 53:this.$={id1:a[u-2],id2:a[u],relation:a[u-1],relationTitle1:"none",relationTitle2:"none"};break;case 54:this.$={id1:a[u-3],id2:a[u],relation:a[u-1],relationTitle1:a[u-2],relationTitle2:"none"};break;case 55:this.$={id1:a[u-3],id2:a[u],relation:a[u-2],relationTitle1:"none",relationTitle2:a[u-1]};break;case 56:this.$={id1:a[u-4],id2:a[u],relation:a[u-2],relationTitle1:a[u-3],relationTitle2:a[u-1]};break;case 57:i.addNote(a[u],a[u-1]);break;case 58:i.addNote(a[u]);break;case 59:this.$=a[u-2],i.defineClass(a[u-1],a[u]);break;case 61:this.$=a[u-2].concat([a[u]]);break;case 62:i.setDirection("TB");break;case 63:i.setDirection("BT");break;case 64:i.setDirection("RL");break;case 65:i.setDirection("LR");break;case 66:this.$={type1:a[u-2],type2:a[u],lineType:a[u-1]};break;case 67:this.$={type1:"none",type2:a[u],lineType:a[u-1]};break;case 68:this.$={type1:a[u-1],type2:"none",lineType:a[u]};break;case 69:this.$={type1:"none",type2:"none",lineType:a[u]};break;case 70:this.$=i.relationType.AGGREGATION;break;case 71:this.$=i.relationType.EXTENSION;break;case 72:this.$=i.relationType.COMPOSITION;break;case 73:this.$=i.relationType.DEPENDENCY;break;case 74:this.$=i.relationType.LOLLIPOP;break;case 75:this.$=i.lineType.LINE;break;case 76:this.$=i.lineType.DOTTED_LINE;break;case 77:case 83:this.$=a[u-2],i.setClickEvent(a[u-1],a[u]);break;case 78:case 84:this.$=a[u-3],i.setClickEvent(a[u-2],a[u-1]),i.setTooltip(a[u-2],a[u]);break;case 79:this.$=a[u-2],i.setLink(a[u-1],a[u]);break;case 80:this.$=a[u-3],i.setLink(a[u-2],a[u-1],a[u]);break;case 81:this.$=a[u-3],i.setLink(a[u-2],a[u-1]),i.setTooltip(a[u-2],a[u]);break;case 82:this.$=a[u-4],i.setLink(a[u-3],a[u-2],a[u]),i.setTooltip(a[u-3],a[u-1]);break;case 85:this.$=a[u-3],i.setClickEvent(a[u-2],a[u-1],a[u]);break;case 86:this.$=a[u-4],i.setClickEvent(a[u-3],a[u-2],a[u-1]),i.setTooltip(a[u-3],a[u]);break;case 87:this.$=a[u-3],i.setLink(a[u-2],a[u]);break;case 88:this.$=a[u-4],i.setLink(a[u-3],a[u-1],a[u]);break;case 89:this.$=a[u-4],i.setLink(a[u-3],a[u-1]),i.setTooltip(a[u-3],a[u]);break;case 90:this.$=a[u-5],i.setLink(a[u-4],a[u-2],a[u]),i.setTooltip(a[u-4],a[u-1]);break;case 91:this.$=a[u-2],i.setCssStyle(a[u-1],a[u]);break;case 92:i.setCssClass(a[u-1],a[u]);break;case 94:a[u-2].push(a[u]),this.$=a[u-2]}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:39,17:40,19:21,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:e,35:s,37:n,38:22,42:a,43:23,46:r,47:u,49:l,50:o,52:c,54:h,55:p,58:d,60:A,61:y,62:C,63:m,73:g,74:b,76:E,80:T,81:k,84:f,99:F,101:D,102:B},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},t(_,[2,5],{8:[1,48]}),{8:[1,49]},t(S,[2,19],{22:[1,50]}),t(S,[2,21]),t(S,[2,22]),t(S,[2,23]),t(S,[2,24]),t(S,[2,25]),t(S,[2,26]),t(S,[2,27]),t(S,[2,28]),t(S,[2,29]),t(S,[2,30]),{34:[1,51]},{36:[1,52]},t(S,[2,33]),t(S,[2,49],{51:53,64:56,65:57,13:[1,54],22:[1,55],66:N,67:L,68:$,69:x,70:I,71:O,72:v}),{39:[1,65]},t(w,[2,40],{39:[1,67],44:[1,66]}),t(S,[2,51]),t(S,[2,52]),{16:68,58:d,84:f,99:F,101:D},{16:39,17:40,19:69,58:d,84:f,99:F,101:D,102:B},{16:39,17:40,19:70,58:d,84:f,99:F,101:D,102:B},{16:39,17:40,19:71,58:d,84:f,99:F,101:D,102:B},{58:[1,72]},{13:[1,73]},{16:39,17:40,19:74,58:d,84:f,99:F,101:D,102:B},{13:R,53:75},{56:77,58:[1,78]},t(S,[2,62]),t(S,[2,63]),t(S,[2,64]),t(S,[2,65]),t(P,[2,13],{16:39,17:40,19:80,18:[1,79],20:[1,81],58:d,84:f,99:F,101:D,102:B}),t(P,[2,15],{20:[1,82]}),{15:83,16:84,17:85,58:d,84:f,99:F,101:D,102:B},{16:39,17:40,19:86,58:d,84:f,99:F,101:D,102:B},t(M,[2,119]),t(M,[2,120]),t(M,[2,121]),t(M,[2,122]),t([1,8,9,12,13,20,22,39,41,44,66,67,68,69,70,71,72,77,79],[2,123]),t(_,[2,6],{10:5,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,19:21,38:22,43:23,16:39,17:40,5:87,33:e,35:s,37:n,42:a,46:r,47:u,49:l,50:o,52:c,54:h,55:p,58:d,60:A,61:y,62:C,63:m,73:g,74:b,76:E,80:T,81:k,84:f,99:F,101:D,102:B}),{5:88,10:5,16:39,17:40,19:21,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:e,35:s,37:n,38:22,42:a,43:23,46:r,47:u,49:l,50:o,52:c,54:h,55:p,58:d,60:A,61:y,62:C,63:m,73:g,74:b,76:E,80:T,81:k,84:f,99:F,101:D,102:B},t(S,[2,20]),t(S,[2,31]),t(S,[2,32]),{13:[1,90],16:39,17:40,19:89,58:d,84:f,99:F,101:D,102:B},{51:91,64:56,65:57,66:N,67:L,68:$,69:x,70:I,71:O,72:v},t(S,[2,50]),{65:92,71:O,72:v},t(G,[2,69],{64:93,66:N,67:L,68:$,69:x,70:I}),t(U,[2,70]),t(U,[2,71]),t(U,[2,72]),t(U,[2,73]),t(U,[2,74]),t(z,[2,75]),t(z,[2,76]),{8:[1,95],24:96,40:94,43:23,46:r},{16:97,58:d,84:f,99:F,101:D},{45:98,49:K},{48:[1,100]},{13:[1,101]},{13:[1,102]},{77:[1,103],79:[1,104]},{22:Y,57:105,58:j,80:W,82:106,83:107,84:Q,85:X,86:H,87:q,88:V,89:J},{58:[1,117]},{13:R,53:118},t(S,[2,58]),t(S,[2,124]),{22:Y,57:119,58:j,59:[1,120],80:W,82:106,83:107,84:Q,85:X,86:H,87:q,88:V,89:J},t(Z,[2,60]),{16:39,17:40,19:121,58:d,84:f,99:F,101:D,102:B},t(P,[2,16]),t(P,[2,17]),t(P,[2,18]),{39:[2,36]},{15:123,16:84,17:85,18:[1,122],39:[2,9],58:d,84:f,99:F,101:D,102:B},{39:[2,10]},t(tt,[2,44],{11:124,12:[1,125]}),t(_,[2,7]),{9:[1,126]},t(et,[2,53]),{16:39,17:40,19:127,58:d,84:f,99:F,101:D,102:B},{13:[1,129],16:39,17:40,19:128,58:d,84:f,99:F,101:D,102:B},t(G,[2,68],{64:130,66:N,67:L,68:$,69:x,70:I}),t(G,[2,67]),{41:[1,131]},{24:96,40:132,43:23,46:r},{8:[1,133],41:[2,37]},t(w,[2,41],{39:[1,134]}),{41:[1,135]},{41:[2,47],45:136,49:K},{16:39,17:40,19:137,58:d,84:f,99:F,101:D,102:B},t(S,[2,77],{13:[1,138]}),t(S,[2,79],{13:[1,140],75:[1,139]}),t(S,[2,83],{13:[1,141],78:[1,142]}),{13:[1,143]},t(S,[2,91],{59:st}),t(it,[2,93],{83:145,22:Y,58:j,80:W,84:Q,85:X,86:H,87:q,88:V,89:J}),t(nt,[2,95]),t(nt,[2,97]),t(nt,[2,98]),t(nt,[2,99]),t(nt,[2,100]),t(nt,[2,101]),t(nt,[2,102]),t(nt,[2,103]),t(nt,[2,104]),t(nt,[2,105]),t(S,[2,92]),t(S,[2,57]),t(S,[2,59],{59:st}),{58:[1,146]},t(P,[2,14]),{15:147,16:84,17:85,58:d,84:f,99:F,101:D,102:B},{39:[2,12]},t(tt,[2,45]),{13:[1,148]},{1:[2,4]},t(et,[2,55]),t(et,[2,54]),{16:39,17:40,19:149,58:d,84:f,99:F,101:D,102:B},t(G,[2,66]),t(S,[2,34]),{41:[1,150]},{24:96,40:151,41:[2,38],43:23,46:r},{45:152,49:K},t(w,[2,42]),{41:[2,48]},t(S,[2,46]),t(S,[2,78]),t(S,[2,80]),t(S,[2,81],{75:[1,153]}),t(S,[2,84]),t(S,[2,85],{13:[1,154]}),t(S,[2,87],{13:[1,156],75:[1,155]}),{22:Y,58:j,80:W,82:157,83:107,84:Q,85:X,86:H,87:q,88:V,89:J},t(nt,[2,96]),t(Z,[2,61]),{39:[2,11]},{14:[1,158]},t(et,[2,56]),t(S,[2,35]),{41:[2,39]},{41:[1,159]},t(S,[2,82]),t(S,[2,86]),t(S,[2,88]),t(S,[2,89],{75:[1,160]}),t(it,[2,94],{83:145,22:Y,58:j,80:W,84:Q,85:X,86:H,87:q,88:V,89:J}),t(tt,[2,8]),t(w,[2,43]),t(S,[2,90])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],83:[2,36],85:[2,10],123:[2,12],126:[2,4],136:[2,48],147:[2,11],151:[2,39]},parseError:i(function(t,e){if(!e.recoverable){var s=new Error(t);throw s.hash=e,s}this.trace(t)},"parseError"),parse:i(function(t){var e=this,s=[0],n=[],a=[null],r=[],u=this.table,l="",o=0,c=0,h=r.slice.call(arguments,1),p=Object.create(this.lexer),d={yy:{}};for(var A in this.yy)Object.prototype.hasOwnProperty.call(this.yy,A)&&(d.yy[A]=this.yy[A]);p.setInput(t,d.yy),d.yy.lexer=p,d.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;r.push(y);var C=p.options&&p.options.ranges;function m(){var t;return"number"!=typeof(t=n.pop()||p.lex()||1)&&(t instanceof Array&&(t=(n=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,i(function(t){s.length=s.length-2*t,a.length=a.length-t,r.length=r.length-t},"popStack"),i(m,"lex");for(var g,b,E,T,k,f,F,D,B={};;){if(b=s[s.length-1],this.defaultActions[b]?E=this.defaultActions[b]:(null==g&&(g=m()),E=u[b]&&u[b][g]),void 0===E||!E.length||!E[0]){var _="";for(k in D=[],u[b])this.terminals_[k]&&k>2&&D.push("'"+this.terminals_[k]+"'");_=p.showPosition?"Parse error on line "+(o+1)+":\n"+p.showPosition()+"\nExpecting "+D.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(o+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(_,{text:p.match,token:this.terminals_[g]||g,line:p.yylineno,loc:y,expected:D})}if(E[0]instanceof Array&&E.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+g);switch(E[0]){case 1:s.push(g),a.push(p.yytext),r.push(p.yylloc),s.push(E[1]),g=null,c=p.yyleng,l=p.yytext,o=p.yylineno,y=p.yylloc;break;case 2:if(f=this.productions_[E[1]][1],B.$=a[a.length-f],B._$={first_line:r[r.length-(f||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(f||1)].first_column,last_column:r[r.length-1].last_column},C&&(B._$.range=[r[r.length-(f||1)].range[0],r[r.length-1].range[1]]),void 0!==(T=this.performAction.apply(B,[l,c,o,d.yy,E[1],a,r].concat(h))))return T;f&&(s=s.slice(0,-1*f*2),a=a.slice(0,-1*f),r=r.slice(0,-1*f)),s.push(this.productions_[E[1]][0]),a.push(B.$),r.push(B._$),F=u[s[s.length-2]][s[s.length-1]],s.push(F);break;case 3:return!0}}return!0},"parse")},rt=function(){return{EOF:1,parseError:i(function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},"parseError"),setInput:i(function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:i(function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},"input"),unput:i(function(t){var e=t.length,s=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),s.length-1&&(this.yylineno-=s.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:s?(s.length===i.length?this.yylloc.first_column:0)+i[i.length-s.length].length-s[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},"unput"),more:i(function(){return this._more=!0,this},"more"),reject:i(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:i(function(t){this.unput(this.match.slice(t))},"less"),pastInput:i(function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:i(function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:i(function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},"showPosition"),test_match:i(function(t,e){var s,i,n;if(this.options.backtrack_lexer&&(n={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(n.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],s=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),s)return s;if(this._backtrack){for(var a in n)this[a]=n[a];return!1}return!1},"test_match"),next:i(function(){if(this.done)return this.EOF;var t,e,s,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),a=0;a<n.length;a++)if((s=this._input.match(this.rules[n[a]]))&&(!e||s[0].length>e[0].length)){if(e=s,i=a,this.options.backtrack_lexer){if(!1!==(t=this.test_match(s,n[a])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,n[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:i(function(){var t=this.next();return t||this.lex()},"lex"),begin:i(function(t){this.conditionStack.push(t)},"begin"),popState:i(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:i(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:i(function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},"topState"),pushState:i(function(t){this.begin(t)},"pushState"),stateStackSize:i(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:i(function(t,e,s,i){switch(s){case 0:return 60;case 1:return 61;case 2:return 62;case 3:return 63;case 4:case 5:case 14:case 31:case 36:case 40:case 47:break;case 6:return this.begin("acc_title"),33;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),35;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 19:case 22:case 24:case 58:case 61:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:case 35:return 8;case 15:case 16:return 7;case 17:case 37:case 45:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 77;case 23:return 78;case 25:return"STR";case 26:this.begin("string");break;case 27:return 80;case 28:return 55;case 29:return this.begin("namespace"),42;case 30:case 39:return this.popState(),8;case 32:return this.begin("namespace-body"),39;case 33:case 43:return this.popState(),41;case 34:case 44:return"EOF_IN_STRUCT";case 38:return this.begin("class"),46;case 41:return this.popState(),this.popState(),41;case 42:return this.begin("class-body"),39;case 46:return"OPEN_IN_STRUCT";case 48:return"MEMBER";case 49:return 81;case 50:return 73;case 51:return 74;case 52:return 76;case 53:return 52;case 54:return 54;case 55:return 47;case 56:return 48;case 57:return 79;case 59:return"GENERICTYPE";case 60:this.begin("generic");break;case 62:return"BQUOTE_STR";case 63:this.begin("bqstring");break;case 64:case 65:case 66:case 67:return 75;case 68:case 69:return 67;case 70:case 71:return 69;case 72:return 68;case 73:return 66;case 74:return 70;case 75:return 71;case 76:return 72;case 77:return 22;case 78:return 44;case 79:return 99;case 80:return 18;case 81:return"PLUS";case 82:return 85;case 83:return 59;case 84:case 85:return 88;case 86:return 89;case 87:case 88:return"EQUALS";case 89:return 58;case 90:return 12;case 91:return 14;case 92:return"PUNCTUATION";case 93:return 84;case 94:return 101;case 95:case 96:return 87;case 97:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:classDef\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,33,34,35,36,37,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},namespace:{rules:[26,29,30,31,32,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},"class-body":{rules:[26,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},class:{rules:[26,39,40,41,42,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr:{rules:[9,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_title:{rules:[7,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_args:{rules:[22,23,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_name:{rules:[19,20,21,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},href:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},struct:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},generic:{rules:[26,49,50,51,52,53,54,55,56,57,58,59,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},bqstring:{rules:[26,49,50,51,52,53,54,55,56,57,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},string:{rules:[24,25,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,29,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97],inclusive:!0}}}}();function ut(){this.yy={}}return at.lexer=rt,i(ut,"Parser"),ut.prototype=at,at.Parser=ut,new ut}();T.parser=T;var k=T,f=["#","+","~","-",""],F=class{static{i(this,"ClassMember")}constructor(t,e){this.memberType=e,this.visibility="",this.classifier="",this.text="";const s=b(t,a());this.parseMember(s)}getDisplayDetails(){let t=this.visibility+E(this.id);"method"===this.memberType&&(t+=`(${E(this.parameters.trim())})`,this.returnType&&(t+=" : "+E(this.returnType))),t=t.trim();return{displayText:t,cssStyle:this.parseClassifier()}}parseMember(t){let e="";if("method"===this.memberType){const s=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(t);if(s){const t=s[1]?s[1].trim():"";if(f.includes(t)&&(this.visibility=t),this.id=s[2],this.parameters=s[3]?s[3].trim():"",e=s[4]?s[4].trim():"",this.returnType=s[5]?s[5].trim():"",""===e){const t=this.returnType.substring(this.returnType.length-1);/[$*]/.exec(t)&&(e=t,this.returnType=this.returnType.substring(0,this.returnType.length-1))}}}else{const s=t.length,i=t.substring(0,1),n=t.substring(s-1);f.includes(i)&&(this.visibility=i),/[$*]/.exec(n)&&(e=n),this.id=t.substring(""===this.visibility?0:1,""===e?s:s-1)}this.classifier=e,this.id=this.id.startsWith(" ")?" "+this.id.trim():this.id.trim();const s=`${this.visibility?"\\"+this.visibility:""}${E(this.id)}${"method"===this.memberType?`(${E(this.parameters)})${this.returnType?" : "+E(this.returnType):""}`:""}`;this.text=s.replaceAll("<","&lt;").replaceAll(">","&gt;"),this.text.startsWith("\\&lt;")&&(this.text=this.text.replace("\\&lt;","~"))}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}},D="classId-",B=0,_=i(t=>C.sanitizeText(t,a()),"sanitizeText"),S=class{constructor(){this.relations=[],this.classes=new Map,this.styleClasses=new Map,this.notes=[],this.interfaces=[],this.namespaces=new Map,this.namespaceCounter=0,this.functions=[],this.lineType={LINE:0,DOTTED_LINE:1},this.relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},this.setupToolTips=i(t=>{let e=o(".mermaidTooltip");null===(e._groups||e)[0][0]&&(e=o("body").append("div").attr("class","mermaidTooltip").style("opacity",0));o(t).select("svg").selectAll("g.node").on("mouseover",t=>{const s=o(t.currentTarget);if(null===s.attr("title"))return;const i=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(s.attr("title")).style("left",window.scrollX+i.left+(i.right-i.left)/2+"px").style("top",window.scrollY+i.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),s.classed("hover",!0)}).on("mouseout",t=>{e.transition().duration(500).style("opacity",0);o(t.currentTarget).classed("hover",!1)})},"setupToolTips"),this.direction="TB",this.setAccTitle=c,this.getAccTitle=h,this.setAccDescription=p,this.getAccDescription=d,this.setDiagramTitle=A,this.getDiagramTitle=y,this.getConfig=i(()=>a().class,"getConfig"),this.functions.push(this.setupToolTips.bind(this)),this.clear(),this.addRelation=this.addRelation.bind(this),this.addClassesToNamespace=this.addClassesToNamespace.bind(this),this.addNamespace=this.addNamespace.bind(this),this.setCssClass=this.setCssClass.bind(this),this.addMembers=this.addMembers.bind(this),this.addClass=this.addClass.bind(this),this.setClassLabel=this.setClassLabel.bind(this),this.addAnnotation=this.addAnnotation.bind(this),this.addMember=this.addMember.bind(this),this.cleanupLabel=this.cleanupLabel.bind(this),this.addNote=this.addNote.bind(this),this.defineClass=this.defineClass.bind(this),this.setDirection=this.setDirection.bind(this),this.setLink=this.setLink.bind(this),this.bindFunctions=this.bindFunctions.bind(this),this.clear=this.clear.bind(this),this.setTooltip=this.setTooltip.bind(this),this.setClickEvent=this.setClickEvent.bind(this),this.setCssStyle=this.setCssStyle.bind(this)}static{i(this,"ClassDB")}splitClassNameAndType(t){const e=C.sanitizeText(t,a());let s="",i=e;if(e.indexOf("~")>0){const t=e.split("~");i=_(t[0]),s=_(t[1])}return{className:i,type:s}}setClassLabel(t,e){const s=C.sanitizeText(t,a());e&&(e=_(e));const{className:i}=this.splitClassNameAndType(s);this.classes.get(i).label=e,this.classes.get(i).text=`${e}${this.classes.get(i).type?`<${this.classes.get(i).type}>`:""}`}addClass(t){const e=C.sanitizeText(t,a()),{className:s,type:i}=this.splitClassNameAndType(e);if(this.classes.has(s))return;const n=C.sanitizeText(s,a());this.classes.set(n,{id:n,type:i,label:n,text:`${n}${i?`&lt;${i}&gt;`:""}`,shape:"classBox",cssClasses:"default",methods:[],members:[],annotations:[],styles:[],domId:D+n+"-"+B}),B++}addInterface(t,e){const s={id:`interface${this.interfaces.length}`,label:t,classId:e};this.interfaces.push(s)}lookUpDomId(t){const e=C.sanitizeText(t,a());if(this.classes.has(e))return this.classes.get(e).domId;throw new Error("Class not found: "+e)}clear(){this.relations=[],this.classes=new Map,this.notes=[],this.interfaces=[],this.functions=[],this.functions.push(this.setupToolTips.bind(this)),this.namespaces=new Map,this.namespaceCounter=0,this.direction="TB",m()}getClass(t){return this.classes.get(t)}getClasses(){return this.classes}getRelations(){return this.relations}getNotes(){return this.notes}addRelation(t){n.debug("Adding relation: "+JSON.stringify(t));const e=[this.relationType.LOLLIPOP,this.relationType.AGGREGATION,this.relationType.COMPOSITION,this.relationType.DEPENDENCY,this.relationType.EXTENSION];t.relation.type1!==this.relationType.LOLLIPOP||e.includes(t.relation.type2)?t.relation.type2!==this.relationType.LOLLIPOP||e.includes(t.relation.type1)?(this.addClass(t.id1),this.addClass(t.id2)):(this.addClass(t.id1),this.addInterface(t.id2,t.id1),t.id2="interface"+(this.interfaces.length-1)):(this.addClass(t.id2),this.addInterface(t.id1,t.id2),t.id1="interface"+(this.interfaces.length-1)),t.id1=this.splitClassNameAndType(t.id1).className,t.id2=this.splitClassNameAndType(t.id2).className,t.relationTitle1=C.sanitizeText(t.relationTitle1.trim(),a()),t.relationTitle2=C.sanitizeText(t.relationTitle2.trim(),a()),this.relations.push(t)}addAnnotation(t,e){const s=this.splitClassNameAndType(t).className;this.classes.get(s).annotations.push(e)}addMember(t,e){this.addClass(t);const s=this.splitClassNameAndType(t).className,i=this.classes.get(s);if("string"==typeof e){const t=e.trim();t.startsWith("<<")&&t.endsWith(">>")?i.annotations.push(_(t.substring(2,t.length-2))):t.indexOf(")")>0?i.methods.push(new F(t,"method")):t&&i.members.push(new F(t,"attribute"))}}addMembers(t,e){Array.isArray(e)&&(e.reverse(),e.forEach(e=>this.addMember(t,e)))}addNote(t,e){const s={id:`note${this.notes.length}`,class:e,text:t};this.notes.push(s)}cleanupLabel(t){return t.startsWith(":")&&(t=t.substring(1)),_(t.trim())}setCssClass(t,e){t.split(",").forEach(t=>{let s=t;/\d/.exec(t[0])&&(s=D+s);const i=this.classes.get(s);i&&(i.cssClasses+=" "+e)})}defineClass(t,e){for(const s of t){let t=this.styleClasses.get(s);void 0===t&&(t={id:s,styles:[],textStyles:[]},this.styleClasses.set(s,t)),e&&e.forEach(e=>{if(/color/.exec(e)){const s=e.replace("fill","bgFill");t.textStyles.push(s)}t.styles.push(e)}),this.classes.forEach(t=>{t.cssClasses.includes(s)&&t.styles.push(...e.flatMap(t=>t.split(",")))})}}setTooltip(t,e){t.split(",").forEach(t=>{void 0!==e&&(this.classes.get(t).tooltip=_(e))})}getTooltip(t,e){return e&&this.namespaces.has(e)?this.namespaces.get(e).classes.get(t).tooltip:this.classes.get(t).tooltip}setLink(t,e,s){const i=a();t.split(",").forEach(t=>{let n=t;/\d/.exec(t[0])&&(n=D+n);const a=this.classes.get(n);a&&(a.link=l.formatUrl(e,i),"sandbox"===i.securityLevel?a.linkTarget="_top":a.linkTarget="string"==typeof s?_(s):"_blank")}),this.setCssClass(t,"clickable")}setClickEvent(t,e,s){t.split(",").forEach(t=>{this.setClickFunc(t,e,s),this.classes.get(t).haveCallback=!0}),this.setCssClass(t,"clickable")}setClickFunc(t,e,s){const i=C.sanitizeText(t,a());if("loose"!==a().securityLevel)return;if(void 0===e)return;const n=i;if(this.classes.has(n)){const t=this.lookUpDomId(n);let i=[];if("string"==typeof s){i=s.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let t=0;t<i.length;t++){let e=i[t].trim();e.startsWith('"')&&e.endsWith('"')&&(e=e.substr(1,e.length-2)),i[t]=e}}0===i.length&&i.push(t),this.functions.push(()=>{const s=document.querySelector(`[id="${t}"]`);null!==s&&s.addEventListener("click",()=>{l.runFunc(e,...i)},!1)})}}bindFunctions(t){this.functions.forEach(e=>{e(t)})}getDirection(){return this.direction}setDirection(t){this.direction=t}addNamespace(t){this.namespaces.has(t)||(this.namespaces.set(t,{id:t,classes:new Map,children:{},domId:D+t+"-"+this.namespaceCounter}),this.namespaceCounter++)}getNamespace(t){return this.namespaces.get(t)}getNamespaces(){return this.namespaces}addClassesToNamespace(t,e){if(this.namespaces.has(t))for(const s of e){const{className:e}=this.splitClassNameAndType(s);this.classes.get(e).parent=t,this.namespaces.get(t).classes.set(e,this.classes.get(e))}}setCssStyle(t,e){const s=this.classes.get(t);if(e&&s)for(const i of e)i.includes(",")?s.styles.push(...i.split(",")):s.styles.push(i)}getArrowMarker(t){let e;switch(t){case 0:e="aggregation";break;case 1:e="extension";break;case 2:e="composition";break;case 3:e="dependency";break;case 4:e="lollipop";break;default:e="none"}return e}getData(){const t=[],e=[],s=a();for(const n of this.namespaces.keys()){const e=this.namespaces.get(n);if(e){const i={id:e.id,label:e.id,isGroup:!0,padding:s.class.padding??16,shape:"rect",cssStyles:["fill: none","stroke: black"],look:s.look};t.push(i)}}for(const n of this.classes.keys()){const e=this.classes.get(n);if(e){const i=e;i.parentId=e.parent,i.look=s.look,t.push(i)}}let i=0;for(const n of this.notes){i++;const a={id:n.id,label:n.text,isGroup:!1,shape:"note",padding:s.class.padding??6,cssStyles:["text-align: left","white-space: nowrap",`fill: ${s.themeVariables.noteBkgColor}`,`stroke: ${s.themeVariables.noteBorderColor}`],look:s.look};t.push(a);const r=this.classes.get(n.class)?.id??"";if(r){const t={id:`edgeNote${i}`,start:n.id,end:r,type:"normal",thickness:"normal",classes:"relation",arrowTypeStart:"none",arrowTypeEnd:"none",arrowheadStyle:"",labelStyle:[""],style:["fill: none"],pattern:"dotted",look:s.look};e.push(t)}}for(const n of this.interfaces){const e={id:n.id,label:n.label,isGroup:!1,shape:"rect",cssStyles:["opacity: 0;"],look:s.look};t.push(e)}i=0;for(const n of this.relations){i++;const t={id:g(n.id1,n.id2,{prefix:"id",counter:i}),start:n.id1,end:n.id2,type:"normal",label:n.title,labelpos:"c",thickness:"normal",classes:"relation",arrowTypeStart:this.getArrowMarker(n.relation.type1),arrowTypeEnd:this.getArrowMarker(n.relation.type2),startLabelRight:"none"===n.relationTitle1?"":n.relationTitle1,endLabelLeft:"none"===n.relationTitle2?"":n.relationTitle2,arrowheadStyle:"",labelStyle:["display: inline-block"],style:n.style||"",pattern:1==n.relation.lineType?"dashed":"solid",look:s.look};e.push(t)}return{nodes:t,edges:e,other:{},config:s,direction:this.getDirection()}}},N=i(e=>`g.classGroup text {\n  fill: ${e.nodeBorder||e.classText};\n  stroke: none;\n  font-family: ${e.fontFamily};\n  font-size: 10px;\n\n  .title {\n    font-weight: bolder;\n  }\n\n}\n\n.nodeLabel, .edgeLabel {\n  color: ${e.classText};\n}\n.edgeLabel .label rect {\n  fill: ${e.mainBkg};\n}\n.label text {\n  fill: ${e.classText};\n}\n\n.labelBkg {\n  background: ${e.mainBkg};\n}\n.edgeLabel .label span {\n  background: ${e.mainBkg};\n}\n\n.classTitle {\n  font-weight: bolder;\n}\n.node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${e.mainBkg};\n    stroke: ${e.nodeBorder};\n    stroke-width: 1px;\n  }\n\n\n.divider {\n  stroke: ${e.nodeBorder};\n  stroke-width: 1;\n}\n\ng.clickable {\n  cursor: pointer;\n}\n\ng.classGroup rect {\n  fill: ${e.mainBkg};\n  stroke: ${e.nodeBorder};\n}\n\ng.classGroup line {\n  stroke: ${e.nodeBorder};\n  stroke-width: 1;\n}\n\n.classLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ${e.mainBkg};\n  opacity: 0.5;\n}\n\n.classLabel .label {\n  fill: ${e.nodeBorder};\n  font-size: 10px;\n}\n\n.relation {\n  stroke: ${e.lineColor};\n  stroke-width: 1;\n  fill: none;\n}\n\n.dashed-line{\n  stroke-dasharray: 3;\n}\n\n.dotted-line{\n  stroke-dasharray: 1 2;\n}\n\n#compositionStart, .composition {\n  fill: ${e.lineColor} !important;\n  stroke: ${e.lineColor} !important;\n  stroke-width: 1;\n}\n\n#compositionEnd, .composition {\n  fill: ${e.lineColor} !important;\n  stroke: ${e.lineColor} !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ${e.lineColor} !important;\n  stroke: ${e.lineColor} !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ${e.lineColor} !important;\n  stroke: ${e.lineColor} !important;\n  stroke-width: 1;\n}\n\n#extensionStart, .extension {\n  fill: transparent !important;\n  stroke: ${e.lineColor} !important;\n  stroke-width: 1;\n}\n\n#extensionEnd, .extension {\n  fill: transparent !important;\n  stroke: ${e.lineColor} !important;\n  stroke-width: 1;\n}\n\n#aggregationStart, .aggregation {\n  fill: transparent !important;\n  stroke: ${e.lineColor} !important;\n  stroke-width: 1;\n}\n\n#aggregationEnd, .aggregation {\n  fill: transparent !important;\n  stroke: ${e.lineColor} !important;\n  stroke-width: 1;\n}\n\n#lollipopStart, .lollipop {\n  fill: ${e.mainBkg} !important;\n  stroke: ${e.lineColor} !important;\n  stroke-width: 1;\n}\n\n#lollipopEnd, .lollipop {\n  fill: ${e.mainBkg} !important;\n  stroke: ${e.lineColor} !important;\n  stroke-width: 1;\n}\n\n.edgeTerminals {\n  font-size: 11px;\n  line-height: initial;\n}\n\n.classTitleText {\n  text-anchor: middle;\n  font-size: 18px;\n  fill: ${e.textColor};\n}\n  ${t()}\n`,"getStyles"),L=i((t,e="TB")=>{if(!t.doc)return e;let s=e;for(const i of t.doc)"dir"===i.stmt&&(s=i.value);return s},"getDir"),$={getClasses:i(function(t,e){return e.db.getClasses()},"getClasses"),draw:i(async function(t,i,o,c){n.info("REF0:"),n.info("Drawing class diagram (v3)",i);const{securityLevel:h,state:p,layout:d}=a(),A=c.db.getData(),y=e(i,h);A.type=c.type,A.layoutAlgorithm=r(d),A.nodeSpacing=p?.nodeSpacing||50,A.rankSpacing=p?.rankSpacing||50,A.markers=["aggregation","extension","composition","dependency","lollipop"],A.diagramId=i,await u(A,y);l.insertTitle(y,"classDiagramTitleText",p?.titleTopMargin??25,c.db.getDiagramTitle()),s(y,8,"classDiagram",p?.useMaxWidth??!0)},"draw"),getDir:L};export{S as C,k as a,$ as c,N as s};

import{s as r,c as s,a,C as e}from"./chunk-JBRWN2VN.js";import{_ as t}from"./index.js";import"./chunk-GLLZNHP4.js";import"./chunk-WVR4S24B.js";import"./chunk-NRVI72HA.js";var o={parser:a,get db(){return new e},renderer:s,styles:r,init:t(r=>{r.class||(r.class={}),r.class.arrowMarkerAbsolute=r.arrowMarkerAbsolute},"init")};export{o as diagram};

import{s as t,a as e,S as a}from"./chunk-LXBSTHXV.js";import{_ as i,c as r,d as n,l as d,e as s,k as o,R as g,S as p,O as h,u as c}from"./index.js";import{G as l}from"./graph.js";import{l as x}from"./layout.js";import"./chunk-WVR4S24B.js";import"./chunk-NRVI72HA.js";import"./_baseUniq.js";import"./_basePickBy.js";var u,f=i(t=>t.append("circle").attr("class","start-state").attr("r",r().state.sizeUnit).attr("cx",r().state.padding+r().state.sizeUnit).attr("cy",r().state.padding+r().state.sizeUnit),"drawStartState"),y=i(t=>t.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",r().state.textHeight).attr("class","divider").attr("x2",2*r().state.textHeight).attr("y1",0).attr("y2",0),"drawDivider"),w=i((t,e)=>{const a=t.append("text").attr("x",2*r().state.padding).attr("y",r().state.textHeight+2*r().state.padding).attr("font-size",r().state.fontSize).attr("class","state-title").text(e.id),i=a.node().getBBox();return t.insert("rect",":first-child").attr("x",r().state.padding).attr("y",r().state.padding).attr("width",i.width+2*r().state.padding).attr("height",i.height+2*r().state.padding).attr("rx",r().state.radius),a},"drawSimpleState"),m=i((t,e)=>{const a=i(function(t,e,a){const i=t.append("tspan").attr("x",2*r().state.padding).text(e);a||i.attr("dy",r().state.textHeight)},"addTspan"),n=t.append("text").attr("x",2*r().state.padding).attr("y",r().state.textHeight+1.3*r().state.padding).attr("font-size",r().state.fontSize).attr("class","state-title").text(e.descriptions[0]).node().getBBox(),d=n.height,s=t.append("text").attr("x",r().state.padding).attr("y",d+.4*r().state.padding+r().state.dividerMargin+r().state.textHeight).attr("class","state-description");let o=!0,g=!0;e.descriptions.forEach(function(t){o||(a(s,t,g),g=!1),o=!1});const p=t.append("line").attr("x1",r().state.padding).attr("y1",r().state.padding+d+r().state.dividerMargin/2).attr("y2",r().state.padding+d+r().state.dividerMargin/2).attr("class","descr-divider"),h=s.node().getBBox(),c=Math.max(h.width,n.width);return p.attr("x2",c+3*r().state.padding),t.insert("rect",":first-child").attr("x",r().state.padding).attr("y",r().state.padding).attr("width",c+2*r().state.padding).attr("height",h.height+d+2*r().state.padding).attr("rx",r().state.radius),t},"drawDescrState"),b=i((t,e,a)=>{const i=r().state.padding,n=2*r().state.padding,d=t.node().getBBox(),s=d.width,o=d.x,g=t.append("text").attr("x",0).attr("y",r().state.titleShift).attr("font-size",r().state.fontSize).attr("class","state-title").text(e.id),p=g.node().getBBox().width+n;let h,c=Math.max(p,s);c===s&&(c+=n);const l=t.node().getBBox();e.doc,h=o-i,p>s&&(h=(s-c)/2+i),Math.abs(o-l.x)<i&&p>s&&(h=o-(p-s)/2);const x=1-r().state.textHeight;return t.insert("rect",":first-child").attr("x",h).attr("y",x).attr("class",a?"alt-composit":"composit").attr("width",c).attr("height",l.height+r().state.textHeight+r().state.titleShift+1).attr("rx","0"),g.attr("x",h+i),p<=s&&g.attr("x",o+(c-n)/2-p/2+i),t.insert("rect",":first-child").attr("x",h).attr("y",r().state.titleShift-r().state.textHeight-r().state.padding).attr("width",c).attr("height",3*r().state.textHeight).attr("rx",r().state.radius),t.insert("rect",":first-child").attr("x",h).attr("y",r().state.titleShift-r().state.textHeight-r().state.padding).attr("width",c).attr("height",l.height+3+2*r().state.textHeight).attr("rx",r().state.radius),t},"addTitleAndBox"),B=i(t=>(t.append("circle").attr("class","end-state-outer").attr("r",r().state.sizeUnit+r().state.miniPadding).attr("cx",r().state.padding+r().state.sizeUnit+r().state.miniPadding).attr("cy",r().state.padding+r().state.sizeUnit+r().state.miniPadding),t.append("circle").attr("class","end-state-inner").attr("r",r().state.sizeUnit).attr("cx",r().state.padding+r().state.sizeUnit+2).attr("cy",r().state.padding+r().state.sizeUnit+2)),"drawEndState"),k=i((t,e)=>{let a=r().state.forkWidth,i=r().state.forkHeight;if(e.parentId){let t=a;a=i,i=t}return t.append("rect").style("stroke","black").style("fill","black").attr("width",a).attr("height",i).attr("x",r().state.padding).attr("y",r().state.padding)},"drawForkJoinState"),S=i((t,e,a,i)=>{let n=0;const d=i.append("text");d.style("text-anchor","start"),d.attr("class","noteText");let s=t.replace(/\r\n/g,"<br/>");s=s.replace(/\n/g,"<br/>");const g=s.split(o.lineBreakRegex);let p=1.25*r().state.noteMargin;for(const o of g){const t=o.trim();if(t.length>0){const i=d.append("tspan");if(i.text(t),0===p){p+=i.node().getBBox().height}n+=p,i.attr("x",e+r().state.noteMargin),i.attr("y",a+n+1.25*r().state.noteMargin)}}return{textWidth:d.node().getBBox().width,textHeight:n}},"_drawLongText"),N=i((t,e)=>{e.attr("class","state-note");const a=e.append("rect").attr("x",0).attr("y",r().state.padding),i=e.append("g"),{textWidth:n,textHeight:d}=S(t,0,0,i);return a.attr("height",d+2*r().state.noteMargin),a.attr("width",n+2*r().state.noteMargin),a},"drawNote"),E=i(function(t,e){const a=e.id,i={id:a,label:e.id,width:0,height:0},n=t.append("g").attr("id",a).attr("class","stateGroup");"start"===e.type&&f(n),"end"===e.type&&B(n),"fork"!==e.type&&"join"!==e.type||k(n,e),"note"===e.type&&N(e.note.text,n),"divider"===e.type&&y(n),"default"===e.type&&0===e.descriptions.length&&w(n,e),"default"===e.type&&e.descriptions.length>0&&m(n,e);const d=n.node().getBBox();return i.width=d.width+2*r().state.padding,i.height=d.height+2*r().state.padding,i},"drawState"),M=0,v=i(function(t,e,n){const s=i(function(t){switch(t){case a.relationType.AGGREGATION:return"aggregation";case a.relationType.EXTENSION:return"extension";case a.relationType.COMPOSITION:return"composition";case a.relationType.DEPENDENCY:return"dependency"}},"getRelationType");e.points=e.points.filter(t=>!Number.isNaN(t.y));const l=e.points,x=g().x(function(t){return t.x}).y(function(t){return t.y}).curve(p),u=t.append("path").attr("d",x(l)).attr("id","edge"+M).attr("class","transition");let f="";if(r().state.arrowMarkerAbsolute&&(f=h(!0)),u.attr("marker-end","url("+f+"#"+s(a.relationType.DEPENDENCY)+"End)"),void 0!==n.title){const a=t.append("g").attr("class","stateLabel"),{x:i,y:s}=c.calcLabelPosition(e.points),g=o.getRows(n.title);let p=0;const h=[];let l=0,x=0;for(let t=0;t<=g.length;t++){const e=a.append("text").attr("text-anchor","middle").text(g[t]).attr("x",i).attr("y",s+p),r=e.node().getBBox();if(l=Math.max(l,r.width),x=Math.min(x,r.x),d.info(r.x,i,s+p),0===p){const t=e.node().getBBox();p=t.height,d.info("Title height",p,s)}h.push(e)}let u=p*g.length;if(g.length>1){const t=(g.length-1)*p*.5;h.forEach((e,a)=>e.attr("y",s+a*p-t)),u=p*g.length}const f=a.node().getBBox();a.insert("rect",":first-child").attr("class","box").attr("x",i-l/2-r().state.padding/2).attr("y",s-u/2-r().state.padding/2-3.5).attr("width",l+r().state.padding).attr("height",u+r().state.padding),d.info(f)}M++},"drawEdge"),H={},z=i(function(){},"setConf"),T=i(function(t){t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),L=i(function(t,e,a,i){u=r().state;const o=r().securityLevel;let g;"sandbox"===o&&(g=n("#i"+e));const p=n("sandbox"===o?g.nodes()[0].contentDocument.body:"body"),h="sandbox"===o?g.nodes()[0].contentDocument:document;d.debug("Rendering diagram "+t);const c=p.select(`[id='${e}']`);T(c);const l=i.db.getRootDoc();R(l,c,void 0,!1,p,h,i);const x=u.padding,f=c.node().getBBox(),y=f.width+2*x,w=f.height+2*x;s(c,w,1.75*y,u.useMaxWidth),c.attr("viewBox",`${f.x-u.padding}  ${f.y-u.padding} `+y+" "+w)},"draw"),D=i(t=>t?t.length*u.fontSizeFactor:1,"getLabelWidth"),R=i((t,e,a,i,r,n,s)=>{const g=new l({compound:!0,multigraph:!0});let p,h=!0;for(p=0;p<t.length;p++)if("relation"===t[p].stmt){h=!1;break}a?g.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:h?1:u.edgeLengthFactor,nodeSep:h?1:50,isMultiGraph:!0}):g.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:h?1:u.edgeLengthFactor,nodeSep:h?1:50,ranker:"tight-tree",isMultiGraph:!0}),g.setDefaultEdgeLabel(function(){return{}});const c=s.db.getStates(),f=s.db.getRelations(),y=Object.keys(c);for(const d of y){const t=c[d];let o;if(a&&(t.parentId=a),t.doc){let a=e.append("g").attr("id",t.id).attr("class","stateGroup");o=R(t.doc,a,t.id,!i,r,n,s);{a=b(a,t,i);let e=a.node().getBBox();o.width=e.width,o.height=e.height+u.padding/2,H[t.id]={y:u.compositTitleSize}}}else o=E(e,t,g);if(t.note){const a={descriptions:[],id:t.id+"-note",note:t.note,type:"note"},i=E(e,a,g);"left of"===t.note.position?(g.setNode(o.id+"-note",i),g.setNode(o.id,o)):(g.setNode(o.id,o),g.setNode(o.id+"-note",i)),g.setParent(o.id,o.id+"-group"),g.setParent(o.id+"-note",o.id+"-group")}else g.setNode(o.id,o)}d.debug("Count=",g.nodeCount(),g);let w=0;f.forEach(function(t){w++,d.debug("Setting edge",t),g.setEdge(t.id1,t.id2,{relation:t,width:D(t.title),height:u.labelHeight*o.getRows(t.title).length,labelpos:"c"},"id"+w)}),x(g),d.debug("Graph after layout",g.nodes());const m=e.node();g.nodes().forEach(function(t){if(void 0!==t&&void 0!==g.node(t)){d.warn("Node "+t+": "+JSON.stringify(g.node(t))),r.select("#"+m.id+" #"+t).attr("transform","translate("+(g.node(t).x-g.node(t).width/2)+","+(g.node(t).y+(H[t]?H[t].y:0)-g.node(t).height/2)+" )"),r.select("#"+m.id+" #"+t).attr("data-x-shift",g.node(t).x-g.node(t).width/2);n.querySelectorAll("#"+m.id+" #"+t+" .divider").forEach(t=>{const e=t.parentElement;let a=0,i=0;e&&(e.parentElement&&(a=e.parentElement.getBBox().width),i=parseInt(e.getAttribute("data-x-shift"),10),Number.isNaN(i)&&(i=0)),t.setAttribute("x1",0-i+8),t.setAttribute("x2",a-i-8)})}else d.debug("No Node "+t+": "+JSON.stringify(g.node(t)))});let B=m.getBBox();g.edges().forEach(function(t){void 0!==t&&void 0!==g.edge(t)&&(d.debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(g.edge(t))),v(e,g.edge(t),g.edge(t).relation))}),B=m.getBBox();const k={id:a||"root",label:a||"root",width:0,height:0};return k.width=B.width+2*u.padding,k.height=B.height+2*u.padding,d.debug("Doc rendered",k,g),k},"renderDoc"),A={setConf:z,draw:L},G={parser:e,get db(){return new a(1)},renderer:A,styles:t,init:i(t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute},"init")};export{G as diagram};

import{g as t}from"./chunk-WVR4S24B.js";import{s as e}from"./chunk-NRVI72HA.js";import{_ as s,l as i,c as n,r,u as a,a as o,b as c,g as l,s as h,p as d,q as u,T as p,k as y,y as g}from"./index.js";var f=function(){var t=s(function(t,e,s,i){for(s=s||{},i=t.length;i--;s[t[i]]=e);return s},"o"),e=[1,2],i=[1,3],n=[1,4],r=[2,4],a=[1,9],o=[1,11],c=[1,16],l=[1,17],h=[1,18],d=[1,19],u=[1,33],p=[1,20],y=[1,21],g=[1,22],f=[1,23],m=[1,24],S=[1,26],_=[1,27],k=[1,28],T=[1,29],b=[1,30],E=[1,31],C=[1,32],D=[1,35],x=[1,36],$=[1,37],v=[1,38],I=[1,34],A=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],L=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,39,40,41,45,48,51,52,53,54,57],w=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],N={trace:s(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"--\x3e":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,CLICK:38,STRING:39,HREF:40,classDef:41,CLASSDEF_ID:42,CLASSDEF_STYLEOPTS:43,DEFAULT:44,style:45,STYLE_IDS:46,STYLEDEF_STYLEOPTS:47,class:48,CLASSENTITY_IDS:49,STYLECLASS:50,direction_tb:51,direction_bt:52,direction_rl:53,direction_lr:54,eol:55,";":56,EDGE_STATE:57,STYLE_SEPARATOR:58,left_of:59,right_of:60,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"--\x3e",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"CLICK",39:"STRING",40:"HREF",41:"classDef",42:"CLASSDEF_ID",43:"CLASSDEF_STYLEOPTS",44:"DEFAULT",45:"style",46:"STYLE_IDS",47:"STYLEDEF_STYLEOPTS",48:"class",49:"CLASSENTITY_IDS",50:"STYLECLASS",51:"direction_tb",52:"direction_bt",53:"direction_rl",54:"direction_lr",56:";",57:"EDGE_STATE",58:"STYLE_SEPARATOR",59:"left_of",60:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[9,5],[9,5],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[55,1],[55,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:s(function(t,e,s,i,n,r,a){var o=r.length-1;switch(n){case 3:return i.setRootDoc(r[o]),r[o];case 4:this.$=[];break;case 5:"nl"!=r[o]&&(r[o-1].push(r[o]),this.$=r[o-1]);break;case 6:case 7:case 12:this.$=r[o];break;case 8:this.$="nl";break;case 13:const t=r[o-1];t.description=i.trimColon(r[o]),this.$=t;break;case 14:this.$={stmt:"relation",state1:r[o-2],state2:r[o]};break;case 15:const e=i.trimColon(r[o]);this.$={stmt:"relation",state1:r[o-3],state2:r[o-1],description:e};break;case 19:this.$={stmt:"state",id:r[o-3],type:"default",description:"",doc:r[o-1]};break;case 20:var c=r[o],l=r[o-2].trim();if(r[o].match(":")){var h=r[o].split(":");c=h[0],l=[l,h[1]]}this.$={stmt:"state",id:c,type:"default",description:l};break;case 21:this.$={stmt:"state",id:r[o-3],type:"default",description:r[o-5],doc:r[o-1]};break;case 22:this.$={stmt:"state",id:r[o],type:"fork"};break;case 23:this.$={stmt:"state",id:r[o],type:"join"};break;case 24:this.$={stmt:"state",id:r[o],type:"choice"};break;case 25:this.$={stmt:"state",id:i.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:r[o-1].trim(),note:{position:r[o-2].trim(),text:r[o].trim()}};break;case 29:this.$=r[o].trim(),i.setAccTitle(this.$);break;case 30:case 31:this.$=r[o].trim(),i.setAccDescription(this.$);break;case 32:this.$={stmt:"click",id:r[o-3],url:r[o-2],tooltip:r[o-1]};break;case 33:this.$={stmt:"click",id:r[o-3],url:r[o-1],tooltip:""};break;case 34:case 35:this.$={stmt:"classDef",id:r[o-1].trim(),classes:r[o].trim()};break;case 36:this.$={stmt:"style",id:r[o-1].trim(),styleClass:r[o].trim()};break;case 37:this.$={stmt:"applyClass",id:r[o-1].trim(),styleClass:r[o].trim()};break;case 38:i.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:i.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:i.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:i.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:r[o].trim(),type:"default",description:""};break;case 46:case 47:this.$={stmt:"state",id:r[o-2].trim(),classes:[r[o].trim()],type:"default",description:""}}},"anonymous"),table:[{3:1,4:e,5:i,6:n},{1:[3]},{3:5,4:e,5:i,6:n},{3:6,4:e,5:i,6:n},t([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],r,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:o,8:8,9:10,10:12,11:13,12:14,13:15,16:c,17:l,19:h,22:d,24:u,25:p,26:y,27:g,28:f,29:m,32:25,33:S,35:_,37:k,38:T,41:b,45:E,48:C,51:D,52:x,53:$,54:v,57:I},t(A,[2,5]),{9:39,10:12,11:13,12:14,13:15,16:c,17:l,19:h,22:d,24:u,25:p,26:y,27:g,28:f,29:m,32:25,33:S,35:_,37:k,38:T,41:b,45:E,48:C,51:D,52:x,53:$,54:v,57:I},t(A,[2,7]),t(A,[2,8]),t(A,[2,9]),t(A,[2,10]),t(A,[2,11]),t(A,[2,12],{14:[1,40],15:[1,41]}),t(A,[2,16]),{18:[1,42]},t(A,[2,18],{20:[1,43]}),{23:[1,44]},t(A,[2,22]),t(A,[2,23]),t(A,[2,24]),t(A,[2,25]),{30:45,31:[1,46],59:[1,47],60:[1,48]},t(A,[2,28]),{34:[1,49]},{36:[1,50]},t(A,[2,31]),{13:51,24:u,57:I},{42:[1,52],44:[1,53]},{46:[1,54]},{49:[1,55]},t(L,[2,44],{58:[1,56]}),t(L,[2,45],{58:[1,57]}),t(A,[2,38]),t(A,[2,39]),t(A,[2,40]),t(A,[2,41]),t(A,[2,6]),t(A,[2,13]),{13:58,24:u,57:I},t(A,[2,17]),t(w,r,{7:59}),{24:[1,60]},{24:[1,61]},{23:[1,62]},{24:[2,48]},{24:[2,49]},t(A,[2,29]),t(A,[2,30]),{39:[1,63],40:[1,64]},{43:[1,65]},{43:[1,66]},{47:[1,67]},{50:[1,68]},{24:[1,69]},{24:[1,70]},t(A,[2,14],{14:[1,71]}),{4:a,5:o,8:8,9:10,10:12,11:13,12:14,13:15,16:c,17:l,19:h,21:[1,72],22:d,24:u,25:p,26:y,27:g,28:f,29:m,32:25,33:S,35:_,37:k,38:T,41:b,45:E,48:C,51:D,52:x,53:$,54:v,57:I},t(A,[2,20],{20:[1,73]}),{31:[1,74]},{24:[1,75]},{39:[1,76]},{39:[1,77]},t(A,[2,34]),t(A,[2,35]),t(A,[2,36]),t(A,[2,37]),t(L,[2,46]),t(L,[2,47]),t(A,[2,15]),t(A,[2,19]),t(w,r,{7:78}),t(A,[2,26]),t(A,[2,27]),{5:[1,79]},{5:[1,80]},{4:a,5:o,8:8,9:10,10:12,11:13,12:14,13:15,16:c,17:l,19:h,21:[1,81],22:d,24:u,25:p,26:y,27:g,28:f,29:m,32:25,33:S,35:_,37:k,38:T,41:b,45:E,48:C,51:D,52:x,53:$,54:v,57:I},t(A,[2,32]),t(A,[2,33]),t(A,[2,21])],defaultActions:{5:[2,1],6:[2,2],47:[2,48],48:[2,49]},parseError:s(function(t,e){if(!e.recoverable){var s=new Error(t);throw s.hash=e,s}this.trace(t)},"parseError"),parse:s(function(t){var e=this,i=[0],n=[],r=[null],a=[],o=this.table,c="",l=0,h=0,d=a.slice.call(arguments,1),u=Object.create(this.lexer),p={yy:{}};for(var y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(p.yy[y]=this.yy[y]);u.setInput(t,p.yy),p.yy.lexer=u,p.yy.parser=this,void 0===u.yylloc&&(u.yylloc={});var g=u.yylloc;a.push(g);var f=u.options&&u.options.ranges;function m(){var t;return"number"!=typeof(t=n.pop()||u.lex()||1)&&(t instanceof Array&&(t=(n=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,s(function(t){i.length=i.length-2*t,r.length=r.length-t,a.length=a.length-t},"popStack"),s(m,"lex");for(var S,_,k,T,b,E,C,D,x={};;){if(_=i[i.length-1],this.defaultActions[_]?k=this.defaultActions[_]:(null==S&&(S=m()),k=o[_]&&o[_][S]),void 0===k||!k.length||!k[0]){var $="";for(b in D=[],o[_])this.terminals_[b]&&b>2&&D.push("'"+this.terminals_[b]+"'");$=u.showPosition?"Parse error on line "+(l+1)+":\n"+u.showPosition()+"\nExpecting "+D.join(", ")+", got '"+(this.terminals_[S]||S)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==S?"end of input":"'"+(this.terminals_[S]||S)+"'"),this.parseError($,{text:u.match,token:this.terminals_[S]||S,line:u.yylineno,loc:g,expected:D})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+S);switch(k[0]){case 1:i.push(S),r.push(u.yytext),a.push(u.yylloc),i.push(k[1]),S=null,h=u.yyleng,c=u.yytext,l=u.yylineno,g=u.yylloc;break;case 2:if(E=this.productions_[k[1]][1],x.$=r[r.length-E],x._$={first_line:a[a.length-(E||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(E||1)].first_column,last_column:a[a.length-1].last_column},f&&(x._$.range=[a[a.length-(E||1)].range[0],a[a.length-1].range[1]]),void 0!==(T=this.performAction.apply(x,[c,h,l,p.yy,k[1],r,a].concat(d))))return T;E&&(i=i.slice(0,-1*E*2),r=r.slice(0,-1*E),a=a.slice(0,-1*E)),i.push(this.productions_[k[1]][0]),r.push(x.$),a.push(x._$),C=o[i[i.length-2]][i[i.length-1]],i.push(C);break;case 3:return!0}}return!0},"parse")},O=function(){return{EOF:1,parseError:s(function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},"parseError"),setInput:s(function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:s(function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},"input"),unput:s(function(t){var e=t.length,s=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),s.length-1&&(this.yylineno-=s.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:s?(s.length===i.length?this.yylloc.first_column:0)+i[i.length-s.length].length-s[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},"unput"),more:s(function(){return this._more=!0,this},"more"),reject:s(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:s(function(t){this.unput(this.match.slice(t))},"less"),pastInput:s(function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:s(function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:s(function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},"showPosition"),test_match:s(function(t,e){var s,i,n;if(this.options.backtrack_lexer&&(n={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(n.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],s=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),s)return s;if(this._backtrack){for(var r in n)this[r]=n[r];return!1}return!1},"test_match"),next:s(function(){if(this.done)return this.EOF;var t,e,s,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),r=0;r<n.length;r++)if((s=this._input.match(this.rules[n[r]]))&&(!e||s[0].length>e[0].length)){if(e=s,i=r,this.options.backtrack_lexer){if(!1!==(t=this.test_match(s,n[r])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,n[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:s(function(){var t=this.next();return t||this.lex()},"lex"),begin:s(function(t){this.conditionStack.push(t)},"begin"),popState:s(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:s(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:s(function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},"topState"),pushState:s(function(t){this.begin(t)},"pushState"),stateStackSize:s(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:s(function(t,e,s,i){switch(s){case 0:return 38;case 1:return 40;case 2:return 39;case 3:return 44;case 4:case 45:return 51;case 5:case 46:return 52;case 6:case 47:return 53;case 7:case 48:return 54;case 8:case 9:case 11:case 12:case 13:case 14:case 57:case 59:case 65:break;case 10:case 80:return 5;case 15:case 35:return this.pushState("SCALE"),17;case 16:case 36:return 18;case 17:case 23:case 37:case 52:case 55:this.popState();break;case 18:return this.begin("acc_title"),33;case 19:return this.popState(),"acc_title_value";case 20:return this.begin("acc_descr"),35;case 21:return this.popState(),"acc_descr_value";case 22:this.begin("acc_descr_multiline");break;case 24:return"acc_descr_multiline_value";case 25:return this.pushState("CLASSDEF"),41;case 26:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 27:return this.popState(),this.pushState("CLASSDEFID"),42;case 28:return this.popState(),43;case 29:return this.pushState("CLASS"),48;case 30:return this.popState(),this.pushState("CLASS_STYLE"),49;case 31:return this.popState(),50;case 32:return this.pushState("STYLE"),45;case 33:return this.popState(),this.pushState("STYLEDEF_STYLES"),46;case 34:return this.popState(),47;case 38:this.pushState("STATE");break;case 39:case 42:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),25;case 40:case 43:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),26;case 41:case 44:return this.popState(),e.yytext=e.yytext.slice(0,-10).trim(),27;case 49:this.pushState("STATE_STRING");break;case 50:return this.pushState("STATE_ID"),"AS";case 51:case 67:return this.popState(),"ID";case 53:return"STATE_DESCR";case 54:return 19;case 56:return this.popState(),this.pushState("struct"),20;case 58:return this.popState(),21;case 60:return this.begin("NOTE"),29;case 61:return this.popState(),this.pushState("NOTE_ID"),59;case 62:return this.popState(),this.pushState("NOTE_ID"),60;case 63:this.popState(),this.pushState("FLOATING_NOTE");break;case 64:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 66:return"NOTE_TEXT";case 68:return this.popState(),this.pushState("NOTE_TEXT"),24;case 69:return this.popState(),e.yytext=e.yytext.substr(2).trim(),31;case 70:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),31;case 71:case 72:return 6;case 73:return 16;case 74:return 57;case 75:return 24;case 76:return e.yytext=e.yytext.trim(),14;case 77:return 15;case 78:return 28;case 79:return 58;case 81:return"INVALID"}},"anonymous"),rules:[/^(?:click\b)/i,/^(?:href\b)/i,/^(?:"[^"]*")/i,/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[12,13],inclusive:!1},struct:{rules:[12,13,25,29,32,38,45,46,47,48,57,58,59,60,74,75,76,77,78],inclusive:!1},FLOATING_NOTE_ID:{rules:[67],inclusive:!1},FLOATING_NOTE:{rules:[64,65,66],inclusive:!1},NOTE_TEXT:{rules:[69,70],inclusive:!1},NOTE_ID:{rules:[68],inclusive:!1},NOTE:{rules:[61,62,63],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[34],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[33],inclusive:!1},CLASS_STYLE:{rules:[31],inclusive:!1},CLASS:{rules:[30],inclusive:!1},CLASSDEFID:{rules:[28],inclusive:!1},CLASSDEF:{rules:[26,27],inclusive:!1},acc_descr_multiline:{rules:[23,24],inclusive:!1},acc_descr:{rules:[21],inclusive:!1},acc_title:{rules:[19],inclusive:!1},SCALE:{rules:[16,17,36,37],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[51],inclusive:!1},STATE_STRING:{rules:[52,53],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[12,13,39,40,41,42,43,44,49,50,54,55,56],inclusive:!1},ID:{rules:[12,13],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,13,14,15,18,20,22,25,29,32,35,38,56,60,71,72,73,74,75,76,77,79,80,81],inclusive:!0}}}}();function R(){this.yy={}}return N.lexer=O,s(R,"Parser"),R.prototype=N,N.Parser=R,new R}();f.parser=f;var m=f,S="state",_="root",k="relation",T="default",b="divider",E="fill:none",C="fill: #333",D="text",x="normal",$="rect",v="rectWithTitle",I="divider",A="roundedWithTitle",L="statediagram",w=`${L}-state`,N="transition",O=`${N} note-edge`,R=`${L}-note`,B=`${L}-cluster`,F=`${L}-cluster-alt`,P="parent",Y="note",G="----",j=`${G}${Y}`,z=`${G}${P}`,M=s((t,e="TB")=>{if(!t.doc)return e;let s=e;for(const i of t.doc)"dir"===i.stmt&&(s=i.value);return s},"getDir"),U={getClasses:s(function(t,e){return e.db.getClasses()},"getClasses"),draw:s(async function(s,o,c,l){i.info("REF0:"),i.info("Drawing state diagram (v2)",o);const{securityLevel:h,state:d,layout:u}=n();l.db.extract(l.db.getRootDocV2());const p=l.db.getData(),y=t(o,h);p.type=l.type,p.layoutAlgorithm=u,p.nodeSpacing=d?.nodeSpacing||50,p.rankSpacing=d?.rankSpacing||50,p.markers=["barb"],p.diagramId=o,await r(p,y);try{("function"==typeof l.db.getLinks?l.db.getLinks():new Map).forEach((t,e)=>{const s="string"==typeof e?e:"string"==typeof e?.id?e.id:"";if(!s)return void i.warn("⚠️ Invalid or missing stateId from key:",JSON.stringify(e));const n=y.node()?.querySelectorAll("g");let r;if(n?.forEach(t=>{const e=t.textContent?.trim();e===s&&(r=t)}),!r)return void i.warn("⚠️ Could not find node matching text:",s);const a=r.parentNode;if(!a)return void i.warn("⚠️ Node has no parent, cannot wrap:",s);const o=document.createElementNS("http://www.w3.org/2000/svg","a"),c=t.url.replace(/^"+|"+$/g,"");if(o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c),o.setAttribute("target","_blank"),t.tooltip){const e=t.tooltip.replace(/^"+|"+$/g,"");o.setAttribute("title",e)}a.replaceChild(o,r),o.appendChild(r),i.info("🔗 Wrapped node in <a> tag for:",s,t.url)})}catch(g){i.error("❌ Error injecting clickable links:",g)}a.insertTitle(y,"statediagramTitleText",d?.titleTopMargin??25,l.db.getDiagramTitle()),e(y,8,L,d?.useMaxWidth??!0)},"draw"),getDir:M},W=new Map,H=0;function V(t="",e=0,s="",i=G){return`state-${t}${null!==s&&s.length>0?`${i}${s}`:""}-${e}`}s(V,"stateDomId");var X=s((t,e,s,r,a,o,c,l)=>{i.trace("items",e),e.forEach(e=>{switch(e.stmt){case S:case T:Z(t,e,s,r,a,o,c,l);break;case k:{Z(t,e.state1,s,r,a,o,c,l),Z(t,e.state2,s,r,a,o,c,l);const i={id:"edge"+H,start:e.state1.id,end:e.state2.id,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:E,labelStyle:"",label:y.sanitizeText(e.description??"",n()),arrowheadStyle:C,labelpos:"c",labelType:D,thickness:x,classes:N,look:c};a.push(i),H++}}})},"setupDoc"),J=s((t,e="TB")=>{let s=e;if(t.doc)for(const i of t.doc)"dir"===i.stmt&&(s=i.value);return s},"getDir");function K(t,e,s){if(!e.id||"</join></fork>"===e.id||"</choice>"===e.id)return;e.cssClasses&&(Array.isArray(e.cssCompiledStyles)||(e.cssCompiledStyles=[]),e.cssClasses.split(" ").forEach(t=>{const i=s.get(t);i&&(e.cssCompiledStyles=[...e.cssCompiledStyles??[],...i.styles])}));const i=t.find(t=>t.id===e.id);i?Object.assign(i,e):t.push(e)}function q(t){return t?.classes?.join(" ")??""}function Q(t){return t?.styles??[]}s(K,"insertOrUpdateNode"),s(q,"getClassesFromDbInfo"),s(Q,"getStylesFromDbInfo");var Z=s((t,e,s,r,a,o,c,l)=>{const h=e.id,d=s.get(h),u=q(d),p=Q(d),g=n();if(i.info("dataFetcher parsedItem",e,d,p),"root"!==h){let s=$;!0===e.start?s="stateStart":!1===e.start&&(s="stateEnd"),e.type!==T&&(s=e.type),W.get(h)||W.set(h,{id:h,shape:s,description:y.sanitizeText(h,g),cssClasses:`${u} ${w}`,cssStyles:p});const n=W.get(h);e.description&&(Array.isArray(n.description)?(n.shape=v,n.description.push(e.description)):n.description?.length&&n.description.length>0?(n.shape=v,n.description===h?n.description=[e.description]:n.description=[n.description,e.description]):(n.shape=$,n.description=e.description),n.description=y.sanitizeTextOrArray(n.description,g)),1===n.description?.length&&n.shape===v&&("group"===n.type?n.shape=A:n.shape=$),!n.type&&e.doc&&(i.info("Setting cluster for XCX",h,J(e)),n.type="group",n.isGroup=!0,n.dir=J(e),n.shape=e.type===b?I:A,n.cssClasses=`${n.cssClasses} ${B} ${o?F:""}`);const d={labelStyle:"",shape:n.shape,label:n.description,cssClasses:n.cssClasses,cssCompiledStyles:[],cssStyles:n.cssStyles,id:h,dir:n.dir,domId:V(h,H),type:n.type,isGroup:"group"===n.type,padding:8,rx:10,ry:10,look:c};if(d.shape===I&&(d.label=""),t&&"root"!==t.id&&(i.trace("Setting node ",h," to be child of its parent ",t.id),d.parentId=t.id),d.centerLabel=!0,e.note){const t={labelStyle:"",shape:"note",label:e.note.text,cssClasses:R,cssStyles:[],cssCompiledStyles:[],id:h+j+"-"+H,domId:V(h,H,Y),type:n.type,isGroup:"group"===n.type,padding:g.flowchart?.padding,look:c,position:e.note.position},s=h+z,i={labelStyle:"",shape:"noteGroup",label:e.note.text,cssClasses:n.cssClasses,cssStyles:[],id:h+z,domId:V(h,H,P),type:"group",isGroup:!0,padding:16,look:c,position:e.note.position};H++,i.id=s,t.parentId=s,K(r,i,l),K(r,t,l),K(r,d,l);let o=h,u=t.id;"left of"===e.note.position&&(o=t.id,u=h),a.push({id:o+"-"+u,start:o,end:u,arrowhead:"none",arrowTypeEnd:"",style:E,labelStyle:"",classes:O,arrowheadStyle:C,labelpos:"c",labelType:D,thickness:x,look:c})}else K(r,d,l)}e.doc&&(i.trace("Adding nodes children "),X(e,e.doc,s,r,a,!o,c,l))},"dataFetcher"),tt=s(()=>{W.clear(),H=0},"reset"),et="[*]",st="start",it="[*]",nt="end",rt="color",at="fill",ot="bgFill",ct=",",lt=s(()=>new Map,"newClassesList"),ht=s(()=>({relations:[],states:new Map,documents:{}}),"newDoc"),dt=s(t=>JSON.parse(JSON.stringify(t)),"clone"),ut=class{constructor(t){this.version=t,this.nodes=[],this.edges=[],this.rootDoc=[],this.classes=lt(),this.documents={root:ht()},this.currentDocument=this.documents.root,this.startEndCount=0,this.dividerCnt=0,this.links=new Map,this.getAccTitle=o,this.setAccTitle=c,this.getAccDescription=l,this.setAccDescription=h,this.setDiagramTitle=d,this.getDiagramTitle=u,this.clear(),this.setRootDoc=this.setRootDoc.bind(this),this.getDividerId=this.getDividerId.bind(this),this.setDirection=this.setDirection.bind(this),this.trimColon=this.trimColon.bind(this)}static{s(this,"StateDB")}static{this.relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3}}extract(t){this.clear(!0);for(const i of Array.isArray(t)?t:t.doc)switch(i.stmt){case S:this.addState(i.id.trim(),i.type,i.doc,i.description,i.note);break;case k:this.addRelation(i.state1,i.state2,i.description);break;case"classDef":this.addStyleClass(i.id.trim(),i.classes);break;case"style":this.handleStyleDef(i);break;case"applyClass":this.setCssClass(i.id.trim(),i.styleClass);break;case"click":this.addLink(i.id,i.url,i.tooltip)}const e=this.getStates(),s=n();tt(),Z(void 0,this.getRootDocV2(),e,this.nodes,this.edges,!0,s.look,this.classes);for(const i of this.nodes)if(Array.isArray(i.label)){if(i.description=i.label.slice(1),i.isGroup&&i.description.length>0)throw new Error(`Group nodes can only have label. Remove the additional description for node [${i.id}]`);i.label=i.label[0]}}handleStyleDef(t){const e=t.id.trim().split(","),s=t.styleClass.split(",");for(const i of e){let t=this.getState(i);if(!t){const e=i.trim();this.addState(e),t=this.getState(e)}t&&(t.styles=s.map(t=>t.replace(/;/g,"")?.trim()))}}setRootDoc(t){i.info("Setting root doc",t),this.rootDoc=t,1===this.version?this.extract(t):this.extract(this.getRootDocV2())}docTranslator(t,e,s){if(e.stmt===k)return this.docTranslator(t,e.state1,!0),void this.docTranslator(t,e.state2,!1);if(e.stmt===S&&(e.id===et?(e.id=t.id+(s?"_start":"_end"),e.start=s):e.id=e.id.trim()),e.stmt!==_&&e.stmt!==S||!e.doc)return;const i=[];let n=[];for(const r of e.doc)if(r.type===b){const t=dt(r);t.doc=dt(n),i.push(t),n=[]}else n.push(r);if(i.length>0&&n.length>0){const t={stmt:S,id:p(),type:"divider",doc:dt(n)};i.push(dt(t)),e.doc=i}e.doc.forEach(t=>this.docTranslator(e,t,!0))}getRootDocV2(){return this.docTranslator({id:_,stmt:_},{id:_,stmt:_,doc:this.rootDoc},!0),{id:_,doc:this.rootDoc}}addState(t,e=T,s=void 0,r=void 0,a=void 0,o=void 0,c=void 0,l=void 0){const h=t?.trim();if(this.currentDocument.states.has(h)){const t=this.currentDocument.states.get(h);if(!t)throw new Error(`State not found: ${h}`);t.doc||(t.doc=s),t.type||(t.type=e)}else i.info("Adding state ",h,r),this.currentDocument.states.set(h,{stmt:S,id:h,descriptions:[],type:e,doc:s,note:a,classes:[],styles:[],textStyles:[]});if(r){i.info("Setting state description",h,r);(Array.isArray(r)?r:[r]).forEach(t=>this.addDescription(h,t.trim()))}if(a){const t=this.currentDocument.states.get(h);if(!t)throw new Error(`State not found: ${h}`);t.note=a,t.note.text=y.sanitizeText(t.note.text,n())}if(o){i.info("Setting state classes",h,o);(Array.isArray(o)?o:[o]).forEach(t=>this.setCssClass(h,t.trim()))}if(c){i.info("Setting state styles",h,c);(Array.isArray(c)?c:[c]).forEach(t=>this.setStyle(h,t.trim()))}if(l){i.info("Setting state styles",h,c);(Array.isArray(l)?l:[l]).forEach(t=>this.setTextStyle(h,t.trim()))}}clear(t){this.nodes=[],this.edges=[],this.documents={root:ht()},this.currentDocument=this.documents.root,this.startEndCount=0,this.classes=lt(),t||(this.links=new Map,g())}getState(t){return this.currentDocument.states.get(t)}getStates(){return this.currentDocument.states}logDocuments(){i.info("Documents = ",this.documents)}getRelations(){return this.currentDocument.relations}addLink(t,e,s){this.links.set(t,{url:e,tooltip:s}),i.warn("Adding link",t,e,s)}getLinks(){return this.links}startIdIfNeeded(t=""){return t===et?(this.startEndCount++,`${st}${this.startEndCount}`):t}startTypeIfNeeded(t="",e=T){return t===et?st:e}endIdIfNeeded(t=""){return t===it?(this.startEndCount++,`${nt}${this.startEndCount}`):t}endTypeIfNeeded(t="",e=T){return t===it?nt:e}addRelationObjs(t,e,s=""){const i=this.startIdIfNeeded(t.id.trim()),r=this.startTypeIfNeeded(t.id.trim(),t.type),a=this.startIdIfNeeded(e.id.trim()),o=this.startTypeIfNeeded(e.id.trim(),e.type);this.addState(i,r,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),this.addState(a,o,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),this.currentDocument.relations.push({id1:i,id2:a,relationTitle:y.sanitizeText(s,n())})}addRelation(t,e,s){if("object"==typeof t&&"object"==typeof e)this.addRelationObjs(t,e,s);else if("string"==typeof t&&"string"==typeof e){const i=this.startIdIfNeeded(t.trim()),r=this.startTypeIfNeeded(t),a=this.endIdIfNeeded(e.trim()),o=this.endTypeIfNeeded(e);this.addState(i,r),this.addState(a,o),this.currentDocument.relations.push({id1:i,id2:a,relationTitle:s?y.sanitizeText(s,n()):void 0})}}addDescription(t,e){const s=this.currentDocument.states.get(t),i=e.startsWith(":")?e.replace(":","").trim():e;s?.descriptions?.push(y.sanitizeText(i,n()))}cleanupLabel(t){return t.startsWith(":")?t.slice(2).trim():t.trim()}getDividerId(){return this.dividerCnt++,`divider-id-${this.dividerCnt}`}addStyleClass(t,e=""){this.classes.has(t)||this.classes.set(t,{id:t,styles:[],textStyles:[]});const s=this.classes.get(t);e&&s&&e.split(ct).forEach(t=>{const e=t.replace(/([^;]*);/,"$1").trim();if(RegExp(rt).exec(t)){const t=e.replace(at,ot).replace(rt,at);s.textStyles.push(t)}s.styles.push(e)})}getClasses(){return this.classes}setCssClass(t,e){t.split(",").forEach(t=>{let s=this.getState(t);if(!s){const e=t.trim();this.addState(e),s=this.getState(e)}s?.classes?.push(e)})}setStyle(t,e){this.getState(t)?.styles?.push(e)}setTextStyle(t,e){this.getState(t)?.textStyles?.push(e)}getDirectionStatement(){return this.rootDoc.find(t=>"dir"===t.stmt)}getDirection(){return this.getDirectionStatement()?.value??"TB"}setDirection(t){const e=this.getDirectionStatement();e?e.value=t:this.rootDoc.unshift({stmt:"dir",value:t})}trimColon(t){return t.startsWith(":")?t.slice(1).trim():t.trim()}getData(){const t=n();return{nodes:this.nodes,edges:this.edges,other:{},config:t,direction:M(this.getRootDocV2())}}getConfig(){return n().state}},pt=s(t=>`\ndefs #statediagram-barbEnd {\n    fill: ${t.transitionColor};\n    stroke: ${t.transitionColor};\n  }\ng.stateGroup text {\n  fill: ${t.nodeBorder};\n  stroke: none;\n  font-size: 10px;\n}\ng.stateGroup text {\n  fill: ${t.textColor};\n  stroke: none;\n  font-size: 10px;\n\n}\ng.stateGroup .state-title {\n  font-weight: bolder;\n  fill: ${t.stateLabelColor};\n}\n\ng.stateGroup rect {\n  fill: ${t.mainBkg};\n  stroke: ${t.nodeBorder};\n}\n\ng.stateGroup line {\n  stroke: ${t.lineColor};\n  stroke-width: 1;\n}\n\n.transition {\n  stroke: ${t.transitionColor};\n  stroke-width: 1;\n  fill: none;\n}\n\n.stateGroup .composit {\n  fill: ${t.background};\n  border-bottom: 1px\n}\n\n.stateGroup .alt-composit {\n  fill: #e0e0e0;\n  border-bottom: 1px\n}\n\n.state-note {\n  stroke: ${t.noteBorderColor};\n  fill: ${t.noteBkgColor};\n\n  text {\n    fill: ${t.noteTextColor};\n    stroke: none;\n    font-size: 10px;\n  }\n}\n\n.stateLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ${t.mainBkg};\n  opacity: 0.5;\n}\n\n.edgeLabel .label rect {\n  fill: ${t.labelBackgroundColor};\n  opacity: 0.5;\n}\n.edgeLabel {\n  background-color: ${t.edgeLabelBackground};\n  p {\n    background-color: ${t.edgeLabelBackground};\n  }\n  rect {\n    opacity: 0.5;\n    background-color: ${t.edgeLabelBackground};\n    fill: ${t.edgeLabelBackground};\n  }\n  text-align: center;\n}\n.edgeLabel .label text {\n  fill: ${t.transitionLabelColor||t.tertiaryTextColor};\n}\n.label div .edgeLabel {\n  color: ${t.transitionLabelColor||t.tertiaryTextColor};\n}\n\n.stateLabel text {\n  fill: ${t.stateLabelColor};\n  font-size: 10px;\n  font-weight: bold;\n}\n\n.node circle.state-start {\n  fill: ${t.specialStateColor};\n  stroke: ${t.specialStateColor};\n}\n\n.node .fork-join {\n  fill: ${t.specialStateColor};\n  stroke: ${t.specialStateColor};\n}\n\n.node circle.state-end {\n  fill: ${t.innerEndBackground};\n  stroke: ${t.background};\n  stroke-width: 1.5\n}\n.end-state-inner {\n  fill: ${t.compositeBackground||t.background};\n  // stroke: ${t.background};\n  stroke-width: 1.5\n}\n\n.node rect {\n  fill: ${t.stateBkg||t.mainBkg};\n  stroke: ${t.stateBorder||t.nodeBorder};\n  stroke-width: 1px;\n}\n.node polygon {\n  fill: ${t.mainBkg};\n  stroke: ${t.stateBorder||t.nodeBorder};;\n  stroke-width: 1px;\n}\n#statediagram-barbEnd {\n  fill: ${t.lineColor};\n}\n\n.statediagram-cluster rect {\n  fill: ${t.compositeTitleBackground};\n  stroke: ${t.stateBorder||t.nodeBorder};\n  stroke-width: 1px;\n}\n\n.cluster-label, .nodeLabel {\n  color: ${t.stateLabelColor};\n  // line-height: 1;\n}\n\n.statediagram-cluster rect.outer {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state .divider {\n  stroke: ${t.stateBorder||t.nodeBorder};\n}\n\n.statediagram-state .title-state {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-cluster.statediagram-cluster .inner {\n  fill: ${t.compositeBackground||t.background};\n}\n.statediagram-cluster.statediagram-cluster-alt .inner {\n  fill: ${t.altBackground?t.altBackground:"#efefef"};\n}\n\n.statediagram-cluster .inner {\n  rx:0;\n  ry:0;\n}\n\n.statediagram-state rect.basic {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state rect.divider {\n  stroke-dasharray: 10,10;\n  fill: ${t.altBackground?t.altBackground:"#efefef"};\n}\n\n.note-edge {\n  stroke-dasharray: 5;\n}\n\n.statediagram-note rect {\n  fill: ${t.noteBkgColor};\n  stroke: ${t.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n.statediagram-note rect {\n  fill: ${t.noteBkgColor};\n  stroke: ${t.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n\n.statediagram-note text {\n  fill: ${t.noteTextColor};\n}\n\n.statediagram-note .nodeLabel {\n  color: ${t.noteTextColor};\n}\n.statediagram .edgeLabel {\n  color: red; // ${t.noteTextColor};\n}\n\n#dependencyStart, #dependencyEnd {\n  fill: ${t.lineColor};\n  stroke: ${t.lineColor};\n  stroke-width: 1;\n}\n\n.statediagramTitleText {\n  text-anchor: middle;\n  font-size: 18px;\n  fill: ${t.textColor};\n}\n`,"getStyles");export{ut as S,m as a,U as b,pt as s};

import{aA as e,aB as t,aC as s,aD as i,aE as r}from"./index.js";import{a as n,c as h,k as o,f as d,d as a,i as u,v as _,r as l}from"./_baseUniq.js";var c=e(function(e){return n(h(e,1,t,!0))}),p="\0";class g{constructor(e={}){this._isDirected=!Object.prototype.hasOwnProperty.call(e,"directed")||e.directed,this._isMultigraph=!!Object.prototype.hasOwnProperty.call(e,"multigraph")&&e.multigraph,this._isCompound=!!Object.prototype.hasOwnProperty.call(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=s(void 0),this._defaultEdgeLabelFn=s(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[p]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return i(e)||(e=s(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return o(this._nodes)}sources(){var e=this;return d(this.nodes(),function(t){return r(e._in[t])})}sinks(){var e=this;return d(this.nodes(),function(t){return r(e._out[t])})}setNodes(e,t){var s=arguments,i=this;return a(e,function(e){s.length>1?i.setNode(e,t):i.setNode(e)}),this}setNode(e,t){return Object.prototype.hasOwnProperty.call(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=p,this._children[e]={},this._children[p][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Object.prototype.hasOwnProperty.call(this._nodes,e)}removeNode(e){if(Object.prototype.hasOwnProperty.call(this._nodes,e)){var t=e=>this.removeEdge(this._edgeObjs[e]);delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],a(this.children(e),e=>{this.setParent(e)}),delete this._children[e]),a(o(this._in[e]),t),delete this._in[e],delete this._preds[e],a(o(this._out[e]),t),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(u(t))t=p;else{for(var s=t+="";!u(s);s=this.parent(s))if(s===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var t=this._parent[e];if(t!==p)return t}}children(e){if(u(e)&&(e=p),this._isCompound){var t=this._children[e];if(t)return o(t)}else{if(e===p)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var t=this._preds[e];if(t)return o(t)}successors(e){var t=this._sucs[e];if(t)return o(t)}neighbors(e){var t=this.predecessors(e);if(t)return c(t,this.successors(e))}isLeaf(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length}filterNodes(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var s=this;a(this._nodes,function(s,i){e(i)&&t.setNode(i,s)}),a(this._edgeObjs,function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,s.edge(e))});var i={};function r(e){var n=s.parent(e);return void 0===n||t.hasNode(n)?(i[e]=n,n):n in i?i[n]:r(n)}return this._isCompound&&a(t.nodes(),function(e){t.setParent(e,r(e))}),t}setDefaultEdgeLabel(e){return i(e)||(e=s(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return _(this._edgeObjs)}setPath(e,t){var s=this,i=arguments;return l(e,function(e,r){return i.length>1?s.setEdge(e,r,t):s.setEdge(e,r),r}),this}setEdge(){var e,t,s,i,r=!1,n=arguments[0];"object"==typeof n&&null!==n&&"v"in n?(e=n.v,t=n.w,s=n.name,2===arguments.length&&(i=arguments[1],r=!0)):(e=n,t=arguments[1],s=arguments[3],arguments.length>2&&(i=arguments[2],r=!0)),e=""+e,t=""+t,u(s)||(s=""+s);var h=b(this._isDirected,e,t,s);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,h))return r&&(this._edgeLabels[h]=i),this;if(!u(s)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[h]=r?i:this._defaultEdgeLabelFn(e,t,s);var o=function(e,t,s,i){var r=""+t,n=""+s;if(!e&&r>n){var h=r;r=n,n=h}var o={v:r,w:n};i&&(o.name=i);return o}(this._isDirected,e,t,s);return e=o.v,t=o.w,Object.freeze(o),this._edgeObjs[h]=o,f(this._preds[t],e),f(this._sucs[e],t),this._in[t][h]=o,this._out[e][h]=o,this._edgeCount++,this}edge(e,t,s){var i=1===arguments.length?m(this._isDirected,arguments[0]):b(this._isDirected,e,t,s);return this._edgeLabels[i]}hasEdge(e,t,s){var i=1===arguments.length?m(this._isDirected,arguments[0]):b(this._isDirected,e,t,s);return Object.prototype.hasOwnProperty.call(this._edgeLabels,i)}removeEdge(e,t,s){var i=1===arguments.length?m(this._isDirected,arguments[0]):b(this._isDirected,e,t,s),r=this._edgeObjs[i];return r&&(e=r.v,t=r.w,delete this._edgeLabels[i],delete this._edgeObjs[i],v(this._preds[t],e),v(this._sucs[e],t),delete this._in[t][i],delete this._out[e][i],this._edgeCount--),this}inEdges(e,t){var s=this._in[e];if(s){var i=_(s);return t?d(i,function(e){return e.v===t}):i}}outEdges(e,t){var s=this._out[e];if(s){var i=_(s);return t?d(i,function(e){return e.w===t}):i}}nodeEdges(e,t){var s=this.inEdges(e,t);if(s)return s.concat(this.outEdges(e,t))}}function f(e,t){e[t]?e[t]++:e[t]=1}function v(e,t){--e[t]||delete e[t]}function b(e,t,s,i){var r=""+t,n=""+s;if(!e&&r>n){var h=r;r=n,n=h}return r+""+n+""+(u(i)?"\0":i)}function m(e,t){return b(e,t.v,t.w,t.name)}g.prototype._nodeCount=0,g.prototype._edgeCount=0;export{g as G};

import{G as e}from"./graph.js";import{b as n,p as r,q as t,g as o,e as i,l as a,o as u,s as d,c,u as s,d as f,i as h,f as g,v,r as l}from"./_baseUniq.js";import{f as p,b as w,a as b,c as m,d as y,t as x,m as k,e as E,h as N,g as O,l as _,i as I}from"./_basePickBy.js";import{b7 as P,b8 as j,b9 as R,aS as M,ba as T,aW as L,aV as C,bb as S,aR as G,aA as V,aY as F,aC as q,bc as B}from"./index.js";function Y(e){return n(e,5)}function z(e,n){return e>n}function A(e,n){var r={};return n=o(n),t(e,function(e,t,o){T(r,t,n(e,t,o))}),r}function D(e){return e&&e.length?w(e,L,z):void 0}function J(e,n){return e&&e.length?w(e,o(n),b):void 0}function U(e,n){if(e!==n){var r=void 0!==e,t=null===e,o=e==e,a=i(e),u=void 0!==n,d=null===n,c=n==n,s=i(n);if(!d&&!s&&!a&&e>n||a&&u&&c&&!d&&!s||t&&u&&c||!r&&c||!o)return 1;if(!t&&!a&&!s&&e<n||s&&r&&o&&!t&&!a||d&&r&&o||!u&&o||!c)return-1}return 0}function W(e,n,r){n=n.length?a(n,function(e){return C(e)?function(n){return u(n,1===e.length?e[0]:e)}:e}):[L];var t=-1;return n=a(n,S(o)),function(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}(m(e,function(e,r,o){return{criteria:a(n,function(n){return n(e)}),index:++t,value:e}}),function(e,n){return function(e,n,r){for(var t=-1,o=e.criteria,i=n.criteria,a=o.length,u=r.length;++t<a;){var d=U(o[t],i[t]);if(d)return t>=u?d:d*("desc"==r[t]?-1:1)}return e.index-n.index}(e,n,r)})}var H,K=P(j(H=function(e,n){return null==e?{}:function(e,n){return y(e,n,function(n,r){return d(e,r)})}(e,n)},void 0,p),H+""),Q=Math.ceil,X=Math.max;var Z=function(e,n,r){return r&&"number"!=typeof r&&G(e,n,r)&&(n=r=void 0),e=x(e),void 0===n?(n=e,e=0):n=x(n),function(e,n,r){for(var t=-1,o=X(Q((n-e)/(r||1)),0),i=Array(o);o--;)i[++t]=e,e+=r;return i}(e,n,r=void 0===r?e<n?1:-1:x(r))},$=V(function(e,n){if(null==e)return[];var r=n.length;return r>1&&G(e,n[0],n[1])?n=[]:r>2&&G(n[0],n[1],n[2])&&(n=[n[0]]),W(e,c(n),[])}),ee=0;function ne(e){var n=++ee;return s(e)+n}class re{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,n=e._prev;if(n!==e)return te(n),n}enqueue(e){var n=this._sentinel;e._prev&&e._next&&te(e),e._next=n._next,n._next._prev=e,n._next=e,e._prev=n}toString(){for(var e=[],n=this._sentinel,r=n._prev;r!==n;)e.push(JSON.stringify(r,oe)),r=r._prev;return"["+e.join(", ")+"]"}}function te(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function oe(e,n){if("_next"!==e&&"_prev"!==e)return n}var ie=q(1);function ae(n,r){if(n.nodeCount()<=1)return[];var t=function(n,r){var t=new e,o=0,i=0;f(n.nodes(),function(e){t.setNode(e,{v:e,in:0,out:0})}),f(n.edges(),function(e){var n=t.edge(e.v,e.w)||0,a=r(e),u=n+a;t.setEdge(e.v,e.w,u),i=Math.max(i,t.node(e.v).out+=a),o=Math.max(o,t.node(e.w).in+=a)});var a=Z(i+o+3).map(function(){return new re}),u=o+1;return f(t.nodes(),function(e){de(a,u,t.node(e))}),{graph:t,buckets:a,zeroIdx:u}}(n,r||ie),o=function(e,n,r){var t,o=[],i=n[n.length-1],a=n[0];for(;e.nodeCount();){for(;t=a.dequeue();)ue(e,n,r,t);for(;t=i.dequeue();)ue(e,n,r,t);if(e.nodeCount())for(var u=n.length-2;u>0;--u)if(t=n[u].dequeue()){o=o.concat(ue(e,n,r,t,!0));break}}return o}(t.graph,t.buckets,t.zeroIdx);return p(k(o,function(e){return n.outEdges(e.v,e.w)}))}function ue(e,n,r,t,o){var i=o?[]:void 0;return f(e.inEdges(t.v),function(t){var a=e.edge(t),u=e.node(t.v);o&&i.push({v:t.v,w:t.w}),u.out-=a,de(n,r,u)}),f(e.outEdges(t.v),function(t){var o=e.edge(t),i=t.w,a=e.node(i);a.in-=o,de(n,r,a)}),e.removeNode(t.v),i}function de(e,n,r){r.out?r.in?e[r.out-r.in+n].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}function ce(e){var n="greedy"===e.graph().acyclicer?ae(e,function(e){return function(n){return e.edge(n).weight}}(e)):function(e){var n=[],r={},t={};function o(i){Object.prototype.hasOwnProperty.call(t,i)||(t[i]=!0,r[i]=!0,f(e.outEdges(i),function(e){Object.prototype.hasOwnProperty.call(r,e.w)?n.push(e):o(e.w)}),delete r[i])}return f(e.nodes(),o),n}(e);f(n,function(n){var r=e.edge(n);e.removeEdge(n),r.forwardName=n.name,r.reversed=!0,e.setEdge(n.w,n.v,r,ne("rev"))})}function se(e,n,r,t){var o;do{o=ne(t)}while(e.hasNode(o));return r.dummy=n,e.setNode(o,r),o}function fe(n){var r=new e({multigraph:n.isMultigraph()}).setGraph(n.graph());return f(n.nodes(),function(e){n.children(e).length||r.setNode(e,n.node(e))}),f(n.edges(),function(e){r.setEdge(e,n.edge(e))}),r}function he(e,n){var r,t,o=e.x,i=e.y,a=n.x-o,u=n.y-i,d=e.width/2,c=e.height/2;if(!a&&!u)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(u)*d>Math.abs(a)*c?(u<0&&(c=-c),r=c*a/u,t=c):(a<0&&(d=-d),r=d,t=d*u/a),{x:o+r,y:i+t}}function ge(e){var n=k(Z(le(e)+1),function(){return[]});return f(e.nodes(),function(r){var t=e.node(r),o=t.rank;h(o)||(n[o][t.order]=r)}),n}function ve(e,n,r,t){var o={width:0,height:0};return arguments.length>=4&&(o.rank=r,o.order=t),se(e,"border",o,n)}function le(e){return D(k(e.nodes(),function(n){var r=e.node(n).rank;if(!h(r))return r}))}function pe(e,n){return n()}function we(e,n,r,t,o,i){var a={width:0,height:0,rank:i,borderType:n},u=o[n][i-1],d=se(e,"border",a,r);o[n][i]=d,e.setParent(d,t),u&&e.setEdge(u,d,{weight:1})}function be(e){var n=e.graph().rankdir.toLowerCase();"bt"!==n&&"rl"!==n||function(e){f(e.nodes(),function(n){xe(e.node(n))}),f(e.edges(),function(n){var r=e.edge(n);f(r.points,xe),Object.prototype.hasOwnProperty.call(r,"y")&&xe(r)})}(e),"lr"!==n&&"rl"!==n||(!function(e){f(e.nodes(),function(n){ke(e.node(n))}),f(e.edges(),function(n){var r=e.edge(n);f(r.points,ke),Object.prototype.hasOwnProperty.call(r,"x")&&ke(r)})}(e),me(e))}function me(e){f(e.nodes(),function(n){ye(e.node(n))}),f(e.edges(),function(n){ye(e.edge(n))})}function ye(e){var n=e.width;e.width=e.height,e.height=n}function xe(e){e.y=-e.y}function ke(e){var n=e.x;e.x=e.y,e.y=n}function Ee(e){e.graph().dummyChains=[],f(e.edges(),function(n){!function(e,n){var r=n.v,t=e.node(r).rank,o=n.w,i=e.node(o).rank,a=n.name,u=e.edge(n),d=u.labelRank;if(i===t+1)return;e.removeEdge(n);var c,s,f=void 0;for(s=0,++t;t<i;++s,++t)u.points=[],c=se(e,"edge",f={width:0,height:0,edgeLabel:u,edgeObj:n,rank:t},"_d"),t===d&&(f.width=u.width,f.height=u.height,f.dummy="edge-label",f.labelpos=u.labelpos),e.setEdge(r,c,{weight:u.weight},a),0===s&&e.graph().dummyChains.push(c),r=c;e.setEdge(r,o,{weight:u.weight},a)}(e,n)})}function Ne(e){var n={};f(e.sources(),function r(t){var o=e.node(t);if(Object.prototype.hasOwnProperty.call(n,t))return o.rank;n[t]=!0;var i=E(k(e.outEdges(t),function(n){return r(n.w)-e.edge(n).minlen}));return i!==Number.POSITIVE_INFINITY&&null!=i||(i=0),o.rank=i})}function Oe(e,n){return e.node(n.w).rank-e.node(n.v).rank-e.edge(n).minlen}function _e(n){var r,t,o=new e({directed:!1}),i=n.nodes()[0],a=n.nodeCount();for(o.setNode(i,{});Ie(o,n)<a;)r=Pe(o,n),t=o.hasNode(r.v)?Oe(n,r):-Oe(n,r),je(o,n,t);return o}function Ie(e,n){return f(e.nodes(),function r(t){f(n.nodeEdges(t),function(o){var i=o.v,a=t===i?o.w:i;e.hasNode(a)||Oe(n,o)||(e.setNode(a,{}),e.setEdge(t,a,{}),r(a))})}),e.nodeCount()}function Pe(e,n){return J(n.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return Oe(n,r)})}function je(e,n,r){f(e.nodes(),function(e){n.node(e).rank+=r})}function Re(e,n,r){C(n)||(n=[n]);var t=(e.isDirected()?e.successors:e.neighbors).bind(e),o=[],i={};return f(n,function(n){if(!e.hasNode(n))throw new Error("Graph does not have node: "+n);Me(e,n,"post"===r,i,t,o)}),o}function Me(e,n,r,t,o,i){Object.prototype.hasOwnProperty.call(t,n)||(t[n]=!0,r||i.push(n),f(o(n),function(n){Me(e,n,r,t,o,i)}),r&&i.push(n))}function Te(n){n=function(n){var r=(new e).setGraph(n.graph());return f(n.nodes(),function(e){r.setNode(e,n.node(e))}),f(n.edges(),function(e){var t=r.edge(e.v,e.w)||{weight:0,minlen:1},o=n.edge(e);r.setEdge(e.v,e.w,{weight:t.weight+o.weight,minlen:Math.max(t.minlen,o.minlen)})}),r}(n),Ne(n);var r,t=_e(n);for(Se(t),Le(t,n);r=Ve(t);)qe(t,n,r,Fe(t,n,r))}function Le(e,n){var r=function(e,n){return Re(e,n,"post")}(e,e.nodes());r=r.slice(0,r.length-1),f(r,function(r){!function(e,n,r){var t=e.node(r),o=t.parent;e.edge(r,o).cutvalue=Ce(e,n,r)}(e,n,r)})}function Ce(e,n,r){var t=e.node(r).parent,o=!0,i=n.edge(r,t),a=0;return i||(o=!1,i=n.edge(t,r)),a=i.weight,f(n.nodeEdges(r),function(i){var u,d,c=i.v===r,s=c?i.w:i.v;if(s!==t){var f=c===o,h=n.edge(i).weight;if(a+=f?h:-h,u=r,d=s,e.hasEdge(u,d)){var g=e.edge(r,s).cutvalue;a+=f?-g:g}}}),a}function Se(e,n){arguments.length<2&&(n=e.nodes()[0]),Ge(e,{},1,n)}function Ge(e,n,r,t,o){var i=r,a=e.node(t);return n[t]=!0,f(e.neighbors(t),function(o){Object.prototype.hasOwnProperty.call(n,o)||(r=Ge(e,n,r,o,t))}),a.low=i,a.lim=r++,o?a.parent=o:delete a.parent,r}function Ve(e){return O(e.edges(),function(n){return e.edge(n).cutvalue<0})}function Fe(e,n,r){var t=r.v,o=r.w;n.hasEdge(t,o)||(t=r.w,o=r.v);var i=e.node(t),a=e.node(o),u=i,d=!1;i.lim>a.lim&&(u=a,d=!0);var c=g(n.edges(),function(n){return d===Be(e,e.node(n.v),u)&&d!==Be(e,e.node(n.w),u)});return J(c,function(e){return Oe(n,e)})}function qe(e,n,r,t){var o=r.v,i=r.w;e.removeEdge(o,i),e.setEdge(t.v,t.w,{}),Se(e),Le(e,n),function(e,n){var r=O(e.nodes(),function(e){return!n.node(e).parent}),t=function(e,n){return Re(e,n,"pre")}(e,r);t=t.slice(1),f(t,function(r){var t=e.node(r).parent,o=n.edge(r,t),i=!1;o||(o=n.edge(t,r),i=!0),n.node(r).rank=n.node(t).rank+(i?o.minlen:-o.minlen)})}(e,n)}function Be(e,n,r){return r.low<=n.lim&&n.lim<=r.lim}function Ye(e){switch(e.graph().ranker){case"network-simplex":default:Ae(e);break;case"tight-tree":!function(e){Ne(e),_e(e)}(e);break;case"longest-path":ze(e)}}new Error,Te.initLowLimValues=Se,Te.initCutValues=Le,Te.calcCutValue=Ce,Te.leaveEdge=Ve,Te.enterEdge=Fe,Te.exchangeEdges=qe;var ze=Ne;function Ae(e){Te(e)}function De(e){var n=se(e,"root",{},"_root"),r=function(e){var n={};function r(t,o){var i=e.children(t);i&&i.length&&f(i,function(e){r(e,o+1)}),n[t]=o}return f(e.children(),function(e){r(e,1)}),n}(e),t=D(v(r))-1,o=2*t+1;e.graph().nestingRoot=n,f(e.edges(),function(n){e.edge(n).minlen*=o});var i=function(e){return l(e.edges(),function(n,r){return n+e.edge(r).weight},0)}(e)+1;f(e.children(),function(a){Je(e,n,o,i,t,r,a)}),e.graph().nodeRankFactor=o}function Je(e,n,r,t,o,i,a){var u=e.children(a);if(u.length){var d=ve(e,"_bt"),c=ve(e,"_bb"),s=e.node(a);e.setParent(d,a),s.borderTop=d,e.setParent(c,a),s.borderBottom=c,f(u,function(u){Je(e,n,r,t,o,i,u);var s=e.node(u),f=s.borderTop?s.borderTop:u,h=s.borderBottom?s.borderBottom:u,g=s.borderTop?t:2*t,v=f!==h?1:o-i[a]+1;e.setEdge(d,f,{weight:g,minlen:v,nestingEdge:!0}),e.setEdge(h,c,{weight:g,minlen:v,nestingEdge:!0})}),e.parent(a)||e.setEdge(n,d,{weight:0,minlen:o+i[a]})}else a!==n&&e.setEdge(n,a,{weight:0,minlen:r})}function Ue(n,r,t){var o=function(e){var n;for(;e.hasNode(n=ne("_root")););return n}(n),i=new e({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(e){return n.node(e)});return f(n.nodes(),function(e){var a=n.node(e),u=n.parent(e);(a.rank===r||a.minRank<=r&&r<=a.maxRank)&&(i.setNode(e),i.setParent(e,u||o),f(n[t](e),function(r){var t=r.v===e?r.w:r.v,o=i.edge(t,e),a=h(o)?0:o.weight;i.setEdge(t,e,{weight:n.edge(r).weight+a})}),Object.prototype.hasOwnProperty.call(a,"minRank")&&i.setNode(e,{borderLeft:a.borderLeft[r],borderRight:a.borderRight[r]}))}),i}function We(e,n){for(var r=0,t=1;t<n.length;++t)r+=He(e,n[t-1],n[t]);return r}function He(e,n,r){for(var t=function(e,n){return function(e,n,r){for(var t=-1,o=e.length,i=n.length,a={};++t<o;){var u=t<i?n[t]:void 0;r(a,e[t],u)}return a}(e||[],n||[],F)}(r,k(r,function(e,n){return n})),o=p(k(n,function(n){return $(k(e.outEdges(n),function(n){return{pos:t[n.w],weight:e.edge(n).weight}}),"pos")})),i=1;i<r.length;)i<<=1;var a=2*i-1;i-=1;var u=k(new Array(a),function(){return 0}),d=0;return f(o.forEach(function(e){var n=e.pos+i;u[n]+=e.weight;for(var r=0;n>0;)n%2&&(r+=u[n+1]),u[n=n-1>>1]+=e.weight;d+=e.weight*r})),d}function Ke(e,n){var r={};return f(e,function(e,n){var t=r[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:n};h(e.barycenter)||(t.barycenter=e.barycenter,t.weight=e.weight)}),f(n.edges(),function(e){var n=r[e.v],t=r[e.w];h(n)||h(t)||(t.indegree++,n.out.push(r[e.w]))}),function(e){var n=[];function r(e){return function(n){n.merged||(h(n.barycenter)||h(e.barycenter)||n.barycenter>=e.barycenter)&&function(e,n){var r=0,t=0;e.weight&&(r+=e.barycenter*e.weight,t+=e.weight);n.weight&&(r+=n.barycenter*n.weight,t+=n.weight);e.vs=n.vs.concat(e.vs),e.barycenter=r/t,e.weight=t,e.i=Math.min(n.i,e.i),n.merged=!0}(e,n)}}function t(n){return function(r){r.in.push(n),0===--r.indegree&&e.push(r)}}for(;e.length;){var o=e.pop();n.push(o),f(o.in.reverse(),r(o)),f(o.out,t(o))}return k(g(n,function(e){return!e.merged}),function(e){return K(e,["vs","i","barycenter","weight"])})}(g(r,function(e){return!e.indegree}))}function Qe(e,n){var r,t=function(e,n){var r={lhs:[],rhs:[]};return f(e,function(e){n(e)?r.lhs.push(e):r.rhs.push(e)}),r}(e,function(e){return Object.prototype.hasOwnProperty.call(e,"barycenter")}),o=t.lhs,i=$(t.rhs,function(e){return-e.i}),a=[],u=0,d=0,c=0;o.sort((r=!!n,function(e,n){return e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:r?n.i-e.i:e.i-n.i})),c=Xe(a,i,c),f(o,function(e){c+=e.vs.length,a.push(e.vs),u+=e.barycenter*e.weight,d+=e.weight,c=Xe(a,i,c)});var s={vs:p(a)};return d&&(s.barycenter=u/d,s.weight=d),s}function Xe(e,n,r){for(var t;n.length&&(t=_(n)).i<=r;)n.pop(),e.push(t.vs),r++;return r}function Ze(e,n,r,t){var o=e.children(n),i=e.node(n),a=i?i.borderLeft:void 0,u=i?i.borderRight:void 0,d={};a&&(o=g(o,function(e){return e!==a&&e!==u}));var c=function(e,n){return k(n,function(n){var r=e.inEdges(n);if(r.length){var t=l(r,function(n,r){var t=e.edge(r),o=e.node(r.v);return{sum:n.sum+t.weight*o.order,weight:n.weight+t.weight}},{sum:0,weight:0});return{v:n,barycenter:t.sum/t.weight,weight:t.weight}}return{v:n}})}(e,o);f(c,function(n){if(e.children(n.v).length){var o=Ze(e,n.v,r,t);d[n.v]=o,Object.prototype.hasOwnProperty.call(o,"barycenter")&&(a=o,h((i=n).barycenter)?(i.barycenter=a.barycenter,i.weight=a.weight):(i.barycenter=(i.barycenter*i.weight+a.barycenter*a.weight)/(i.weight+a.weight),i.weight+=a.weight))}var i,a});var s=Ke(c,r);!function(e,n){f(e,function(e){e.vs=p(e.vs.map(function(e){return n[e]?n[e].vs:e}))})}(s,d);var v=Qe(s,t);if(a&&(v.vs=p([a,v.vs,u]),e.predecessors(a).length)){var w=e.node(e.predecessors(a)[0]),b=e.node(e.predecessors(u)[0]);Object.prototype.hasOwnProperty.call(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+w.order+b.order)/(v.weight+2),v.weight+=2}return v}function $e(e){var n=le(e),r=en(e,Z(1,n+1),"inEdges"),t=en(e,Z(n-1,-1,-1),"outEdges"),o=function(e){var n={},r=g(e.nodes(),function(n){return!e.children(n).length}),t=D(k(r,function(n){return e.node(n).rank})),o=k(Z(t+1),function(){return[]}),i=$(r,function(n){return e.node(n).rank});return f(i,function r(t){if(!N(n,t)){n[t]=!0;var i=e.node(t);o[i.rank].push(t),f(e.successors(t),r)}}),o}(e);rn(e,o);for(var i,a=Number.POSITIVE_INFINITY,u=0,d=0;d<4;++u,++d){nn(u%2?r:t,u%4>=2);var c=We(e,o=ge(e));c<a&&(d=0,i=Y(o),a=c)}rn(e,i)}function en(e,n,r){return k(n,function(n){return Ue(e,n,r)})}function nn(n,r){var t=new e;f(n,function(e){var n=e.graph().root,o=Ze(e,n,t,r);f(o.vs,function(n,r){e.node(n).order=r}),function(e,n,r){var t,o={};f(r,function(r){for(var i,a,u=e.parent(r);u;){if((i=e.parent(u))?(a=o[i],o[i]=u):(a=t,t=u),a&&a!==u)return void n.setEdge(a,u);u=i}})}(e,t,o.vs)})}function rn(e,n){f(n,function(n){f(n,function(n,r){e.node(n).order=r})})}function tn(e){var n=function(e){var n={},r=0;function t(o){var i=r;f(e.children(o),t),n[o]={low:i,lim:r++}}return f(e.children(),t),n}(e);f(e.graph().dummyChains,function(r){for(var t=e.node(r),o=t.edgeObj,i=function(e,n,r,t){var o,i,a=[],u=[],d=Math.min(n[r].low,n[t].low),c=Math.max(n[r].lim,n[t].lim);o=r;do{o=e.parent(o),a.push(o)}while(o&&(n[o].low>d||c>n[o].lim));i=o,o=t;for(;(o=e.parent(o))!==i;)u.push(o);return{path:a.concat(u.reverse()),lca:i}}(e,n,o.v,o.w),a=i.path,u=i.lca,d=0,c=a[d],s=!0;r!==o.w;){if(t=e.node(r),s){for(;(c=a[d])!==u&&e.node(c).maxRank<t.rank;)d++;c===u&&(s=!1)}if(!s){for(;d<a.length-1&&e.node(c=a[d+1]).minRank<=t.rank;)d++;c=a[d]}e.setParent(r,c),r=e.successors(r)[0]}})}function on(e,n){var r={};return l(n,function(n,t){var o=0,i=0,a=n.length,u=_(t);return f(t,function(n,d){var c=function(e,n){if(e.node(n).dummy)return O(e.predecessors(n),function(n){return e.node(n).dummy})}(e,n),s=c?e.node(c).order:a;(c||n===u)&&(f(t.slice(i,d+1),function(n){f(e.predecessors(n),function(t){var i=e.node(t),a=i.order;!(a<o||s<a)||i.dummy&&e.node(n).dummy||an(r,t,n)})}),i=d+1,o=s)}),t}),r}function an(e,n,r){if(n>r){var t=n;n=r,r=t}var o=e[n];o||(e[n]=o={}),o[r]=!0}function un(e,n,r){if(n>r){var t=n;n=r,r=t}return!!e[n]&&Object.prototype.hasOwnProperty.call(e[n],r)}function dn(n,r,t,o,i){var a={},u=function(n,r,t,o){var i=new e,a=n.graph(),u=function(e,n,r){return function(t,o,i){var a,u=t.node(o),d=t.node(i),c=0;if(c+=u.width/2,Object.prototype.hasOwnProperty.call(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":a=-u.width/2;break;case"r":a=u.width/2}if(a&&(c+=r?a:-a),a=0,c+=(u.dummy?n:e)/2,c+=(d.dummy?n:e)/2,c+=d.width/2,Object.prototype.hasOwnProperty.call(d,"labelpos"))switch(d.labelpos.toLowerCase()){case"l":a=d.width/2;break;case"r":a=-d.width/2}return a&&(c+=r?a:-a),a=0,c}}(a.nodesep,a.edgesep,o);return f(r,function(e){var r;f(e,function(e){var o=t[e];if(i.setNode(o),r){var a=t[r],d=i.edge(a,o);i.setEdge(a,o,Math.max(u(n,e,r),d||0))}r=e})}),i}(n,r,t,i),d=i?"borderLeft":"borderRight";function c(e,n){for(var r=u.nodes(),t=r.pop(),o={};t;)o[t]?e(t):(o[t]=!0,r.push(t),r=r.concat(n(t))),t=r.pop()}return c(function(e){a[e]=u.inEdges(e).reduce(function(e,n){return Math.max(e,a[n.v]+u.edge(n))},0)},u.predecessors.bind(u)),c(function(e){var r=u.outEdges(e).reduce(function(e,n){return Math.min(e,a[n.w]-u.edge(n))},Number.POSITIVE_INFINITY),t=n.node(e);r!==Number.POSITIVE_INFINITY&&t.borderType!==d&&(a[e]=Math.max(a[e],r))},u.successors.bind(u)),f(o,function(e){a[e]=a[t[e]]}),a}function cn(e,n){return J(v(n),function(n){var t,o,i=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;return o=function(n,r){var t=function(e,n){return e.node(n).width}(e,r)/2;i=Math.max(n+t,i),a=Math.min(n-t,a)},null==(t=n)||R(t,r(o),M),i-a})}function sn(e){var n,r=ge(e),t=B(on(e,r),function(e,n){var r={};function t(n,t,o,i,a){var u;f(Z(t,o),function(t){u=n[t],e.node(u).dummy&&f(e.predecessors(u),function(n){var t=e.node(n);t.dummy&&(t.order<i||t.order>a)&&an(r,n,u)})})}return l(n,function(n,r){var o,i=-1,a=0;return f(r,function(u,d){if("border"===e.node(u).dummy){var c=e.predecessors(u);c.length&&(o=e.node(c[0]).order,t(r,a,d,i,o),a=d,i=o)}t(r,a,r.length,o,n.length)}),r}),r}(e,r)),o={};f(["u","d"],function(i){n="u"===i?r:v(r).reverse(),f(["l","r"],function(r){"r"===r&&(n=k(n,function(e){return v(e).reverse()}));var a=("u"===i?e.predecessors:e.successors).bind(e),u=function(e,n,r,t){var o={},i={},a={};return f(n,function(e){f(e,function(e,n){o[e]=e,i[e]=e,a[e]=n})}),f(n,function(e){var n=-1;f(e,function(e){var u=t(e);if(u.length){u=$(u,function(e){return a[e]});for(var d=(u.length-1)/2,c=Math.floor(d),s=Math.ceil(d);c<=s;++c){var f=u[c];i[e]===e&&n<a[f]&&!un(r,e,f)&&(i[f]=e,i[e]=o[e]=o[f],n=a[f])}}})}),{root:o,align:i}}(0,n,t,a),d=dn(e,n,u.root,u.align,"r"===r);"r"===r&&(d=A(d,function(e){return-e})),o[i+r]=d})});var i=cn(e,o);return function(e,n){var r=v(n),t=E(r),o=D(r);f(["u","d"],function(r){f(["l","r"],function(i){var a,u=r+i,d=e[u];if(d!==n){var c=v(d);(a="l"===i?t-E(c):o-D(c))&&(e[u]=A(d,function(e){return e+a}))}})})}(o,i),function(e,n){return A(e.ul,function(r,t){if(n)return e[n.toLowerCase()][t];var o=$(k(e,t));return(o[1]+o[2])/2})}(o,e.graph().align)}function fn(e){var n,o;(function(e){var n=ge(e),r=e.graph().ranksep,t=0;f(n,function(n){var o=D(k(n,function(n){return e.node(n).height}));f(n,function(n){e.node(n).y=t+o/2}),t+=o+r})})(e=fe(e)),n=sn(e),o=function(n,r){e.node(r).x=n},n&&t(n,r(o))}function hn(n,r){var t=pe;t("layout",()=>{var r=t("  buildLayoutGraph",()=>function(n){var r=new e({multigraph:!0,compound:!0}),t=kn(n.graph());return r.setGraph(B({},vn,xn(t,gn),K(t,ln))),f(n.nodes(),function(e){var t=kn(n.node(e));r.setNode(e,I(xn(t,pn),wn)),r.setParent(e,n.parent(e))}),f(n.edges(),function(e){var t=kn(n.edge(e));r.setEdge(e,B({},mn,xn(t,bn),K(t,yn)))}),r}(n));t("  runLayout",()=>function(e,n){n("    makeSpaceForEdgeLabels",()=>function(e){var n=e.graph();n.ranksep/=2,f(e.edges(),function(r){var t=e.edge(r);t.minlen*=2,"c"!==t.labelpos.toLowerCase()&&("TB"===n.rankdir||"BT"===n.rankdir?t.width+=t.labeloffset:t.height+=t.labeloffset)})}(e)),n("    removeSelfEdges",()=>function(e){f(e.edges(),function(n){if(n.v===n.w){var r=e.node(n.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:n,label:e.edge(n)}),e.removeEdge(n)}})}(e)),n("    acyclic",()=>ce(e)),n("    nestingGraph.run",()=>De(e)),n("    rank",()=>Ye(fe(e))),n("    injectEdgeLabelProxies",()=>function(e){f(e.edges(),function(n){var r=e.edge(n);if(r.width&&r.height){var t=e.node(n.v),o={rank:(e.node(n.w).rank-t.rank)/2+t.rank,e:n};se(e,"edge-proxy",o,"_ep")}})}(e)),n("    removeEmptyRanks",()=>function(e){var n=E(k(e.nodes(),function(n){return e.node(n).rank})),r=[];f(e.nodes(),function(t){var o=e.node(t).rank-n;r[o]||(r[o]=[]),r[o].push(t)});var t=0,o=e.graph().nodeRankFactor;f(r,function(n,r){h(n)&&r%o!==0?--t:t&&f(n,function(n){e.node(n).rank+=t})})}(e)),n("    nestingGraph.cleanup",()=>function(e){var n=e.graph();e.removeNode(n.nestingRoot),delete n.nestingRoot,f(e.edges(),function(n){e.edge(n).nestingEdge&&e.removeEdge(n)})}(e)),n("    normalizeRanks",()=>function(e){var n=E(k(e.nodes(),function(n){return e.node(n).rank}));f(e.nodes(),function(r){var t=e.node(r);N(t,"rank")&&(t.rank-=n)})}(e)),n("    assignRankMinMax",()=>function(e){var n=0;f(e.nodes(),function(r){var t=e.node(r);t.borderTop&&(t.minRank=e.node(t.borderTop).rank,t.maxRank=e.node(t.borderBottom).rank,n=D(n,t.maxRank))}),e.graph().maxRank=n}(e)),n("    removeEdgeLabelProxies",()=>function(e){f(e.nodes(),function(n){var r=e.node(n);"edge-proxy"===r.dummy&&(e.edge(r.e).labelRank=r.rank,e.removeNode(n))})}(e)),n("    normalize.run",()=>Ee(e)),n("    parentDummyChains",()=>tn(e)),n("    addBorderSegments",()=>function(e){f(e.children(),function n(r){var t=e.children(r),o=e.node(r);if(t.length&&f(t,n),Object.prototype.hasOwnProperty.call(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var i=o.minRank,a=o.maxRank+1;i<a;++i)we(e,"borderLeft","_bl",r,o,i),we(e,"borderRight","_br",r,o,i)}})}(e)),n("    order",()=>$e(e)),n("    insertSelfEdges",()=>function(e){var n=ge(e);f(n,function(n){var r=0;f(n,function(n,t){var o=e.node(n);o.order=t+r,f(o.selfEdges,function(n){se(e,"selfedge",{width:n.label.width,height:n.label.height,rank:o.rank,order:t+ ++r,e:n.e,label:n.label},"_se")}),delete o.selfEdges})})}(e)),n("    adjustCoordinateSystem",()=>function(e){var n=e.graph().rankdir.toLowerCase();"lr"!==n&&"rl"!==n||me(e)}(e)),n("    position",()=>fn(e)),n("    positionSelfEdges",()=>function(e){f(e.nodes(),function(n){var r=e.node(n);if("selfedge"===r.dummy){var t=e.node(r.e.v),o=t.x+t.width/2,i=t.y,a=r.x-o,u=t.height/2;e.setEdge(r.e,r.label),e.removeNode(n),r.label.points=[{x:o+2*a/3,y:i-u},{x:o+5*a/6,y:i-u},{x:o+a,y:i},{x:o+5*a/6,y:i+u},{x:o+2*a/3,y:i+u}],r.label.x=r.x,r.label.y=r.y}})}(e)),n("    removeBorderNodes",()=>function(e){f(e.nodes(),function(n){if(e.children(n).length){var r=e.node(n),t=e.node(r.borderTop),o=e.node(r.borderBottom),i=e.node(_(r.borderLeft)),a=e.node(_(r.borderRight));r.width=Math.abs(a.x-i.x),r.height=Math.abs(o.y-t.y),r.x=i.x+r.width/2,r.y=t.y+r.height/2}}),f(e.nodes(),function(n){"border"===e.node(n).dummy&&e.removeNode(n)})}(e)),n("    normalize.undo",()=>function(e){f(e.graph().dummyChains,function(n){var r,t=e.node(n),o=t.edgeLabel;for(e.setEdge(t.edgeObj,o);t.dummy;)r=e.successors(n)[0],e.removeNode(n),o.points.push({x:t.x,y:t.y}),"edge-label"===t.dummy&&(o.x=t.x,o.y=t.y,o.width=t.width,o.height=t.height),n=r,t=e.node(n)})}(e)),n("    fixupEdgeLabelCoords",()=>function(e){f(e.edges(),function(n){var r=e.edge(n);if(Object.prototype.hasOwnProperty.call(r,"x"))switch("l"!==r.labelpos&&"r"!==r.labelpos||(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset}})}(e)),n("    undoCoordinateSystem",()=>be(e)),n("    translateGraph",()=>function(e){var n=Number.POSITIVE_INFINITY,r=0,t=Number.POSITIVE_INFINITY,o=0,i=e.graph(),a=i.marginx||0,u=i.marginy||0;function d(e){var i=e.x,a=e.y,u=e.width,d=e.height;n=Math.min(n,i-u/2),r=Math.max(r,i+u/2),t=Math.min(t,a-d/2),o=Math.max(o,a+d/2)}f(e.nodes(),function(n){d(e.node(n))}),f(e.edges(),function(n){var r=e.edge(n);Object.prototype.hasOwnProperty.call(r,"x")&&d(r)}),n-=a,t-=u,f(e.nodes(),function(r){var o=e.node(r);o.x-=n,o.y-=t}),f(e.edges(),function(r){var o=e.edge(r);f(o.points,function(e){e.x-=n,e.y-=t}),Object.prototype.hasOwnProperty.call(o,"x")&&(o.x-=n),Object.prototype.hasOwnProperty.call(o,"y")&&(o.y-=t)}),i.width=r-n+a,i.height=o-t+u}(e)),n("    assignNodeIntersects",()=>function(e){f(e.edges(),function(n){var r,t,o=e.edge(n),i=e.node(n.v),a=e.node(n.w);o.points?(r=o.points[0],t=o.points[o.points.length-1]):(o.points=[],r=a,t=i),o.points.unshift(he(i,r)),o.points.push(he(a,t))})}(e)),n("    reversePoints",()=>function(e){f(e.edges(),function(n){var r=e.edge(n);r.reversed&&r.points.reverse()})}(e)),n("    acyclic.undo",()=>function(e){f(e.edges(),function(n){var r=e.edge(n);if(r.reversed){e.removeEdge(n);var t=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(n.w,n.v,r,t)}})}(e))}(r,t)),t("  updateInputGraph",()=>function(e,n){f(e.nodes(),function(r){var t=e.node(r),o=n.node(r);t&&(t.x=o.x,t.y=o.y,n.children(r).length&&(t.width=o.width,t.height=o.height))}),f(e.edges(),function(r){var t=e.edge(r),o=n.edge(r);t.points=o.points,Object.prototype.hasOwnProperty.call(o,"x")&&(t.x=o.x,t.y=o.y)}),e.graph().width=n.graph().width,e.graph().height=n.graph().height}(n,r))})}var gn=["nodesep","edgesep","ranksep","marginx","marginy"],vn={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},ln=["acyclicer","ranker","rankdir","align"],pn=["width","height"],wn={width:0,height:0},bn=["minlen","weight","width","height","labeloffset"],mn={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},yn=["labelpos"];function xn(e,n){return A(K(e,n),Number)}function kn(e){var n={};return f(e,function(e,r){n[r.toLowerCase()]=e}),n}export{hn as l};

import{s as r,b as s,a as t,S as e}from"./chunk-LXBSTHXV.js";import{_ as a}from"./index.js";import"./chunk-WVR4S24B.js";import"./chunk-NRVI72HA.js";var o={parser:t,get db(){return new e(2)},renderer:s,styles:r,init:a(r=>{r.state||(r.state={}),r.state.arrowMarkerAbsolute=r.arrowMarkerAbsolute},"init")};export{o as diagram};

import{a as t,g as e,f as n,d as i}from"./chunk-OMD6QJNC.js";import{g as s}from"./chunk-GLLZNHP4.js";import{_ as a,g as r,s as o,a as l,b as c,q as h,p as u,c as p,d as y,e as d,y as f}from"./index.js";import{d as g}from"./arc.js";var m=function(){var t=a(function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},"o"),e=[6,8,10,11,12,14,16,17,18],n=[1,9],i=[1,10],s=[1,11],r=[1,12],o=[1,13],l=[1,14],c={trace:a(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:a(function(t,e,n,i,s,a,r){var o=a.length-1;switch(s){case 1:return a[o-1];case 2:case 6:case 7:this.$=[];break;case 3:a[o-1].push(a[o]),this.$=a[o-1];break;case 4:case 5:this.$=a[o];break;case 8:i.setDiagramTitle(a[o].substr(6)),this.$=a[o].substr(6);break;case 9:this.$=a[o].trim(),i.setAccTitle(this.$);break;case 10:case 11:this.$=a[o].trim(),i.setAccDescription(this.$);break;case 12:i.addSection(a[o].substr(8)),this.$=a[o].substr(8);break;case 13:i.addTask(a[o-1],a[o]),this.$="task"}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:n,12:i,14:s,16:r,17:o,18:l},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:15,11:n,12:i,14:s,16:r,17:o,18:l},t(e,[2,5]),t(e,[2,6]),t(e,[2,8]),{13:[1,16]},{15:[1,17]},t(e,[2,11]),t(e,[2,12]),{19:[1,18]},t(e,[2,4]),t(e,[2,9]),t(e,[2,10]),t(e,[2,13])],defaultActions:{},parseError:a(function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},"parseError"),parse:a(function(t){var e=this,n=[0],i=[],s=[null],r=[],o=this.table,l="",c=0,h=0,u=r.slice.call(arguments,1),p=Object.create(this.lexer),y={yy:{}};for(var d in this.yy)Object.prototype.hasOwnProperty.call(this.yy,d)&&(y.yy[d]=this.yy[d]);p.setInput(t,y.yy),y.yy.lexer=p,y.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var f=p.yylloc;r.push(f);var g=p.options&&p.options.ranges;function m(){var t;return"number"!=typeof(t=i.pop()||p.lex()||1)&&(t instanceof Array&&(t=(i=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof y.yy.parseError?this.parseError=y.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,a(function(t){n.length=n.length-2*t,s.length=s.length-t,r.length=r.length-t},"popStack"),a(m,"lex");for(var x,k,_,b,w,v,$,M,T={};;){if(k=n[n.length-1],this.defaultActions[k]?_=this.defaultActions[k]:(null==x&&(x=m()),_=o[k]&&o[k][x]),void 0===_||!_.length||!_[0]){var S="";for(w in M=[],o[k])this.terminals_[w]&&w>2&&M.push("'"+this.terminals_[w]+"'");S=p.showPosition?"Parse error on line "+(c+1)+":\n"+p.showPosition()+"\nExpecting "+M.join(", ")+", got '"+(this.terminals_[x]||x)+"'":"Parse error on line "+(c+1)+": Unexpected "+(1==x?"end of input":"'"+(this.terminals_[x]||x)+"'"),this.parseError(S,{text:p.match,token:this.terminals_[x]||x,line:p.yylineno,loc:f,expected:M})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+k+", token: "+x);switch(_[0]){case 1:n.push(x),s.push(p.yytext),r.push(p.yylloc),n.push(_[1]),x=null,h=p.yyleng,l=p.yytext,c=p.yylineno,f=p.yylloc;break;case 2:if(v=this.productions_[_[1]][1],T.$=s[s.length-v],T._$={first_line:r[r.length-(v||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(v||1)].first_column,last_column:r[r.length-1].last_column},g&&(T._$.range=[r[r.length-(v||1)].range[0],r[r.length-1].range[1]]),void 0!==(b=this.performAction.apply(T,[l,h,c,y.yy,_[1],s,r].concat(u))))return b;v&&(n=n.slice(0,-1*v*2),s=s.slice(0,-1*v),r=r.slice(0,-1*v)),n.push(this.productions_[_[1]][0]),s.push(T.$),r.push(T._$),$=o[n[n.length-2]][n[n.length-1]],n.push($);break;case 3:return!0}}return!0},"parse")},h=function(){return{EOF:1,parseError:a(function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},"parseError"),setInput:a(function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:a(function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},"input"),unput:a(function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},"unput"),more:a(function(){return this._more=!0,this},"more"),reject:a(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:a(function(t){this.unput(this.match.slice(t))},"less"),pastInput:a(function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:a(function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:a(function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},"showPosition"),test_match:a(function(t,e){var n,i,s;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var a in s)this[a]=s[a];return!1}return!1},"test_match"),next:a(function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),a=0;a<s.length;a++)if((n=this._input.match(this.rules[s[a]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=a,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,s[a])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,s[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:a(function(){var t=this.next();return t||this.lex()},"lex"),begin:a(function(t){this.conditionStack.push(t)},"begin"),popState:a(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:a(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:a(function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},"topState"),pushState:a(function(t){this.begin(t)},"pushState"),stateStackSize:a(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:a(function(t,e,n,i){switch(n){case 0:case 1:case 3:case 4:break;case 2:return 10;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}}}();function u(){this.yy={}}return c.lexer=h,a(u,"Parser"),u.prototype=c,c.Parser=u,new u}();m.parser=m;var x=m,k="",_=[],b=[],w=[],v=a(function(){_.length=0,b.length=0,k="",w.length=0,f()},"clear"),$=a(function(t){k=t,_.push(t)},"addSection"),M=a(function(){return _},"getSections"),T=a(function(){let t=P();let e=0;for(;!t&&e<100;)t=P(),e++;return b.push(...w),b},"getTasks"),S=a(function(){const t=[];b.forEach(e=>{e.people&&t.push(...e.people)});return[...new Set(t)].sort()},"updateActors"),C=a(function(t,e){const n=e.substr(1).split(":");let i=0,s=[];1===n.length?(i=Number(n[0]),s=[]):(i=Number(n[0]),s=n[1].split(","));const a=s.map(t=>t.trim()),r={section:k,type:k,people:a,task:t,score:i};w.push(r)},"addTask"),E=a(function(t){const e={section:k,type:k,description:t,task:t,classes:[]};b.push(e)},"addTaskOrg"),P=a(function(){const t=a(function(t){return w[t].processed},"compileTask");let e=!0;for(const[n,i]of w.entries())t(n),e=e&&i.processed;return e},"compileTasks"),A=a(function(){return S()},"getActors"),I={getConfig:a(()=>p().journey,"getConfig"),clear:v,setDiagramTitle:u,getDiagramTitle:h,setAccTitle:c,getAccTitle:l,setAccDescription:o,getAccDescription:r,addSection:$,getSections:M,getTasks:T,addTask:C,addTaskOrg:E,getActors:A},j=a(t=>`.label {\n    font-family: ${t.fontFamily};\n    color: ${t.textColor};\n  }\n  .mouth {\n    stroke: #666;\n  }\n\n  line {\n    stroke: ${t.textColor}\n  }\n\n  .legend {\n    fill: ${t.textColor};\n    font-family: ${t.fontFamily};\n  }\n\n  .label text {\n    fill: #333;\n  }\n  .label {\n    color: ${t.textColor}\n  }\n\n  .face {\n    ${t.faceColor?`fill: ${t.faceColor}`:"fill: #FFF8DC"};\n    stroke: #999;\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${t.mainBkg};\n    stroke: ${t.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${t.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${t.lineColor};\n    stroke-width: 1.5px;\n  }\n\n  .flowchart-link {\n    stroke: ${t.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${t.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n  }\n\n  .cluster text {\n    fill: ${t.titleColor};\n  }\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ${t.fontFamily};\n    font-size: 12px;\n    background: ${t.tertiaryColor};\n    border: 1px solid ${t.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .task-type-0, .section-type-0  {\n    ${t.fillType0?`fill: ${t.fillType0}`:""};\n  }\n  .task-type-1, .section-type-1  {\n    ${t.fillType0?`fill: ${t.fillType1}`:""};\n  }\n  .task-type-2, .section-type-2  {\n    ${t.fillType0?`fill: ${t.fillType2}`:""};\n  }\n  .task-type-3, .section-type-3  {\n    ${t.fillType0?`fill: ${t.fillType3}`:""};\n  }\n  .task-type-4, .section-type-4  {\n    ${t.fillType0?`fill: ${t.fillType4}`:""};\n  }\n  .task-type-5, .section-type-5  {\n    ${t.fillType0?`fill: ${t.fillType5}`:""};\n  }\n  .task-type-6, .section-type-6  {\n    ${t.fillType0?`fill: ${t.fillType6}`:""};\n  }\n  .task-type-7, .section-type-7  {\n    ${t.fillType0?`fill: ${t.fillType7}`:""};\n  }\n\n  .actor-0 {\n    ${t.actor0?`fill: ${t.actor0}`:""};\n  }\n  .actor-1 {\n    ${t.actor1?`fill: ${t.actor1}`:""};\n  }\n  .actor-2 {\n    ${t.actor2?`fill: ${t.actor2}`:""};\n  }\n  .actor-3 {\n    ${t.actor3?`fill: ${t.actor3}`:""};\n  }\n  .actor-4 {\n    ${t.actor4?`fill: ${t.actor4}`:""};\n  }\n  .actor-5 {\n    ${t.actor5?`fill: ${t.actor5}`:""};\n  }\n  ${s()}\n`,"getStyles"),F=a(function(t,e){return i(t,e)},"drawRect"),V=a(function(t,e){const n=15,i=t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",n).attr("stroke-width",2).attr("overflow","visible"),s=t.append("g");function r(t){const i=g().startAngle(Math.PI/2).endAngle(Math.PI/2*3).innerRadius(7.5).outerRadius(n/2.2);t.append("path").attr("class","mouth").attr("d",i).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}function o(t){const i=g().startAngle(3*Math.PI/2).endAngle(Math.PI/2*5).innerRadius(7.5).outerRadius(n/2.2);t.append("path").attr("class","mouth").attr("d",i).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}function l(t){t.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return s.append("circle").attr("cx",e.cx-5).attr("cy",e.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),s.append("circle").attr("cx",e.cx+5).attr("cy",e.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),a(r,"smile"),a(o,"sad"),a(l,"ambivalent"),e.score>3?r(s):e.score<3?o(s):l(s),i},"drawFace"),B=a(function(t,e){const n=t.append("circle");return n.attr("cx",e.cx),n.attr("cy",e.cy),n.attr("class","actor-"+e.pos),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("r",e.r),void 0!==n.class&&n.attr("class",n.class),void 0!==e.title&&n.append("title").text(e.title),n},"drawCircle"),L=a(function(t,e){return n(t,e)},"drawText"),O=a(function(t,e){function n(t,e,n,i,s){return t+","+e+" "+(t+n)+","+e+" "+(t+n)+","+(e+i-s)+" "+(t+n-1.2*s)+","+(e+i)+" "+t+","+(e+i)}a(n,"genPoints");const i=t.append("polygon");i.attr("points",n(e.x,e.y,50,20,7)),i.attr("class","labelBox"),e.y=e.y+e.labelMargin,e.x=e.x+.5*e.labelMargin,L(t,e)},"drawLabel"),R=a(function(t,n,i){const s=t.append("g"),a=e();a.x=n.x,a.y=n.y,a.fill=n.fill,a.width=i.width*n.taskCount+i.diagramMarginX*(n.taskCount-1),a.height=i.height,a.class="journey-section section-type-"+n.num,a.rx=3,a.ry=3,F(s,a),Y(i)(n.text,s,a.x,a.y,a.width,a.height,{class:"journey-section section-type-"+n.num},i,n.colour)},"drawSection"),D=-1,N=a(function(t,n,i){const s=n.x+i.width/2,a=t.append("g");D++;a.append("line").attr("id","task"+D).attr("x1",s).attr("y1",n.y).attr("x2",s).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),V(a,{cx:s,cy:300+30*(5-n.score),score:n.score});const r=e();r.x=n.x,r.y=n.y,r.fill=n.fill,r.width=i.width,r.height=i.height,r.class="task task-type-"+n.num,r.rx=3,r.ry=3,F(a,r);let o=n.x+14;n.people.forEach(t=>{const e=n.actors[t].color,i={cx:o,cy:n.y,r:7,fill:e,stroke:"#000",title:t,pos:n.actors[t].position};B(a,i),o+=10}),Y(i)(n.task,a,r.x,r.y,r.width,r.height,{class:"task"},i,n.colour)},"drawTask"),z=a(function(e,n){t(e,n)},"drawBackgroundRect"),Y=function(){function t(t,e,n,s,a,r,o,l){i(e.append("text").attr("x",n+a/2).attr("y",s+r/2+5).style("font-color",l).style("text-anchor","middle").text(t),o)}function e(t,e,n,s,a,r,o,l,c){const{taskFontSize:h,taskFontFamily:u}=l,p=t.split(/<br\s*\/?>/gi);for(let y=0;y<p.length;y++){const t=y*h-h*(p.length-1)/2,l=e.append("text").attr("x",n+a/2).attr("y",s).attr("fill",c).style("text-anchor","middle").style("font-size",h).style("font-family",u);l.append("tspan").attr("x",n+a/2).attr("dy",t).text(p[y]),l.attr("y",s+r/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(l,o)}}function n(t,n,s,a,r,o,l,c){const h=n.append("switch"),u=h.append("foreignObject").attr("x",s).attr("y",a).attr("width",r).attr("height",o).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");u.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(t),e(t,h,s,a,r,o,l,c),i(u,l)}function i(t,e){for(const n in e)n in e&&t.attr(n,e[n])}return a(t,"byText"),a(e,"byTspan"),a(n,"byFo"),a(i,"_setTextAttrs"),function(i){return"fo"===i.textPlacement?n:"old"===i.textPlacement?t:e}}(),q={drawRect:F,drawCircle:B,drawSection:R,drawText:L,drawLabel:O,drawTask:N,drawBackgroundRect:z,initGraphics:a(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics")},W=a(function(t){Object.keys(t).forEach(function(e){U[e]=t[e]})},"setConf"),G={},X=0;function H(t){const e=p().journey,n=e.maxLabelWidth;X=0;let i=60;Object.keys(G).forEach(s=>{const a=G[s].color,r={cx:20,cy:i,r:7,fill:a,stroke:"#000",pos:G[s].position};q.drawCircle(t,r);let o=t.append("text").attr("visibility","hidden").text(s);const l=o.node().getBoundingClientRect().width;o.remove();let c=[];if(l<=n)c=[s];else{const e=s.split(" ");let i="";o=t.append("text").attr("visibility","hidden"),e.forEach(t=>{const e=i?`${i} ${t}`:t;o.text(e);if(o.node().getBoundingClientRect().width>n){if(i&&c.push(i),i=t,o.text(t),o.node().getBoundingClientRect().width>n){let e="";for(const i of t)e+=i,o.text(e+"-"),o.node().getBoundingClientRect().width>n&&(c.push(e.slice(0,-1)+"-"),e=i);i=e}}else i=e}),i&&c.push(i),o.remove()}c.forEach((n,s)=>{const a={x:40,y:i+7+20*s,fill:"#666",text:n,textMargin:e.boxTextMargin??5},r=q.drawText(t,a).node().getBoundingClientRect().width;r>X&&r>e.leftMargin-r&&(X=r)}),i+=Math.max(20,20*c.length)})}a(H,"drawActorLegend");var U=p().journey,Z=0,J=a(function(t,e,n,i){const s=p(),a=s.journey.titleColor,r=s.journey.titleFontSize,o=s.journey.titleFontFamily,l=s.securityLevel;let c;"sandbox"===l&&(c=y("#i"+e));const h=y("sandbox"===l?c.nodes()[0].contentDocument.body:"body");Q.init();const u=h.select("#"+e);q.initGraphics(u);const f=i.db.getTasks(),g=i.db.getDiagramTitle(),m=i.db.getActors();for(const p in G)delete G[p];let x=0;m.forEach(t=>{G[t]={color:U.actorColours[x%U.actorColours.length],position:x},x++}),H(u),Z=U.leftMargin+X,Q.insert(0,0,Z,50*Object.keys(G).length),et(u,f,0);const k=Q.getBounds();g&&u.append("text").text(g).attr("x",Z).attr("font-size",r).attr("font-weight","bold").attr("y",25).attr("fill",a).attr("font-family",o);const _=k.stopy-k.starty+2*U.diagramMarginY,b=Z+k.stopx+2*U.diagramMarginX;d(u,_,b,U.useMaxWidth),u.append("line").attr("x1",Z).attr("y1",4*U.height).attr("x2",b-Z-4).attr("y2",4*U.height).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const w=g?70:0;u.attr("viewBox",`${k.startx} -25 ${b} ${_+w}`),u.attr("preserveAspectRatio","xMinYMin meet"),u.attr("height",_+w+25)},"draw"),Q={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:a(function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},"init"),updateVal:a(function(t,e,n,i){void 0===t[e]?t[e]=n:t[e]=i(n,t[e])},"updateVal"),updateBounds:a(function(t,e,n,i){const s=p().journey,r=this;let o=0;function l(l){return a(function(a){o++;const c=r.sequenceItems.length-o+1;r.updateVal(a,"starty",e-c*s.boxMargin,Math.min),r.updateVal(a,"stopy",i+c*s.boxMargin,Math.max),r.updateVal(Q.data,"startx",t-c*s.boxMargin,Math.min),r.updateVal(Q.data,"stopx",n+c*s.boxMargin,Math.max),"activation"!==l&&(r.updateVal(a,"startx",t-c*s.boxMargin,Math.min),r.updateVal(a,"stopx",n+c*s.boxMargin,Math.max),r.updateVal(Q.data,"starty",e-c*s.boxMargin,Math.min),r.updateVal(Q.data,"stopy",i+c*s.boxMargin,Math.max))},"updateItemBounds")}a(l,"updateFn"),this.sequenceItems.forEach(l())},"updateBounds"),insert:a(function(t,e,n,i){const s=Math.min(t,n),a=Math.max(t,n),r=Math.min(e,i),o=Math.max(e,i);this.updateVal(Q.data,"startx",s,Math.min),this.updateVal(Q.data,"starty",r,Math.min),this.updateVal(Q.data,"stopx",a,Math.max),this.updateVal(Q.data,"stopy",o,Math.max),this.updateBounds(s,r,a,o)},"insert"),bumpVerticalPos:a(function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},"bumpVerticalPos"),getVerticalPos:a(function(){return this.verticalPos},"getVerticalPos"),getBounds:a(function(){return this.data},"getBounds")},K=U.sectionFills,tt=U.sectionColours,et=a(function(t,e,n){const i=p().journey;let s="";const a=n+(2*i.height+i.diagramMarginY);let r=0,o="#CCC",l="black",c=0;for(const[h,u]of e.entries()){if(s!==u.section){o=K[r%K.length],c=r%K.length,l=tt[r%tt.length];let n=0;const a=u.section;for(let t=h;t<e.length&&e[t].section==a;t++)n+=1;const p={x:h*i.taskMargin+h*i.width+Z,y:50,text:u.section,fill:o,num:c,colour:l,taskCount:n};q.drawSection(t,p,i),s=u.section,r++}const n=u.people.reduce((t,e)=>(G[e]&&(t[e]=G[e]),t),{});u.x=h*i.taskMargin+h*i.width+Z,u.y=a,u.width=i.diagramMarginX,u.height=i.diagramMarginY,u.colour=l,u.fill=o,u.num=c,u.actors=n,q.drawTask(t,u,i),Q.insert(u.x,u.y,u.x+u.width+i.taskMargin,450)}},"drawTasks"),nt={setConf:W,draw:J},it={parser:x,db:I,renderer:nt,styles:j,init:a(t=>{nt.setConf(t.journey),I.clear()},"init")};export{it as diagram};

import{a0 as n,a1 as t,a2 as a,a3 as r,a4 as c,a5 as e,a6 as u,a7 as i,a8 as o,a9 as y,aa as l,ab as f,ac as s,ad as x,ae as p}from"./index.js";function h(n){return n.innerRadius}function v(n){return n.outerRadius}function d(n){return n.startAngle}function g(n){return n.endAngle}function m(n){return n&&n.padAngle}function T(n,t,a,r,c,e,u){var i=n-a,o=t-r,y=(u?e:-e)/l(i*i+o*o),f=y*o,s=-y*i,x=n+f,h=t+s,v=a+f,d=r+s,g=(x+v)/2,m=(h+d)/2,T=v-x,A=d-h,R=T*T+A*A,b=c-e,j=x*d-v*h,P=(A<0?-1:1)*l(p(0,b*b*R-j*j)),k=(j*A-T*P)/R,q=(-j*T-A*P)/R,w=(j*A+T*P)/R,z=(-j*T+A*P)/R,B=k-g,C=q-m,D=w-g,E=z-m;return B*B+C*C>D*D+E*E&&(k=w,q=z),{cx:k,cy:q,x01:-f,y01:-s,x11:k*(c/b-1),y11:q*(c/b-1)}}function A(){var p=h,A=v,R=o(0),b=null,j=d,P=g,k=m,q=null,w=n(z);function z(){var n,o,h=+p.apply(this,arguments),v=+A.apply(this,arguments),d=j.apply(this,arguments)-t,g=P.apply(this,arguments)-t,m=i(g-d),z=g>d;if(q||(q=n=w()),v<h&&(o=v,v=h,h=o),v>a)if(m>r-a)q.moveTo(v*c(d),v*e(d)),q.arc(0,0,v,d,g,!z),h>a&&(q.moveTo(h*c(g),h*e(g)),q.arc(0,0,h,g,d,z));else{var B,C,D=d,E=g,F=d,G=g,H=m,I=m,J=k.apply(this,arguments)/2,K=J>a&&(b?+b.apply(this,arguments):l(h*h+v*v)),L=u(i(v-h)/2,+R.apply(this,arguments)),M=L,N=L;if(K>a){var O=s(K/h*e(J)),Q=s(K/v*e(J));(H-=2*O)>a?(F+=O*=z?1:-1,G-=O):(H=0,F=G=(d+g)/2),(I-=2*Q)>a?(D+=Q*=z?1:-1,E-=Q):(I=0,D=E=(d+g)/2)}var S=v*c(D),U=v*e(D),V=h*c(G),W=h*e(G);if(L>a){var X,Y=v*c(E),Z=v*e(E),$=h*c(F),_=h*e(F);if(m<y)if(X=function(n,t,r,c,e,u,i,o){var y=r-n,l=c-t,f=i-e,s=o-u,x=s*y-f*l;if(!(x*x<a))return[n+(x=(f*(t-u)-s*(n-e))/x)*y,t+x*l]}(S,U,$,_,Y,Z,V,W)){var nn=S-X[0],tn=U-X[1],an=Y-X[0],rn=Z-X[1],cn=1/e(x((nn*an+tn*rn)/(l(nn*nn+tn*tn)*l(an*an+rn*rn)))/2),en=l(X[0]*X[0]+X[1]*X[1]);M=u(L,(h-en)/(cn-1)),N=u(L,(v-en)/(cn+1))}else M=N=0}I>a?N>a?(B=T($,_,S,U,v,N,z),C=T(Y,Z,V,W,v,N,z),q.moveTo(B.cx+B.x01,B.cy+B.y01),N<L?q.arc(B.cx,B.cy,N,f(B.y01,B.x01),f(C.y01,C.x01),!z):(q.arc(B.cx,B.cy,N,f(B.y01,B.x01),f(B.y11,B.x11),!z),q.arc(0,0,v,f(B.cy+B.y11,B.cx+B.x11),f(C.cy+C.y11,C.cx+C.x11),!z),q.arc(C.cx,C.cy,N,f(C.y11,C.x11),f(C.y01,C.x01),!z))):(q.moveTo(S,U),q.arc(0,0,v,D,E,!z)):q.moveTo(S,U),h>a&&H>a?M>a?(B=T(V,W,Y,Z,h,-M,z),C=T(S,U,$,_,h,-M,z),q.lineTo(B.cx+B.x01,B.cy+B.y01),M<L?q.arc(B.cx,B.cy,M,f(B.y01,B.x01),f(C.y01,C.x01),!z):(q.arc(B.cx,B.cy,M,f(B.y01,B.x01),f(B.y11,B.x11),!z),q.arc(0,0,h,f(B.cy+B.y11,B.cx+B.x11),f(C.cy+C.y11,C.cx+C.x11),z),q.arc(C.cx,C.cy,M,f(C.y11,C.x11),f(C.y01,C.x01),!z))):q.arc(0,0,h,G,F,z):q.lineTo(V,W)}else q.moveTo(0,0);if(q.closePath(),n)return q=null,n+""||null}return z.centroid=function(){var n=(+p.apply(this,arguments)+ +A.apply(this,arguments))/2,t=(+j.apply(this,arguments)+ +P.apply(this,arguments))/2-y/2;return[c(t)*n,e(t)*n]},z.innerRadius=function(n){return arguments.length?(p="function"==typeof n?n:o(+n),z):p},z.outerRadius=function(n){return arguments.length?(A="function"==typeof n?n:o(+n),z):A},z.cornerRadius=function(n){return arguments.length?(R="function"==typeof n?n:o(+n),z):R},z.padRadius=function(n){return arguments.length?(b=null==n?null:"function"==typeof n?n:o(+n),z):b},z.startAngle=function(n){return arguments.length?(j="function"==typeof n?n:o(+n),z):j},z.endAngle=function(n){return arguments.length?(P="function"==typeof n?n:o(+n),z):P},z.padAngle=function(n){return arguments.length?(k="function"==typeof n?n:o(+n),z):k},z.context=function(n){return arguments.length?(q=null==n?null:n,z):q},z}export{A as d};

import{_ as t,c as e,l as n,d as i,V as s,W as r,X as a,Y as o,B as c,$ as l,y as h}from"./index.js";import{d}from"./arc.js";var u=function(){var e=t(function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},"o"),n=[6,8,10,11,12,14,16,17,20,21],i=[1,9],s=[1,10],r=[1,11],a=[1,12],o=[1,13],c=[1,16],l=[1,17],h={trace:t(function(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:t(function(t,e,n,i,s,r,a){var o=r.length-1;switch(s){case 1:return r[o-1];case 2:case 6:case 7:this.$=[];break;case 3:r[o-1].push(r[o]),this.$=r[o-1];break;case 4:case 5:this.$=r[o];break;case 8:i.getCommonDb().setDiagramTitle(r[o].substr(6)),this.$=r[o].substr(6);break;case 9:this.$=r[o].trim(),i.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=r[o].trim(),i.getCommonDb().setAccDescription(this.$);break;case 12:i.addSection(r[o].substr(8)),this.$=r[o].substr(8);break;case 15:i.addTask(r[o],0,""),this.$=r[o];break;case 16:i.addEvent(r[o].substr(2)),this.$=r[o]}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(n,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:i,12:s,14:r,16:a,17:o,18:14,19:15,20:c,21:l},e(n,[2,7],{1:[2,1]}),e(n,[2,3]),{9:18,11:i,12:s,14:r,16:a,17:o,18:14,19:15,20:c,21:l},e(n,[2,5]),e(n,[2,6]),e(n,[2,8]),{13:[1,19]},{15:[1,20]},e(n,[2,11]),e(n,[2,12]),e(n,[2,13]),e(n,[2,14]),e(n,[2,15]),e(n,[2,16]),e(n,[2,4]),e(n,[2,9]),e(n,[2,10])],defaultActions:{},parseError:t(function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},"parseError"),parse:t(function(e){var n=this,i=[0],s=[],r=[null],a=[],o=this.table,c="",l=0,h=0,d=a.slice.call(arguments,1),u=Object.create(this.lexer),p={yy:{}};for(var y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(p.yy[y]=this.yy[y]);u.setInput(e,p.yy),p.yy.lexer=u,p.yy.parser=this,void 0===u.yylloc&&(u.yylloc={});var g=u.yylloc;a.push(g);var f=u.options&&u.options.ranges;function m(){var t;return"number"!=typeof(t=s.pop()||u.lex()||1)&&(t instanceof Array&&(t=(s=t).pop()),t=n.symbols_[t]||t),t}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,t(function(t){i.length=i.length-2*t,r.length=r.length-t,a.length=a.length-t},"popStack"),t(m,"lex");for(var x,b,k,_,w,v,S,$,E={};;){if(b=i[i.length-1],this.defaultActions[b]?k=this.defaultActions[b]:(null==x&&(x=m()),k=o[b]&&o[b][x]),void 0===k||!k.length||!k[0]){var T="";for(w in $=[],o[b])this.terminals_[w]&&w>2&&$.push("'"+this.terminals_[w]+"'");T=u.showPosition?"Parse error on line "+(l+1)+":\n"+u.showPosition()+"\nExpecting "+$.join(", ")+", got '"+(this.terminals_[x]||x)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==x?"end of input":"'"+(this.terminals_[x]||x)+"'"),this.parseError(T,{text:u.match,token:this.terminals_[x]||x,line:u.yylineno,loc:g,expected:$})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+x);switch(k[0]){case 1:i.push(x),r.push(u.yytext),a.push(u.yylloc),i.push(k[1]),x=null,h=u.yyleng,c=u.yytext,l=u.yylineno,g=u.yylloc;break;case 2:if(v=this.productions_[k[1]][1],E.$=r[r.length-v],E._$={first_line:a[a.length-(v||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(v||1)].first_column,last_column:a[a.length-1].last_column},f&&(E._$.range=[a[a.length-(v||1)].range[0],a[a.length-1].range[1]]),void 0!==(_=this.performAction.apply(E,[c,h,l,p.yy,k[1],r,a].concat(d))))return _;v&&(i=i.slice(0,-1*v*2),r=r.slice(0,-1*v),a=a.slice(0,-1*v)),i.push(this.productions_[k[1]][0]),r.push(E.$),a.push(E._$),S=o[i[i.length-2]][i[i.length-1]],i.push(S);break;case 3:return!0}}return!0},"parse")},d=function(){return{EOF:1,parseError:t(function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},"parseError"),setInput:t(function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:t(function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},"input"),unput:t(function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},"unput"),more:t(function(){return this._more=!0,this},"more"),reject:t(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:t(function(t){this.unput(this.match.slice(t))},"less"),pastInput:t(function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:t(function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:t(function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},"showPosition"),test_match:t(function(t,e){var n,i,s;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var r in s)this[r]=s[r];return!1}return!1},"test_match"),next:t(function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),r=0;r<s.length;r++)if((n=this._input.match(this.rules[s[r]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=r,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,s[r])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,s[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:t(function(){var t=this.next();return t||this.lex()},"lex"),begin:t(function(t){this.conditionStack.push(t)},"begin"),popState:t(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:t(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:t(function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},"topState"),pushState:t(function(t){this.begin(t)},"pushState"),stateStackSize:t(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:t(function(t,e,n,i){switch(n){case 0:case 1:case 3:case 4:break;case 2:return 10;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s(?:[^:\n]|:(?!\s))+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}}}();function u(){this.yy={}}return h.lexer=d,t(u,"Parser"),u.prototype=h,h.Parser=u,new u}();u.parser=u;var p=u,y={};c(y,{addEvent:()=>E,addSection:()=>w,addTask:()=>$,addTaskOrg:()=>T,clear:()=>_,default:()=>M,getCommonDb:()=>k,getSections:()=>v,getTasks:()=>S});var g="",f=0,m=[],x=[],b=[],k=t(()=>l,"getCommonDb"),_=t(function(){m.length=0,x.length=0,g="",b.length=0,h()},"clear"),w=t(function(t){g=t,m.push(t)},"addSection"),v=t(function(){return m},"getSections"),S=t(function(){let t=I();let e=0;for(;!t&&e<100;)t=I(),e++;return x.push(...b),x},"getTasks"),$=t(function(t,e,n){const i={id:f++,section:g,type:g,task:t,score:e||0,events:n?[n]:[]};b.push(i)},"addTask"),E=t(function(t){b.find(t=>t.id===f-1).events.push(t)},"addEvent"),T=t(function(t){const e={section:g,type:g,description:t,task:t,classes:[]};x.push(e)},"addTaskOrg"),I=t(function(){const e=t(function(t){return b[t].processed},"compileTask");let n=!0;for(const[t,i]of b.entries())e(t),n=n&&i.processed;return n},"compileTasks"),M={clear:_,getCommonDb:k,addSection:w,getSections:v,getTasks:S,addTask:$,addTaskOrg:T,addEvent:E},N=t(function(t,e){const n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),void 0!==e.class&&n.attr("class",e.class),n},"drawRect"),A=t(function(e,n){const i=15,s=e.append("circle").attr("cx",n.cx).attr("cy",n.cy).attr("class","face").attr("r",i).attr("stroke-width",2).attr("overflow","visible"),r=e.append("g");function a(t){const e=d().startAngle(Math.PI/2).endAngle(Math.PI/2*3).innerRadius(7.5).outerRadius(i/2.2);t.append("path").attr("class","mouth").attr("d",e).attr("transform","translate("+n.cx+","+(n.cy+2)+")")}function o(t){const e=d().startAngle(3*Math.PI/2).endAngle(Math.PI/2*5).innerRadius(7.5).outerRadius(i/2.2);t.append("path").attr("class","mouth").attr("d",e).attr("transform","translate("+n.cx+","+(n.cy+7)+")")}function c(t){t.append("line").attr("class","mouth").attr("stroke",2).attr("x1",n.cx-5).attr("y1",n.cy+7).attr("x2",n.cx+5).attr("y2",n.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return r.append("circle").attr("cx",n.cx-5).attr("cy",n.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),r.append("circle").attr("cx",n.cx+5).attr("cy",n.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),t(a,"smile"),t(o,"sad"),t(c,"ambivalent"),n.score>3?a(r):n.score<3?o(r):c(r),s},"drawFace"),C=t(function(t,e){const n=t.append("circle");return n.attr("cx",e.cx),n.attr("cy",e.cy),n.attr("class","actor-"+e.pos),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("r",e.r),void 0!==n.class&&n.attr("class",n.class),void 0!==e.title&&n.append("title").text(e.title),n},"drawCircle"),L=t(function(t,e){const n=e.text.replace(/<br\s*\/?>/gi," "),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.attr("class","legend"),i.style("text-anchor",e.anchor),void 0!==e.class&&i.attr("class",e.class);const s=i.append("tspan");return s.attr("x",e.x+2*e.textMargin),s.text(n),i},"drawText"),P=t(function(e,n){function i(t,e,n,i,s){return t+","+e+" "+(t+n)+","+e+" "+(t+n)+","+(e+i-s)+" "+(t+n-1.2*s)+","+(e+i)+" "+t+","+(e+i)}t(i,"genPoints");const s=e.append("polygon");s.attr("points",i(n.x,n.y,50,20,7)),s.attr("class","labelBox"),n.y=n.y+n.labelMargin,n.x=n.x+.5*n.labelMargin,L(e,n)},"drawLabel"),H=t(function(t,e,n){const i=t.append("g"),s=z();s.x=e.x,s.y=e.y,s.fill=e.fill,s.width=n.width,s.height=n.height,s.class="journey-section section-type-"+e.num,s.rx=3,s.ry=3,N(i,s),B(n)(e.text,i,s.x,s.y,s.width,s.height,{class:"journey-section section-type-"+e.num},n,e.colour)},"drawSection"),O=-1,j=t(function(t,e,n){const i=e.x+n.width/2,s=t.append("g");O++;s.append("line").attr("id","task"+O).attr("x1",i).attr("y1",e.y).attr("x2",i).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),A(s,{cx:i,cy:300+30*(5-e.score),score:e.score});const r=z();r.x=e.x,r.y=e.y,r.fill=e.fill,r.width=n.width,r.height=n.height,r.class="task task-type-"+e.num,r.rx=3,r.ry=3,N(s,r),B(n)(e.task,s,r.x,r.y,r.width,r.height,{class:"task"},n,e.colour)},"drawTask"),R=t(function(t,e){N(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()},"drawBackgroundRect"),D=t(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),z=t(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),B=function(){function e(t,e,n,i,r,a,o,c){s(e.append("text").attr("x",n+r/2).attr("y",i+a/2+5).style("font-color",c).style("text-anchor","middle").text(t),o)}function n(t,e,n,i,r,a,o,c,l){const{taskFontSize:h,taskFontFamily:d}=c,u=t.split(/<br\s*\/?>/gi);for(let p=0;p<u.length;p++){const t=p*h-h*(u.length-1)/2,c=e.append("text").attr("x",n+r/2).attr("y",i).attr("fill",l).style("text-anchor","middle").style("font-size",h).style("font-family",d);c.append("tspan").attr("x",n+r/2).attr("dy",t).text(u[p]),c.attr("y",i+a/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),s(c,o)}}function i(t,e,i,r,a,o,c,l){const h=e.append("switch"),d=h.append("foreignObject").attr("x",i).attr("y",r).attr("width",a).attr("height",o).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");d.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(t),n(t,h,i,r,a,o,c,l),s(d,c)}function s(t,e){for(const n in e)n in e&&t.attr(n,e[n])}return t(e,"byText"),t(n,"byTspan"),t(i,"byFo"),t(s,"_setTextAttrs"),function(t){return"fo"===t.textPlacement?i:"old"===t.textPlacement?e:n}}(),F=t(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics");function W(t,e){t.each(function(){var t,n=i(this),s=n.text().split(/(\s+|<br>)/).reverse(),r=[],a=n.attr("y"),o=parseFloat(n.attr("dy")),c=n.text(null).append("tspan").attr("x",0).attr("y",a).attr("dy",o+"em");for(let i=0;i<s.length;i++)t=s[s.length-1-i],r.push(t),c.text(r.join(" ").trim()),(c.node().getComputedTextLength()>e||"<br>"===t)&&(r.pop(),c.text(r.join(" ").trim()),r="<br>"===t?[""]:[t],c=n.append("tspan").attr("x",0).attr("y",a).attr("dy","1.1em").text(t))})}t(W,"wrap");var V=t(function(t,e,n,i){const s=n%12-1,r=t.append("g");e.section=s,r.attr("class",(e.class?e.class+" ":"")+"timeline-node section-"+s);const a=r.append("g"),o=r.append("g"),c=o.append("text").text(e.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(W,e.width).node().getBBox(),l=i.fontSize?.replace?i.fontSize.replace("px",""):i.fontSize;return e.height=c.height+1.1*l*.5+e.padding,e.height=Math.max(e.height,e.maxHeight),e.width=e.width+2*e.padding,o.attr("transform","translate("+e.width/2+", "+e.padding/2+")"),Y(a,e,s,i),e},"drawNode"),G=t(function(t,e,n){const i=t.append("g"),s=i.append("text").text(e.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(W,e.width).node().getBBox(),r=n.fontSize?.replace?n.fontSize.replace("px",""):n.fontSize;return i.remove(),s.height+1.1*r*.5+e.padding},"getVirtualNodeHeight"),Y=t(function(t,e,n){t.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+e.type).attr("d",`M0 ${e.height-5} v${10-e.height} q0,-5 5,-5 h${e.width-10} q5,0 5,5 v${e.height-5} H0 Z`),t.append("line").attr("class","node-line-"+n).attr("x1",0).attr("y1",e.height).attr("x2",e.width).attr("y2",e.height)},"defaultBkg"),q={drawRect:N,drawCircle:C,drawSection:H,drawText:L,drawLabel:P,drawTask:j,drawBackgroundRect:R,getTextObj:D,getNoteRect:z,initGraphics:F,drawNode:V,getVirtualNodeHeight:G},U=t(function(t,r,a,o){const c=e(),l=c.timeline?.leftMargin??50;n.debug("timeline",o.db);const h=c.securityLevel;let d;"sandbox"===h&&(d=i("#i"+r));const u=i("sandbox"===h?d.nodes()[0].contentDocument.body:"body").select("#"+r);u.append("g");const p=o.db.getTasks(),y=o.db.getCommonDb().getDiagramTitle();n.debug("task",p),q.initGraphics(u);const g=o.db.getSections();n.debug("sections",g);let f=0,m=0,x=0,b=0,k=50+l,_=50;b=50;let w=0,v=!0;g.forEach(function(t){const e={number:w,descr:t,section:w,width:150,padding:20,maxHeight:f},i=q.getVirtualNodeHeight(u,e,c);n.debug("sectionHeight before draw",i),f=Math.max(f,i+20)});let S=0,$=0;n.debug("tasks.length",p.length);for(const[e,i]of p.entries()){const t={number:e,descr:i,section:i.section,width:150,padding:20,maxHeight:m},s=q.getVirtualNodeHeight(u,t,c);n.debug("taskHeight before draw",s),m=Math.max(m,s+20),S=Math.max(S,i.events.length);let r=0;for(const e of i.events){const t={descr:e,section:i.section,number:i.section,width:150,padding:20,maxHeight:50};r+=q.getVirtualNodeHeight(u,t,c)}i.events.length>0&&(r+=10*(i.events.length-1)),$=Math.max($,r)}n.debug("maxSectionHeight before draw",f),n.debug("maxTaskHeight before draw",m),g&&g.length>0?g.forEach(t=>{const e=p.filter(e=>e.section===t),i={number:w,descr:t,section:w,width:200*Math.max(e.length,1)-50,padding:20,maxHeight:f};n.debug("sectionNode",i);const s=u.append("g"),r=q.drawNode(s,i,w,c);n.debug("sectionNode output",r),s.attr("transform",`translate(${k}, 50)`),_+=f+50,e.length>0&&X(u,e,w,k,_,m,c,S,$,f,!1),k+=200*Math.max(e.length,1),_=50,w++}):(v=!1,X(u,p,w,k,_,m,c,S,$,f,!0));const E=u.node().getBBox();n.debug("bounds",E),y&&u.append("text").text(y).attr("x",E.width/2-l).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),x=v?f+m+150:m+100;u.append("g").attr("class","lineWrapper").append("line").attr("x1",l).attr("y1",x).attr("x2",E.width+3*l).attr("y2",x).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),s(void 0,u,c.timeline?.padding??50,c.timeline?.useMaxWidth??!1)},"draw"),X=t(function(t,e,i,s,r,a,o,c,l,h,d){for(const u of e){const e={descr:u.task,section:i,number:i,width:150,padding:20,maxHeight:a};n.debug("taskNode",e);const c=t.append("g").attr("class","taskWrapper"),h=q.drawNode(c,e,i,o).height;if(n.debug("taskHeight after draw",h),c.attr("transform",`translate(${s}, ${r})`),a=Math.max(a,h),u.events){const e=t.append("g").attr("class","lineWrapper");let n=a;r+=100,n+=Z(t,u.events,i,s,r,o),r-=100,e.append("line").attr("x1",s+95).attr("y1",r+a).attr("x2",s+95).attr("y2",r+a+100+l+100).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}s+=200,d&&!o.timeline?.disableMulticolor&&i++}r-=10},"drawTasks"),Z=t(function(t,e,i,s,r,a){let o=0;const c=r;r+=100;for(const l of e){const e={descr:l,section:i,number:i,width:150,padding:20,maxHeight:50};n.debug("eventNode",e);const c=t.append("g").attr("class","eventWrapper"),h=q.drawNode(c,e,i,a).height;o+=h,c.attr("transform",`translate(${s}, ${r})`),r=r+10+h}return r=c,o},"drawEvents"),J={setConf:t(()=>{},"setConf"),draw:U},K=t(t=>{let e="";for(let n=0;n<t.THEME_COLOR_LIMIT;n++)t["lineColor"+n]=t["lineColor"+n]||t["cScaleInv"+n],r(t["lineColor"+n])?t["lineColor"+n]=a(t["lineColor"+n],20):t["lineColor"+n]=o(t["lineColor"+n],20);for(let n=0;n<t.THEME_COLOR_LIMIT;n++){const i=""+(17-3*n);e+=`\n    .section-${n-1} rect, .section-${n-1} path, .section-${n-1} circle, .section-${n-1} path  {\n      fill: ${t["cScale"+n]};\n    }\n    .section-${n-1} text {\n     fill: ${t["cScaleLabel"+n]};\n    }\n    .node-icon-${n-1} {\n      font-size: 40px;\n      color: ${t["cScaleLabel"+n]};\n    }\n    .section-edge-${n-1}{\n      stroke: ${t["cScale"+n]};\n    }\n    .edge-depth-${n-1}{\n      stroke-width: ${i};\n    }\n    .section-${n-1} line {\n      stroke: ${t["cScaleInv"+n]} ;\n      stroke-width: 3;\n    }\n\n    .lineWrapper line{\n      stroke: ${t["cScaleLabel"+n]} ;\n    }\n\n    .disabled, .disabled circle, .disabled text {\n      fill: lightgray;\n    }\n    .disabled text {\n      fill: #efefef;\n    }\n    `}return e},"genSections"),Q={db:y,renderer:J,parser:p,styles:t(t=>`\n  .edge {\n    stroke-width: 3;\n  }\n  ${K(t)}\n  .section-root rect, .section-root path, .section-root circle  {\n    fill: ${t.git0};\n  }\n  .section-root text {\n    fill: ${t.gitBranchLabel0};\n  }\n  .icon-container {\n    height:100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .edge {\n    fill: none;\n  }\n  .eventWrapper  {\n   filter: brightness(120%);\n  }\n`,"getStyles")};export{Q as diagram};

import{g as t}from"./chunk-GLLZNHP4.js";import{_ as e,l as n,c as i,H as s,af as r,ag as o,ah as a,V as c,F as l,i as h,t as g,J as u,W as d,X as p,Y as y}from"./index.js";var f=function(){var t=e(function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},"o"),n=[1,4],i=[1,13],s=[1,12],r=[1,15],o=[1,16],a=[1,20],c=[1,19],l=[6,7,8],h=[1,26],g=[1,24],u=[1,25],d=[6,7,11],p=[1,31],y=[6,7,11,24],f=[1,6,13,16,17,20,23],m=[1,35],_=[1,36],b=[1,6,7,11,13,16,17,20,23],k=[1,38],E={trace:e(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,KANBAN:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,shapeData:15,ICON:16,CLASS:17,nodeWithId:18,nodeWithoutId:19,NODE_DSTART:20,NODE_DESCR:21,NODE_DEND:22,NODE_ID:23,SHAPE_DATA:24,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"KANBAN",11:"EOF",13:"SPACELIST",16:"ICON",17:"CLASS",20:"NODE_DSTART",21:"NODE_DESCR",22:"NODE_DEND",23:"NODE_ID",24:"SHAPE_DATA"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,3],[12,2],[12,2],[12,2],[12,1],[12,2],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[19,3],[18,1],[18,4],[15,2],[15,1]],performAction:e(function(t,e,n,i,s,r,o){var a=r.length-1;switch(s){case 6:case 7:return i;case 8:i.getLogger().trace("Stop NL ");break;case 9:i.getLogger().trace("Stop EOF ");break;case 11:i.getLogger().trace("Stop NL2 ");break;case 12:i.getLogger().trace("Stop EOF2 ");break;case 15:i.getLogger().info("Node: ",r[a-1].id),i.addNode(r[a-2].length,r[a-1].id,r[a-1].descr,r[a-1].type,r[a]);break;case 16:i.getLogger().info("Node: ",r[a].id),i.addNode(r[a-1].length,r[a].id,r[a].descr,r[a].type);break;case 17:i.getLogger().trace("Icon: ",r[a]),i.decorateNode({icon:r[a]});break;case 18:case 23:i.decorateNode({class:r[a]});break;case 19:i.getLogger().trace("SPACELIST");break;case 20:i.getLogger().trace("Node: ",r[a-1].id),i.addNode(0,r[a-1].id,r[a-1].descr,r[a-1].type,r[a]);break;case 21:i.getLogger().trace("Node: ",r[a].id),i.addNode(0,r[a].id,r[a].descr,r[a].type);break;case 22:i.decorateNode({icon:r[a]});break;case 27:i.getLogger().trace("node found ..",r[a-2]),this.$={id:r[a-1],descr:r[a-1],type:i.getType(r[a-2],r[a])};break;case 28:this.$={id:r[a],descr:r[a],type:0};break;case 29:i.getLogger().trace("node found ..",r[a-3]),this.$={id:r[a-3],descr:r[a-1],type:i.getType(r[a-2],r[a])};break;case 30:this.$=r[a-1]+r[a];break;case 31:this.$=r[a]}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:n},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:n},{6:i,7:[1,10],9:9,12:11,13:s,14:14,16:r,17:o,18:17,19:18,20:a,23:c},t(l,[2,3]),{1:[2,2]},t(l,[2,4]),t(l,[2,5]),{1:[2,6],6:i,12:21,13:s,14:14,16:r,17:o,18:17,19:18,20:a,23:c},{6:i,9:22,12:11,13:s,14:14,16:r,17:o,18:17,19:18,20:a,23:c},{6:h,7:g,10:23,11:u},t(d,[2,24],{18:17,19:18,14:27,16:[1,28],17:[1,29],20:a,23:c}),t(d,[2,19]),t(d,[2,21],{15:30,24:p}),t(d,[2,22]),t(d,[2,23]),t(y,[2,25]),t(y,[2,26]),t(y,[2,28],{20:[1,32]}),{21:[1,33]},{6:h,7:g,10:34,11:u},{1:[2,7],6:i,12:21,13:s,14:14,16:r,17:o,18:17,19:18,20:a,23:c},t(f,[2,14],{7:m,11:_}),t(b,[2,8]),t(b,[2,9]),t(b,[2,10]),t(d,[2,16],{15:37,24:p}),t(d,[2,17]),t(d,[2,18]),t(d,[2,20],{24:k}),t(y,[2,31]),{21:[1,39]},{22:[1,40]},t(f,[2,13],{7:m,11:_}),t(b,[2,11]),t(b,[2,12]),t(d,[2,15],{24:k}),t(y,[2,30]),{22:[1,41]},t(y,[2,27]),t(y,[2,29])],defaultActions:{2:[2,1],6:[2,2]},parseError:e(function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},"parseError"),parse:e(function(t){var n=this,i=[0],s=[],r=[null],o=[],a=this.table,c="",l=0,h=0,g=o.slice.call(arguments,1),u=Object.create(this.lexer),d={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(d.yy[p]=this.yy[p]);u.setInput(t,d.yy),d.yy.lexer=u,d.yy.parser=this,void 0===u.yylloc&&(u.yylloc={});var y=u.yylloc;o.push(y);var f=u.options&&u.options.ranges;function m(){var t;return"number"!=typeof(t=s.pop()||u.lex()||1)&&(t instanceof Array&&(t=(s=t).pop()),t=n.symbols_[t]||t),t}"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,e(function(t){i.length=i.length-2*t,r.length=r.length-t,o.length=o.length-t},"popStack"),e(m,"lex");for(var _,b,k,E,S,N,x,L,D={};;){if(b=i[i.length-1],this.defaultActions[b]?k=this.defaultActions[b]:(null==_&&(_=m()),k=a[b]&&a[b][_]),void 0===k||!k.length||!k[0]){var I="";for(S in L=[],a[b])this.terminals_[S]&&S>2&&L.push("'"+this.terminals_[S]+"'");I=u.showPosition?"Parse error on line "+(l+1)+":\n"+u.showPosition()+"\nExpecting "+L.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==_?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(I,{text:u.match,token:this.terminals_[_]||_,line:u.yylineno,loc:y,expected:L})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+_);switch(k[0]){case 1:i.push(_),r.push(u.yytext),o.push(u.yylloc),i.push(k[1]),_=null,h=u.yyleng,c=u.yytext,l=u.yylineno,y=u.yylloc;break;case 2:if(N=this.productions_[k[1]][1],D.$=r[r.length-N],D._$={first_line:o[o.length-(N||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(N||1)].first_column,last_column:o[o.length-1].last_column},f&&(D._$.range=[o[o.length-(N||1)].range[0],o[o.length-1].range[1]]),void 0!==(E=this.performAction.apply(D,[c,h,l,d.yy,k[1],r,o].concat(g))))return E;N&&(i=i.slice(0,-1*N*2),r=r.slice(0,-1*N),o=o.slice(0,-1*N)),i.push(this.productions_[k[1]][0]),r.push(D.$),o.push(D._$),x=a[i[i.length-2]][i[i.length-1]],i.push(x);break;case 3:return!0}}return!0},"parse")},S=function(){return{EOF:1,parseError:e(function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},"parseError"),setInput:e(function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:e(function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},"input"),unput:e(function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},"unput"),more:e(function(){return this._more=!0,this},"more"),reject:e(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:e(function(t){this.unput(this.match.slice(t))},"less"),pastInput:e(function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:e(function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:e(function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},"showPosition"),test_match:e(function(t,e){var n,i,s;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var r in s)this[r]=s[r];return!1}return!1},"test_match"),next:e(function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),r=0;r<s.length;r++)if((n=this._input.match(this.rules[s[r]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=r,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,s[r])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,s[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:e(function(){var t=this.next();return t||this.lex()},"lex"),begin:e(function(t){this.conditionStack.push(t)},"begin"),popState:e(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:e(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:e(function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},"topState"),pushState:e(function(t){this.begin(t)},"pushState"),stateStackSize:e(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:e(function(t,e,n,i){switch(n){case 0:return this.pushState("shapeData"),e.yytext="",24;case 1:return this.pushState("shapeDataStr"),24;case 2:return this.popState(),24;case 3:const n=/\n\s*/g;return e.yytext=e.yytext.replace(n,"<br/>"),24;case 4:return 24;case 5:case 10:case 29:case 32:this.popState();break;case 6:return t.getLogger().trace("Found comment",e.yytext),6;case 7:return 8;case 8:this.begin("CLASS");break;case 9:return this.popState(),17;case 11:t.getLogger().trace("Begin icon"),this.begin("ICON");break;case 12:return t.getLogger().trace("SPACELINE"),6;case 13:return 7;case 14:return 16;case 15:t.getLogger().trace("end icon"),this.popState();break;case 16:return t.getLogger().trace("Exploding node"),this.begin("NODE"),20;case 17:return t.getLogger().trace("Cloud"),this.begin("NODE"),20;case 18:return t.getLogger().trace("Explosion Bang"),this.begin("NODE"),20;case 19:return t.getLogger().trace("Cloud Bang"),this.begin("NODE"),20;case 20:case 21:case 22:case 23:return this.begin("NODE"),20;case 24:return 13;case 25:return 23;case 26:return 11;case 27:this.begin("NSTR2");break;case 28:return"NODE_DESCR";case 30:t.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 31:return t.getLogger().trace("description:",e.yytext),"NODE_DESCR";case 33:return this.popState(),t.getLogger().trace("node end ))"),"NODE_DEND";case 34:return this.popState(),t.getLogger().trace("node end )"),"NODE_DEND";case 35:return this.popState(),t.getLogger().trace("node end ...",e.yytext),"NODE_DEND";case 36:case 39:case 40:return this.popState(),t.getLogger().trace("node end (("),"NODE_DEND";case 37:case 38:return this.popState(),t.getLogger().trace("node end (-"),"NODE_DEND";case 41:case 42:return t.getLogger().trace("Long description:",e.yytext),21}},"anonymous"),rules:[/^(?:@\{)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^\"]+)/i,/^(?:[^}^"]+)/i,/^(?:\})/i,/^(?:\s*%%.*)/i,/^(?:kanban\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}@]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{shapeDataEndBracket:{rules:[],inclusive:!1},shapeDataStr:{rules:[2,3],inclusive:!1},shapeData:{rules:[1,4,5],inclusive:!1},CLASS:{rules:[9,10],inclusive:!1},ICON:{rules:[14,15],inclusive:!1},NSTR2:{rules:[28,29],inclusive:!1},NSTR:{rules:[31,32],inclusive:!1},NODE:{rules:[27,30,33,34,35,36,37,38,39,40,41,42],inclusive:!1},INITIAL:{rules:[0,6,7,8,11,12,13,16,17,18,19,20,21,22,23,24,25,26],inclusive:!0}}}}();function N(){this.yy={}}return E.lexer=S,e(N,"Parser"),N.prototype=E,E.Parser=N,new N}();f.parser=f;var m=f,_=[],b=[],k=0,E={},S=e(()=>{_=[],b=[],k=0,E={}},"clear"),N=e(t=>{if(0===_.length)return null;const e=_[0].level;let n=null;for(let i=_.length-1;i>=0;i--)if(_[i].level!==e||n||(n=_[i]),_[i].level<e)throw new Error('Items without section detected, found section ("'+_[i].label+'")');return t===n?.level?null:n},"getSection"),x=e(function(){return b},"getSections"),L=e(function(){const t=[],e=x(),n=i();for(const i of e){const e={id:i.id,label:h(i.label??"",n),isGroup:!0,ticket:i.ticket,shape:"kanbanSection",level:i.level,look:n.look};t.push(e);const s=_.filter(t=>t.parentId===i.id);for(const r of s){const e={id:r.id,parentId:i.id,label:h(r.label??"",n),isGroup:!1,ticket:r?.ticket,priority:r?.priority,assigned:r?.assigned,icon:r?.icon,shape:"kanbanItem",level:r.level,rx:5,ry:5,cssStyles:["text-align: left"]};t.push(e)}}return{nodes:t,edges:[],other:{},config:i()}},"getData"),D=e((t,e,n,s,r)=>{const o=i();let a=o.mindmap?.padding??l.mindmap.padding;switch(s){case I.ROUNDED_RECT:case I.RECT:case I.HEXAGON:a*=2}const c={id:h(e,o)||"kbn"+k++,level:t,label:h(n,o),width:o.mindmap?.maxNodeWidth??l.mindmap.maxNodeWidth,padding:a,isGroup:!1};if(void 0!==r){let t;t=r.includes("\n")?r+"\n":"{\n"+r+"\n}";const e=g(t,{schema:u});if(e.shape&&(e.shape!==e.shape.toLowerCase()||e.shape.includes("_")))throw new Error(`No such shape: ${e.shape}. Shape names should be lowercase.`);e?.shape&&"kanbanItem"===e.shape&&(c.shape=e?.shape),e?.label&&(c.label=e?.label),e?.icon&&(c.icon=e?.icon.toString()),e?.assigned&&(c.assigned=e?.assigned.toString()),e?.ticket&&(c.ticket=e?.ticket.toString()),e?.priority&&(c.priority=e?.priority)}const d=N(t);d?c.parentId=d.id||"kbn"+k++:b.push(c),_.push(c)},"addNode"),I={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},O={clear:S,addNode:D,getSections:x,getData:L,nodeType:I,getType:e((t,e)=>{switch(n.debug("In get type",t,e),t){case"[":return I.RECT;case"(":return")"===e?I.ROUNDED_RECT:I.CLOUD;case"((":return I.CIRCLE;case")":return I.CLOUD;case"))":return I.BANG;case"{{":return I.HEXAGON;default:return I.DEFAULT}},"getType"),setElementForId:e((t,e)=>{E[t]=e},"setElementForId"),decorateNode:e(t=>{if(!t)return;const e=i(),n=_[_.length-1];t.icon&&(n.icon=h(t.icon,e)),t.class&&(n.cssClasses=h(t.class,e))},"decorateNode"),type2Str:e(t=>{switch(t){case I.DEFAULT:return"no-border";case I.RECT:return"rect";case I.ROUNDED_RECT:return"rounded-rect";case I.CIRCLE:return"circle";case I.CLOUD:return"cloud";case I.BANG:return"bang";case I.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),getLogger:e(()=>n,"getLogger"),getElementById:e(t=>E[t],"getElementById")},C={draw:e(async(t,e,h,g)=>{n.debug("Rendering kanban diagram\n"+t);const u=g.db.getData(),d=i();d.htmlLabels=!1;const p=s(e),y=p.append("g");y.attr("class","sections");const f=p.append("g");f.attr("class","items");const m=u.nodes.filter(t=>t.isGroup);let _=0;const b=[];let k=25;for(const n of m){const t=d?.kanban?.sectionWidth||200;_+=1,n.x=t*_+10*(_-1)/2,n.width=t,n.y=0,n.height=3*t,n.rx=5,n.ry=5,n.cssClasses=n.cssClasses+" section-"+_;const e=await r(y,n);k=Math.max(k,e?.labelBBox?.height),b.push(e)}let E=0;for(const n of m){const t=b[E];E+=1;const e=d?.kanban?.sectionWidth||200,i=3*-e/2+k;let s=i;const r=u.nodes.filter(t=>t.parentId===n.id);for(const h of r){if(h.isGroup)throw new Error("Groups within groups are not allowed in Kanban diagrams");h.x=n.x,h.width=e-15;const t=(await o(f,h,{config:d})).node().getBBox();h.y=s+t.height/2,await a(h),s=h.y+t.height/2+5}const c=t.cluster.select("rect"),l=Math.max(s-i+30,50)+(k-25);c.attr("height",l)}c(void 0,p,d.mindmap?.padding??l.kanban.padding,d.mindmap?.useMaxWidth??l.kanban.useMaxWidth)},"draw")},v=e(t=>{let n="";for(let e=0;e<t.THEME_COLOR_LIMIT;e++)t["lineColor"+e]=t["lineColor"+e]||t["cScaleInv"+e],d(t["lineColor"+e])?t["lineColor"+e]=p(t["lineColor"+e],20):t["lineColor"+e]=y(t["lineColor"+e],20);const i=e((e,n)=>t.darkMode?y(e,n):p(e,n),"adjuster");for(let e=0;e<t.THEME_COLOR_LIMIT;e++){const s=""+(17-3*e);n+=`\n    .section-${e-1} rect, .section-${e-1} path, .section-${e-1} circle, .section-${e-1} polygon, .section-${e-1} path  {\n      fill: ${i(t["cScale"+e],10)};\n      stroke: ${i(t["cScale"+e],10)};\n\n    }\n    .section-${e-1} text {\n     fill: ${t["cScaleLabel"+e]};\n    }\n    .node-icon-${e-1} {\n      font-size: 40px;\n      color: ${t["cScaleLabel"+e]};\n    }\n    .section-edge-${e-1}{\n      stroke: ${t["cScale"+e]};\n    }\n    .edge-depth-${e-1}{\n      stroke-width: ${s};\n    }\n    .section-${e-1} line {\n      stroke: ${t["cScaleInv"+e]} ;\n      stroke-width: 3;\n    }\n\n    .disabled, .disabled circle, .disabled text {\n      fill: lightgray;\n    }\n    .disabled text {\n      fill: #efefef;\n    }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${t.background};\n    stroke: ${t.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .kanban-ticket-link {\n    fill: ${t.background};\n    stroke: ${t.nodeBorder};\n    text-decoration: underline;\n  }\n    `}return n},"genSections"),A={db:O,renderer:C,parser:m,styles:e(e=>`\n  .edge {\n    stroke-width: 3;\n  }\n  ${v(e)}\n  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {\n    fill: ${e.git0};\n  }\n  .section-root text {\n    fill: ${e.gitBranchLabel0};\n  }\n  .icon-container {\n    height:100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .edge {\n    fill: none;\n  }\n  .cluster-label, .label {\n    color: ${e.textColor};\n    fill: ${e.textColor};\n    }\n  .kanban-label {\n    dy: 1em;\n    alignment-baseline: middle;\n    text-anchor: middle;\n    dominant-baseline: middle;\n    text-align: center;\n  }\n    ${t()}\n`,"getStyles")};export{A as diagram};

import{p as t}from"./chunk-ANTBXLJU.js";import{_ as e,D as a,H as r,e as s,l as o,b as i,a as n,p as l,q as c,g as d,s as p,E as b,F as h,y as k}from"./index.js";import{p as g}from"./treemap-75Q7IDZK.js";import"./_baseUniq.js";import"./_basePickBy.js";import"./clone.js";var f=h.packet,u=class{constructor(){this.packet=[],this.setAccTitle=i,this.getAccTitle=n,this.setDiagramTitle=l,this.getDiagramTitle=c,this.getAccDescription=d,this.setAccDescription=p}static{e(this,"PacketDB")}getConfig(){const t=a({...f,...b().packet});return t.showBits&&(t.paddingY+=10),t}getPacket(){return this.packet}pushWord(t){t.length>0&&this.packet.push(t)}clear(){k(),this.packet=[]}},w=e((e,a)=>{t(e,a);let r=-1,s=[],i=1;const{bitsPerRow:n}=a.getConfig();for(let{start:t,end:l,bits:c,label:d}of e.blocks){if(void 0!==t&&void 0!==l&&l<t)throw new Error(`Packet block ${t} - ${l} is invalid. End must be greater than start.`);if(t??=r+1,t!==r+1)throw new Error(`Packet block ${t} - ${l??t} is not contiguous. It should start from ${r+1}.`);if(0===c)throw new Error(`Packet block ${t} is invalid. Cannot have a zero bit field.`);for(l??=t+(c??1)-1,c??=l-t+1,r=l,o.debug(`Packet block ${t} - ${r} with label ${d}`);s.length<=n+1&&a.getPacket().length<1e4;){const[e,r]=m({start:t,end:l,bits:c,label:d},i,n);if(s.push(e),e.end+1===i*n&&(a.pushWord(s),s=[],i++),!r)break;({start:t,end:l,bits:c,label:d}=r)}}a.pushWord(s)},"populate"),m=e((t,e,a)=>{if(void 0===t.start)throw new Error("start should have been set during first phase");if(void 0===t.end)throw new Error("end should have been set during first phase");if(t.start>t.end)throw new Error(`Block start ${t.start} is greater than block end ${t.end}.`);if(t.end+1<=e*a)return[t,void 0];const r=e*a-1,s=e*a;return[{start:t.start,end:r,label:t.label,bits:r-t.start},{start:s,end:t.end,label:t.label,bits:t.end-s}]},"getNextFittingBlock"),y={parser:{yy:void 0},parse:e(async t=>{const e=await g("packet",t),a=y.parser?.yy;if(!(a instanceof u))throw new Error("parser.parser?.yy was not a PacketDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");o.debug(e),w(e,a)},"parse")},x=e((t,e,a,o)=>{const i=o.db,n=i.getConfig(),{rowHeight:l,paddingY:c,bitWidth:d,bitsPerRow:p}=n,b=i.getPacket(),h=i.getDiagramTitle(),k=l+c,g=k*(b.length+1)-(h?0:l),f=d*p+2,u=r(e);u.attr("viewbox",`0 0 ${f} ${g}`),s(u,g,f,n.useMaxWidth);for(const[r,s]of b.entries())$(u,s,r,n);u.append("text").text(h).attr("x",f/2).attr("y",g-k/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),$=e((t,e,a,{rowHeight:r,paddingX:s,paddingY:o,bitWidth:i,bitsPerRow:n,showBits:l})=>{const c=t.append("g"),d=a*(r+o)+o;for(const p of e){const t=p.start%n*i+1,e=(p.end-p.start+1)*i-s;if(c.append("rect").attr("x",t).attr("y",d).attr("width",e).attr("height",r).attr("class","packetBlock"),c.append("text").attr("x",t+e/2).attr("y",d+r/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(p.label),!l)continue;const a=p.end===p.start,o=d-2;c.append("text").attr("x",t+(a?e/2:0)).attr("y",o).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",a?"middle":"start").text(p.start),a||c.append("text").attr("x",t+e).attr("y",o).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(p.end)}},"drawWord"),B={draw:x},C={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},v=e(({packet:t}={})=>{const e=a(C,t);return`\n\t.packetByte {\n\t\tfont-size: ${e.byteFontSize};\n\t}\n\t.packetByte.start {\n\t\tfill: ${e.startByteColor};\n\t}\n\t.packetByte.end {\n\t\tfill: ${e.endByteColor};\n\t}\n\t.packetLabel {\n\t\tfill: ${e.labelColor};\n\t\tfont-size: ${e.labelFontSize};\n\t}\n\t.packetTitle {\n\t\tfill: ${e.titleColor};\n\t\tfont-size: ${e.titleFontSize};\n\t}\n\t.packetBlock {\n\t\tstroke: ${e.blockStrokeColor};\n\t\tstroke-width: ${e.blockStrokeWidth};\n\t\tfill: ${e.blockFillColor};\n\t}\n\t`},"styles"),P={parser:y,get db(){return new u},renderer:B,styles:v};export{P as diagram};

import{p as t}from"./chunk-ANTBXLJU.js";import{_ as e,s as a,g as r,q as n,p as s,a as i,b as o,H as l,y as c,D as d,E as p,F as g,l as h,K as u}from"./index.js";import{p as x}from"./treemap-75Q7IDZK.js";import"./_baseUniq.js";import"./_basePickBy.js";import"./clone.js";var m={showLegend:!0,ticks:5,max:null,min:0,graticule:"circle"},$={axes:[],curves:[],options:m},f=structuredClone($),y=g.radar,v=e(()=>d({...y,...p().radar}),"getConfig"),b=e(()=>f.axes,"getAxes"),w=e(()=>f.curves,"getCurves"),C=e(()=>f.options,"getOptions"),M=e(t=>{f.axes=t.map(t=>({name:t.name,label:t.label??t.name}))},"setAxes"),L=e(t=>{f.curves=t.map(t=>({name:t.name,label:t.label??t.name,entries:T(t.entries)}))},"setCurves"),T=e(t=>{if(null==t[0].axis)return t.map(t=>t.value);const e=b();if(0===e.length)throw new Error("Axes must be populated before curves for reference entries");return e.map(e=>{const a=t.find(t=>t.axis?.$refText===e.name);if(void 0===a)throw new Error("Missing entry for axis "+e.label);return a.value})},"computeCurveEntries"),k={getAxes:b,getCurves:w,getOptions:C,setAxes:M,setCurves:L,setOptions:e(t=>{const e=t.reduce((t,e)=>(t[e.name]=e,t),{});f.options={showLegend:e.showLegend?.value??m.showLegend,ticks:e.ticks?.value??m.ticks,max:e.max?.value??m.max,min:e.min?.value??m.min,graticule:e.graticule?.value??m.graticule}},"setOptions"),getConfig:v,clear:e(()=>{c(),f=structuredClone($)},"clear"),setAccTitle:o,getAccTitle:i,setDiagramTitle:s,getDiagramTitle:n,getAccDescription:r,setAccDescription:a},A=e(e=>{t(e,k);const{axes:a,curves:r,options:n}=e;k.setAxes(a),k.setCurves(r),k.setOptions(n)},"populate"),O={parse:e(async t=>{const e=await x("radar",t);h.debug(e),A(e)},"parse")},S=e((t,e,a,r)=>{const n=r.db,s=n.getAxes(),i=n.getCurves(),o=n.getOptions(),c=n.getConfig(),d=n.getDiagramTitle(),p=l(e),g=I(p,c),h=o.max??Math.max(...i.map(t=>Math.max(...t.entries))),u=o.min,x=Math.min(c.width,c.height)/2;j(g,s,x,o.ticks,o.graticule),E(g,s,x,c),F(g,s,i,u,h,o.graticule,c),z(g,i,o.showLegend,c),g.append("text").attr("class","radarTitle").text(d).attr("x",0).attr("y",-c.height/2-c.marginTop)},"draw"),I=e((t,e)=>{const a=e.width+e.marginLeft+e.marginRight,r=e.height+e.marginTop+e.marginBottom,n=e.marginLeft+e.width/2,s=e.marginTop+e.height/2;return t.attr("viewbox",`0 0 ${a} ${r}`).attr("width",a).attr("height",r),t.append("g").attr("transform",`translate(${n}, ${s})`)},"drawFrame"),j=e((t,e,a,r,n)=>{if("circle"===n)for(let s=0;s<r;s++){const e=a*(s+1)/r;t.append("circle").attr("r",e).attr("class","radarGraticule")}else if("polygon"===n){const n=e.length;for(let s=0;s<r;s++){const i=a*(s+1)/r,o=e.map((t,e)=>{const a=2*e*Math.PI/n-Math.PI/2;return`${i*Math.cos(a)},${i*Math.sin(a)}`}).join(" ");t.append("polygon").attr("points",o).attr("class","radarGraticule")}}},"drawGraticule"),E=e((t,e,a,r)=>{const n=e.length;for(let s=0;s<n;s++){const i=e[s].label,o=2*s*Math.PI/n-Math.PI/2;t.append("line").attr("x1",0).attr("y1",0).attr("x2",a*r.axisScaleFactor*Math.cos(o)).attr("y2",a*r.axisScaleFactor*Math.sin(o)).attr("class","radarAxisLine"),t.append("text").text(i).attr("x",a*r.axisLabelFactor*Math.cos(o)).attr("y",a*r.axisLabelFactor*Math.sin(o)).attr("class","radarAxisLabel")}},"drawAxes");function F(t,e,a,r,n,s,i){const o=e.length,l=Math.min(i.width,i.height)/2;a.forEach((e,a)=>{if(e.entries.length!==o)return;const c=e.entries.map((t,e)=>{const a=2*Math.PI*e/o-Math.PI/2,s=D(t,r,n,l);return{x:s*Math.cos(a),y:s*Math.sin(a)}});"circle"===s?t.append("path").attr("d",P(c,i.curveTension)).attr("class",`radarCurve-${a}`):"polygon"===s&&t.append("polygon").attr("points",c.map(t=>`${t.x},${t.y}`).join(" ")).attr("class",`radarCurve-${a}`)})}function D(t,e,a,r){return r*(Math.min(Math.max(t,e),a)-e)/(a-e)}function P(t,e){const a=t.length;let r=`M${t[0].x},${t[0].y}`;for(let n=0;n<a;n++){const s=t[(n-1+a)%a],i=t[n],o=t[(n+1)%a],l=t[(n+2)%a],c={x:i.x+(o.x-s.x)*e,y:i.y+(o.y-s.y)*e},d={x:o.x-(l.x-i.x)*e,y:o.y-(l.y-i.y)*e};r+=` C${c.x},${c.y} ${d.x},${d.y} ${o.x},${o.y}`}return`${r} Z`}function z(t,e,a,r){if(!a)return;const n=3*(r.width/2+r.marginRight)/4,s=3*-(r.height/2+r.marginTop)/4;e.forEach((e,a)=>{const r=t.append("g").attr("transform",`translate(${n}, ${s+20*a})`);r.append("rect").attr("width",12).attr("height",12).attr("class",`radarLegendBox-${a}`),r.append("text").attr("x",16).attr("y",0).attr("class","radarLegendText").text(e.label)})}e(F,"drawCurves"),e(D,"relativeRadius"),e(P,"closedRoundCurve"),e(z,"drawLegend");var R={draw:S},B=e((t,e)=>{let a="";for(let r=0;r<t.THEME_COLOR_LIMIT;r++){const n=t[`cScale${r}`];a+=`\n\t\t.radarCurve-${r} {\n\t\t\tcolor: ${n};\n\t\t\tfill: ${n};\n\t\t\tfill-opacity: ${e.curveOpacity};\n\t\t\tstroke: ${n};\n\t\t\tstroke-width: ${e.curveStrokeWidth};\n\t\t}\n\t\t.radarLegendBox-${r} {\n\t\t\tfill: ${n};\n\t\t\tfill-opacity: ${e.curveOpacity};\n\t\t\tstroke: ${n};\n\t\t}\n\t\t`}return a},"genIndexStyles"),_=e(t=>{const e=u(),a=p(),r=d(e,a.themeVariables);return{themeVariables:r,radarOptions:d(r.radar,t)}},"buildRadarStyleOptions"),G={parser:O,db:k,renderer:R,styles:e(({radar:t}={})=>{const{themeVariables:e,radarOptions:a}=_(t);return`\n\t.radarTitle {\n\t\tfont-size: ${e.fontSize};\n\t\tcolor: ${e.titleColor};\n\t\tdominant-baseline: hanging;\n\t\ttext-anchor: middle;\n\t}\n\t.radarAxisLine {\n\t\tstroke: ${a.axisColor};\n\t\tstroke-width: ${a.axisStrokeWidth};\n\t}\n\t.radarAxisLabel {\n\t\tdominant-baseline: middle;\n\t\ttext-anchor: middle;\n\t\tfont-size: ${a.axisLabelFontSize}px;\n\t\tcolor: ${a.axisColor};\n\t}\n\t.radarGraticule {\n\t\tfill: ${a.graticuleColor};\n\t\tfill-opacity: ${a.graticuleOpacity};\n\t\tstroke: ${a.graticuleColor};\n\t\tstroke-width: ${a.graticuleStrokeWidth};\n\t}\n\t.radarLegendText {\n\t\ttext-anchor: start;\n\t\tfont-size: ${a.legendFontSize}px;\n\t\tdominant-baseline: hanging;\n\t}\n\t${B(e,a)}\n\t`},"styles")};export{G as diagram};

import{g as t}from"./chunk-GLLZNHP4.js";import{_ as e,E as r,d as a,e as s,l as i,y as n,A as o,c as l,ai as c,R as d,S as h,O as g,aj as y,ak as p,al as u,u as x,k as b,am as f,an as m,i as w,ao as k}from"./index.js";import{c as L}from"./clone.js";import{G as S}from"./graph.js";import{c as _}from"./channel.js";import"./_baseUniq.js";var E=function(){var t=e(function(t,e,r,a){for(r=r||{},a=t.length;a--;r[t[a]]=e);return r},"o"),r=[1,15],a=[1,7],s=[1,13],i=[1,14],n=[1,19],o=[1,16],l=[1,17],c=[1,18],d=[8,30],h=[8,10,21,28,29,30,31,39,43,46],g=[1,23],y=[1,24],p=[8,10,15,16,21,28,29,30,31,39,43,46],u=[8,10,15,16,21,27,28,29,30,31,39,43,46],x=[1,49],b={trace:e(function(){},"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,NODE_ID:31,nodeShapeNLabel:32,dirList:33,DIR:34,NODE_DSTART:35,NODE_DEND:36,BLOCK_ARROW_START:37,BLOCK_ARROW_END:38,classDef:39,CLASSDEF_ID:40,CLASSDEF_STYLEOPTS:41,DEFAULT:42,class:43,CLASSENTITY_IDS:44,STYLECLASS:45,style:46,STYLE_ENTITY_IDS:47,STYLE_DEFINITION_DATA:48,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"NODE_ID",34:"DIR",35:"NODE_DSTART",36:"NODE_DEND",37:"BLOCK_ARROW_START",38:"BLOCK_ARROW_END",39:"classDef",40:"CLASSDEF_ID",41:"CLASSDEF_STYLEOPTS",42:"DEFAULT",43:"class",44:"CLASSENTITY_IDS",45:"STYLECLASS",46:"style",47:"STYLE_ENTITY_IDS",48:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[33,1],[33,2],[32,3],[32,4],[23,3],[23,3],[24,3],[25,3]],performAction:e(function(t,e,r,a,s,i,n){var o=i.length-1;switch(s){case 4:a.getLogger().debug("Rule: separator (NL) ");break;case 5:a.getLogger().debug("Rule: separator (Space) ");break;case 6:a.getLogger().debug("Rule: separator (EOF) ");break;case 7:a.getLogger().debug("Rule: hierarchy: ",i[o-1]),a.setHierarchy(i[o-1]);break;case 8:a.getLogger().debug("Stop NL ");break;case 9:a.getLogger().debug("Stop EOF ");break;case 10:a.getLogger().debug("Stop NL2 ");break;case 11:a.getLogger().debug("Stop EOF2 ");break;case 12:a.getLogger().debug("Rule: statement: ",i[o]),"number"==typeof i[o].length?this.$=i[o]:this.$=[i[o]];break;case 13:a.getLogger().debug("Rule: statement #2: ",i[o-1]),this.$=[i[o-1]].concat(i[o]);break;case 14:a.getLogger().debug("Rule: link: ",i[o],t),this.$={edgeTypeStr:i[o],label:""};break;case 15:a.getLogger().debug("Rule: LABEL link: ",i[o-3],i[o-1],i[o]),this.$={edgeTypeStr:i[o],label:i[o-1]};break;case 18:const e=parseInt(i[o]),r=a.generateId();this.$={id:r,type:"space",label:"",width:e,children:[]};break;case 23:a.getLogger().debug("Rule: (nodeStatement link node) ",i[o-2],i[o-1],i[o]," typestr: ",i[o-1].edgeTypeStr);const s=a.edgeStrToEdgeData(i[o-1].edgeTypeStr);this.$=[{id:i[o-2].id,label:i[o-2].label,type:i[o-2].type,directions:i[o-2].directions},{id:i[o-2].id+"-"+i[o].id,start:i[o-2].id,end:i[o].id,label:i[o-1].label,type:"edge",directions:i[o].directions,arrowTypeEnd:s,arrowTypeStart:"arrow_open"},{id:i[o].id,label:i[o].label,type:a.typeStr2Type(i[o].typeStr),directions:i[o].directions}];break;case 24:a.getLogger().debug("Rule: nodeStatement (abc88 node size) ",i[o-1],i[o]),this.$={id:i[o-1].id,label:i[o-1].label,type:a.typeStr2Type(i[o-1].typeStr),directions:i[o-1].directions,widthInColumns:parseInt(i[o],10)};break;case 25:a.getLogger().debug("Rule: nodeStatement (node) ",i[o]),this.$={id:i[o].id,label:i[o].label,type:a.typeStr2Type(i[o].typeStr),directions:i[o].directions,widthInColumns:1};break;case 26:a.getLogger().debug("APA123",this?this:"na"),a.getLogger().debug("COLUMNS: ",i[o]),this.$={type:"column-setting",columns:"auto"===i[o]?-1:parseInt(i[o])};break;case 27:a.getLogger().debug("Rule: id-block statement : ",i[o-2],i[o-1]),a.generateId(),this.$={...i[o-2],type:"composite",children:i[o-1]};break;case 28:a.getLogger().debug("Rule: blockStatement : ",i[o-2],i[o-1],i[o]);const n=a.generateId();this.$={id:n,type:"composite",label:"",children:i[o-1]};break;case 29:a.getLogger().debug("Rule: node (NODE_ID separator): ",i[o]),this.$={id:i[o]};break;case 30:a.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",i[o-1],i[o]),this.$={id:i[o-1],label:i[o].label,typeStr:i[o].typeStr,directions:i[o].directions};break;case 31:a.getLogger().debug("Rule: dirList: ",i[o]),this.$=[i[o]];break;case 32:a.getLogger().debug("Rule: dirList: ",i[o-1],i[o]),this.$=[i[o-1]].concat(i[o]);break;case 33:a.getLogger().debug("Rule: nodeShapeNLabel: ",i[o-2],i[o-1],i[o]),this.$={typeStr:i[o-2]+i[o],label:i[o-1]};break;case 34:a.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",i[o-3],i[o-2]," #3:",i[o-1],i[o]),this.$={typeStr:i[o-3]+i[o],label:i[o-2],directions:i[o-1]};break;case 35:case 36:this.$={type:"classDef",id:i[o-1].trim(),css:i[o].trim()};break;case 37:this.$={type:"applyClass",id:i[o-1].trim(),styleClass:i[o].trim()};break;case 38:this.$={type:"applyStyles",id:i[o-1].trim(),stylesStr:i[o].trim()}}},"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{10:r,11:3,13:4,19:5,20:6,21:a,22:8,23:9,24:10,25:11,26:12,28:s,29:i,31:n,39:o,43:l,46:c},{8:[1,20]},t(d,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,10:r,21:a,28:s,29:i,31:n,39:o,43:l,46:c}),t(h,[2,16],{14:22,15:g,16:y}),t(h,[2,17]),t(h,[2,18]),t(h,[2,19]),t(h,[2,20]),t(h,[2,21]),t(h,[2,22]),t(p,[2,25],{27:[1,25]}),t(h,[2,26]),{19:26,26:12,31:n},{10:r,11:27,13:4,19:5,20:6,21:a,22:8,23:9,24:10,25:11,26:12,28:s,29:i,31:n,39:o,43:l,46:c},{40:[1,28],42:[1,29]},{44:[1,30]},{47:[1,31]},t(u,[2,29],{32:32,35:[1,33],37:[1,34]}),{1:[2,7]},t(d,[2,13]),{26:35,31:n},{31:[2,14]},{17:[1,36]},t(p,[2,24]),{10:r,11:37,13:4,14:22,15:g,16:y,19:5,20:6,21:a,22:8,23:9,24:10,25:11,26:12,28:s,29:i,31:n,39:o,43:l,46:c},{30:[1,38]},{41:[1,39]},{41:[1,40]},{45:[1,41]},{48:[1,42]},t(u,[2,30]),{18:[1,43]},{18:[1,44]},t(p,[2,23]),{18:[1,45]},{30:[1,46]},t(h,[2,28]),t(h,[2,35]),t(h,[2,36]),t(h,[2,37]),t(h,[2,38]),{36:[1,47]},{33:48,34:x},{15:[1,50]},t(h,[2,27]),t(u,[2,33]),{38:[1,51]},{33:52,34:x,38:[2,31]},{31:[2,15]},t(u,[2,34]),{38:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:e(function(t,e){if(!e.recoverable){var r=new Error(t);throw r.hash=e,r}this.trace(t)},"parseError"),parse:e(function(t){var r=this,a=[0],s=[],i=[null],n=[],o=this.table,l="",c=0,d=0,h=n.slice.call(arguments,1),g=Object.create(this.lexer),y={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(y.yy[p]=this.yy[p]);g.setInput(t,y.yy),y.yy.lexer=g,y.yy.parser=this,void 0===g.yylloc&&(g.yylloc={});var u=g.yylloc;n.push(u);var x=g.options&&g.options.ranges;function b(){var t;return"number"!=typeof(t=s.pop()||g.lex()||1)&&(t instanceof Array&&(t=(s=t).pop()),t=r.symbols_[t]||t),t}"function"==typeof y.yy.parseError?this.parseError=y.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,e(function(t){a.length=a.length-2*t,i.length=i.length-t,n.length=n.length-t},"popStack"),e(b,"lex");for(var f,m,w,k,L,S,_,E,v={};;){if(m=a[a.length-1],this.defaultActions[m]?w=this.defaultActions[m]:(null==f&&(f=b()),w=o[m]&&o[m][f]),void 0===w||!w.length||!w[0]){var $="";for(L in E=[],o[m])this.terminals_[L]&&L>2&&E.push("'"+this.terminals_[L]+"'");$=g.showPosition?"Parse error on line "+(c+1)+":\n"+g.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(c+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError($,{text:g.match,token:this.terminals_[f]||f,line:g.yylineno,loc:u,expected:E})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+f);switch(w[0]){case 1:a.push(f),i.push(g.yytext),n.push(g.yylloc),a.push(w[1]),f=null,d=g.yyleng,l=g.yytext,c=g.yylineno,u=g.yylloc;break;case 2:if(S=this.productions_[w[1]][1],v.$=i[i.length-S],v._$={first_line:n[n.length-(S||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(S||1)].first_column,last_column:n[n.length-1].last_column},x&&(v._$.range=[n[n.length-(S||1)].range[0],n[n.length-1].range[1]]),void 0!==(k=this.performAction.apply(v,[l,d,c,y.yy,w[1],i,n].concat(h))))return k;S&&(a=a.slice(0,-1*S*2),i=i.slice(0,-1*S),n=n.slice(0,-1*S)),a.push(this.productions_[w[1]][0]),i.push(v.$),n.push(v._$),_=o[a[a.length-2]][a[a.length-1]],a.push(_);break;case 3:return!0}}return!0},"parse")},f=function(){return{EOF:1,parseError:e(function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},"parseError"),setInput:e(function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:e(function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},"input"),unput:e(function(t){var e=t.length,r=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===a.length?this.yylloc.first_column:0)+a[a.length-r.length].length-r[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},"unput"),more:e(function(){return this._more=!0,this},"more"),reject:e(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:e(function(t){this.unput(this.match.slice(t))},"less"),pastInput:e(function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:e(function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:e(function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},"showPosition"),test_match:e(function(t,e){var r,a,s;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),(a=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=a.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:a?a[a.length-1].length-a[a.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],r=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var i in s)this[i]=s[i];return!1}return!1},"test_match"),next:e(function(){if(this.done)return this.EOF;var t,e,r,a;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),i=0;i<s.length;i++)if((r=this._input.match(this.rules[s[i]]))&&(!e||r[0].length>e[0].length)){if(e=r,a=i,this.options.backtrack_lexer){if(!1!==(t=this.test_match(r,s[i])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,s[a]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:e(function(){var t=this.next();return t||this.lex()},"lex"),begin:e(function(t){this.conditionStack.push(t)},"begin"),popState:e(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:e(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:e(function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},"topState"),pushState:e(function(t){this.begin(t)},"pushState"),stateStackSize:e(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:e(function(t,e,r,a){switch(r){case 0:return t.getLogger().debug("Found block-beta"),10;case 1:return t.getLogger().debug("Found id-block"),29;case 2:return t.getLogger().debug("Found block"),10;case 3:t.getLogger().debug(".",e.yytext);break;case 4:t.getLogger().debug("_",e.yytext);break;case 5:return 5;case 6:return e.yytext=-1,28;case 7:return e.yytext=e.yytext.replace(/columns\s+/,""),t.getLogger().debug("COLUMNS (LEX)",e.yytext),28;case 8:case 76:case 77:case 99:this.pushState("md_string");break;case 9:return"MD_STR";case 10:case 34:case 79:this.popState();break;case 11:this.pushState("string");break;case 12:t.getLogger().debug("LEX: POPPING STR:",e.yytext),this.popState();break;case 13:return t.getLogger().debug("LEX: STR end:",e.yytext),"STR";case 14:return e.yytext=e.yytext.replace(/space\:/,""),t.getLogger().debug("SPACE NUM (LEX)",e.yytext),21;case 15:return e.yytext="1",t.getLogger().debug("COLUMNS (LEX)",e.yytext),21;case 16:return 42;case 17:return"LINKSTYLE";case 18:return"INTERPOLATE";case 19:return this.pushState("CLASSDEF"),39;case 20:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 21:return this.popState(),this.pushState("CLASSDEFID"),40;case 22:return this.popState(),41;case 23:return this.pushState("CLASS"),43;case 24:return this.popState(),this.pushState("CLASS_STYLE"),44;case 25:return this.popState(),45;case 26:return this.pushState("STYLE_STMNT"),46;case 27:return this.popState(),this.pushState("STYLE_DEFINITION"),47;case 28:return this.popState(),48;case 29:return this.pushState("acc_title"),"acc_title";case 30:return this.popState(),"acc_title_value";case 31:return this.pushState("acc_descr"),"acc_descr";case 32:return this.popState(),"acc_descr_value";case 33:this.pushState("acc_descr_multiline");break;case 35:return"acc_descr_multiline_value";case 36:return 30;case 37:case 38:case 40:case 41:case 44:return this.popState(),t.getLogger().debug("Lex: (("),"NODE_DEND";case 39:return this.popState(),t.getLogger().debug("Lex: ))"),"NODE_DEND";case 42:return this.popState(),t.getLogger().debug("Lex: (-"),"NODE_DEND";case 43:return this.popState(),t.getLogger().debug("Lex: -)"),"NODE_DEND";case 45:return this.popState(),t.getLogger().debug("Lex: ]]"),"NODE_DEND";case 46:return this.popState(),t.getLogger().debug("Lex: ("),"NODE_DEND";case 47:return this.popState(),t.getLogger().debug("Lex: ])"),"NODE_DEND";case 48:case 49:return this.popState(),t.getLogger().debug("Lex: /]"),"NODE_DEND";case 50:return this.popState(),t.getLogger().debug("Lex: )]"),"NODE_DEND";case 51:return this.popState(),t.getLogger().debug("Lex: )"),"NODE_DEND";case 52:return this.popState(),t.getLogger().debug("Lex: ]>"),"NODE_DEND";case 53:return this.popState(),t.getLogger().debug("Lex: ]"),"NODE_DEND";case 54:return t.getLogger().debug("Lexa: -)"),this.pushState("NODE"),35;case 55:return t.getLogger().debug("Lexa: (-"),this.pushState("NODE"),35;case 56:return t.getLogger().debug("Lexa: ))"),this.pushState("NODE"),35;case 57:case 59:case 60:case 61:case 64:return t.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;case 58:return t.getLogger().debug("Lex: ((("),this.pushState("NODE"),35;case 62:return t.getLogger().debug("Lexc: >"),this.pushState("NODE"),35;case 63:return t.getLogger().debug("Lexa: (["),this.pushState("NODE"),35;case 65:case 66:case 67:case 68:case 69:case 70:case 71:return this.pushState("NODE"),35;case 72:return t.getLogger().debug("Lexa: ["),this.pushState("NODE"),35;case 73:return this.pushState("BLOCK_ARROW"),t.getLogger().debug("LEX ARR START"),37;case 74:return t.getLogger().debug("Lex: NODE_ID",e.yytext),31;case 75:return t.getLogger().debug("Lex: EOF",e.yytext),8;case 78:return"NODE_DESCR";case 80:t.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 81:t.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 82:return t.getLogger().debug("LEX: NODE_DESCR:",e.yytext),"NODE_DESCR";case 83:t.getLogger().debug("LEX POPPING"),this.popState();break;case 84:t.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 85:return e.yytext=e.yytext.replace(/^,\s*/,""),t.getLogger().debug("Lex (right): dir:",e.yytext),"DIR";case 86:return e.yytext=e.yytext.replace(/^,\s*/,""),t.getLogger().debug("Lex (left):",e.yytext),"DIR";case 87:return e.yytext=e.yytext.replace(/^,\s*/,""),t.getLogger().debug("Lex (x):",e.yytext),"DIR";case 88:return e.yytext=e.yytext.replace(/^,\s*/,""),t.getLogger().debug("Lex (y):",e.yytext),"DIR";case 89:return e.yytext=e.yytext.replace(/^,\s*/,""),t.getLogger().debug("Lex (up):",e.yytext),"DIR";case 90:return e.yytext=e.yytext.replace(/^,\s*/,""),t.getLogger().debug("Lex (down):",e.yytext),"DIR";case 91:return e.yytext="]>",t.getLogger().debug("Lex (ARROW_DIR end):",e.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";case 92:return t.getLogger().debug("Lex: LINK","#"+e.yytext+"#"),15;case 93:case 94:case 95:return t.getLogger().debug("Lex: LINK",e.yytext),15;case 96:case 97:case 98:return t.getLogger().debug("Lex: START_LINK",e.yytext),this.pushState("LLABEL"),16;case 100:return t.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";case 101:return this.popState(),t.getLogger().debug("Lex: LINK","#"+e.yytext+"#"),15;case 102:case 103:return this.popState(),t.getLogger().debug("Lex: LINK",e.yytext),15;case 104:return t.getLogger().debug("Lex: COLON",e.yytext),e.yytext=e.yytext.slice(1),27}},"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block:)/,/^(?:block\b)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[28],inclusive:!1},STYLE_STMNT:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[22],inclusive:!1},CLASSDEF:{rules:[20,21],inclusive:!1},CLASS_STYLE:{rules:[25],inclusive:!1},CLASS:{rules:[24],inclusive:!1},LLABEL:{rules:[99,100,101,102,103],inclusive:!1},ARROW_DIR:{rules:[85,86,87,88,89,90,91],inclusive:!1},BLOCK_ARROW:{rules:[76,81,84],inclusive:!1},NODE:{rules:[37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,77,80],inclusive:!1},md_string:{rules:[9,10,78,79],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[12,13,82,83],inclusive:!1},acc_descr_multiline:{rules:[34,35],inclusive:!1},acc_descr:{rules:[32],inclusive:!1},acc_title:{rules:[30],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,11,14,15,16,17,18,19,23,26,29,31,33,36,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,92,93,94,95,96,97,98,104],inclusive:!0}}}}();function m(){this.yy={}}return b.lexer=f,e(m,"Parser"),m.prototype=b,b.Parser=m,new m}();E.parser=E;var v=E,$=new Map,D=[],T=new Map,C="color",N="fill",I=l(),B=new Map,z=e(t=>b.sanitizeText(t,I),"sanitizeText"),R=e(function(t,e=""){let r=B.get(t);r||(r={id:t,styles:[],textStyles:[]},B.set(t,r)),null!=e&&e.split(",").forEach(t=>{const e=t.replace(/([^;]*);/,"$1").trim();if(RegExp(C).exec(t)){const t=e.replace(N,"bgFill").replace(C,N);r.textStyles.push(t)}r.styles.push(e)})},"addStyleClass"),O=e(function(t,e=""){const r=$.get(t);null!=e&&(r.styles=e.split(","))},"addStyle2Node"),A=e(function(t,e){t.split(",").forEach(function(t){let r=$.get(t);if(void 0===r){const e=t.trim();r={id:e,type:"na",children:[]},$.set(e,r)}r.classes||(r.classes=[]),r.classes.push(e)})},"setCssClass"),M=e((t,e)=>{const r=t.flat(),a=[],s=r.find(t=>"column-setting"===t?.type),n=s?.columns??-1;for(const o of r)if("number"==typeof n&&n>0&&"column-setting"!==o.type&&"number"==typeof o.widthInColumns&&o.widthInColumns>n&&i.warn(`Block ${o.id} width ${o.widthInColumns} exceeds configured column width ${n}`),o.label&&(o.label=z(o.label)),"classDef"!==o.type)if("applyClass"!==o.type)if("applyStyles"!==o.type)if("column-setting"===o.type)e.columns=o.columns??-1;else if("edge"===o.type){const t=(T.get(o.id)??0)+1;T.set(o.id,t),o.id=t+"-"+o.id,D.push(o)}else{o.label||("composite"===o.type?o.label="":o.label=o.id);const t=$.get(o.id);if(void 0===t?$.set(o.id,o):("na"!==o.type&&(t.type=o.type),o.label!==o.id&&(t.label=o.label)),o.children&&M(o.children,o),"space"===o.type){const t=o.width??1;for(let e=0;e<t;e++){const t=L(o);t.id=t.id+"-"+e,$.set(t.id,t),a.push(t)}}else void 0===t&&a.push(o)}else o?.stylesStr&&O(o.id,o?.stylesStr);else A(o.id,o?.styleClass??"");else R(o.id,o.css);e.children=a},"populateBlockDatabase"),P=[],Y={id:"root",type:"composite",children:[],columns:-1},W=e(()=>{i.debug("Clear called"),n(),Y={id:"root",type:"composite",children:[],columns:-1},$=new Map([["root",Y]]),P=[],B=new Map,D=[],T=new Map},"clear");function X(t){switch(i.debug("typeStr2Type",t),t){case"[]":return"square";case"()":return i.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}function F(t){return i.debug("typeStr2Type",t),"=="===t?"thick":"normal"}function H(t){switch(t.replace(/^[\s-]+|[\s-]+$/g,"")){case"x":return"arrow_cross";case"o":return"arrow_circle";case">":return"arrow_point";default:return""}}e(X,"typeStr2Type"),e(F,"edgeTypeStr2Type"),e(H,"edgeStrToEdgeData");var j=0,U=e(()=>(j++,"id-"+Math.random().toString(36).substr(2,12)+"-"+j),"generateId"),K=e(t=>{Y.children=t,M(t,Y),P=Y.children},"setHierarchy"),q=e(t=>{const e=$.get(t);return e?e.columns?e.columns:e.children?e.children.length:-1:-1},"getColumns"),Z=e(()=>[...$.values()],"getBlocksFlat"),G=e(()=>P||[],"getBlocks"),J=e(()=>D,"getEdges"),V=e(t=>$.get(t),"getBlock"),Q=e(t=>{$.set(t.id,t)},"setBlock"),tt=e(()=>i,"getLogger"),et=e(function(){return B},"getClasses"),rt={getConfig:e(()=>r().block,"getConfig"),typeStr2Type:X,edgeTypeStr2Type:F,edgeStrToEdgeData:H,getLogger:tt,getBlocksFlat:Z,getBlocks:G,getEdges:J,setHierarchy:K,getBlock:V,setBlock:Q,getColumns:q,getClasses:et,clear:W,generateId:U},at=e((t,e)=>{const r=_,a=r(t,"r"),s=r(t,"g"),i=r(t,"b");return o(a,s,i,e)},"fade"),st=e(e=>`.label {\n    font-family: ${e.fontFamily};\n    color: ${e.nodeTextColor||e.textColor};\n  }\n  .cluster-label text {\n    fill: ${e.titleColor};\n  }\n  .cluster-label span,p {\n    color: ${e.titleColor};\n  }\n\n\n\n  .label text,span,p {\n    fill: ${e.nodeTextColor||e.textColor};\n    color: ${e.nodeTextColor||e.textColor};\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${e.mainBkg};\n    stroke: ${e.nodeBorder};\n    stroke-width: 1px;\n  }\n  .flowchart-label text {\n    text-anchor: middle;\n  }\n  // .flowchart-label .text-outer-tspan {\n  //   text-anchor: middle;\n  // }\n  // .flowchart-label .text-inner-tspan {\n  //   text-anchor: start;\n  // }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${e.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${e.lineColor};\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ${e.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${e.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n      background-color: ${e.edgeLabelBackground};\n      fill: ${e.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n\n  /* For html labels only */\n  .labelBkg {\n    background-color: ${at(e.edgeLabelBackground,.5)};\n    // background-color:\n  }\n\n  .node .cluster {\n    // fill: ${at(e.mainBkg,.5)};\n    fill: ${at(e.clusterBkg,.5)};\n    stroke: ${at(e.clusterBorder,.2)};\n    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ${e.titleColor};\n  }\n\n  .cluster span,p {\n    color: ${e.titleColor};\n  }\n  /* .cluster div {\n    color: ${e.titleColor};\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ${e.fontFamily};\n    font-size: 12px;\n    background: ${e.tertiaryColor};\n    border: 1px solid ${e.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .flowchartTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${e.textColor};\n  }\n  ${t()}\n`,"getStyles"),it=e((t,e,r,a)=>{e.forEach(e=>{nt[e](t,r,a)})},"insertMarkers"),nt={extension:e((t,e,r)=>{i.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),composition:e((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),aggregation:e((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),dependency:e((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),lollipop:e((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),point:e((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),circle:e((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),cross:e((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),barb:e((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb")},ot=it,lt=l()?.block?.padding??8;function ct(t,e){if(0===t||!Number.isInteger(t))throw new Error("Columns must be an integer !== 0.");if(e<0||!Number.isInteger(e))throw new Error("Position must be a non-negative integer."+e);if(t<0)return{px:e,py:0};if(1===t)return{px:0,py:e};return{px:e%t,py:Math.floor(e/t)}}e(ct,"calculateBlockPosition");var dt=e(t=>{let e=0,r=0;for(const a of t.children){const{width:s,height:n,x:o,y:l}=a.size??{width:0,height:0,x:0,y:0};i.debug("getMaxChildSize abc95 child:",a.id,"width:",s,"height:",n,"x:",o,"y:",l,a.type),"space"!==a.type&&(s>e&&(e=s/(t.widthInColumns??1)),n>r&&(r=n))}return{width:e,height:r}},"getMaxChildSize");function ht(t,e,r=0,a=0){i.debug("setBlockSizes abc95 (start)",t.id,t?.size?.x,"block width =",t?.size,"siblingWidth",r),t?.size?.width||(t.size={width:r,height:a,x:0,y:0});let s=0,n=0;if(t.children?.length>0){for(const r of t.children)ht(r,e);const o=dt(t);s=o.width,n=o.height,i.debug("setBlockSizes abc95 maxWidth of",t.id,":s children is ",s,n);for(const e of t.children)e.size&&(i.debug(`abc95 Setting size of children of ${t.id} id=${e.id} ${s} ${n} ${JSON.stringify(e.size)}`),e.size.width=s*(e.widthInColumns??1)+lt*((e.widthInColumns??1)-1),e.size.height=n,e.size.x=0,e.size.y=0,i.debug(`abc95 updating size of ${t.id} children child:${e.id} maxWidth:${s} maxHeight:${n}`));for(const r of t.children)ht(r,e,s,n);const l=t.columns??-1;let c=0;for(const e of t.children)c+=e.widthInColumns??1;let d=t.children.length;l>0&&l<c&&(d=l);const h=Math.ceil(c/d);let g=d*(s+lt)+lt,y=h*(n+lt)+lt;if(g<r){i.debug(`Detected to small sibling: abc95 ${t.id} siblingWidth ${r} siblingHeight ${a} width ${g}`),g=r,y=a;const e=(r-d*lt-lt)/d,o=(a-h*lt-lt)/h;i.debug("Size indata abc88",t.id,"childWidth",e,"maxWidth",s),i.debug("Size indata abc88",t.id,"childHeight",o,"maxHeight",n),i.debug("Size indata abc88 xSize",d,"padding",lt);for(const r of t.children)r.size&&(r.size.width=e,r.size.height=o,r.size.x=0,r.size.y=0)}if(i.debug(`abc95 (finale calc) ${t.id} xSize ${d} ySize ${h} columns ${l}${t.children.length} width=${Math.max(g,t.size?.width||0)}`),g<(t?.size?.width||0)){g=t?.size?.width||0;const e=l>0?Math.min(t.children.length,l):t.children.length;if(e>0){const r=(g-e*lt-lt)/e;i.debug("abc95 (growing to fit) width",t.id,g,t.size?.width,r);for(const e of t.children)e.size&&(e.size.width=r)}}t.size={width:g,height:y,x:0,y:0}}i.debug("setBlockSizes abc94 (done)",t.id,t?.size?.x,t?.size?.width,t?.size?.y,t?.size?.height)}function gt(t,e){i.debug(`abc85 layout blocks (=>layoutBlocks) ${t.id} x: ${t?.size?.x} y: ${t?.size?.y} width: ${t?.size?.width}`);const r=t.columns??-1;if(i.debug("layoutBlocks columns abc95",t.id,"=>",r,t),t.children&&t.children.length>0){const e=t?.children[0]?.size?.width??0,a=t.children.length*e+(t.children.length-1)*lt;i.debug("widthOfChildren 88",a,"posX");let s=0;i.debug("abc91 block?.size?.x",t.id,t?.size?.x);let n=t?.size?.x?t?.size?.x+(-t?.size?.width/2||0):-lt,o=0;for(const l of t.children){const e=t;if(!l.size)continue;const{width:a,height:c}=l.size,{px:d,py:h}=ct(r,s);if(h!=o&&(o=h,n=t?.size?.x?t?.size?.x+(-t?.size?.width/2||0):-lt,i.debug("New row in layout for block",t.id," and child ",l.id,o)),i.debug(`abc89 layout blocks (child) id: ${l.id} Pos: ${s} (px, py) ${d},${h} (${e?.size?.x},${e?.size?.y}) parent: ${e.id} width: ${a}${lt}`),e.size){const t=a/2;l.size.x=n+lt+t,i.debug(`abc91 layout blocks (calc) px, pyid:${l.id} startingPos=X${n} new startingPosX${l.size.x} ${t} padding=${lt} width=${a} halfWidth=${t} => x:${l.size.x} y:${l.size.y} ${l.widthInColumns} (width * (child?.w || 1)) / 2 ${a*(l?.widthInColumns??1)/2}`),n=l.size.x+t,l.size.y=e.size.y-e.size.height/2+h*(c+lt)+c/2+lt,i.debug(`abc88 layout blocks (calc) px, pyid:${l.id}startingPosX${n}${lt}${t}=>x:${l.size.x}y:${l.size.y}${l.widthInColumns}(width * (child?.w || 1)) / 2${a*(l?.widthInColumns??1)/2}`)}l.children&&gt(l);let g=l?.widthInColumns??1;r>0&&(g=Math.min(g,r-s%r)),s+=g,i.debug("abc88 columnsPos",l,s)}}i.debug(`layout blocks (<==layoutBlocks) ${t.id} x: ${t?.size?.x} y: ${t?.size?.y} width: ${t?.size?.width}`)}function yt(t,{minX:e,minY:r,maxX:a,maxY:s}={minX:0,minY:0,maxX:0,maxY:0}){if(t.size&&"root"!==t.id){const{x:i,y:n,width:o,height:l}=t.size;i-o/2<e&&(e=i-o/2),n-l/2<r&&(r=n-l/2),i+o/2>a&&(a=i+o/2),n+l/2>s&&(s=n+l/2)}if(t.children)for(const i of t.children)({minX:e,minY:r,maxX:a,maxY:s}=yt(i,{minX:e,minY:r,maxX:a,maxY:s}));return{minX:e,minY:r,maxX:a,maxY:s}}function pt(t){const e=t.getBlock("root");if(!e)return;ht(e,t,0,0),gt(e),i.debug("getBlocks",JSON.stringify(e,null,2));const{minX:r,minY:a,maxX:s,maxY:n}=yt(e);return{x:r,y:a,width:s-r,height:n-a}}function ut(t,e){e&&t.attr("style",e)}function xt(t,e){const r=a(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),s=r.append("xhtml:div"),i=t.label,n=t.isNode?"nodeLabel":"edgeLabel",o=s.append("span");return o.html(w(i,e)),ut(o,t.labelStyle),o.attr("class",n),ut(s,t.labelStyle),s.style("display","inline-block"),s.style("white-space","nowrap"),s.attr("xmlns","http://www.w3.org/1999/xhtml"),r.node()}e(ht,"setBlockSizes"),e(gt,"layoutBlocks"),e(yt,"findBounds"),e(pt,"layout"),e(ut,"applyStyle"),e(xt,"addHtmlLabel");var bt=e(async(t,e,r,a)=>{let s=t||"";"object"==typeof s&&(s=s[0]);const n=l();if(y(n.flowchart.htmlLabels)){s=s.replace(/\\n|\n/g,"<br />"),i.debug("vertexText"+s);return xt({isNode:a,label:await f(m(s)),labelStyle:e.replace("fill:","color:")},n)}{const t=document.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("style",e.replace("color:","fill:"));let a=[];a="string"==typeof s?s.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(s)?s:[];for(const e of a){const a=document.createElementNS("http://www.w3.org/2000/svg","tspan");a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),a.setAttribute("dy","1em"),a.setAttribute("x","0"),r?a.setAttribute("class","title-row"):a.setAttribute("class","row"),a.textContent=e.trim(),t.appendChild(a)}return t}},"createLabel"),ft=e((t,e,r,a,s)=>{e.arrowTypeStart&&wt(t,"start",e.arrowTypeStart,r,a,s),e.arrowTypeEnd&&wt(t,"end",e.arrowTypeEnd,r,a,s)},"addEdgeMarkers"),mt={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},wt=e((t,e,r,a,s,n)=>{const o=mt[r];if(!o)return void i.warn(`Unknown arrow type: ${r}`);const l="start"===e?"Start":"End";t.attr(`marker-${e}`,`url(${a}#${s}_${n}-${o}${l})`)},"addEdgeMarker"),kt={},Lt={},St=e(async(t,e)=>{const r=l(),s=y(r.flowchart.htmlLabels),i="markdown"===e.labelType?p(t,e.label,{style:e.labelStyle,useHtmlLabels:s,addSvgBackground:!0},r):await bt(e.label,e.labelStyle),n=t.insert("g").attr("class","edgeLabel"),o=n.insert("g").attr("class","label");o.node().appendChild(i);let c,d=i.getBBox();if(s){const t=i.children[0],e=a(i);d=t.getBoundingClientRect(),e.attr("width",d.width),e.attr("height",d.height)}if(o.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),kt[e.id]=n,e.width=d.width,e.height=d.height,e.startLabelLeft){const r=await bt(e.startLabelLeft,e.labelStyle),a=t.insert("g").attr("class","edgeTerminals"),s=a.insert("g").attr("class","inner");c=s.node().appendChild(r);const i=r.getBBox();s.attr("transform","translate("+-i.width/2+", "+-i.height/2+")"),Lt[e.id]||(Lt[e.id]={}),Lt[e.id].startLeft=a,_t(c,e.startLabelLeft)}if(e.startLabelRight){const r=await bt(e.startLabelRight,e.labelStyle),a=t.insert("g").attr("class","edgeTerminals"),s=a.insert("g").attr("class","inner");c=a.node().appendChild(r),s.node().appendChild(r);const i=r.getBBox();s.attr("transform","translate("+-i.width/2+", "+-i.height/2+")"),Lt[e.id]||(Lt[e.id]={}),Lt[e.id].startRight=a,_t(c,e.startLabelRight)}if(e.endLabelLeft){const r=await bt(e.endLabelLeft,e.labelStyle),a=t.insert("g").attr("class","edgeTerminals"),s=a.insert("g").attr("class","inner");c=s.node().appendChild(r);const i=r.getBBox();s.attr("transform","translate("+-i.width/2+", "+-i.height/2+")"),a.node().appendChild(r),Lt[e.id]||(Lt[e.id]={}),Lt[e.id].endLeft=a,_t(c,e.endLabelLeft)}if(e.endLabelRight){const r=await bt(e.endLabelRight,e.labelStyle),a=t.insert("g").attr("class","edgeTerminals"),s=a.insert("g").attr("class","inner");c=s.node().appendChild(r);const i=r.getBBox();s.attr("transform","translate("+-i.width/2+", "+-i.height/2+")"),a.node().appendChild(r),Lt[e.id]||(Lt[e.id]={}),Lt[e.id].endRight=a,_t(c,e.endLabelRight)}return i},"insertEdgeLabel");function _t(t,e){l().flowchart.htmlLabels&&t&&(t.style.width=9*e.length+"px",t.style.height="12px")}e(_t,"setTerminalWidth");var Et=e((t,e)=>{i.debug("Moving label abc88 ",t.id,t.label,kt[t.id],e);let r=e.updatedPath?e.updatedPath:e.originalPath;const a=l(),{subGraphTitleTotalMargin:s}=u(a);if(t.label){const a=kt[t.id];let n=t.x,o=t.y;if(r){const a=x.calcLabelPosition(r);i.debug("Moving label "+t.label+" from (",n,",",o,") to (",a.x,",",a.y,") abc88"),e.updatedPath&&(n=a.x,o=a.y)}a.attr("transform",`translate(${n}, ${o+s/2})`)}if(t.startLabelLeft){const e=Lt[t.id].startLeft;let a=t.x,s=t.y;if(r){const e=x.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",r);a=e.x,s=e.y}e.attr("transform",`translate(${a}, ${s})`)}if(t.startLabelRight){const e=Lt[t.id].startRight;let a=t.x,s=t.y;if(r){const e=x.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",r);a=e.x,s=e.y}e.attr("transform",`translate(${a}, ${s})`)}if(t.endLabelLeft){const e=Lt[t.id].endLeft;let a=t.x,s=t.y;if(r){const e=x.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",r);a=e.x,s=e.y}e.attr("transform",`translate(${a}, ${s})`)}if(t.endLabelRight){const e=Lt[t.id].endRight;let a=t.x,s=t.y;if(r){const e=x.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",r);a=e.x,s=e.y}e.attr("transform",`translate(${a}, ${s})`)}},"positionEdgeLabel"),vt=e((t,e)=>{const r=t.x,a=t.y,s=Math.abs(e.x-r),i=Math.abs(e.y-a),n=t.width/2,o=t.height/2;return s>=n||i>=o},"outsideNode"),$t=e((t,e,r)=>{i.debug(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(e)}\n  insidePoint : ${JSON.stringify(r)}\n  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const a=t.x,s=t.y,n=Math.abs(a-r.x),o=t.width/2;let l=r.x<e.x?o-n:o+n;const c=t.height/2,d=Math.abs(e.y-r.y),h=Math.abs(e.x-r.x);if(Math.abs(s-e.y)*o>Math.abs(a-e.x)*c){let t=r.y<e.y?e.y-c-s:s-c-e.y;l=h*t/d;const a={x:r.x<e.x?r.x+l:r.x-h+l,y:r.y<e.y?r.y+d-t:r.y-d+t};return 0===l&&(a.x=e.x,a.y=e.y),0===h&&(a.x=e.x),0===d&&(a.y=e.y),i.debug(`abc89 topp/bott calc, Q ${d}, q ${t}, R ${h}, r ${l}`,a),a}{l=r.x<e.x?e.x-o-a:a-o-e.x;let t=d*l/h,s=r.x<e.x?r.x+h-l:r.x-h+l,n=r.y<e.y?r.y+t:r.y-t;return i.debug(`sides calc abc89, Q ${d}, q ${t}, R ${h}, r ${l}`,{_x:s,_y:n}),0===l&&(s=e.x,n=e.y),0===h&&(s=e.x),0===d&&(n=e.y),{x:s,y:n}}},"intersection"),Dt=e((t,e)=>{i.debug("abc88 cutPathAtIntersect",t,e);let r=[],a=t[0],s=!1;return t.forEach(t=>{if(vt(e,t)||s)a=t,s||r.push(t);else{const i=$t(e,a,t);let n=!1;r.forEach(t=>{n=n||t.x===i.x&&t.y===i.y}),r.some(t=>t.x===i.x&&t.y===i.y)||r.push(i),s=!0}}),r},"cutPathAtIntersect"),Tt=e(function(t,e,r,a,s,n,o){let y=r.points;i.debug("abc88 InsertEdge: edge=",r,"e=",e);let p=!1;const u=n.node(e.v);var x=n.node(e.w);x?.intersect&&u?.intersect&&(y=y.slice(1,r.points.length-1),y.unshift(u.intersect(y[0])),y.push(x.intersect(y[y.length-1]))),r.toCluster&&(i.debug("to cluster abc88",a[r.toCluster]),y=Dt(r.points,a[r.toCluster].node),p=!0),r.fromCluster&&(i.debug("from cluster abc88",a[r.fromCluster]),y=Dt(y.reverse(),a[r.fromCluster].node).reverse(),p=!0);const b=y.filter(t=>!Number.isNaN(t.y));let f=h;!r.curve||"graph"!==s&&"flowchart"!==s||(f=r.curve);const{x:m,y:w}=c(r),k=d().x(m).y(w).curve(f);let L;switch(r.thickness){case"normal":L="edge-thickness-normal";break;case"thick":case"invisible":L="edge-thickness-thick";break;default:L=""}switch(r.pattern){case"solid":L+=" edge-pattern-solid";break;case"dotted":L+=" edge-pattern-dotted";break;case"dashed":L+=" edge-pattern-dashed"}const S=t.append("path").attr("d",k(b)).attr("id",r.id).attr("class"," "+L+(r.classes?" "+r.classes:"")).attr("style",r.style);let _="";(l().flowchart.arrowMarkerAbsolute||l().state.arrowMarkerAbsolute)&&(_=g(!0)),ft(S,r,_,o,s);let E={};return p&&(E.updatedPath=y),E.originalPath=r.points,E},"insertEdge"),Ct=e(t=>{const e=new Set;for(const r of t)switch(r){case"x":e.add("right"),e.add("left");break;case"y":e.add("up"),e.add("down");break;default:e.add(r)}return e},"expandAndDeduplicateDirections"),Nt=e((t,e,r)=>{const a=Ct(t),s=e.height+2*r.padding,i=s/2,n=e.width+2*i+r.padding,o=r.padding/2;return a.has("right")&&a.has("left")&&a.has("up")&&a.has("down")?[{x:0,y:0},{x:i,y:0},{x:n/2,y:2*o},{x:n-i,y:0},{x:n,y:0},{x:n,y:-s/3},{x:n+2*o,y:-s/2},{x:n,y:-2*s/3},{x:n,y:-s},{x:n-i,y:-s},{x:n/2,y:-s-2*o},{x:i,y:-s},{x:0,y:-s},{x:0,y:-2*s/3},{x:-2*o,y:-s/2},{x:0,y:-s/3}]:a.has("right")&&a.has("left")&&a.has("up")?[{x:i,y:0},{x:n-i,y:0},{x:n,y:-s/2},{x:n-i,y:-s},{x:i,y:-s},{x:0,y:-s/2}]:a.has("right")&&a.has("left")&&a.has("down")?[{x:0,y:0},{x:i,y:-s},{x:n-i,y:-s},{x:n,y:0}]:a.has("right")&&a.has("up")&&a.has("down")?[{x:0,y:0},{x:n,y:-i},{x:n,y:-s+i},{x:0,y:-s}]:a.has("left")&&a.has("up")&&a.has("down")?[{x:n,y:0},{x:0,y:-i},{x:0,y:-s+i},{x:n,y:-s}]:a.has("right")&&a.has("left")?[{x:i,y:0},{x:i,y:-o},{x:n-i,y:-o},{x:n-i,y:0},{x:n,y:-s/2},{x:n-i,y:-s},{x:n-i,y:-s+o},{x:i,y:-s+o},{x:i,y:-s},{x:0,y:-s/2}]:a.has("up")&&a.has("down")?[{x:n/2,y:0},{x:0,y:-o},{x:i,y:-o},{x:i,y:-s+o},{x:0,y:-s+o},{x:n/2,y:-s},{x:n,y:-s+o},{x:n-i,y:-s+o},{x:n-i,y:-o},{x:n,y:-o}]:a.has("right")&&a.has("up")?[{x:0,y:0},{x:n,y:-i},{x:0,y:-s}]:a.has("right")&&a.has("down")?[{x:0,y:0},{x:n,y:0},{x:0,y:-s}]:a.has("left")&&a.has("up")?[{x:n,y:0},{x:0,y:-i},{x:n,y:-s}]:a.has("left")&&a.has("down")?[{x:n,y:0},{x:0,y:0},{x:n,y:-s}]:a.has("right")?[{x:i,y:-o},{x:i,y:-o},{x:n-i,y:-o},{x:n-i,y:0},{x:n,y:-s/2},{x:n-i,y:-s},{x:n-i,y:-s+o},{x:i,y:-s+o},{x:i,y:-s+o}]:a.has("left")?[{x:i,y:0},{x:i,y:-o},{x:n-i,y:-o},{x:n-i,y:-s+o},{x:i,y:-s+o},{x:i,y:-s},{x:0,y:-s/2}]:a.has("up")?[{x:i,y:-o},{x:i,y:-s+o},{x:0,y:-s+o},{x:n/2,y:-s},{x:n,y:-s+o},{x:n-i,y:-s+o},{x:n-i,y:-o}]:a.has("down")?[{x:n/2,y:0},{x:0,y:-o},{x:i,y:-o},{x:i,y:-s+o},{x:n-i,y:-s+o},{x:n-i,y:-o},{x:n,y:-o}]:[{x:0,y:0}]},"getArrowPoints");function It(t,e){return t.intersect(e)}e(It,"intersectNode");var Bt=It;function zt(t,e,r,a){var s=t.x,i=t.y,n=s-a.x,o=i-a.y,l=Math.sqrt(e*e*o*o+r*r*n*n),c=Math.abs(e*r*n/l);a.x<s&&(c=-c);var d=Math.abs(e*r*o/l);return a.y<i&&(d=-d),{x:s+c,y:i+d}}e(zt,"intersectEllipse");var Rt=zt;function Ot(t,e,r){return Rt(t,e,e,r)}e(Ot,"intersectCircle");var At=Ot;function Mt(t,e,r,a){var s,i,n,o,l,c,d,h,g,y,p,u,x;if(s=e.y-t.y,n=t.x-e.x,l=e.x*t.y-t.x*e.y,g=s*r.x+n*r.y+l,y=s*a.x+n*a.y+l,!(0!==g&&0!==y&&Pt(g,y)||(i=a.y-r.y,o=r.x-a.x,c=a.x*r.y-r.x*a.y,d=i*t.x+o*t.y+c,h=i*e.x+o*e.y+c,0!==d&&0!==h&&Pt(d,h)||0===(p=s*o-i*n))))return u=Math.abs(p/2),{x:(x=n*c-o*l)<0?(x-u)/p:(x+u)/p,y:(x=i*l-s*c)<0?(x-u)/p:(x+u)/p}}function Pt(t,e){return t*e>0}e(Mt,"intersectLine"),e(Pt,"sameSign");var Yt=Mt,Wt=Xt;function Xt(t,e,r){var a=t.x,s=t.y,i=[],n=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;"function"==typeof e.forEach?e.forEach(function(t){n=Math.min(n,t.x),o=Math.min(o,t.y)}):(n=Math.min(n,e.x),o=Math.min(o,e.y));for(var l=a-t.width/2-n,c=s-t.height/2-o,d=0;d<e.length;d++){var h=e[d],g=e[d<e.length-1?d+1:0],y=Yt(t,r,{x:l+h.x,y:c+h.y},{x:l+g.x,y:c+g.y});y&&i.push(y)}return i.length?(i.length>1&&i.sort(function(t,e){var a=t.x-r.x,s=t.y-r.y,i=Math.sqrt(a*a+s*s),n=e.x-r.x,o=e.y-r.y,l=Math.sqrt(n*n+o*o);return i<l?-1:i===l?0:1}),i[0]):t}e(Xt,"intersectPolygon");var Ft={node:Bt,circle:At,ellipse:Rt,polygon:Wt,rect:e((t,e)=>{var r,a,s=t.x,i=t.y,n=e.x-s,o=e.y-i,l=t.width/2,c=t.height/2;return Math.abs(o)*l>Math.abs(n)*c?(o<0&&(c=-c),r=0===o?0:c*n/o,a=c):(n<0&&(l=-l),r=l,a=0===n?0:l*o/n),{x:s+r,y:i+a}},"intersectRect")},Ht=e(async(t,r,s,i)=>{const n=l();let o;const c=r.useHtmlLabels||y(n.flowchart.htmlLabels);o=s||"node default";const d=t.insert("g").attr("class",o).attr("id",r.domId||r.id),h=d.insert("g").attr("class","label").attr("style",r.labelStyle);let g;g=void 0===r.labelText?"":"string"==typeof r.labelText?r.labelText:r.labelText[0];const u=h.node();let x;x="markdown"===r.labelType?p(h,w(m(g),n),{useHtmlLabels:c,width:r.width||n.flowchart.wrappingWidth,classes:"markdown-node-label"},n):u.appendChild(await bt(w(m(g),n),r.labelStyle,!1,i));let b=x.getBBox();const f=r.padding/2;if(y(n.flowchart.htmlLabels)){const t=x.children[0],r=a(x),s=t.getElementsByTagName("img");if(s){const t=""===g.replace(/<img[^>]*>/g,"").trim();await Promise.all([...s].map(r=>new Promise(a=>{function s(){if(r.style.display="flex",r.style.flexDirection="column",t){const t=n.fontSize?n.fontSize:window.getComputedStyle(document.body).fontSize,e=5,a=parseInt(t,10)*e+"px";r.style.minWidth=a,r.style.maxWidth=a}else r.style.width="100%";a(r)}e(s,"setupImage"),setTimeout(()=>{r.complete&&s()}),r.addEventListener("error",s),r.addEventListener("load",s)})))}b=t.getBoundingClientRect(),r.attr("width",b.width),r.attr("height",b.height)}return c?h.attr("transform","translate("+-b.width/2+", "+-b.height/2+")"):h.attr("transform","translate(0, "+-b.height/2+")"),r.centerLabel&&h.attr("transform","translate("+-b.width/2+", "+-b.height/2+")"),h.insert("rect",":first-child"),{shapeSvg:d,bbox:b,halfPadding:f,label:h}},"labelHelper"),jt=e((t,e)=>{const r=e.node().getBBox();t.width=r.width,t.height=r.height},"updateNodeBounds");function Ut(t,e,r,a){return t.insert("polygon",":first-child").attr("points",a.map(function(t){return t.x+","+t.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+r/2+")")}e(Ut,"insertPolygonShape");var Kt=e(async(t,e)=>{e.useHtmlLabels||l().flowchart.htmlLabels||(e.centerLabel=!0);const{shapeSvg:r,bbox:a,halfPadding:s}=await Ht(t,e,"node "+e.classes,!0);i.info("Classes = ",e.classes);const n=r.insert("rect",":first-child");return n.attr("rx",e.rx).attr("ry",e.ry).attr("x",-a.width/2-s).attr("y",-a.height/2-s).attr("width",a.width+e.padding).attr("height",a.height+e.padding),jt(e,n),e.intersect=function(t){return Ft.rect(e,t)},r},"note"),qt=e(t=>t?" "+t:"","formatClass"),Zt=e((t,e)=>`${e||"node default"}${qt(t.classes)} ${qt(t.class)}`,"getClassesFromNode"),Gt=e(async(t,e)=>{const{shapeSvg:r,bbox:a}=await Ht(t,e,Zt(e,void 0),!0),s=a.width+e.padding+(a.height+e.padding),n=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}];i.info("Question main (Circle)");const o=Ut(r,s,s,n);return o.attr("style",e.style),jt(e,o),e.intersect=function(t){return i.warn("Intersect called"),Ft.polygon(e,n,t)},r},"question"),Jt=e((t,e)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),a=[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}];return r.insert("polygon",":first-child").attr("points",a.map(function(t){return t.x+","+t.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),e.width=28,e.height=28,e.intersect=function(t){return Ft.circle(e,14,t)},r},"choice"),Vt=e(async(t,e)=>{const{shapeSvg:r,bbox:a}=await Ht(t,e,Zt(e,void 0),!0),s=a.height+e.padding,i=s/4,n=a.width+2*i+e.padding,o=[{x:i,y:0},{x:n-i,y:0},{x:n,y:-s/2},{x:n-i,y:-s},{x:i,y:-s},{x:0,y:-s/2}],l=Ut(r,n,s,o);return l.attr("style",e.style),jt(e,l),e.intersect=function(t){return Ft.polygon(e,o,t)},r},"hexagon"),Qt=e(async(t,e)=>{const{shapeSvg:r,bbox:a}=await Ht(t,e,void 0,!0),s=a.height+2*e.padding,i=s/2,n=a.width+2*i+e.padding,o=Nt(e.directions,a,e),l=Ut(r,n,s,o);return l.attr("style",e.style),jt(e,l),e.intersect=function(t){return Ft.polygon(e,o,t)},r},"block_arrow"),te=e(async(t,e)=>{const{shapeSvg:r,bbox:a}=await Ht(t,e,Zt(e,void 0),!0),s=a.width+e.padding,i=a.height+e.padding,n=[{x:-i/2,y:0},{x:s,y:0},{x:s,y:-i},{x:-i/2,y:-i},{x:0,y:-i/2}];return Ut(r,s,i,n).attr("style",e.style),e.width=s+i,e.height=i,e.intersect=function(t){return Ft.polygon(e,n,t)},r},"rect_left_inv_arrow"),ee=e(async(t,e)=>{const{shapeSvg:r,bbox:a}=await Ht(t,e,Zt(e),!0),s=a.width+e.padding,i=a.height+e.padding,n=[{x:-2*i/6,y:0},{x:s-i/6,y:0},{x:s+2*i/6,y:-i},{x:i/6,y:-i}],o=Ut(r,s,i,n);return o.attr("style",e.style),jt(e,o),e.intersect=function(t){return Ft.polygon(e,n,t)},r},"lean_right"),re=e(async(t,e)=>{const{shapeSvg:r,bbox:a}=await Ht(t,e,Zt(e,void 0),!0),s=a.width+e.padding,i=a.height+e.padding,n=[{x:2*i/6,y:0},{x:s+i/6,y:0},{x:s-2*i/6,y:-i},{x:-i/6,y:-i}],o=Ut(r,s,i,n);return o.attr("style",e.style),jt(e,o),e.intersect=function(t){return Ft.polygon(e,n,t)},r},"lean_left"),ae=e(async(t,e)=>{const{shapeSvg:r,bbox:a}=await Ht(t,e,Zt(e,void 0),!0),s=a.width+e.padding,i=a.height+e.padding,n=[{x:-2*i/6,y:0},{x:s+2*i/6,y:0},{x:s-i/6,y:-i},{x:i/6,y:-i}],o=Ut(r,s,i,n);return o.attr("style",e.style),jt(e,o),e.intersect=function(t){return Ft.polygon(e,n,t)},r},"trapezoid"),se=e(async(t,e)=>{const{shapeSvg:r,bbox:a}=await Ht(t,e,Zt(e,void 0),!0),s=a.width+e.padding,i=a.height+e.padding,n=[{x:i/6,y:0},{x:s-i/6,y:0},{x:s+2*i/6,y:-i},{x:-2*i/6,y:-i}],o=Ut(r,s,i,n);return o.attr("style",e.style),jt(e,o),e.intersect=function(t){return Ft.polygon(e,n,t)},r},"inv_trapezoid"),ie=e(async(t,e)=>{const{shapeSvg:r,bbox:a}=await Ht(t,e,Zt(e,void 0),!0),s=a.width+e.padding,i=a.height+e.padding,n=[{x:0,y:0},{x:s+i/2,y:0},{x:s,y:-i/2},{x:s+i/2,y:-i},{x:0,y:-i}],o=Ut(r,s,i,n);return o.attr("style",e.style),jt(e,o),e.intersect=function(t){return Ft.polygon(e,n,t)},r},"rect_right_inv_arrow"),ne=e(async(t,e)=>{const{shapeSvg:r,bbox:a}=await Ht(t,e,Zt(e,void 0),!0),s=a.width+e.padding,i=s/2,n=i/(2.5+s/50),o=a.height+n+e.padding,l="M 0,"+n+" a "+i+","+n+" 0,0,0 "+s+" 0 a "+i+","+n+" 0,0,0 "+-s+" 0 l 0,"+o+" a "+i+","+n+" 0,0,0 "+s+" 0 l 0,"+-o,c=r.attr("label-offset-y",n).insert("path",":first-child").attr("style",e.style).attr("d",l).attr("transform","translate("+-s/2+","+-(o/2+n)+")");return jt(e,c),e.intersect=function(t){const r=Ft.rect(e,t),a=r.x-e.x;if(0!=i&&(Math.abs(a)<e.width/2||Math.abs(a)==e.width/2&&Math.abs(r.y-e.y)>e.height/2-n)){let s=n*n*(1-a*a/(i*i));0!=s&&(s=Math.sqrt(s)),s=n-s,t.y-e.y>0&&(s=-s),r.y+=s}return r},r},"cylinder"),oe=e(async(t,e)=>{const{shapeSvg:r,bbox:a,halfPadding:s}=await Ht(t,e,"node "+e.classes+" "+e.class,!0),n=r.insert("rect",":first-child"),o=e.positioned?e.width:a.width+e.padding,l=e.positioned?e.height:a.height+e.padding,c=e.positioned?-o/2:-a.width/2-s,d=e.positioned?-l/2:-a.height/2-s;if(n.attr("class","basic label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",c).attr("y",d).attr("width",o).attr("height",l),e.props){const t=new Set(Object.keys(e.props));e.props.borders&&(de(n,e.props.borders,o,l),t.delete("borders")),t.forEach(t=>{i.warn(`Unknown node property ${t}`)})}return jt(e,n),e.intersect=function(t){return Ft.rect(e,t)},r},"rect"),le=e(async(t,e)=>{const{shapeSvg:r,bbox:a,halfPadding:s}=await Ht(t,e,"node "+e.classes,!0),n=r.insert("rect",":first-child"),o=e.positioned?e.width:a.width+e.padding,l=e.positioned?e.height:a.height+e.padding,c=e.positioned?-o/2:-a.width/2-s,d=e.positioned?-l/2:-a.height/2-s;if(n.attr("class","basic cluster composite label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",c).attr("y",d).attr("width",o).attr("height",l),e.props){const t=new Set(Object.keys(e.props));e.props.borders&&(de(n,e.props.borders,o,l),t.delete("borders")),t.forEach(t=>{i.warn(`Unknown node property ${t}`)})}return jt(e,n),e.intersect=function(t){return Ft.rect(e,t)},r},"composite"),ce=e(async(t,e)=>{const{shapeSvg:r}=await Ht(t,e,"label",!0);i.trace("Classes = ",e.class);const a=r.insert("rect",":first-child");if(a.attr("width",0).attr("height",0),r.attr("class","label edgeLabel"),e.props){const t=new Set(Object.keys(e.props));e.props.borders&&(de(a,e.props.borders,0,0),t.delete("borders")),t.forEach(t=>{i.warn(`Unknown node property ${t}`)})}return jt(e,a),e.intersect=function(t){return Ft.rect(e,t)},r},"labelRect");function de(t,r,a,s){const n=[],o=e(t=>{n.push(t,0)},"addBorder"),l=e(t=>{n.push(0,t)},"skipBorder");r.includes("t")?(i.debug("add top border"),o(a)):l(a),r.includes("r")?(i.debug("add right border"),o(s)):l(s),r.includes("b")?(i.debug("add bottom border"),o(a)):l(a),r.includes("l")?(i.debug("add left border"),o(s)):l(s),t.attr("stroke-dasharray",n.join(" "))}e(de,"applyNodePropertyBorders");var he=e(async(t,e)=>{let r;r=e.classes?"node "+e.classes:"node default";const s=t.insert("g").attr("class",r).attr("id",e.domId||e.id),n=s.insert("rect",":first-child"),o=s.insert("line"),c=s.insert("g").attr("class","label"),d=e.labelText.flat?e.labelText.flat():e.labelText;let h="";h="object"==typeof d?d[0]:d,i.info("Label text abc79",h,d,"object"==typeof d);const g=c.node().appendChild(await bt(h,e.labelStyle,!0,!0));let p={width:0,height:0};if(y(l().flowchart.htmlLabels)){const t=g.children[0],e=a(g);p=t.getBoundingClientRect(),e.attr("width",p.width),e.attr("height",p.height)}i.info("Text 2",d);const u=d.slice(1,d.length);let x=g.getBBox();const b=c.node().appendChild(await bt(u.join?u.join("<br/>"):u,e.labelStyle,!0,!0));if(y(l().flowchart.htmlLabels)){const t=b.children[0],e=a(b);p=t.getBoundingClientRect(),e.attr("width",p.width),e.attr("height",p.height)}const f=e.padding/2;return a(b).attr("transform","translate( "+(p.width>x.width?0:(x.width-p.width)/2)+", "+(x.height+f+5)+")"),a(g).attr("transform","translate( "+(p.width<x.width?0:-(x.width-p.width)/2)+", 0)"),p=c.node().getBBox(),c.attr("transform","translate("+-p.width/2+", "+(-p.height/2-f+3)+")"),n.attr("class","outer title-state").attr("x",-p.width/2-f).attr("y",-p.height/2-f).attr("width",p.width+e.padding).attr("height",p.height+e.padding),o.attr("class","divider").attr("x1",-p.width/2-f).attr("x2",p.width/2+f).attr("y1",-p.height/2-f+x.height+f).attr("y2",-p.height/2-f+x.height+f),jt(e,n),e.intersect=function(t){return Ft.rect(e,t)},s},"rectWithTitle"),ge=e(async(t,e)=>{const{shapeSvg:r,bbox:a}=await Ht(t,e,Zt(e,void 0),!0),s=a.height+e.padding,i=a.width+s/4+e.padding,n=r.insert("rect",":first-child").attr("style",e.style).attr("rx",s/2).attr("ry",s/2).attr("x",-i/2).attr("y",-s/2).attr("width",i).attr("height",s);return jt(e,n),e.intersect=function(t){return Ft.rect(e,t)},r},"stadium"),ye=e(async(t,e)=>{const{shapeSvg:r,bbox:a,halfPadding:s}=await Ht(t,e,Zt(e,void 0),!0),n=r.insert("circle",":first-child");return n.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",a.width/2+s).attr("width",a.width+e.padding).attr("height",a.height+e.padding),i.info("Circle main"),jt(e,n),e.intersect=function(t){return i.info("Circle intersect",e,a.width/2+s,t),Ft.circle(e,a.width/2+s,t)},r},"circle"),pe=e(async(t,e)=>{const{shapeSvg:r,bbox:a,halfPadding:s}=await Ht(t,e,Zt(e,void 0),!0),n=r.insert("g",":first-child"),o=n.insert("circle"),l=n.insert("circle");return n.attr("class",e.class),o.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",a.width/2+s+5).attr("width",a.width+e.padding+10).attr("height",a.height+e.padding+10),l.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",a.width/2+s).attr("width",a.width+e.padding).attr("height",a.height+e.padding),i.info("DoubleCircle main"),jt(e,o),e.intersect=function(t){return i.info("DoubleCircle intersect",e,a.width/2+s+5,t),Ft.circle(e,a.width/2+s+5,t)},r},"doublecircle"),ue=e(async(t,e)=>{const{shapeSvg:r,bbox:a}=await Ht(t,e,Zt(e,void 0),!0),s=a.width+e.padding,i=a.height+e.padding,n=[{x:0,y:0},{x:s,y:0},{x:s,y:-i},{x:0,y:-i},{x:0,y:0},{x:-8,y:0},{x:s+8,y:0},{x:s+8,y:-i},{x:-8,y:-i},{x:-8,y:0}],o=Ut(r,s,i,n);return o.attr("style",e.style),jt(e,o),e.intersect=function(t){return Ft.polygon(e,n,t)},r},"subroutine"),xe=e((t,e)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),a=r.insert("circle",":first-child");return a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),jt(e,a),e.intersect=function(t){return Ft.circle(e,7,t)},r},"start"),be=e((t,e,r)=>{const a=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let s=70,i=10;"LR"===r&&(s=10,i=70);const n=a.append("rect").attr("x",-1*s/2).attr("y",-1*i/2).attr("width",s).attr("height",i).attr("class","fork-join");return jt(e,n),e.height=e.height+e.padding/2,e.width=e.width+e.padding/2,e.intersect=function(t){return Ft.rect(e,t)},a},"forkJoin"),fe={rhombus:Gt,composite:le,question:Gt,rect:oe,labelRect:ce,rectWithTitle:he,choice:Jt,circle:ye,doublecircle:pe,stadium:ge,hexagon:Vt,block_arrow:Qt,rect_left_inv_arrow:te,lean_right:ee,lean_left:re,trapezoid:ae,inv_trapezoid:se,rect_right_inv_arrow:ie,cylinder:ne,start:xe,end:e((t,e)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),a=r.insert("circle",":first-child"),s=r.insert("circle",":first-child");return s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),a.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),jt(e,s),e.intersect=function(t){return Ft.circle(e,7,t)},r},"end"),note:Kt,subroutine:ue,fork:be,join:be,class_box:e(async(t,e)=>{const r=e.padding/2;let s;s=e.classes?"node "+e.classes:"node default";const i=t.insert("g").attr("class",s).attr("id",e.domId||e.id),n=i.insert("rect",":first-child"),o=i.insert("line"),c=i.insert("line");let d=0,h=4;const g=i.insert("g").attr("class","label");let p=0;const u=e.classData.annotations?.[0],x=e.classData.annotations[0]?"«"+e.classData.annotations[0]+"»":"",b=g.node().appendChild(await bt(x,e.labelStyle,!0,!0));let f=b.getBBox();if(y(l().flowchart.htmlLabels)){const t=b.children[0],e=a(b);f=t.getBoundingClientRect(),e.attr("width",f.width),e.attr("height",f.height)}e.classData.annotations[0]&&(h+=f.height+4,d+=f.width);let m=e.classData.label;void 0!==e.classData.type&&""!==e.classData.type&&(l().flowchart.htmlLabels?m+="&lt;"+e.classData.type+"&gt;":m+="<"+e.classData.type+">");const w=g.node().appendChild(await bt(m,e.labelStyle,!0,!0));a(w).attr("class","classTitle");let k=w.getBBox();if(y(l().flowchart.htmlLabels)){const t=w.children[0],e=a(w);k=t.getBoundingClientRect(),e.attr("width",k.width),e.attr("height",k.height)}h+=k.height+4,k.width>d&&(d=k.width);const L=[];e.classData.members.forEach(async t=>{const r=t.getDisplayDetails();let s=r.displayText;l().flowchart.htmlLabels&&(s=s.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const i=g.node().appendChild(await bt(s,r.cssStyle?r.cssStyle:e.labelStyle,!0,!0));let n=i.getBBox();if(y(l().flowchart.htmlLabels)){const t=i.children[0],e=a(i);n=t.getBoundingClientRect(),e.attr("width",n.width),e.attr("height",n.height)}n.width>d&&(d=n.width),h+=n.height+4,L.push(i)}),h+=8;const S=[];if(e.classData.methods.forEach(async t=>{const r=t.getDisplayDetails();let s=r.displayText;l().flowchart.htmlLabels&&(s=s.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const i=g.node().appendChild(await bt(s,r.cssStyle?r.cssStyle:e.labelStyle,!0,!0));let n=i.getBBox();if(y(l().flowchart.htmlLabels)){const t=i.children[0],e=a(i);n=t.getBoundingClientRect(),e.attr("width",n.width),e.attr("height",n.height)}n.width>d&&(d=n.width),h+=n.height+4,S.push(i)}),h+=8,u){let t=(d-f.width)/2;a(b).attr("transform","translate( "+(-1*d/2+t)+", "+-1*h/2+")"),p=f.height+4}let _=(d-k.width)/2;return a(w).attr("transform","translate( "+(-1*d/2+_)+", "+(-1*h/2+p)+")"),p+=k.height+4,o.attr("class","divider").attr("x1",-d/2-r).attr("x2",d/2+r).attr("y1",-h/2-r+8+p).attr("y2",-h/2-r+8+p),p+=8,L.forEach(t=>{a(t).attr("transform","translate( "+-d/2+", "+(-1*h/2+p+4)+")");const e=t?.getBBox();p+=(e?.height??0)+4}),p+=8,c.attr("class","divider").attr("x1",-d/2-r).attr("x2",d/2+r).attr("y1",-h/2-r+8+p).attr("y2",-h/2-r+8+p),p+=8,S.forEach(t=>{a(t).attr("transform","translate( "+-d/2+", "+(-1*h/2+p)+")");const e=t?.getBBox();p+=(e?.height??0)+4}),n.attr("style",e.style).attr("class","outer title-state").attr("x",-d/2-r).attr("y",-h/2-r).attr("width",d+e.padding).attr("height",h+e.padding),jt(e,n),e.intersect=function(t){return Ft.rect(e,t)},i},"class_box")},me={},we=e(async(t,e,r)=>{let a,s;if(e.link){let i;"sandbox"===l().securityLevel?i="_top":e.linkTarget&&(i=e.linkTarget||"_blank"),a=t.insert("svg:a").attr("xlink:href",e.link).attr("target",i),s=await fe[e.shape](a,e,r)}else s=await fe[e.shape](t,e,r),a=s;return e.tooltip&&s.attr("title",e.tooltip),e.class&&s.attr("class","node default "+e.class),me[e.id]=a,e.haveCallback&&me[e.id].attr("class",me[e.id].attr("class")+" clickable"),a},"insertNode"),ke=e(t=>{const e=me[t.id];i.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const r=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+r-t.width/2)+", "+(t.y-t.height/2-8)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),r},"positionNode");function Le(t,e,a=!1){const s=t;let i="default";(s?.classes?.length||0)>0&&(i=(s?.classes??[]).join(" ")),i+=" flowchart-label";let n,o=0,l="";switch(s.type){case"round":o=5,l="rect";break;case"composite":o=0,l="composite",n=0;break;case"square":case"group":default:l="rect";break;case"diamond":l="question";break;case"hexagon":l="hexagon";break;case"block_arrow":l="block_arrow";break;case"odd":case"rect_left_inv_arrow":l="rect_left_inv_arrow";break;case"lean_right":l="lean_right";break;case"lean_left":l="lean_left";break;case"trapezoid":l="trapezoid";break;case"inv_trapezoid":l="inv_trapezoid";break;case"circle":l="circle";break;case"ellipse":l="ellipse";break;case"stadium":l="stadium";break;case"subroutine":l="subroutine";break;case"cylinder":l="cylinder";break;case"doublecircle":l="doublecircle"}const c=k(s?.styles??[]),d=s.label,h=s.size??{width:0,height:0,x:0,y:0};return{labelStyle:c.labelStyle,shape:l,labelText:d,rx:o,ry:o,class:i,style:c.style,id:s.id,directions:s.directions,width:h.width,height:h.height,x:h.x,y:h.y,positioned:a,intersect:void 0,type:s.type,padding:n??r()?.block?.padding??0}}async function Se(t,e,a){const s=Le(e,0,!1);if("group"===s.type)return;const i=r(),n=await we(t,s,{config:i}),o=n.node().getBBox(),l=a.getBlock(s.id);l.size={width:o.width,height:o.height,x:0,y:0,node:n},a.setBlock(l),n.remove()}async function _e(t,e,a){const s=Le(e,0,!0);if("space"!==a.getBlock(s.id).type){const a=r();await we(t,s,{config:a}),e.intersect=s?.intersect,ke(s)}}async function Ee(t,e,r,a){for(const s of e)await a(t,s,r),s.children&&await Ee(t,s.children,r,a)}async function ve(t,e,r){await Ee(t,e,r,Se)}async function $e(t,e,r){await Ee(t,e,r,_e)}async function De(t,e,r,a,s){const i=new S({multigraph:!0,compound:!0});i.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(const n of r)n.size&&i.setNode(n.id,{width:n.size.width,height:n.size.height,intersect:n.intersect});for(const n of e)if(n.start&&n.end){const e=a.getBlock(n.start),r=a.getBlock(n.end);if(e?.size&&r?.size){const a=e.size,o=r.size,l=[{x:a.x,y:a.y},{x:a.x+(o.x-a.x)/2,y:a.y+(o.y-a.y)/2},{x:o.x,y:o.y}];Tt(t,{v:n.start,w:n.end,name:n.id},{...n,arrowTypeEnd:n.arrowTypeEnd,arrowTypeStart:n.arrowTypeStart,points:l,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"},void 0,"block",i,s),n.label&&(await St(t,{...n,label:n.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:n.arrowTypeEnd,arrowTypeStart:n.arrowTypeStart,points:l,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),Et({...n,x:l[1].x,y:l[1].y},{originalPath:l}))}}}e(Le,"getNodeFromBlock"),e(Se,"calculateBlockSize"),e(_e,"insertBlockPositioned"),e(Ee,"performOperations"),e(ve,"calculateBlockSizes"),e($e,"insertBlocks"),e(De,"insertEdges");var Te=e(function(t,e){return e.db.getClasses()},"getClasses"),Ce={parser:v,db:rt,renderer:{draw:e(async function(t,e,n,o){const{securityLevel:l,block:c}=r(),d=o.db;let h;"sandbox"===l&&(h=a("#i"+e));const g=a("sandbox"===l?h.nodes()[0].contentDocument.body:"body"),y="sandbox"===l?g.select(`[id="${e}"]`):a(`[id="${e}"]`);ot(y,["point","circle","cross"],o.type,e);const p=d.getBlocks(),u=d.getBlocksFlat(),x=d.getEdges(),b=y.insert("g").attr("class","block");await ve(b,p,d);const f=pt(d);if(await $e(b,p,d),await De(b,x,u,d,e),f){const t=f,e=Math.max(1,Math.round(t.width/t.height*.125)),r=t.height+e+10,a=t.width+10,{useMaxWidth:n}=c;s(y,r,a,!!n),i.debug("Here Bounds",f,t),y.attr("viewBox",`${t.x-5} ${t.y-5} ${t.width+10} ${t.height+10}`)}},"draw"),getClasses:Te},styles:st};export{Ce as diagram};

function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function a(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(t,n){if(t){if("string"==typeof t)return e(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}var c="undefined"==typeof window?null:window,d=c?c.navigator:null;c&&c.document;var h,f,p,v,g,y,m,b,x,w,E,k,T,C,P,S,B,D,_,A,M,R,I,N,L,z,O,V,F=l(""),X=l({}),j=l(function(){}),Y="undefined"==typeof HTMLElement?"undefined":l(HTMLElement),q=function(e){return e&&e.instanceString&&U(e.instanceString)?e.instanceString():null},W=function(e){return null!=e&&l(e)==F},U=function(e){return null!=e&&l(e)===j},H=function(e){return!$(e)&&(Array.isArray?Array.isArray(e):null!=e&&e instanceof Array)},K=function(e){return null!=e&&l(e)===X&&!H(e)&&e.constructor===Object},G=function(e){return null!=e&&l(e)===l(1)&&!isNaN(e)},Z=function(e){return"undefined"===Y?void 0:null!=e&&e instanceof HTMLElement},$=function(e){return Q(e)||J(e)},Q=function(e){return"collection"===q(e)&&e._private.single},J=function(e){return"collection"===q(e)&&!e._private.single},ee=function(e){return"core"===q(e)},te=function(e){return"stylesheet"===q(e)},ne=function(e){return null==e||!(""!==e&&!e.match(/^\s+$/))},re=function(e){return function(e){return null!=e&&l(e)===X}(e)&&U(e.then)},ae=function(e,t){t||(t=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});var n=function(){var r,a=arguments,i=t.apply(this,a),o=n.cache;return(r=o[i])||(r=o[i]=e.apply(this,a)),r};return n.cache={},n},ie=ae(function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),oe=ae(function(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),se=ae(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),le=function(e){return ne(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},ue=function(e,t){return e.slice(-1*t.length)===t},ce="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",de="rgb[a]?\\(("+ce+"[%]?)\\s*,\\s*("+ce+"[%]?)\\s*,\\s*("+ce+"[%]?)(?:\\s*,\\s*("+ce+"))?\\)",he="rgb[a]?\\((?:"+ce+"[%]?)\\s*,\\s*(?:"+ce+"[%]?)\\s*,\\s*(?:"+ce+"[%]?)(?:\\s*,\\s*(?:"+ce+"))?\\)",fe="hsl[a]?\\(("+ce+")\\s*,\\s*("+ce+"[%])\\s*,\\s*("+ce+"[%])(?:\\s*,\\s*("+ce+"))?\\)",pe="hsl[a]?\\((?:"+ce+")\\s*,\\s*(?:"+ce+"[%])\\s*,\\s*(?:"+ce+"[%])(?:\\s*,\\s*(?:"+ce+"))?\\)",ve=function(e,t){return e<t?-1:e>t?1:0},ge=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments,n=1;n<t.length;n++){var r=t[n];if(null!=r)for(var a=Object.keys(r),i=0;i<a.length;i++){var o=a[i];e[o]=r[o]}}return e},ye=function(e){return(H(e)?e:null)||function(e){return me[e.toLowerCase()]}(e)||function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,n,r,a=16;return 4===e.length?(t=parseInt(e[1]+e[1],a),n=parseInt(e[2]+e[2],a),r=parseInt(e[3]+e[3],a)):(t=parseInt(e[1]+e[2],a),n=parseInt(e[3]+e[4],a),r=parseInt(e[5]+e[6],a)),[t,n,r]}}(e)||function(e){var t,n=new RegExp("^"+de+"$").exec(e);if(n){t=[];for(var r=[],a=1;a<=3;a++){var i=n[a];if("%"===i[i.length-1]&&(r[a]=!0),i=parseFloat(i),r[a]&&(i=i/100*255),i<0||i>255)return;t.push(Math.floor(i))}var o=r[1]||r[2]||r[3],s=r[1]&&r[2]&&r[3];if(o&&!s)return;var l=n[4];if(void 0!==l){if((l=parseFloat(l))<0||l>1)return;t.push(l)}}return t}(e)||function(e){var t,n,r,a,i,o,s,l;function u(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var c=new RegExp("^"+fe+"$").exec(e);if(c){if((n=parseInt(c[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(r=parseFloat(c[2]))<0||r>100)return;if(r/=100,(a=parseFloat(c[3]))<0||a>100)return;if(a/=100,void 0!==(i=c[4])&&((i=parseFloat(i))<0||i>1))return;if(0===r)o=s=l=Math.round(255*a);else{var d=a<.5?a*(1+r):a+r-a*r,h=2*a-d;o=Math.round(255*u(h,d,n+1/3)),s=Math.round(255*u(h,d,n)),l=Math.round(255*u(h,d,n-1/3))}t=[o,s,l,i]}return t}(e)},me={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},be=function(e){for(var t=e.map,n=e.keys,r=n.length,a=0;a<r;a++){var i=n[a];if(K(i))throw Error("Tried to set map with object key");a<n.length-1?(null==t[i]&&(t[i]={}),t=t[i]):t[i]=e.value}},xe=function(e){for(var t=e.map,n=e.keys,r=n.length,a=0;a<r;a++){var i=n[a];if(K(i))throw Error("Tried to get map with object key");if(null==(t=t[i]))return t}return t},we="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ee(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ke(){if(f)return h;return f=1,h=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}function Te(){if(y)return g;y=1;var e=function(){if(v)return p;v=1;var e="object"==typeof we&&we&&we.Object===Object&&we;return p=e}(),t="object"==typeof self&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return g=n}function Ce(){if(k)return E;k=1;var e=function(){if(w)return x;w=1;var e=/\s/;return x=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n},x}(),t=/^\s+/;return E=function(n){return n?n.slice(0,e(n)+1).replace(t,""):n},E}function Pe(){if(C)return T;C=1;var e=Te().Symbol;return T=e}function Se(){if(A)return _;A=1;var e=Pe(),t=function(){if(S)return P;S=1;var e=Pe(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,a=e?e.toStringTag:void 0;return P=function(e){var t=n.call(e,a),i=e[a];try{e[a]=void 0;var o=!0}catch(l){}var s=r.call(e);return o&&(t?e[a]=i:delete e[a]),s}}(),n=function(){if(D)return B;D=1;var e=Object.prototype.toString;return B=function(t){return e.call(t)}}(),r=e?e.toStringTag:void 0;return _=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?t(e):n(e)}}function Be(){if(N)return I;N=1;var e=Se(),t=R?M:(R=1,M=function(e){return null!=e&&"object"==typeof e});return I=function(n){return"symbol"==typeof n||t(n)&&"[object Symbol]"==e(n)}}var De=Ee(function(){if(V)return O;V=1;var e=ke(),t=function(){if(b)return m;b=1;var e=Te();return m=function(){return e.Date.now()}}(),n=function(){if(z)return L;z=1;var e=Ce(),t=ke(),n=Be(),r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,o=parseInt;return L=function(s){if("number"==typeof s)return s;if(n(s))return NaN;if(t(s)){var l="function"==typeof s.valueOf?s.valueOf():s;s=t(l)?l+"":l}if("string"!=typeof s)return 0===s?s:+s;s=e(s);var u=a.test(s);return u||i.test(s)?o(s.slice(2),u?2:8):r.test(s)?NaN:+s}}(),r=Math.max,a=Math.min;return O=function(i,o,s){var l,u,c,d,h,f,p=0,v=!1,g=!1,y=!0;if("function"!=typeof i)throw new TypeError("Expected a function");function m(e){var t=l,n=u;return l=u=void 0,p=e,d=i.apply(n,t)}function b(e){var t=e-f;return void 0===f||t>=o||t<0||g&&e-p>=c}function x(){var e=t();if(b(e))return w(e);h=setTimeout(x,function(e){var t=o-(e-f);return g?a(t,c-(e-p)):t}(e))}function w(e){return h=void 0,y&&l?m(e):(l=u=void 0,d)}function E(){var e=t(),n=b(e);if(l=arguments,u=this,f=e,n){if(void 0===h)return function(e){return p=e,h=setTimeout(x,o),v?m(e):d}(f);if(g)return clearTimeout(h),h=setTimeout(x,o),m(f)}return void 0===h&&(h=setTimeout(x,o)),d}return o=n(o)||0,e(s)&&(v=!!s.leading,c=(g="maxWait"in s)?r(n(s.maxWait)||0,o):c,y="trailing"in s?!!s.trailing:y),E.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=f=u=h=void 0},E.flush=function(){return void 0===h?d:w(t())},E}}()),_e=c?c.performance:null,Ae=_e&&_e.now?function(){return _e.now()}:function(){return Date.now()},Me=function(){if(c){if(c.requestAnimationFrame)return function(e){c.requestAnimationFrame(e)};if(c.mozRequestAnimationFrame)return function(e){c.mozRequestAnimationFrame(e)};if(c.webkitRequestAnimationFrame)return function(e){c.webkitRequestAnimationFrame(e)};if(c.msRequestAnimationFrame)return function(e){c.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(Ae())},1e3/60)}}(),Re=function(e){return Me(e)},Ie=Ae,Ne=9261,Le=5381,ze=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne;!(t=e.next()).done;)n=65599*n+t.value|0;return n},Oe=function(e){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne)+e|0},Ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Le;return(t<<5)+t+e|0},Fe=function(e){return 2097152*e[0]+e[1]},Xe=function(e,t){return[Oe(e[0],t[0]),Ve(e[1],t[1])]},je=function(e,t){var n={value:0,done:!1},r=0,a=e.length;return ze({next:function(){return r<a?n.value=e[r++]:n.done=!0,n}},t)},Ye=function(e,t){var n={value:0,done:!1},r=0,a=e.length;return ze({next:function(){return r<a?n.value=e.charCodeAt(r++):n.done=!0,n}},t)},qe=function(){return We(arguments)},We=function(e){for(var t,n=0;n<e.length;n++){var r=e[n];t=0===n?Ye(r):Ye(r,t)}return t};function Ue(e,t,n){if(0===n)return e;var r=(t.x1+t.x2)/2,a=(t.y1+t.y2)/2,i=t.w/t.h,o=1/i,s=function(e,t,n,r,a){var i=a*Math.PI/180;return{x:Math.cos(i)*(e-n)-Math.sin(i)*(t-r)+n,y:Math.sin(i)*(e-n)+Math.cos(i)*(t-r)+r}}(e.x,e.y,r,a,n),l=function(e,t,n,r,a,i){return{x:(e-n)*a+n,y:(t-r)*i+r}}(s.x,s.y,r,a,i,o);return{x:l.x,y:l.y}}var He=!0,Ke=(console.warn,console.trace,Number.MAX_SAFE_INTEGER||9007199254740991),Ge=function(){return!0},Ze=function(){return!1},$e=function(){return 0},Qe=function(){},Je=function(e){throw new Error(e)},et=function(e){if(void 0===e)return He;He=!!e},tt=function(e){et()},nt=function(e){return null==e?e:H(e)?e.slice():K(e)?function(e){return ge({},e)}(e):e},rt=function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t},at={},it=function(){return at},ot=function(e){var t=Object.keys(e);return function(n){for(var r={},a=0;a<t.length;a++){var i=t[a],o=null==n?void 0:n[i];r[i]=void 0===o?e[i]:o}return r}},st=function(e,t,n){for(var r=e.length-1;r>=0;r--)e[r]===t&&e.splice(r,1)},lt=function(e){e.splice(0,e.length)},ut=function(e,t,n){return n&&(t=se(n,t)),e[t]},ct=function(e,t,n,r){n&&(t=se(n,t)),e[t]=r},dt="undefined"!=typeof Map?Map:function(){return n(function e(){t(this,e),this._obj={}},[{key:"set",value:function(e,t){return this._obj[e]=t,this}},{key:"delete",value:function(e){return this._obj[e]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(e){return void 0!==this._obj[e]}},{key:"get",value:function(e){return this._obj[e]}}])}(),ht=function(){return n(function e(n){if(t(this,e),this._obj=Object.create(null),this.size=0,null!=n){var r;r=null!=n.instanceString&&n.instanceString()===this.instanceString()?n.toArray():n;for(var a=0;a<r.length;a++)this.add(r[a])}},[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(e){var t=this._obj;1!==t[e]&&(t[e]=1,this.size++)}},{key:"delete",value:function(e){var t=this._obj;1===t[e]&&(t[e]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(e){return 1===this._obj[e]}},{key:"toArray",value:function(){var e=this;return Object.keys(this._obj).filter(function(t){return e.has(t)})}},{key:"forEach",value:function(e,t){return this.toArray().forEach(e,t)}}])}(),ft="undefined"!==("undefined"==typeof Set?"undefined":l(Set))?Set:ht,pt=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==e&&void 0!==t&&ee(e)){var r=t.group;if(null==r&&(r=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"===r||"edges"===r){this.length=1,this[0]=this;var a=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:r,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,pannable:void 0===t.pannable?"edges"===r:!!t.pannable,active:!1,classes:new ft,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==a.position.x&&(a.position.x=0),null==a.position.y&&(a.position.y=0),t.renderedPosition){var i=t.renderedPosition,o=e.pan(),s=e.zoom();a.position={x:(i.x-o.x)/s,y:(i.y-o.y)/s}}var l=[];H(t.classes)?l=t.classes:W(t.classes)&&(l=t.classes.split(/\s+/));for(var u=0,c=l.length;u<c;u++){var d=l[u];d&&""!==d&&a.classes.add(d)}this.createEmitter(),(void 0===n||n)&&this.restore();var h=t.style||t.css;h&&(tt(),this.style(h))}else Je("An element must be of type `nodes` or `edges`; you specified `"+r+"`")}else Je("An element must have a core reference and parameters set")},vt=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,n,r){var a;K(t)&&!$(t)&&(t=(a=t).roots||a.root,n=a.visit,r=a.directed),r=2!==arguments.length||U(n)?r:n,n=U(n)?n:function(){};for(var i,o=this._private.cy,s=t=W(t)?this.filter(t):t,l=[],u=[],c={},d={},h={},f=0,p=this.byGroup(),v=p.nodes,g=p.edges,y=0;y<s.length;y++){var m=s[y],b=m.id();m.isNode()&&(l.unshift(m),e.bfs&&(h[b]=!0,u.push(m)),d[b]=0)}for(var x,w=function(){var t=e.bfs?l.shift():l.pop(),a=t.id();if(e.dfs){if(h[a])return 0;h[a]=!0,u.push(t)}var o,s=d[a],p=c[a],y=null!=p?p.source():null,m=null!=p?p.target():null,b=null==p?void 0:t.same(y)?m[0]:y[0];if(!0===(o=n(t,p,b,f++,s)))return i=t,1;if(!1===o)return 1;for(var x=t.connectedEdges().filter(function(e){return(!r||e.source().same(t))&&g.has(e)}),w=0;w<x.length;w++){var E=x[w],k=E.connectedNodes().filter(function(e){return!e.same(t)&&v.has(e)}),T=k.id();0===k.length||h[T]||(k=k[0],l.push(k),e.bfs&&(h[T]=!0,u.push(k)),c[T]=E,d[T]=d[a]+1)}};0!==l.length&&(0===(x=w())||1!==x););for(var E=o.collection(),k=0;k<u.length;k++){var T=u[k],C=c[T.id()];null!=C&&E.push(C),E.push(T)}return{path:o.collection(E),found:o.collection(i)}}},gt={breadthFirstSearch:vt({bfs:!0}),depthFirstSearch:vt({dfs:!0})};gt.bfs=gt.breadthFirstSearch,gt.dfs=gt.depthFirstSearch;var yt,mt,bt,xt={exports:{}},wt=xt.exports;function Et(){return yt||(yt=1,e=xt,function(){var t,n,r,a,i,o,s,l,u,c,d,h,f,p,v;r=Math.floor,c=Math.min,n=function(e,t){return e<t?-1:e>t?1:0},u=function(e,t,a,i,o){var s;if(null==a&&(a=0),null==o&&(o=n),a<0)throw new Error("lo must be non-negative");for(null==i&&(i=e.length);a<i;)o(t,e[s=r((a+i)/2)])<0?i=s:a=s+1;return[].splice.apply(e,[a,a-a].concat(t)),t},o=function(e,t,r){return null==r&&(r=n),e.push(t),p(e,0,e.length-1,r)},i=function(e,t){var r,a;return null==t&&(t=n),r=e.pop(),e.length?(a=e[0],e[0]=r,v(e,0,t)):a=r,a},l=function(e,t,r){var a;return null==r&&(r=n),a=e[0],e[0]=t,v(e,0,r),a},s=function(e,t,r){var a;return null==r&&(r=n),e.length&&r(e[0],t)<0&&(t=(a=[e[0],t])[0],e[0]=a[1],v(e,0,r)),t},a=function(e,t){var a,i,o,s,l,u;for(null==t&&(t=n),l=[],i=0,o=(s=function(){u=[];for(var t=0,n=r(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)u.push(t);return u}.apply(this).reverse()).length;i<o;i++)a=s[i],l.push(v(e,a,t));return l},f=function(e,t,r){var a;if(null==r&&(r=n),-1!==(a=e.indexOf(t)))return p(e,0,a,r),v(e,a,r)},d=function(e,t,r){var i,o,l,u,c;if(null==r&&(r=n),!(o=e.slice(0,t)).length)return o;for(a(o,r),l=0,u=(c=e.slice(t)).length;l<u;l++)i=c[l],s(o,i,r);return o.sort(r).reverse()},h=function(e,t,r){var o,s,l,d,h,f,p,v,g;if(null==r&&(r=n),10*t<=e.length){if(!(l=e.slice(0,t).sort(r)).length)return l;for(s=l[l.length-1],d=0,f=(p=e.slice(t)).length;d<f;d++)r(o=p[d],s)<0&&(u(l,o,0,null,r),l.pop(),s=l[l.length-1]);return l}for(a(e,r),g=[],h=0,v=c(t,e.length);0<=v?h<v:h>v;0<=v?++h:--h)g.push(i(e,r));return g},p=function(e,t,r,a){var i,o,s;for(null==a&&(a=n),i=e[r];r>t&&a(i,o=e[s=r-1>>1])<0;)e[r]=o,r=s;return e[r]=i},v=function(e,t,r){var a,i,o,s,l;for(null==r&&(r=n),i=e.length,l=t,o=e[t],a=2*t+1;a<i;)(s=a+1)<i&&!(r(e[a],e[s])<0)&&(a=s),e[t]=e[a],a=2*(t=a)+1;return e[t]=o,p(e,l,t,r)},t=function(){function e(e){this.cmp=null!=e?e:n,this.nodes=[]}return e.push=o,e.pop=i,e.replace=l,e.pushpop=s,e.heapify=a,e.updateItem=f,e.nlargest=d,e.nsmallest=h,e.prototype.push=function(e){return o(this.nodes,e,this.cmp)},e.prototype.pop=function(){return i(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return l(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return s(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return a(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return f(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),e.exports=t}.call(wt)),xt.exports;var e}var kt,Tt=Ee(bt?mt:(bt=1,mt=Et())),Ct=ot({root:null,weight:function(e){return 1},directed:!1}),Pt={dijkstra:function(e){if(!K(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var n=Ct(e),r=n.root,a=n.weight,i=n.directed,o=this,s=a,l=W(r)?this.filter(r)[0]:r[0],u={},c={},d={},h=this.byGroup(),f=h.nodes,p=h.edges;p.unmergeBy(function(e){return e.isLoop()});for(var v=function(e){return u[e.id()]},g=function(e,t){u[e.id()]=t,y.updateItem(e)},y=new Tt(function(e,t){return v(e)-v(t)}),m=0;m<f.length;m++){var b=f[m];u[b.id()]=b.same(l)?0:1/0,y.push(b)}for(var x=function(e,t){for(var n,r=(i?e.edgesTo(t):e.edgesWith(t)).intersect(p),a=1/0,o=0;o<r.length;o++){var l=r[o],u=s(l);(u<a||!n)&&(a=u,n=l)}return{edge:n,dist:a}};y.size()>0;){var w=y.pop(),E=v(w),k=w.id();if(d[k]=E,E!==1/0)for(var T=w.neighborhood().intersect(f),C=0;C<T.length;C++){var P=T[C],S=P.id(),B=x(w,P),D=E+B.dist;D<v(P)&&(g(P,D),c[S]={node:w,edge:B.edge})}}return{distanceTo:function(e){var t=W(e)?f.filter(e)[0]:e[0];return d[t.id()]},pathTo:function(e){var t=W(e)?f.filter(e)[0]:e[0],n=[],r=t,a=r.id();if(t.length>0)for(n.unshift(t);c[a];){var i=c[a];n.unshift(i.edge),n.unshift(i.node),a=(r=i.node).id()}return o.spawn(n)}}}},St={kruskal:function(e){e=e||function(e){return 1};for(var t=this.byGroup(),n=t.nodes,r=t.edges,a=n.length,i=new Array(a),o=n,s=function(e){for(var t=0;t<i.length;t++){if(i[t].has(e))return t}},l=0;l<a;l++)i[l]=this.spawn(n[l]);for(var u=r.sort(function(t,n){return e(t)-e(n)}),c=0;c<u.length;c++){var d=u[c],h=d.source()[0],f=d.target()[0],p=s(h),v=s(f),g=i[p],y=i[v];p!==v&&(o.merge(d),g.merge(y),i.splice(v,1))}return o}},Bt=ot({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),Dt={aStar:function(e){var t=this.cy(),n=Bt(e),r=n.root,a=n.goal,i=n.heuristic,o=n.directed,s=n.weight;r=t.collection(r)[0],a=t.collection(a)[0];var l,u,c=r.id(),d=a.id(),h={},f={},p={},v=new Tt(function(e,t){return f[e.id()]-f[t.id()]}),g=new ft,y={},m={},b=function(e,t){v.push(e),g.add(t)},x=function(){l=v.pop(),u=l.id(),g.delete(u)},w=function(e){return g.has(e)};b(r,c),h[c]=0,f[c]=i(r);for(var E=0;v.size()>0;){if(x(),E++,u===d){for(var k=[],T=a,C=d,P=m[C];k.unshift(T),null!=P&&k.unshift(P),null!=(T=y[C]);)P=m[C=T.id()];return{found:!0,distance:h[u],path:this.spawn(k),steps:E}}p[u]=!0;for(var S=l._private.edges,B=0;B<S.length;B++){var D=S[B];if(this.hasElementWithId(D.id())&&(!o||D.data("source")===u)){var _=D.source(),A=D.target(),M=_.id()!==u?_:A,R=M.id();if(this.hasElementWithId(R)&&!p[R]){var I=h[u]+s(D);w(R)?I<h[R]&&(h[R]=I,f[R]=I+i(M),y[R]=l,m[R]=D):(h[R]=I,f[R]=I+i(M),b(M,R),y[R]=l,m[R]=D)}}}}return{found:!1,distance:void 0,path:void 0,steps:E}}},_t=ot({weight:function(e){return 1},directed:!1}),At={floydWarshall:function(e){for(var t=this.cy(),n=_t(e),r=n.weight,a=n.directed,i=r,o=this.byGroup(),s=o.nodes,l=o.edges,u=s.length,c=u*u,d=function(e){return s.indexOf(e)},h=function(e){return s[e]},f=new Array(c),p=0;p<c;p++){var v=p%u,g=(p-v)/u;f[p]=g===v?0:1/0}for(var y=new Array(c),m=new Array(c),b=0;b<l.length;b++){var x=l[b],w=x.source()[0],E=x.target()[0];if(w!==E){var k=d(w),T=d(E),C=k*u+T,P=i(x);if(f[C]>P&&(f[C]=P,y[C]=T,m[C]=x),!a){var S=T*u+k;!a&&f[S]>P&&(f[S]=P,y[S]=k,m[S]=x)}}}for(var B=0;B<u;B++)for(var D=0;D<u;D++)for(var _=D*u+B,A=0;A<u;A++){var M=D*u+A,R=B*u+A;f[_]+f[R]<f[M]&&(f[M]=f[_]+f[R],y[M]=y[_])}var I=function(e){return d(function(e){return(W(e)?t.filter(e):e)[0]}(e))},N={distance:function(e,t){var n=I(e),r=I(t);return f[n*u+r]},path:function(e,n){var r=I(e),a=I(n),i=h(r);if(r===a)return i.collection();if(null==y[r*u+a])return t.collection();var o,s=t.collection(),l=r;for(s.merge(i);r!==a;)l=r,r=y[r*u+a],o=m[l*u+r],s.merge(o),s.merge(h(r));return s}};return N}},Mt=ot({weight:function(e){return 1},directed:!1,root:null}),Rt={bellmanFord:function(e){var t=this,n=Mt(e),r=n.weight,a=n.directed,i=n.root,o=r,s=this,l=this.cy(),u=this.byGroup(),c=u.edges,d=u.nodes,h=d.length,f=new dt,p=!1,v=[];i=l.collection(i)[0],c.unmergeBy(function(e){return e.isLoop()});for(var g=c.length,y=function(e){var t=f.get(e.id());return t||(t={},f.set(e.id(),t)),t},m=function(e){return(W(e)?l.$(e):e)[0]},b=0;b<h;b++){var x=d[b],w=y(x);x.same(i)?w.dist=0:w.dist=1/0,w.pred=null,w.edge=null}for(var E=!1,k=function(e,t,n,r,a,i){var o=r.dist+i;o<a.dist&&!n.same(r.edge)&&(a.dist=o,a.pred=e,a.edge=n,E=!0)},T=1;T<h;T++){E=!1;for(var C=0;C<g;C++){var P=c[C],S=P.source(),B=P.target(),D=o(P),_=y(S),A=y(B);k(S,0,P,_,A,D),a||k(B,0,P,A,_,D)}if(!E)break}if(E)for(var M=[],R=0;R<g;R++){var I=c[R],N=I.source(),L=I.target(),z=o(I),O=y(N).dist,V=y(L).dist;if(O+z<V||!a&&V+z<O){if(p||(tt(),p=!0),!1===e.findNegativeWeightCycles)break;var F=[];O+z<V&&F.push(N),!a&&V+z<O&&F.push(L);for(var X=F.length,j=0;j<X;j++){var Y=F[j],q=[Y];q.push(y(Y).edge);for(var U=y(Y).pred;-1===q.indexOf(U);)q.push(U),q.push(y(U).edge),U=y(U).pred;for(var H=(q=q.slice(q.indexOf(U)))[0].id(),K=0,G=2;G<q.length;G+=2)q[G].id()<H&&(H=q[G].id(),K=G);(q=q.slice(K).concat(q.slice(0,K))).push(q[0]);var Z=q.map(function(e){return e.id()}).join(",");-1===M.indexOf(Z)&&(v.push(s.spawn(q)),M.push(Z))}}}return{distanceTo:function(e){return y(m(e)).dist},pathTo:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,r=[],a=m(e);;){if(null==a)return t.spawn();var o=y(a),l=o.edge,u=o.pred;if(r.unshift(a[0]),a.same(n)&&r.length>0)break;null!=l&&r.unshift(l),a=u}return s.spawn(r)},hasNegativeWeightCycle:p,negativeWeightCycles:v}}},It=Math.sqrt(2),Nt=function(e,t,n){0===n.length&&Je("Karger-Stein must be run on a connected (sub)graph");for(var r=n[e],a=r[1],i=r[2],o=t[a],s=t[i],l=n,u=l.length-1;u>=0;u--){var c=l[u],d=c[1],h=c[2];(t[d]===o&&t[h]===s||t[d]===s&&t[h]===o)&&l.splice(u,1)}for(var f=0;f<l.length;f++){var p=l[f];p[1]===s?(l[f]=p.slice(),l[f][1]=o):p[2]===s&&(l[f]=p.slice(),l[f][2]=o)}for(var v=0;v<t.length;v++)t[v]===s&&(t[v]=o);return l},Lt=function(e,t,n,r){for(;n>r;){var a=Math.floor(Math.random()*t.length);t=Nt(a,e,t),n--}return t},zt={kargerStein:function(){var e=this,t=this.byGroup(),n=t.nodes,r=t.edges;r.unmergeBy(function(e){return e.isLoop()});var a=n.length,i=r.length,o=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),s=Math.floor(a/It);if(!(a<2)){for(var l=[],u=0;u<i;u++){var c=r[u];l.push([u,n.indexOf(c.source()),n.indexOf(c.target())])}for(var d=1/0,h=[],f=new Array(a),p=new Array(a),v=new Array(a),g=function(e,t){for(var n=0;n<a;n++)t[n]=e[n]},y=0;y<=o;y++){for(var m=0;m<a;m++)p[m]=m;var b=Lt(p,l.slice(),a,s),x=b.slice();g(p,v);var w=Lt(p,b,s,2),E=Lt(v,x,s,2);w.length<=E.length&&w.length<d?(d=w.length,h=w,g(p,f)):E.length<=w.length&&E.length<d&&(d=E.length,h=E,g(v,f))}for(var k=this.spawn(h.map(function(e){return r[e[0]]})),T=this.spawn(),C=this.spawn(),P=f[0],S=0;S<f.length;S++){var B=f[S],D=n[S];B===P?T.merge(D):C.merge(D)}var _=function(t){var n=e.spawn();return t.forEach(function(t){n.merge(t),t.connectedEdges().forEach(function(t){e.contains(t)&&!k.contains(t)&&n.merge(t)})}),n},A=[_(T),_(C)];return{cut:k,components:A,partition1:T,partition2:C}}Je("At least 2 nodes are required for Karger-Stein algorithm")}},Ot=function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},Vt=function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},Ft=function(e){return{x:e[0],y:e[1]}},Xt=function(e,t){return Math.atan2(t,e)-Math.PI/2},jt=Math.log2||function(e){return Math.log(e)/Math.log(2)},Yt=function(e){return e>0?1:e<0?-1:0},qt=function(e,t){return Math.sqrt(Wt(e,t))},Wt=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},Ut=function(e){for(var t=e.length,n=0,r=0;r<t;r++)n+=e[r];for(var a=0;a<t;a++)e[a]=e[a]/n;return e},Ht=function(e,t,n,r){return(1-r)*(1-r)*e+2*(1-r)*r*t+r*r*n},Kt=function(e,t,n,r){return{x:Ht(e.x,t.x,n.x,r),y:Ht(e.y,t.y,n.y,r)}},Gt=function(e,t,n){return Math.max(e,Math.min(n,t))},Zt=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},$t=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},Qt=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Jt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},en=function(e){var t,n,r,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===o.length)t=n=r=a=o[0];else if(2===o.length)t=r=o[0],a=n=o[1];else if(4===o.length){var s=i(o,4);t=s[0],n=s[1],r=s[2],a=s[3]}return e.x1-=a,e.x2+=n,e.y1-=t,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},tn=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},nn=function(e,t){return!(e.x1>t.x2)&&(!(t.x1>e.x2)&&(!(e.x2<t.x1)&&(!(t.x2<e.x1)&&(!(e.y2<t.y1)&&(!(t.y2<e.y1)&&(!(e.y1>t.y2)&&!(t.y1>e.y2)))))))},rn=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},an=function(e,t){return rn(e,t.x,t.y)},on=function(e,t){return rn(e,t.x1,t.y1)&&rn(e,t.x2,t.y2)},sn=null!==(kt=Math.hypot)&&void 0!==kt?kt:function(e,t){return Math.sqrt(e*e+t*t)};function ln(e,t,n,r,a,i){var o=function(e,t){if(e.length<3)throw new Error("Need at least 3 vertices");var n=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},r=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},a=function(e,t){return{x:e.x*t,y:e.y*t}},i=function(e,t){return e.x*t.y-e.y*t.x},o=function(e){var t=sn(e.x,e.y);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},s=function(e,t,o,s){var l=r(t,e),u=r(s,o),c=i(l,u);if(Math.abs(c)<1e-9)return n(e,a(l,.5));var d=i(r(o,e),u)/c;return n(e,a(l,d))},l=e.map(function(e){return{x:e.x,y:e.y}});(function(e){for(var t=0,n=0;n<e.length;n++){var r=e[n],a=e[(n+1)%e.length];t+=r.x*a.y-a.x*r.y}return t/2})(l)<0&&l.reverse();for(var u=l.length,c=[],d=0;d<u;d++){var h=l[d],f=l[(d+1)%u],p=r(f,h),v=o({x:p.y,y:-p.x});c.push(v)}for(var g=c.map(function(e,r){return{p1:n(l[r],a(e,t)),p2:n(l[(r+1)%u],a(e,t))}}),y=[],m=0;m<u;m++){var b=g[(m-1+u)%u],x=g[m],w=s(b.p1,b.p2,x.p1,x.p2);y.push(w)}return y}(En(e,t,n,r,a),i),s=Zt();return o.forEach(function(e){return Qt(s,e.x,e.y)}),s}var un=function(e,t,n,r,a,i,o){var s,l,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"auto",c="auto"===u?Bn(a,i):u,d=a/2,h=i/2,f=(c=Math.min(c,d,h))!==d,p=c!==h;if(f){var v=r-h-o;if((s=wn(e,t,n,r,n-d+c-o,v,n+d-c+o,v,!1)).length>0)return s}if(p){var g=n+d+o;if((s=wn(e,t,n,r,g,r-h+c-o,g,r+h-c+o,!1)).length>0)return s}if(f){var y=r+h+o;if((s=wn(e,t,n,r,n-d+c-o,y,n+d-c+o,y,!1)).length>0)return s}if(p){var m=n-d-o;if((s=wn(e,t,n,r,m,r-h+c-o,m,r+h-c+o,!1)).length>0)return s}var b=n-d+c,x=r-h+c;if((l=bn(e,t,n,r,b,x,c+o)).length>0&&l[0]<=b&&l[1]<=x)return[l[0],l[1]];var w=n+d-c,E=r-h+c;if((l=bn(e,t,n,r,w,E,c+o)).length>0&&l[0]>=w&&l[1]<=E)return[l[0],l[1]];var k=n+d-c,T=r+h-c;if((l=bn(e,t,n,r,k,T,c+o)).length>0&&l[0]>=k&&l[1]>=T)return[l[0],l[1]];var C=n-d+c,P=r+h-c;return(l=bn(e,t,n,r,C,P,c+o)).length>0&&l[0]<=C&&l[1]>=P?[l[0],l[1]]:[]},cn=function(e,t,n,r,a,i,o){var s=o,l=Math.min(n,a),u=Math.max(n,a),c=Math.min(r,i),d=Math.max(r,i);return l-s<=e&&e<=u+s&&c-s<=t&&t<=d+s},dn=function(e,t,n,r,a,i,o,s,l){var u=Math.min(n,o,a)-l,c=Math.max(n,o,a)+l,d=Math.min(r,s,i)-l,h=Math.max(r,s,i)+l;return!(e<u||e>c||t<d||t>h)},hn=function(e,t,n,r,a,i,o,s){var l=[];!function(e,t,n,r,a){var i,o,s,l,u,c,d,h;0===e&&(e=1e-5),s=-27*(r/=e)+(t/=e)*(9*(n/=e)-t*t*2),i=(o=(3*n-t*t)/9)*o*o+(s/=54)*s,a[1]=0,d=t/3,i>0?(u=(u=s+Math.sqrt(i))<0?-Math.pow(-u,1/3):Math.pow(u,1/3),c=(c=s-Math.sqrt(i))<0?-Math.pow(-c,1/3):Math.pow(c,1/3),a[0]=-d+u+c,d+=(u+c)/2,a[4]=a[2]=-d,d=Math.sqrt(3)*(-c+u)/2,a[3]=d,a[5]=-d):(a[5]=a[3]=0,0===i?(h=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3),a[0]=2*h-d,a[4]=a[2]=-(h+d)):(l=(o=-o)*o*o,l=Math.acos(s/Math.sqrt(l)),h=2*Math.sqrt(o),a[0]=-d+h*Math.cos(l/3),a[2]=-d+h*Math.cos((l+2*Math.PI)/3),a[4]=-d+h*Math.cos((l+4*Math.PI)/3)))}(1*n*n-4*n*a+2*n*o+4*a*a-4*a*o+o*o+r*r-4*r*i+2*r*s+4*i*i-4*i*s+s*s,9*n*a-3*n*n-3*n*o-6*a*a+3*a*o+9*r*i-3*r*r-3*r*s-6*i*i+3*i*s,3*n*n-6*n*a+n*o-n*e+2*a*a+2*a*e-o*e+3*r*r-6*r*i+r*s-r*t+2*i*i+2*i*t-s*t,1*n*a-n*n+n*e-a*e+r*i-r*r+r*t-i*t,l);for(var u=[],c=0;c<6;c+=2)Math.abs(l[c+1])<1e-7&&l[c]>=0&&l[c]<=1&&u.push(l[c]);u.push(1),u.push(0);for(var d,h,f,p=-1,v=0;v<u.length;v++)d=Math.pow(1-u[v],2)*n+2*(1-u[v])*u[v]*a+u[v]*u[v]*o,h=Math.pow(1-u[v],2)*r+2*(1-u[v])*u[v]*i+u[v]*u[v]*s,f=Math.pow(d-e,2)+Math.pow(h-t,2),p>=0?f<p&&(p=f):p=f;return p},fn=function(e,t,n,r,a,i){var o=[e-n,t-r],s=[a-n,i-r],l=s[0]*s[0]+s[1]*s[1],u=o[0]*o[0]+o[1]*o[1],c=o[0]*s[0]+o[1]*s[1],d=c*c/l;return c<0?u:d>l?(e-a)*(e-a)+(t-i)*(t-i):u-d},pn=function(e,t,n){for(var r,a,i,o,s=0,l=0;l<n.length/2;l++)if(r=n[2*l],a=n[2*l+1],l+1<n.length/2?(i=n[2*(l+1)],o=n[2*(l+1)+1]):(i=n[2*(l+1-n.length/2)],o=n[2*(l+1-n.length/2)+1]),r==e&&i==e);else{if(!(r>=e&&e>=i||r<=e&&e<=i))continue;(e-r)/(i-r)*(o-a)+a>t&&s++}return s%2!=0},vn=function(e,t,n,r,a,i,o,s,l){var u,c=new Array(n.length);null!=s[0]?(u=Math.atan(s[1]/s[0]),s[0]<0?u+=Math.PI/2:u=-u-Math.PI/2):u=s;for(var d,h=Math.cos(-u),f=Math.sin(-u),p=0;p<c.length/2;p++)c[2*p]=i/2*(n[2*p]*h-n[2*p+1]*f),c[2*p+1]=o/2*(n[2*p+1]*h+n[2*p]*f),c[2*p]+=r,c[2*p+1]+=a;if(l>0){var v=yn(c,-l);d=gn(v)}else d=c;return pn(e,t,d)},gn=function(e){for(var t,n,r,a,i,o,s,l,u=new Array(e.length/2),c=0;c<e.length/4;c++){t=e[4*c],n=e[4*c+1],r=e[4*c+2],a=e[4*c+3],c<e.length/4-1?(i=e[4*(c+1)],o=e[4*(c+1)+1],s=e[4*(c+1)+2],l=e[4*(c+1)+3]):(i=e[0],o=e[1],s=e[2],l=e[3]);var d=wn(t,n,r,a,i,o,s,l,!0);u[2*c]=d[0],u[2*c+1]=d[1]}return u},yn=function(e,t){for(var n,r,a,i,o=new Array(2*e.length),s=0;s<e.length/2;s++){n=e[2*s],r=e[2*s+1],s<e.length/2-1?(a=e[2*(s+1)],i=e[2*(s+1)+1]):(a=e[0],i=e[1]);var l=i-r,u=-(a-n),c=Math.sqrt(l*l+u*u),d=l/c,h=u/c;o[4*s]=n+d*t,o[4*s+1]=r+h*t,o[4*s+2]=a+d*t,o[4*s+3]=i+h*t}return o},mn=function(e,t,n,r,a,i,o){return e-=a,t-=i,(e/=n/2+o)*e+(t/=r/2+o)*t<=1},bn=function(e,t,n,r,a,i,o){var s=[n-e,r-t],l=[e-a,t-i],u=s[0]*s[0]+s[1]*s[1],c=2*(l[0]*s[0]+l[1]*s[1]),d=c*c-4*u*(l[0]*l[0]+l[1]*l[1]-o*o);if(d<0)return[];var h=(-c+Math.sqrt(d))/(2*u),f=(-c-Math.sqrt(d))/(2*u),p=Math.min(h,f),v=Math.max(h,f),g=[];if(p>=0&&p<=1&&g.push(p),v>=0&&v<=1&&g.push(v),0===g.length)return[];var y=g[0]*s[0]+e,m=g[0]*s[1]+t;return g.length>1?g[0]==g[1]?[y,m]:[y,m,g[1]*s[0]+e,g[1]*s[1]+t]:[y,m]},xn=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},wn=function(e,t,n,r,a,i,o,s,l){var u=e-a,c=n-e,d=o-a,h=t-i,f=r-t,p=s-i,v=d*h-p*u,g=c*h-f*u,y=p*c-d*f;if(0!==y){var m=v/y,b=g/y,x=-.001;return x<=m&&m<=1.001&&x<=b&&b<=1.001||l?[e+m*c,t+m*f]:[]}return 0===v||0===g?xn(e,n,o)===o?[o,s]:xn(e,n,a)===a?[a,i]:xn(a,o,n)===n?[n,r]:[]:[]},En=function(e,t,n,r,a){var i=[],o=r/2,s=a/2,l=t,u=n;i.push({x:l+o*e[0],y:u+s*e[1]});for(var c=1;c<e.length/2;c++)i.push({x:l+o*e[2*c],y:u+s*e[2*c+1]});return i},kn=function(e,t,n,r,a,i,o,s){var l,u,c,d,h,f,p=[],v=new Array(n.length),g=!0;if(null==i&&(g=!1),g){for(var y=0;y<v.length/2;y++)v[2*y]=n[2*y]*i+r,v[2*y+1]=n[2*y+1]*o+a;if(s>0){var m=yn(v,-s);u=gn(m)}else u=v}else u=n;for(var b=0;b<u.length/2;b++)c=u[2*b],d=u[2*b+1],b<u.length/2-1?(h=u[2*(b+1)],f=u[2*(b+1)+1]):(h=u[0],f=u[1]),0!==(l=wn(e,t,r,a,c,d,h,f)).length&&p.push(l[0],l[1]);return p},Tn=function(e,t,n){var r=[e[0]-t[0],e[1]-t[1]],a=Math.sqrt(r[0]*r[0]+r[1]*r[1]),i=(a-n)/a;return i<0&&(i=1e-5),[t[0]+i*r[0],t[1]+i*r[1]]},Cn=function(e,t){var n=Sn(e,t);return n=Pn(n)},Pn=function(e){for(var t,n,r=e.length/2,a=1/0,i=1/0,o=-1/0,s=-1/0,l=0;l<r;l++)t=e[2*l],n=e[2*l+1],a=Math.min(a,t),o=Math.max(o,t),i=Math.min(i,n),s=Math.max(s,n);for(var u=2/(o-a),c=2/(s-i),d=0;d<r;d++)t=e[2*d]=e[2*d]*u,n=e[2*d+1]=e[2*d+1]*c,a=Math.min(a,t),o=Math.max(o,t),i=Math.min(i,n),s=Math.max(s,n);if(i<-1)for(var h=0;h<r;h++)n=e[2*h+1]=e[2*h+1]+(-1-i);return e},Sn=function(e,t){var n=1/e*2*Math.PI,r=e%2==0?Math.PI/2+n/2:Math.PI/2;r+=t;for(var a,i=new Array(2*e),o=0;o<e;o++)a=o*n+r,i[2*o]=Math.cos(a),i[2*o+1]=Math.sin(-a);return i},Bn=function(e,t){return Math.min(e/4,t/4,8)},Dn=function(e,t){return Math.min(e/10,t/10,8)},_n=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function An(e,t){function n(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],a=e[(n+1)%e.length],i={x:a.x-r.x,y:a.y-r.y},o={x:-i.y,y:i.x},s=Math.sqrt(o.x*o.x+o.y*o.y);t.push({x:o.x/s,y:o.y/s})}return t}function a(e,t){var n,a=1/0,i=-1/0,o=r(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,l=s.x*t.x+s.y*t.y;a=Math.min(a,l),i=Math.max(i,l)}}catch(u){o.e(u)}finally{o.f()}return{min:a,max:i}}function i(e,t){return!(e.max<t.min||t.max<e.min)}var s,l=r([].concat(o(n(e)),o(n(t))));try{for(l.s();!(s=l.n()).done;){var u=s.value;if(!i(a(e,u),a(t,u)))return!1}}catch(c){l.e(c)}finally{l.f()}return!0}var Mn=ot({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),Rn={pageRank:function(e){for(var t=Mn(e),n=t.dampingFactor,r=t.precision,a=t.iterations,i=t.weight,o=this._private.cy,s=this.byGroup(),l=s.nodes,u=s.edges,c=l.length,d=c*c,h=u.length,f=new Array(d),p=new Array(c),v=(1-n)/c,g=0;g<c;g++){for(var y=0;y<c;y++){f[g*c+y]=0}p[g]=0}for(var m=0;m<h;m++){var b=u[m],x=b.data("source"),w=b.data("target");if(x!==w){var E=l.indexOfId(x),k=l.indexOfId(w),T=i(b);f[k*c+E]+=T,p[E]+=T}}for(var C=1/c+v,P=0;P<c;P++)if(0===p[P])for(var S=0;S<c;S++){f[S*c+P]=C}else for(var B=0;B<c;B++){var D=B*c+P;f[D]=f[D]/p[P]+v}for(var _,A=new Array(c),M=new Array(c),R=0;R<c;R++)A[R]=1;for(var I=0;I<a;I++){for(var N=0;N<c;N++)M[N]=0;for(var L=0;L<c;L++)for(var z=0;z<c;z++){var O=L*c+z;M[L]+=f[O]*A[z]}Ut(M),_=A,A=M,M=_;for(var V=0,F=0;F<c;F++){var X=_[F]-A[F];V+=X*X}if(V<r)break}return{rank:function(e){return e=o.collection(e)[0],A[l.indexOf(e)]}}}},In=ot({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Nn={degreeCentralityNormalized:function(e){e=In(e);var t=this.cy(),n=this.nodes(),r=n.length;if(e.directed){for(var a={},i={},o=0,s=0,l=0;l<r;l++){var u=n[l],c=u.id();e.root=u;var d=this.degreeCentrality(e);o<d.indegree&&(o=d.indegree),s<d.outdegree&&(s=d.outdegree),a[c]=d.indegree,i[c]=d.outdegree}return{indegree:function(e){return 0==o?0:(W(e)&&(e=t.filter(e)),a[e.id()]/o)},outdegree:function(e){return 0===s?0:(W(e)&&(e=t.filter(e)),i[e.id()]/s)}}}for(var h={},f=0,p=0;p<r;p++){var v=n[p];e.root=v;var g=this.degreeCentrality(e);f<g.degree&&(f=g.degree),h[v.id()]=g.degree}return{degree:function(e){return 0===f?0:(W(e)&&(e=t.filter(e)),h[e.id()]/f)}}},degreeCentrality:function(e){e=In(e);var t=this.cy(),n=this,r=e,a=r.root,i=r.weight,o=r.directed,s=r.alpha;if(a=t.collection(a)[0],o){for(var l=a.connectedEdges(),u=l.filter(function(e){return e.target().same(a)&&n.has(e)}),c=l.filter(function(e){return e.source().same(a)&&n.has(e)}),d=u.length,h=c.length,f=0,p=0,v=0;v<u.length;v++)f+=i(u[v]);for(var g=0;g<c.length;g++)p+=i(c[g]);return{indegree:Math.pow(d,1-s)*Math.pow(f,s),outdegree:Math.pow(h,1-s)*Math.pow(p,s)}}for(var y=a.connectedEdges().intersection(n),m=y.length,b=0,x=0;x<y.length;x++)b+=i(y[x]);return{degree:Math.pow(m,1-s)*Math.pow(b,s)}}};Nn.dc=Nn.degreeCentrality,Nn.dcn=Nn.degreeCentralityNormalised=Nn.degreeCentralityNormalized;var Ln=ot({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),zn={closenessCentralityNormalized:function(e){for(var t=Ln(e),n=t.harmonic,r=t.weight,a=t.directed,i=this.cy(),o={},s=0,l=this.nodes(),u=this.floydWarshall({weight:r,directed:a}),c=0;c<l.length;c++){for(var d=0,h=l[c],f=0;f<l.length;f++)if(c!==f){var p=u.distance(h,l[f]);d+=n?1/p:p}n||(d=1/d),s<d&&(s=d),o[h.id()]=d}return{closeness:function(e){return 0==s?0:(e=W(e)?i.filter(e)[0].id():e.id(),o[e]/s)}}},closenessCentrality:function(e){var t=Ln(e),n=t.root,r=t.weight,a=t.directed,i=t.harmonic;n=this.filter(n)[0];for(var o=this.dijkstra({root:n,weight:r,directed:a}),s=0,l=this.nodes(),u=0;u<l.length;u++){var c=l[u];if(!c.same(n)){var d=o.distanceTo(c);s+=i?1/d:d}}return i?s:1/s}};zn.cc=zn.closenessCentrality,zn.ccn=zn.closenessCentralityNormalised=zn.closenessCentralityNormalized;var On=ot({weight:null,directed:!1}),Vn={betweennessCentrality:function(e){for(var t=On(e),n=t.directed,r=t.weight,a=null!=r,i=this.cy(),o=this.nodes(),s={},l={},u=0,c=function(e,t){l[e]=t,t>u&&(u=t)},d=function(e){return l[e]},h=0;h<o.length;h++){var f=o[h],p=f.id();s[p]=n?f.outgoers().nodes():f.openNeighborhood().nodes(),c(p,0)}for(var v=function(){for(var e=o[g].id(),t=[],n={},l={},u={},h=new Tt(function(e,t){return u[e]-u[t]}),f=0;f<o.length;f++){var p=o[f].id();n[p]=[],l[p]=0,u[p]=1/0}for(l[e]=1,u[e]=0,h.push(e);!h.empty();){var v=h.pop();if(t.push(v),a)for(var y=0;y<s[v].length;y++){var m=s[v][y],b=i.getElementById(v),x=void 0;x=b.edgesTo(m).length>0?b.edgesTo(m)[0]:m.edgesTo(b)[0];var w=r(x);m=m.id(),u[m]>u[v]+w&&(u[m]=u[v]+w,h.nodes.indexOf(m)<0?h.push(m):h.updateItem(m),l[m]=0,n[m]=[]),u[m]==u[v]+w&&(l[m]=l[m]+l[v],n[m].push(v))}else for(var E=0;E<s[v].length;E++){var k=s[v][E].id();u[k]==1/0&&(h.push(k),u[k]=u[v]+1),u[k]==u[v]+1&&(l[k]=l[k]+l[v],n[k].push(v))}}for(var T={},C=0;C<o.length;C++)T[o[C].id()]=0;for(;t.length>0;){for(var P=t.pop(),S=0;S<n[P].length;S++){var B=n[P][S];T[B]=T[B]+l[B]/l[P]*(1+T[P])}P!=o[g].id()&&c(P,d(P)+T[P])}},g=0;g<o.length;g++)v();var y={betweenness:function(e){var t=i.collection(e).id();return d(t)},betweennessNormalized:function(e){if(0==u)return 0;var t=i.collection(e).id();return d(t)/u}};return y.betweennessNormalised=y.betweennessNormalized,y}};Vn.bc=Vn.betweennessCentrality;var Fn=ot({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),Xn=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r](e);return n},jn=function(e,t){for(var n,r=0;r<t;r++){n=0;for(var a=0;a<t;a++)n+=e[a*t+r];for(var i=0;i<t;i++)e[i*t+r]=e[i*t+r]/n}},Yn=function(e,t,n){for(var r=new Array(n*n),a=0;a<n;a++){for(var i=0;i<n;i++)r[a*n+i]=0;for(var o=0;o<n;o++)for(var s=0;s<n;s++)r[a*n+s]+=e[a*n+o]*t[o*n+s]}return r},qn=function(e,t,n){for(var r=e.slice(0),a=1;a<n;a++)e=Yn(e,r,t);return e},Wn=function(e,t,n){for(var r=new Array(t*t),a=0;a<t*t;a++)r[a]=Math.pow(e[a],n);return jn(r,t),r},Un=function(e,t,n,r){for(var a=0;a<n;a++){if(Math.round(e[a]*Math.pow(10,r))/Math.pow(10,r)!==Math.round(t[a]*Math.pow(10,r))/Math.pow(10,r))return!1}return!0},Hn=function(e,t){for(var n=0;n<e.length;n++)if(!t[n]||e[n].id()!==t[n].id())return!1;return!0},Kn=function(e){for(var t=this.nodes(),n=this.edges(),r=this.cy(),a=function(e){return Fn(e)}(e),i={},o=0;o<t.length;o++)i[t[o].id()]=o;for(var s,l=t.length,u=l*l,c=new Array(u),d=0;d<u;d++)c[d]=0;for(var h=0;h<n.length;h++){var f=n[h],p=i[f.source().id()],v=i[f.target().id()],g=Xn(f,a.attributes);c[p*l+v]+=g,c[v*l+p]+=g}!function(e,t,n){for(var r=0;r<t;r++)e[r*t+r]=n}(c,l,a.multFactor),jn(c,l);for(var y=!0,m=0;y&&m<a.maxIterations;)y=!1,s=qn(c,l,a.expandFactor),c=Wn(s,l,a.inflateFactor),Un(c,s,u,4)||(y=!0),m++;var b=function(e,t,n,r){for(var a=[],i=0;i<t;i++){for(var o=[],s=0;s<t;s++)Math.round(1e3*e[i*t+s])/1e3>0&&o.push(n[s]);0!==o.length&&a.push(r.collection(o))}return a}(c,l,t,r);return b=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)t!=n&&Hn(e[t],e[n])&&e.splice(n,1);return e}(b),b},Gn={markovClustering:Kn,mcl:Kn},Zn=function(e){return e},$n=function(e,t){return Math.abs(t-e)},Qn=function(e,t,n){return e+$n(t,n)},Jn=function(e,t,n){return e+Math.pow(n-t,2)},er=function(e){return Math.sqrt(e)},tr=function(e,t,n){return Math.max(e,$n(t,n))},nr=function(e,t,n,r,a){for(var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Zn,o=r,s=0;s<e;s++)o=a(o,t(s),n(s));return i(o)},rr={euclidean:function(e,t,n){return e>=2?nr(e,t,n,0,Jn,er):nr(e,t,n,0,Qn)},squaredEuclidean:function(e,t,n){return nr(e,t,n,0,Jn)},manhattan:function(e,t,n){return nr(e,t,n,0,Qn)},max:function(e,t,n){return nr(e,t,n,-1/0,tr)}};function ar(e,t,n,r,a,i){var o;return o=U(e)?e:rr[e]||rr.euclidean,0===t&&U(e)?o(a,i):o(t,n,r,a,i)}rr["squared-euclidean"]=rr.squaredEuclidean,rr.squaredeuclidean=rr.squaredEuclidean;var ir=ot({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),or=function(e){return ir(e)},sr=function(e,t,n,r,a){var i="kMedoids"!==a?function(e){return n[e]}:function(e){return r[e](n)},o=n,s=t;return ar(e,r.length,i,function(e){return r[e](t)},o,s)},lr=function(e,t,n){for(var r=n.length,a=new Array(r),i=new Array(r),o=new Array(t),s=null,l=0;l<r;l++)a[l]=e.min(n[l]).value,i[l]=e.max(n[l]).value;for(var u=0;u<t;u++){s=[];for(var c=0;c<r;c++)s[c]=Math.random()*(i[c]-a[c])+a[c];o[u]=s}return o},ur=function(e,t,n,r,a){for(var i=1/0,o=0,s=0;s<t.length;s++){var l=sr(n,e,t[s],r,a);l<i&&(i=l,o=s)}return o},cr=function(e,t,n){for(var r=[],a=null,i=0;i<t.length;i++)n[(a=t[i]).id()]===e&&r.push(a);return r},dr=function(e,t,n){return Math.abs(t-e)<=n},hr=function(e,t,n){for(var r=0;r<e.length;r++)for(var a=0;a<e[r].length;a++){if(Math.abs(e[r][a]-t[r][a])>n)return!1}return!0},fr=function(e,t,n){for(var r=0;r<n;r++)if(e===t[r])return!0;return!1},pr=function(e,t){var n=new Array(t);if(e.length<50)for(var r=0;r<t;r++){for(var a=e[Math.floor(Math.random()*e.length)];fr(a,n,r);)a=e[Math.floor(Math.random()*e.length)];n[r]=a}else for(var i=0;i<t;i++)n[i]=e[Math.floor(Math.random()*e.length)];return n},vr=function(e,t,n){for(var r=0,a=0;a<t.length;a++)r+=sr("manhattan",t[a],e,n,"kMedoids");return r},gr=function(e,t,n,r,a){for(var i,o,s=0;s<t.length;s++)for(var l=0;l<e.length;l++)r[s][l]=Math.pow(n[s][l],a.m);for(var u=0;u<e.length;u++)for(var c=0;c<a.attributes.length;c++){i=0,o=0;for(var d=0;d<t.length;d++)i+=r[d][u]*a.attributes[c](t[d]),o+=r[d][u];e[u][c]=i/o}},yr=function(e,t,n,r,a){for(var i=0;i<e.length;i++)t[i]=e[i].slice();for(var o,s,l,u=2/(a.m-1),c=0;c<n.length;c++)for(var d=0;d<r.length;d++){o=0;for(var h=0;h<n.length;h++)s=sr(a.distance,r[d],n[c],a.attributes,"cmeans"),l=sr(a.distance,r[d],n[h],a.attributes,"cmeans"),o+=Math.pow(s/l,u);e[d][c]=1/o}},mr=function(e){var t,n,r,a,i,o=this.cy(),s=this.nodes(),l=or(e);a=new Array(s.length);for(var u=0;u<s.length;u++)a[u]=new Array(l.k);r=new Array(s.length);for(var c=0;c<s.length;c++)r[c]=new Array(l.k);for(var d=0;d<s.length;d++){for(var h=0,f=0;f<l.k;f++)r[d][f]=Math.random(),h+=r[d][f];for(var p=0;p<l.k;p++)r[d][p]=r[d][p]/h}n=new Array(l.k);for(var v=0;v<l.k;v++)n[v]=new Array(l.attributes.length);i=new Array(s.length);for(var g=0;g<s.length;g++)i[g]=new Array(l.k);for(var y=!0,m=0;y&&m<l.maxIterations;)y=!1,gr(n,s,r,i,l),yr(r,a,n,s,l),hr(r,a,l.sensitivityThreshold)||(y=!0),m++;return t=function(e,t,n,r){for(var a,i,o=new Array(n.k),s=0;s<o.length;s++)o[s]=[];for(var l=0;l<t.length;l++){a=-1/0,i=-1;for(var u=0;u<t[0].length;u++)t[l][u]>a&&(a=t[l][u],i=u);o[i].push(e[l])}for(var c=0;c<o.length;c++)o[c]=r.collection(o[c]);return o}(s,r,l,o),{clusters:t,degreeOfMembership:r}},br={kMeans:function(e){var t,n=this.cy(),r=this.nodes(),a=null,i=or(e),o=new Array(i.k),s={};i.testMode?"number"==typeof i.testCentroids?(i.testCentroids,t=lr(r,i.k,i.attributes)):t="object"===l(i.testCentroids)?i.testCentroids:lr(r,i.k,i.attributes):t=lr(r,i.k,i.attributes);for(var u=!0,c=0;u&&c<i.maxIterations;){for(var d=0;d<r.length;d++)s[(a=r[d]).id()]=ur(a,t,i.distance,i.attributes,"kMeans");u=!1;for(var h=0;h<i.k;h++){var f=cr(h,r,s);if(0!==f.length){for(var p=i.attributes.length,v=t[h],g=new Array(p),y=new Array(p),m=0;m<p;m++){y[m]=0;for(var b=0;b<f.length;b++)a=f[b],y[m]+=i.attributes[m](a);g[m]=y[m]/f.length,dr(g[m],v[m],i.sensitivityThreshold)||(u=!0)}t[h]=g,o[h]=n.collection(f)}}c++}return o},kMedoids:function(e){var t,n,r=this.cy(),a=this.nodes(),i=null,o=or(e),s=new Array(o.k),u={},c=new Array(o.k);o.testMode?"number"==typeof o.testCentroids||(t="object"===l(o.testCentroids)?o.testCentroids:pr(a,o.k)):t=pr(a,o.k);for(var d=!0,h=0;d&&h<o.maxIterations;){for(var f=0;f<a.length;f++)u[(i=a[f]).id()]=ur(i,t,o.distance,o.attributes,"kMedoids");d=!1;for(var p=0;p<t.length;p++){var v=cr(p,a,u);if(0!==v.length){c[p]=vr(t[p],v,o.attributes);for(var g=0;g<v.length;g++)(n=vr(v[g],v,o.attributes))<c[p]&&(c[p]=n,t[p]=v[g],d=!0);s[p]=r.collection(v)}}h++}return s},fuzzyCMeans:mr,fcm:mr},xr=ot({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),wr={single:"min",complete:"max"},Er=function(e,t,n,r,a){for(var i,o=0,s=1/0,l=a.attributes,u=function(e,t){return ar(a.distance,l.length,function(t){return l[t](e)},function(e){return l[e](t)},e,t)},c=0;c<e.length;c++){var d=e[c].key,h=n[d][r[d]];h<s&&(o=d,s=h)}if("threshold"===a.mode&&s>=a.threshold||"dendrogram"===a.mode&&1===e.length)return!1;var f,p=t[o],v=t[r[o]];f="dendrogram"===a.mode?{left:p,right:v,key:p.key}:{value:p.value.concat(v.value),key:p.key},e[p.index]=f,e.splice(v.index,1),t[p.key]=f;for(var g=0;g<e.length;g++){var y=e[g];p.key===y.key?i=1/0:"min"===a.linkage?(i=n[p.key][y.key],n[p.key][y.key]>n[v.key][y.key]&&(i=n[v.key][y.key])):"max"===a.linkage?(i=n[p.key][y.key],n[p.key][y.key]<n[v.key][y.key]&&(i=n[v.key][y.key])):i="mean"===a.linkage?(n[p.key][y.key]*p.size+n[v.key][y.key]*v.size)/(p.size+v.size):"dendrogram"===a.mode?u(y.value,p.value):u(y.value[0],p.value[0]),n[p.key][y.key]=n[y.key][p.key]=i}for(var m=0;m<e.length;m++){var b=e[m].key;if(r[b]===p.key||r[b]===v.key){for(var x=b,w=0;w<e.length;w++){var E=e[w].key;n[b][E]<n[b][x]&&(x=E)}r[b]=x}e[m].index=m}return p.key=v.key=p.index=v.index=null,!0},kr=function(e,t,n){e&&(e.value?t.push(e.value):(e.left&&kr(e.left,t),e.right&&kr(e.right,t)))},Tr=function(e,t){if(!e)return"";if(e.left&&e.right){var n=Tr(e.left,t),r=Tr(e.right,t),a=t.add({group:"nodes",data:{id:n+","+r}});return t.add({group:"edges",data:{source:n,target:a.id()}}),t.add({group:"edges",data:{source:r,target:a.id()}}),a.id()}return e.value?e.value.id():void 0},Cr=function(e,t,n){if(!e)return[];var r=[],a=[],i=[];return 0===t?(e.left&&kr(e.left,r),e.right&&kr(e.right,a),i=r.concat(a),[n.collection(i)]):1===t?e.value?[n.collection(e.value)]:(e.left&&kr(e.left,r),e.right&&kr(e.right,a),[n.collection(r),n.collection(a)]):e.value?[n.collection(e.value)]:(e.left&&(r=Cr(e.left,t-1,n)),e.right&&(a=Cr(e.right,t-1,n)),r.concat(a))},Pr=function(e){for(var t=this.cy(),n=this.nodes(),r=function(e){var t=xr(e),n=wr[t.linkage];return null!=n&&(t.linkage=n),t}(e),a=r.attributes,i=function(e,t){return ar(r.distance,a.length,function(t){return a[t](e)},function(e){return a[e](t)},e,t)},o=[],s=[],l=[],u=[],c=0;c<n.length;c++){var d={value:"dendrogram"===r.mode?n[c]:[n[c]],key:c,index:c};o[c]=d,u[c]=d,s[c]=[],l[c]=0}for(var h=0;h<o.length;h++)for(var f=0;f<=h;f++){var p=void 0;p="dendrogram"===r.mode?h===f?1/0:i(o[h].value,o[f].value):h===f?1/0:i(o[h].value[0],o[f].value[0]),s[h][f]=p,s[f][h]=p,p<s[h][l[h]]&&(l[h]=f)}for(var v,g=Er(o,u,s,l,r);g;)g=Er(o,u,s,l,r);return"dendrogram"===r.mode?(v=Cr(o[0],r.dendrogramDepth,t),r.addDendrogram&&Tr(o[0],t)):(v=new Array(o.length),o.forEach(function(e,n){e.key=e.index=null,v[n]=t.collection(e.value)})),v},Sr={hierarchicalClustering:Pr,hca:Pr},Br=ot({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Dr=function(e,t,n,r){var a=function(e,t){return r[t](e)};return-ar(e,r.length,function(e){return a(t,e)},function(e){return a(n,e)},t,n)},_r=function(e,t){var n=null;return n="median"===t?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(n<e.length&&e.splice(n,e.length-n),t>0&&e.splice(0,t)):e=e.slice(t,n);for(var i=0,o=e.length-1;o>=0;o--){var s=e[o];a?isFinite(s)||(e[o]=-1/0,i++):e.splice(o,1)}r&&e.sort(function(e,t){return e-t});var l=e.length,u=Math.floor(l/2);return l%2!=0?e[u+1+i]:(e[u-1+i]+e[u+i])/2}(e):"mean"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=0,a=0,i=t;i<n;i++){var o=e[i];isFinite(o)&&(r+=o,a++)}return r/a}(e):"min"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=1/0,a=t;a<n;a++){var i=e[a];isFinite(i)&&(r=Math.min(i,r))}return r}(e):"max"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=-1/0,a=t;a<n;a++){var i=e[a];isFinite(i)&&(r=Math.max(i,r))}return r}(e):t,n},Ar=function(e,t,n){for(var r=[],a=0;a<e;a++){for(var i=-1,o=-1/0,s=0;s<n.length;s++){var l=n[s];t[a*e+l]>o&&(i=l,o=t[a*e+l])}i>0&&r.push(i)}for(var u=0;u<n.length;u++)r[n[u]]=n[u];return r},Mr=function(e){for(var t,n,r,a,i,o,s=this.cy(),l=this.nodes(),u=function(e){var t=e.damping,n=e.preference;.5<=t&&t<1||Je("Damping must range on [0.5, 1).  Got: ".concat(t));var r=["median","mean","min","max"];return r.some(function(e){return e===n})||G(n)||Je("Preference must be one of [".concat(r.map(function(e){return"'".concat(e,"'")}).join(", "),"] or a number.  Got: ").concat(n)),Br(e)}(e),c={},d=0;d<l.length;d++)c[l[d].id()]=d;n=(t=l.length)*t,r=new Array(n);for(var h=0;h<n;h++)r[h]=-1/0;for(var f=0;f<t;f++)for(var p=0;p<t;p++)f!==p&&(r[f*t+p]=Dr(u.distance,l[f],l[p],u.attributes));a=_r(r,u.preference);for(var v=0;v<t;v++)r[v*t+v]=a;i=new Array(n);for(var g=0;g<n;g++)i[g]=0;o=new Array(n);for(var y=0;y<n;y++)o[y]=0;for(var m=new Array(t),b=new Array(t),x=new Array(t),w=0;w<t;w++)m[w]=0,b[w]=0,x[w]=0;for(var E,k=new Array(t*u.minIterations),T=0;T<k.length;T++)k[T]=0;for(E=0;E<u.maxIterations;E++){for(var C=0;C<t;C++){for(var P=-1/0,S=-1/0,B=-1,D=0,_=0;_<t;_++)m[_]=i[C*t+_],(D=o[C*t+_]+r[C*t+_])>=P?(S=P,P=D,B=_):D>S&&(S=D);for(var A=0;A<t;A++)i[C*t+A]=(1-u.damping)*(r[C*t+A]-P)+u.damping*m[A];i[C*t+B]=(1-u.damping)*(r[C*t+B]-S)+u.damping*m[B]}for(var M=0;M<t;M++){for(var R=0,I=0;I<t;I++)m[I]=o[I*t+M],b[I]=Math.max(0,i[I*t+M]),R+=b[I];R-=b[M],b[M]=i[M*t+M],R+=b[M];for(var N=0;N<t;N++)o[N*t+M]=(1-u.damping)*Math.min(0,R-b[N])+u.damping*m[N];o[M*t+M]=(1-u.damping)*(R-b[M])+u.damping*m[M]}for(var L=0,z=0;z<t;z++){var O=o[z*t+z]+i[z*t+z]>0?1:0;k[E%u.minIterations*t+z]=O,L+=O}if(L>0&&(E>=u.minIterations-1||E==u.maxIterations-1)){for(var V=0,F=0;F<t;F++){x[F]=0;for(var X=0;X<u.minIterations;X++)x[F]+=k[X*t+F];0!==x[F]&&x[F]!==u.minIterations||V++}if(V===t)break}}for(var j=function(e,t,n){for(var r=[],a=0;a<e;a++)t[a*e+a]+n[a*e+a]>0&&r.push(a);return r}(t,i,o),Y=function(e,t,n){for(var r=Ar(e,t,n),a=0;a<n.length;a++){for(var i=[],o=0;o<r.length;o++)r[o]===n[a]&&i.push(o);for(var s=-1,l=-1/0,u=0;u<i.length;u++){for(var c=0,d=0;d<i.length;d++)c+=t[i[d]*e+i[u]];c>l&&(s=u,l=c)}n[a]=i[s]}return Ar(e,t,n)}(t,r,j),q={},W=0;W<j.length;W++)q[j[W]]=[];for(var U=0;U<l.length;U++){var H=Y[c[l[U].id()]];null!=H&&q[H].push(l[U])}for(var K=new Array(j.length),Z=0;Z<j.length;Z++)K[Z]=s.collection(q[j[Z]]);return K},Rr={affinityPropagation:Mr,ap:Mr},Ir=ot({root:void 0,directed:!1}),Nr=function(){var e=this,t={},n=0,r=0,a=[],i=[],o={},s=function(l,u,c){l===c&&(r+=1),t[u]={id:n,low:n++,cutVertex:!1};var d,h,f,p,v=e.getElementById(u).connectedEdges().intersection(e);0===v.size()?a.push(e.spawn(e.getElementById(u))):v.forEach(function(n){d=n.source().id(),h=n.target().id(),(f=d===u?h:d)!==c&&(p=n.id(),o[p]||(o[p]=!0,i.push({x:u,y:f,edge:n})),f in t?t[u].low=Math.min(t[u].low,t[f].id):(s(l,f,u),t[u].low=Math.min(t[u].low,t[f].low),t[u].id<=t[f].low&&(t[u].cutVertex=!0,function(n,r){for(var o=i.length-1,s=[],l=e.spawn();i[o].x!=n||i[o].y!=r;)s.push(i.pop().edge),o--;s.push(i.pop().edge),s.forEach(function(n){var r=n.connectedNodes().intersection(e);l.merge(n),r.forEach(function(n){var r=n.id(),a=n.connectedEdges().intersection(e);l.merge(n),t[r].cutVertex?l.merge(a.filter(function(e){return e.isLoop()})):l.merge(a)})}),a.push(l)}(u,f))))})};e.forEach(function(e){if(e.isNode()){var n=e.id();n in t||(r=0,s(n,n),t[n].cutVertex=r>1)}});var l=Object.keys(t).filter(function(e){return t[e].cutVertex}).map(function(t){return e.getElementById(t)});return{cut:e.spawn(l),components:a}},Lr=function(){var e=this,t={},n=0,r=[],a=[],i=e.spawn(e),o=function(s){if(a.push(s),t[s]={index:n,low:n++,explored:!1},e.getElementById(s).connectedEdges().intersection(e).forEach(function(e){var n=e.target().id();n!==s&&(n in t||o(n),t[n].explored||(t[s].low=Math.min(t[s].low,t[n].low)))}),t[s].index===t[s].low){for(var l=e.spawn();;){var u=a.pop();if(l.merge(e.getElementById(u)),t[u].low=t[s].index,t[u].explored=!0,u===s)break}var c=l.edgesWith(l),d=l.merge(c);r.push(d),i=i.difference(d)}};return e.forEach(function(e){if(e.isNode()){var n=e.id();n in t||o(n)}}),{cut:i,components:r}},zr={};[gt,Pt,St,Dt,At,Rt,zt,Rn,Nn,zn,Vn,Gn,br,Sr,Rr,{hierholzer:function(e){if(!K(e)){var t=arguments;e={root:t[0],directed:t[1]}}var n,r,a,i=Ir(e),o=i.root,s=i.directed,l=this,u=!1;o&&(a=W(o)?this.filter(o)[0].id():o[0].id());var c={},d={};s?l.forEach(function(e){var t=e.id();if(e.isNode()){var a=e.indegree(!0),i=e.outdegree(!0),o=a-i,s=i-a;1==o?n?u=!0:n=t:1==s?r?u=!0:r=t:(s>1||o>1)&&(u=!0),c[t]=[],e.outgoers().forEach(function(e){e.isEdge()&&c[t].push(e.id())})}else d[t]=[void 0,e.target().id()]}):l.forEach(function(e){var t=e.id();e.isNode()?(e.degree(!0)%2&&(n?r?u=!0:r=t:n=t),c[t]=[],e.connectedEdges().forEach(function(e){return c[t].push(e.id())})):d[t]=[e.source().id(),e.target().id()]});var h={found:!1,trail:void 0};if(u)return h;if(r&&n)if(s){if(a&&r!=a)return h;a=r}else{if(a&&r!=a&&n!=a)return h;a||(a=r)}else a||(a=l[0].id());var f=function(e){for(var t,n,r,a=e,i=[e];c[a].length;)t=c[a].shift(),n=d[t][0],a!=(r=d[t][1])?(c[r]=c[r].filter(function(e){return e!=t}),a=r):s||a==n||(c[n]=c[n].filter(function(e){return e!=t}),a=n),i.unshift(t),i.unshift(a);return i},p=[],v=[];for(v=f(a);1!=v.length;)0==c[v[0]].length?(p.unshift(l.getElementById(v.shift())),p.unshift(l.getElementById(v.shift()))):v=f(v.shift()).concat(v);for(var g in p.unshift(l.getElementById(v.shift())),c)if(c[g].length)return h;return h.found=!0,h.trail=this.spawn(p,!0),h}},{hopcroftTarjanBiconnected:Nr,htbc:Nr,htb:Nr,hopcroftTarjanBiconnectedComponents:Nr},{tarjanStronglyConnected:Lr,tsc:Lr,tscc:Lr,tarjanStronglyConnectedComponents:Lr}].forEach(function(e){ge(zr,e)});
/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/
var Or=function(e){if(!(this instanceof Or))return new Or(e);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Or.prototype={fulfill:function(e){return Vr(this,1,"fulfillValue",e)},reject:function(e){return Vr(this,2,"rejectReason",e)},then:function(e,t){var n=this,r=new Or;return n.onFulfilled.push(jr(e,r,"fulfill")),n.onRejected.push(jr(t,r,"reject")),Fr(n),r.proxy}};var Vr=function(e,t,n,r){return 0===e.state&&(e.state=t,e[n]=r,Fr(e)),e},Fr=function(e){1===e.state?Xr(e,"onFulfilled",e.fulfillValue):2===e.state&&Xr(e,"onRejected",e.rejectReason)},Xr=function(e,t,n){if(0!==e[t].length){var r=e[t];e[t]=[];var a=function(){for(var e=0;e<r.length;e++)r[e](n)};"function"==typeof setImmediate?setImmediate(a):setTimeout(a,0)}},jr=function(e,t,n){return function(r){if("function"!=typeof e)t[n].call(t,r);else{var a;try{a=e(r)}catch(i){return void t.reject(i)}Yr(t,a)}}},Yr=function(e,t){if(e!==t&&e.proxy!==t){var n;if("object"===l(t)&&null!==t||"function"==typeof t)try{n=t.then}catch(a){return void e.reject(a)}if("function"!=typeof n)e.fulfill(t);else{var r=!1;try{n.call(t,function(n){r||(r=!0,n===t?e.reject(new TypeError("circular thenable chain")):Yr(e,n))},function(t){r||(r=!0,e.reject(t))})}catch(a){r||e.reject(a)}}}else e.reject(new TypeError("cannot resolve promise with itself"))};Or.all=function(e){return new Or(function(t,n){for(var r=new Array(e.length),a=0,i=function(n,i){r[n]=i,++a===e.length&&t(r)},o=0;o<e.length;o++)(function(t){var r=e[t];null!=r&&null!=r.then?r.then(function(e){i(t,e)},function(e){n(e)}):i(t,r)})(o)})},Or.resolve=function(e){return new Or(function(t,n){t(e)})},Or.reject=function(e){return new Or(function(t,n){n(e)})};var qr="undefined"!=typeof Promise?Promise:Or,Wr=function(e,t,n){var r=ee(e),a=!r,i=this._private=ge({duration:1e3},t,n);if(i.target=e,i.style=i.style||i.css,i.started=!1,i.playing=!1,i.hooked=!1,i.applying=!1,i.progress=0,i.completes=[],i.frames=[],i.complete&&U(i.complete)&&i.completes.push(i.complete),a){var o=e.position();i.startPosition=i.startPosition||{x:o.x,y:o.y},i.startStyle=i.startStyle||e.cy().style().getAnimationStartStyle(e,i.style)}if(r){var s=e.pan();i.startPan={x:s.x,y:s.y},i.startZoom=e.zoom()}this.length=1,this[0]=this},Ur=Wr.prototype;ge(Ur,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t=e.target._private.animation;(e.queue?t.queue:t.current).push(this),$(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return void 0===e?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(t,n){var r=e[t];null!=r&&(e[t]=e[n],e[n]=r)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var r=0;r<e.style.length;r++){var a=e.style[r],i=a.name,o=e.startStyle[i];e.startStyle[i]=a,e.style[r]=o}return t&&this.play(),this},promise:function(e){var t,n=this._private;if("frame"===e)t=n.frames;else t=n.completes;return new qr(function(e,n){t.push(function(){e()})})}}),Ur.complete=Ur.completed,Ur.run=Ur.play,Ur.running=Ur.playing;var Hr,Kr,Gr,Zr,$r,Qr,Jr,ea,ta,na,ra,aa,ia,oa,sa,la,ua,ca,da,ha,fa,pa,va,ga,ya,ma,ba,xa,wa,Ea,ka,Ta,Ca,Pa,Sa,Ba,Da,_a,Aa,Ma,Ra,Ia,Na,La,za,Oa,Va,Fa,Xa,ja,Ya,qa,Wa,Ua,Ha,Ka,Ga,Za,$a,Qa,Ja,ei,ti,ni,ri,ai,ii,oi,si,li,ui,ci,di,hi,fi,pi,vi,gi,yi,mi,bi,xi,wi,Ei,ki,Ti,Ci={animated:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return!1;var n=t[0];return n?n._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return this;for(var n=0;n<t.length;n++){t[n]._private.animation.queue=[]}return this}},delay:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(){return function(e,t){var n=this,r=void 0!==n.length,a=r?n:[n],i=this._private.cy||this,o=!r,s=!o;if(!i.styleEnabled())return this;var l=i.style();if(e=ge({},e,t),0===Object.keys(e).length)return new Wr(a[0],e);switch(void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}if(s&&(e.style=l.getPropsList(e.style||e.css),e.css=void 0),s&&null!=e.renderedPosition){var u=e.renderedPosition,c=i.pan(),d=i.zoom();e.position=Vt(u,d,c)}if(o&&null!=e.panBy){var h=e.panBy,f=i.pan();e.pan={x:f.x+h.x,y:f.y+h.y}}var p=e.center||e.centre;if(o&&null!=p){var v=i.getCenterPan(p.eles,e.zoom);null!=v&&(e.pan=v)}if(o&&null!=e.fit){var g=e.fit,y=i.getFitViewport(g.eles||g.boundingBox,g.padding);null!=y&&(e.pan=y.pan,e.zoom=y.zoom)}if(o&&K(e.zoom)){var m=i.getZoomedViewport(e.zoom);null!=m?(m.zoomed&&(e.zoom=m.zoom),m.panned&&(e.pan=m.pan)):e.zoom=null}return new Wr(a[0],e)}},animate:function(){return function(e,t){var n=this,r=void 0!==n.length?n:[n];if(!(this._private.cy||this).styleEnabled())return this;t&&(e=ge({},e,t));for(var a=0;a<r.length;a++){var i=r[a],o=i.animated()&&(void 0===e.queue||e.queue);i.animation(e,o?{queue:!0}:void 0).play()}return this}},stop:function(){return function(e,t){var n=this,r=void 0!==n.length?n:[n],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var i=0;i<r.length;i++){for(var o=r[i]._private,s=o.animation.current,l=0;l<s.length;l++){var u=s[l]._private;t&&(u.duration=0)}e&&(o.animation.queue=[]),t||(o.animation.current=[])}return a.notify("draw"),this}}};function Pi(){if(Kr)return Hr;Kr=1;var e=Array.isArray;return Hr=e}function Si(){if(na)return ta;na=1;var e,t=function(){if(ea)return Jr;ea=1;var e=Te()["__core-js_shared__"];return Jr=e}(),n=(e=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";return ta=function(e){return!!n&&n in e}}function Bi(){if(oa)return ia;oa=1;var e=function(){if(Qr)return $r;Qr=1;var e=Se(),t=ke();return $r=function(n){if(!t(n))return!1;var r=e(n);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r}}(),t=Si(),n=ke(),r=function(){if(aa)return ra;aa=1;var e=Function.prototype.toString;return ra=function(t){if(null!=t){try{return e.call(t)}catch(n){}try{return t+""}catch(n){}}return""}}(),a=/^\[object .+?Constructor\]$/,i=Function.prototype,o=Object.prototype,s=i.toString,l=o.hasOwnProperty,u=RegExp("^"+s.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return ia=function(i){return!(!n(i)||t(i))&&(e(i)?u:a).test(r(i))}}function Di(){if(ca)return ua;ca=1;var e=Bi(),t=(la||(la=1,sa=function(e,t){return null==e?void 0:e[t]}),sa);return ua=function(n,r){var a=t(n,r);return e(a)?a:void 0},ua}function _i(){if(ha)return da;ha=1;var e=Di()(Object,"create");return da=e}function Ai(){if(Ta)return ka;Ta=1;var e=function(){if(pa)return fa;pa=1;var e=_i();return fa=function(){this.__data__=e?e(null):{},this.size=0}}(),t=ga?va:(ga=1,va=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}),n=function(){if(ma)return ya;ma=1;var e=_i(),t=Object.prototype.hasOwnProperty;return ya=function(n){var r=this.__data__;if(e){var a=r[n];return"__lodash_hash_undefined__"===a?void 0:a}return t.call(r,n)?r[n]:void 0},ya}(),r=function(){if(xa)return ba;xa=1;var e=_i(),t=Object.prototype.hasOwnProperty;return ba=function(n){var r=this.__data__;return e?void 0!==r[n]:t.call(r,n)},ba}(),a=function(){if(Ea)return wa;Ea=1;var e=_i();return wa=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=e&&void 0===n?"__lodash_hash_undefined__":n,this},wa}();function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,ka=i}function Mi(){if(Ba)return Sa;return Ba=1,Sa=function(e,t){return e===t||e!=e&&t!=t}}function Ri(){if(_a)return Da;_a=1;var e=Mi();return Da=function(t,n){for(var r=t.length;r--;)if(e(t[r][0],n))return r;return-1},Da}function Ii(){if(Fa)return Va;Fa=1;var e=Pa?Ca:(Pa=1,Ca=function(){this.__data__=[],this.size=0}),t=function(){if(Ma)return Aa;Ma=1;var e=Ri(),t=Array.prototype.splice;return Aa=function(n){var r=this.__data__,a=e(r,n);return!(a<0||(a==r.length-1?r.pop():t.call(r,a,1),--this.size,0))},Aa}(),n=function(){if(Ia)return Ra;Ia=1;var e=Ri();return Ra=function(t){var n=this.__data__,r=e(n,t);return r<0?void 0:n[r][1]},Ra}(),r=function(){if(La)return Na;La=1;var e=Ri();return Na=function(t){return e(this.__data__,t)>-1}}(),a=function(){if(Oa)return za;Oa=1;var e=Ri();return za=function(t,n){var r=this.__data__,a=e(r,t);return a<0?(++this.size,r.push([t,n])):r[a][1]=n,this},za}();function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,Va=i}function Ni(){if(qa)return Ya;qa=1;var e=Ai(),t=Ii(),n=function(){if(ja)return Xa;ja=1;var e=Di()(Te(),"Map");return Xa=e}();return Ya=function(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}}function Li(){if(Ka)return Ha;Ka=1;var e=Ua?Wa:(Ua=1,Wa=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e});return Ha=function(t,n){var r=t.__data__;return e(n)?r["string"==typeof n?"string":"hash"]:r.map},Ha}function zi(){if(ai)return ri;ai=1;var e=Ni(),t=function(){if(Za)return Ga;Za=1;var e=Li();return Ga=function(t){var n=e(this,t).delete(t);return this.size-=n?1:0,n}}(),n=function(){if(Qa)return $a;Qa=1;var e=Li();return $a=function(t){return e(this,t).get(t)}}(),r=function(){if(ei)return Ja;ei=1;var e=Li();return Ja=function(t){return e(this,t).has(t)}}(),a=function(){if(ni)return ti;ni=1;var e=Li();return ti=function(t,n){var r=e(this,t),a=r.size;return r.set(t,n),this.size+=r.size==a?0:1,this},ti}();function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,ri=i}function Oi(){if(li)return si;li=1;var e=function(){if(oi)return ii;oi=1;var e=zi();function t(n,r){if("function"!=typeof n||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var a=function(){var e=arguments,t=r?r.apply(this,e):e[0],i=a.cache;if(i.has(t))return i.get(t);var o=n.apply(this,e);return a.cache=i.set(t,o)||i,o};return a.cache=new(t.Cache||e),a}return t.Cache=e,ii=t}();return si=function(t){var n=e(t,function(e){return 500===r.size&&r.clear(),e}),r=n.cache;return n},si}function Vi(){if(ci)return ui;ci=1;var e=Oi(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(t,function(e,t,a,i){r.push(a?i.replace(n,"$1"):t||e)}),r});return ui=r}function Fi(){if(hi)return di;return hi=1,di=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a},di}function Xi(){if(gi)return vi;gi=1;var e=function(){if(pi)return fi;pi=1;var e=Pe(),t=Fi(),n=Pi(),r=Be(),a=e?e.prototype:void 0,i=a?a.toString:void 0;return fi=function e(a){if("string"==typeof a)return a;if(n(a))return t(a,e)+"";if(r(a))return i?i.call(a):"";var o=a+"";return"0"==o&&1/a==-1/0?"-0":o},fi}();return vi=function(t){return null==t?"":e(t)}}function ji(){if(mi)return yi;mi=1;var e=Pi(),t=function(){if(Zr)return Gr;Zr=1;var e=Pi(),t=Be(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;return Gr=function(a,i){if(e(a))return!1;var o=typeof a;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=a&&!t(a))||r.test(a)||!n.test(a)||null!=i&&a in Object(i)},Gr}(),n=Vi(),r=Xi();return yi=function(a,i){return e(a)?a:t(a,i)?[a]:n(r(a))},yi}function Yi(){if(xi)return bi;xi=1;var e=Be();return bi=function(t){if("string"==typeof t||e(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}}var qi,Wi,Ui,Hi,Ki,Gi,Zi,$i,Qi,Ji,eo,to,no=function(){if(Ti)return ki;Ti=1;var e=function(){if(Ei)return wi;Ei=1;var e=ji(),t=Yi();return wi=function(n,r){for(var a=0,i=(r=e(r,n)).length;null!=n&&a<i;)n=n[t(r[a++])];return a&&a==i?n:void 0},wi}();return ki=function(t,n,r){var a=null==t?void 0:e(t,n);return void 0===a?r:a},ki}(),ro=Ee(no);function ao(){if(Hi)return Ui;Hi=1;var e=function(){if(Wi)return qi;Wi=1;var e=Di(),t=function(){try{var t=e(Object,"defineProperty");return t({},"",{}),t}catch(n){}}();return qi=t}();return Ui=function(t,n,r){"__proto__"==n&&e?e(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r},Ui}function io(){if(Ji)return Qi;Ji=1;var e=function(){if(Gi)return Ki;Gi=1;var e=ao(),t=Mi(),n=Object.prototype.hasOwnProperty;return Ki=function(r,a,i){var o=r[a];n.call(r,a)&&t(o,i)&&(void 0!==i||a in r)||e(r,a,i)},Ki}(),t=ji(),n=function(){if($i)return Zi;$i=1;var e=/^(?:0|[1-9]\d*)$/;return Zi=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}}(),r=ke(),a=Yi();return Qi=function(i,o,s,l){if(!r(i))return i;for(var u=-1,c=(o=t(o,i)).length,d=c-1,h=i;null!=h&&++u<c;){var f=a(o[u]),p=s;if("__proto__"===f||"constructor"===f||"prototype"===f)return i;if(u!=d){var v=h[f];void 0===(p=l?l(v,f,h):void 0)&&(p=r(v)?v:n(o[u+1])?[]:{})}e(h,f,p),h=h[f]}return i},Qi}var oo,so,lo,uo,co=function(){if(to)return eo;to=1;var e=io();return eo=function(t,n,r){return null==t?t:e(t,n,r)},eo}(),ho=Ee(co);var fo=function(){if(uo)return lo;uo=1;var e=Fi(),t=(so||(so=1,oo=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}),oo),n=Pi(),r=Be(),a=Vi(),i=Yi(),o=Xi();return lo=function(s){return n(s)?e(s,i):r(s)?[s]:t(a(o(s)))}}(),po=Ee(fo),vo={data:function(e){return e=ge({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(e){},beforeSet:function(e,t){},onSet:function(e){},canSet:function(e){return!0}},e),function(t,n){var r=e,i=this,o=void 0!==i.length,s=o?i:[i],l=o?i[0]:i;if(W(t)){var u,c=-1!==t.indexOf(".")&&po(t);if(r.allowGetting&&void 0===n)return l&&(r.beforeGet(l),u=c&&void 0===l._private[r.field][t]?ro(l._private[r.field],c):l._private[r.field][t]),u;if(r.allowSetting&&void 0!==n&&!r.immutableKeys[t]){var d=a({},t,n);r.beforeSet(i,d);for(var h=0,f=s.length;h<f;h++){var p=s[h];r.canSet(p)&&(c&&void 0===l._private[r.field][t]?ho(p._private[r.field],c,n):p._private[r.field][t]=n)}r.updateStyle&&i.updateStyle(),r.onSet(i),r.settingTriggersEvent&&i[r.triggerFnName](r.settingEvent)}}else if(r.allowSetting&&K(t)){var v,g,y=t,m=Object.keys(y);r.beforeSet(i,y);for(var b=0;b<m.length;b++){if(g=y[v=m[b]],!r.immutableKeys[v])for(var x=0;x<s.length;x++){var w=s[x];r.canSet(w)&&(w._private[r.field][v]=g)}}r.updateStyle&&i.updateStyle(),r.onSet(i),r.settingTriggersEvent&&i[r.triggerFnName](r.settingEvent)}else if(r.allowBinding&&U(t)){var E=t;i.on(r.bindingEvent,E)}else if(r.allowGetting&&void 0===t){var k;return l&&(r.beforeGet(l),k=l._private[r.field]),k}return i}},removeData:function(e){return e=ge({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},e),function(t){var n=e,r=this,a=void 0!==r.length?r:[r];if(W(t)){for(var i=t.split(/\s+/),o=i.length,s=0;s<o;s++){var l=i[s];if(!ne(l))if(!n.immutableKeys[l])for(var u=0,c=a.length;u<c;u++)a[u]._private[n.field][l]=void 0}n.triggerEvent&&r[n.triggerFnName](n.event)}else if(void 0===t){for(var d=0,h=a.length;d<h;d++)for(var f=a[d]._private[n.field],p=Object.keys(f),v=0;v<p.length;v++){var g=p[v];!n.immutableKeys[g]&&(f[g]=void 0)}n.triggerEvent&&r[n.triggerFnName](n.event)}return r}}},go={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(e,t){var n=this,r=Array.prototype.slice.call(arguments,0);return new qr(function(e,t){var a=r.concat([function(t){n.off.apply(n,i),e(t)}]),i=a.concat([]);n.on.apply(n,a)})}}},yo={};[Ci,vo,go].forEach(function(e){ge(yo,e)});var mo={animate:yo.animate(),animation:yo.animation(),animated:yo.animated(),clearQueue:yo.clearQueue(),delay:yo.delay(),delayAnimation:yo.delayAnimation(),stop:yo.stop()},bo={classes:function(e){var t=this;if(void 0===e){var n=[];return t[0]._private.classes.forEach(function(e){return n.push(e)}),n}H(e)||(e=(e||"").match(/\S+/g)||[]);for(var r=[],a=new ft(e),i=0;i<t.length;i++){for(var o=t[i],s=o._private,l=s.classes,u=!1,c=0;c<e.length;c++){var d=e[c];if(!l.has(d)){u=!0;break}}u||(u=l.size!==e.length),u&&(s.classes=a,r.push(o))}return r.length>0&&this.spawn(r).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes.has(e)},toggleClass:function(e,t){H(e)||(e=e.match(/\S+/g)||[]);for(var n=this,r=void 0===t,a=[],i=0,o=n.length;i<o;i++)for(var s=n[i],l=s._private.classes,u=!1,c=0;c<e.length;c++){var d=e[c],h=l.has(d),f=!1;t||r&&!h?(l.add(d),f=!0):(!t||r&&h)&&(l.delete(d),f=!0),!u&&f&&(a.push(s),u=!0)}return a.length>0&&this.spawn(a).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(null==t)t=250;else if(0===t)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},t),n}};bo.className=bo.classNames=bo.classes;var xo={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:ce,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};xo.variable="(?:[\\w-.]|(?:\\\\"+xo.metaChar+"))+",xo.className="(?:[\\w-]|(?:\\\\"+xo.metaChar+"))+",xo.value=xo.string+"|"+xo.number,xo.id=xo.variable,function(){var e,t,n;for(e=xo.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],xo.comparatorOp+="|@"+t;for(e=xo.comparatorOp.split("|"),n=0;n<e.length;n++)(t=e[n]).indexOf("!")>=0||"="!==t&&(xo.comparatorOp+="|\\!"+t)}();var wo=0,Eo=1,ko=2,To=3,Co=4,Po=5,So=6,Bo=7,Do=8,_o=9,Ao=10,Mo=11,Ro=12,Io=13,No=14,Lo=15,zo=16,Oo=17,Vo=18,Fo=19,Xo=20,jo=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(e,t){return function(e,t){return-1*ve(e,t)}(e.selector,t.selector)}),Yo=function(){for(var e,t={},n=0;n<jo.length;n++)t[(e=jo[n]).selector]=e.matches;return t}(),qo="("+jo.map(function(e){return e.selector}).join("|")+")",Wo=function(e){return e.replace(new RegExp("\\\\("+xo.metaChar+")","g"),function(e,t){return t})},Uo=function(e,t,n){e[e.length-1]=n},Ho=[{name:"group",query:!0,regex:"("+xo.group+")",populate:function(e,t,n){var r=i(n,1)[0];t.checks.push({type:wo,value:"*"===r?r:r+"s"})}},{name:"state",query:!0,regex:qo,populate:function(e,t,n){var r=i(n,1)[0];t.checks.push({type:Bo,value:r})}},{name:"id",query:!0,regex:"\\#("+xo.id+")",populate:function(e,t,n){var r=i(n,1)[0];t.checks.push({type:Do,value:Wo(r)})}},{name:"className",query:!0,regex:"\\.("+xo.className+")",populate:function(e,t,n){var r=i(n,1)[0];t.checks.push({type:_o,value:Wo(r)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+xo.variable+")\\s*\\]",populate:function(e,t,n){var r=i(n,1)[0];t.checks.push({type:Co,field:Wo(r)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+xo.variable+")\\s*("+xo.comparatorOp+")\\s*("+xo.value+")\\s*\\]",populate:function(e,t,n){var r=i(n,3),a=r[0],o=r[1],s=r[2];s=null!=new RegExp("^"+xo.string+"$").exec(s)?s.substring(1,s.length-1):parseFloat(s),t.checks.push({type:To,field:Wo(a),operator:o,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+xo.boolOp+")\\s*("+xo.variable+")\\s*\\]",populate:function(e,t,n){var r=i(n,2),a=r[0],o=r[1];t.checks.push({type:Po,field:Wo(o),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+xo.meta+")\\s*("+xo.comparatorOp+")\\s*("+xo.number+")\\s*\\]\\]",populate:function(e,t,n){var r=i(n,3),a=r[0],o=r[1],s=r[2];t.checks.push({type:So,field:Wo(a),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:xo.separator,populate:function(e,t){var n=e.currentSubject,r=e.edgeCount,a=e.compoundCount,i=e[e.length-1];return null!=n&&(i.subject=n,e.currentSubject=null),i.edgeCount=r,i.compoundCount=a,e.edgeCount=0,e.compoundCount=0,e[e.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:xo.directedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r=t,a={checks:[]};return n.checks.push({type:Mo,source:r,target:a}),Uo(e,0,n),e.edgeCount++,a}var i={checks:[]},o=t,s={checks:[]};return i.checks.push({type:Ro,source:o,target:s}),Uo(e,0,i),e.edgeCount++,s}},{name:"undirectedEdge",separator:!0,regex:xo.undirectedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r=t,a={checks:[]};return n.checks.push({type:Ao,nodes:[r,a]}),Uo(e,0,n),e.edgeCount++,a}var i={checks:[]},o=t,s={checks:[]};return i.checks.push({type:No,node:o,neighbor:s}),Uo(e,0,i),s}},{name:"child",separator:!0,regex:xo.child,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r={checks:[]},a=e[e.length-1];return n.checks.push({type:Lo,parent:a,child:r}),Uo(e,0,n),e.compoundCount++,r}if(e.currentSubject===t){var i={checks:[]},o=e[e.length-1],s={checks:[]},l={checks:[]},u={checks:[]},c={checks:[]};return i.checks.push({type:Fo,left:o,right:s,subject:l}),l.checks=t.checks,t.checks=[{type:Xo}],c.checks.push({type:Xo}),s.checks.push({type:Oo,parent:c,child:u}),Uo(e,0,i),e.currentSubject=l,e.compoundCount++,u}var d={checks:[]},h={checks:[]},f=[{type:Oo,parent:d,child:h}];return d.checks=t.checks,t.checks=f,e.compoundCount++,h}},{name:"descendant",separator:!0,regex:xo.descendant,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r={checks:[]},a=e[e.length-1];return n.checks.push({type:zo,ancestor:a,descendant:r}),Uo(e,0,n),e.compoundCount++,r}if(e.currentSubject===t){var i={checks:[]},o=e[e.length-1],s={checks:[]},l={checks:[]},u={checks:[]},c={checks:[]};return i.checks.push({type:Fo,left:o,right:s,subject:l}),l.checks=t.checks,t.checks=[{type:Xo}],c.checks.push({type:Xo}),s.checks.push({type:Vo,ancestor:c,descendant:u}),Uo(e,0,i),e.currentSubject=l,e.compoundCount++,u}var d={checks:[]},h={checks:[]},f=[{type:Vo,ancestor:d,descendant:h}];return d.checks=t.checks,t.checks=f,e.compoundCount++,h}},{name:"subject",modifier:!0,regex:xo.subject,populate:function(e,t){if(null!=e.currentSubject&&e.currentSubject!==t)return tt(e.toString()),!1;e.currentSubject=t;var n=e[e.length-1].checks[0],r=null==n?null:n.type;r===Mo?n.type=Io:r===Ao&&(n.type=No,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];Ho.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var Ko=function(e){for(var t,n,r,a=0;a<Ho.length;a++){var i=Ho[a],o=i.name,s=e.match(i.regexObj);if(null!=s){n=s,t=i,r=o;var l=s[0];e=e.substring(l.length);break}}return{expr:t,match:n,name:r,remaining:e}},Go={parse:function(e){var t=this,n=t.inputText=e,r=t[0]={checks:[]};for(t.length=1,n=function(e){var t=e.match(/^\s+/);if(t){var n=t[0];e=e.substring(n.length)}return e}(n);;){var a=Ko(n);if(null==a.expr)return tt(),!1;var i=a.match.slice(1),o=a.expr.populate(t,r,i);if(!1===o)return!1;if(null!=o&&(r=o),(n=a.remaining).match(/^\s*$/))break}var s=t[t.length-1];null!=t.currentSubject&&(s.subject=t.currentSubject),s.edgeCount=t.edgeCount,s.compoundCount=t.compoundCount;for(var l=0;l<t.length;l++){var u=t[l];if(u.compoundCount>0&&u.edgeCount>0)return tt(),!1;if(u.edgeCount>1)return tt(),!1;1===u.edgeCount&&tt()}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var e=function(e){return null==e?"":e},t=function(t){return W(t)?'"'+t+'"':e(t)},n=function(e){return" "+e+" "},r=function(r,i){var o=r.type,s=r.value;switch(o){case wo:var l=e(s);return l.substring(0,l.length-1);case To:var u=r.field,c=r.operator;return"["+u+n(e(c))+t(s)+"]";case Po:var d=r.operator,h=r.field;return"["+e(d)+h+"]";case Co:return"["+r.field+"]";case So:var f=r.operator;return"[["+r.field+n(e(f))+t(s)+"]]";case Bo:return s;case Do:return"#"+s;case _o:return"."+s;case Oo:case Lo:return a(r.parent,i)+n(">")+a(r.child,i);case Vo:case zo:return a(r.ancestor,i)+" "+a(r.descendant,i);case Fo:var p=a(r.left,i),v=a(r.subject,i),g=a(r.right,i);return p+(p.length>0?" ":"")+v+g;case Xo:return""}},a=function(e,t){return e.checks.reduce(function(n,a,i){return n+(t===e&&0===i?"$":"")+r(a,t)},"")},i="",o=0;o<this.length;o++){var s=this[o];i+=a(s,s.subject),this.length>1&&o<this.length-1&&(i+=", ")}return this.toStringCache=i,i}},Zo=function(e,t,n){var r,a,i,o=W(e),s=G(e),l=W(n),u=!1,c=!1,d=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),c=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),u=!0),(o||l||u)&&(a=o||s?""+e:"",i=""+n),u&&(e=a=a.toLowerCase(),n=i=i.toLowerCase()),t){case"*=":r=a.indexOf(i)>=0;break;case"$=":r=a.indexOf(i,a.length-i.length)>=0;break;case"^=":r=0===a.indexOf(i);break;case"=":r=e===n;break;case">":d=!0,r=e>n;break;case">=":d=!0,r=e>=n;break;case"<":d=!0,r=e<n;break;case"<=":d=!0,r=e<=n;break;default:r=!1}return!c||null==e&&d||(r=!r),r},$o=function(e,t){return e.data(t)},Qo=[],Jo=function(e,t){return e.checks.every(function(e){return Qo[e.type](e,t)})};Qo[wo]=function(e,t){var n=e.value;return"*"===n||n===t.group()},Qo[Bo]=function(e,t){return function(e,t){return Yo[e](t)}(e.value,t)},Qo[Do]=function(e,t){var n=e.value;return t.id()===n},Qo[_o]=function(e,t){var n=e.value;return t.hasClass(n)},Qo[So]=function(e,t){var n=e.field,r=e.operator,a=e.value;return Zo(function(e,t){return e[t]()}(t,n),r,a)},Qo[To]=function(e,t){var n=e.field,r=e.operator,a=e.value;return Zo($o(t,n),r,a)},Qo[Po]=function(e,t){var n=e.field,r=e.operator;return function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return void 0===e}}($o(t,n),r)},Qo[Co]=function(e,t){var n=e.field;return e.operator,void 0!==$o(t,n)},Qo[Ao]=function(e,t){var n=e.nodes[0],r=e.nodes[1],a=t.source(),i=t.target();return Jo(n,a)&&Jo(r,i)||Jo(r,a)&&Jo(n,i)},Qo[No]=function(e,t){return Jo(e.node,t)&&t.neighborhood().some(function(t){return t.isNode()&&Jo(e.neighbor,t)})},Qo[Mo]=function(e,t){return Jo(e.source,t.source())&&Jo(e.target,t.target())},Qo[Ro]=function(e,t){return Jo(e.source,t)&&t.outgoers().some(function(t){return t.isNode()&&Jo(e.target,t)})},Qo[Io]=function(e,t){return Jo(e.target,t)&&t.incomers().some(function(t){return t.isNode()&&Jo(e.source,t)})},Qo[Lo]=function(e,t){return Jo(e.child,t)&&Jo(e.parent,t.parent())},Qo[Oo]=function(e,t){return Jo(e.parent,t)&&t.children().some(function(t){return Jo(e.child,t)})},Qo[zo]=function(e,t){return Jo(e.descendant,t)&&t.ancestors().some(function(t){return Jo(e.ancestor,t)})},Qo[Vo]=function(e,t){return Jo(e.ancestor,t)&&t.descendants().some(function(t){return Jo(e.descendant,t)})},Qo[Fo]=function(e,t){return Jo(e.subject,t)&&Jo(e.left,t)&&Jo(e.right,t)},Qo[Xo]=function(){return!0},Qo[Eo]=function(e,t){return e.value.has(t)},Qo[ko]=function(e,t){return(0,e.value)(t)};var es={matches:function(e){for(var t=0;t<this.length;t++){var n=this[t];if(Jo(n,e))return!0}return!1},filter:function(e){var t=this;if(1===t.length&&1===t[0].checks.length&&t[0].checks[0].type===Do)return e.getElementById(t[0].checks[0].value).collection();var n=function(e){for(var n=0;n<t.length;n++){var r=t[n];if(Jo(r,e))return!0}return!1};return null==t.text()&&(n=function(){return!0}),e.filter(n)}},ts=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==e||W(e)&&e.match(/^\s*$/)||($(e)?this.addQuery({checks:[{type:Eo,value:e.collection()}]}):U(e)?this.addQuery({checks:[{type:ko,value:e}]}):W(e)?this.parse(e)||(this.invalid=!0):Je("A selector must be created from a string; found "))},ns=ts.prototype;[Go,es].forEach(function(e){return ge(ns,e)}),ns.text=function(){return this.inputText},ns.size=function(){return this.length},ns.eq=function(e){return this[e]},ns.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()},ns.addQuery=function(e){this[this.length++]=e},ns.selector=ns.toString;var rs={allAre:function(e){var t=new ts(e);return this.every(function(e){return t.matches(e)})},is:function(e){var t=new ts(e);return this.some(function(e){return t.matches(e)})},some:function(e,t){for(var n=0;n<this.length;n++){if(t?e.apply(t,[this[n],n,this]):e(this[n],n,this))return!0}return!1},every:function(e,t){for(var n=0;n<this.length;n++){if(!(t?e.apply(t,[this[n],n,this]):e(this[n],n,this)))return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length;return t===e.length&&(1===t?this[0]===e[0]:this.every(function(t){return e.hasElementWithId(t.id())}))},anySame:function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(e){return t.hasElementWithId(e.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(e){return t.hasElementWithId(e.id())})}};rs.allAreNeighbours=rs.allAreNeighbors,rs.has=rs.contains,rs.equal=rs.equals=rs.same;var as,is,os=function(e,t){return function(n,r,a,i){var o,s=n,l=this;if(null==s?o="":$(s)&&1===s.length&&(o=s.id()),1===l.length&&o){var u=l[0]._private,c=u.traversalCache=u.traversalCache||{},d=c[t]=c[t]||[],h=Ye(o),f=d[h];return f||(d[h]=e.call(l,n,r,a,i))}return e.call(l,n,r,a,i)}},ss={parent:function(e){var t=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var r=0;r<this.length;r++){var a=this[r]._private.parent;a&&t.push(a)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var r=0;r<n.length;r++){var a=n[r];t.push(a)}n=n.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var r=this[n].parents();t=(t=t||r).intersect(r)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(e){return e.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(e){return e.isChild()}).filter(e)},children:os(function(e){for(var t=[],n=0;n<this.length;n++)for(var r=this[n]._private.children,a=0;a<r.length;a++)t.push(r[a]);return this.spawn(t,!0).filter(e)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&0!==e._private.children.length},isChildless:function(){var e=this[0];if(e)return e.isNode()&&0===e._private.children.length},isChild:function(){var e=this[0];if(e)return e.isNode()&&null!=e._private.parent},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&null==e._private.parent},descendants:function(e){var t=[];return function e(n){for(var r=0;r<n.length;r++){var a=n[r];t.push(a),a.children().nonempty()&&e(a.children())}}(this.children()),this.spawn(t,!0).filter(e)}};function ls(e,t,n,r){for(var a=[],i=new ft,o=e.cy().hasCompoundNodes(),s=0;s<e.length;s++){var l=e[s];n?a.push(l):o&&r(a,i,l)}for(;a.length>0;){var u=a.shift();t(u),i.add(u.id()),o&&r(a,i,u)}return e}function us(e,t,n){if(n.isParent())for(var r=n._private.children,a=0;a<r.length;a++){var i=r[a];t.has(i.id())||e.push(i)}}function cs(e,t,n){if(n.isChild()){var r=n._private.parent;t.has(r.id())||e.push(r)}}function ds(e,t,n){cs(e,t,n),us(e,t,n)}ss.forEachDown=function(e){return ls(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],us)},ss.forEachUp=function(e){return ls(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],cs)},ss.forEachUpAndDown=function(e){return ls(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],ds)},ss.ancestors=ss.parents,(as=is={data:yo.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:yo.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:yo.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:yo.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:yo.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:yo.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}}).attr=as.data,as.removeAttr=as.removeData;var hs,fs,ps=is,vs={};function gs(e){return function(t){var n=this;if(void 0===t&&(t=!0),0!==n.length&&n.isNode()&&!n.removed()){for(var r=0,a=n[0],i=a._private.edges,o=0;o<i.length;o++){var s=i[o];!t&&s.isLoop()||(r+=e(a,s))}return r}}}function ys(e,t){return function(n){for(var r,a=this.nodes(),i=0;i<a.length;i++){var o=a[i][e](n);void 0===o||void 0!==r&&!t(o,r)||(r=o)}return r}}ge(vs,{degree:gs(function(e,t){return t.source().same(t.target())?2:1}),indegree:gs(function(e,t){return t.target().same(e)?1:0}),outdegree:gs(function(e,t){return t.source().same(e)?1:0})}),ge(vs,{minDegree:ys("degree",function(e,t){return e<t}),maxDegree:ys("degree",function(e,t){return e>t}),minIndegree:ys("indegree",function(e,t){return e<t}),maxIndegree:ys("indegree",function(e,t){return e>t}),minOutdegree:ys("outdegree",function(e,t){return e<t}),maxOutdegree:ys("outdegree",function(e,t){return e>t})}),ge(vs,{totalDegree:function(e){for(var t=0,n=this.nodes(),r=0;r<n.length;r++)t+=n[r].degree(e);return t}});var ms=function(e,t,n){for(var r=0;r<e.length;r++){var a=e[r];if(!a.locked()){var i=a._private.position,o={x:null!=t.x?t.x-i.x:0,y:null!=t.y?t.y-i.y:0};!a.isParent()||0===o.x&&0===o.y||a.children().shift(o,n),a.dirtyBoundingBoxCache()}}},bs={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){ms(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};hs=fs={position:yo.data(bs),silentPosition:yo.data(ge({},bs,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){ms(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(K(e))t?this.silentPosition(e):this.position(e);else if(U(e)){var n=e,r=this.cy();r.startBatch();for(var a=0;a<this.length;a++){var i,o=this[a];(i=n(o,a))&&(t?o.silentPosition(i):o.position(i))}r.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,n){var r;if(K(e)?(r={x:G(e.x)?e.x:0,y:G(e.y)?e.y:0},n=t):W(e)&&G(t)&&((r={x:0,y:0})[e]=t),null!=r){var a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var o=this[i];if(!(a.hasCompoundNodes()&&o.isChild()&&o.ancestors().anySame(this))){var s=o.position(),l={x:s.x+r.x,y:s.y+r.y};n?o.silentPosition(l):o.position(l)}}a.endBatch()}return this},silentShift:function(e,t){return K(e)?this.shift(e,!0):W(e)&&G(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var n=this[0],r=this.cy(),a=r.zoom(),i=r.pan(),o=K(e)?e:void 0,s=void 0!==o||void 0!==t&&W(e);if(n&&n.isNode()){if(!s){var l=n.position();return o=Ot(l,a,i),void 0===e?o:o[e]}for(var u=0;u<this.length;u++){var c=this[u];void 0!==t?c.position(e,(t-i[e])/a):void 0!==o&&c.position(Vt(o,a,i))}}else if(!s)return;return this},relativePosition:function(e,t){var n=this[0],r=this.cy(),a=K(e)?e:void 0,i=void 0!==a||void 0!==t&&W(e),o=r.hasCompoundNodes();if(n&&n.isNode()){if(!i){var s=n.position(),l=o?n.parent():null,u=l&&l.length>0,c=u;u&&(l=l[0]);var d=c?l.position():{x:0,y:0};return a={x:s.x-d.x,y:s.y-d.y},void 0===e?a:a[e]}for(var h=0;h<this.length;h++){var f=this[h],p=o?f.parent():null,v=p&&p.length>0,g=v;v&&(p=p[0]);var y=g?p.position():{x:0,y:0};void 0!==t?f.position(e,t+y[e]):void 0!==a&&f.position({x:a.x+y.x,y:a.y+y.y})}}else if(!i)return;return this}},hs.modelPosition=hs.point=hs.position,hs.modelPositions=hs.points=hs.positions,hs.renderedPoint=hs.renderedPosition,hs.relativePoint=hs.relativePosition;var xs,ws,Es=fs;xs=ws={},ws.renderedBoundingBox=function(e){var t=this.boundingBox(e),n=this.cy(),r=n.zoom(),a=n.pan(),i=t.x1*r+a.x,o=t.x2*r+a.x,s=t.y1*r+a.y,l=t.y2*r+a.y;return{x1:i,x2:o,y1:s,y2:l,w:o-i,h:l-s}},ws.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();return t.styleEnabled()&&t.hasCompoundNodes()?(this.forEachUp(function(t){if(t.isParent()){var n=t._private;n.compoundBoundsClean=!1,n.bbCache=null,e||t.emitAndNotify("bounds")}}),this):this},ws.updateCompoundBounds=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function n(e){if(e.isParent()){var t=e._private,n=e.children(),r="include"===e.pstyle("compound-sizing-wrt-labels").value,a={width:{val:e.pstyle("min-width").pfValue,left:e.pstyle("min-width-bias-left"),right:e.pstyle("min-width-bias-right")},height:{val:e.pstyle("min-height").pfValue,top:e.pstyle("min-height-bias-top"),bottom:e.pstyle("min-height-bias-bottom")}},i=n.boundingBox({includeLabels:r,includeOverlays:!1,useCache:!1}),o=t.position;0!==i.w&&0!==i.h||((i={w:e.pstyle("width").pfValue,h:e.pstyle("height").pfValue}).x1=o.x-i.w/2,i.x2=o.x+i.w/2,i.y1=o.y-i.h/2,i.y2=o.y+i.h/2);var s=a.width.left.value;"px"===a.width.left.units&&a.width.val>0&&(s=100*s/a.width.val);var l=a.width.right.value;"px"===a.width.right.units&&a.width.val>0&&(l=100*l/a.width.val);var u=a.height.top.value;"px"===a.height.top.units&&a.height.val>0&&(u=100*u/a.height.val);var c=a.height.bottom.value;"px"===a.height.bottom.units&&a.height.val>0&&(c=100*c/a.height.val);var d=y(a.width.val-i.w,s,l),h=d.biasDiff,f=d.biasComplementDiff,p=y(a.height.val-i.h,u,c),v=p.biasDiff,g=p.biasComplementDiff;t.autoPadding=function(e,t,n,r){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(r){case"width":return e>0?n.pfValue*e:0;case"height":return t>0?n.pfValue*t:0;case"average":return e>0&&t>0?n.pfValue*(e+t)/2:0;case"min":return e>0&&t>0?e>t?n.pfValue*t:n.pfValue*e:0;case"max":return e>0&&t>0?e>t?n.pfValue*e:n.pfValue*t:0;default:return 0}}(i.w,i.h,e.pstyle("padding"),e.pstyle("padding-relative-to").value),t.autoWidth=Math.max(i.w,a.width.val),o.x=(-h+i.x1+i.x2+f)/2,t.autoHeight=Math.max(i.h,a.height.val),o.y=(-v+i.y1+i.y2+g)/2}function y(e,t,n){var r=0,a=0,i=t+n;return e>0&&i>0&&(r=t/i*e,a=n/i*e),{biasDiff:r,biasComplementDiff:a}}}for(var r=0;r<this.length;r++){var a=this[r],i=a._private;i.compoundBoundsClean&&!e||(n(a),t.batching()||(i.compoundBoundsClean=!0))}return this};var ks=function(e){return e===1/0||e===-1/0?0:e},Ts=function(e,t,n,r,a){r-t!==0&&a-n!==0&&null!=t&&null!=n&&null!=r&&null!=a&&(e.x1=t<e.x1?t:e.x1,e.x2=r>e.x2?r:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=a>e.y2?a:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Cs=function(e,t){return null==t?e:Ts(e,t.x1,t.y1,t.x2,t.y2)},Ps=function(e,t,n){return ut(e,t,n)},Ss=function(e,t,n){if(!t.cy().headless()){var r,a,i=t._private,o=i.rstyle,s=o.arrowWidth/2;if("none"!==t.pstyle(n+"-arrow-shape").value){"source"===n?(r=o.srcX,a=o.srcY):"target"===n?(r=o.tgtX,a=o.tgtY):(r=o.midX,a=o.midY);var l=i.arrowBounds=i.arrowBounds||{},u=l[n]=l[n]||{};u.x1=r-s,u.y1=a-s,u.x2=r+s,u.y2=a+s,u.w=u.x2-u.x1,u.h=u.y2-u.y1,Jt(u,1),Ts(e,u.x1,u.y1,u.x2,u.y2)}}},Bs=function(e,t,n){if(!t.cy().headless()){var r;r=n?n+"-":"";var a=t._private,i=a.rstyle;if(t.pstyle(r+"label").strValue){var o,s,l,u,c=t.pstyle("text-halign"),d=t.pstyle("text-valign"),h=Ps(i,"labelWidth",n),f=Ps(i,"labelHeight",n),p=Ps(i,"labelX",n),v=Ps(i,"labelY",n),g=t.pstyle(r+"text-margin-x").pfValue,y=t.pstyle(r+"text-margin-y").pfValue,m=t.isEdge(),b=t.pstyle(r+"text-rotation"),x=t.pstyle("text-outline-width").pfValue,w=t.pstyle("text-border-width").pfValue/2,E=t.pstyle("text-background-padding").pfValue,k=f,T=h,C=T/2,P=k/2;if(m)o=p-C,s=p+C,l=v-P,u=v+P;else{switch(c.value){case"left":o=p-T,s=p;break;case"center":o=p-C,s=p+C;break;case"right":o=p,s=p+T}switch(d.value){case"top":l=v-k,u=v;break;case"center":l=v-P,u=v+P;break;case"bottom":l=v,u=v+k}}var S=g-Math.max(x,w)-E-2,B=g+Math.max(x,w)+E+2,D=y-Math.max(x,w)-E-2,_=y+Math.max(x,w)+E+2;o+=S,s+=B,l+=D,u+=_;var A=n||"main",M=a.labelBounds,R=M[A]=M[A]||{};R.x1=o,R.y1=l,R.x2=s,R.y2=u,R.w=s-o,R.h=u-l,R.leftPad=S,R.rightPad=B,R.topPad=D,R.botPad=_;var I=m&&"autorotate"===b.strValue,N=null!=b.pfValue&&0!==b.pfValue;if(I||N){var L=I?Ps(a.rstyle,"labelAngle",n):b.pfValue,z=Math.cos(L),O=Math.sin(L),V=(o+s)/2,F=(l+u)/2;if(!m){switch(c.value){case"left":V=s;break;case"right":V=o}switch(d.value){case"top":F=u;break;case"bottom":F=l}}var X=function(e,t){return{x:(e-=V)*z-(t-=F)*O+V,y:e*O+t*z+F}},j=X(o,l),Y=X(o,u),q=X(s,l),W=X(s,u);o=Math.min(j.x,Y.x,q.x,W.x),s=Math.max(j.x,Y.x,q.x,W.x),l=Math.min(j.y,Y.y,q.y,W.y),u=Math.max(j.y,Y.y,q.y,W.y)}var U=A+"Rot",H=M[U]=M[U]||{};H.x1=o,H.y1=l,H.x2=s,H.y2=u,H.w=s-o,H.h=u-l,Ts(e,o,l,s,u),Ts(a.labelBounds.all,o,l,s,u)}return e}},Ds=function(e,t){if(!t.cy().headless()){var n=t.pstyle("outline-opacity").value,r=t.pstyle("outline-width").value+t.pstyle("outline-offset").value;_s(e,t,n,r,"outside",r/2)}},_s=function(e,t,n,r,a,i){if(!(0===n||r<=0||"inside"===a)){var o=t.cy(),s=t.pstyle("shape").value,l=o.renderer().nodeShapes[s],u=t.position(),c=u.x,d=u.y,h=t.width(),f=t.height();if(l.hasMiterBounds){"center"===a&&(r/=2);var p=l.miterBounds(c,d,h,f,r);Cs(e,p)}else null!=i&&i>0&&en(e,[i,i,i,i])}},As=function(e,t){var n,r,a,i,o,s,l,u=e._private.cy,c=u.styleEnabled(),d=u.headless(),h=Zt(),f=e._private,p=e.isNode(),v=e.isEdge(),g=f.rstyle,y=p&&c?e.pstyle("bounds-expansion").pfValue:[0],m=function(e){return"none"!==e.pstyle("display").value},b=!c||m(e)&&(!v||m(e.source())&&m(e.target()));if(b){var x=0;c&&t.includeOverlays&&0!==e.pstyle("overlay-opacity").value&&(x=e.pstyle("overlay-padding").value);var w=0;c&&t.includeUnderlays&&0!==e.pstyle("underlay-opacity").value&&(w=e.pstyle("underlay-padding").value);var E=Math.max(x,w),k=0;if(c&&(k=e.pstyle("width").pfValue/2),p&&t.includeNodes){var T=e.position();o=T.x,s=T.y;var C=e.outerWidth()/2,P=e.outerHeight()/2;Ts(h,n=o-C,a=s-P,r=o+C,i=s+P),c&&Ds(h,e),c&&t.includeOutlines&&!d&&Ds(h,e),c&&function(e,t){if(!t.cy().headless()){var n=t.pstyle("border-opacity").value,r=t.pstyle("border-width").pfValue,a=t.pstyle("border-position").value;_s(e,t,n,r,a)}}(h,e)}else if(v&&t.includeEdges)if(c&&!d){var S=e.pstyle("curve-style").strValue;if(n=Math.min(g.srcX,g.midX,g.tgtX),r=Math.max(g.srcX,g.midX,g.tgtX),a=Math.min(g.srcY,g.midY,g.tgtY),i=Math.max(g.srcY,g.midY,g.tgtY),Ts(h,n-=k,a-=k,r+=k,i+=k),"haystack"===S){var B=g.haystackPts;if(B&&2===B.length){if(n=B[0].x,a=B[0].y,n>(r=B[1].x)){var D=n;n=r,r=D}if(a>(i=B[1].y)){var _=a;a=i,i=_}Ts(h,n-k,a-k,r+k,i+k)}}else if("bezier"===S||"unbundled-bezier"===S||ue(S,"segments")||ue(S,"taxi")){var A;switch(S){case"bezier":case"unbundled-bezier":A=g.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":A=g.linePts}if(null!=A)for(var M=0;M<A.length;M++){var R=A[M];n=R.x-k,r=R.x+k,a=R.y-k,i=R.y+k,Ts(h,n,a,r,i)}}}else{var I=e.source().position(),N=e.target().position();if((n=I.x)>(r=N.x)){var L=n;n=r,r=L}if((a=I.y)>(i=N.y)){var z=a;a=i,i=z}Ts(h,n-=k,a-=k,r+=k,i+=k)}if(c&&t.includeEdges&&v&&(Ss(h,e,"mid-source"),Ss(h,e,"mid-target"),Ss(h,e,"source"),Ss(h,e,"target")),c)if("yes"===e.pstyle("ghost").value){var O=e.pstyle("ghost-offset-x").pfValue,V=e.pstyle("ghost-offset-y").pfValue;Ts(h,h.x1+O,h.y1+V,h.x2+O,h.y2+V)}var F=f.bodyBounds=f.bodyBounds||{};tn(F,h),en(F,y),Jt(F,1),c&&(n=h.x1,r=h.x2,a=h.y1,i=h.y2,Ts(h,n-E,a-E,r+E,i+E));var X=f.overlayBounds=f.overlayBounds||{};tn(X,h),en(X,y),Jt(X,1);var j=f.labelBounds=f.labelBounds||{};null!=j.all?((l=j.all).x1=1/0,l.y1=1/0,l.x2=-1/0,l.y2=-1/0,l.w=0,l.h=0):j.all=Zt(),c&&t.includeLabels&&(t.includeMainLabels&&Bs(h,e,null),v&&(t.includeSourceLabels&&Bs(h,e,"source"),t.includeTargetLabels&&Bs(h,e,"target")))}return h.x1=ks(h.x1),h.y1=ks(h.y1),h.x2=ks(h.x2),h.y2=ks(h.y2),h.w=ks(h.x2-h.x1),h.h=ks(h.y2-h.y1),h.w>0&&h.h>0&&b&&(en(h,y),Jt(h,1)),h},Ms=function(e){var t=0,n=function(e){return(e?1:0)<<t++},r=0;return r+=n(e.incudeNodes),r+=n(e.includeEdges),r+=n(e.includeLabels),r+=n(e.includeMainLabels),r+=n(e.includeSourceLabels),r+=n(e.includeTargetLabels),r+=n(e.includeOverlays),r+=n(e.includeOutlines)},Rs=function(e){var t=function(e){return Math.round(e)};if(e.isEdge()){var n=e.source().position(),r=e.target().position();return je([t(n.x),t(n.y),t(r.x),t(r.y)])}var a=e.position();return je([t(a.x),t(a.y)])},Is=function(e,t){var n,r=e._private,a=e.isEdge(),i=(null==t?Ls:Ms(t))===Ls;if(null==r.bbCache?(n=As(e,Ns),r.bbCache=n,r.bbCachePosKey=Rs(e)):n=r.bbCache,!i){var o=e.isNode();n=Zt(),(t.includeNodes&&o||t.includeEdges&&!o)&&(t.includeOverlays?Cs(n,r.overlayBounds):Cs(n,r.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!a||t.includeSourceLabels&&t.includeTargetLabels)?Cs(n,r.labelBounds.all):(t.includeMainLabels&&Cs(n,r.labelBounds.mainRot),t.includeSourceLabels&&Cs(n,r.labelBounds.sourceRot),t.includeTargetLabels&&Cs(n,r.labelBounds.targetRot))),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},Ns={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},Ls=Ms(Ns),zs=ot(Ns);ws.boundingBox=function(e){var t,n=void 0===e||void 0===e.useCache||!0===e.useCache,r=ae(function(e){var t=e._private;return null==t.bbCache||t.styleDirty||t.bbCachePosKey!==Rs(e)},function(e){return e.id()});if(n&&1===this.length&&!r(this[0]))e=void 0===e?Ns:zs(e),t=Is(this[0],e);else{t=Zt();var a=zs(e=e||Ns),i=this,o=i.cy().styleEnabled();this.edges().forEach(r),this.nodes().forEach(r),o&&this.recalculateRenderedStyle(n),this.updateCompoundBounds(!n);for(var s=0;s<i.length;s++){var l=i[s];r(l)&&l.dirtyBoundingBoxCache(),Cs(t,Is(l,a))}}return t.x1=ks(t.x1),t.y1=ks(t.y1),t.x2=ks(t.x2),t.y2=ks(t.y2),t.w=ks(t.x2-t.x1),t.h=ks(t.y2-t.y1),t},ws.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},ws.boundingBoxAt=function(e){var t=this.nodes(),n=this.cy(),r=n.hasCompoundNodes(),a=n.collection();if(r&&(a=t.filter(function(e){return e.isParent()}),t=t.not(a)),K(e)){var i=e;e=function(){return i}}n.startBatch(),t.forEach(function(t,n){return t._private.bbAtOldPos=e(t,n)}).silentPositions(e),r&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var o=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}}(this.boundingBox({useCache:!1}));return t.silentPositions(function(e){return e._private.bbAtOldPos}),r&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),n.endBatch(),o},xs.boundingbox=xs.bb=xs.boundingBox,xs.renderedBoundingbox=xs.renderedBoundingBox;var Os,Vs,Fs=ws;Os=Vs={};var Xs=function(e){e.uppercaseName=le(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=le(e.outerName),Os[e.name]=function(){var t=this[0],n=t._private,r=n.cy._private.styleEnabled;if(t){if(r){if(t.isParent())return t.updateCompoundBounds(),n[e.autoName]||0;var a=t.pstyle(e.name);return"label"===a.strValue?(t.recalculateRenderedStyle(),n.rstyle[e.labelName]||0):a.pfValue}return 1}},Os["outer"+e.uppercaseName]=function(){var t=this[0],n=t._private.cy._private.styleEnabled;if(t){if(n){var r=t[e.name](),a=t.pstyle("border-position").value;return r+("center"===a?t.pstyle("border-width").pfValue:"outside"===a?2*t.pstyle("border-width").pfValue:0)+2*t.padding()}return 1}},Os["rendered"+e.uppercaseName]=function(){var t=this[0];if(t)return t[e.name]()*this.cy().zoom()},Os["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t)return t[e.outerName]()*this.cy().zoom()}};Xs({name:"width"}),Xs({name:"height"}),Vs.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),void 0!==t.autoPadding?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},Vs.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()},Vs.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var js=Vs,Ys={controlPoints:{get:function(e){return e.renderer().getControlPoints(e)},mult:!0},segmentPoints:{get:function(e){return e.renderer().getSegmentPoints(e)},mult:!0},sourceEndpoint:{get:function(e){return e.renderer().getSourceEndpoint(e)}},targetEndpoint:{get:function(e){return e.renderer().getTargetEndpoint(e)}},midpoint:{get:function(e){return e.renderer().getEdgeMidpoint(e)}}},qs=Object.keys(Ys).reduce(function(e,t){var n=Ys[t],r=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)}(t);return e[t]=function(){return function(e,t){if(e.isEdge()&&e.takesUpSpace())return t(e)}(this,n.get)},n.mult?e[r]=function(){return function(e,t){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),r=n.pan(),a=n.zoom();return t(e).map(function(e){return Ot(e,a,r)})}}(this,n.get)}:e[r]=function(){return function(e,t){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return Ot(t(e),n.zoom(),n.pan())}}(this,n.get)},e},{}),Ws=ge({},Es,Fs,js,qs),Us=function(e,t){this.recycle(e,t)};function Hs(){return!1}function Ks(){return!0}Us.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Hs,null!=e&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Ks:Hs):null!=e&&e.type?t=e:this.type=e,null!=t&&(this.originalEvent=t.originalEvent,this.type=null!=t.type?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,r=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:n.x*r+a.x,y:n.y*r+a.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Ks;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Ks;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Ks,this.stopPropagation()},isDefaultPrevented:Hs,isPropagationStopped:Hs,isImmediatePropagationStopped:Hs};var Gs=/^([^.]+)(\.(?:[^.]+))?$/,Zs={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},$s=Object.keys(Zs),Qs={};function Js(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qs,t=arguments.length>1?arguments[1]:void 0,n=0;n<$s.length;n++){var r=$s[n];this[r]=e[r]||Zs[r]}this.context=t||this.context,this.listeners=[],this.emitting=0}var el=Js.prototype,tl=function(e,t,n,r,a,i,o){U(r)&&(a=r,r=null),o&&(i=null==i?o:ge({},i,o));for(var s=H(n)?n:n.split(/\s+/),l=0;l<s.length;l++){var u=s[l];if(!ne(u)){var c=u.match(Gs);if(c)if(!1===t(e,u,c[1],c[2]?c[2]:null,r,a,i))break}}},nl=function(e,t){return e.addEventFields(e.context,t),new Us(t.type,t)},rl=function(e,t,n){if("event"!==q(n))if(K(n))t(e,nl(e,n));else for(var r=H(n)?n:n.split(/\s+/),a=0;a<r.length;a++){var i=r[a];if(!ne(i)){var o=i.match(Gs);if(o){var s=o[1],l=o[2]?o[2]:null;t(e,nl(e,{type:s,namespace:l,target:e.context}))}}}else t(e,n)};el.on=el.addListener=function(e,t,n,r,a){return tl(this,function(e,t,n,r,a,i,o){U(i)&&e.listeners.push({event:t,callback:i,type:n,namespace:r,qualifier:a,conf:o})},e,t,n,r,a),this},el.one=function(e,t,n,r){return this.on(e,t,n,r,{one:!0})},el.removeListener=el.off=function(e,t,n,r){var a=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var i=this.listeners,o=function(o){var s=i[o];tl(a,function(t,n,r,a,l,u){if((s.type===r||"*"===e)&&(!a&&".*"!==s.namespace||s.namespace===a)&&(!l||t.qualifierCompare(s.qualifier,l))&&(!u||s.callback===u))return i.splice(o,1),!1},e,t,n,r)},s=i.length-1;s>=0;s--)o(s);return this},el.removeAllListeners=function(){return this.removeListener("*")},el.emit=el.trigger=function(e,t,n){var r=this.listeners,a=r.length;return this.emitting++,H(t)||(t=[t]),rl(this,function(e,i){null!=n&&(r=[{event:i.event,type:i.type,namespace:i.namespace,callback:n}],a=r.length);for(var o=function(){var n=r[s];if(n.type===i.type&&(!n.namespace||n.namespace===i.namespace||".*"===n.namespace)&&e.eventMatches(e.context,n,i)){var a=[i];null!=t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}}(a,t),e.beforeEmit(e.context,n,i),n.conf&&n.conf.one&&(e.listeners=e.listeners.filter(function(e){return e!==n}));var o=e.callbackContext(e.context,n,i),l=n.callback.apply(o,a);e.afterEmit(e.context,n,i),!1===l&&(i.stopPropagation(),i.preventDefault())}},s=0;s<a;s++)o();e.bubble(e.context)&&!i.isPropagationStopped()&&e.parent(e.context).emit(i,t)},e),this.emitting--,this};var al={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&Q(n.target)&&r.matches(n.target)},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},il=function(e){return W(e)?new ts(e):e},ol={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new Js(al,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var r=il(t),a=0;a<this.length;a++){this[a].emitter().on(e,r,n)}return this},removeListener:function(e,t,n){for(var r=il(t),a=0;a<this.length;a++){this[a].emitter().removeListener(e,r,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){this[e].emitter().removeAllListeners()}return this},one:function(e,t,n){for(var r=il(t),a=0;a<this.length;a++){this[a].emitter().one(e,r,n)}return this},once:function(e,t,n){for(var r=il(t),a=0;a<this.length;a++){this[a].emitter().on(e,r,n,{once:!0,onceCollection:this})}},emit:function(e,t){for(var n=0;n<this.length;n++){this[n].emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(0!==this.length)return this.cy().notify(e,this),this.emit(e,t),this}};yo.eventAliasesOn(ol);var sl={nodes:function(e){return this.filter(function(e){return e.isNode()}).filter(e)},edges:function(e){return this.filter(function(e){return e.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),n=0;n<this.length;n++){var r=this[n];r.isNode()?e.push(r):t.push(r)}return{nodes:e,edges:t}},filter:function(e,t){if(void 0===e)return this;if(W(e)||$(e))return new ts(e).filter(this);if(U(e)){for(var n=this.spawn(),r=this,a=0;a<r.length;a++){var i=r[a];(t?e.apply(t,[i,a,r]):e(i,a,r))&&n.push(i)}return n}return this.spawn()},not:function(e){if(e){W(e)&&(e=this.filter(e));for(var t=this.spawn(),n=0;n<this.length;n++){var r=this[n];e.has(r)||t.push(r)}return t}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(e){if(W(e)){var t=e;return this.filter(t)}for(var n=this.spawn(),r=e,a=this.length<e.length,i=a?this:r,o=a?r:this,s=0;s<i.length;s++){var l=i[s];o.has(l)&&n.push(l)}return n},xor:function(e){var t=this._private.cy;W(e)&&(e=t.$(e));var n=this.spawn(),r=e,a=function(e,t){for(var r=0;r<e.length;r++){var a=e[r],i=a._private.data.id;t.hasElementWithId(i)||n.push(a)}};return a(this,r),a(r,this),n},diff:function(e){var t=this._private.cy;W(e)&&(e=t.$(e));var n=this.spawn(),r=this.spawn(),a=this.spawn(),i=e,o=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r],o=i._private.data.id;t.hasElementWithId(o)?a.merge(i):n.push(i)}};return o(this,i,n),o(i,this,r),{left:n,right:r,both:a}},add:function(e){var t=this._private.cy;if(!e)return this;if(W(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=this.spawnSelf(),a=0;a<e.length;a++){var i=e[a],o=!this.has(i);o&&r.push(i)}return r},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&W(e)){var r=e;e=n.mutableElements().filter(r)}for(var a=t.map,i=0;i<e.length;i++){var o=e[i],s=o._private.data.id;if(!a.has(s)){var l=this.length++;this[l]=o,a.set(s,{ele:o,index:l})}}return this},unmergeAt:function(e){var t=this[e].id(),n=this._private.map;this[e]=void 0,n.delete(t);var r=e===this.length-1;if(this.length>1&&!r){var a=this.length-1,i=this[a],o=i._private.data.id;this[a]=void 0,this[e]=i,n.set(o,{ele:i,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,r=t.map.get(n);if(!r)return this;var a=r.index;return this.unmergeAt(a),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&W(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=0;r<e.length;r++)this.unmergeOne(e[r]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--){e(this[t])&&this.unmergeAt(t)}return this},map:function(e,t){for(var n=[],r=this,a=0;a<r.length;a++){var i=r[a],o=t?e.apply(t,[i,a,r]):e(i,a,r);n.push(o)}return n},reduce:function(e,t){for(var n=t,r=this,a=0;a<r.length;a++)n=e(n,r[a],a,r);return n},max:function(e,t){for(var n,r=-1/0,a=this,i=0;i<a.length;i++){var o=a[i],s=t?e.apply(t,[o,i,a]):e(o,i,a);s>r&&(r=s,n=o)}return{value:r,ele:n}},min:function(e,t){for(var n,r=1/0,a=this,i=0;i<a.length;i++){var o=a[i],s=t?e.apply(t,[o,i,a]):e(o,i,a);s<r&&(r=s,n=o)}return{value:r,ele:n}}},ll=sl;ll.u=ll["|"]=ll["+"]=ll.union=ll.or=ll.add,ll["\\"]=ll["!"]=ll["-"]=ll.difference=ll.relativeComplement=ll.subtract=ll.not,ll.n=ll["&"]=ll["."]=ll.and=ll.intersection=ll.intersect,ll["^"]=ll["(+)"]=ll["(-)"]=ll.symmetricDifference=ll.symdiff=ll.xor,ll.fnFilter=ll.filterFn=ll.stdFilter=ll.filter,ll.complement=ll.abscomp=ll.absoluteComplement;var ul=function(e,t){var n=e.cy().hasCompoundNodes();function r(e){var t=e.pstyle("z-compound-depth");return"auto"===t.value?n?e.zDepth():0:"bottom"===t.value?-1:"top"===t.value?Ke:0}var a=r(e)-r(t);if(0!==a)return a;function i(e){return"auto"===e.pstyle("z-index-compare").value&&e.isNode()?1:0}var o=i(e)-i(t);if(0!==o)return o;var s=e.pstyle("z-index").value-t.pstyle("z-index").value;return 0!==s?s:e.poolIndex()-t.poolIndex()},cl={forEach:function(e,t){if(U(e))for(var n=this.length,r=0;r<n;r++){var a=this[r];if(!1===(t?e.apply(t,[a,r,this]):e(a,r,this)))break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],r=this.length;null==t&&(t=r),null==e&&(e=0),e<0&&(e=r+e),t<0&&(t=r+t);for(var a=e;a>=0&&a<t&&a<r;a++)n.push(this[a]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!U(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(ul)},zDepth:function(){var e=this[0];if(e){var t=e._private;if("nodes"===t.group){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:Ke-1}var r=t.source,a=t.target,i=r.zDepth(),o=a.zDepth();return Math.max(i,o,0)}}};cl.each=cl.forEach;var dl;dl="undefined",("undefined"==typeof Symbol?"undefined":l(Symbol))!=dl&&l(Symbol.iterator)!=dl&&(cl[Symbol.iterator]=function(){var e=this,t={value:void 0,done:!1},n=0,r=this.length;return a({next:function(){return n<r?t.value=e[n++]:(t.value=void 0,t.done=!0),t}},Symbol.iterator,function(){return this})});var hl=ot({nodeDimensionsIncludeLabels:!1}),fl={layoutDimensions:function(e){var t;if(e=hl(e),this.takesUpSpace())if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();t={w:n.w,h:n.h}}else t={w:this.outerWidth(),h:this.outerHeight()};else t={w:0,h:0};return 0!==t.w&&0!==t.h||(t.w=t.h=1),t},layoutPositions:function(e,t,n){var r=this.nodes().filter(function(e){return!e.isParent()}),a=this.cy(),i=t.eles,o=function(e){return e.id()},s=ae(n,o);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=t.spacingFactor&&1!==t.spacingFactor,u=function(){if(!l)return null;for(var e=Zt(),t=0;t<r.length;t++){var n=r[t],a=s(n,t);Qt(e,a.x,a.y)}return e}(),c=ae(function(e,n){var r=s(e,n);l&&(r=function(e,t,n){var r=t.x1+t.w/2,a=t.y1+t.h/2;return{x:r+(n.x-r)*e,y:a+(n.y-a)*e}}(Math.abs(t.spacingFactor),u,r));return null!=t.transform&&(r=t.transform(e,r)),r},o);if(t.animate){for(var d=0;d<r.length;d++){var h=r[d],f=c(h,d);if(null==t.animateFilter||t.animateFilter(h,d)){var p=h.animation({position:f,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(p)}else h.position(f)}if(t.fit){var v=a.animation({fit:{boundingBox:i.boundingBoxAt(c),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(v)}else if(void 0!==t.zoom&&void 0!==t.pan){var g=a.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(g)}e.animations.forEach(function(e){return e.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),qr.all(e.animations.map(function(e){return e.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else r.positions(c),t.fit&&a.fit(t.eles,t.padding),null!=t.zoom&&a.zoom(t.zoom),t.pan&&a.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){return this.cy().makeLayout(ge({},e,{eles:this}))}};function pl(e,t,n){var r,a=n._private,i=a.styleCache=a.styleCache||[];return null!=(r=i[e])?r:r=i[e]=t(n)}function vl(e,t){return e=Ye(e),function(n){return pl(e,t,n)}}function gl(e,t){e=Ye(e);var n=function(e){return t.call(e)};return function(){var t=this[0];if(t)return pl(e,n,t)}}fl.createLayout=fl.makeLayout=fl.layout;var yl={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),r=t.styleEnabled();return n&&r&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e,t=this.cy(),n=function(e){return e._private.styleCache=null};t.hasCompoundNodes()?((e=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(e.connectedEdges()),e.forEach(n)):this.forEach(function(e){n(e),e.connectedEdges().forEach(n)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching())return t._private.batchStyleEles.merge(this),this;var n=this;e=!(!e&&void 0!==e),t.hasCompoundNodes()&&(n=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var r=n;return e?r.emitAndNotify("style"):r.emit("style"),n.forEach(function(e){return e._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var n=this[t];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this[0],r=n.cy();if(r.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,r.style().apply(n));var a=n._private.style[e];return null!=a?a:t?r.style().getDefaultProperty(e):null}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t.pstyle(e).units:void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];return n?t.style().getRenderedStyle(n,e):void 0},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var r=!1,a=n.style();if(K(e)){var i=e;a.applyBypass(this,i,r),this.emitAndNotify("style")}else if(W(e)){if(void 0===t){var o=this[0];return o?a.getStylePropertyValue(o,e):void 0}a.applyBypass(this,e,t,r),this.emitAndNotify("style")}else if(void 0===e){var s=this[0];return s?a.getRawStyle(s):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=!1,r=t.style(),a=this;if(void 0===e)for(var i=0;i<a.length;i++){var o=a[i];r.removeAllBypasses(o,n)}else{e=e.split(/\s+/);for(var s=0;s<a.length;s++){var l=a[s];r.removeBypasses(l,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var r=n._private,a=n.pstyle("opacity").value;if(!t)return a;var i=r.data.parent?n.parents():null;if(i)for(var o=0;o<i.length;o++){a*=i[o].pstyle("opacity").value}return a}},transparent:function(){if(!this.cy().styleEnabled())return!1;var e=this[0],t=e.cy().hasCompoundNodes();return e?t?0===e.effectiveOpacity():0===e.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function ml(e,t){var n=e._private.data.parent?e.parents():null;if(n)for(var r=0;r<n.length;r++){if(!t(n[r]))return!1}return!0}function bl(e){var t=e.ok,n=e.edgeOkViaNode||e.ok,r=e.parentOk||e.ok;return function(){var e=this.cy();if(!e.styleEnabled())return!0;var a=this[0],i=e.hasCompoundNodes();if(a){var o=a._private;if(!t(a))return!1;if(a.isNode())return!i||ml(a,r);var s=o.source,l=o.target;return n(s)&&(!i||ml(s,n))&&(s===l||n(l)&&(!i||ml(l,n)))}}}var xl=vl("eleTakesUpSpace",function(e){return"element"===e.pstyle("display").value&&0!==e.width()&&(!e.isNode()||0!==e.height())});yl.takesUpSpace=gl("takesUpSpace",bl({ok:xl}));var wl=vl("eleInteractive",function(e){return"yes"===e.pstyle("events").value&&"visible"===e.pstyle("visibility").value&&xl(e)}),El=vl("parentInteractive",function(e){return"visible"===e.pstyle("visibility").value&&xl(e)});yl.interactive=gl("interactive",bl({ok:wl,parentOk:El,edgeOkViaNode:xl})),yl.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var kl=vl("eleVisible",function(e){return"visible"===e.pstyle("visibility").value&&0!==e.pstyle("opacity").pfValue&&xl(e)}),Tl=xl;yl.visible=gl("visible",bl({ok:kl,edgeOkViaNode:Tl})),yl.hidden=function(){var e=this[0];if(e)return!e.visible()},yl.isBundledBezier=gl("isBundledBezier",function(){return!!this.cy().styleEnabled()&&(!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace())}),yl.bypass=yl.css=yl.style,yl.renderedCss=yl.renderedStyle,yl.removeBypass=yl.removeCss=yl.removeStyle,yl.pstyle=yl.parsedStyle;var Cl={};function Pl(e){return function(){var t=arguments,n=[];if(2===t.length){var r=t[0],a=t[1];this.on(e.event,r,a)}else if(1===t.length&&U(t[0])){var i=t[0];this.on(e.event,i)}else if(0===t.length||1===t.length&&H(t[0])){for(var o=1===t.length?t[0]:null,s=0;s<this.length;s++){var l=this[s],u=!e.ableField||l._private[e.ableField],c=l._private[e.field]!=e.value;if(e.overrideAble){var d=e.overrideAble(l);if(void 0!==d&&(u=d,!d))return this}u&&(l._private[e.field]=e.value,c&&n.push(l))}var h=this.spawn(n);h.updateStyle(),h.emit(e.event),o&&h.emit(o)}return this}}function Sl(e){Cl[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var n=e.overrideField(t);if(void 0!==n)return n}return t._private[e.field]}},Cl[e.on]=Pl({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),Cl[e.off]=Pl({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}Sl({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),Sl({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&!e.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Sl({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Sl({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Cl.deselect=Cl.unselect,Cl.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},Sl({field:"active",on:"activate",off:"unactivate"}),Sl({field:"pannable",on:"panify",off:"unpanify"}),Cl.inactive=function(){var e=this[0];if(e)return!e._private.active};var Bl={},Dl=function(e){return function(t){for(var n=[],r=0;r<this.length;r++){var a=this[r];if(a.isNode()){for(var i=!1,o=a.connectedEdges(),s=0;s<o.length;s++){var l=o[s],u=l.source(),c=l.target();if(e.noIncomingEdges&&c===a&&u!==a||e.noOutgoingEdges&&u===a&&c!==a){i=!0;break}}i||n.push(a)}}return this.spawn(n,!0).filter(t)}},_l=function(e){return function(t){for(var n=[],r=0;r<this.length;r++){var a=this[r];if(a.isNode())for(var i=a.connectedEdges(),o=0;o<i.length;o++){var s=i[o],l=s.source(),u=s.target();e.outgoing&&l===a?(n.push(s),n.push(u)):e.incoming&&u===a&&(n.push(s),n.push(l))}}return this.spawn(n,!0).filter(t)}},Al=function(e){return function(t){for(var n=this,r=[],a={};;){var i=e.outgoing?n.outgoers():n.incomers();if(0===i.length)break;for(var o=!1,s=0;s<i.length;s++){var l=i[s],u=l.id();a[u]||(a[u]=!0,r.push(l),o=!0)}if(!o)break;n=i}return this.spawn(r,!0).filter(t)}};function Ml(e){return function(t){for(var n=[],r=0;r<this.length;r++){var a=this[r]._private[e.attr];a&&n.push(a)}return this.spawn(n,!0).filter(t)}}function Rl(e){return function(t){var n=[],r=this._private.cy,a=e||{};W(t)&&(t=r.$(t));for(var i=0;i<t.length;i++)for(var o=t[i]._private.edges,s=0;s<o.length;s++){var l=o[s],u=l._private.data,c=this.hasElementWithId(u.source)&&t.hasElementWithId(u.target),d=t.hasElementWithId(u.source)&&this.hasElementWithId(u.target);if(c||d){if(a.thisIsSrc||a.thisIsTgt){if(a.thisIsSrc&&!c)continue;if(a.thisIsTgt&&!d)continue}n.push(l)}}return this.spawn(n,!0)}}function Il(e){return e=ge({},{codirected:!1},e),function(t){for(var n=[],r=this.edges(),a=e,i=0;i<r.length;i++)for(var o=r[i]._private,s=o.source,l=s._private.data.id,u=o.data.target,c=s._private.edges,d=0;d<c.length;d++){var h=c[d],f=h._private.data,p=f.target,v=f.source,g=p===u&&v===l,y=l===p&&u===v;(a.codirected&&g||!a.codirected&&(g||y))&&n.push(h)}return this.spawn(n,!0).filter(t)}}Bl.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},ge(Bl,{roots:Dl({noIncomingEdges:!0}),leaves:Dl({noOutgoingEdges:!0}),outgoers:os(_l({outgoing:!0}),"outgoers"),successors:Al({outgoing:!0}),incomers:os(_l({incoming:!0}),"incomers"),predecessors:Al({})}),ge(Bl,{neighborhood:os(function(e){for(var t=[],n=this.nodes(),r=0;r<n.length;r++)for(var a=n[r],i=a.connectedEdges(),o=0;o<i.length;o++){var s=i[o],l=s.source(),u=s.target(),c=a===l?u:l;c.length>0&&t.push(c[0]),t.push(s[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),Bl.neighbourhood=Bl.neighborhood,Bl.closedNeighbourhood=Bl.closedNeighborhood,Bl.openNeighbourhood=Bl.openNeighborhood,ge(Bl,{source:os(function(e){var t,n=this[0];return n&&(t=n._private.source||n.cy().collection()),t&&e?t.filter(e):t},"source"),target:os(function(e){var t,n=this[0];return n&&(t=n._private.target||n.cy().collection()),t&&e?t.filter(e):t},"target"),sources:Ml({attr:"source"}),targets:Ml({attr:"target"})}),ge(Bl,{edgesWith:os(Rl(),"edgesWith"),edgesTo:os(Rl({thisIsSrc:!0}),"edgesTo")}),ge(Bl,{connectedEdges:os(function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode())for(var a=r._private.edges,i=0;i<a.length;i++){var o=a[i];t.push(o)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:os(function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];r.isEdge()&&(t.push(r.source()[0]),t.push(r.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:os(Il(),"parallelEdges"),codirectedEdges:os(Il({codirected:!0}),"codirectedEdges")}),ge(Bl,{components:function(e){var t=this,n=t.cy(),r=n.collection(),a=null==e?t.nodes():e.nodes(),i=[];null!=e&&a.empty()&&(a=e.sources());var o=function(e,t){r.merge(e),a.unmerge(e),t.merge(e)};if(a.empty())return t.spawn();var s=function(){var e=n.collection();i.push(e);var r=a[0];o(r,e),t.bfs({directed:!1,roots:r,visit:function(t){return o(t,e)}}),e.forEach(function(n){n.connectedEdges().forEach(function(n){t.has(n)&&e.has(n.source())&&e.has(n.target())&&e.merge(n)})})};do{s()}while(a.length>0);return i},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}}),Bl.componentsOf=Bl.components;var Nl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==e){var a=new dt,i=!1;if(t){if(t.length>0&&K(t[0])&&!Q(t[0])){i=!0;for(var o=[],s=new ft,l=0,u=t.length;l<u;l++){var c=t[l];null==c.data&&(c.data={});var d=c.data;if(null==d.id)d.id=rt();else if(e.hasElementWithId(d.id)||s.has(d.id))continue;var h=new pt(e,c,!1);o.push(h),s.add(d.id)}t=o}}else t=[];this.length=0;for(var f=0,p=t.length;f<p;f++){var v=t[f][0];if(null!=v){var g=v._private.data.id;n&&a.has(g)||(n&&a.set(g,{index:this.length,ele:v}),this[this.length]=v,this.length++)}}this._private={eles:this,cy:e,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(e){this.lazyMap=e},rebuildMap:function(){for(var e=this.lazyMap=new dt,t=this.eles,n=0;n<t.length;n++){var r=t[n];e.set(r.id(),{index:n,ele:r})}}},n&&(this._private.map=a),i&&!r&&this.restore()}else Je("A collection must have a reference to the core")},Ll=pt.prototype=Nl.prototype=Object.create(Array.prototype);Ll.instanceString=function(){return"collection"},Ll.spawn=function(e,t){return new Nl(this.cy(),e,t)},Ll.spawnSelf=function(){return this.spawn(this)},Ll.cy=function(){return this._private.cy},Ll.renderer=function(){return this._private.cy.renderer()},Ll.element=function(){return this[0]},Ll.collection=function(){return J(this)?this:new Nl(this._private.cy,[this])},Ll.unique=function(){return new Nl(this._private.cy,this,!0)},Ll.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)},Ll.getElementById=function(e){e=""+e;var t=this._private.cy,n=this._private.map.get(e);return n?n.ele:new Nl(t)},Ll.$id=Ll.getElementById,Ll.poolIndex=function(){var e=this._private.cy._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index},Ll.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index},Ll.indexOfId=function(e){return e=""+e,this._private.map.get(e).index},Ll.json=function(e){var t=this.element(),n=this.cy();if(null==t&&e)return this;if(null!=t){var r=t._private;if(K(e)){if(n.startBatch(),e.data){t.data(e.data);var a=r.data;if(t.isEdge()){var i=!1,o={},s=e.data.source,l=e.data.target;null!=s&&s!=a.source&&(o.source=""+s,i=!0),null!=l&&l!=a.target&&(o.target=""+l,i=!0),i&&(t=t.move(o))}else{var u="parent"in e.data,c=e.data.parent;!u||null==c&&null==a.parent||c==a.parent||(void 0===c&&(c=null),null!=c&&(c=""+c),t=t.move({parent:c}))}}e.position&&t.position(e.position);var d=function(n,a,i){var o=e[n];null!=o&&o!==r[n]&&(o?t[a]():t[i]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),d("pannable","panify","unpanify"),null!=e.classes&&t.classes(e.classes),n.endBatch(),this}if(void 0===e){var h={data:nt(r.data),position:nt(r.position),group:r.group,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbable:r.grabbable,pannable:r.pannable,classes:null};h.classes="";var f=0;return r.classes.forEach(function(e){return h.classes+=0===f++?e:" "+e}),h}}},Ll.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t].json();e.push(n)}return e},Ll.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var r=this[n].json(),a=new pt(e,r,!1);t.push(a)}return new Nl(e,t)},Ll.copy=Ll.clone,Ll.restore=function(){for(var e,t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this,i=a.cy(),o=i._private,s=[],l=[],u=0,c=a.length;u<c;u++){var d=a[u];r&&!d.removed()||(d.isNode()?s.push(d):l.push(d))}e=s.concat(l);var h=function(){e.splice(t,1),t--};for(t=0;t<e.length;t++){var f=e[t],p=f._private,v=p.data;if(f.clearTraversalCache(),r||p.removed)if(void 0===v.id)v.id=rt();else if(G(v.id))v.id=""+v.id;else{if(ne(v.id)||!W(v.id)){Je("Can not create element with invalid string ID `"+v.id+"`"),h();continue}if(i.hasElementWithId(v.id)){Je("Can not create second element with ID `"+v.id+"`"),h();continue}}else;var g=v.id;if(f.isNode()){var y=p.position;null==y.x&&(y.x=0),null==y.y&&(y.y=0)}if(f.isEdge()){for(var m=f,b=["source","target"],x=b.length,w=!1,E=0;E<x;E++){var k=b[E],T=v[k];G(T)&&(T=v[k]=""+v[k]),null==T||""===T?(Je("Can not create edge `"+g+"` with unspecified "+k),w=!0):i.hasElementWithId(T)||(Je("Can not create edge `"+g+"` with nonexistant "+k+" `"+T+"`"),w=!0)}if(w){h();continue}var C=i.getElementById(v.source),P=i.getElementById(v.target);C.same(P)?C._private.edges.push(m):(C._private.edges.push(m),P._private.edges.push(m)),m._private.source=C,m._private.target=P}p.map=new dt,p.map.set(g,{ele:f,index:0}),p.removed=!1,r&&i.addToPool(f)}for(var S=0;S<s.length;S++){var B=s[S],D=B._private.data;G(D.parent)&&(D.parent=""+D.parent);var _=D.parent;if(null!=_||B._private.parent){var A=B._private.parent?i.collection().merge(B._private.parent):i.getElementById(_);if(A.empty())D.parent=void 0;else if(A[0].removed())tt(),D.parent=void 0,B._private.parent=null;else{for(var M=!1,R=A;!R.empty();){if(B.same(R)){M=!0,D.parent=void 0;break}R=R.parent()}M||(A[0]._private.children.push(B),B._private.parent=A[0],o.hasCompoundNodes=!0)}}}if(e.length>0){for(var I=e.length===a.length?a:new Nl(i,e),N=0;N<I.length;N++){var L=I[N];L.isNode()||(L.parallelEdges().clearTraversalCache(),L.source().clearTraversalCache(),L.target().clearTraversalCache())}(o.hasCompoundNodes?i.collection().merge(I).merge(I.connectedNodes()).merge(I.parent()):I).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(n),n?I.emitAndNotify("add"):r&&I.emit("add")}return a},Ll.removed=function(){var e=this[0];return e&&e._private.removed},Ll.inside=function(){var e=this[0];return e&&!e._private.removed},Ll.remove=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=[],a={},i=n._private.cy;function o(e){var n=a[e.id()];t&&e.removed()||n||(a[e.id()]=!0,e.isNode()?(r.push(e),function(e){for(var t=e._private.edges,n=0;n<t.length;n++)o(t[n])}(e),function(e){for(var t=e._private.children,n=0;n<t.length;n++)o(t[n])}(e)):r.unshift(e))}for(var s=0,l=n.length;s<l;s++){o(n[s])}function u(e,t){var n=e._private.edges;st(n,t),e.clearTraversalCache()}function c(e){e.clearTraversalCache()}var d=[];function h(e,t){t=t[0];var n=(e=e[0])._private.children,r=e.id();st(n,t),t._private.parent=null,d.ids[r]||(d.ids[r]=!0,d.push(e))}d.ids={},n.dirtyCompoundBoundsCache(),t&&i.removeFromPool(r);for(var f=0;f<r.length;f++){var p=r[f];if(p.isEdge()){var v=p.source()[0],g=p.target()[0];u(v,p),u(g,p);for(var y=p.parallelEdges(),m=0;m<y.length;m++){var b=y[m];c(b),b.isBundledBezier()&&b.dirtyBoundingBoxCache()}}else{var x=p.parent();0!==x.length&&h(x,p)}t&&(p._private.removed=!0)}var w=i._private.elements;i._private.hasCompoundNodes=!1;for(var E=0;E<w.length;E++){if(w[E].isParent()){i._private.hasCompoundNodes=!0;break}}var k=new Nl(this.cy(),r);k.size()>0&&(e?k.emitAndNotify("remove"):t&&k.emit("remove"));for(var T=0;T<d.length;T++){var C=d[T];t&&C.removed()||C.updateStyle()}return k},Ll.move=function(e){var t=this._private.cy,n=this,r=!1,a=!1,i=function(e){return null==e?e:""+e};if(void 0!==e.source||void 0!==e.target){var o=i(e.source),s=i(e.target),l=null!=o&&t.hasElementWithId(o),u=null!=s&&t.hasElementWithId(s);(l||u)&&(t.batch(function(){n.remove(r,a),n.emitAndNotify("moveout");for(var e=0;e<n.length;e++){var t=n[e],i=t._private.data;t.isEdge()&&(l&&(i.source=o),u&&(i.target=s))}n.restore(r,a)}),n.emitAndNotify("move"))}else if(void 0!==e.parent){var c=i(e.parent);if(null===c||t.hasElementWithId(c)){var d=null===c?void 0:c;t.batch(function(){var e=n.remove(r,a);e.emitAndNotify("moveout");for(var t=0;t<n.length;t++){var i=n[t],o=i._private.data;i.isNode()&&(o.parent=d)}e.restore(r,a)}),n.emitAndNotify("move")}}return this},[zr,mo,bo,rs,ss,ps,vs,Ws,ol,sl,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},cl,fl,yl,Cl,Bl].forEach(function(e){ge(Ll,e)});var zl={add:function(e){var t,n=this;if($(e)){var r=e;if(r._private.cy===n)t=r.restore();else{for(var a=[],i=0;i<r.length;i++){var o=r[i];a.push(o.json())}t=new Nl(n,a)}}else if(H(e)){t=new Nl(n,e)}else if(K(e)&&(H(e.nodes)||H(e.edges))){for(var s=e,l=[],u=["nodes","edges"],c=0,d=u.length;c<d;c++){var h=u[c],f=s[h];if(H(f))for(var p=0,v=f.length;p<v;p++){var g=ge({group:h},f[p]);l.push(g)}}t=new Nl(n,l)}else{t=new pt(n,e).collection()}return t},remove:function(e){if($(e));else if(W(e)){var t=e;e=this.$(t)}return e.remove()}};
/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function Ol(e,t,n,r){var a=.1,i="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var o=0;o<4;++o)if("number"!=typeof arguments[o]||isNaN(arguments[o])||!isFinite(arguments[o]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var s=i?new Float32Array(11):new Array(11);function l(e,t){return 1-3*t+3*e}function u(e,t){return 3*t-6*e}function c(e){return 3*e}function d(e,t,n){return((l(t,n)*e+u(t,n))*e+c(t))*e}function h(e,t,n){return 3*l(t,n)*e*e+2*u(t,n)*e+c(t)}function f(t){for(var r=0,i=1;10!==i&&s[i]<=t;++i)r+=a;--i;var o=r+(t-s[i])/(s[i+1]-s[i])*a,l=h(o,e,n);return l>=.001?function(t,r){for(var a=0;a<4;++a){var i=h(r,e,n);if(0===i)return r;r-=(d(r,e,n)-t)/i}return r}(t,o):0===l?o:function(t,r,a){var i,o,s=0;do{(i=d(o=r+(a-r)/2,e,n)-t)>0?a=o:r=o}while(Math.abs(i)>1e-7&&++s<10);return o}(t,r,r+a)}var p=!1;function v(){p=!0,e===t&&n===r||function(){for(var t=0;t<11;++t)s[t]=d(t*a,e,n)}()}var g=function(a){return p||v(),e===t&&n===r?a:0===a?0:1===a?1:d(f(a),t,r)};g.getControlPoints=function(){return[{x:e,y:t},{x:n,y:r}]};var y="generateBezier("+[e,t,n,r]+")";return g.toString=function(){return y},g}
/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var Vl=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,r){var a={x:t.x+r.dx*n,v:t.v+r.dv*n,tension:t.tension,friction:t.friction};return{dx:a.v,dv:e(a)}}function n(n,r){var a={dx:n.v,dv:e(n)},i=t(n,.5*r,a),o=t(n,.5*r,i),s=t(n,r,o),l=1/6*(a.dx+2*(i.dx+o.dx)+s.dx),u=1/6*(a.dv+2*(i.dv+o.dv)+s.dv);return n.x=n.x+l*r,n.v=n.v+u*r,n}return function e(t,r,a){var i,o,s,l={x:-1,v:0,tension:null,friction:null},u=[0],c=0,d=1e-4;for(t=parseFloat(t)||500,r=parseFloat(r)||20,a=a||null,l.tension=t,l.friction=r,o=(i=null!==a)?(c=e(t,r))/a*.016:.016;s=n(s||l,o),u.push(1+s.x),c+=16,Math.abs(s.x)>d&&Math.abs(s.v)>d;);return i?function(e){return u[e*(u.length-1)|0]}:c}}(),Fl=function(e,t,n,r){var a=Ol(e,t,n,r);return function(e,t,n){return e+(t-e)*a(n)}},Xl={linear:function(e,t,n){return e+(t-e)*n},ease:Fl(.25,.1,.25,1),"ease-in":Fl(.42,0,1,1),"ease-out":Fl(0,0,.58,1),"ease-in-out":Fl(.42,0,.58,1),"ease-in-sine":Fl(.47,0,.745,.715),"ease-out-sine":Fl(.39,.575,.565,1),"ease-in-out-sine":Fl(.445,.05,.55,.95),"ease-in-quad":Fl(.55,.085,.68,.53),"ease-out-quad":Fl(.25,.46,.45,.94),"ease-in-out-quad":Fl(.455,.03,.515,.955),"ease-in-cubic":Fl(.55,.055,.675,.19),"ease-out-cubic":Fl(.215,.61,.355,1),"ease-in-out-cubic":Fl(.645,.045,.355,1),"ease-in-quart":Fl(.895,.03,.685,.22),"ease-out-quart":Fl(.165,.84,.44,1),"ease-in-out-quart":Fl(.77,0,.175,1),"ease-in-quint":Fl(.755,.05,.855,.06),"ease-out-quint":Fl(.23,1,.32,1),"ease-in-out-quint":Fl(.86,0,.07,1),"ease-in-expo":Fl(.95,.05,.795,.035),"ease-out-expo":Fl(.19,1,.22,1),"ease-in-out-expo":Fl(1,0,0,1),"ease-in-circ":Fl(.6,.04,.98,.335),"ease-out-circ":Fl(.075,.82,.165,1),"ease-in-out-circ":Fl(.785,.135,.15,.86),spring:function(e,t,n){if(0===n)return Xl.linear;var r=Vl(e,t,n);return function(e,t,n){return e+(t-e)*r(n)}},"cubic-bezier":Fl};function jl(e,t,n,r,a){if(1===r)return n;if(t===n)return n;var i=a(t,n,r);return null==e||((e.roundValue||e.color)&&(i=Math.round(i)),void 0!==e.min&&(i=Math.max(i,e.min)),void 0!==e.max&&(i=Math.min(i,e.max))),i}function Yl(e,t){return null!=e.pfValue||null!=e.value?null==e.pfValue||null!=t&&"%"===t.type.units?e.value:e.pfValue:e}function ql(e,t,n,r,a){var i=null!=a?a.type:null;n<0?n=0:n>1&&(n=1);var o=Yl(e,a),s=Yl(t,a);if(G(o)&&G(s))return jl(i,o,s,n,r);if(H(o)&&H(s)){for(var l=[],u=0;u<s.length;u++){var c=o[u],d=s[u];if(null!=c&&null!=d){var h=jl(i,c,d,n,r);l.push(h)}else l.push(d)}return l}}function Wl(e,t,n,r){var a=!r,i=e._private,o=t._private,s=o.easing,l=o.startTime,u=(r?e:e.cy()).style();if(!o.easingImpl)if(null==s)o.easingImpl=Xl.linear;else{var c,d,h;if(W(s))c=u.parse("transition-timing-function",s).value;else c=s;W(c)?(d=c,h=[]):(d=c[1],h=c.slice(2).map(function(e){return+e})),h.length>0?("spring"===d&&h.push(o.duration),o.easingImpl=Xl[d].apply(null,h)):o.easingImpl=Xl[d]}var f,p=o.easingImpl;if(f=0===o.duration?1:(n-l)/o.duration,o.applying&&(f=o.progress),f<0?f=0:f>1&&(f=1),null==o.delay){var v=o.startPosition,g=o.position;if(g&&a&&!e.locked()){var y={};Ul(v.x,g.x)&&(y.x=ql(v.x,g.x,f,p)),Ul(v.y,g.y)&&(y.y=ql(v.y,g.y,f,p)),e.position(y)}var m=o.startPan,b=o.pan,x=i.pan,w=null!=b&&r;w&&(Ul(m.x,b.x)&&(x.x=ql(m.x,b.x,f,p)),Ul(m.y,b.y)&&(x.y=ql(m.y,b.y,f,p)),e.emit("pan"));var E=o.startZoom,k=o.zoom,T=null!=k&&r;T&&(Ul(E,k)&&(i.zoom=Gt(i.minZoom,ql(E,k,f,p),i.maxZoom)),e.emit("zoom")),(w||T)&&e.emit("viewport");var C=o.style;if(C&&C.length>0&&a){for(var P=0;P<C.length;P++){var S=C[P],B=S.name,D=S,_=o.startStyle[B],A=ql(_,D,f,p,u.properties[_.name]);u.overrideBypass(e,B,A)}e.emit("style")}}return o.progress=f,f}function Ul(e,t){return null!=e&&null!=t&&(!(!G(e)||!G(t))||!(!e||!t))}function Hl(e,t,n,r){var a=t._private;a.started=!0,a.startTime=n-a.progress*a.duration}function Kl(e,t){var n=t._private.aniEles,r=[];function a(t,n){var a=t._private,i=a.animation.current,o=a.animation.queue,s=!1;if(0===i.length){var l=o.shift();l&&i.push(l)}for(var u=function(e){for(var t=e.length-1;t>=0;t--){(0,e[t])()}e.splice(0,e.length)},c=i.length-1;c>=0;c--){var d=i[c],h=d._private;h.stopped?(i.splice(c,1),h.hooked=!1,h.playing=!1,h.started=!1,u(h.frames)):(h.playing||h.applying)&&(h.playing&&h.applying&&(h.applying=!1),h.started||Hl(0,d,e),Wl(t,d,e,n),h.applying&&(h.applying=!1),u(h.frames),null!=h.step&&h.step(e),d.completed()&&(i.splice(c,1),h.hooked=!1,h.playing=!1,h.started=!1,u(h.completes)),s=!0)}return n||0!==i.length||0!==o.length||r.push(t),s}for(var i=!1,o=0;o<n.length;o++){var s=a(n[o]);i=i||s}var l=a(t,!0);(i||l)&&(n.length>0?t.notify("draw",n):t.notify("draw")),n.unmerge(r),t.emit("step")}var Gl={animate:yo.animate(),animation:yo.animation(),animated:yo.animated(),clearQueue:yo.clearQueue(),delay:yo.delay(),delayAnimation:yo.delayAnimation(),stop:yo.stop(),addToAnimationPool:function(e){this.styleEnabled()&&this._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,e.styleEnabled()){var t=e.renderer();t&&t.beforeRender?t.beforeRender(function(t,n){Kl(n,e)},t.beforeRenderPriorities.animations):function t(){e._private.animationsRunning&&Re(function(n){Kl(n,e),t()})}()}}},Zl={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&Q(n.target)&&r.matches(n.target)},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e}},$l=function(e){return W(e)?new ts(e):e},Ql={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Js(Zl,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,$l(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,$l(t),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,n){return this.emitter().one(e,$l(t),n),this},once:function(e,t,n){return this.emitter().one(e,$l(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};yo.eventAliasesOn(Ql);var Jl={png:function(e){return e=e||{},this._private.renderer.png(e)},jpg:function(e){var t=this._private.renderer;return(e=e||{}).bg=e.bg||"#fff",t.jpg(e)}};Jl.jpeg=Jl.jpg;var eu={layout:function(e){var t=this;if(null!=e)if(null!=e.name){var n=e.name,r=t.extension("layout",n);if(null!=r){var a;a=W(e.eles)?t.$(e.eles):null!=e.eles?e.eles:t.$();var i=new r(ge({},e,{cy:t,eles:a}));return i}Je("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Je("A `name` must be specified to make a layout");else Je("Layout options must be specified to make a layout")}};eu.createLayout=eu.makeLayout=eu.layout;var tu={notify:function(e,t){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var r=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();null!=t&&r.merge(t)}else if(n.notificationsEnabled){var a=this.renderer();!this.destroyed()&&a&&a.notify(e,t)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(0===e.batchCount)return this;if(e.batchCount--,0===e.batchCount){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var r=e.batchNotifications[n];r.empty()?t.notify(n):t.notify(n,r)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var n=Object.keys(e),r=0;r<n.length;r++){var a=n[r],i=e[a];t.getElementById(a).data(i)}})}},nu=ot({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),ru={renderTo:function(e,t,n,r){return this._private.renderer.renderTo(e,t,n,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,n=t.extension("renderer",e.name);if(null!=n){void 0!==e.wheelSensitivity&&tt();var r=nu(e);r.cy=t,t._private.renderer=new n(r),this.notify("init")}else Je("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(e){var t=e._private;t.rscratch={},t.rstyle={},t.animation.current=[],t.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};ru.invalidateDimensions=ru.resize;var au={collection:function(e,t){return W(e)?this.$(e):$(e)?e.collection():H(e)?(t||(t={}),new Nl(this,e,t.unique,t.removed)):new Nl(this)},nodes:function(e){var t=this.$(function(e){return e.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(e){return e.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};au.elements=au.filter=au.$;var iu={},ou="t";iu.apply=function(e){for(var t=this,n=t._private.cy.collection(),r=0;r<e.length;r++){var a=e[r],i=t.getContextMeta(a);if(!i.empty){var o=t.getContextStyle(i),s=t.applyContextStyle(i,o,a);a._private.appliedInitStyle?t.updateTransitions(a,s.diffProps):a._private.appliedInitStyle=!0,t.updateStyleHints(a)&&n.push(a)}}return n},iu.getPropertiesDiff=function(e,t){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},a=e+"-"+t,i=r[a];if(i)return i;for(var o=[],s={},l=0;l<n.length;l++){var u=n[l],c=e[l]===ou,d=t[l]===ou,h=c!==d,f=u.mappedProperties.length>0;if(h||d&&f){var p=void 0;h&&f||h?p=u.properties:f&&(p=u.mappedProperties);for(var v=0;v<p.length;v++){for(var g=p[v],y=g.name,m=!1,b=l+1;b<n.length;b++){var x=n[b];if(t[b]===ou&&(m=null!=x.properties[g.name]))break}s[y]||m||(s[y]=!0,o.push(y))}}}return r[a]=o,o},iu.getContextMeta=function(e){for(var t,n=this,r="",a=e._private.styleCxtKey||"",i=0;i<n.length;i++){var o=n[i];r+=o.selector&&o.selector.matches(e)?ou:"f"}return t=n.getPropertiesDiff(a,r),e._private.styleCxtKey=r,{key:r,diffPropNames:t,empty:0===t.length}},iu.getContextStyle=function(e){var t=e.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var r={_private:{key:t}},a=0;a<this.length;a++){var i=this[a];if(t[a]===ou)for(var o=0;o<i.properties.length;o++){var s=i.properties[o];r[s.name]=s}}return n[t]=r,r},iu.applyContextStyle=function(e,t,n){for(var r=e.diffPropNames,a={},i=this.types,o=0;o<r.length;o++){var s=r[o],l=t[s],u=n.pstyle(s);if(!l){if(!u)continue;l=u.bypass?{name:s,deleteBypassed:!0}:{name:s,delete:!0}}if(u!==l){if(l.mapped===i.fn&&null!=u&&null!=u.mapping&&u.mapping.value===l.value){var c=u.mapping;if((c.fnValue=l.value(n))===c.prevFnValue)continue}var d=a[s]={prev:u};this.applyParsedProperty(n,l),d.next=n.pstyle(s),d.next&&d.next.bypass&&(d.next=d.next.bypassed)}}return{diffProps:a}},iu.updateStyleHints=function(e){var t=e._private,n=this,r=n.propertyGroupNames,a=n.propertyGroupKeys,i=function(e,t,r){return n.getPropertiesHash(e,t,r)},o=t.styleKey;if(e.removed())return!1;var s="nodes"===t.group,l=e._private.style;r=Object.keys(l);for(var u=0;u<a.length;u++){var c=a[u];t.styleKeys[c]=[Ne,Le]}for(var d=function(e,n){return t.styleKeys[n][0]=Oe(e,t.styleKeys[n][0])},h=function(e,n){return t.styleKeys[n][1]=Ve(e,t.styleKeys[n][1])},f=function(e,t){d(e,t),h(e,t)},p=function(e,t){for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);d(r,t),h(r,t)}},v=function(e){return-128<e&&e<128&&Math.floor(e)!==e?2e9-(1024*e|0):e},g=0;g<r.length;g++){var y=r[g],m=l[y];if(null!=m){var b=this.properties[y],x=b.type,w=b.groupKey,E=void 0;null!=b.hashOverride?E=b.hashOverride(e,m):null!=m.pfValue&&(E=m.pfValue);var k=null==b.enums?m.value:null,T=null!=E,C=T||null!=k,P=m.units;if(x.number&&C&&!x.multiple)f(v(T?E:k),w),T||null==P||p(P,w);else p(m.strValue,w)}}for(var S,B,D=[Ne,Le],_=0;_<a.length;_++){var A=a[_],M=t.styleKeys[A];D[0]=Oe(M[0],D[0]),D[1]=Ve(M[1],D[1])}t.styleKey=(S=D[0],B=D[1],2097152*S+B);var R=t.styleKeys;t.labelDimsKey=Fe(R.labelDimensions);var I=i(e,["label"],R.labelDimensions);if(t.labelKey=Fe(I),t.labelStyleKey=Fe(Xe(R.commonLabel,I)),!s){var N=i(e,["source-label"],R.labelDimensions);t.sourceLabelKey=Fe(N),t.sourceLabelStyleKey=Fe(Xe(R.commonLabel,N));var L=i(e,["target-label"],R.labelDimensions);t.targetLabelKey=Fe(L),t.targetLabelStyleKey=Fe(Xe(R.commonLabel,L))}if(s){var z=t.styleKeys,O=z.nodeBody,V=z.nodeBorder,F=z.nodeOutline,X=z.backgroundImage,j=z.compound,Y=z.pie,q=z.stripe,W=[O,V,F,X,j,Y,q].filter(function(e){return null!=e}).reduce(Xe,[Ne,Le]);t.nodeKey=Fe(W),t.hasPie=null!=Y&&Y[0]!==Ne&&Y[1]!==Le,t.hasStripe=null!=q&&q[0]!==Ne&&q[1]!==Le}return o!==t.styleKey},iu.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null,t.hasStripe=null},iu.applyParsedProperty=function(e,t){var n,r=this,a=t,i=e._private.style,o=r.types,s=r.properties[a.name].type,l=a.bypass,u=i[a.name],c=u&&u.bypass,d=e._private,h="mapping",f=function(e){return null==e?null:null!=e.pfValue?e.pfValue:e.value},p=function(){var t=f(u),n=f(a);r.checkTriggers(e,a.name,t,n)};if("curve-style"===t.name&&e.isEdge()&&("bezier"!==t.value&&e.isLoop()||"haystack"===t.value&&(e.source().isParent()||e.target().isParent()))&&(a=t=this.parse(t.name,"bezier",l)),a.delete)return i[a.name]=void 0,p(),!0;if(a.deleteBypassed)return u?!!u.bypass&&(u.bypassed=void 0,p(),!0):(p(),!0);if(a.deleteBypass)return u?!!u.bypass&&(i[a.name]=u.bypassed,p(),!0):(p(),!0);var v=function(){tt((e.id(),a.name,a.field,a.field,a.field))};switch(a.mapped){case o.mapData:for(var g,y=a.field.split("."),m=d.data,b=0;b<y.length&&m;b++){m=m[y[b]]}if(null==m)return v(),!1;if(!G(m))return tt((a.field,e.id())),!1;var x=a.fieldMax-a.fieldMin;if((g=0===x?0:(m-a.fieldMin)/x)<0?g=0:g>1&&(g=1),s.color){var w=a.valueMin[0],E=a.valueMax[0],k=a.valueMin[1],T=a.valueMax[1],C=a.valueMin[2],P=a.valueMax[2],S=null==a.valueMin[3]?1:a.valueMin[3],B=null==a.valueMax[3]?1:a.valueMax[3],D=[Math.round(w+(E-w)*g),Math.round(k+(T-k)*g),Math.round(C+(P-C)*g),Math.round(S+(B-S)*g)];n={bypass:a.bypass,name:a.name,value:D,strValue:"rgb("+D[0]+", "+D[1]+", "+D[2]+")"}}else{if(!s.number)return!1;var _=a.valueMin+(a.valueMax-a.valueMin)*g;n=this.parse(a.name,_,a.bypass,h)}if(!n)return v(),!1;n.mapping=a,a=n;break;case o.data:for(var A=a.field.split("."),M=d.data,R=0;R<A.length&&M;R++){M=M[A[R]]}if(null!=M&&(n=this.parse(a.name,M,a.bypass,h)),!n)return v(),!1;n.mapping=a,a=n;break;case o.fn:var I=a.value,N=null!=a.fnValue?a.fnValue:I(e);if(a.prevFnValue=N,null==N)return tt((a.name,e.id())),!1;if(!(n=this.parse(a.name,N,a.bypass,h)))return tt((a.name,e.id())),!1;n.mapping=nt(a),a=n;break;case void 0:break;default:return!1}return l?(a.bypassed=c?u.bypassed:u,i[a.name]=a):c?u.bypassed=a:i[a.name]=a,p(),!0},iu.cleanElements=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(this.clearStyleHints(r),r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),t)for(var a=r._private.style,i=Object.keys(a),o=0;o<i.length;o++){var s=i[o],l=a[s];null!=l&&(l.bypass?l.bypassed=null:a[s]=null)}else r._private.style={}}},iu.update=function(){this._private.cy.mutableElements().updateStyle()},iu.updateTransitions=function(e,t){var n=this,r=e._private,a=e.pstyle("transition-property").value,i=e.pstyle("transition-duration").pfValue,o=e.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var s={},l=!1,u=0;u<a.length;u++){var c=a[u],d=e.pstyle(c),h=t[c];if(h){var f=h.prev,p=null!=h.next?h.next:d,v=!1,g=void 0,y=1e-6;f&&(G(f.pfValue)&&G(p.pfValue)?(v=p.pfValue-f.pfValue,g=f.pfValue+y*v):G(f.value)&&G(p.value)?(v=p.value-f.value,g=f.value+y*v):H(f.value)&&H(p.value)&&(v=f.value[0]!==p.value[0]||f.value[1]!==p.value[1]||f.value[2]!==p.value[2],g=f.strValue),v&&(s[c]=p.strValue,this.applyBypass(e,c,g),l=!0))}}if(!l)return;r.transitioning=!0,new qr(function(t){o>0?e.delayAnimation(o).play().promise().then(t):t()}).then(function(){return e.animation({style:s,duration:i,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){n.removeBypasses(e,a),e.emitAndNotify("style"),r.transitioning=!1})}else r.transitioning&&(this.removeBypasses(e,a),e.emitAndNotify("style"),r.transitioning=!1)},iu.checkTrigger=function(e,t,n,r,a,i){var o=this.properties[t],s=a(o);e.removed()||null!=s&&s(n,r,e)&&i(o)},iu.checkZOrderTrigger=function(e,t,n,r){var a=this;this.checkTrigger(e,t,n,r,function(e){return e.triggersZOrder},function(){a._private.cy.notify("zorder",e)})},iu.checkBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,function(e){return e.triggersBounds},function(t){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache()})},iu.checkConnectedEdgesBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,function(e){return e.triggersBoundsOfConnectedEdges},function(t){e.connectedEdges().forEach(function(e){e.dirtyBoundingBoxCache()})})},iu.checkParallelEdgesBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,function(e){return e.triggersBoundsOfParallelEdges},function(t){e.parallelEdges().forEach(function(e){e.dirtyBoundingBoxCache()})})},iu.checkTriggers=function(e,t,n,r){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,n,r),this.checkBoundsTrigger(e,t,n,r),this.checkConnectedEdgesBoundsTrigger(e,t,n,r),this.checkParallelEdgesBoundsTrigger(e,t,n,r)};var su={applyBypass:function(e,t,n,r){var a=[];if("*"===t||"**"===t){if(void 0!==n)for(var i=0;i<this.properties.length;i++){var o=this.properties[i].name,s=this.parse(o,n,!0);s&&a.push(s)}}else if(W(t)){var l=this.parse(t,n,!0);l&&a.push(l)}else{if(!K(t))return!1;var u=t;r=n;for(var c=Object.keys(u),d=0;d<c.length;d++){var h=c[d],f=u[h];if(void 0===f&&(f=u[oe(h)]),void 0!==f){var p=this.parse(h,f,!0);p&&a.push(p)}}}if(0===a.length)return!1;for(var v=!1,g=0;g<e.length;g++){for(var y=e[g],m={},b=void 0,x=0;x<a.length;x++){var w=a[x];if(r){var E=y.pstyle(w.name);b=m[w.name]={prev:E}}v=this.applyParsedProperty(y,nt(w))||v,r&&(b.next=y.pstyle(w.name))}v&&this.updateStyleHints(y),r&&this.updateTransitions(y,m,true)}return v},overrideBypass:function(e,t,n){t=ie(t);for(var r=0;r<e.length;r++){var a=e[r],i=a._private.style[t],o=this.properties[t].type,s=o.color,l=o.mutiple,u=i?null!=i.pfValue?i.pfValue:i.value:null;i&&i.bypass?(i.value=n,null!=i.pfValue&&(i.pfValue=n),i.strValue=s?"rgb("+n.join(",")+")":l?n.join(" "):""+n,this.updateStyleHints(a)):this.applyBypass(a,t,n),this.checkTriggers(a,t,u,n)}},removeAllBypasses:function(e,t){return this.removeBypasses(e,this.propertyNames,t)},removeBypasses:function(e,t,n){for(var r=0;r<e.length;r++){for(var a=e[r],i={},o=0;o<t.length;o++){var s=t[o],l=this.properties[s],u=a.pstyle(l.name);if(u&&u.bypass){var c=this.parse(s,"",!0),d=i[l.name]={prev:u};this.applyParsedProperty(a,c),d.next=a.pstyle(l.name)}}this.updateStyleHints(a),n&&this.updateTransitions(a,i,true)}}},lu={getEmSizeInPixels:function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},containerCss:function(e){var t=this._private.cy,n=t.container(),r=t.window();if(r&&n&&r.getComputedStyle)return r.getComputedStyle(n).getPropertyValue(e)}},uu={getRenderedStyle:function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},getRawStyle:function(e,t){var n=this;if(e=e[0]){for(var r={},a=0;a<n.properties.length;a++){var i=n.properties[a],o=n.getStylePropertyValue(e,i.name,t);null!=o&&(r[i.name]=o,r[oe(i.name)]=o)}return r}},getIndexedStyle:function(e,t,n,r){var a=e.pstyle(t)[n][r];return null!=a?a:e.cy().style().getDefaultProperty(t)[n][0]},getStylePropertyValue:function(e,t,n){if(e=e[0]){var r=this.properties[t];r.alias&&(r=r.pointsTo);var a=r.type,i=e.pstyle(r.name);if(i){var o=i.value,s=i.units,l=i.strValue;if(n&&a.number&&null!=o&&G(o)){var u=e.cy().zoom(),c=function(e){return e*u},d=function(e,t){return c(e)+t},h=H(o);return(h?s.every(function(e){return null!=e}):null!=s)?h?o.map(function(e,t){return d(e,s[t])}).join(" "):d(o,s):h?o.map(function(e){return W(e)?e:""+c(e)}).join(" "):""+c(o)}if(null!=l)return l}return null}},getAnimationStartStyle:function(e,t){for(var n={},r=0;r<t.length;r++){var a=t[r].name,i=e.pstyle(a);void 0!==i&&(i=K(i)?this.parse(a,i.strValue):this.parse(a,i)),i&&(n[a]=i)}return n},getPropsList:function(e){var t=[],n=e,r=this.properties;if(n)for(var a=Object.keys(n),i=0;i<a.length;i++){var o=a[i],s=n[o],l=r[o]||r[ie(o)],u=this.parse(l.name,s);u&&t.push(u)}return t},getNonDefaultPropertiesHash:function(e,t,n){var r,a,i,o,s,l,u=n.slice();for(s=0;s<t.length;s++)if(r=t[s],null!=(a=e.pstyle(r,!1)))if(null!=a.pfValue)u[0]=Oe(o,u[0]),u[1]=Ve(o,u[1]);else for(i=a.strValue,l=0;l<i.length;l++)o=i.charCodeAt(l),u[0]=Oe(o,u[0]),u[1]=Ve(o,u[1]);return u}};uu.getPropertiesHash=uu.getNonDefaultPropertiesHash;var cu={appendFromJson:function(e){for(var t=this,n=0;n<e.length;n++){var r=e[n],a=r.selector,i=r.style||r.css,o=Object.keys(i);t.selector(a);for(var s=0;s<o.length;s++){var l=o[s],u=i[l];t.css(l,u)}}return t},fromJson:function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t},json:function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],r=n.selector,a=n.properties,i={},o=0;o<a.length;o++){var s=a[o];i[s.name]=s.strValue}e.push({selector:r?r.toString():"core",style:i})}return e}},du={appendFromString:function(e){var t,n,r,a=this,i=""+e;function o(){i=i.length>t.length?i.substr(t.length):""}function s(){n=n.length>r.length?n.substr(r.length):""}for(i=i.replace(/[/][*](\s|.)+?[*][/]/g,"");;){if(i.match(/^\s*$/))break;var l=i.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!l){tt();break}t=l[0];var u=l[1];if("core"!==u)if(new ts(u).invalid){tt(),o();continue}var c=l[2],d=!1;n=c;for(var h=[];;){if(n.match(/^\s*$/))break;var f=n.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!f){tt(),d=!0;break}r=f[0];var p=f[1],v=f[2];if(this.properties[p])a.parse(p,v)?(h.push({name:p,val:v}),s()):(tt(),s());else tt(),s()}if(d){o();break}a.selector(u);for(var g=0;g<h.length;g++){var y=h[g];a.css(y.name,y.val)}o()}return a},fromString:function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t}},hu={};!function(){var e=ce,t=he,n=pe,r=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},a=function(r){var a=e+"|\\w+|"+t+"|"+n+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+r+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+a+")\\s*\\,\\s*("+a+")\\)$"},i=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];hu.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:r("data")},layoutData:{mapping:!0,regex:r("layoutData")},scratch:{mapping:!0,regex:r("scratch")},mapData:{mapping:!0,regex:a("mapData")},mapLayoutData:{mapping:!0,regex:a("mapLayoutData")},mapScratch:{mapping:!0,regex:a("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:i,singleRegexMatchValue:!0},urls:{regexes:i,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(e,t){switch(e.length){case 2:return"deg"!==t[0]&&"rad"!==t[0]&&"deg"!==t[1]&&"rad"!==t[1];case 1:return W(e[0])||"deg"===t[0]||"rad"===t[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(e){var t=e.length;return 1===t||2===t||4===t}}};var o={zeroNonZero:function(e,t){return(null==e||null==t)&&e!==t||(0==e&&0!=t||0!=e&&0==t)},any:function(e,t){return e!=t},emptyNonEmpty:function(e,t){var n=ne(e),r=ne(t);return n&&!r||!n&&r}},s=hu.types,l=[{name:"label",type:s.text,triggersBounds:o.any,triggersZOrder:o.emptyNonEmpty},{name:"text-rotation",type:s.textRotation,triggersBounds:o.any},{name:"text-margin-x",type:s.bidirectionalSize,triggersBounds:o.any},{name:"text-margin-y",type:s.bidirectionalSize,triggersBounds:o.any}],u=[{name:"source-label",type:s.text,triggersBounds:o.any},{name:"source-text-rotation",type:s.textRotation,triggersBounds:o.any},{name:"source-text-margin-x",type:s.bidirectionalSize,triggersBounds:o.any},{name:"source-text-margin-y",type:s.bidirectionalSize,triggersBounds:o.any},{name:"source-text-offset",type:s.size,triggersBounds:o.any}],c=[{name:"target-label",type:s.text,triggersBounds:o.any},{name:"target-text-rotation",type:s.textRotation,triggersBounds:o.any},{name:"target-text-margin-x",type:s.bidirectionalSize,triggersBounds:o.any},{name:"target-text-margin-y",type:s.bidirectionalSize,triggersBounds:o.any},{name:"target-text-offset",type:s.size,triggersBounds:o.any}],d=[{name:"font-family",type:s.fontFamily,triggersBounds:o.any},{name:"font-style",type:s.fontStyle,triggersBounds:o.any},{name:"font-weight",type:s.fontWeight,triggersBounds:o.any},{name:"font-size",type:s.size,triggersBounds:o.any},{name:"text-transform",type:s.textTransform,triggersBounds:o.any},{name:"text-wrap",type:s.textWrap,triggersBounds:o.any},{name:"text-overflow-wrap",type:s.textOverflowWrap,triggersBounds:o.any},{name:"text-max-width",type:s.size,triggersBounds:o.any},{name:"text-outline-width",type:s.size,triggersBounds:o.any},{name:"line-height",type:s.positiveNumber,triggersBounds:o.any}],h=[{name:"text-valign",type:s.valign,triggersBounds:o.any},{name:"text-halign",type:s.halign,triggersBounds:o.any},{name:"color",type:s.color},{name:"text-outline-color",type:s.color},{name:"text-outline-opacity",type:s.zeroOneNumber},{name:"text-background-color",type:s.color},{name:"text-background-opacity",type:s.zeroOneNumber},{name:"text-background-padding",type:s.size,triggersBounds:o.any},{name:"text-border-opacity",type:s.zeroOneNumber},{name:"text-border-color",type:s.color},{name:"text-border-width",type:s.size,triggersBounds:o.any},{name:"text-border-style",type:s.borderStyle,triggersBounds:o.any},{name:"text-background-shape",type:s.textBackgroundShape,triggersBounds:o.any},{name:"text-justification",type:s.justification},{name:"box-select-labels",type:s.bool,triggersBounds:o.any}],f=[{name:"events",type:s.bool,triggersZOrder:o.any},{name:"text-events",type:s.bool,triggersZOrder:o.any},{name:"box-selection",type:s.boxSelection,triggersZOrder:o.any}],p=[{name:"display",type:s.display,triggersZOrder:o.any,triggersBounds:o.any,triggersBoundsOfConnectedEdges:o.any,triggersBoundsOfParallelEdges:function(e,t,n){return e!==t&&"bezier"===n.pstyle("curve-style").value}},{name:"visibility",type:s.visibility,triggersZOrder:o.any},{name:"opacity",type:s.zeroOneNumber,triggersZOrder:o.zeroNonZero},{name:"text-opacity",type:s.zeroOneNumber},{name:"min-zoomed-font-size",type:s.size},{name:"z-compound-depth",type:s.zCompoundDepth,triggersZOrder:o.any},{name:"z-index-compare",type:s.zIndexCompare,triggersZOrder:o.any},{name:"z-index",type:s.number,triggersZOrder:o.any}],v=[{name:"overlay-padding",type:s.size,triggersBounds:o.any},{name:"overlay-color",type:s.color},{name:"overlay-opacity",type:s.zeroOneNumber,triggersBounds:o.zeroNonZero},{name:"overlay-shape",type:s.overlayShape,triggersBounds:o.any},{name:"overlay-corner-radius",type:s.cornerRadius}],g=[{name:"underlay-padding",type:s.size,triggersBounds:o.any},{name:"underlay-color",type:s.color},{name:"underlay-opacity",type:s.zeroOneNumber,triggersBounds:o.zeroNonZero},{name:"underlay-shape",type:s.overlayShape,triggersBounds:o.any},{name:"underlay-corner-radius",type:s.cornerRadius}],y=[{name:"transition-property",type:s.propList},{name:"transition-duration",type:s.time},{name:"transition-delay",type:s.time},{name:"transition-timing-function",type:s.easing}],m=function(e,t){return"label"===t.value?-e.poolIndex():t.pfValue},b=[{name:"height",type:s.nodeSize,triggersBounds:o.any,hashOverride:m},{name:"width",type:s.nodeSize,triggersBounds:o.any,hashOverride:m},{name:"shape",type:s.nodeShape,triggersBounds:o.any},{name:"shape-polygon-points",type:s.polygonPointList,triggersBounds:o.any},{name:"corner-radius",type:s.cornerRadius},{name:"background-color",type:s.color},{name:"background-fill",type:s.fill},{name:"background-opacity",type:s.zeroOneNumber},{name:"background-blacken",type:s.nOneOneNumber},{name:"background-gradient-stop-colors",type:s.colors},{name:"background-gradient-stop-positions",type:s.percentages},{name:"background-gradient-direction",type:s.gradientDirection},{name:"padding",type:s.sizeMaybePercent,triggersBounds:o.any},{name:"padding-relative-to",type:s.paddingRelativeTo,triggersBounds:o.any},{name:"bounds-expansion",type:s.boundsExpansion,triggersBounds:o.any}],x=[{name:"border-color",type:s.color},{name:"border-opacity",type:s.zeroOneNumber},{name:"border-width",type:s.size,triggersBounds:o.any},{name:"border-style",type:s.borderStyle},{name:"border-cap",type:s.lineCap},{name:"border-join",type:s.lineJoin},{name:"border-dash-pattern",type:s.numbers},{name:"border-dash-offset",type:s.number},{name:"border-position",type:s.linePosition}],w=[{name:"outline-color",type:s.color},{name:"outline-opacity",type:s.zeroOneNumber},{name:"outline-width",type:s.size,triggersBounds:o.any},{name:"outline-style",type:s.borderStyle},{name:"outline-offset",type:s.size,triggersBounds:o.any}],E=[{name:"background-image",type:s.urls},{name:"background-image-crossorigin",type:s.bgCrossOrigin},{name:"background-image-opacity",type:s.zeroOneNumbers},{name:"background-image-containment",type:s.bgContainment},{name:"background-image-smoothing",type:s.bools},{name:"background-position-x",type:s.bgPos},{name:"background-position-y",type:s.bgPos},{name:"background-width-relative-to",type:s.bgRelativeTo},{name:"background-height-relative-to",type:s.bgRelativeTo},{name:"background-repeat",type:s.bgRepeat},{name:"background-fit",type:s.bgFit},{name:"background-clip",type:s.bgClip},{name:"background-width",type:s.bgWH},{name:"background-height",type:s.bgWH},{name:"background-offset-x",type:s.bgPos},{name:"background-offset-y",type:s.bgPos}],k=[{name:"position",type:s.position,triggersBounds:o.any},{name:"compound-sizing-wrt-labels",type:s.compoundIncludeLabels,triggersBounds:o.any},{name:"min-width",type:s.size,triggersBounds:o.any},{name:"min-width-bias-left",type:s.sizeMaybePercent,triggersBounds:o.any},{name:"min-width-bias-right",type:s.sizeMaybePercent,triggersBounds:o.any},{name:"min-height",type:s.size,triggersBounds:o.any},{name:"min-height-bias-top",type:s.sizeMaybePercent,triggersBounds:o.any},{name:"min-height-bias-bottom",type:s.sizeMaybePercent,triggersBounds:o.any}],T=[{name:"line-style",type:s.lineStyle},{name:"line-color",type:s.color},{name:"line-fill",type:s.fill},{name:"line-cap",type:s.lineCap},{name:"line-opacity",type:s.zeroOneNumber},{name:"line-dash-pattern",type:s.numbers},{name:"line-dash-offset",type:s.number},{name:"line-outline-width",type:s.size},{name:"line-outline-color",type:s.color},{name:"line-gradient-stop-colors",type:s.colors},{name:"line-gradient-stop-positions",type:s.percentages},{name:"curve-style",type:s.curveStyle,triggersBounds:o.any,triggersBoundsOfParallelEdges:function(e,t){return e!==t&&("bezier"===e||"bezier"===t)}},{name:"haystack-radius",type:s.zeroOneNumber,triggersBounds:o.any},{name:"source-endpoint",type:s.edgeEndpoint,triggersBounds:o.any},{name:"target-endpoint",type:s.edgeEndpoint,triggersBounds:o.any},{name:"control-point-step-size",type:s.size,triggersBounds:o.any},{name:"control-point-distances",type:s.bidirectionalSizes,triggersBounds:o.any},{name:"control-point-weights",type:s.numbers,triggersBounds:o.any},{name:"segment-distances",type:s.bidirectionalSizes,triggersBounds:o.any},{name:"segment-weights",type:s.numbers,triggersBounds:o.any},{name:"segment-radii",type:s.numbers,triggersBounds:o.any},{name:"radius-type",type:s.radiusType,triggersBounds:o.any},{name:"taxi-turn",type:s.bidirectionalSizeMaybePercent,triggersBounds:o.any},{name:"taxi-turn-min-distance",type:s.size,triggersBounds:o.any},{name:"taxi-direction",type:s.axisDirection,triggersBounds:o.any},{name:"taxi-radius",type:s.number,triggersBounds:o.any},{name:"edge-distances",type:s.edgeDistances,triggersBounds:o.any},{name:"arrow-scale",type:s.positiveNumber,triggersBounds:o.any},{name:"loop-direction",type:s.angle,triggersBounds:o.any},{name:"loop-sweep",type:s.angle,triggersBounds:o.any},{name:"source-distance-from-node",type:s.size,triggersBounds:o.any},{name:"target-distance-from-node",type:s.size,triggersBounds:o.any}],C=[{name:"ghost",type:s.bool,triggersBounds:o.any},{name:"ghost-offset-x",type:s.bidirectionalSize,triggersBounds:o.any},{name:"ghost-offset-y",type:s.bidirectionalSize,triggersBounds:o.any},{name:"ghost-opacity",type:s.zeroOneNumber}],P=[{name:"selection-box-color",type:s.color},{name:"selection-box-opacity",type:s.zeroOneNumber},{name:"selection-box-border-color",type:s.color},{name:"selection-box-border-width",type:s.size},{name:"active-bg-color",type:s.color},{name:"active-bg-opacity",type:s.zeroOneNumber},{name:"active-bg-size",type:s.size},{name:"outside-texture-bg-color",type:s.color},{name:"outside-texture-bg-opacity",type:s.zeroOneNumber}],S=[];hu.pieBackgroundN=16,S.push({name:"pie-size",type:s.sizeMaybePercent}),S.push({name:"pie-hole",type:s.sizeMaybePercent}),S.push({name:"pie-start-angle",type:s.angle});for(var B=1;B<=hu.pieBackgroundN;B++)S.push({name:"pie-"+B+"-background-color",type:s.color}),S.push({name:"pie-"+B+"-background-size",type:s.percent}),S.push({name:"pie-"+B+"-background-opacity",type:s.zeroOneNumber});var D=[];hu.stripeBackgroundN=16,D.push({name:"stripe-size",type:s.sizeMaybePercent}),D.push({name:"stripe-direction",type:s.axisDirectionPrimary});for(var _=1;_<=hu.stripeBackgroundN;_++)D.push({name:"stripe-"+_+"-background-color",type:s.color}),D.push({name:"stripe-"+_+"-background-size",type:s.percent}),D.push({name:"stripe-"+_+"-background-opacity",type:s.zeroOneNumber});var A=[],M=hu.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:s.arrowShape,triggersBounds:o.any},{name:"arrow-color",type:s.color},{name:"arrow-fill",type:s.arrowFill},{name:"arrow-width",type:s.arrowWidth}].forEach(function(e){M.forEach(function(t){var n=t+"-"+e.name,r=e.type,a=e.triggersBounds;A.push({name:n,type:r,triggersBounds:a})})},{});var R=hu.properties=[].concat(f,y,p,v,g,C,h,d,l,u,c,b,x,w,E,S,D,k,T,A,P),I=hu.propertyGroups={behavior:f,transition:y,visibility:p,overlay:v,underlay:g,ghost:C,commonLabel:h,labelDimensions:d,mainLabel:l,sourceLabel:u,targetLabel:c,nodeBody:b,nodeBorder:x,nodeOutline:w,backgroundImage:E,pie:S,stripe:D,compound:k,edgeLine:T,edgeArrow:A,core:P},N=hu.propertyGroupNames={};(hu.propertyGroupKeys=Object.keys(I)).forEach(function(e){N[e]=I[e].map(function(e){return e.name}),I[e].forEach(function(t){return t.groupKey=e})});var L=hu.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];hu.propertyNames=R.map(function(e){return e.name});for(var z=0;z<R.length;z++){var O=R[z];R[O.name]=O}for(var V=0;V<L.length;V++){var F=L[V],X=R[F.pointsTo],j={name:F.name,alias:!0,pointsTo:X};R.push(j),R[F.name]=j}}(),hu.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},hu.getDefaultProperties=function(){var e=this._private;if(null!=e.defaultProperties)return e.defaultProperties;for(var t=ge({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(var n=1;n<=hu.pieBackgroundN;n++){var r=t.name.replace("{{i}}",n),a=t.value;e[r]=a}return e},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(var n=1;n<=hu.stripeBackgroundN;n++){var r=t.name.replace("{{i}}",n),a=t.value;e[r]=a}return e},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(e,t){return hu.arrowPrefixes.forEach(function(n){var r=n+"-"+t.name,a=t.value;e[r]=a}),e},{})),n={},r=0;r<this.properties.length;r++){var a=this.properties[r];if(!a.pointsTo){var i=a.name,o=t[i],s=this.parse(i,o);n[i]=s}}return e.defaultProperties=n,e.defaultProperties},hu.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var fu={parse:function(e,t,n,r){var a=this;if(U(t))return a.parseImplWarn(e,t,n,r);var i,o=qe(e,""+t,n?"t":"f","mapping"===r||!0===r||!1===r||null==r?"dontcare":r),s=a.propCache=a.propCache||[];return(i=s[o])||(i=s[o]=a.parseImplWarn(e,t,n,r)),(n||"mapping"===r)&&(i=nt(i))&&(i.value=nt(i.value)),i},parseImplWarn:function(e,t,n,r){var a=this.parseImpl(e,t,n,r);return a||null==t||tt("The style property `".concat(e,": ").concat(t,"` is invalid")),!a||"width"!==a.name&&"height"!==a.name||"label"!==t||tt(a.name),a}};fu.parseImpl=function(e,t,n,r){var a=this;e=ie(e);var i=a.properties[e],o=t,s=a.types;if(!i)return null;if(void 0===t)return null;i.alias&&(i=i.pointsTo,e=i.name);var l=W(t);l&&(t=t.trim());var u,c,d=i.type;if(!d)return null;if(n&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(U(t))return{name:e,value:t,strValue:"fn",mapped:s.fn,bypass:n};if(!l||r||t.length<7||"a"!==t[1]);else{if(t.length>=7&&"d"===t[0]&&(u=new RegExp(s.data.regex).exec(t))){if(n)return!1;var h=s.data;return{name:e,value:u,strValue:""+t,mapped:h,field:u[1],bypass:n}}if(t.length>=10&&"m"===t[0]&&(c=new RegExp(s.mapData.regex).exec(t))){if(n)return!1;if(d.multiple)return!1;var f=s.mapData;if(!d.color&&!d.number)return!1;var p=this.parse(e,c[4]);if(!p||p.mapped)return!1;var v=this.parse(e,c[5]);if(!v||v.mapped)return!1;if(p.pfValue===v.pfValue||p.strValue===v.strValue)return tt(p.strValue),this.parse(e,p.strValue);if(d.color){var g=p.value,y=v.value;if(!(g[0]!==y[0]||g[1]!==y[1]||g[2]!==y[2]||g[3]!==y[3]&&(null!=g[3]&&1!==g[3]||null!=y[3]&&1!==y[3])))return!1}return{name:e,value:c,strValue:""+t,mapped:f,field:c[1],fieldMin:parseFloat(c[2]),fieldMax:parseFloat(c[3]),valueMin:p.value,valueMax:v.value,bypass:n}}}if(d.multiple&&"multiple"!==r){var m;if(m=l?t.split(/\s+/):H(t)?t:[t],d.evenMultiple&&m.length%2!=0)return null;for(var b=[],x=[],w=[],E="",k=!1,T=0;T<m.length;T++){var C=a.parse(e,m[T],n,"multiple");k=k||W(C.value),b.push(C.value),w.push(null!=C.pfValue?C.pfValue:C.value),x.push(C.units),E+=(T>0?" ":"")+C.strValue}return d.validate&&!d.validate(b,x)?null:d.singleEnum&&k?1===b.length&&W(b[0])?{name:e,value:b[0],strValue:b[0],bypass:n}:null:{name:e,value:b,pfValue:w,strValue:E,bypass:n,units:x}}var P,S,B=function(){for(var r=0;r<d.enums.length;r++){if(d.enums[r]===t)return{name:e,value:t,strValue:""+t,bypass:n}}return null};if(d.number){var D,_="px";if(d.units&&(D=d.units),d.implicitUnits&&(_=d.implicitUnits),!d.unitless)if(l){var A="px|em"+(d.allowPercent?"|\\%":"");D&&(A=D);var M=t.match("^("+ce+")("+A+")?$");M&&(t=M[1],D=M[2]||_)}else D&&!d.implicitUnits||(D=_);if(t=parseFloat(t),isNaN(t)&&void 0===d.enums)return null;if(isNaN(t)&&void 0!==d.enums)return t=o,B();if(d.integer&&(!G(S=t)||Math.floor(S)!==S))return null;if(void 0!==d.min&&(t<d.min||d.strictMin&&t===d.min)||void 0!==d.max&&(t>d.max||d.strictMax&&t===d.max))return null;var R={name:e,value:t,strValue:""+t+(D||""),units:D,bypass:n};return d.unitless||"px"!==D&&"em"!==D?R.pfValue=t:R.pfValue="px"!==D&&D?this.getEmSizeInPixels()*t:t,"ms"!==D&&"s"!==D||(R.pfValue="ms"===D?t:1e3*t),"deg"!==D&&"rad"!==D||(R.pfValue="rad"===D?t:(P=t,Math.PI*P/180)),"%"===D&&(R.pfValue=t/100),R}if(d.propList){var I=[],N=""+t;if("none"===N);else{for(var L=N.split(/\s*,\s*|\s+/),z=0;z<L.length;z++){var O=L[z].trim();a.properties[O]?I.push(O):tt()}if(0===I.length)return null}return{name:e,value:I,strValue:0===I.length?"none":I.join(" "),bypass:n}}if(d.color){var V=ye(t);return V?{name:e,value:V,pfValue:V,strValue:"rgb("+V[0]+","+V[1]+","+V[2]+")",bypass:n}:null}if(d.regex||d.regexes){if(d.enums){var F=B();if(F)return F}for(var X=d.regexes?d.regexes:[d.regex],j=0;j<X.length;j++){var Y=new RegExp(X[j]).exec(t);if(Y)return{name:e,value:d.singleRegexMatchValue?Y[1]:Y,strValue:""+t,bypass:n}}return null}return d.string?{name:e,value:""+t,strValue:""+t,bypass:n}:d.enums?B():null};var pu=function(e){if(!(this instanceof pu))return new pu(e);ee(e)?(this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()):Je("A style must have a core reference")},vu=pu.prototype;vu.instanceString=function(){return"style"},vu.clear=function(){for(var e=this._private,t=e.cy.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(t,!0),t.forEach(function(e){var t=e[0]._private;t.styleDirty=!0,t.appliedInitStyle=!1}),this},vu.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},vu.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)},vu.selector=function(e){var t="core"===e?null:new ts(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this},vu.css=function(){var e=arguments;if(1===e.length)for(var t=e[0],n=0;n<this.properties.length;n++){var r=this.properties[n],a=t[r.name];void 0===a&&(a=t[oe(r.name)]),void 0!==a&&this.cssRule(r.name,a)}else 2===e.length&&this.cssRule(e[0],e[1]);return this},vu.style=vu.css,vu.cssRule=function(e,t){var n=this.parse(e,t);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.name.match(/stripe-(\d+)-background-size/)&&n.value&&(this._private.hasStripe=!0),n.mapped&&this[r].mappedProperties.push(n),!this[r].selector&&(this._private.coreStyle[n.name]=n)}return this},vu.append=function(e){return te(e)?e.appendToStyle(this):H(e)?this.appendFromJson(e):W(e)&&this.appendFromString(e),this},pu.fromJson=function(e,t){var n=new pu(e);return n.fromJson(t),n},pu.fromString=function(e,t){return new pu(e).fromString(t)},[iu,su,lu,uu,cu,du,hu,fu].forEach(function(e){ge(vu,e)}),pu.types=vu.types,pu.properties=vu.properties,pu.propertyGroups=vu.propertyGroups,pu.propertyGroupNames=vu.propertyGroupNames,pu.propertyGroupKeys=vu.propertyGroupKeys;var gu={style:function(e){e&&this.setStyle(e).update();return this._private.style},setStyle:function(e){var t=this._private;return te(e)?t.style=e.generateStyle(this):H(e)?t.style=pu.fromJson(this,e):W(e)?t.style=pu.fromString(this,e):t.style=pu(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},yu={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},selectionType:function(e){var t=this._private;return null==t.selectionType&&(t.selectionType="single"),void 0===e?t.selectionType:("additive"!==e&&"single"!==e||(t.selectionType=e),this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var e,t,n,r,a,i=arguments,o=this._private.pan;switch(i.length){case 0:return o;case 1:if(W(i[0]))return o[e=i[0]];if(K(i[0])){if(!this._private.panningEnabled)return this;r=(n=i[0]).x,a=n.y,G(r)&&(o.x=r),G(a)&&(o.y=a),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;t=i[1],"x"!==(e=i[0])&&"y"!==e||!G(t)||(o[e]=t),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(e,t){var n,r,a,i,o,s=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:K(e)&&(i=(a=s[0]).x,o=a.y,G(i)&&(l.x+=i),G(o)&&(l.y+=o),this.emit("pan viewport"));break;case 2:r=t,"x"!==(n=e)&&"y"!==n||!G(r)||(l[n]+=r),this.emit("pan viewport")}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(G(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n,r;if(W(e)){var a=e;e=this.$(a)}else if(K(r=e)&&G(r.x1)&&G(r.x2)&&G(r.y1)&&G(r.y2)){var i=e;(n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1}else $(e)||(e=this.mutableElements());if(!$(e)||!e.empty()){n=n||e.boundingBox();var o,s=this.width(),l=this.height();if(t=G(t)?t:0,!isNaN(s)&&!isNaN(l)&&s>0&&l>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:o=(o=(o=Math.min((s-2*t)/n.w,(l-2*t)/n.h))>this._private.maxZoom?this._private.maxZoom:o)<this._private.minZoom?this._private.minZoom:o,pan:{x:(s-o*(n.x1+n.x2))/2,y:(l-o*(n.y1+n.y2))/2}}}}},zoomRange:function(e,t){var n=this._private;if(null==t){var r=e;e=r.min,t=r.max}return G(e)&&G(t)&&e<=t?(n.minZoom=e,n.maxZoom=t):G(e)&&void 0===t&&e<=n.maxZoom?n.minZoom=e:G(t)&&void 0===e&&t>=n.minZoom&&(n.maxZoom=t),this},minZoom:function(e){return void 0===e?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return void 0===e?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t,n,r=this._private,a=r.pan,i=r.zoom,o=!1;if(r.zoomingEnabled||(o=!0),G(e)?n=e:K(e)&&(n=e.level,null!=e.position?t=Ot(e.position,i,a):null!=e.renderedPosition&&(t=e.renderedPosition),null==t||r.panningEnabled||(o=!0)),n=(n=n>r.maxZoom?r.maxZoom:n)<r.minZoom?r.minZoom:n,o||!G(n)||n===i||null!=t&&(!G(t.x)||!G(t.y)))return null;if(null!=t){var s=a,l=i,u=n;return{zoomed:!0,panned:!0,zoom:u,pan:{x:-u/l*(t.x-s.x)+t.x,y:-u/l*(t.y-s.y)+t.y}}}return{zoomed:!0,panned:!1,zoom:n,pan:a}},zoom:function(e){if(void 0===e)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return null!=t&&t.zoomed?(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(e){var t=this._private,n=!0,r=!0,a=[],i=!1,o=!1;if(!e)return this;if(G(e.zoom)||(n=!1),K(e.pan)||(r=!1),!n&&!r)return this;if(n){var s=e.zoom;s<t.minZoom||s>t.maxZoom||!t.zoomingEnabled?i=!0:(t.zoom=s,a.push("zoom"))}if(r&&(!i||!e.cancelOnFailedZoom)&&t.panningEnabled){var l=e.pan;G(l.x)&&(t.pan.x=l.x,o=!1),G(l.y)&&(t.pan.y=l.y,o=!1),o||a.push("pan")}return a.length>0&&(a.push("viewport"),this.emit(a.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(W(e)){var n=e;e=this.mutableElements().filter(n)}else $(e)||(e=this.mutableElements());if(0!==e.length){var r=e.boundingBox(),a=this.width(),i=this.height();return{x:(a-(t=void 0===t?this._private.zoom:t)*(r.x1+r.x2))/2,y:(i-t*(r.y1+r.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e,t,n=this._private,r=n.container,a=this;return n.sizeCache=n.sizeCache||(r?(e=a.window().getComputedStyle(r),t=function(t){return parseFloat(e.getPropertyValue(t))},{width:r.clientWidth-t("padding-left")-t("padding-right"),height:r.clientHeight-t("padding-top")-t("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},multiClickDebounceTime:function(e){return e?(this._private.multiClickDebounceTime=e,this):this._private.multiClickDebounceTime}};yu.centre=yu.center,yu.autolockNodes=yu.autolock,yu.autoungrabifyNodes=yu.autoungrabify;var mu={data:yo.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:yo.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:yo.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:yo.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};mu.attr=mu.data,mu.removeAttr=mu.removeData;var bu=function(e){var t=this,n=(e=ge({},e)).container;n&&!Z(n)&&Z(n[0])&&(n=n[0]);var r=n?n._cyreg:null;(r=r||{})&&r.cy&&(r.cy.destroy(),r={});var a=r.readies=r.readies||[];n&&(n._cyreg=r),r.cy=t;var i=void 0!==c&&void 0!==n&&!e.headless,o=e;o.layout=ge({name:i?"grid":"null"},o.layout),o.renderer=ge({name:i?"canvas":"null"},o.renderer);var s=function(e,t,n){return void 0!==t?t:void 0!==n?n:e},l=this._private={container:n,ready:!1,options:o,elements:new Nl(this),listeners:[],aniEles:new Nl(this),data:o.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:s(!0,o.zoomingEnabled),userZoomingEnabled:s(!0,o.userZoomingEnabled),panningEnabled:s(!0,o.panningEnabled),userPanningEnabled:s(!0,o.userPanningEnabled),boxSelectionEnabled:s(!0,o.boxSelectionEnabled),autolock:s(!1,o.autolock,o.autolockNodes),autoungrabify:s(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:s(!1,o.autounselectify),styleEnabled:void 0===o.styleEnabled?i:o.styleEnabled,zoom:G(o.zoom)?o.zoom:1,pan:{x:K(o.pan)&&G(o.pan.x)?o.pan.x:0,y:K(o.pan)&&G(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:s(250,o.multiClickDebounceTime)};this.createEmitter(),this.selectionType(o.selectionType),this.zoomRange({min:o.minZoom,max:o.maxZoom});l.styleEnabled&&t.setStyle([]);var u=ge({},o,o.renderer);t.initRenderer(u);!function(e,t){if(e.some(re))return qr.all(e).then(t);t(e)}([o.style,o.elements],function(e){var n=e[0],i=e[1];l.styleEnabled&&t.style().append(n),function(e,n,r){t.notifications(!1);var a=t.mutableElements();a.length>0&&a.remove(),null!=e&&(K(e)||H(e))&&t.add(e),t.one("layoutready",function(e){t.notifications(!0),t.emit(e),t.one("load",n),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",r),t.emit("done")});var i=ge({},t._private.options.layout);i.eles=t.elements(),t.layout(i).run()}(i,function(){t.startAnimationLoop(),l.ready=!0,U(o.ready)&&t.on("ready",o.ready);for(var e=0;e<a.length;e++){var n=a[e];t.on("ready",n)}r&&(r.readies=[]),t.emit("ready")},o.done)})},xu=bu.prototype;ge(xu,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){if(null==this._private.container)return c;var e=this._private.container.ownerDocument;return void 0===e||null==e?c:e.defaultView||c},mount:function(e){if(null!=e){var t=this,n=t._private,r=n.options;return!Z(e)&&Z(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),n.container=e,n.styleEnabled=!0,t.invalidateSize(),t.initRenderer(ge({},r,r.renderer,{name:"null"===r.renderer.name?"canvas":r.renderer.name})),t.startAnimationLoop(),t.style(r.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return nt(this._private.options)},json:function(e){var t=this,n=t._private,r=t.mutableElements();if(K(e)){if(t.startBatch(),e.elements){var a={},i=function(e,n){for(var r=[],i=[],o=0;o<e.length;o++){var s=e[o];if(s.data.id){var l=""+s.data.id,u=t.getElementById(l);a[l]=!0,0!==u.length?i.push({ele:u,json:s}):n?(s.group=n,r.push(s)):r.push(s)}else tt()}t.add(r);for(var c=0;c<i.length;c++){var d=i[c],h=d.ele,f=d.json;h.json(f)}};if(H(e.elements))i(e.elements);else for(var o=["nodes","edges"],s=0;s<o.length;s++){var l=o[s],u=e.elements[l];H(u)&&i(u,l)}var c=t.collection();r.filter(function(e){return!a[e.id()]}).forEach(function(e){e.isParent()?c.merge(e):e.remove()}),c.forEach(function(e){return e.children().move({parent:null})}),c.forEach(function(e){return function(e){return t.getElementById(e.id())}(e).remove()})}e.style&&t.style(e.style),null!=e.zoom&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x===n.pan.x&&e.pan.y===n.pan.y||t.pan(e.pan)),e.data&&t.data(e.data);for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],h=0;h<d.length;h++){var f=d[h];null!=e[f]&&t[f](e[f])}return t.endBatch(),this}var p={};!!e?p.elements=this.elements().map(function(e){return e.json()}):(p.elements={},r.forEach(function(e){var t=e.group();p.elements[t]||(p.elements[t]=[]),p.elements[t].push(e.json())})),this._private.styleEnabled&&(p.style=t.style().json()),p.data=nt(t.data());var v=n.options;return p.zoomingEnabled=n.zoomingEnabled,p.userZoomingEnabled=n.userZoomingEnabled,p.zoom=n.zoom,p.minZoom=n.minZoom,p.maxZoom=n.maxZoom,p.panningEnabled=n.panningEnabled,p.userPanningEnabled=n.userPanningEnabled,p.pan=nt(n.pan),p.boxSelectionEnabled=n.boxSelectionEnabled,p.renderer=nt(v.renderer),p.hideEdgesOnViewport=v.hideEdgesOnViewport,p.textureOnViewport=v.textureOnViewport,p.wheelSensitivity=v.wheelSensitivity,p.motionBlur=v.motionBlur,p.multiClickDebounceTime=v.multiClickDebounceTime,p}}),xu.$id=xu.getElementById,[zl,Gl,Ql,Jl,eu,tu,ru,au,gu,yu,mu].forEach(function(e){ge(xu,e)});var wu={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},Eu={maximal:!1,acyclic:!1},ku=function(e){return e.scratch("breadthfirst")},Tu=function(e,t){return e.scratch("breadthfirst",t)};function Cu(e){this.options=ge({},wu,Eu,e)}Cu.prototype.run=function(){var e,t=this.options,n=t.cy,r=t.eles,a=r.nodes().filter(function(e){return e.isChildless()}),i=r,o=t.directed,s=t.acyclic||t.maximal||t.maximalAdjustments>0,l=!!t.boundingBox,u=Zt(l?t.boundingBox:structuredClone(n.extent()));if($(t.roots))e=t.roots;else if(H(t.roots)){for(var c=[],d=0;d<t.roots.length;d++){var h=t.roots[d],f=n.getElementById(h);c.push(f)}e=n.collection(c)}else if(W(t.roots))e=n.$(t.roots);else if(o)e=a.roots();else{var p=r.components();e=n.collection();for(var v=function(){var t=p[g],n=t.maxDegree(!1),r=t.filter(function(e){return e.degree(!1)===n});e=e.add(r)},g=0;g<p.length;g++)v()}var y=[],m={},b=function(e,t){null==y[t]&&(y[t]=[]);var n=y[t].length;y[t].push(e),Tu(e,{index:n,depth:t})};i.bfs({roots:e,directed:t.directed,visit:function(e,t,n,r,a){var i=e[0],o=i.id();i.isChildless()&&b(i,a),m[o]=!0}});for(var x=[],w=0;w<a.length;w++){var E=a[w];m[E.id()]||x.push(E)}var k=function(e){for(var t=y[e],n=0;n<t.length;n++){var r=t[n];null!=r?Tu(r,{depth:e,index:n}):(t.splice(n,1),n--)}},T=function(e,n){for(var a=ku(e),i=e.incomers().filter(function(e){return e.isNode()&&r.has(e)}),o=-1,s=e.id(),l=0;l<i.length;l++){var u=i[l],c=ku(u);o=Math.max(o,c.depth)}if(a.depth<=o){if(!t.acyclic&&n[s])return null;var d=o+1;return function(e,t){var n=ku(e),r=n.depth,a=n.index;y[r][a]=null,e.isChildless()&&b(e,t)}(e,d),n[s]=d,!0}return!1};if(o&&s){var C=[],P={},S=function(e){return C.push(e)},B=function(){return C.shift()};for(a.forEach(function(e){return C.push(e)});C.length>0;){var D=B(),_=T(D,P);if(_)D.outgoers().filter(function(e){return e.isNode()&&r.has(e)}).forEach(S);else if(null===_){tt(D.id());break}}}var A=0;if(t.avoidOverlap)for(var M=0;M<a.length;M++){var R=a[M].layoutDimensions(t),I=R.w,N=R.h;A=Math.max(A,I,N)}var L={},z=function(e){if(L[e.id()])return L[e.id()];for(var t=ku(e).depth,n=e.neighborhood(),r=0,i=0,o=0;o<n.length;o++){var s=n[o];if(!s.isEdge()&&!s.isParent()&&a.has(s)){var l=ku(s);if(null!=l){var u=l.index,c=l.depth;if(null!=u&&null!=c){var d=y[c].length;c<t&&(r+=u/d,i++)}}}}return r/=i=Math.max(1,i),0===i&&(r=0),L[e.id()]=r,r},O=function(e,t){var n=z(e)-z(t);return 0===n?ve(e.id(),t.id()):n};void 0!==t.depthSort&&(O=t.depthSort);for(var V=y.length,F=0;F<V;F++)y[F].sort(O),k(F);for(var X=[],j=0;j<x.length;j++)X.push(x[j]);X.length&&(y.unshift(X),V=y.length,function(){for(var e=0;e<V;e++)k(e)}());for(var Y=0,q=0;q<V;q++)Y=Math.max(y[q].length,Y);var U=u.x1+u.w/2,K=u.y1+u.h/2,G=a.reduce(function(e,n){return r=n.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}),{w:-1===e.w?r.w:(e.w+r.w)/2,h:-1===e.h?r.h:(e.h+r.h)/2};var r},{w:-1,h:-1}),Z=Math.max(1===V?0:l?(u.h-2*t.padding-G.h)/(V-1):(u.h-2*t.padding-G.h)/(V+1),A),Q=y.reduce(function(e,t){return Math.max(e,t.length)},0),J={downward:0,leftward:90,upward:180,rightward:-90};-1===Object.keys(J).indexOf(t.direction)&&Je("Invalid direction '".concat(t.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(J).join(", ")));return r.nodes().layoutPositions(this,t,function(e){return Ue(function(e){var n=ku(e),r=n.depth,a=n.index;if(t.circle){var i=Math.min(u.w/2/V,u.h/2/V),o=(i=Math.max(i,A))*r+i-(V>0&&y[0].length<=3?i/2:0),s=2*Math.PI/y[r].length*a;return 0===r&&1===y[0].length&&(o=1),{x:U+o*Math.cos(s),y:K+o*Math.sin(s)}}var c=y[r].length,d=Math.max(1===c?0:l?(u.w-2*t.padding-G.w)/((t.grid?Q:c)-1):(u.w-2*t.padding-G.w)/((t.grid?Q:c)+1),A);return{x:U+(a+1-(c+1)/2)*d,y:K+(r+1-(V+1)/2)*Z}}(e),u,J[t.direction])}),this};var Pu={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Su(e){this.options=ge({},Pu,e)}Su.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,a=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,i=r.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));for(var o,s=Zt(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l=s.x1+s.w/2,u=s.y1+s.h/2,c=(void 0===t.sweep?2*Math.PI-2*Math.PI/i.length:t.sweep)/Math.max(1,i.length-1),d=0,h=0;h<i.length;h++){var f=i[h].layoutDimensions(t),p=f.w,v=f.h;d=Math.max(d,p,v)}if(o=G(t.radius)?t.radius:i.length<=1?0:Math.min(s.h,s.w)/2-d,i.length>1&&t.avoidOverlap){d*=1.75;var g=Math.cos(c)-Math.cos(0),y=Math.sin(c)-Math.sin(0),m=Math.sqrt(d*d/(g*g+y*y));o=Math.max(m,o)}return r.nodes().layoutPositions(this,t,function(e,n){var r=t.startAngle+n*c*(a?1:-1),i=o*Math.cos(r),s=o*Math.sin(r);return{x:l+i,y:u+s}}),this};var Bu,Du={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function _u(e){this.options=ge({},Du,e)}_u.prototype.run=function(){for(var e=this.options,t=e,n=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,r=e.cy,a=t.eles,i=a.nodes().not(":parent"),o=Zt(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s=o.x1+o.w/2,l=o.y1+o.h/2,u=[],c=0,d=0;d<i.length;d++){var h,f=i[d];h=t.concentric(f),u.push({value:h,node:f}),f._private.scratch.concentric=h}i.updateStyle();for(var p=0;p<i.length;p++){var v=i[p].layoutDimensions(t);c=Math.max(c,v.w,v.h)}u.sort(function(e,t){return t.value-e.value});for(var g=t.levelWidth(i),y=[[]],m=y[0],b=0;b<u.length;b++){var x=u[b];if(m.length>0)Math.abs(m[0].value-x.value)>=g&&(m=[],y.push(m));m.push(x)}var w=c+t.minNodeSpacing;if(!t.avoidOverlap){var E=y.length>0&&y[0].length>1,k=(Math.min(o.w,o.h)/2-w)/(y.length+E?1:0);w=Math.min(w,k)}for(var T=0,C=0;C<y.length;C++){var P=y[C],S=void 0===t.sweep?2*Math.PI-2*Math.PI/P.length:t.sweep,B=P.dTheta=S/Math.max(1,P.length-1);if(P.length>1&&t.avoidOverlap){var D=Math.cos(B)-Math.cos(0),_=Math.sin(B)-Math.sin(0),A=Math.sqrt(w*w/(D*D+_*_));T=Math.max(A,T)}P.r=T,T+=w}if(t.equidistant){for(var M=0,R=0,I=0;I<y.length;I++){var N=y[I].r-R;M=Math.max(M,N)}R=0;for(var L=0;L<y.length;L++){var z=y[L];0===L&&(R=z.r),z.r=R,R+=M}}for(var O={},V=0;V<y.length;V++)for(var F=y[V],X=F.dTheta,j=F.r,Y=0;Y<F.length;Y++){var q=F[Y],W=t.startAngle+(n?1:-1)*X*Y,U={x:s+j*Math.cos(W),y:l+j*Math.sin(W)};O[q.node.id()]=U}return a.nodes().layoutPositions(this,t,function(e){var t=e.id();return O[t]}),this};var Au={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Mu(e){this.options=ge({},Au,e),this.options.layout=this;var t=this.options.eles.nodes(),n=this.options.eles.edges().filter(function(e){var n=e.source().data("id"),r=e.target().data("id"),a=t.some(function(e){return e.data("id")===n}),i=t.some(function(e){return e.data("id")===r});return!a||!i});this.options.eles=this.options.eles.not(n)}Mu.prototype.run=function(){var e=this.options,t=e.cy,n=this;n.stopped=!1,!0!==e.animate&&!1!==e.animate||n.emit({type:"layoutstart",layout:n}),Bu=!0===e.debug;var r=Ru(t,n,e);Bu&&undefined(r),e.randomize&&Lu(r);var a=Ie(),i=function(){Ou(r,t,e),!0===e.fit&&t.fit(e.padding)},o=function(t){return!(n.stopped||t>=e.numIter)&&(Vu(r,e),r.temperature=r.temperature*e.coolingFactor,!(r.temperature<e.minTemp))},s=function(){if(!0===e.animate||!1===e.animate)i(),n.one("layoutstop",e.stop),n.emit({type:"layoutstop",layout:n});else{var t=e.eles.nodes(),a=zu(r,e,t);t.layoutPositions(n,e,a)}},l=0,u=!0;if(!0===e.animate){var c=function(){for(var t=0;u&&t<e.refresh;)u=o(l),l++,t++;u?(Ie()-a>=e.animationThreshold&&i(),Re(c)):($u(r,e),s())};c()}else{for(;u;)u=o(l),l++;$u(r,e),s()}return this},Mu.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Mu.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Ru=function(e,t,n){for(var r=n.eles.edges(),a=n.eles.nodes(),i=Zt(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:n.initialTemp,clientWidth:i.w,clientHeight:i.h,boundingBox:i},s=n.eles.components(),l={},u=0;u<s.length;u++)for(var c=s[u],d=0;d<c.length;d++){l[c[d].id()]=u}for(u=0;u<o.nodeSize;u++){var h=(y=a[u]).layoutDimensions(n);(R={}).isLocked=y.locked(),R.id=y.data("id"),R.parentId=y.data("parent"),R.cmptId=l[y.id()],R.children=[],R.positionX=y.position("x"),R.positionY=y.position("y"),R.offsetX=0,R.offsetY=0,R.height=h.w,R.width=h.h,R.maxX=R.positionX+R.width/2,R.minX=R.positionX-R.width/2,R.maxY=R.positionY+R.height/2,R.minY=R.positionY-R.height/2,R.padLeft=parseFloat(y.style("padding")),R.padRight=parseFloat(y.style("padding")),R.padTop=parseFloat(y.style("padding")),R.padBottom=parseFloat(y.style("padding")),R.nodeRepulsion=U(n.nodeRepulsion)?n.nodeRepulsion(y):n.nodeRepulsion,o.layoutNodes.push(R),o.idToIndex[R.id]=u}var f=[],p=0,v=-1,g=[];for(u=0;u<o.nodeSize;u++){var y,m=(y=o.layoutNodes[u]).parentId;null!=m?o.layoutNodes[o.idToIndex[m]].children.push(y.id):(f[++v]=y.id,g.push(y.id))}for(o.graphSet.push(g);p<=v;){var b=f[p++],x=o.idToIndex[b],w=o.layoutNodes[x].children;if(w.length>0){o.graphSet.push(w);for(u=0;u<w.length;u++)f[++v]=w[u]}}for(u=0;u<o.graphSet.length;u++){var E=o.graphSet[u];for(d=0;d<E.length;d++){var k=o.idToIndex[E[d]];o.indexToGraph[k]=u}}for(u=0;u<o.edgeSize;u++){var T=r[u],C={};C.id=T.data("id"),C.sourceId=T.data("source"),C.targetId=T.data("target");var P=U(n.idealEdgeLength)?n.idealEdgeLength(T):n.idealEdgeLength,S=U(n.edgeElasticity)?n.edgeElasticity(T):n.edgeElasticity,B=o.idToIndex[C.sourceId],D=o.idToIndex[C.targetId];if(o.indexToGraph[B]!=o.indexToGraph[D]){for(var _=Iu(C.sourceId,C.targetId,o),A=o.graphSet[_],M=0,R=o.layoutNodes[B];-1===A.indexOf(R.id);)R=o.layoutNodes[o.idToIndex[R.parentId]],M++;for(R=o.layoutNodes[D];-1===A.indexOf(R.id);)R=o.layoutNodes[o.idToIndex[R.parentId]],M++;P*=M*n.nestingFactor}C.idealLength=P,C.elasticity=S,o.layoutEdges.push(C)}return o},Iu=function(e,t,n){var r=Nu(e,t,0,n);return 2>r.count?0:r.graph},Nu=function(e,t,n,r){var a=r.graphSet[n];if(-1<a.indexOf(e)&&-1<a.indexOf(t))return{count:2,graph:n};for(var i=0,o=0;o<a.length;o++){var s=a[o],l=r.idToIndex[s],u=r.layoutNodes[l].children;if(0!==u.length){var c=r.indexToGraph[r.idToIndex[u[0]]],d=Nu(e,t,c,r);if(0!==d.count){if(1!==d.count)return d;if(2===++i)break}}}return{count:i,graph:n}},Lu=function(e,t){for(var n=e.clientWidth,r=e.clientHeight,a=0;a<e.nodeSize;a++){var i=e.layoutNodes[a];0!==i.children.length||i.isLocked||(i.positionX=Math.random()*n,i.positionY=Math.random()*r)}},zu=function(e,t,n){var r=e.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(n.forEach(function(t){var n=e.layoutNodes[e.idToIndex[t.data("id")]];a.x1=Math.min(a.x1,n.positionX),a.x2=Math.max(a.x2,n.positionX),a.y1=Math.min(a.y1,n.positionY),a.y2=Math.max(a.y2,n.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),function(n,i){var o=e.layoutNodes[e.idToIndex[n.data("id")]];if(t.boundingBox){var s=0===a.w?.5:(o.positionX-a.x1)/a.w,l=0===a.h?.5:(o.positionY-a.y1)/a.h;return{x:r.x1+s*r.w,y:r.y1+l*r.h}}return{x:o.positionX,y:o.positionY}}},Ou=function(e,t,n){var r=n.layout,a=n.eles.nodes(),i=zu(e,n,a);a.positions(i),!0!==e.ready&&(e.ready=!0,r.one("layoutready",n.ready),r.emit({type:"layoutready",layout:this}))},Vu=function(e,t,n){Fu(e,t),Wu(e),Uu(e,t),Hu(e),Ku(e)},Fu=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var r=e.graphSet[n],a=r.length,i=0;i<a;i++)for(var o=e.layoutNodes[e.idToIndex[r[i]]],s=i+1;s<a;s++){var l=e.layoutNodes[e.idToIndex[r[s]]];ju(o,l,e,t)}},Xu=function(e){return 2*e*Math.random()-1},ju=function(e,t,n,r){if(e.cmptId===t.cmptId||n.isCompound){var a=t.positionX-e.positionX,i=t.positionY-e.positionY;0===a&&0===i&&(a=Xu(1),i=Xu(1));var o=Yu(e,t,a,i);if(o>0)var s=(u=r.nodeOverlap*o)*a/(v=Math.sqrt(a*a+i*i)),l=u*i/v;else{var u,c=qu(e,a,i),d=qu(t,-1*a,-1*i),h=d.x-c.x,f=d.y-c.y,p=h*h+f*f,v=Math.sqrt(p);s=(u=(e.nodeRepulsion+t.nodeRepulsion)/p)*h/v,l=u*f/v}e.isLocked||(e.offsetX-=s,e.offsetY-=l),t.isLocked||(t.offsetX+=s,t.offsetY+=l)}},Yu=function(e,t,n,r){if(n>0)var a=e.maxX-t.minX;else a=t.maxX-e.minX;if(r>0)var i=e.maxY-t.minY;else i=t.maxY-e.minY;return a>=0&&i>=0?Math.sqrt(a*a+i*i):0},qu=function(e,t,n){var r=e.positionX,a=e.positionY,i=e.height||1,o=e.width||1,s=n/t,l=i/o,u={};return 0===t&&0<n||0===t&&0>n?(u.x=r,u.y=a+i/2,u):0<t&&-1*l<=s&&s<=l?(u.x=r+o/2,u.y=a+o*n/2/t,u):0>t&&-1*l<=s&&s<=l?(u.x=r-o/2,u.y=a-o*n/2/t,u):0<n&&(s<=-1*l||s>=l)?(u.x=r+i*t/2/n,u.y=a+i/2,u):0>n&&(s<=-1*l||s>=l)?(u.x=r-i*t/2/n,u.y=a-i/2,u):u},Wu=function(e,t){for(var n=0;n<e.edgeSize;n++){var r=e.layoutEdges[n],a=e.idToIndex[r.sourceId],i=e.layoutNodes[a],o=e.idToIndex[r.targetId],s=e.layoutNodes[o],l=s.positionX-i.positionX,u=s.positionY-i.positionY;if(0!==l||0!==u){var c=qu(i,l,u),d=qu(s,-1*l,-1*u),h=d.x-c.x,f=d.y-c.y,p=Math.sqrt(h*h+f*f),v=Math.pow(r.idealLength-p,2)/r.elasticity;if(0!==p)var g=v*h/p,y=v*f/p;else g=0,y=0;i.isLocked||(i.offsetX+=g,i.offsetY+=y),s.isLocked||(s.offsetX-=g,s.offsetY-=y)}}},Uu=function(e,t){if(0!==t.gravity)for(var n=0;n<e.graphSet.length;n++){var r=e.graphSet[n],a=r.length;if(0===n)var i=e.clientHeight/2,o=e.clientWidth/2;else{var s=e.layoutNodes[e.idToIndex[r[0]]],l=e.layoutNodes[e.idToIndex[s.parentId]];i=l.positionX,o=l.positionY}for(var u=0;u<a;u++){var c=e.layoutNodes[e.idToIndex[r[u]]];if(!c.isLocked){var d=i-c.positionX,h=o-c.positionY,f=Math.sqrt(d*d+h*h);if(f>1){var p=t.gravity*d/f,v=t.gravity*h/f;c.offsetX+=p,c.offsetY+=v}}}}},Hu=function(e,t){var n=[],r=0,a=-1;for(n.push.apply(n,e.graphSet[0]),a+=e.graphSet[0].length;r<=a;){var i=n[r++],o=e.idToIndex[i],s=e.layoutNodes[o],l=s.children;if(0<l.length&&!s.isLocked){for(var u=s.offsetX,c=s.offsetY,d=0;d<l.length;d++){var h=e.layoutNodes[e.idToIndex[l[d]]];h.offsetX+=u,h.offsetY+=c,n[++a]=l[d]}s.offsetX=0,s.offsetY=0}}},Ku=function(e,t){for(var n=0;n<e.nodeSize;n++){0<(a=e.layoutNodes[n]).children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(n=0;n<e.nodeSize;n++){if(!(0<(a=e.layoutNodes[n]).children.length||a.isLocked)){var r=Gu(a.offsetX,a.offsetY,e.temperature);a.positionX+=r.x,a.positionY+=r.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,Zu(a,e)}}for(n=0;n<e.nodeSize;n++){var a;0<(a=e.layoutNodes[n]).children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},Gu=function(e,t,n){var r=Math.sqrt(e*e+t*t);if(r>n)var a={x:n*e/r,y:n*t/r};else a={x:e,y:t};return a},Zu=function(e,t){var n=e.parentId;if(null!=n){var r=t.layoutNodes[t.idToIndex[n]],a=!1;return(null==r.maxX||e.maxX+r.padRight>r.maxX)&&(r.maxX=e.maxX+r.padRight,a=!0),(null==r.minX||e.minX-r.padLeft<r.minX)&&(r.minX=e.minX-r.padLeft,a=!0),(null==r.maxY||e.maxY+r.padBottom>r.maxY)&&(r.maxY=e.maxY+r.padBottom,a=!0),(null==r.minY||e.minY-r.padTop<r.minY)&&(r.minY=e.minY-r.padTop,a=!0),a?Zu(r,t):void 0}},$u=function(e,t){for(var n=e.layoutNodes,r=[],a=0;a<n.length;a++){var i=n[a],o=i.cmptId;(r[o]=r[o]||[]).push(i)}var s=0;for(a=0;a<r.length;a++){if(v=r[a]){v.x1=1/0,v.x2=-1/0,v.y1=1/0,v.y2=-1/0;for(var l=0;l<v.length;l++){var u=v[l];v.x1=Math.min(v.x1,u.positionX-u.width/2),v.x2=Math.max(v.x2,u.positionX+u.width/2),v.y1=Math.min(v.y1,u.positionY-u.height/2),v.y2=Math.max(v.y2,u.positionY+u.height/2)}v.w=v.x2-v.x1,v.h=v.y2-v.y1,s+=v.w*v.h}}r.sort(function(e,t){return t.w*t.h-e.w*e.h});var c=0,d=0,h=0,f=0,p=Math.sqrt(s)*e.clientWidth/e.clientHeight;for(a=0;a<r.length;a++){var v;if(v=r[a]){for(l=0;l<v.length;l++){(u=v[l]).isLocked||(u.positionX+=c-v.x1,u.positionY+=d-v.y1)}c+=v.w+t.componentSpacing,h+=v.w+t.componentSpacing,f=Math.max(f,v.h),h>p&&(d+=f+t.componentSpacing,c=0,h=0,f=0)}}},Qu={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Ju(e){this.options=ge({},Qu,e)}Ju.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,a=r.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));var i=Zt(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===i.h||0===i.w)r.nodes().layoutPositions(this,t,function(e){return{x:i.x1,y:i.y1}});else{var o=a.size(),s=Math.sqrt(o*i.h/i.w),l=Math.round(s),u=Math.round(i.w/i.h*s),c=function(e){if(null==e)return Math.min(l,u);Math.min(l,u)==l?l=e:u=e},d=function(e){if(null==e)return Math.max(l,u);Math.max(l,u)==l?l=e:u=e},h=t.rows,f=null!=t.cols?t.cols:t.columns;if(null!=h&&null!=f)l=h,u=f;else if(null!=h&&null==f)l=h,u=Math.ceil(o/l);else if(null==h&&null!=f)u=f,l=Math.ceil(o/u);else if(u*l>o){var p=c(),v=d();(p-1)*v>=o?c(p-1):(v-1)*p>=o&&d(v-1)}else for(;u*l<o;){var g=c(),y=d();(y+1)*g>=o?d(y+1):c(g+1)}var m=i.w/u,b=i.h/l;if(t.condense&&(m=0,b=0),t.avoidOverlap)for(var x=0;x<a.length;x++){var w=a[x],E=w._private.position;null!=E.x&&null!=E.y||(E.x=0,E.y=0);var k=w.layoutDimensions(t),T=t.avoidOverlapPadding,C=k.w+T,P=k.h+T;m=Math.max(m,C),b=Math.max(b,P)}for(var S={},B=function(e,t){return!!S["c-"+e+"-"+t]},D=function(e,t){S["c-"+e+"-"+t]=!0},_=0,A=0,M=function(){++A>=u&&(A=0,_++)},R={},I=0;I<a.length;I++){var N=a[I],L=t.position(N);if(L&&(void 0!==L.row||void 0!==L.col)){var z={row:L.row,col:L.col};if(void 0===z.col)for(z.col=0;B(z.row,z.col);)z.col++;else if(void 0===z.row)for(z.row=0;B(z.row,z.col);)z.row++;R[N.id()]=z,D(z.row,z.col)}}a.layoutPositions(this,t,function(e,t){var n,r;if(e.locked()||e.isParent())return!1;var a=R[e.id()];if(a)n=a.col*m+m/2+i.x1,r=a.row*b+b/2+i.y1;else{for(;B(_,A);)M();n=A*m+m/2+i.x1,r=_*b+b/2+i.y1,D(_,A),M()}return{x:n,y:r}})}return this};var ec={ready:function(){},stop:function(){}};function tc(e){this.options=ge({},ec,e)}tc.prototype.run=function(){var e=this.options,t=e.eles,n=this;return e.cy,n.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),n.one("layoutready",e.ready),n.emit("layoutready"),n.one("layoutstop",e.stop),n.emit("layoutstop"),this},tc.prototype.stop=function(){return this};var nc={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function rc(e){this.options=ge({},nc,e)}rc.prototype.run=function(){var e=this.options,t=e.eles.nodes(),n=U(e.positions);return t.layoutPositions(this,e,function(t,r){var a=function(t){if(null==e.positions)return function(e){return{x:e.x,y:e.y}}(t.position());if(n)return e.positions(t);var r=e.positions[t._private.data.id];return null==r?null:r}(t);return!t.locked()&&null!=a&&a}),this};var ac={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function ic(e){this.options=ge({},ac,e)}ic.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles,r=Zt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});return n.nodes().layoutPositions(this,e,function(e,t){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}}),this};var oc=[{name:"breadthfirst",impl:Cu},{name:"circle",impl:Su},{name:"concentric",impl:_u},{name:"cose",impl:Mu},{name:"grid",impl:Ju},{name:"null",impl:tc},{name:"preset",impl:rc},{name:"random",impl:ic}];function sc(e){this.options=e,this.notifications=0}var lc=function(){},uc=function(){throw new Error("A headless instance can not render images")};sc.prototype={recalculateRenderedStyle:lc,notify:function(){this.notifications++},init:lc,isHeadless:function(){return!0},png:uc,jpg:uc};var cc={arrowShapeWidth:.3,registerArrowShapes:function(){var e=this.arrowShapes={},t=this,n=function(e,t,n,r,a,i,o){var s=a.x-n/2-o,l=a.x+n/2+o,u=a.y-n/2-o,c=a.y+n/2+o;return s<=e&&e<=l&&u<=t&&t<=c},r=function(e,t,n,r,a){var i=e*Math.cos(r)-t*Math.sin(r),o=(e*Math.sin(r)+t*Math.cos(r))*n;return{x:i*n+a.x,y:o+a.y}},a=function(e,t,n,a){for(var i=[],o=0;o<e.length;o+=2){var s=e[o],l=e[o+1];i.push(r(s,l,t,n,a))}return i},i=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r.x,r.y)}return t},o=function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").pfValue*2},s=function(r,s){W(s)&&(s=e[s]),e[r]=ge({name:r,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,n,r,o,s){var l=i(a(this.points,n+2*s,r,o));return pn(e,t,l)},roughCollide:n,draw:function(e,n,r,i){var o=a(this.points,n,r,i);t.arrowShapeImpl("polygon")(e,o)},spacing:function(e){return 0},gap:o},s)};s("none",{collide:Ze,roughCollide:Ze,draw:Qe,spacing:$e,gap:$e}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(e,n,i,o,s){var l=a(this.points,n,i,o),u=this.controlPoint,c=r(u[0],u[1],n,i,o);t.arrowShapeImpl(this.name)(e,l,c)},gap:function(e){return.8*o(e)}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,n,r,o,s,l){var u=i(a(this.points,n+2*l,r,o)),c=i(a(this.pointsTee,n+2*l,r,o));return pn(e,t,u)||pn(e,t,c)},draw:function(e,n,r,i,o){var s=a(this.points,n,r,i),l=a(this.pointsTee,n,r,i);t.arrowShapeImpl(this.name)(e,s,l)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(e,t,n,r,o,s,l){var u=o,c=Math.pow(u.x-e,2)+Math.pow(u.y-t,2)<=Math.pow((n+2*l)*this.radius,2),d=i(a(this.points,n+2*l,r,o));return pn(e,t,d)||c},draw:function(e,n,r,i,o){var s=a(this.pointsTr,n,r,i);t.arrowShapeImpl(this.name)(e,s,i.x,i.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(e,t){var n=this.baseCrossLinePts.slice(),r=t/e;return n[3]=n[3]-r,n[5]=n[5]-r,n},collide:function(e,t,n,r,o,s,l){var u=i(a(this.points,n+2*l,r,o)),c=i(a(this.crossLinePts(n,s),n+2*l,r,o));return pn(e,t,u)||pn(e,t,c)},draw:function(e,n,r,i,o){var s=a(this.points,n,r,i),l=a(this.crossLinePts(n,o),n,r,i);t.arrowShapeImpl(this.name)(e,s,l)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return.525*o(e)}}),s("circle",{radius:.15,collide:function(e,t,n,r,a,i,o){var s=a;return Math.pow(s.x-e,2)+Math.pow(s.y-t,2)<=Math.pow((n+2*o)*this.radius,2)},draw:function(e,n,r,a,i){t.arrowShapeImpl(this.name)(e,a.x,a.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(e){return 1},gap:function(e){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(e){return.95*e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}})}},dc={projectIntoViewport:function(e,t){var n=this.cy,r=this.findContainerClientCoords(),a=r[0],i=r[1],o=r[4],s=n.pan(),l=n.zoom();return[((e-a)/o-s.x)/l,((t-i)/o-s.y)/l]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),n=this.cy.window().getComputedStyle(e),r=function(e){return parseFloat(n.getPropertyValue(e))},a=r("padding-left"),i=r("padding-right"),o=r("padding-top"),s=r("padding-bottom"),l=r("border-left-width"),u=r("border-right-width"),c=r("border-top-width"),d=(r("border-bottom-width"),e.clientWidth),h=e.clientHeight,f=a+i,p=o+s,v=l+u,g=t.width/(d+v),y=d-f,m=h-p,b=t.left+a+l,x=t.top+o+c;return this.containerBB=[b,x,y,m,g]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(e,t,n,r){return this.findNearestElements(e,t,n,r)[0]},findNearestElements:function(e,t,n,r){var a,i,o=this,s=this,l=s.getCachedZSortedEles(),u=[],c=s.cy.zoom(),d=s.cy.hasCompoundNodes(),h=(r?24:8)/c,f=(r?8:2)/c,p=(r?8:2)/c,v=1/0;function g(e,t){if(e.isNode()){if(i)return;i=e,u.push(e)}if(e.isEdge()&&(null==t||t<v))if(a){if(a.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value&&a.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value)for(var n=0;n<u.length;n++)if(u[n].isEdge()){u[n]=e,a=e,v=null!=t?t:v;break}}else u.push(e),a=e,v=null!=t?t:v}function y(n){var r=n.outerWidth()+2*f,a=n.outerHeight()+2*f,i=r/2,l=a/2,u=n.position(),c="auto"===n.pstyle("corner-radius").value?"auto":n.pstyle("corner-radius").pfValue,d=n._private.rscratch;if(u.x-i<=e&&e<=u.x+i&&u.y-l<=t&&t<=u.y+l&&s.nodeShapes[o.getNodeShape(n)].checkPoint(e,t,0,r,a,u.x,u.y,c,d))return g(n,0),!0}function m(n){var r,a=n._private,i=a.rscratch,l=n.pstyle("width").pfValue,c=n.pstyle("arrow-scale").value,f=l/2+h,p=f*f,v=2*f,m=a.source,b=a.target;if("segments"===i.edgeType||"straight"===i.edgeType||"haystack"===i.edgeType){for(var x=i.allpts,w=0;w+3<x.length;w+=2)if(cn(e,t,x[w],x[w+1],x[w+2],x[w+3],v)&&p>(r=fn(e,t,x[w],x[w+1],x[w+2],x[w+3])))return g(n,r),!0}else if("bezier"===i.edgeType||"multibezier"===i.edgeType||"self"===i.edgeType||"compound"===i.edgeType)for(x=i.allpts,w=0;w+5<i.allpts.length;w+=4)if(dn(e,t,x[w],x[w+1],x[w+2],x[w+3],x[w+4],x[w+5],v)&&p>(r=hn(e,t,x[w],x[w+1],x[w+2],x[w+3],x[w+4],x[w+5])))return g(n,r),!0;m=m||a.source,b=b||a.target;var E=o.getArrowWidth(l,c),k=[{name:"source",x:i.arrowStartX,y:i.arrowStartY,angle:i.srcArrowAngle},{name:"target",x:i.arrowEndX,y:i.arrowEndY,angle:i.tgtArrowAngle},{name:"mid-source",x:i.midX,y:i.midY,angle:i.midsrcArrowAngle},{name:"mid-target",x:i.midX,y:i.midY,angle:i.midtgtArrowAngle}];for(w=0;w<k.length;w++){var T=k[w],C=s.arrowShapes[n.pstyle(T.name+"-arrow-shape").value],P=n.pstyle("width").pfValue;if(C.roughCollide(e,t,E,T.angle,{x:T.x,y:T.y},P,h)&&C.collide(e,t,E,T.angle,{x:T.x,y:T.y},P,h))return g(n),!0}d&&u.length>0&&(y(m),y(b))}function b(e,t,n){return ut(e,t,n)}function x(n,r){var a,i=n._private,o=p;a=r?r+"-":"",n.boundingBox();var s=i.labelBounds[r||"main"],l=n.pstyle(a+"label").value;if("yes"===n.pstyle("text-events").strValue&&l){var u=b(i.rscratch,"labelX",r),c=b(i.rscratch,"labelY",r),d=b(i.rscratch,"labelAngle",r),h=n.pstyle(a+"text-margin-x").pfValue,f=n.pstyle(a+"text-margin-y").pfValue,v=s.x1-o-h,y=s.x2+o-h,m=s.y1-o-f,x=s.y2+o-f;if(d){var w=Math.cos(d),E=Math.sin(d),k=function(e,t){return{x:(e-=u)*w-(t-=c)*E+u,y:e*E+t*w+c}},T=k(v,m),C=k(v,x),P=k(y,m),S=k(y,x),B=[T.x+h,T.y+f,P.x+h,P.y+f,S.x+h,S.y+f,C.x+h,C.y+f];if(pn(e,t,B))return g(n),!0}else if(rn(s,e,t))return g(n),!0}}n&&(l=l.interactive);for(var w=l.length-1;w>=0;w--){var E=l[w];E.isNode()?y(E)||x(E):m(E)||x(E)||x(E,"source")||x(E,"target")}return u},getAllInBox:function(e,t,n,r){var a=this.getCachedZSortedEles().interactive,o=2/this.cy.zoom(),s=[],l=Math.min(e,n),u=Math.max(e,n),c=Math.min(t,r),d=Math.max(t,r),h=Zt({x1:e=l,y1:t=c,x2:n=u,y2:r=d}),f=[{x:h.x1,y:h.y1},{x:h.x2,y:h.y1},{x:h.x2,y:h.y2},{x:h.x1,y:h.y2}],p=[[f[0],f[1]],[f[1],f[2]],[f[2],f[3]],[f[3],f[0]]];function v(e,t,n){return ut(e,t,n)}function g(e,t){var n=e._private,r=o;e.boundingBox();var a=n.labelBounds.main;if(!a)return null;var i=v(n.rscratch,"labelX",t),s=v(n.rscratch,"labelY",t),l=v(n.rscratch,"labelAngle",t),u=e.pstyle("text-margin-x").pfValue,c=e.pstyle("text-margin-y").pfValue,d=a.x1-r-u,h=a.x2+r-u,f=a.y1-r-c,p=a.y2+r-c;if(l){var g=Math.cos(l),y=Math.sin(l),m=function(e,t){return{x:(e-=i)*g-(t-=s)*y+i,y:e*y+t*g+s}};return[m(d,f),m(h,f),m(h,p),m(d,p)]}return[{x:d,y:f},{x:h,y:f},{x:h,y:p},{x:d,y:p}]}function y(e,t,n,r){function a(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}return a(e,n,r)!==a(t,n,r)&&a(e,t,n)!==a(e,t,r)}for(var m=0;m<a.length;m++){var b=a[m];if(b.isNode()){var x=b,w="yes"===x.pstyle("text-events").strValue,E=x.pstyle("box-selection").strValue,k="yes"===x.pstyle("box-select-labels").strValue;if("none"===E)continue;var T=("overlap"===E||k)&&w,C=x.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:T});if("contain"===E){var P=!1;if(k&&w){var S=g(x);S&&An(S,f)&&(s.push(x),P=!0)}!P&&on(h,C)&&s.push(x)}else if("overlap"===E&&nn(h,C)){var B=x.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1});if(An([{x:B.x1,y:B.y1},{x:B.x2,y:B.y1},{x:B.x2,y:B.y2},{x:B.x1,y:B.y2}],f))s.push(x);else{var D=g(x);D&&An(D,f)&&s.push(x)}}}else{var _=b,A=_._private,M=A.rscratch,R=_.pstyle("box-selection").strValue;if("none"===R)continue;if("contain"===R){if(null!=M.startX&&null!=M.startY&&!rn(h,M.startX,M.startY))continue;if(null!=M.endX&&null!=M.endY&&!rn(h,M.endX,M.endY))continue;if("bezier"===M.edgeType||"multibezier"===M.edgeType||"self"===M.edgeType||"compound"===M.edgeType||"segments"===M.edgeType||"haystack"===M.edgeType){for(var I=A.rstyle.bezierPts||A.rstyle.linePts||A.rstyle.haystackPts,N=!0,L=0;L<I.length;L++)if(!an(h,I[L])){N=!1;break}N&&s.push(_)}else"straight"===M.edgeType&&s.push(_)}else if("overlap"===R){var z=!1;if(null!=M.startX&&null!=M.startY&&null!=M.endX&&null!=M.endY&&(rn(h,M.startX,M.startY)||rn(h,M.endX,M.endY)))s.push(_),z=!0;else if(!z&&"haystack"===M.edgeType)for(var O=A.rstyle.haystackPts,V=0;V<O.length;V++)if(an(h,O[V])){s.push(_),z=!0;break}if(!z){var F=A.rstyle.bezierPts||A.rstyle.linePts||A.rstyle.haystackPts;if((!F||F.length<2)&&"straight"===M.edgeType&&null!=M.startX&&null!=M.startY&&null!=M.endX&&null!=M.endY&&(F=[{x:M.startX,y:M.startY},{x:M.endX,y:M.endY}]),!F||F.length<2)continue;for(var X=0;X<F.length-1;X++){for(var j=F[X],Y=F[X+1],q=0;q<p.length;q++){var W=i(p[q],2);if(y(j,Y,W[0],W[1])){s.push(_),z=!0;break}}if(z)break}}}}}return s}},hc={calculateArrowAngles:function(e){var t,n,r,a,i,o,s=e._private.rscratch,l="haystack"===s.edgeType,u="bezier"===s.edgeType,c="multibezier"===s.edgeType,d="segments"===s.edgeType,h="compound"===s.edgeType,f="self"===s.edgeType;if(l?(r=s.haystackPts[0],a=s.haystackPts[1],i=s.haystackPts[2],o=s.haystackPts[3]):(r=s.arrowStartX,a=s.arrowStartY,i=s.arrowEndX,o=s.arrowEndY),v=s.midX,g=s.midY,d)t=r-s.segpts[0],n=a-s.segpts[1];else if(c||h||f||u){var p=s.allpts;t=r-Ht(p[0],p[2],p[4],.1),n=a-Ht(p[1],p[3],p[5],.1)}else t=r-v,n=a-g;s.srcArrowAngle=Xt(t,n);var v=s.midX,g=s.midY;if(l&&(v=(r+i)/2,g=(a+o)/2),t=i-r,n=o-a,d)if((p=s.allpts).length/2%2==0){var y=(C=p.length/2)-2;t=p[C]-p[y],n=p[C+1]-p[y+1]}else if(s.isRound)t=s.midVector[1],n=-s.midVector[0];else{y=(C=p.length/2-1)-2;t=p[C]-p[y],n=p[C+1]-p[y+1]}else if(c||h||f){var m,b,x,w,p=s.allpts;if(s.ctrlpts.length/2%2==0){var E=(k=(T=p.length/2-1)+2)+2;m=Ht(p[T],p[k],p[E],0),b=Ht(p[T+1],p[k+1],p[E+1],0),x=Ht(p[T],p[k],p[E],1e-4),w=Ht(p[T+1],p[k+1],p[E+1],1e-4)}else{var k,T;E=(k=p.length/2-1)+2;m=Ht(p[T=k-2],p[k],p[E],.4999),b=Ht(p[T+1],p[k+1],p[E+1],.4999),x=Ht(p[T],p[k],p[E],.5),w=Ht(p[T+1],p[k+1],p[E+1],.5)}t=x-m,n=w-b}if(s.midtgtArrowAngle=Xt(t,n),s.midDispX=t,s.midDispY=n,t*=-1,n*=-1,d)if((p=s.allpts).length/2%2==0);else if(!s.isRound){var C,P=(C=p.length/2-1)+2;t=-(p[P]-p[C]),n=-(p[P+1]-p[C+1])}if(s.midsrcArrowAngle=Xt(t,n),d)t=i-s.segpts[s.segpts.length-2],n=o-s.segpts[s.segpts.length-1];else if(c||h||f||u){var S=(p=s.allpts).length;t=i-Ht(p[S-6],p[S-4],p[S-2],.9),n=o-Ht(p[S-5],p[S-3],p[S-1],.9)}else t=i-v,n=o-g;s.tgtArrowAngle=Xt(t,n)}};hc.getArrowWidth=hc.getArrowHeight=function(e,t){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[e+", "+t];return r||(r=Math.max(Math.pow(13.37*e,.9),29)*t,n[e+", "+t]=r,r)};var fc,pc,vc,gc,yc,mc,bc,xc,wc,Ec,kc,Tc,Cc,Pc,Sc,Bc,Dc,_c={},Ac={},Mc=function(e,t,n){n.x=t.x-e.x,n.y=t.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},Rc=function(e,t,n,r,a){var i,o;if(e!==Dc?Mc(t,e,_c):((o=_c).x=-1*(i=Ac).x,o.y=-1*i.y,o.nx=-1*i.nx,o.ny=-1*i.ny,o.ang=i.ang>0?-(Math.PI-i.ang):Math.PI+i.ang),Mc(t,n,Ac),vc=_c.nx*Ac.ny-_c.ny*Ac.nx,gc=_c.nx*Ac.nx-_c.ny*-Ac.ny,bc=Math.asin(Math.max(-1,Math.min(1,vc))),Math.abs(bc)<1e-6)return fc=t.x,pc=t.y,void(wc=kc=0);yc=1,mc=!1,gc<0?bc<0?bc=Math.PI+bc:(bc=Math.PI-bc,yc=-1,mc=!0):bc>0&&(yc=-1,mc=!0),kc=void 0!==t.radius?t.radius:r,xc=bc/2,Tc=Math.min(_c.len/2,Ac.len/2),a?(Ec=Math.abs(Math.cos(xc)*kc/Math.sin(xc)))>Tc?(Ec=Tc,wc=Math.abs(Ec*Math.sin(xc)/Math.cos(xc))):wc=kc:(Ec=Math.min(Tc,kc),wc=Math.abs(Ec*Math.sin(xc)/Math.cos(xc))),Sc=t.x+Ac.nx*Ec,Bc=t.y+Ac.ny*Ec,fc=Sc-Ac.ny*wc*yc,pc=Bc+Ac.nx*wc*yc,Cc=t.x+_c.nx*Ec,Pc=t.y+_c.ny*Ec,Dc=t};function Ic(e,t){0===t.radius?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function Nc(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return 0===r||0===t.radius?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(Rc(e,t,n,r,a),{cx:fc,cy:pc,radius:wc,startX:Cc,startY:Pc,stopX:Sc,stopY:Bc,startAngle:_c.ang+Math.PI/2*yc,endAngle:Ac.ang-Math.PI/2*yc,counterClockwise:mc})}var Lc=.01,zc=Math.sqrt(.02),Oc={};function Vc(e){var t=[];if(null!=e){for(var n=0;n<e.length;n+=2){var r=e[n],a=e[n+1];t.push({x:r,y:a})}return t}}Oc.findMidptPtsEtc=function(e,t){var n,r=t.posPts,a=t.intersectionPts,o=t.vectorNormInverse,s=e.pstyle("source-endpoint"),l=e.pstyle("target-endpoint"),u=null!=s.units&&null!=l.units;switch(e.pstyle("edge-distances").value){case"node-position":n=r;break;case"intersection":n=a;break;case"endpoints":if(u){var c=i(this.manualEndptToPx(e.source()[0],s),2),d=c[0],h=c[1],f=i(this.manualEndptToPx(e.target()[0],l),2),p=f[0],v=f[1],g={x1:d,y1:h,x2:p,y2:v};o=function(e,t,n,r){var a=r-t,i=n-e,o=Math.sqrt(i*i+a*a);return{x:-a/o,y:i/o}}(d,h,p,v),n=g}else tt("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),n=a}return{midptPts:n,vectorNormInverse:o}},Oc.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n._private,a=r.rscratch;if(!a.haystack){var i=2*Math.random()*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=2*Math.random()*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var o=r.source,s=r.target,l=o.position(),u=s.position(),c=o.width(),d=s.width(),h=o.height(),f=s.height(),p=n.pstyle("haystack-radius").value/2;a.haystackPts=a.allpts=[a.source.x*c*p+l.x,a.source.y*h*p+l.y,a.target.x*d*p+u.x,a.target.y*f*p+u.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}},Oc.findSegmentsPoints=function(e,t){var n=e._private.rscratch,r=e.pstyle("segment-weights"),a=e.pstyle("segment-distances"),i=e.pstyle("segment-radii"),o=e.pstyle("radius-type"),s=Math.min(r.pfValue.length,a.pfValue.length),l=i.pfValue[i.pfValue.length-1],u=o.pfValue[o.pfValue.length-1];n.edgeType="segments",n.segpts=[],n.radii=[],n.isArcRadius=[];for(var c=0;c<s;c++){var d=r.pfValue[c],h=a.pfValue[c],f=1-d,p=d,v=this.findMidptPtsEtc(e,t),g=v.midptPts,y=v.vectorNormInverse,m={x:g.x1*f+g.x2*p,y:g.y1*f+g.y2*p};n.segpts.push(m.x+y.x*h,m.y+y.y*h),n.radii.push(void 0!==i.pfValue[c]?i.pfValue[c]:l),n.isArcRadius.push("arc-radius"===(void 0!==o.pfValue[c]?o.pfValue[c]:u))}},Oc.findLoopPoints=function(e,t,n,r){var a=e._private.rscratch,i=t.dirCounts,o=t.srcPos,s=e.pstyle("control-point-distances"),l=s?s.pfValue[0]:void 0,u=e.pstyle("loop-direction").pfValue,c=e.pstyle("loop-sweep").pfValue,d=e.pstyle("control-point-step-size").pfValue;a.edgeType="self";var h=n,f=d;r&&(h=0,f=l);var p=u-Math.PI/2,v=p-c/2,g=p+c/2,y=String(u+"_"+c);h=void 0===i[y]?i[y]=0:++i[y],a.ctrlpts=[o.x+1.4*Math.cos(v)*f*(h/3+1),o.y+1.4*Math.sin(v)*f*(h/3+1),o.x+1.4*Math.cos(g)*f*(h/3+1),o.y+1.4*Math.sin(g)*f*(h/3+1)]},Oc.findCompoundLoopPoints=function(e,t,n,r){var a=e._private.rscratch;a.edgeType="compound";var i=t.srcPos,o=t.tgtPos,s=t.srcW,l=t.srcH,u=t.tgtW,c=t.tgtH,d=e.pstyle("control-point-step-size").pfValue,h=e.pstyle("control-point-distances"),f=h?h.pfValue[0]:void 0,p=n,v=d;r&&(p=0,v=f);var g={x:i.x-s/2,y:i.y-l/2},y={x:o.x-u/2,y:o.y-c/2},m={x:Math.min(g.x,y.x),y:Math.min(g.y,y.y)},b=Math.max(.5,Math.log(s*Lc)),x=Math.max(.5,Math.log(u*Lc));a.ctrlpts=[m.x,m.y-(1+Math.pow(50,1.12)/100)*v*(p/3+1)*b,m.x-(1+Math.pow(50,1.12)/100)*v*(p/3+1)*x,m.y]},Oc.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"},Oc.findBezierPoints=function(e,t,n,r,a){var i=e._private.rscratch,o=e.pstyle("control-point-step-size").pfValue,s=e.pstyle("control-point-distances"),l=e.pstyle("control-point-weights"),u=s&&l?Math.min(s.value.length,l.value.length):1,c=s?s.pfValue[0]:void 0,d=l.value[0],h=r;i.edgeType=h?"multibezier":"bezier",i.ctrlpts=[];for(var f=0;f<u;f++){var p=(.5-t.eles.length/2+n)*o*(a?-1:1),v=void 0,g=Yt(p);h&&(c=s?s.pfValue[f]:o,d=l.value[f]);var y=void 0!==(v=r?c:void 0!==c?g*c:void 0)?v:p,m=1-d,b=d,x=this.findMidptPtsEtc(e,t),w=x.midptPts,E=x.vectorNormInverse,k={x:w.x1*m+w.x2*b,y:w.y1*m+w.y2*b};i.ctrlpts.push(k.x+E.x*y,k.y+E.y*y)}},Oc.findTaxiPoints=function(e,t){var n=e._private.rscratch;n.edgeType="segments";var r="vertical",a="horizontal",i="leftward",o="rightward",s="downward",l="upward",u=t.posPts,c=t.srcW,d=t.srcH,h=t.tgtW,f=t.tgtH,p="node-position"!==e.pstyle("edge-distances").value,v=e.pstyle("taxi-direction").value,g=v,y=e.pstyle("taxi-turn"),m="%"===y.units,b=y.pfValue,x=b<0,w=e.pstyle("taxi-turn-min-distance").pfValue,E=p?(c+h)/2:0,k=p?(d+f)/2:0,T=u.x2-u.x1,C=u.y2-u.y1,P=function(e,t){return e>0?Math.max(e-t,0):Math.min(e+t,0)},S=P(T,E),B=P(C,k),D=!1;"auto"===g?v=Math.abs(S)>Math.abs(B)?a:r:g===l||g===s?(v=r,D=!0):g!==i&&g!==o||(v=a,D=!0);var _,A=v===r,M=A?B:S,R=A?C:T,I=Yt(R),N=!1;(D&&(m||x)||!(g===s&&R<0||g===l&&R>0||g===i&&R>0||g===o&&R<0)||(M=(I*=-1)*Math.abs(M),N=!0),m)?_=(b<0?1+b:b)*M:_=(b<0?M:0)+b*I;var L=function(e){return Math.abs(e)<w||Math.abs(e)>=Math.abs(M)},z=L(_),O=L(Math.abs(M)-Math.abs(_));if((z||O)&&!N)if(A){var V=Math.abs(R)<=d/2,F=Math.abs(T)<=h/2;if(V){var X=(u.x1+u.x2)/2,j=u.y1,Y=u.y2;n.segpts=[X,j,X,Y]}else if(F){var q=(u.y1+u.y2)/2,W=u.x1,U=u.x2;n.segpts=[W,q,U,q]}else n.segpts=[u.x1,u.y2]}else{var H=Math.abs(R)<=c/2,K=Math.abs(C)<=f/2;if(H){var G=(u.y1+u.y2)/2,Z=u.x1,$=u.x2;n.segpts=[Z,G,$,G]}else if(K){var Q=(u.x1+u.x2)/2,J=u.y1,ee=u.y2;n.segpts=[Q,J,Q,ee]}else n.segpts=[u.x2,u.y1]}else if(A){var te=u.y1+_+(p?d/2*I:0),ne=u.x1,re=u.x2;n.segpts=[ne,te,re,te]}else{var ae=u.x1+_+(p?c/2*I:0),ie=u.y1,oe=u.y2;n.segpts=[ae,ie,ae,oe]}if(n.isRound){var se=e.pstyle("taxi-radius").value,le="arc-radius"===e.pstyle("radius-type").value[0];n.radii=new Array(n.segpts.length/2).fill(se),n.isArcRadius=new Array(n.segpts.length/2).fill(le)}},Oc.tryToCorrectInvalidPoints=function(e,t){var n=e._private.rscratch;if("bezier"===n.edgeType){var r=t.srcPos,a=t.tgtPos,i=t.srcW,o=t.srcH,s=t.tgtW,l=t.tgtH,u=t.srcShape,c=t.tgtShape,d=t.srcCornerRadius,h=t.tgtCornerRadius,f=t.srcRs,p=t.tgtRs,v=!G(n.startX)||!G(n.startY),g=!G(n.arrowStartX)||!G(n.arrowStartY),y=!G(n.endX)||!G(n.endY),m=!G(n.arrowEndX)||!G(n.arrowEndY),b=3*(this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth),x=qt({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),w=x<b,E=qt({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),k=E<b,T=!1;if(v||g||w){T=!0;var C={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},P=Math.sqrt(C.x*C.x+C.y*C.y),S={x:C.x/P,y:C.y/P},B=Math.max(i,o),D={x:n.ctrlpts[0]+2*S.x*B,y:n.ctrlpts[1]+2*S.y*B},_=u.intersectLine(r.x,r.y,i,o,D.x,D.y,0,d,f);w?(n.ctrlpts[0]=n.ctrlpts[0]+S.x*(b-x),n.ctrlpts[1]=n.ctrlpts[1]+S.y*(b-x)):(n.ctrlpts[0]=_[0]+S.x*b,n.ctrlpts[1]=_[1]+S.y*b)}if(y||m||k){T=!0;var A={x:n.ctrlpts[0]-a.x,y:n.ctrlpts[1]-a.y},M=Math.sqrt(A.x*A.x+A.y*A.y),R={x:A.x/M,y:A.y/M},I=Math.max(i,o),N={x:n.ctrlpts[0]+2*R.x*I,y:n.ctrlpts[1]+2*R.y*I},L=c.intersectLine(a.x,a.y,s,l,N.x,N.y,0,h,p);k?(n.ctrlpts[0]=n.ctrlpts[0]+R.x*(b-E),n.ctrlpts[1]=n.ctrlpts[1]+R.y*(b-E)):(n.ctrlpts[0]=L[0]+R.x*b,n.ctrlpts[1]=L[1]+R.y*b)}T&&this.findEndpoints(e)}},Oc.storeAllpts=function(e){var t=e._private.rscratch;if("multibezier"===t.edgeType||"bezier"===t.edgeType||"self"===t.edgeType||"compound"===t.edgeType){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var n=0;n+1<t.ctrlpts.length;n+=2)t.allpts.push(t.ctrlpts[n],t.ctrlpts[n+1]),n+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[n]+t.ctrlpts[n+2])/2,(t.ctrlpts[n+1]+t.ctrlpts[n+3])/2);var r;t.allpts.push(t.endX,t.endY),t.ctrlpts.length/2%2==0?(r=t.allpts.length/2-1,t.midX=t.allpts[r],t.midY=t.allpts[r+1]):(r=t.allpts.length/2-3,t.midX=Ht(t.allpts[r],t.allpts[r+2],t.allpts[r+4],.5),t.midY=Ht(t.allpts[r+1],t.allpts[r+3],t.allpts[r+5],.5))}else if("straight"===t.edgeType)t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if("segments"===t.edgeType){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var a=2;a+3<t.allpts.length;a+=2){var i=t.radii[a/2-1],o=t.isArcRadius[a/2-1];t.roundCorners.push(Nc({x:t.allpts[a-2],y:t.allpts[a-1]},{x:t.allpts[a],y:t.allpts[a+1],radius:i},{x:t.allpts[a+2],y:t.allpts[a+3]},i,o))}}if(t.segpts.length%4==0){var s=t.segpts.length/2,l=s-2;t.midX=(t.segpts[l]+t.segpts[s])/2,t.midY=(t.segpts[l+1]+t.segpts[s+1])/2}else{var u=t.segpts.length/2-1;if(t.isRound){var c={x:t.segpts[u],y:t.segpts[u+1]},d=t.roundCorners[u/2];if(0===d.radius){var h={x:t.segpts[u+2],y:t.segpts[u+3]};t.midX=c.x,t.midY=c.y,t.midVector=[c.y-h.y,h.x-c.x]}else{var f=[c.x-d.cx,c.y-d.cy],p=d.radius/Math.sqrt(Math.pow(f[0],2)+Math.pow(f[1],2));f=f.map(function(e){return e*p}),t.midX=d.cx+f[0],t.midY=d.cy+f[1],t.midVector=f}}else t.midX=t.segpts[u],t.midY=t.segpts[u+1]}}},Oc.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||G(t.startX)&&G(t.startY)&&G(t.endX)&&G(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,tt(e.id()))},Oc.findEdgeControlPoints=function(e){var t=this;if(e&&0!==e.length){for(var n=this,r=n.cy.hasCompoundNodes(),a=new dt,i=function(e,t){return[].concat(o(e),[t?1:0]).join("-")},s=[],l=[],u=0;u<e.length;u++){var c=e[u],d=c._private,h=c.pstyle("curve-style").value;if(!c.removed()&&c.takesUpSpace())if("haystack"!==h){var f="unbundled-bezier"===h||ue(h,"segments")||"straight"===h||"straight-triangle"===h||ue(h,"taxi"),p="unbundled-bezier"===h||"bezier"===h,v=d.source,g=d.target,y=[v.poolIndex(),g.poolIndex()].sort(),m=i(y,f),b=a.get(m);null==b&&(b={eles:[]},s.push({pairId:y,edgeIsUnbundled:f}),a.set(m,b)),b.eles.push(c),f&&(b.hasUnbundled=!0),p&&(b.hasBezier=!0)}else l.push(c)}for(var x=function(){var e,o=s[w],l=o.pairId,u=o.edgeIsUnbundled,c=i(l,u),d=a.get(c);if(!d.hasUnbundled){var h=d.eles[0].parallelEdges().filter(function(e){return e.isBundledBezier()});lt(d.eles),h.forEach(function(e){return d.eles.push(e)}),d.eles.sort(function(e,t){return e.poolIndex()-t.poolIndex()})}var f=d.eles[0],p=f.source(),v=f.target();if(p.poolIndex()>v.poolIndex()){var g=p;p=v,v=g}var y=d.srcPos=p.position(),m=d.tgtPos=v.position(),b=d.srcW=p.outerWidth(),x=d.srcH=p.outerHeight(),E=d.tgtW=v.outerWidth(),k=d.tgtH=v.outerHeight(),T=d.srcShape=n.nodeShapes[t.getNodeShape(p)],C=d.tgtShape=n.nodeShapes[t.getNodeShape(v)],P=d.srcCornerRadius="auto"===p.pstyle("corner-radius").value?"auto":p.pstyle("corner-radius").pfValue,S=d.tgtCornerRadius="auto"===v.pstyle("corner-radius").value?"auto":v.pstyle("corner-radius").pfValue,B=d.tgtRs=v._private.rscratch,D=d.srcRs=p._private.rscratch;d.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var _=0;_<d.eles.length;_++){var A=d.eles[_],M=A[0]._private.rscratch,R=A.pstyle("curve-style").value,I="unbundled-bezier"===R||ue(R,"segments")||ue(R,"taxi"),N=!p.same(A.source());if(!d.calculatedIntersection&&p!==v&&(d.hasBezier||d.hasUnbundled)){d.calculatedIntersection=!0;var L=T.intersectLine(y.x,y.y,b,x,m.x,m.y,0,P,D),z=d.srcIntn=L,O=C.intersectLine(m.x,m.y,E,k,y.x,y.y,0,S,B),V=d.tgtIntn=O,F=d.intersectionPts={x1:L[0],x2:O[0],y1:L[1],y2:O[1]},X=d.posPts={x1:y.x,x2:m.x,y1:y.y,y2:m.y},j=O[1]-L[1],Y=O[0]-L[0],q=Math.sqrt(Y*Y+j*j);G(q)&&q>=zc||(q=Math.sqrt(Math.max(Y*Y,Lc)+Math.max(j*j,Lc)));var W=d.vector={x:Y,y:j},U=d.vectorNorm={x:W.x/q,y:W.y/q},H={x:-U.y,y:U.x};d.nodesOverlap=!G(q)||C.checkPoint(L[0],L[1],0,E,k,m.x,m.y,S,B)||T.checkPoint(O[0],O[1],0,b,x,y.x,y.y,P,D),d.vectorNormInverse=H,e={nodesOverlap:d.nodesOverlap,dirCounts:d.dirCounts,calculatedIntersection:!0,hasBezier:d.hasBezier,hasUnbundled:d.hasUnbundled,eles:d.eles,srcPos:m,srcRs:B,tgtPos:y,tgtRs:D,srcW:E,srcH:k,tgtW:b,tgtH:x,srcIntn:V,tgtIntn:z,srcShape:C,tgtShape:T,posPts:{x1:X.x2,y1:X.y2,x2:X.x1,y2:X.y1},intersectionPts:{x1:F.x2,y1:F.y2,x2:F.x1,y2:F.y1},vector:{x:-W.x,y:-W.y},vectorNorm:{x:-U.x,y:-U.y},vectorNormInverse:{x:-H.x,y:-H.y}}}var K=N?e:d;M.nodesOverlap=K.nodesOverlap,M.srcIntn=K.srcIntn,M.tgtIntn=K.tgtIntn,M.isRound=R.startsWith("round"),r&&(p.isParent()||p.isChild()||v.isParent()||v.isChild())&&(p.parents().anySame(v)||v.parents().anySame(p)||p.same(v)&&p.isParent())?t.findCompoundLoopPoints(A,K,_,I):p===v?t.findLoopPoints(A,K,_,I):R.endsWith("segments")?t.findSegmentsPoints(A,K):R.endsWith("taxi")?t.findTaxiPoints(A,K):"straight"===R||!I&&d.eles.length%2==1&&_===Math.floor(d.eles.length/2)?t.findStraightEdgePoints(A):t.findBezierPoints(A,K,_,I,N),t.findEndpoints(A),t.tryToCorrectInvalidPoints(A,K),t.checkForInvalidEdgeWarning(A),t.storeAllpts(A),t.storeEdgeProjections(A),t.calculateArrowAngles(A),t.recalculateEdgeLabelProjections(A),t.calculateLabelAngles(A)}},w=0;w<s.length;w++)x();this.findHaystackPoints(l)}},Oc.getSegmentPoints=function(e){var t=e[0]._private.rscratch;if(this.recalculateRenderedStyle(e),"segments"===t.edgeType)return Vc(t.segpts)},Oc.getControlPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var n=t.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return Vc(t.ctrlpts)},Oc.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var Fc={manualEndptToPx:function(e,t){var n=e.position(),r=e.outerWidth(),a=e.outerHeight(),i=e._private.rscratch;if(2===t.value.length){var o=[t.pfValue[0],t.pfValue[1]];return"%"===t.units[0]&&(o[0]=o[0]*r),"%"===t.units[1]&&(o[1]=o[1]*a),o[0]+=n.x,o[1]+=n.y,o}var s=t.pfValue[0];s=-Math.PI/2+s;var l=2*Math.max(r,a),u=[n.x+Math.cos(s)*l,n.y+Math.sin(s)*l];return this.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,r,a,u[0],u[1],0,"auto"===e.pstyle("corner-radius").value?"auto":e.pstyle("corner-radius").pfValue,i)},findEndpoints:function(e){var t,n,r,a,i,o,s,l,u,c=this,d=e.source()[0],h=e.target()[0],f=d.position(),p=h.position(),v=e.pstyle("target-arrow-shape").value,g=e.pstyle("source-arrow-shape").value,y=e.pstyle("target-distance-from-node").pfValue,m=e.pstyle("source-distance-from-node").pfValue,b=d._private.rscratch,x=h._private.rscratch,w=e.pstyle("curve-style").value,E=e._private.rscratch,k=E.edgeType,T=ue(w,"taxi"),C="self"===k||"compound"===k,P="bezier"===k||"multibezier"===k||C,S="bezier"!==k,B="straight"===k||"segments"===k,D="segments"===k,_=P||S||B,A=C||T,M=e.pstyle("source-endpoint"),R=A?"outside-to-node":M.value,I="auto"===d.pstyle("corner-radius").value?"auto":d.pstyle("corner-radius").pfValue,N=e.pstyle("target-endpoint"),L=A?"outside-to-node":N.value,z="auto"===h.pstyle("corner-radius").value?"auto":h.pstyle("corner-radius").pfValue;E.srcManEndpt=M,E.tgtManEndpt=N;var O=null!==(t=2===(null==N||null===(n=N.pfValue)||void 0===n?void 0:n.length)?N.pfValue:null)&&void 0!==t?t:[0,0],V=null!==(r=2===(null==M||null===(a=M.pfValue)||void 0===a?void 0:a.length)?M.pfValue:null)&&void 0!==r?r:[0,0];if(P){var F=[E.ctrlpts[0],E.ctrlpts[1]];o=S?[E.ctrlpts[E.ctrlpts.length-2],E.ctrlpts[E.ctrlpts.length-1]]:F,s=F}else if(B){var X=D?E.segpts.slice(0,2):[p.x+O[0],p.y+O[1]];o=D?E.segpts.slice(E.segpts.length-2):[f.x+V[0],f.y+V[1]],s=X}if("inside-to-node"===L)i=[p.x,p.y];else if(N.units)i=this.manualEndptToPx(h,N);else if("outside-to-line"===L)i=E.tgtIntn;else if("outside-to-node"===L||"outside-to-node-or-label"===L?l=o:"outside-to-line"!==L&&"outside-to-line-or-label"!==L||(l=[f.x,f.y]),i=c.nodeShapes[this.getNodeShape(h)].intersectLine(p.x,p.y,h.outerWidth(),h.outerHeight(),l[0],l[1],0,z,x),"outside-to-node-or-label"===L||"outside-to-line-or-label"===L){var j=h._private.rscratch,Y=j.labelWidth,q=j.labelHeight,W=j.labelX,U=j.labelY,H=Y/2,K=q/2,Z=h.pstyle("text-valign").value;"top"===Z?U-=K:"bottom"===Z&&(U+=K);var $=h.pstyle("text-halign").value;"left"===$?W-=H:"right"===$&&(W+=H);var Q=kn(l[0],l[1],[W-H,U-K,W+H,U-K,W+H,U+K,W-H,U+K],p.x,p.y);if(Q.length>0){var J=f,ee=Wt(J,Ft(i)),te=Wt(J,Ft(Q)),ne=ee;if(te<ee&&(i=Q,ne=te),Q.length>2)Wt(J,{x:Q[2],y:Q[3]})<ne&&(i=[Q[2],Q[3]])}}var re=Tn(i,o,c.arrowShapes[v].spacing(e)+y),ae=Tn(i,o,c.arrowShapes[v].gap(e)+y);if(E.endX=ae[0],E.endY=ae[1],E.arrowEndX=re[0],E.arrowEndY=re[1],"inside-to-node"===R)i=[f.x,f.y];else if(M.units)i=this.manualEndptToPx(d,M);else if("outside-to-line"===R)i=E.srcIntn;else if("outside-to-node"===R||"outside-to-node-or-label"===R?u=s:"outside-to-line"!==R&&"outside-to-line-or-label"!==R||(u=[p.x,p.y]),i=c.nodeShapes[this.getNodeShape(d)].intersectLine(f.x,f.y,d.outerWidth(),d.outerHeight(),u[0],u[1],0,I,b),"outside-to-node-or-label"===R||"outside-to-line-or-label"===R){var ie=d._private.rscratch,oe=ie.labelWidth,se=ie.labelHeight,le=ie.labelX,ce=ie.labelY,de=oe/2,he=se/2,fe=d.pstyle("text-valign").value;"top"===fe?ce-=he:"bottom"===fe&&(ce+=he);var pe=d.pstyle("text-halign").value;"left"===pe?le-=de:"right"===pe&&(le+=de);var ve=kn(u[0],u[1],[le-de,ce-he,le+de,ce-he,le+de,ce+he,le-de,ce+he],f.x,f.y);if(ve.length>0){var ge=p,ye=Wt(ge,Ft(i)),me=Wt(ge,Ft(ve)),be=ye;if(me<ye&&(i=[ve[0],ve[1]],be=me),ve.length>2)Wt(ge,{x:ve[2],y:ve[3]})<be&&(i=[ve[2],ve[3]])}}var xe=Tn(i,s,c.arrowShapes[g].spacing(e)+m),we=Tn(i,s,c.arrowShapes[g].gap(e)+m);E.startX=we[0],E.startY=we[1],E.arrowStartX=xe[0],E.arrowStartY=xe[1],_&&(G(E.startX)&&G(E.startY)&&G(E.endX)&&G(E.endY)?E.badLine=!1:E.badLine=!0)},getSourceEndpoint:function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),"haystack"===t.edgeType?{x:t.haystackPts[0],y:t.haystackPts[1]}:{x:t.arrowStartX,y:t.arrowStartY}},getTargetEndpoint:function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),"haystack"===t.edgeType?{x:t.haystackPts[2],y:t.haystackPts[3]}:{x:t.arrowEndX,y:t.arrowEndY}}},Xc={};function jc(e,t,n){for(var r=function(e,t,n,r){return Ht(e,t,n,r)},a=t._private.rstyle.bezierPts,i=0;i<e.bezierProjPcts.length;i++){var o=e.bezierProjPcts[i];a.push({x:r(n[0],n[2],n[4],o),y:r(n[1],n[3],n[5],o)})}}Xc.storeEdgeProjections=function(e){var t=e._private,n=t.rscratch,r=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,"multibezier"===r||"bezier"===r||"self"===r||"compound"===r){t.rstyle.bezierPts=[];for(var a=0;a+5<n.allpts.length;a+=4)jc(this,e,n.allpts.slice(a,a+6))}else if("segments"===r){var i=t.rstyle.linePts=[];for(a=0;a+1<n.allpts.length;a+=2)i.push({x:n.allpts[a],y:n.allpts[a+1]})}else if("haystack"===r){var o=n.haystackPts;t.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},Xc.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var Yc={recalculateNodeLabelProjection:function(e){var t=e.pstyle("label").strValue;if(!ne(t)){var n,r,a=e._private,i=e.width(),o=e.height(),s=e.padding(),l=e.position(),u=e.pstyle("text-halign").strValue,c=e.pstyle("text-valign").strValue,d=a.rscratch,h=a.rstyle;switch(u){case"left":n=l.x-i/2-s;break;case"right":n=l.x+i/2+s;break;default:n=l.x}switch(c){case"top":r=l.y-o/2-s;break;case"bottom":r=l.y+o/2+s;break;default:r=l.y}d.labelX=n,d.labelY=r,h.labelX=n,h.labelY=r,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}}},qc=function(e,t){var n=Math.atan(t/e);return 0===e&&n<0&&(n*=-1),n},Wc=function(e,t){var n=t.x-e.x,r=t.y-e.y;return qc(n,r)};Yc.recalculateEdgeLabelProjections=function(e){var t,n=e._private,r=n.rscratch,a=this,i={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(i.mid||i.source||i.target){t={x:r.midX,y:r.midY};var o=function(e,t,r){ct(n.rscratch,e,t,r),ct(n.rstyle,e,t,r)};o("labelX",null,t.x),o("labelY",null,t.y);var s=qc(r.midDispX,r.midDispY);o("labelAutoAngle",null,s);var l=function(){if(l.cache)return l.cache;for(var e=[],t=0;t+5<r.allpts.length;t+=4){var i={x:r.allpts[t],y:r.allpts[t+1]},o={x:r.allpts[t+2],y:r.allpts[t+3]},s={x:r.allpts[t+4],y:r.allpts[t+5]};e.push({p0:i,p1:o,p2:s,startDist:0,length:0,segments:[]})}var u=n.rstyle.bezierPts,c=a.bezierProjPcts.length;function d(e,t,n,r,a){var i=qt(t,n),o=e.segments[e.segments.length-1],s={p0:t,p1:n,t0:r,t1:a,startDist:o?o.startDist+o.length:0,length:i};e.segments.push(s),e.length+=i}for(var h=0;h<e.length;h++){var f=e[h],p=e[h-1];p&&(f.startDist=p.startDist+p.length),d(f,f.p0,u[h*c],0,a.bezierProjPcts[0]);for(var v=0;v<c-1;v++)d(f,u[h*c+v],u[h*c+v+1],a.bezierProjPcts[v],a.bezierProjPcts[v+1]);d(f,u[h*c+c-1],f.p2,a.bezierProjPcts[c-1],1)}return l.cache=e},u=function(n){var a,s="source"===n;if(i[n]){var u=e.pstyle(n+"-text-offset").pfValue;switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var c,d=l(),h=0,f=0,p=0;p<d.length;p++){for(var v=d[s?p:d.length-1-p],g=0;g<v.segments.length;g++){var y=v.segments[s?g:v.segments.length-1-g],m=p===d.length-1&&g===v.segments.length-1;if(h=f,(f+=y.length)>=u||m){c={cp:v,segment:y};break}}if(c)break}var b=c.cp,x=c.segment,w=(u-h)/x.length,E=x.t1-x.t0,k=s?x.t0+E*w:x.t1-E*w;k=Gt(0,k,1),t=Kt(b.p0,b.p1,b.p2,k),a=function(e,t,n,r){var a=Gt(0,r-.001,1),i=Gt(0,r+.001,1),o=Kt(e,t,n,a),s=Kt(e,t,n,i);return Wc(o,s)}(b.p0,b.p1,b.p2,k);break;case"straight":case"segments":case"haystack":for(var T,C,P,S,B=0,D=r.allpts.length,_=0;_+3<D&&(s?(P={x:r.allpts[_],y:r.allpts[_+1]},S={x:r.allpts[_+2],y:r.allpts[_+3]}):(P={x:r.allpts[D-2-_],y:r.allpts[D-1-_]},S={x:r.allpts[D-4-_],y:r.allpts[D-3-_]}),C=B,!((B+=T=qt(P,S))>=u));_+=2);var A=(u-C)/T;A=Gt(0,A,1),t=function(e,t,n,r){var a=t.x-e.x,i=t.y-e.y,o=qt(e,t),s=a/o,l=i/o;return n=null==n?0:n,r=null!=r?r:n*o,{x:e.x+s*r,y:e.y+l*r}}(P,S,A),a=Wc(P,S)}o("labelX",n,t.x),o("labelY",n,t.y),o("labelAutoAngle",n,a)}};u("source"),u("target"),this.applyLabelDimensions(e)}},Yc.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},Yc.applyPrefixedLabelDimensions=function(e,t){var n=e._private,r=this.getLabelText(e,t),a=Ye(r,e._private.labelDimsKey);if(ut(n.rscratch,"prefixedLabelDimsKey",t)!==a){ct(n.rscratch,"prefixedLabelDimsKey",t,a);var i=this.calculateLabelDimensions(e,r),o=e.pstyle("line-height").pfValue,s=e.pstyle("text-wrap").strValue,l=ut(n.rscratch,"labelWrapCachedLines",t)||[],u="wrap"!==s?1:Math.max(l.length,1),c=i.height/u,d=c*o,h=i.width,f=i.height+(u-1)*(o-1)*c;ct(n.rstyle,"labelWidth",t,h),ct(n.rscratch,"labelWidth",t,h),ct(n.rstyle,"labelHeight",t,f),ct(n.rscratch,"labelHeight",t,f),ct(n.rscratch,"labelLineHeight",t,d)}},Yc.getLabelText=function(e,t){var n=e._private,a=t?t+"-":"",i=e.pstyle(a+"label").strValue,o=e.pstyle("text-transform").value,s=function(e,r){return r?(ct(n.rscratch,e,t,r),r):ut(n.rscratch,e,t)};if(!i)return"";"none"==o||("uppercase"==o?i=i.toUpperCase():"lowercase"==o&&(i=i.toLowerCase()));var l=e.pstyle("text-wrap").value;if("wrap"===l){var u=s("labelKey");if(null!=u&&s("labelWrapKey")===u)return s("labelWrapCachedText");for(var c=i.split("\n"),d=e.pstyle("text-max-width").pfValue,h="anywhere"===e.pstyle("text-overflow-wrap").value,f=[],p=/[\s\u200b]+|$/g,v=0;v<c.length;v++){var g=c[v],y=this.calculateLabelDimensions(e,g).width;if(h){var m=g.split("").join("​");g=m}if(y>d){var b,x="",w=0,E=r(g.matchAll(p));try{for(E.s();!(b=E.n()).done;){var k=b.value,T=k[0],C=g.substring(w,k.index);w=k.index+T.length;var P=0===x.length?C:x+C+T;this.calculateLabelDimensions(e,P).width<=d?x+=C+T:(x&&f.push(x),x=C+T)}}catch(A){E.e(A)}finally{E.f()}x.match(/^[\s\u200b]+$/)||f.push(x)}else f.push(g)}s("labelWrapCachedLines",f),i=s("labelWrapCachedText",f.join("\n")),s("labelWrapKey",u)}else if("ellipsis"===l){var S=e.pstyle("text-max-width").pfValue,B="",D=!1;if(this.calculateLabelDimensions(e,i).width<S)return i;for(var _=0;_<i.length;_++){if(this.calculateLabelDimensions(e,B+i[_]+"…").width>S)break;B+=i[_],_===i.length-1&&(D=!0)}return D||(B+="…"),B}return i},Yc.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,n=e.pstyle("text-halign").strValue;if("auto"!==t)return t;if(!e.isNode())return"center";switch(n){case"left":return"right";case"right":return"left";default:return"center"}},Yc.calculateLabelDimensions=function(e,t){var n=this.cy.window().document,r=e.pstyle("font-style").strValue,a=e.pstyle("font-size").pfValue,i=e.pstyle("font-family").strValue,o=e.pstyle("font-weight").strValue,s=this.labelCalcCanvas,l=this.labelCalcCanvasContext;if(!s){s=this.labelCalcCanvas=n.createElement("canvas"),l=this.labelCalcCanvasContext=s.getContext("2d");var u=s.style;u.position="absolute",u.left="-9999px",u.top="-9999px",u.zIndex="-1",u.visibility="hidden",u.pointerEvents="none"}l.font="".concat(r," ").concat(o," ").concat(a,"px ").concat(i);for(var c=0,d=0,h=t.split("\n"),f=0;f<h.length;f++){var p=h[f],v=l.measureText(p),g=Math.ceil(v.width),y=a;c=Math.max(g,c),d+=y}return{width:c+=0,height:d+=0}},Yc.calculateLabelAngle=function(e,t){var n=e._private.rscratch,r=e.isEdge(),a=t?t+"-":"",i=e.pstyle(a+"text-rotation"),o=i.strValue;return"none"===o?0:r&&"autorotate"===o?n.labelAutoAngle:"autorotate"===o?0:i.pfValue},Yc.calculateLabelAngles=function(e){var t=this,n=e.isEdge(),r=e._private.rscratch;r.labelAngle=t.calculateLabelAngle(e),n&&(r.sourceLabelAngle=t.calculateLabelAngle(e,"source"),r.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var Uc={},Hc=!1;Uc.getNodeShape=function(e){var t=e.pstyle("shape").value;if("cutrectangle"===t&&(e.width()<28||e.height()<28))return Hc||(tt(),Hc=!0),"rectangle";if(e.isParent())return"rectangle"===t||"roundrectangle"===t||"round-rectangle"===t||"cutrectangle"===t||"cut-rectangle"===t||"barrel"===t?t:"rectangle";if("polygon"===t){var n=e.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}return t};var Kc={registerCalculationListeners:function(){var e=this.cy,t=e.collection(),n=this,r=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.merge(e),n)for(var r=0;r<e.length;r++){var a=e[r]._private.rstyle;a.clean=!1,a.cleanConnected=!1}};n.binder(e).on("bounds.* dirty.*",function(e){var t=e.target;r(t)}).on("style.* background.*",function(e){var t=e.target;r(t,!1)});var a=function(a){if(a){var i=n.onUpdateEleCalcsFns;t.cleanStyle();for(var o=0;o<t.length;o++){var s=t[o],l=s._private.rstyle;s.isNode()&&!l.cleanConnected&&(r(s.connectedEdges()),l.cleanConnected=!0)}if(i)for(var u=0;u<i.length;u++){(0,i[u])(a,t)}n.recalculateRenderedStyle(t),t=e.collection()}};n.flushRenderedStyleQueue=function(){a(!0)},n.beforeRender(a,n.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(e){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(e)},recalculateRenderedStyle:function(e,t){var n=function(e){return e._private.rstyle.cleanConnected};if(0!==e.length){var r=[],a=[];if(!this.destroyed){void 0===t&&(t=!0);for(var i=0;i<e.length;i++){var o=e[i],s=o._private,l=s.rstyle;!o.isEdge()||n(o.source())&&n(o.target())||(l.clean=!1),o.isEdge()&&o.isBundledBezier()&&o.parallelEdges().some(function(e){return!e._private.rstyle.clean&&e.isBundledBezier()})&&(l.clean=!1),t&&l.clean||o.removed()||"none"!==o.pstyle("display").value&&("nodes"===s.group?a.push(o):r.push(o),l.clean=!0)}for(var u=0;u<a.length;u++){var c=a[u],d=c._private.rstyle,h=c.position();this.recalculateNodeLabelProjection(c),d.nodeX=h.x,d.nodeY=h.y,d.nodeW=c.pstyle("width").pfValue,d.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(r);for(var f=0;f<r.length;f++){var p=r[f]._private,v=p.rstyle,g=p.rscratch;v.srcX=g.arrowStartX,v.srcY=g.arrowStartY,v.tgtX=g.arrowEndX,v.tgtY=g.arrowEndY,v.midX=g.midX,v.midY=g.midY,v.labelAngle=g.labelAngle,v.sourceLabelAngle=g.sourceLabelAngle,v.targetLabelAngle=g.targetLabelAngle}}}}},Gc={updateCachedGrabbedEles:function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],n=0;n<e.length;n++){var r=(a=e[n])._private.rscratch;a.grabbed()&&!a.isParent()?t.push(a):r.inDragLayer?e.drag.push(a):e.nondrag.push(a)}for(n=0;n<t.length;n++){var a=t[n];e.drag.push(a)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(ul),t.interactive=t.filter(function(e){return e.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t}},Zc={};[dc,hc,Oc,Fc,Xc,Yc,Uc,Kc,Gc].forEach(function(e){ge(Zc,e)});var $c={getCachedImage:function(e,t,n){var r=this.imageCache=this.imageCache||{},a=r[e];if(a)return a.image.complete||a.image.addEventListener("load",n),a.image;var i=(a=r[e]=r[e]||{}).image=new Image;i.addEventListener("load",n),i.addEventListener("error",function(){i.error=!0});var o="data:";return e.substring(0,5).toLowerCase()===o||(t="null"===t?null:t,i.crossOrigin=t),i.src=e,i}},Qc={registerBinding:function(e,t,n,r){var a=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(e)){for(var i=[],o=0;o<e.length;o++){var s=e[o];if(void 0!==s){var l=this.binder(s);i.push(l.on.apply(l,a))}}return i}return(l=this.binder(e)).on.apply(l,a)}};Qc.binder=function(e){var t,n=this,r=n.cy.window(),a=e===r||e===r.document||e===r.document.body||(t=e,"undefined"!=typeof HTMLElement&&t instanceof HTMLElement);if(null==n.supportsPassiveEvents){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});r.addEventListener("test",null,o)}catch(l){}n.supportsPassiveEvents=i}var s=function(t,r,i){var o=Array.prototype.slice.call(arguments);return a&&n.supportsPassiveEvents&&(o[2]={capture:null!=i&&i,passive:!1,once:!1}),n.bindings.push({target:e,args:o}),(e.addEventListener||e.on).apply(e,o),this};return{on:s,addEventListener:s,addListener:s,bind:s}},Qc.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},Qc.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()},Qc.load=function(){var e=this,t=e.cy.window(),n=function(e){return e.selected()},r=function(t,n,r,a){null==t&&(t=e.cy);for(var i=0;i<n.length;i++){var o=n[i];t.emit({originalEvent:r,type:o,position:a})}},a=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},i=function(t,n){var r=!0;if(e.cy.hasCompoundNodes()&&t&&t.pannable())for(var a=0;n&&a<n.length;a++){if((t=n[a]).isNode()&&t.isParent()&&!t.pannable()){r=!1;break}}else r=!0;return r},o=function(e){e[0]._private.rscratch.inDragLayer=!0},s=function(e){e[0]._private.rscratch.isGrabTarget=!0},l=function(e,t){var n=t.addToList;n.has(e)||!e.grabbable()||e.locked()||(n.merge(e),function(e){e[0]._private.grabbed=!0}(e))},u=function(t,n){n=n||{};var r=t.cy().hasCompoundNodes();n.inDragLayer&&(t.forEach(o),t.neighborhood().stdFilter(function(e){return!r||e.isEdge()}).forEach(o)),n.addToList&&t.forEach(function(e){l(e,n)}),function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var n=e.descendants();t.inDragLayer&&(n.forEach(o),n.connectedEdges().forEach(o)),t.addToList&&l(n,t)}}(t,n),h(t,{inDragLayer:n.inDragLayer}),e.updateCachedGrabbedEles()},c=u,d=function(t){t&&(e.getCachedZSortedEles().forEach(function(e){!function(e){e[0]._private.grabbed=!1}(e),function(e){e[0]._private.rscratch.inDragLayer=!1}(e),function(e){e[0]._private.rscratch.isGrabTarget=!1}(e)}),e.updateCachedGrabbedEles())},h=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var n=e.ancestors().orphans();if(!n.same(e)){var r=n.descendants().spawnSelf().merge(n).unmerge(e).unmerge(e.descendants()),a=r.connectedEdges();t.inDragLayer&&(a.forEach(o),r.forEach(o)),t.addToList&&r.forEach(function(e){l(e,t)})}}},f=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},p="undefined"!=typeof MutationObserver,v="undefined"!=typeof ResizeObserver;p?(e.removeObserver=new MutationObserver(function(t){for(var n=0;n<t.length;n++){var r=t[n].removedNodes;if(r)for(var a=0;a<r.length;a++){if(r[a]===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(t){e.destroy()});var g=De(function(){e.cy.resize()},100);p&&(e.styleObserver=new MutationObserver(g),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",g),v&&(e.resizeObserver=new ResizeObserver(g),e.resizeObserver.observe(e.container));var y=function(){e.invalidateContainerClientCoordsCache()};!function(e,t){for(;null!=e;)t(e),e=e.parentNode}(e.container,function(t){e.registerBinding(t,"transitionend",y),e.registerBinding(t,"animationend",y),e.registerBinding(t,"scroll",y)}),e.registerBinding(e.container,"contextmenu",function(e){e.preventDefault()});var m=function(t){for(var n=e.findContainerClientCoords(),r=n[0],a=n[1],i=n[2],o=n[3],s=t.touches?t.touches:[t],l=!1,u=0;u<s.length;u++){var c=s[u];if(r<=c.clientX&&c.clientX<=r+i&&a<=c.clientY&&c.clientY<=a+o){l=!0;break}}if(!l)return!1;for(var d=e.container,h=t.target.parentNode,f=!1;h;){if(h===d){f=!0;break}h=h.parentNode}return!!f};e.registerBinding(e.container,"mousedown",function(t){if(m(t)&&(1!==e.hoverData.which||1===t.which)){t.preventDefault(),f(),e.hoverData.capture=!0,e.hoverData.which=t.which;var n=e.cy,a=[t.clientX,t.clientY],i=e.projectIntoViewport(a[0],a[1]),o=e.selection,l=e.findNearestElements(i[0],i[1],!0,!1),d=l[0],h=e.dragData.possibleDragElements;e.hoverData.mdownPos=i,e.hoverData.mdownGPos=a;var p=function(e){return{originalEvent:t,type:e,position:{x:i[0],y:i[1]}}};if(3==t.which){e.hoverData.cxtStarted=!0;var v={originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}};d?(d.activate(),d.emit(v),e.hoverData.down=d):n.emit(v),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==t.which){if(d&&d.activate(),null!=d&&e.nodeIsGrabbable(d)){if(s(d),d.selected()){h=e.dragData.possibleDragElements=n.collection();var g=n.$(function(t){return t.isNode()&&t.selected()&&e.nodeIsGrabbable(t)});u(g,{addToList:h}),d.emit(p("grabon")),g.forEach(function(e){e.emit(p("grab"))})}else h=e.dragData.possibleDragElements=n.collection(),c(d,{addToList:h}),d.emit(p("grabon")).emit(p("grab"));e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=d,e.hoverData.downs=l,e.hoverData.downTime=(new Date).getTime(),r(d,["mousedown","tapstart","vmousedown"],t,{x:i[0],y:i[1]}),null==d?(o[4]=1,e.data.bgActivePosistion={x:i[0],y:i[1]},e.redrawHint("select",!0),e.redraw()):d.pannable()&&(o[4]=1),e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var t=e.hoverData.down;t?t.emit(p("taphold")):n.emit(p("taphold"))}},e.tapholdDuration)}o[0]=o[2]=i[0],o[1]=o[3]=i[1]}},!1);var b,x,w,E=function(e){var t=e.getRootNode();if(t&&11===t.nodeType&&void 0!==t.host)return t}(e.container);e.registerBinding([t,E],"mousemove",function(t){if(e.hoverData.capture||m(t)){var n=!1,o=e.cy,s=o.zoom(),l=[t.clientX,t.clientY],c=e.projectIntoViewport(l[0],l[1]),h=e.hoverData.mdownPos,f=e.hoverData.mdownGPos,p=e.selection,v=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(v=e.findNearestElement(c[0],c[1],!0,!1));var g,y=e.hoverData.last,b=e.hoverData.down,x=[c[0]-p[2],c[1]-p[3]],w=e.dragData.possibleDragElements;if(f){var E=l[0]-f[0],k=E*E,T=l[1]-f[1],C=k+T*T;e.hoverData.isOverThresholdDrag=g=C>=e.desktopTapThreshold2}var P=a(t);g&&(e.hoverData.tapholdCancelled=!0);n=!0,r(v,["mousemove","vmousemove","tapdrag"],t,{x:c[0],y:c[1]});var S=function(e){return{originalEvent:t,type:e,position:{x:c[0],y:c[1]}}},B=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||o.emit(S("boxstart")),p[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(3===e.hoverData.which){if(g){var D=S("cxtdrag");b?b.emit(D):o.emit(D),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&v===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit(S("cxtdragout")),e.hoverData.cxtOver=v,v&&v.emit(S("cxtdragover")))}}else if(e.hoverData.dragging){if(n=!0,o.panningEnabled()&&o.userPanningEnabled()){var _;if(e.hoverData.justStartedPan){var A=e.hoverData.mdownPos;_={x:(c[0]-A[0])*s,y:(c[1]-A[1])*s},e.hoverData.justStartedPan=!1}else _={x:x[0]*s,y:x[1]*s};o.panBy(_),o.emit(S("dragpan")),e.hoverData.dragged=!0}c=e.projectIntoViewport(t.clientX,t.clientY)}else if(1!=p[4]||null!=b&&!b.pannable()){if(b&&b.pannable()&&b.active()&&b.unactivate(),b&&b.grabbed()||v==y||(y&&r(y,["mouseout","tapdragout"],t,{x:c[0],y:c[1]}),v&&r(v,["mouseover","tapdragover"],t,{x:c[0],y:c[1]}),e.hoverData.last=v),b)if(g){if(o.boxSelectionEnabled()&&P)b&&b.grabbed()&&(d(w),b.emit(S("freeon")),w.emit(S("free")),e.dragData.didDrag&&(b.emit(S("dragfreeon")),w.emit(S("dragfree")))),B();else if(b&&b.grabbed()&&e.nodeIsDraggable(b)){var M=!e.dragData.didDrag;M&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||u(w,{inDragLayer:!0});var R={x:0,y:0};if(G(x[0])&&G(x[1])&&(R.x+=x[0],R.y+=x[1],M)){var I=e.hoverData.dragDelta;I&&G(I[0])&&G(I[1])&&(R.x+=I[0],R.y+=I[1])}e.hoverData.draggingEles=!0,w.silentShift(R).emit(S("position")).emit(S("drag")),e.redrawHint("drag",!0),e.redraw()}}else!function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(x[0]),t.push(x[1])):(t[0]+=x[0],t[1]+=x[1])}();n=!0}else if(g){if(e.hoverData.dragging||!o.boxSelectionEnabled()||!P&&o.panningEnabled()&&o.userPanningEnabled()){if(!e.hoverData.selecting&&o.panningEnabled()&&o.userPanningEnabled()){i(b,e.hoverData.downs)&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,p[4]=0,e.data.bgActivePosistion=Ft(h),e.redrawHint("select",!0),e.redraw())}}else B();b&&b.pannable()&&b.active()&&b.unactivate()}return p[2]=c[0],p[3]=c[1],n?(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),!1):void 0}},!1),e.registerBinding(t,"mouseup",function(t){if((1!==e.hoverData.which||1===t.which||!e.hoverData.capture)&&e.hoverData.capture){e.hoverData.capture=!1;var i=e.cy,o=e.projectIntoViewport(t.clientX,t.clientY),s=e.selection,l=e.findNearestElement(o[0],o[1],!0,!1),u=e.dragData.possibleDragElements,c=e.hoverData.down,h=a(t);e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,c&&c.unactivate();var f=function(e){return{originalEvent:t,type:e,position:{x:o[0],y:o[1]}}};if(3===e.hoverData.which){var p=f("cxttapend");if(c?c.emit(p):i.emit(p),!e.hoverData.cxtDragged){var v=f("cxttap");c?c.emit(v):i.emit(v)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(1===e.hoverData.which){if(r(l,["mouseup","tapend","vmouseup"],t,{x:o[0],y:o[1]}),e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||e.hoverData.isOverThresholdDrag||(r(c,["click","tap","vclick"],t,{x:o[0],y:o[1]}),x=!1,t.timeStamp-w<=i.multiClickDebounceTime()?(b&&clearTimeout(b),x=!0,w=null,r(c,["dblclick","dbltap","vdblclick"],t,{x:o[0],y:o[1]})):(b=setTimeout(function(){x||r(c,["oneclick","onetap","voneclick"],t,{x:o[0],y:o[1]})},i.multiClickDebounceTime()),w=t.timeStamp)),null!=c||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||a(t)||(i.$(n).unselect(["tapunselect"]),u.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=u=i.collection()),l!=c||e.dragData.didDrag||e.hoverData.selecting||null!=l&&l._private.selectable&&(e.hoverData.dragging||("additive"===i.selectionType()||h?l.selected()?l.unselect(["tapunselect"]):l.select(["tapselect"]):h||(i.$(n).unmerge(l).unselect(["tapunselect"]),l.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var g=i.collection(e.getAllInBox(s[0],s[1],s[2],s[3]));e.redrawHint("select",!0),g.length>0&&e.redrawHint("eles",!0),i.emit(f("boxend"));var y=function(e){return e.selectable()&&!e.selected()};"additive"===i.selectionType()||h||i.$(n).unmerge(g).unselect(),g.emit(f("box")).stdFilter(y).select().emit(f("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!s[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var m=c&&c.grabbed();d(u),m&&(c.emit(f("freeon")),u.emit(f("free")),e.dragData.didDrag&&(c.emit(f("dragfreeon")),u.emit(f("dragfree"))))}}s[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}},!1);var k,T,C,P,S,B,D,_,A,M,R,I,N,L,z=[],O=1e5,V=function(t){var n=!1,r=t.deltaY;if(null==r&&(null!=t.wheelDeltaY?r=t.wheelDeltaY/4:null!=t.wheelDelta&&(r=t.wheelDelta/4)),0!==r){if(null==k)if(z.length>=4){var a=z;if(k=function(e,t){for(var n=0;n<e.length;n++)if(e[n]%t!==0)return!1;return!0}(a,5),!k){var i=Math.abs(a[0]);k=function(e){for(var t=Math.abs(e[0]),n=1;n<e.length;n++)if(Math.abs(e[n])!==t)return!1;return!0}(a)&&i>5}if(k)for(var o=0;o<a.length;o++)O=Math.min(Math.abs(a[o]),O)}else z.push(r),n=!0;else k&&(O=Math.min(Math.abs(r),O));if(!e.scrollingPage){var s=e.cy,l=s.zoom(),u=s.pan(),c=e.projectIntoViewport(t.clientX,t.clientY),d=[c[0]*l+u.x,c[1]*l+u.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||0!==e.selection[4])t.preventDefault();else if(s.panningEnabled()&&s.userPanningEnabled()&&s.zoomingEnabled()&&s.userZoomingEnabled()){var h;t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150),n&&Math.abs(r)>5&&(r=5*Yt(r)),h=r/-250,k&&(h/=O,h*=3),h*=e.wheelSensitivity,1===t.deltaMode&&(h*=33);var f=s.zoom()*Math.pow(10,h);"gesturechange"===t.type&&(f=e.gestureStartZoom*t.scale),s.zoom({level:f,renderedPosition:{x:d[0],y:d[1]}}),s.emit({type:"gesturechange"===t.type?"pinchzoom":"scrollzoom",originalEvent:t,position:{x:c[0],y:c[1]}})}}}};e.registerBinding(e.container,"wheel",V,!0),e.registerBinding(t,"scroll",function(t){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"gesturestart",function(t){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||t.preventDefault()},!0),e.registerBinding(e.container,"gesturechange",function(t){e.hasTouchStarted||V(t)},!0),e.registerBinding(e.container,"mouseout",function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseout",position:{x:n[0],y:n[1]}})},!1),e.registerBinding(e.container,"mouseover",function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseover",position:{x:n[0],y:n[1]}})},!1);var F,X,j,Y,q,W,U,H=function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))},K=function(e,t,n,r){return(n-e)*(n-e)+(r-t)*(r-t)};if(e.registerBinding(e.container,"touchstart",F=function(t){if(e.hasTouchStarted=!0,m(t)){f(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var n=e.cy,a=e.touchData.now,i=e.touchData.earlier;if(t.touches[0]){var o=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);a[0]=o[0],a[1]=o[1]}if(t.touches[1]){o=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);a[2]=o[0],a[3]=o[1]}if(t.touches[2]){o=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);a[4]=o[0],a[5]=o[1]}var l=function(e){return{originalEvent:t,type:e,position:{x:a[0],y:a[1]}}};if(t.touches[1]){e.touchData.singleTouchMoved=!0,d(e.dragData.touchDragEles);var h=e.findContainerClientCoords();M=h[0],R=h[1],I=h[2],N=h[3],T=t.touches[0].clientX-M,C=t.touches[0].clientY-R,P=t.touches[1].clientX-M,S=t.touches[1].clientY-R,L=0<=T&&T<=I&&0<=P&&P<=I&&0<=C&&C<=N&&0<=S&&S<=N;var p=n.pan(),v=n.zoom();B=H(T,C,P,S),D=K(T,C,P,S),A=[((_=[(T+P)/2,(C+S)/2])[0]-p.x)/v,(_[1]-p.y)/v];if(D<4e4&&!t.touches[2]){var g=e.findNearestElement(a[0],a[1],!0,!0),y=e.findNearestElement(a[2],a[3],!0,!0);return g&&g.isNode()?(g.activate().emit(l("cxttapstart")),e.touchData.start=g):y&&y.isNode()?(y.activate().emit(l("cxttapstart")),e.touchData.start=y):n.emit(l("cxttapstart")),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(t.touches[2])n.boxSelectionEnabled()&&t.preventDefault();else if(t.touches[1]);else if(t.touches[0]){var b=e.findNearestElements(a[0],a[1],!0,!0),x=b[0];if(null!=x&&(x.activate(),e.touchData.start=x,e.touchData.starts=b,e.nodeIsGrabbable(x))){var w=e.dragData.touchDragEles=n.collection(),E=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),x.selected()?(E=n.$(function(t){return t.selected()&&e.nodeIsGrabbable(t)}),u(E,{addToList:w})):c(x,{addToList:w}),s(x),x.emit(l("grabon")),E?E.forEach(function(e){e.emit(l("grab"))}):x.emit(l("grab"))}r(x,["touchstart","tapstart","vmousedown"],t,{x:a[0],y:a[1]}),null==x&&(e.data.bgActivePosistion={x:o[0],y:o[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){!1!==e.touchData.singleTouchMoved||e.pinching||e.touchData.selecting||r(e.touchData.start,["taphold"],t,{x:a[0],y:a[1]})},e.tapholdDuration)}if(t.touches.length>=1){for(var k=e.touchData.startPosition=[null,null,null,null,null,null],z=0;z<a.length;z++)k[z]=i[z]=a[z];var O=t.touches[0];e.touchData.startGPosition=[O.clientX,O.clientY]}}},!1),e.registerBinding(t,"touchmove",X=function(t){var n=e.touchData.capture;if(n||m(t)){var a=e.selection,o=e.cy,s=e.touchData.now,l=e.touchData.earlier,c=o.zoom();if(t.touches[0]){var h=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=h[0],s[1]=h[1]}if(t.touches[1]){h=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);s[2]=h[0],s[3]=h[1]}if(t.touches[2]){h=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);s[4]=h[0],s[5]=h[1]}var f,p=function(e){return{originalEvent:t,type:e,position:{x:s[0],y:s[1]}}},v=e.touchData.startGPosition;if(n&&t.touches[0]&&v){for(var g=[],y=0;y<s.length;y++)g[y]=s[y]-l[y];var b=t.touches[0].clientX-v[0],x=b*b,w=t.touches[0].clientY-v[1];f=x+w*w>=e.touchTapThreshold2}if(n&&e.touchData.cxt){t.preventDefault();var E=t.touches[0].clientX-M,k=t.touches[0].clientY-R,_=t.touches[1].clientX-M,I=t.touches[1].clientY-R,N=K(E,k,_,I);if(N/D>=2.25||N>=22500){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var z=p("cxttapend");e.touchData.start?(e.touchData.start.unactivate().emit(z),e.touchData.start=null):o.emit(z)}}if(n&&e.touchData.cxt){z=p("cxtdrag");e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(z):o.emit(z),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var O=e.findNearestElement(s[0],s[1],!0,!0);e.touchData.cxtOver&&O===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.emit(p("cxtdragout")),e.touchData.cxtOver=O,O&&O.emit(p("cxtdragover")))}else if(n&&t.touches[2]&&o.boxSelectionEnabled())t.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||o.emit(p("boxstart")),e.touchData.selecting=!0,e.touchData.didSelect=!0,a[4]=1,a&&0!==a.length&&void 0!==a[0]?(a[2]=(s[0]+s[2]+s[4])/3,a[3]=(s[1]+s[3]+s[5])/3):(a[0]=(s[0]+s[2]+s[4])/3,a[1]=(s[1]+s[3]+s[5])/3,a[2]=(s[0]+s[2]+s[4])/3+1,a[3]=(s[1]+s[3]+s[5])/3+1),e.redrawHint("select",!0),e.redraw();else if(n&&t.touches[1]&&!e.touchData.didSelect&&o.zoomingEnabled()&&o.panningEnabled()&&o.userZoomingEnabled()&&o.userPanningEnabled()){if(t.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),te=e.dragData.touchDragEles){e.redrawHint("drag",!0);for(var V=0;V<te.length;V++){var F=te[V]._private;F.grabbed=!1,F.rscratch.inDragLayer=!1}}var X=e.touchData.start,j=(E=t.touches[0].clientX-M,k=t.touches[0].clientY-R,_=t.touches[1].clientX-M,I=t.touches[1].clientY-R,H(E,k,_,I)),Y=j/B;if(L){var q=(E-T+(_-P))/2,W=(k-C+(I-S))/2,U=o.zoom(),Z=U*Y,$=o.pan(),Q=A[0]*U+$.x,J=A[1]*U+$.y,ee={x:-Z/U*(Q-$.x-q)+Q,y:-Z/U*(J-$.y-W)+J};if(X&&X.active()){var te=e.dragData.touchDragEles;d(te),e.redrawHint("drag",!0),e.redrawHint("eles",!0),X.unactivate().emit(p("freeon")),te.emit(p("free")),e.dragData.didDrag&&(X.emit(p("dragfreeon")),te.emit(p("dragfree")))}o.viewport({zoom:Z,pan:ee,cancelOnFailedZoom:!0}),o.emit(p("pinchzoom")),B=j,T=E,C=k,P=_,S=I,e.pinching=!0}if(t.touches[0]){h=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=h[0],s[1]=h[1]}if(t.touches[1]){h=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);s[2]=h[0],s[3]=h[1]}if(t.touches[2]){h=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);s[4]=h[0],s[5]=h[1]}}else if(t.touches[0]&&!e.touchData.didSelect){var ne=e.touchData.start,re=e.touchData.last;if(e.hoverData.draggingEles||e.swipePanning||(O=e.findNearestElement(s[0],s[1],!0,!0)),n&&null!=ne&&t.preventDefault(),n&&null!=ne&&e.nodeIsDraggable(ne))if(f){te=e.dragData.touchDragEles;var ae=!e.dragData.didDrag;ae&&u(te,{inDragLayer:!0}),e.dragData.didDrag=!0;var ie={x:0,y:0};if(G(g[0])&&G(g[1]))if(ie.x+=g[0],ie.y+=g[1],ae)e.redrawHint("eles",!0),(oe=e.touchData.dragDelta)&&G(oe[0])&&G(oe[1])&&(ie.x+=oe[0],ie.y+=oe[1]);e.hoverData.draggingEles=!0,te.silentShift(ie).emit(p("position")).emit(p("drag")),e.redrawHint("drag",!0),e.touchData.startPosition[0]==l[0]&&e.touchData.startPosition[1]==l[1]&&e.redrawHint("eles",!0),e.redraw()}else{var oe;0===(oe=e.touchData.dragDelta=e.touchData.dragDelta||[]).length?(oe.push(g[0]),oe.push(g[1])):(oe[0]+=g[0],oe[1]+=g[1])}if(r(ne||O,["touchmove","tapdrag","vmousemove"],t,{x:s[0],y:s[1]}),ne&&ne.grabbed()||O==re||(re&&re.emit(p("tapdragout")),O&&O.emit(p("tapdragover"))),e.touchData.last=O,n)for(V=0;V<s.length;V++)s[V]&&e.touchData.startPosition[V]&&f&&(e.touchData.singleTouchMoved=!0);if(n&&(null==ne||ne.pannable())&&o.panningEnabled()&&o.userPanningEnabled()){i(ne,e.touchData.starts)&&(t.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=Ft(e.touchData.startPosition)),e.swipePanning?(o.panBy({x:g[0]*c,y:g[1]*c}),o.emit(p("dragpan"))):f&&(e.swipePanning=!0,o.panBy({x:b*c,y:w*c}),o.emit(p("dragpan")),ne&&(ne.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));h=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=h[0],s[1]=h[1]}}for(y=0;y<s.length;y++)l[y]=s[y];n&&t.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&null!=e.data.bgActivePosistion&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1),e.registerBinding(t,"touchcancel",j=function(t){var n=e.touchData.start;e.touchData.capture=!1,n&&n.unactivate()}),e.registerBinding(t,"touchend",Y=function(t){var a=e.touchData.start;if(e.touchData.capture){0===t.touches.length&&(e.touchData.capture=!1),t.preventDefault();var i=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var o=e.cy,s=o.zoom(),l=e.touchData.now,u=e.touchData.earlier;if(t.touches[0]){var c=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);l[0]=c[0],l[1]=c[1]}if(t.touches[1]){c=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);l[2]=c[0],l[3]=c[1]}if(t.touches[2]){c=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);l[4]=c[0],l[5]=c[1]}var h,f=function(e){return{originalEvent:t,type:e,position:{x:l[0],y:l[1]}}};if(a&&a.unactivate(),e.touchData.cxt){if(h=f("cxttapend"),a?a.emit(h):o.emit(h),!e.touchData.cxtDragged){var p=f("cxttap");a?a.emit(p):o.emit(p)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!t.touches[2]&&o.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var v=o.collection(e.getAllInBox(i[0],i[1],i[2],i[3]));i[0]=void 0,i[1]=void 0,i[2]=void 0,i[3]=void 0,i[4]=0,e.redrawHint("select",!0),o.emit(f("boxend"));v.emit(f("box")).stdFilter(function(e){return e.selectable()&&!e.selected()}).select().emit(f("boxselect")),v.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(null!=a&&a.unactivate(),t.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(t.touches[1]);else if(t.touches[0]);else if(!t.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var g=e.dragData.touchDragEles;if(null!=a){var y=a._private.grabbed;d(g),e.redrawHint("drag",!0),e.redrawHint("eles",!0),y&&(a.emit(f("freeon")),g.emit(f("free")),e.dragData.didDrag&&(a.emit(f("dragfreeon")),g.emit(f("dragfree")))),r(a,["touchend","tapend","vmouseup","tapdragout"],t,{x:l[0],y:l[1]}),a.unactivate(),e.touchData.start=null}else{var m=e.findNearestElement(l[0],l[1],!0,!0);r(m,["touchend","tapend","vmouseup","tapdragout"],t,{x:l[0],y:l[1]})}var b=e.touchData.startPosition[0]-l[0],x=b*b,w=e.touchData.startPosition[1]-l[1],E=(x+w*w)*s*s;e.touchData.singleTouchMoved||(a||o.$(":selected").unselect(["tapunselect"]),r(a,["tap","vclick"],t,{x:l[0],y:l[1]}),q=!1,t.timeStamp-U<=o.multiClickDebounceTime()?(W&&clearTimeout(W),q=!0,U=null,r(a,["dbltap","vdblclick"],t,{x:l[0],y:l[1]})):(W=setTimeout(function(){q||r(a,["onetap","voneclick"],t,{x:l[0],y:l[1]})},o.multiClickDebounceTime()),U=t.timeStamp)),null!=a&&!e.dragData.didDrag&&a._private.selectable&&E<e.touchTapThreshold2&&!e.pinching&&("single"===o.selectionType()?(o.$(n).unmerge(a).unselect(["tapunselect"]),a.select(["tapselect"])):a.selected()?a.unselect(["tapunselect"]):a.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}for(var k=0;k<l.length;k++)u[k]=l[k];e.dragData.didDrag=!1,0===t.touches.length&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),t.touches.length<2&&(1===t.touches.length&&(e.touchData.startGPosition=[t.touches[0].clientX,t.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())}},!1),"undefined"==typeof TouchEvent){var Z=[],$=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},Q=function(e){Z.push(function(e){return{event:e,touch:$(e)}}(e))},J=function(e){for(var t=0;t<Z.length;t++){if(Z[t].event.pointerId===e.pointerId)return void Z.splice(t,1)}},ee=function(e){e.touches=Z.map(function(e){return e.touch})},te=function(e){return"mouse"===e.pointerType||4===e.pointerType};e.registerBinding(e.container,"pointerdown",function(e){te(e)||(e.preventDefault(),Q(e),ee(e),F(e))}),e.registerBinding(e.container,"pointerup",function(e){te(e)||(J(e),ee(e),Y(e))}),e.registerBinding(e.container,"pointercancel",function(e){te(e)||(J(e),ee(e),j())}),e.registerBinding(e.container,"pointermove",function(e){te(e)||(e.preventDefault(),function(e){var t=Z.filter(function(t){return t.event.pointerId===e.pointerId})[0];t.event=e,t.touch=$(e)}(e),ee(e),X(e))})}};var Jc={generatePolygon:function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(e,t,n,r,a,i){this.renderer.nodeShapeImpl("polygon",e,t,n,r,a,this.points)},intersectLine:function(e,t,n,r,a,i,o,s){return kn(a,i,this.points,e,t,n/2,r/2,o)},checkPoint:function(e,t,n,r,a,i,o,s){return vn(e,t,this.points,i,o,r,a,[0,-1],n)},hasMiterBounds:"rectangle"!==e,miterBounds:function(e,t,n,r,a,i){return ln(this.points,e,t,n,r,a)}}}};Jc.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,r,a,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,a)},intersectLine:function(e,t,n,r,a,i,o,s){return function(e,t,n,r,a,i){var o=n-e,s=r-t;o/=a,s/=i;var l=Math.sqrt(o*o+s*s),u=l-1;if(u<0)return[];var c=u/l;return[(n-e)*c+e,(r-t)*c+t]}(a,i,e,t,n/2+o,r/2+o)},checkPoint:function(e,t,n,r,a,i,o,s){return mn(e,t,r,a,i,o,n)}}},Jc.generateRoundPolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:function(e,n,r,a,i,o,s){if(void 0!==o[s]&&o[s+"-cx"]===e&&o[s+"-cy"]===n)return o[s];o[s]=new Array(t.length/2),o[s+"-cx"]=e,o[s+"-cy"]=n;var l=r/2,u=a/2;i="auto"===i?Dn(r,a):i;for(var c=new Array(t.length/2),d=0;d<t.length/2;d++)c[d]={x:e+l*t[2*d],y:n+u*t[2*d+1]};var h,f,p,v,g=c.length;for(f=c[g-1],h=0;h<g;h++)p=c[h%g],v=c[(h+1)%g],o[s][h]=Nc(f,p,v,i),f=p,p=v;return o[s]},draw:function(e,t,n,r,a,i,o){this.renderer.nodeShapeImpl("round-polygon",e,t,n,r,a,this.points,this.getOrCreateCorners(t,n,r,a,i,o,"drawCorners"))},intersectLine:function(e,t,n,r,a,i,o,s,l){return function(e,t,n,r,a,i,o,s,l){var u,c=[],d=new Array(2*n.length);l.forEach(function(n,i){0===i?(d[d.length-2]=n.startX,d[d.length-1]=n.startY):(d[4*i-2]=n.startX,d[4*i-1]=n.startY),d[4*i]=n.stopX,d[4*i+1]=n.stopY,0!==(u=bn(e,t,r,a,n.cx,n.cy,n.radius)).length&&c.push(u[0],u[1])});for(var h=0;h<d.length/4;h++)0!==(u=wn(e,t,r,a,d[4*h],d[4*h+1],d[4*h+2],d[4*h+3],!1)).length&&c.push(u[0],u[1]);if(c.length>2){for(var f=[c[0],c[1]],p=Math.pow(f[0]-e,2)+Math.pow(f[1]-t,2),v=1;v<c.length/2;v++){var g=Math.pow(c[2*v]-e,2)+Math.pow(c[2*v+1]-t,2);g<=p&&(f[0]=c[2*v],f[1]=c[2*v+1],p=g)}return f}return c}(a,i,this.points,e,t,0,0,0,this.getOrCreateCorners(e,t,n,r,s,l,"corners"))},checkPoint:function(e,t,n,r,a,i,o,s,l){return function(e,t,n,r,a,i,o,s){for(var l=new Array(2*n.length),u=0;u<s.length;u++){var c=s[u];if(l[4*u+0]=c.startX,l[4*u+1]=c.startY,l[4*u+2]=c.stopX,l[4*u+3]=c.stopY,Math.pow(c.cx-e,2)+Math.pow(c.cy-t,2)<=Math.pow(c.radius,2))return!0}return pn(e,t,l)}(e,t,this.points,0,0,0,0,this.getOrCreateCorners(i,o,r,a,s,l,"corners"))}}},Jc.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Cn(4,0),draw:function(e,t,n,r,a,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,a,this.points,i)},intersectLine:function(e,t,n,r,a,i,o,s){return un(a,i,e,t,n,r,o,s)},checkPoint:function(e,t,n,r,a,i,o,s){var l=r/2,u=a/2;s="auto"===s?Bn(r,a):s;var c=2*(s=Math.min(l,u,s));return!!vn(e,t,this.points,i,o,r,a-c,[0,-1],n)||(!!vn(e,t,this.points,i,o,r-c,a,[0,-1],n)||(!!mn(e,t,c,c,i-l+s,o-u+s,n)||(!!mn(e,t,c,c,i+l-s,o-u+s,n)||(!!mn(e,t,c,c,i+l-s,o+u-s,n)||!!mn(e,t,c,c,i-l+s,o+u-s,n)))))}}},Jc.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Cn(4,0),draw:function(e,t,n,r,a,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,a,null,i)},generateCutTrianglePts:function(e,t,n,r,a){var i="auto"===a?this.cornerLength:a,o=t/2,s=e/2,l=n-s,u=n+s,c=r-o,d=r+o;return{topLeft:[l,c+i,l+i,c,l+i,c+i],topRight:[u-i,c,u,c+i,u-i,c+i],bottomRight:[u,d-i,u-i,d,u-i,d-i],bottomLeft:[l+i,d,l,d-i,l+i,d-i]}},intersectLine:function(e,t,n,r,a,i,o,s){var l=this.generateCutTrianglePts(n+2*o,r+2*o,e,t,s),u=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return kn(a,i,u,e,t)},checkPoint:function(e,t,n,r,a,i,o,s){var l="auto"===s?this.cornerLength:s;if(vn(e,t,this.points,i,o,r,a-2*l,[0,-1],n))return!0;if(vn(e,t,this.points,i,o,r-2*l,a,[0,-1],n))return!0;var u=this.generateCutTrianglePts(r,a,i,o);return pn(e,t,u.topLeft)||pn(e,t,u.topRight)||pn(e,t,u.bottomRight)||pn(e,t,u.bottomLeft)}}},Jc.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Cn(4,0),draw:function(e,t,n,r,a,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,a)},intersectLine:function(e,t,n,r,a,i,o,s){var l=this.generateBarrelBezierPts(n+2*o,r+2*o,e,t),u=function(e){var t=Kt({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.15),n=Kt({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.5),r=Kt({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.85);return[e[0],e[1],t.x,t.y,n.x,n.y,r.x,r.y,e[4],e[5]]},c=[].concat(u(l.topLeft),u(l.topRight),u(l.bottomRight),u(l.bottomLeft));return kn(a,i,c,e,t)},generateBarrelBezierPts:function(e,t,n,r){var a=t/2,i=e/2,o=n-i,s=n+i,l=r-a,u=r+a,c=_n(e,t),d=c.heightOffset,h=c.widthOffset,f=c.ctrlPtOffsetPct*e,p={topLeft:[o,l+d,o+f,l,o+h,l],topRight:[s-h,l,s-f,l,s,l+d],bottomRight:[s,u-d,s-f,u,s-h,u],bottomLeft:[o+h,u,o+f,u,o,u-d]};return p.topLeft.isTop=!0,p.topRight.isTop=!0,p.bottomLeft.isBottom=!0,p.bottomRight.isBottom=!0,p},checkPoint:function(e,t,n,r,a,i,o,s){var l=_n(r,a),u=l.heightOffset,c=l.widthOffset;if(vn(e,t,this.points,i,o,r,a-2*u,[0,-1],n))return!0;if(vn(e,t,this.points,i,o,r-2*c,a,[0,-1],n))return!0;for(var d=this.generateBarrelBezierPts(r,a,i,o),h=function(e,t,n){var r,a,i=n[4],o=n[2],s=n[0],l=n[5],u=n[1],c=Math.min(i,s),d=Math.max(i,s),h=Math.min(l,u),f=Math.max(l,u);if(c<=e&&e<=d&&h<=t&&t<=f){var p=[(r=i)-2*(a=o)+s,2*(a-r),r],v=function(e,t,n,r){var a=t*t-4*e*(n-=r);if(a<0)return[];var i=Math.sqrt(a),o=2*e;return[(-t+i)/o,(-t-i)/o]}(p[0],p[1],p[2],e).filter(function(e){return 0<=e&&e<=1});if(v.length>0)return v[0]}return null},f=Object.keys(d),p=0;p<f.length;p++){var v=d[f[p]],g=h(e,t,v);if(null!=g){var y=v[5],m=v[3],b=v[1],x=Ht(y,m,b,g);if(v.isTop&&x<=t)return!0;if(v.isBottom&&t<=x)return!0}}return!1}}},Jc.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Cn(4,0),draw:function(e,t,n,r,a,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,a,this.points,i)},intersectLine:function(e,t,n,r,a,i,o,s){var l=t-(r/2+o),u=wn(a,i,e,t,e-(n/2+o),l,e+(n/2+o),l,!1);return u.length>0?u:un(a,i,e,t,n,r,o,s)},checkPoint:function(e,t,n,r,a,i,o,s){var l=2*(s="auto"===s?Bn(r,a):s);if(vn(e,t,this.points,i,o,r,a-l,[0,-1],n))return!0;if(vn(e,t,this.points,i,o,r-l,a,[0,-1],n))return!0;var u=r/2+2*n,c=a/2+2*n;return!!pn(e,t,[i-u,o-c,i-u,o,i+u,o,i+u,o-c])||(!!mn(e,t,l,l,i+r/2-s,o+a/2-s,n)||!!mn(e,t,l,l,i-r/2+s,o+a/2-s,n))}}},Jc.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",Cn(3,0)),this.generateRoundPolygon("round-triangle",Cn(3,0)),this.generatePolygon("rectangle",Cn(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n),this.generatePolygon("pentagon",Cn(5,0)),this.generateRoundPolygon("round-pentagon",Cn(5,0)),this.generatePolygon("hexagon",Cn(6,0)),this.generateRoundPolygon("round-hexagon",Cn(6,0)),this.generatePolygon("heptagon",Cn(7,0)),this.generateRoundPolygon("round-heptagon",Cn(7,0)),this.generatePolygon("octagon",Cn(8,0)),this.generateRoundPolygon("round-octagon",Cn(8,0));var r=new Array(20),a=Sn(5,0),i=Sn(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<i.length/2;s++)i[2*s]*=o,i[2*s+1]*=o;for(s=0;s<5;s++)r[4*s]=a[2*s],r[4*s+1]=a[2*s+1],r[4*s+2]=i[2*s],r[4*s+3]=i[2*s+1];r=Pn(r),this.generatePolygon("star",r),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l),e.makePolygon=function(e){var n,r="polygon-"+e.join("$");return(n=this[r])?n:t.generatePolygon(r,e)}};var ed={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(e){e=e||it();var t=this;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0),void 0===t.lastRedrawTime&&(t.lastRedrawTime=0),void 0===t.lastDrawTime&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},beforeRender:function(e,t){if(!this.destroyed){null==t&&Je("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort(function(e,t){return t.priority-e.priority})}}},td=function(e,t,n){for(var r=e.beforeRenderCallbacks,a=0;a<r.length;a++)r[a].fn(t,n)};ed.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var n=function(r){if(!e.destroyed){if(t.batching());else if(e.requestedFrame&&!e.skipFrame){td(e,!0,r);var a=Ie();e.render(e.renderOptions);var i=e.lastDrawTime=Ie();void 0===e.averageRedrawTime&&(e.averageRedrawTime=i-a),void 0===e.redrawCount&&(e.redrawCount=0),e.redrawCount++,void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var o=i-a;e.redrawTotalTime+=o,e.lastRedrawTime=o,e.averageRedrawTime=e.averageRedrawTime/2+o/2,e.requestedFrame=!1}else td(e,!1,r);e.skipFrame=!1,Re(n)}};Re(n)}};var nd=function(e){this.init(e)},rd=nd.prototype;rd.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],rd.init=function(e){var t=this;t.options=e,t.cy=e.cy;var n=t.container=e.cy.container(),r=t.cy.window();if(r){var a=r.document,i=a.head,o="__________cytoscape_stylesheet",s="__________cytoscape_container",l=null!=a.getElementById(o);if(n.className.indexOf(s)<0&&(n.className=(n.className||"")+" "+s),!l){var u=a.createElement("style");u.id=o,u.textContent="."+s+" { position: relative; }",i.insertBefore(u,i.children[0])}"static"===r.getComputedStyle(n).getPropertyValue("position")&&tt()}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.webgl=e.webgl,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=G(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},rd.notify=function(e,t){var n=this,r=n.cy;this.destroyed||("init"!==e?"destroy"!==e?(("add"===e||"remove"===e||"move"===e&&r.hasCompoundNodes()||"load"===e||"zorder"===e||"mount"===e)&&n.invalidateCachedZSortedEles(),"viewport"===e&&n.redrawHint("select",!0),"gc"===e&&n.redrawHint("gc",!0),"load"!==e&&"resize"!==e&&"mount"!==e||(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):n.destroy():n.load())},rd.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],r=n.target;(r.off||r.removeEventListener).apply(r,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(a){}},rd.isHeadless=function(){return!1},[cc,Zc,$c,Qc,Jc,ed].forEach(function(e){ge(rd,e)});var ad=1e3/60,id=function(e){return function(){var t=this,n=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var r=De(function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()},e.deqRedrawThreshold),a=e.priority||Qe;n.beforeRender(function(a,i){var o=Ie(),s=n.averageRedrawTime,l=n.lastRedrawTime,u=[],c=n.cy.extent(),d=n.getPixelRatio();for(a||n.flushRenderedStyleQueue();;){var h=Ie(),f=h-o,p=h-i;if(l<ad){var v=ad-(a?s:0);if(p>=e.deqFastCost*v)break}else if(a){if(f>=e.deqCost*l||f>=e.deqAvgCost*s)break}else if(p>=e.deqNoDrawCost*ad)break;var g=e.deq(t,d,c);if(!(g.length>0))break;for(var y=0;y<g.length;y++)u.push(g[y])}u.length>0&&(e.onDeqd(t,u),!a&&e.shouldRedraw(t,u,d,c)&&r())},a(t))}}},od=function(){return n(function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ze;t(this,e),this.idsByKey=new dt,this.keyForId=new dt,this.cachesByLvl=new dt,this.lvls=[],this.getKey=n,this.doesEleInvalidateKey=r},[{key:"getIdsFor",value:function(e){null==e&&Je("Can not get id list for null key");var t=this.idsByKey,n=this.idsByKey.get(e);return n||(n=new ft,t.set(e,n)),n}},{key:"addIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).add(t)}},{key:"deleteIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).delete(t)}},{key:"getNumberOfIdsForKey",value:function(e){return null==e?0:this.getIdsFor(e).size}},{key:"updateKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t),r=this.getKey(e);this.deleteIdForKey(n,t),this.addIdForKey(r,t),this.keyForId.set(t,r)}},{key:"deleteKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteIdForKey(n,t),this.keyForId.delete(t)}},{key:"keyHasChangedFor",value:function(e){var t=e.id();return this.keyForId.get(t)!==this.getKey(e)}},{key:"isInvalid",value:function(e){return this.keyHasChangedFor(e)||this.doesEleInvalidateKey(e)}},{key:"getCachesAt",value:function(e){var t=this.cachesByLvl,n=this.lvls,r=t.get(e);return r||(r=new dt,t.set(e,r),n.push(e)),r}},{key:"getCache",value:function(e,t){return this.getCachesAt(t).get(e)}},{key:"get",value:function(e,t){var n=this.getKey(e),r=this.getCache(n,t);return null!=r&&this.updateKeyMappingFor(e),r}},{key:"getForCachedKey",value:function(e,t){var n=this.keyForId.get(e.id());return this.getCache(n,t)}},{key:"hasCache",value:function(e,t){return this.getCachesAt(t).has(e)}},{key:"has",value:function(e,t){var n=this.getKey(e);return this.hasCache(n,t)}},{key:"setCache",value:function(e,t,n){n.key=e,this.getCachesAt(t).set(e,n)}},{key:"set",value:function(e,t,n){var r=this.getKey(e);this.setCache(r,t,n),this.updateKeyMappingFor(e)}},{key:"deleteCache",value:function(e,t){this.getCachesAt(t).delete(e)}},{key:"delete",value:function(e,t){var n=this.getKey(e);this.deleteCache(n,t)}},{key:"invalidateKey",value:function(e){var t=this;this.lvls.forEach(function(n){return t.deleteCache(e,n)})}},{key:"invalidate",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteKeyMappingFor(e);var r=this.doesEleInvalidateKey(e);return r&&this.invalidateKey(n),r||0===this.getNumberOfIdsForKey(n)}}])}(),sd=7.99,ld={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},ud=ot({getKey:null,doesEleInvalidateKey:Ze,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Ge,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),cd=function(e,t){var n=this;n.renderer=e,n.onDequeues=[];var r=ud(t);ge(n,r),n.lookup=new od(r.getKey,r.doesEleInvalidateKey),n.setupDequeueing()},dd=cd.prototype;dd.reasons=ld,dd.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},dd.getRetiredTextureQueue=function(e){var t=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return t[e]=t[e]||[]},dd.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new Tt(function(e,t){return t.reqs-e.reqs})},dd.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},dd.getElement=function(e,t,n,r,a){var i=this,o=this.renderer,s=o.cy.zoom(),l=this.lookup;if(!t||0===t.w||0===t.h||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed())return null;if(!i.allowEdgeTxrCaching&&e.isEdge()||!i.allowParentTxrCaching&&e.isParent())return null;if(null==r&&(r=Math.ceil(jt(s*n))),r<-4)r=-4;else if(s>=7.99||r>3)return null;var u=Math.pow(2,r),c=t.h*u,d=t.w*u,h=o.eleTextBiggerThanMin(e,u);if(!this.isVisible(e,h))return null;var f,p=l.get(e,r);if(p&&p.invalidated&&(p.invalidated=!1,p.texture.invalidatedWidth-=p.width),p)return p;if(f=c<=25?25:c<=50?50:50*Math.ceil(c/50),c>1024||d>1024)return null;var v=i.getTextureQueue(f),g=v[v.length-2],y=function(){return i.recycleTexture(f,d)||i.addTexture(f,d)};g||(g=v[v.length-1]),g||(g=y()),g.width-g.usedWidth<d&&(g=y());for(var m,b=function(e){return e&&e.scaledLabelShown===h},x=a&&a===ld.dequeue,w=a&&a===ld.highQuality,E=a&&a===ld.downscale,k=r+1;k<=3;k++){var T=l.get(e,k);if(T){m=T;break}}var C=m&&m.level===r+1?m:null,P=function(){g.context.drawImage(C.texture.canvas,C.x,0,C.width,C.height,g.usedWidth,0,d,c)};if(g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(g.usedWidth,0,d,f),b(C))P();else if(b(m)){if(!w)return i.queueElement(e,m.level-1),m;for(var S=m.level;S>r;S--)C=i.getElement(e,t,n,S,ld.downscale);P()}else{var B;if(!x&&!w&&!E)for(var D=r-1;D>=-4;D--){var _=l.get(e,D);if(_){B=_;break}}if(b(B))return i.queueElement(e,r),B;g.context.translate(g.usedWidth,0),g.context.scale(u,u),this.drawElement(g.context,e,t,h,!1),g.context.scale(1/u,1/u),g.context.translate(-g.usedWidth,0)}return p={x:g.usedWidth,texture:g,level:r,scale:u,width:d,height:c,scaledLabelShown:h},g.usedWidth+=Math.ceil(d+8),g.eleCaches.push(p),l.set(e,r,p),i.checkTextureFullness(g),p},dd.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])},dd.invalidateElement=function(e){var t=this,n=t.lookup,r=[];if(n.isInvalid(e)){for(var a=-4;a<=3;a++){var i=n.getForCachedKey(e,a);i&&r.push(i)}if(n.invalidate(e))for(var o=0;o<r.length;o++){var s=r[o],l=s.texture;l.invalidatedWidth+=s.width,s.invalidated=!0,t.checkTextureUtility(l)}t.removeFromQueue(e)}},dd.checkTextureUtility=function(e){e.invalidatedWidth>=.2*e.width&&this.retireTexture(e)},dd.checkTextureFullness=function(e){var t=this.getTextureQueue(e.height);e.usedWidth/e.width>.8&&e.fullnessChecks>=10?st(t,e):e.fullnessChecks++},dd.retireTexture=function(e){var t=e.height,n=this.getTextureQueue(t),r=this.lookup;st(n,e),e.retired=!0;for(var a=e.eleCaches,i=0;i<a.length;i++){var o=a[i];r.deleteCache(o.key,o.level)}lt(a),this.getRetiredTextureQueue(t).push(e)},dd.addTexture=function(e,t){var n={};return this.getTextureQueue(e).push(n),n.eleCaches=[],n.height=e,n.width=Math.max(1024,t),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=this.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n},dd.recycleTexture=function(e,t){for(var n=this.getTextureQueue(e),r=this.getRetiredTextureQueue(e),a=0;a<r.length;a++){var i=r[a];if(i.width>=t)return i.retired=!1,i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,lt(i.eleCaches),i.context.setTransform(1,0,0,1,0,0),i.context.clearRect(0,0,i.width,i.height),st(r,i),n.push(i),i}},dd.queueElement=function(e,t){var n=this.getElementQueue(),r=this.getElementKeyToQueue(),a=this.getKey(e),i=r[a];if(i)i.level=Math.max(i.level,t),i.eles.merge(e),i.reqs++,n.updateItem(i);else{var o={eles:e.spawn().merge(e),level:t,reqs:1,key:a};n.push(o),r[a]=o}},dd.dequeue=function(e){for(var t=this,n=t.getElementQueue(),r=t.getElementKeyToQueue(),a=[],i=t.lookup,o=0;o<1&&n.size()>0;o++){var s=n.pop(),l=s.key,u=s.eles[0],c=i.hasCache(u,s.level);if(r[l]=null,!c){a.push(s);var d=t.getBoundingBox(u);t.getElement(u,d,e,s.level,ld.dequeue)}}return a},dd.removeFromQueue=function(e){var t=this.getElementQueue(),n=this.getElementKeyToQueue(),r=this.getKey(e),a=n[r];null!=a&&(1===a.eles.length?(a.reqs=Ke,t.updateItem(a),t.pop(),n[r]=null):a.eles.unmerge(e))},dd.onDequeue=function(e){this.onDequeues.push(e)},dd.offDequeue=function(e){st(this.onDequeues,e)},dd.setupDequeueing=id({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++){(0,e.onDequeues[n])(t)}},shouldRedraw:function(e,t,n,r){for(var a=0;a<t.length;a++)for(var i=t[a].eles,o=0;o<i.length;o++){var s=i[o].boundingBox();if(nn(s,r))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var hd=function(e){var t=this,n=t.renderer=e,r=n.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=Ie()-500,t.skipping=!1,t.eleTxrDeqs=r.collection(),t.scheduleElementRefinement=De(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},50),n.beforeRender(function(e,n){n-t.lastInvalidationTime<=250?t.skipping=!0:t.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);t.layersQueue=new Tt(function(e,t){return t.reqs-e.reqs}),t.setupDequeueing()},fd=hd.prototype,pd=0,vd=Math.pow(2,53)-1;fd.makeLayer=function(e,t){var n=Math.pow(2,t),r=Math.ceil(e.w*n),a=Math.ceil(e.h*n),i=this.renderer.makeOffscreenCanvas(r,a),o={id:pd=++pd%vd,bb:e,level:t,width:r,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,l=-o.bb.x1,u=-o.bb.y1;return s.scale(n,n),s.translate(l,u),o},fd.getLayers=function(e,t,n){var r=this,a=r.renderer.cy.zoom(),i=r.firstGet;if(r.firstGet=!1,null==n)if((n=Math.ceil(jt(a*t)))<-4)n=-4;else if(a>=3.99||n>2)return null;r.validateLayersElesOrdering(n,e);var o,s,l=r.layersByLevel,u=Math.pow(2,n),c=l[n]=l[n]||[];if(r.levelIsComplete(n,e))return c;!function(){var t=function(t){if(r.validateLayersElesOrdering(t,e),r.levelIsComplete(t,e))return s=l[t],!0},a=function(e){if(!s)for(var r=n+e;-4<=r&&r<=2&&!t(r);r+=e);};a(1),a(-1);for(var i=c.length-1;i>=0;i--){var o=c[i];o.invalid&&st(c,o)}}();var d=function(t){var a=(t=t||{}).after;!function(){if(!o){o=Zt();for(var t=0;t<e.length;t++)$t(o,e[t].boundingBox())}}();var i=Math.ceil(o.w*u),s=Math.ceil(o.h*u);if(i>32767||s>32767)return null;if(i*s>16e6)return null;var l=r.makeLayer(o,n);if(null!=a){var d=c.indexOf(a)+1;c.splice(d,0,l)}else(void 0===t.insert||t.insert)&&c.unshift(l);return l};if(r.skipping&&!i)return null;for(var h=null,f=e.length/1,p=!i,v=0;v<e.length;v++){var g=e[v],y=g._private.rscratch,m=y.imgLayerCaches=y.imgLayerCaches||{},b=m[n];if(b)h=b;else{if((!h||h.eles.length>=f||!on(h.bb,g.boundingBox()))&&!(h=d({insert:!0,after:h})))return null;s||p?r.queueLayer(h,g):r.drawEleInLayer(h,g,n,t),h.eles.push(g),m[n]=h}}return s||(p?null:c)},fd.getEleLevelForLayerLevel=function(e,t){return e},fd.drawEleInLayer=function(e,t,n,r){var a=this.renderer,i=e.context,o=t.boundingBox();0!==o.w&&0!==o.h&&t.visible()&&(n=this.getEleLevelForLayerLevel(n,r),a.setImgSmoothing(i,!1),a.drawCachedElement(i,t,null,null,n,true),a.setImgSmoothing(i,!0))},fd.levelIsComplete=function(e,t){var n=this.layersByLevel[e];if(!n||0===n.length)return!1;for(var r=0,a=0;a<n.length;a++){var i=n[a];if(i.reqs>0)return!1;if(i.invalid)return!1;r+=i.eles.length}return r===t.length},fd.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var r=0;r<n.length;r++){for(var a=n[r],i=-1,o=0;o<t.length;o++)if(a.eles[0]===t[o]){i=o;break}if(i<0)this.invalidateLayer(a);else{var s=i;for(o=0;o<a.eles.length;o++)if(a.eles[o]!==t[s+o]){this.invalidateLayer(a);break}}}},fd.updateElementsInLayers=function(e,t){for(var n=Q(e[0]),r=0;r<e.length;r++)for(var a=n?null:e[r],i=n?e[r]:e[r].ele,o=i._private.rscratch,s=o.imgLayerCaches=o.imgLayerCaches||{},l=-4;l<=2;l++){var u=s[l];u&&(a&&this.getEleLevelForLayerLevel(u.level)!==a.level||t(u,i,a))}},fd.haveLayers=function(){for(var e=!1,t=-4;t<=2;t++){var n=this.layersByLevel[t];if(n&&n.length>0){e=!0;break}}return e},fd.invalidateElements=function(e){var t=this;0!==e.length&&(t.lastInvalidationTime=Ie(),0!==e.length&&t.haveLayers()&&t.updateElementsInLayers(e,function(e,n,r){t.invalidateLayer(e)}))},fd.invalidateLayer=function(e){if(this.lastInvalidationTime=Ie(),!e.invalid){var t=e.level,n=e.eles,r=this.layersByLevel[t];st(r,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var a=0;a<n.length;a++){var i=n[a]._private.rscratch.imgLayerCaches;i&&(i[t]=null)}}},fd.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(e,n,r){var a=e.replacement;if(a||((a=e.replacement=t.makeLayer(e.bb,e.level)).replaces=e,a.eles=e.eles),!a.reqs)for(var i=0;i<a.eles.length;i++)t.queueLayer(a,a.eles[i])})},fd.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()},fd.queueLayer=function(e,t){var n=this.layersQueue,r=e.elesQueue,a=r.hasId=r.hasId||{};if(!e.replacement){if(t){if(a[t.id()])return;r.push(t),a[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}},fd.dequeue=function(e){for(var t=this,n=t.layersQueue,r=[],a=0;a<1&&0!==n.size();){var i=n.peek();if(i.replacement)n.pop();else if(i.replaces&&i!==i.replaces.replacement)n.pop();else if(i.invalid)n.pop();else{var o=i.elesQueue.shift();o&&(t.drawEleInLayer(i,o,i.level,e),a++),0===r.length&&r.push(!0),0===i.elesQueue.length&&(n.pop(),i.reqs=0,i.replaces&&t.applyLayerReplacement(i),t.requestRedraw())}}return r},fd.applyLayerReplacement=function(e){var t=this.layersByLevel[e.level],n=e.replaces,r=t.indexOf(n);if(!(r<0||n.invalid)){t[r]=e;for(var a=0;a<e.eles.length;a++){var i=e.eles[a]._private,o=i.imgLayerCaches=i.imgLayerCaches||{};o&&(o[e.level]=e)}this.requestRedraw()}},fd.requestRedraw=De(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100),fd.setupDequeueing=id({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t){return e.dequeue(t)},onDeqd:Qe,shouldRedraw:Ge,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var gd,yd={};function md(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.lineTo(r.x,r.y)}}function bd(e,t,n){for(var r,a=0;a<t.length;a++){var i=t[a];0===a&&(r=i),e.lineTo(i.x,i.y)}e.quadraticCurveTo(n.x,n.y,r.x,r.y)}function xd(e,t,n){e.beginPath&&e.beginPath();for(var r=t,a=0;a<r.length;a++){var i=r[a];e.lineTo(i.x,i.y)}var o=n,s=n[0];e.moveTo(s.x,s.y);for(a=1;a<o.length;a++){i=o[a];e.lineTo(i.x,i.y)}e.closePath&&e.closePath()}function wd(e,t,n,r,a){e.beginPath&&e.beginPath(),e.arc(n,r,a,0,2*Math.PI,!1);var i=t,o=i[0];e.moveTo(o.x,o.y);for(var s=0;s<i.length;s++){var l=i[s];e.lineTo(l.x,l.y)}e.closePath&&e.closePath()}function Ed(e,t,n,r){e.arc(t,n,r,0,2*Math.PI,!1)}yd.arrowShapeImpl=function(e){return(gd||(gd={polygon:md,"triangle-backcurve":bd,"triangle-tee":xd,"circle-triangle":wd,"triangle-cross":xd,circle:Ed}))[e]};var kd={drawElement:function(e,t,n,r,a,i){t.isNode()?this.drawNode(e,t,n,r,a,i):this.drawEdge(e,t,n,r,a,i)},drawElementOverlay:function(e,t){t.isNode()?this.drawNodeOverlay(e,t):this.drawEdgeOverlay(e,t)},drawElementUnderlay:function(e,t){t.isNode()?this.drawNodeUnderlay(e,t):this.drawEdgeUnderlay(e,t)},drawCachedElementPortion:function(e,t,n,r,a,i,o,s){var l=this,u=n.getBoundingBox(t);if(0!==u.w&&0!==u.h){var c=n.getElement(t,u,r,a,i);if(null!=c){var d=s(l,t);if(0===d)return;var h,f,p,v,g,y,m=o(l,t),b=u.x1,x=u.y1,w=u.w,E=u.h;if(0!==m){var k=n.getRotationPoint(t);p=k.x,v=k.y,e.translate(p,v),e.rotate(m),(g=l.getImgSmoothing(e))||l.setImgSmoothing(e,!0);var T=n.getRotationOffset(t);h=T.x,f=T.y}else h=b,f=x;1!==d&&(y=e.globalAlpha,e.globalAlpha=y*d),e.drawImage(c.texture.canvas,c.x,0,c.width,c.height,h,f,w,E),1!==d&&(e.globalAlpha=y),0!==m&&(e.rotate(-m),e.translate(-p,-v),g||l.setImgSmoothing(e,!1))}else n.drawElement(e,t)}}},Td=function(){return 0},Cd=function(e,t){return e.getTextAngle(t,null)},Pd=function(e,t){return e.getTextAngle(t,"source")},Sd=function(e,t){return e.getTextAngle(t,"target")},Bd=function(e,t){return t.effectiveOpacity()},Dd=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};kd.drawCachedElement=function(e,t,n,r,a,i){var o=this,s=o.data,l=s.eleTxrCache,u=s.lblTxrCache,c=s.slbTxrCache,d=s.tlbTxrCache,h=t.boundingBox(),f=!0===i?l.reasons.highQuality:null;if(0!==h.w&&0!==h.h&&t.visible()&&(!r||nn(h,r))){var p=t.isEdge(),v=t.element()._private.rscratch.badLine;o.drawElementUnderlay(e,t),o.drawCachedElementPortion(e,t,l,n,a,f,Td,Bd),p&&v||o.drawCachedElementPortion(e,t,u,n,a,f,Cd,Dd),p&&!v&&(o.drawCachedElementPortion(e,t,c,n,a,f,Pd,Dd),o.drawCachedElementPortion(e,t,d,n,a,f,Sd,Dd)),o.drawElementOverlay(e,t)}},kd.drawElements=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];this.drawElement(e,r)}},kd.drawCachedElements=function(e,t,n,r){for(var a=0;a<t.length;a++){var i=t[a];this.drawCachedElement(e,i,n,r)}},kd.drawCachedNodes=function(e,t,n,r){for(var a=0;a<t.length;a++){var i=t[a];i.isNode()&&this.drawCachedElement(e,i,n,r)}},kd.drawLayeredElements=function(e,t,n,r){var a=this.data.lyrTxrCache.getLayers(t,n);if(a)for(var i=0;i<a.length;i++){var o=a[i],s=o.bb;0!==s.w&&0!==s.h&&e.drawImage(o.canvas,s.x1,s.y1,s.w,s.h)}else this.drawCachedElements(e,t,n,r)};var _d={drawEdge:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=this,s=t._private.rscratch;if((!i||t.visible())&&!s.badLine&&null!=s.allpts&&!isNaN(s.allpts[0])){var l;n&&(l=n,e.translate(-l.x1,-l.y1));var u=i?t.pstyle("opacity").value:1,c=i?t.pstyle("line-opacity").value:1,d=t.pstyle("curve-style").value,h=t.pstyle("line-style").value,f=t.pstyle("width").pfValue,p=t.pstyle("line-cap").value,v=t.pstyle("line-outline-width").value,g=t.pstyle("line-outline-color").value,y=u*c,m=u*c,b=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;"straight-triangle"===d?(o.eleStrokeStyle(e,t,n),o.drawEdgeTrianglePath(t,e,s.allpts)):(e.lineWidth=f,e.lineCap=p,o.eleStrokeStyle(e,t,n),o.drawEdgePath(t,e,s.allpts,h),e.lineCap="butt")},x=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;o.drawArrowheads(e,t,n)};if(e.lineJoin="round","yes"===t.pstyle("ghost").value){var w=t.pstyle("ghost-offset-x").pfValue,E=t.pstyle("ghost-offset-y").pfValue,k=t.pstyle("ghost-opacity").value,T=y*k;e.translate(w,E),b(T),x(T),e.translate(-w,-E)}else!function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;e.lineWidth=f+v,e.lineCap=p,v>0?(o.colorStrokeStyle(e,g[0],g[1],g[2],n),"straight-triangle"===d?o.drawEdgeTrianglePath(t,e,s.allpts):(o.drawEdgePath(t,e,s.allpts,h),e.lineCap="butt")):e.lineCap="butt"}();a&&o.drawEdgeUnderlay(e,t),b(),x(),a&&o.drawEdgeOverlay(e,t),o.drawElementText(e,t,null,r),n&&e.translate(l.x1,l.y1)}}},Ad=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n){if(n.visible()){var r=n.pstyle("".concat(e,"-opacity")).value;if(0!==r){var a=this,i=a.usePaths(),o=n._private.rscratch,s=2*n.pstyle("".concat(e,"-padding")).pfValue,l=n.pstyle("".concat(e,"-color")).value;t.lineWidth=s,"self"!==o.edgeType||i?t.lineCap="round":t.lineCap="butt",a.colorStrokeStyle(t,l[0],l[1],l[2],r),a.drawEdgePath(n,t,o.allpts,"solid")}}}};_d.drawEdgeOverlay=Ad("overlay"),_d.drawEdgeUnderlay=Ad("underlay"),_d.drawEdgePath=function(e,t,n,a){var i,o=e._private.rscratch,s=t,l=!1,u=this.usePaths(),c=e.pstyle("line-dash-pattern").pfValue,d=e.pstyle("line-dash-offset").pfValue;if(u){var h=n.join("$");o.pathCacheKey&&o.pathCacheKey===h?(i=t=o.pathCache,l=!0):(i=t=new Path2D,o.pathCacheKey=h,o.pathCache=i)}if(s.setLineDash)switch(a){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash(c),s.lineDashOffset=d;break;case"solid":s.setLineDash([])}if(!l&&!o.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),o.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var f=2;f+3<n.length;f+=4)t.quadraticCurveTo(n[f],n[f+1],n[f+2],n[f+3]);break;case"straight":case"haystack":for(var p=2;p+1<n.length;p+=2)t.lineTo(n[p],n[p+1]);break;case"segments":if(o.isRound){var v,g=r(o.roundCorners);try{for(g.s();!(v=g.n()).done;){Ic(t,v.value)}}catch(m){g.e(m)}finally{g.f()}t.lineTo(n[n.length-2],n[n.length-1])}else for(var y=2;y+1<n.length;y+=2)t.lineTo(n[y],n[y+1])}t=s,u?t.stroke(i):t.stroke(),t.setLineDash&&t.setLineDash([])},_d.drawEdgeTrianglePath=function(e,t,n){t.fillStyle=t.strokeStyle;for(var r=e.pstyle("width").pfValue,a=0;a+1<n.length;a+=2){var i=[n[a+2]-n[a],n[a+3]-n[a+1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=[i[1]/o,-i[0]/o],l=[s[0]*r/2,s[1]*r/2];t.beginPath(),t.moveTo(n[a]-l[0],n[a+1]-l[1]),t.lineTo(n[a]+l[0],n[a+1]+l[1]),t.lineTo(n[a+2],n[a+3]),t.closePath(),t.fill()}},_d.drawArrowheads=function(e,t,n){var r=t._private.rscratch,a="haystack"===r.edgeType;a||this.drawArrowhead(e,t,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),a||this.drawArrowhead(e,t,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)},_d.drawArrowhead=function(e,t,n,r,a,i,o){if(!(isNaN(r)||null==r||isNaN(a)||null==a||isNaN(i)||null==i)){var s=this,l=t.pstyle(n+"-arrow-shape").value;if("none"!==l){var u="hollow"===t.pstyle(n+"-arrow-fill").value?"both":"filled",c=t.pstyle(n+"-arrow-fill").value,d=t.pstyle("width").pfValue,h=t.pstyle(n+"-arrow-width"),f="match-line"===h.value?d:h.pfValue;"%"===h.units&&(f*=d);var p=t.pstyle("opacity").value;void 0===o&&(o=p);var v=e.globalCompositeOperation;1===o&&"hollow"!==c||(e.globalCompositeOperation="destination-out",s.colorFillStyle(e,255,255,255,1),s.colorStrokeStyle(e,255,255,255,1),s.drawArrowShape(t,e,u,d,l,f,r,a,i),e.globalCompositeOperation=v);var g=t.pstyle(n+"-arrow-color").value;s.colorFillStyle(e,g[0],g[1],g[2],o),s.colorStrokeStyle(e,g[0],g[1],g[2],o),s.drawArrowShape(t,e,c,d,l,f,r,a,i)}}},_d.drawArrowShape=function(e,t,n,r,a,i,o,s,l){var u,c=this,d=this.usePaths()&&"triangle-cross"!==a,h=!1,f=t,p={x:o,y:s},v=e.pstyle("arrow-scale").value,g=this.getArrowWidth(r,v),y=c.arrowShapes[a];if(d){var m=c.arrowPathCache=c.arrowPathCache||[],b=Ye(a),x=m[b];null!=x?(u=t=x,h=!0):(u=t=new Path2D,m[b]=u)}h||(t.beginPath&&t.beginPath(),d?y.draw(t,1,0,{x:0,y:0},1):y.draw(t,g,l,p,r),t.closePath&&t.closePath()),t=f,d&&(t.translate(o,s),t.rotate(l),t.scale(g,g)),"filled"!==n&&"both"!==n||(d?t.fill(u):t.fill()),"hollow"!==n&&"both"!==n||(t.lineWidth=i/(d?g:1),t.lineJoin="miter",d?t.stroke(u):t.stroke()),d&&(t.scale(1/g,1/g),t.rotate(-l),t.translate(-o,-s))};var Md={safeDrawImage:function(e,t,n,r,a,i,o,s,l,u){if(!(a<=0||i<=0||l<=0||u<=0))try{e.drawImage(t,n,r,a,i,o,s,l,u)}catch(c){tt()}},drawInscribedImage:function(e,t,n,r,a){var i=this,o=n.position(),s=o.x,l=o.y,u=n.cy().style(),c=u.getIndexedStyle.bind(u),d=c(n,"background-fit","value",r),h=c(n,"background-repeat","value",r),f=n.width(),p=n.height(),v=2*n.padding(),g=f+("inner"===c(n,"background-width-relative-to","value",r)?0:v),y=p+("inner"===c(n,"background-height-relative-to","value",r)?0:v),m=n._private.rscratch,b="node"===c(n,"background-clip","value",r),x=c(n,"background-image-opacity","value",r)*a,w=c(n,"background-image-smoothing","value",r),E=n.pstyle("corner-radius").value;"auto"!==E&&(E=n.pstyle("corner-radius").pfValue);var k=t.width||t.cachedW,T=t.height||t.cachedH;null!=k&&null!=T||(document.body.appendChild(t),k=t.cachedW=t.width||t.offsetWidth,T=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var C=k,P=T;if("auto"!==c(n,"background-width","value",r)&&(C="%"===c(n,"background-width","units",r)?c(n,"background-width","pfValue",r)*g:c(n,"background-width","pfValue",r)),"auto"!==c(n,"background-height","value",r)&&(P="%"===c(n,"background-height","units",r)?c(n,"background-height","pfValue",r)*y:c(n,"background-height","pfValue",r)),0!==C&&0!==P){if("contain"===d)C*=S=Math.min(g/C,y/P),P*=S;else if("cover"===d){var S;C*=S=Math.max(g/C,y/P),P*=S}var B=s-g/2,D=c(n,"background-position-x","units",r),_=c(n,"background-position-x","pfValue",r);B+="%"===D?(g-C)*_:_;var A=c(n,"background-offset-x","units",r),M=c(n,"background-offset-x","pfValue",r);B+="%"===A?(g-C)*M:M;var R=l-y/2,I=c(n,"background-position-y","units",r),N=c(n,"background-position-y","pfValue",r);R+="%"===I?(y-P)*N:N;var L=c(n,"background-offset-y","units",r),z=c(n,"background-offset-y","pfValue",r);R+="%"===L?(y-P)*z:z,m.pathCache&&(B-=s,R-=l,s=0,l=0);var O=e.globalAlpha;e.globalAlpha=x;var V=i.getImgSmoothing(e),F=!1;if("no"===w&&V?(i.setImgSmoothing(e,!1),F=!0):"yes"!==w||V||(i.setImgSmoothing(e,!0),F=!0),"no-repeat"===h)b&&(e.save(),m.pathCache?e.clip(m.pathCache):(i.nodeShapes[i.getNodeShape(n)].draw(e,s,l,g,y,E,m),e.clip())),i.safeDrawImage(e,t,0,0,k,T,B,R,C,P),b&&e.restore();else{var X=e.createPattern(t,h);e.fillStyle=X,i.nodeShapes[i.getNodeShape(n)].draw(e,s,l,g,y,E,m),e.translate(B,R),e.fill(),e.translate(-B,-R)}e.globalAlpha=O,F&&i.setImgSmoothing(e,V)}}},Rd={};function Id(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,o=Math.min(i,r/2,a/2);e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+r-o,n),e.quadraticCurveTo(t+r,n,t+r,n+o),e.lineTo(t+r,n+a-o),e.quadraticCurveTo(t+r,n+a,t+r-o,n+a),e.lineTo(t+o,n+a),e.quadraticCurveTo(t,n+a,t,n+a-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath()}Rd.eleTextBiggerThanMin=function(e,t){if(!t){var n=e.cy().zoom(),r=this.getPixelRatio(),a=Math.ceil(jt(n*r));t=Math.pow(2,a)}return!(e.pstyle("font-size").pfValue*t<e.pstyle("min-zoomed-font-size").pfValue)},Rd.drawElementText=function(e,t,n,r,a){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=this;if(null==r){if(i&&!o.eleTextBiggerThanMin(t))return}else if(!1===r)return;if(t.isNode()){var s=t.pstyle("label");if(!s||!s.value)return;var l=o.getLabelJustification(t);e.textAlign=l,e.textBaseline="bottom"}else{var u=t.element()._private.rscratch.badLine,c=t.pstyle("label"),d=t.pstyle("source-label"),h=t.pstyle("target-label");if(u||(!c||!c.value)&&(!d||!d.value)&&(!h||!h.value))return;e.textAlign="center",e.textBaseline="bottom"}var f,p=!n;n&&(f=n,e.translate(-f.x1,-f.y1)),null==a?(o.drawText(e,t,null,p,i),t.isEdge()&&(o.drawText(e,t,"source",p,i),o.drawText(e,t,"target",p,i))):o.drawText(e,t,a,p,i),n&&e.translate(f.x1,f.y1)},Rd.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((t=this.fontCaches[n]).context===e)return t;return t={context:e},this.fontCaches.push(t),t},Rd.setupTextStyle=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.pstyle("font-style").strValue,a=t.pstyle("font-size").pfValue+"px",i=t.pstyle("font-family").strValue,o=t.pstyle("font-weight").strValue,s=n?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,l=t.pstyle("text-outline-opacity").value*s,u=t.pstyle("color").value,c=t.pstyle("text-outline-color").value;e.font=r+" "+o+" "+a+" "+i,e.lineJoin="round",this.colorFillStyle(e,u[0],u[1],u[2],s),this.colorStrokeStyle(e,c[0],c[1],c[2],l)},Rd.getTextAngle=function(e,t){var n,r=e._private.rscratch,a=t?t+"-":"",i=e.pstyle(a+"text-rotation");if("autorotate"===i.strValue){var o=ut(r,"labelAngle",t);n=e.isEdge()?o:0}else n="none"===i.strValue?0:i.pfValue;return n},Rd.drawText=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=t._private.rscratch,o=a?t.effectiveOpacity():1;if(!a||0!==o&&0!==t.pstyle("text-opacity").value){"main"===n&&(n=null);var s,l,u=ut(i,"labelX",n),c=ut(i,"labelY",n),d=this.getLabelText(t,n);if(null!=d&&""!==d&&!isNaN(u)&&!isNaN(c)){this.setupTextStyle(e,t,a);var h,f=n?n+"-":"",p=ut(i,"labelWidth",n),v=ut(i,"labelHeight",n),g=t.pstyle(f+"text-margin-x").pfValue,y=t.pstyle(f+"text-margin-y").pfValue,m=t.isEdge(),b=t.pstyle("text-halign").value,x=t.pstyle("text-valign").value;switch(m&&(b="center",x="center"),u+=g,c+=y,0!==(h=r?this.getTextAngle(t,n):0)&&(s=u,l=c,e.translate(s,l),e.rotate(h),u=0,c=0),x){case"top":break;case"center":c+=v/2;break;case"bottom":c+=v}var w=t.pstyle("text-background-opacity").value,E=t.pstyle("text-border-opacity").value,k=t.pstyle("text-border-width").pfValue,T=t.pstyle("text-background-padding").pfValue,C=t.pstyle("text-background-shape").strValue,P="round-rectangle"===C||"roundrectangle"===C,S="circle"===C;if(w>0||k>0&&E>0){var B=e.fillStyle,D=e.strokeStyle,_=e.lineWidth,A=t.pstyle("text-background-color").value,M=t.pstyle("text-border-color").value,R=t.pstyle("text-border-style").value,I=w>0,N=k>0&&E>0,L=u-T;switch(b){case"left":L-=p;break;case"center":L-=p/2}var z=c-v-T,O=p+2*T,V=v+2*T;if(I&&(e.fillStyle="rgba(".concat(A[0],",").concat(A[1],",").concat(A[2],",").concat(w*o,")")),N&&(e.strokeStyle="rgba(".concat(M[0],",").concat(M[1],",").concat(M[2],",").concat(E*o,")"),e.lineWidth=k,e.setLineDash))switch(R){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=k/4,e.setLineDash([]);break;default:e.setLineDash([])}if(P?(e.beginPath(),Id(e,L,z,O,V,2)):S?(e.beginPath(),function(e,t,n,r,a){var i=Math.min(r,a)/2,o=t+r/2,s=n+a/2;e.beginPath(),e.arc(o,s,i,0,2*Math.PI),e.closePath()}(e,L,z,O,V)):(e.beginPath(),e.rect(L,z,O,V)),I&&e.fill(),N&&e.stroke(),N&&"double"===R){var F=k/2;e.beginPath(),P?Id(e,L+F,z+F,O-2*F,V-2*F,2):e.rect(L+F,z+F,O-2*F,V-2*F),e.stroke()}e.fillStyle=B,e.strokeStyle=D,e.lineWidth=_,e.setLineDash&&e.setLineDash([])}var X=2*t.pstyle("text-outline-width").pfValue;if(X>0&&(e.lineWidth=X),"wrap"===t.pstyle("text-wrap").value){var j=ut(i,"labelWrapCachedLines",n),Y=ut(i,"labelLineHeight",n),q=p/2,W=this.getLabelJustification(t);switch("auto"===W||("left"===b?"left"===W?u+=-p:"center"===W&&(u+=-q):"center"===b?"left"===W?u+=-q:"right"===W&&(u+=q):"right"===b&&("center"===W?u+=q:"right"===W&&(u+=p))),x){case"top":case"center":case"bottom":c-=(j.length-1)*Y}for(var U=0;U<j.length;U++)X>0&&e.strokeText(j[U],u,c),e.fillText(j[U],u,c),c+=Y}else X>0&&e.strokeText(d,u,c),e.fillText(d,u,c);0!==h&&(e.rotate(-h),e.translate(-s,-l))}}};var Nd={drawNode:function(e,t,n){var r,a,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=this,u=t._private,c=u.rscratch,d=t.position();if(G(d.x)&&G(d.y)&&(!s||t.visible())){var h,f,p=s?t.effectiveOpacity():1,v=l.usePaths(),g=!1,y=t.padding();r=t.width()+2*y,a=t.height()+2*y,n&&(f=n,e.translate(-f.x1,-f.y1));for(var m=t.pstyle("background-image").value,b=new Array(m.length),x=new Array(m.length),w=0,E=0;E<m.length;E++){var k=m[E];if(b[E]=null!=k&&"none"!==k){var T=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",E);w++,x[E]=l.getCachedImage(k,T,function(){u.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var C=t.pstyle("background-blacken").value,P=t.pstyle("border-width").pfValue,S=t.pstyle("background-opacity").value*p,B=t.pstyle("border-color").value,D=t.pstyle("border-style").value,_=t.pstyle("border-join").value,A=t.pstyle("border-cap").value,M=t.pstyle("border-position").value,R=t.pstyle("border-dash-pattern").pfValue,I=t.pstyle("border-dash-offset").pfValue,N=t.pstyle("border-opacity").value*p,L=t.pstyle("outline-width").pfValue,z=t.pstyle("outline-color").value,O=t.pstyle("outline-style").value,V=t.pstyle("outline-opacity").value*p,F=t.pstyle("outline-offset").value,X=t.pstyle("corner-radius").value;"auto"!==X&&(X=t.pstyle("corner-radius").pfValue);var j=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;l.eleFillStyle(e,t,n)},Y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;l.colorStrokeStyle(e,B[0],B[1],B[2],t)},q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V;l.colorStrokeStyle(e,z[0],z[1],z[2],t)},W=function(e,t,n,r){var a,i=l.nodePathCache=l.nodePathCache||[],o=qe("polygon"===n?n+","+r.join(","):n,""+t,""+e,""+X),s=i[o],u=!1;return null!=s?(a=s,u=!0,c.pathCache=a):(a=new Path2D,i[o]=c.pathCache=a),{path:a,cacheHit:u}},U=t.pstyle("shape").strValue,H=t.pstyle("shape-polygon-points").pfValue;if(v){e.translate(d.x,d.y);var K=W(r,a,U,H);h=K.path,g=K.cacheHit}var Z=function(){if(!g){var n=d;v&&(n={x:0,y:0}),l.nodeShapes[l.getNodeShape(t)].draw(h||e,n.x,n.y,r,a,X,c)}v?e.fill(h):e.fill()},$=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=u.backgrounding,i=0,o=0;o<x.length;o++){var s=t.cy().style().getIndexedStyle(t,"background-image-containment","value",o);r&&"over"===s||!r&&"inside"===s?i++:b[o]&&x[o].complete&&!x[o].error&&(i++,l.drawInscribedImage(e,x[o],t,o,n))}u.backgrounding=!(i===w),a!==u.backgrounding&&t.updateStyle(!1)},Q=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;l.hasPie(t)&&(l.drawPie(e,t,i),n&&(v||l.nodeShapes[l.getNodeShape(t)].draw(e,d.x,d.y,r,a,X,c)))},J=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;l.hasStripe(t)&&(e.save(),v?e.clip(c.pathCache):(l.nodeShapes[l.getNodeShape(t)].draw(e,d.x,d.y,r,a,X,c),e.clip()),l.drawStripe(e,t,i),e.restore(),n&&(v||l.nodeShapes[l.getNodeShape(t)].draw(e,d.x,d.y,r,a,X,c)))},ee=function(){var t=(C>0?C:-C)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:p),n=C>0?0:255;0!==C&&(l.colorFillStyle(e,n,n,n,t),v?e.fill(h):e.fill())},te=function(){if(P>0){if(e.lineWidth=P,e.lineCap=A,e.lineJoin=_,e.setLineDash)switch(D){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash(R),e.lineDashOffset=I;break;case"solid":case"double":e.setLineDash([])}if("center"!==M){if(e.save(),e.lineWidth*=2,"inside"===M)v?e.clip(h):e.clip();else{var t=new Path2D;t.rect(-r/2-P,-a/2-P,r+2*P,a+2*P),t.addPath(h),e.clip(t,"evenodd")}v?e.stroke(h):e.stroke(),e.restore()}else v?e.stroke(h):e.stroke();if("double"===D){e.lineWidth=P/3;var n=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",v?e.stroke(h):e.stroke(),e.globalCompositeOperation=n}e.setLineDash&&e.setLineDash([])}},ne=function(){if(L>0){if(e.lineWidth=L,e.lineCap="butt",e.setLineDash)switch(O){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}var n=d;v&&(n={x:0,y:0});var i=l.getNodeShape(t),o=P;"inside"===M&&(o=0),"outside"===M&&(o*=2);var s,u=(r+o+(L+F))/r,c=(a+o+(L+F))/a,h=r*u,f=a*c,p=l.nodeShapes[i].points;if(v)s=W(h,f,i,p).path;if("ellipse"===i)l.drawEllipsePath(s||e,n.x,n.y,h,f);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(i)){var g=0,y=0,m=0;"round-diamond"===i?g=1.4*(o+F+L):"round-heptagon"===i?(g=1.075*(o+F+L),m=-(o/2+F+L)/35):"round-hexagon"===i?g=1.12*(o+F+L):"round-pentagon"===i?(g=1.13*(o+F+L),m=-(o/2+F+L)/15):"round-tag"===i?(g=1.12*(o+F+L),y=.07*(o/2+L+F)):"round-triangle"===i&&(g=(o+F+L)*(Math.PI/2),m=-(o+F/2+L)/Math.PI),0!==g&&(h=r*(u=(r+g)/r),["round-hexagon","round-tag"].includes(i)||(f=a*(c=(a+g)/a)));for(var b=h/2,x=f/2,w=(X="auto"===X?Dn(h,f):X)+(o+L+F)/2,E=new Array(p.length/2),k=new Array(p.length/2),T=0;T<p.length/2;T++)E[T]={x:n.x+y+b*p[2*T],y:n.y+m+x*p[2*T+1]};var C,S,B,D,_=E.length;for(S=E[_-1],C=0;C<_;C++)B=E[C%_],D=E[(C+1)%_],k[C]=Nc(S,B,D,w),S=B,B=D;l.drawRoundPolygonPath(s||e,n.x+y,n.y+m,r*u,a*c,p,k)}else if(["roundrectangle","round-rectangle"].includes(i))X="auto"===X?Bn(h,f):X,l.drawRoundRectanglePath(s||e,n.x,n.y,h,f,X+(o+L+F)/2);else if(["cutrectangle","cut-rectangle"].includes(i))X="auto"===X?8:X,l.drawCutRectanglePath(s||e,n.x,n.y,h,f,null,X+(o+L+F)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(i))X="auto"===X?Bn(h,f):X,l.drawBottomRoundRectanglePath(s||e,n.x,n.y,h,f,X+(o+L+F)/2);else if("barrel"===i)l.drawBarrelPath(s||e,n.x,n.y,h,f);else if(i.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(i)){p=gn(yn(p,(o+L+F)/r)),l.drawPolygonPath(s||e,n.x,n.y,r,a,p)}else{p=gn(yn(p,-((o+L+F)/r))),l.drawPolygonPath(s||e,n.x,n.y,r,a,p)}if(v?e.stroke(s):e.stroke(),"double"===O){e.lineWidth=o/3;var A=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",v?e.stroke(s):e.stroke(),e.globalCompositeOperation=A}e.setLineDash&&e.setLineDash([])}};if("yes"===t.pstyle("ghost").value){var re=t.pstyle("ghost-offset-x").pfValue,ae=t.pstyle("ghost-offset-y").pfValue,ie=t.pstyle("ghost-opacity").value,oe=ie*p;e.translate(re,ae),q(),ne(),j(ie*S),Z(),$(oe,!0),Y(ie*N),te(),Q(0!==C||0!==P),J(0!==C||0!==P),$(oe,!1),ee(oe),e.translate(-re,-ae)}v&&e.translate(-d.x,-d.y),o&&l.drawNodeUnderlay(e,t,d,r,a),v&&e.translate(d.x,d.y),q(),ne(),j(),Z(),$(p,!0),Y(),te(),Q(0!==C||0!==P),J(0!==C||0!==P),$(p,!1),ee(),v&&e.translate(-d.x,-d.y),l.drawElementText(e,t,null,i),o&&l.drawNodeOverlay(e,t,d,r,a),n&&e.translate(f.x1,f.y1)}}},Ld=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n,r,a,i){if(n.visible()){var o=n.pstyle("".concat(e,"-padding")).pfValue,s=n.pstyle("".concat(e,"-opacity")).value,l=n.pstyle("".concat(e,"-color")).value,u=n.pstyle("".concat(e,"-shape")).value,c=n.pstyle("".concat(e,"-corner-radius")).value;if(s>0){if(r=r||n.position(),null==a||null==i){var d=n.padding();a=n.width()+2*d,i=n.height()+2*d}this.colorFillStyle(t,l[0],l[1],l[2],s),this.nodeShapes[u].draw(t,r.x,r.y,a+2*o,i+2*o,c),t.fill()}}}};Nd.drawNodeOverlay=Ld("overlay"),Nd.drawNodeUnderlay=Ld("underlay"),Nd.hasPie=function(e){return(e=e[0])._private.hasPie},Nd.hasStripe=function(e){return(e=e[0])._private.hasStripe},Nd.drawPie=function(e,t,n,r){t=t[0],r=r||t.position();var a,i=t.cy().style(),o=t.pstyle("pie-size"),s=t.pstyle("pie-hole"),l=t.pstyle("pie-start-angle").pfValue,u=r.x,c=r.y,d=t.width(),h=t.height(),f=Math.min(d,h)/2,p=0;if(this.usePaths()&&(u=0,c=0),"%"===o.units?f*=o.pfValue:void 0!==o.pfValue&&(f=o.pfValue/2),"%"===s.units?a=f*s.pfValue:void 0!==s.pfValue&&(a=s.pfValue/2),!(a>=f))for(var v=1;v<=i.pieBackgroundN;v++){var g=t.pstyle("pie-"+v+"-background-size").value,y=t.pstyle("pie-"+v+"-background-color").value,m=t.pstyle("pie-"+v+"-background-opacity").value*n,b=g/100;b+p>1&&(b=1-p);var x=1.5*Math.PI+2*Math.PI*p,w=(x+=l)+2*Math.PI*b;0===g||p>=1||p+b>1||(0===a?(e.beginPath(),e.moveTo(u,c),e.arc(u,c,f,x,w),e.closePath()):(e.beginPath(),e.arc(u,c,f,x,w),e.arc(u,c,a,w,x,!0),e.closePath()),this.colorFillStyle(e,y[0],y[1],y[2],m),e.fill(),p+=b)}},Nd.drawStripe=function(e,t,n,r){t=t[0],r=r||t.position();var a=t.cy().style(),i=r.x,o=r.y,s=t.width(),l=t.height(),u=0,c=this.usePaths();e.save();var d=t.pstyle("stripe-direction").value,h=t.pstyle("stripe-size");switch(d){case"vertical":break;case"righward":e.rotate(-Math.PI/2)}var f=s,p=l;"%"===h.units?(f*=h.pfValue,p*=h.pfValue):void 0!==h.pfValue&&(f=h.pfValue,p=h.pfValue),c&&(i=0,o=0),o-=f/2,i-=p/2;for(var v=1;v<=a.stripeBackgroundN;v++){var g=t.pstyle("stripe-"+v+"-background-size").value,y=t.pstyle("stripe-"+v+"-background-color").value,m=t.pstyle("stripe-"+v+"-background-opacity").value*n,b=g/100;b+u>1&&(b=1-u),0===g||u>=1||u+b>1||(e.beginPath(),e.rect(i,o+p*u,f,p*b),e.closePath(),this.colorFillStyle(e,y[0],y[1],y[2],m),e.fill(),u+=b)}e.restore()};var zd,Od={};function Vd(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(r));return r}function Fd(e,t,n){void 0===n&&(n=t);var r=e.makeOffscreenCanvas(t,n),a=r.context=r.getContext("2d");return r.clear=function(){return a.clearRect(0,0,r.width,r.height)},r.clear(),r}function Xd(e){var t=e.pixelRatio,n=e.cy.zoom(),r=e.cy.pan();return{zoom:n*t,pan:{x:r.x*t,y:r.y*t}}}function jd(e){return"solid"===e.pstyle("background-fill").value&&("none"===e.pstyle("background-image").strValue&&(0===e.pstyle("border-width").value||(0===e.pstyle("border-opacity").value||"solid"===e.pstyle("border-style").value)))}function Yd(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function qd(e,t,n){var r=e[0]/255,a=e[1]/255,i=e[2]/255,o=t,s=n||new Array(4);return s[0]=r*o,s[1]=a*o,s[2]=i*o,s[3]=o,s}function Wd(e,t){var n=t||new Array(4);return n[0]=(255&e)/255,n[1]=(e>>8&255)/255,n[2]=(e>>16&255)/255,n[3]=(e>>24&255)/255,n}function Ud(e){return e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24)}function Hd(e,t){switch(t){case"float":return[1,e.FLOAT,4];case"vec2":return[2,e.FLOAT,4];case"vec3":return[3,e.FLOAT,4];case"vec4":return[4,e.FLOAT,4];case"int":return[1,e.INT,4];case"ivec2":return[2,e.INT,4]}}function Kd(e,t,n){switch(t){case e.FLOAT:return new Float32Array(n);case e.INT:return new Int32Array(n)}}function Gd(e,t,n,r,a,i){switch(t){case e.FLOAT:return new Float32Array(n.buffer,i*r,a);case e.INT:return new Int32Array(n.buffer,i*r,a)}}function Zd(e,t,n,r){var a=i(Hd(e,n),3),o=a[0],s=a[1],l=a[2],u=Kd(e,s,t*o),c=o*l,d=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,d),e.bufferData(e.ARRAY_BUFFER,t*c,e.DYNAMIC_DRAW),e.enableVertexAttribArray(r),s===e.FLOAT?e.vertexAttribPointer(r,o,s,!1,c,0):s===e.INT&&e.vertexAttribIPointer(r,o,s,c,0),e.vertexAttribDivisor(r,1),e.bindBuffer(e.ARRAY_BUFFER,null);for(var h=new Array(t),f=0;f<t;f++)h[f]=Gd(e,s,u,c,o,f);return d.dataArray=u,d.stride=c,d.size=o,d.getView=function(e){return h[e]},d.setPoint=function(e,t,n){var r=h[e];r[0]=t,r[1]=n},d.bufferSubData=function(t){e.bindBuffer(e.ARRAY_BUFFER,d),t?e.bufferSubData(e.ARRAY_BUFFER,0,u,0,t*o):e.bufferSubData(e.ARRAY_BUFFER,0,u)},d}Od.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=this.cy.window(),n=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/n},Od.paintCache=function(e){for(var t,n=this.paintCaches=this.paintCaches||[],r=!0,a=0;a<n.length;a++)if((t=n[a]).context===e){r=!1;break}return r&&(t={context:e},n.push(t)),t},Od.createGradientStyleFor=function(e,t,n,r,a){var i,o=this.usePaths(),s=n.pstyle(t+"-gradient-stop-colors").value,l=n.pstyle(t+"-gradient-stop-positions").pfValue;if("radial-gradient"===r)if(n.isEdge()){var u=n.sourceEndpoint(),c=n.targetEndpoint(),d=n.midpoint(),h=qt(u,d),f=qt(c,d);i=e.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(h,f))}else{var p=o?{x:0,y:0}:n.position(),v=n.paddedWidth(),g=n.paddedHeight();i=e.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(v,g))}else if(n.isEdge()){var y=n.sourceEndpoint(),m=n.targetEndpoint();i=e.createLinearGradient(y.x,y.y,m.x,m.y)}else{var b=o?{x:0,y:0}:n.position(),x=n.paddedWidth()/2,w=n.paddedHeight()/2;switch(n.pstyle("background-gradient-direction").value){case"to-bottom":i=e.createLinearGradient(b.x,b.y-w,b.x,b.y+w);break;case"to-top":i=e.createLinearGradient(b.x,b.y+w,b.x,b.y-w);break;case"to-left":i=e.createLinearGradient(b.x+x,b.y,b.x-x,b.y);break;case"to-right":i=e.createLinearGradient(b.x-x,b.y,b.x+x,b.y);break;case"to-bottom-right":case"to-right-bottom":i=e.createLinearGradient(b.x-x,b.y-w,b.x+x,b.y+w);break;case"to-top-right":case"to-right-top":i=e.createLinearGradient(b.x-x,b.y+w,b.x+x,b.y-w);break;case"to-bottom-left":case"to-left-bottom":i=e.createLinearGradient(b.x+x,b.y-w,b.x-x,b.y+w);break;case"to-top-left":case"to-left-top":i=e.createLinearGradient(b.x+x,b.y+w,b.x-x,b.y-w)}}if(!i)return null;for(var E=l.length===s.length,k=s.length,T=0;T<k;T++)i.addColorStop(E?l[T]:T/(k-1),"rgba("+s[T][0]+","+s[T][1]+","+s[T][2]+","+a+")");return i},Od.gradientFillStyle=function(e,t,n,r){var a=this.createGradientStyleFor(e,"background",t,n,r);if(!a)return null;e.fillStyle=a},Od.colorFillStyle=function(e,t,n,r,a){e.fillStyle="rgba("+t+","+n+","+r+","+a+")"},Od.eleFillStyle=function(e,t,n){var r=t.pstyle("background-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientFillStyle(e,t,r,n);else{var a=t.pstyle("background-color").value;this.colorFillStyle(e,a[0],a[1],a[2],n)}},Od.gradientStrokeStyle=function(e,t,n,r){var a=this.createGradientStyleFor(e,"line",t,n,r);if(!a)return null;e.strokeStyle=a},Od.colorStrokeStyle=function(e,t,n,r,a){e.strokeStyle="rgba("+t+","+n+","+r+","+a+")"},Od.eleStrokeStyle=function(e,t,n){var r=t.pstyle("line-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientStrokeStyle(e,t,r,n);else{var a=t.pstyle("line-color").value;this.colorStrokeStyle(e,a[0],a[1],a[2],n)}},Od.matchCanvasSize=function(e){var t=this,n=t.data,r=t.findContainerClientCoords(),a=r[2],i=r[3],o=t.getPixelRatio(),s=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(o=s);var l,u=a*o,c=i*o;if(u!==t.canvasWidth||c!==t.canvasHeight){t.fontCaches=null;var d=n.canvasContainer;d.style.width=a+"px",d.style.height=i+"px";for(var h=0;h<t.CANVAS_LAYERS;h++)(l=n.canvases[h]).width=u,l.height=c,l.style.width=a+"px",l.style.height=i+"px";for(h=0;h<t.BUFFER_COUNT;h++)(l=n.bufferCanvases[h]).width=u,l.height=c,l.style.width=a+"px",l.style.height=i+"px";t.textureMult=1,o<=1&&(l=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,l.width=u*t.textureMult,l.height=c*t.textureMult),t.canvasWidth=u,t.canvasHeight=c,t.pixelRatio=o}},Od.renderTo=function(e,t,n,r){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},Od.clearCanvas=function(){var e=this,t=e.data;function n(t){t.clearRect(0,0,e.canvasWidth,e.canvasHeight)}n(t.contexts[e.NODE]),n(t.contexts[e.DRAG])},Od.render=function(e){var t=this;e=e||it();var n=t.cy,r=e.forcedContext,a=e.drawAllLayers,i=e.drawOnlyNodeLayer,o=e.forcedZoom,s=e.forcedPan,l=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,u=t.data,c=u.canvasNeedsRedraw,d=t.textureOnViewport&&!r&&(t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming),h=void 0!==e.motionBlur?e.motionBlur:t.motionBlur,f=t.motionBlurPxRatio,p=n.hasCompoundNodes(),v=t.hoverData.draggingEles,g=!(!t.hoverData.selecting&&!t.touchData.selecting),y=h=h&&!r&&t.motionBlurEnabled&&!g;r||(t.prevPxRatio!==l&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container),t.redrawHint("eles",!0),t.redrawHint("drag",!0)),t.prevPxRatio=l),!r&&t.motionBlurTimeout&&clearTimeout(t.motionBlurTimeout),h&&(null==t.mbFrames&&(t.mbFrames=0),t.mbFrames++,t.mbFrames<3&&(y=!1),t.mbFrames>t.minMbLowQualFrames&&(t.motionBlurPxRatio=t.mbPxRBlurry)),t.clearingMotionBlur&&(t.motionBlurPxRatio=1),t.textureDrawLastFrame&&!d&&(c[t.NODE]=!0,c[t.SELECT_BOX]=!0);var m=n.style(),b=n.zoom(),x=void 0!==o?o:b,w=n.pan(),E={x:w.x,y:w.y},k={zoom:b,pan:{x:w.x,y:w.y}},T=t.prevViewport;void 0===T||k.zoom!==T.zoom||k.pan.x!==T.pan.x||k.pan.y!==T.pan.y||v&&!p||(t.motionBlurPxRatio=1),s&&(E=s),x*=l,E.x*=l,E.y*=l;var C=t.getCachedZSortedEles();function P(e,n,r,a,i){var o=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",t.colorFillStyle(e,255,255,255,t.motionBlurTransparency),e.fillRect(n,r,a,i),e.globalCompositeOperation=o}function S(e,n){var i,l,c,d;t.clearingMotionBlur||e!==u.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]&&e!==u.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]?(i=E,l=x,c=t.canvasWidth,d=t.canvasHeight):(i={x:w.x*f,y:w.y*f},l=b*f,c=t.canvasWidth*f,d=t.canvasHeight*f),e.setTransform(1,0,0,1,0,0),"motionBlur"===n?P(e,0,0,c,d):r||void 0!==n&&!n||e.clearRect(0,0,c,d),a||(e.translate(i.x,i.y),e.scale(l,l)),s&&e.translate(s.x,s.y),o&&e.scale(o,o)}if(d||(t.textureDrawLastFrame=!1),d){if(t.textureDrawLastFrame=!0,!t.textureCache){t.textureCache={},t.textureCache.bb=n.mutableElements().boundingBox(),t.textureCache.texture=t.data.bufferCanvases[t.TEXTURE_BUFFER];var B=t.data.bufferContexts[t.TEXTURE_BUFFER];B.setTransform(1,0,0,1,0,0),B.clearRect(0,0,t.canvasWidth*t.textureMult,t.canvasHeight*t.textureMult),t.render({forcedContext:B,drawOnlyNodeLayer:!0,forcedPxRatio:l*t.textureMult}),(k=t.textureCache.viewport={zoom:n.zoom(),pan:n.pan(),width:t.canvasWidth,height:t.canvasHeight}).mpan={x:(0-k.pan.x)/k.zoom,y:(0-k.pan.y)/k.zoom}}c[t.DRAG]=!1,c[t.NODE]=!1;var D=u.contexts[t.NODE],_=t.textureCache.texture;k=t.textureCache.viewport;D.setTransform(1,0,0,1,0,0),h?P(D,0,0,k.width,k.height):D.clearRect(0,0,k.width,k.height);var A=m.core("outside-texture-bg-color").value,M=m.core("outside-texture-bg-opacity").value;t.colorFillStyle(D,A[0],A[1],A[2],M),D.fillRect(0,0,k.width,k.height);b=n.zoom();S(D,!1),D.clearRect(k.mpan.x,k.mpan.y,k.width/k.zoom/l,k.height/k.zoom/l),D.drawImage(_,k.mpan.x,k.mpan.y,k.width/k.zoom/l,k.height/k.zoom/l)}else t.textureOnViewport&&!r&&(t.textureCache=null);var R=n.extent(),I=t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming||t.hoverData.draggingEles||t.cy.animated(),N=t.hideEdgesOnViewport&&I,L=[];if(L[t.NODE]=!c[t.NODE]&&h&&!t.clearedForMotionBlur[t.NODE]||t.clearingMotionBlur,L[t.NODE]&&(t.clearedForMotionBlur[t.NODE]=!0),L[t.DRAG]=!c[t.DRAG]&&h&&!t.clearedForMotionBlur[t.DRAG]||t.clearingMotionBlur,L[t.DRAG]&&(t.clearedForMotionBlur[t.DRAG]=!0),c[t.NODE]||a||i||L[t.NODE]){var z=h&&!L[t.NODE]&&1!==f;S(D=r||(z?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]:u.contexts[t.NODE]),h&&!z?"motionBlur":void 0),N?t.drawCachedNodes(D,C.nondrag,l,R):t.drawLayeredElements(D,C.nondrag,l,R),t.debug&&t.drawDebugPoints(D,C.nondrag),a||h||(c[t.NODE]=!1)}if(!i&&(c[t.DRAG]||a||L[t.DRAG])){z=h&&!L[t.DRAG]&&1!==f;S(D=r||(z?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]:u.contexts[t.DRAG]),h&&!z?"motionBlur":void 0),N?t.drawCachedNodes(D,C.drag,l,R):t.drawCachedElements(D,C.drag,l,R),t.debug&&t.drawDebugPoints(D,C.drag),a||h||(c[t.DRAG]=!1)}if(this.drawSelectionRectangle(e,S),h&&1!==f){var O=u.contexts[t.NODE],V=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE],F=u.contexts[t.DRAG],X=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG],j=function(e,n,r){e.setTransform(1,0,0,1,0,0),r||!y?e.clearRect(0,0,t.canvasWidth,t.canvasHeight):P(e,0,0,t.canvasWidth,t.canvasHeight);var a=f;e.drawImage(n,0,0,t.canvasWidth*a,t.canvasHeight*a,0,0,t.canvasWidth,t.canvasHeight)};(c[t.NODE]||L[t.NODE])&&(j(O,V,L[t.NODE]),c[t.NODE]=!1),(c[t.DRAG]||L[t.DRAG])&&(j(F,X,L[t.DRAG]),c[t.DRAG]=!1)}t.prevViewport=k,t.clearingMotionBlur&&(t.clearingMotionBlur=!1,t.motionBlurCleared=!0,t.motionBlur=!0),h&&(t.motionBlurTimeout=setTimeout(function(){t.motionBlurTimeout=null,t.clearedForMotionBlur[t.NODE]=!1,t.clearedForMotionBlur[t.DRAG]=!1,t.motionBlur=!1,t.clearingMotionBlur=!d,t.mbFrames=0,c[t.NODE]=!0,c[t.DRAG]=!0,t.redraw()},100)),r||n.emit("render")},Od.drawSelectionRectangle=function(e,t){var n=this,r=n.cy,a=n.data,i=r.style(),o=e.drawOnlyNodeLayer,s=e.drawAllLayers,l=a.canvasNeedsRedraw,u=e.forcedContext;if(n.showFps||!o&&l[n.SELECT_BOX]&&!s){var c=u||a.contexts[n.SELECT_BOX];if(t(c),1==n.selection[4]&&(n.hoverData.selecting||n.touchData.selecting)){var d=n.cy.zoom(),h=i.core("selection-box-border-width").value/d;c.lineWidth=h,c.fillStyle="rgba("+i.core("selection-box-color").value[0]+","+i.core("selection-box-color").value[1]+","+i.core("selection-box-color").value[2]+","+i.core("selection-box-opacity").value+")",c.fillRect(n.selection[0],n.selection[1],n.selection[2]-n.selection[0],n.selection[3]-n.selection[1]),h>0&&(c.strokeStyle="rgba("+i.core("selection-box-border-color").value[0]+","+i.core("selection-box-border-color").value[1]+","+i.core("selection-box-border-color").value[2]+","+i.core("selection-box-opacity").value+")",c.strokeRect(n.selection[0],n.selection[1],n.selection[2]-n.selection[0],n.selection[3]-n.selection[1]))}if(a.bgActivePosistion&&!n.hoverData.selecting){d=n.cy.zoom();var f=a.bgActivePosistion;c.fillStyle="rgba("+i.core("active-bg-color").value[0]+","+i.core("active-bg-color").value[1]+","+i.core("active-bg-color").value[2]+","+i.core("active-bg-opacity").value+")",c.beginPath(),c.arc(f.x,f.y,i.core("active-bg-size").pfValue/d,0,2*Math.PI),c.fill()}var p=n.lastRedrawTime;if(n.showFps&&p){p=Math.round(p);var v=Math.round(1e3/p),g="1 frame = "+p+" ms = "+v+" fps";if(c.setTransform(1,0,0,1,0,0),c.fillStyle="rgba(255, 0, 0, 0.75)",c.strokeStyle="rgba(255, 0, 0, 0.75)",c.font="30px Arial",!zd){var y=c.measureText(g);zd=y.actualBoundingBoxAscent}c.fillText(g,0,zd);c.strokeRect(0,zd+10,250,20),c.fillRect(0,zd+10,250*Math.min(v/60,1),20)}s||(l[n.SELECT_BOX]=!1)}};var $d="undefined"!=typeof Float32Array?Float32Array:Array;function Qd(){var e=new $d(9);return $d!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function Jd(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function eh(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],h=n[0],f=n[1];return e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=l,e[6]=h*r+f*o+u,e[7]=h*a+f*s+c,e[8]=h*i+f*l+d,e}function th(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],h=Math.sin(n),f=Math.cos(n);return e[0]=f*r+h*o,e[1]=f*a+h*s,e[2]=f*i+h*l,e[3]=f*o-h*r,e[4]=f*s-h*a,e[5]=f*l-h*i,e[6]=u,e[7]=c,e[8]=d,e}function nh(e,t,n){var r=n[0],a=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var rh=function(){return n(function e(n,r,a,i){t(this,e),this.debugID=Math.floor(1e4*Math.random()),this.r=n,this.texSize=r,this.texRows=a,this.texHeight=Math.floor(r/a),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=i(n,r,r),this.scratch=i(n,r,this.texHeight,"scratch")},[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(e){var t=e.w,n=e.h,r=this.texHeight,a=this.texSize,i=r/n,o=t*i,s=n*i;return o>a&&(o=t*(i=a/t),s=n*i),{scale:i,texW:o,texH:s}}},{key:"draw",value:function(e,t,n){var r=this;if(this.locked)throw new Error("can't draw, atlas is locked");var a=this.texSize,i=this.texRows,o=this.texHeight,s=this.getScale(t),l=s.scale,u=s.texW,c=s.texH,d=function(e,r){if(n&&r){var a=r.context,i=e.x,s=e.row,u=i,c=o*s;a.save(),a.translate(u,c),a.scale(l,l),n(a,t),a.restore()}},h=[null,null],f=function(){d(r.freePointer,r.canvas),h[0]={x:r.freePointer.x,y:r.freePointer.row*o,w:u,h:c},h[1]={x:r.freePointer.x+u,y:r.freePointer.row*o,w:0,h:c},r.freePointer.x+=u,r.freePointer.x==a&&(r.freePointer.x=0,r.freePointer.row++)},p=function(){r.freePointer.x=0,r.freePointer.row++};if(this.freePointer.x+u<=a)f();else{if(this.freePointer.row>=i-1)return!1;this.freePointer.x===a?(p(),f()):this.enableWrapping?function(){var e=r.scratch,t=r.canvas;e.clear(),d({x:0,row:0},e);var n=a-r.freePointer.x,i=u-n,s=o,l=r.freePointer.x,f=r.freePointer.row*o,p=n;t.context.drawImage(e,0,0,p,s,l,f,p,s),h[0]={x:l,y:f,w:p,h:c};var v=n,g=(r.freePointer.row+1)*o,y=i;t&&t.context.drawImage(e,v,0,y,s,0,g,y,s),h[1]={x:0,y:g,w:y,h:c},r.freePointer.x=i,r.freePointer.row++}():(p(),f())}return this.keyToLocation.set(e,h),this.needsBuffer=!0,h}},{key:"getOffsets",value:function(e){return this.keyToLocation.get(e)}},{key:"isEmpty",value:function(){return 0===this.freePointer.x&&0===this.freePointer.row}},{key:"canFit",value:function(e){if(this.locked)return!1;var t=this.texSize,n=this.texRows,r=this.getScale(e).texW;return!(this.freePointer.x+r>t)||this.freePointer.row<n-1}},{key:"bufferIfNeeded",value:function(e){this.texture||(this.texture=function(e){var t=e.createTexture();return t.buffer=function(n){e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},t.deleteTexture=function(){e.deleteTexture(t)},t}(e,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])}(),ah=function(){return n(function e(n,r,a,i){t(this,e),this.r=n,this.texSize=r,this.texRows=a,this.createTextureCanvas=i,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set},[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var e=this.r,t=this.texSize,n=this.texRows,r=this.createTextureCanvas;return new rh(e,t,n,r)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var e=this.r,t=this.texSize,n=this.texRows,r=this.createTextureCanvas,a=Math.floor(t/n);this.scratch=r(e,t,a,"scratch")}return this.scratch}},{key:"draw",value:function(e,t,n){var r=this.styleKeyToAtlas.get(e);return r||((r=this.atlases[this.atlases.length-1])&&r.canFit(t)||(r&&r.lock(),r=this._createAtlas(),this.atlases.push(r)),r.draw(e,t,n),this.styleKeyToAtlas.set(e,r)),r}},{key:"getAtlas",value:function(e){return this.styleKeyToAtlas.get(e)}},{key:"hasAtlas",value:function(e){return this.styleKeyToAtlas.has(e)}},{key:"markKeyForGC",value:function(e){this.markedKeys.add(e)}},{key:"gc",value:function(){var e=this,t=this.markedKeys;if(0!==t.size){var n,a=[],s=new Map,l=null,u=r(this.atlases);try{var c=function(){var u,c,d=n.value,h=d.getKeys(),f=(c=h,(u=t).intersection?u.intersection(c):new Set(o(u).filter(function(e){return c.has(e)})));if(0===f.size)return a.push(d),h.forEach(function(e){return s.set(e,d)}),1;l||(l=e._createAtlas(),a.push(l));var p,v=r(h);try{for(v.s();!(p=v.n()).done;){var g=p.value;if(!f.has(g)){var y=i(d.getOffsets(g),2),m=y[0],b=y[1];l.canFit({w:m.w+b.w,h:m.h})||(l.lock(),l=e._createAtlas(),a.push(l)),d.canvas&&(e._copyTextureToNewAtlas(g,d,l),s.set(g,l))}}}catch(x){v.e(x)}finally{v.f()}d.dispose()};for(u.s();!(n=u.n()).done;)c()}catch(d){u.e(d)}finally{u.f()}this.atlases=a,this.styleKeyToAtlas=s,this.markedKeys=new Set}}},{key:"_copyTextureToNewAtlas",value:function(e,t,n){var r=i(t.getOffsets(e),2),a=r[0],o=r[1];if(0===o.w)n.draw(e,a,function(e){e.drawImage(t.canvas,a.x,a.y,a.w,a.h,0,0,a.w,a.h)});else{var s=this._getScratchCanvas();s.clear(),s.context.drawImage(t.canvas,a.x,a.y,a.w,a.h,0,0,a.w,a.h),s.context.drawImage(t.canvas,o.x,o.y,o.w,o.h,a.w,0,o.w,o.h);var l=a.w+o.w,u=a.h;n.draw(e,{w:l,h:u},function(e){e.drawImage(s,0,0,l,u,0,0,l,u)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();var ih=function(){return n(function e(n,r){t(this,e),this.r=n,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map},[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(e,t){var n=this.globalOptions,r=n.webglTexSize,a=n.createTextureCanvas,i=t.texRows,o=this._cacheScratchCanvas(a),s=new ah(this.r,r,i,o);this.collections.set(e,s)}},{key:"addRenderType",value:function(e,t){var n=t.collection;if(!this.collections.has(n))throw new Error("invalid atlas collection name '".concat(n,"'"));var r=this.collections.get(n),a=ge({type:e,atlasCollection:r},t);this.renderTypes.set(e,a)}},{key:"getRenderTypeOpts",value:function(e){return this.renderTypes.get(e)}},{key:"getAtlasCollection",value:function(e){return this.collections.get(e)}},{key:"_cacheScratchCanvas",value:function(e){var t=-1,n=-1,r=null;return function(a,i,o,s){return s?(r&&i==t&&o==n||(t=i,n=o,r=e(a,i,o)),r):e(a,i,o)}}},{key:"_key",value:function(e,t){return"".concat(e,"-").concat(t)}},{key:"invalidate",value:function(e){var t,n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.forceRedraw,o=void 0!==i&&i,s=a.filterEle,l=void 0===s?function(){return!0}:s,u=a.filterType,c=void 0===u?function(){return!0}:u,d=!1,h=!1,f=r(e);try{for(f.s();!(t=f.n()).done;){var p=t.value;if(l(p)){var v,g=r(this.renderTypes.values());try{var y=function(){var e=v.value,t=e.type;if(c(t)){var r=n.collections.get(e.collection),a=e.getKey(p),i=Array.isArray(a)?a:[a];if(o)i.forEach(function(e){return r.markKeyForGC(e)}),h=!0;else{var s=e.getID?e.getID(p):p.id(),l=n._key(t,s),u=n.typeAndIdToKey.get(l);void 0===u||Yd(i,u)||(d=!0,n.typeAndIdToKey.delete(l),u.forEach(function(e){return r.markKeyForGC(e)}))}}};for(g.s();!(v=g.n()).done;)y()}catch(m){g.e(m)}finally{g.f()}}}}catch(m){f.e(m)}finally{f.f()}return h&&(this.gc(),d=!1),d}},{key:"gc",value:function(){var e,t=r(this.collections.values());try{for(t.s();!(e=t.n()).done;){e.value.gc()}}catch(n){t.e(n)}finally{t.f()}}},{key:"getOrCreateAtlas",value:function(e,t,n,r){var a=this.renderTypes.get(t),i=this.collections.get(a.collection),o=!1,s=i.draw(r,n,function(t){a.drawClipped?(t.save(),t.beginPath(),t.rect(0,0,n.w,n.h),t.clip(),a.drawElement(t,e,n,!0,!0),t.restore()):a.drawElement(t,e,n,!0,!0),o=!0});if(o){var l=a.getID?a.getID(e):e.id(),u=this._key(t,l);this.typeAndIdToKey.has(u)?this.typeAndIdToKey.get(u).push(r):this.typeAndIdToKey.set(u,[r])}return s}},{key:"getAtlasInfo",value:function(e,t){var n=this,r=this.renderTypes.get(t),a=r.getKey(e);return(Array.isArray(a)?a:[a]).map(function(a){var o=r.getBoundingBox(e,a),s=n.getOrCreateAtlas(e,t,o,a),l=i(s.getOffsets(a),2),u=l[0];return{atlas:s,tex:u,tex1:u,tex2:l[1],bb:o}})}},{key:"getDebugInfo",value:function(){var e,t=[],n=r(this.collections);try{for(n.s();!(e=n.n()).done;){var a=i(e.value,2),o=a[0],s=a[1].getCounts(),l=s.keyCount,u=s.atlasCount;t.push({type:o,keyCount:l,atlasCount:u})}}catch(c){n.e(c)}finally{n.f()}return t}}])}(),oh=function(){return n(function e(n){t(this,e),this.globalOptions=n,this.atlasSize=n.webglTexSize,this.maxAtlasesPerBatch=n.webglTexPerBatch,this.batchAtlases=[]},[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(e,t){return t})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(e){return this.batchAtlases.length!==this.maxAtlasesPerBatch||this.batchAtlases.includes(e)}},{key:"getAtlasIndexForBatch",value:function(e){var t=this.batchAtlases.indexOf(e);if(t<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(e),t=this.batchAtlases.length-1}return t}}])}(),sh={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},lh=1,uh=2,ch=function(){return n(function e(n,r,a){t(this,e),this.r=n,this.gl=r,this.maxInstances=a.webglBatchSize,this.atlasSize=a.webglTexSize,this.bgColor=a.bgColor,this.debug=a.webglDebug,this.batchDebugInfo=[],a.enableWrapping=!0,a.createTextureCanvas=Fd,this.atlasManager=new ih(n,a),this.batchManager=new oh(a),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(sh.SCREEN),this.pickingProgram=this._createShaderProgram(sh.PICKING),this.vao=this._createVAO()},[{key:"addAtlasCollection",value:function(e,t){this.atlasManager.addAtlasCollection(e,t)}},{key:"addTextureAtlasRenderType",value:function(e,t){this.atlasManager.addRenderType(e,t)}},{key:"addSimpleShapeRenderType",value:function(e,t){this.simpleShapeOptions.set(e,t)}},{key:"invalidate",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type,n=this.atlasManager;return t?n.invalidate(e,{filterType:function(e){return e===t},forceRedraw:!0}):n.invalidate(e)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(e){var t=this.gl,n="#version 300 es\n      precision highp float;\n\n      uniform mat3 uPanZoomMatrix;\n      uniform int  uAtlasSize;\n      \n      // instanced\n      in vec2 aPosition; // a vertex from the unit square\n      \n      in mat3 aTransform; // used to transform verticies, eg into a bounding box\n      in int aVertType; // the type of thing we are rendering\n\n      // the z-index that is output when using picking mode\n      in vec4 aIndex;\n      \n      // For textures\n      in int aAtlasId; // which shader unit/atlas to use\n      in vec4 aTex; // x/y/w/h of texture in atlas\n\n      // for edges\n      in vec4 aPointAPointB;\n      in vec4 aPointCPointD;\n      in vec2 aLineWidth; // also used for node border width\n\n      // simple shapes\n      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]\n      in vec4 aColor; // also used for edges\n      in vec4 aBorderColor; // aLineWidth is used for border width\n\n      // output values passed to the fragment shader\n      out vec2 vTexCoord;\n      out vec4 vColor;\n      out vec2 vPosition;\n      // flat values are not interpolated\n      flat out int vAtlasId; \n      flat out int vVertType;\n      flat out vec2 vTopRight;\n      flat out vec2 vBotLeft;\n      flat out vec4 vCornerRadius;\n      flat out vec4 vBorderColor;\n      flat out vec2 vBorderWidth;\n      flat out vec4 vIndex;\n      \n      void main(void) {\n        int vid = gl_VertexID;\n        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below\n\n        if(aVertType == ".concat(0,") {\n          float texX = aTex.x; // texture coordinates\n          float texY = aTex.y;\n          float texW = aTex.z;\n          float texH = aTex.w;\n\n          if(vid == 1 || vid == 2 || vid == 4) {\n            texX += texW;\n          }\n          if(vid == 2 || vid == 4 || vid == 5) {\n            texY += texH;\n          }\n\n          float d = float(uAtlasSize);\n          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n        }\n        else if(aVertType == ").concat(4," || aVertType == ").concat(7," \n             || aVertType == ").concat(5," || aVertType == ").concat(6,") { // simple shapes\n\n          // the bounding box is needed by the fragment shader\n          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat\n          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat\n          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated\n\n          // calculations are done in the fragment shader, just pass these along\n          vColor = aColor;\n          vCornerRadius = aCornerRadius;\n          vBorderColor = aBorderColor;\n          vBorderWidth = aLineWidth;\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n        }\n        else if(aVertType == ").concat(1,") {\n          vec2 source = aPointAPointB.xy;\n          vec2 target = aPointAPointB.zw;\n\n          // adjust the geometry so that the line is centered on the edge\n          position.y = position.y - 0.5;\n\n          // stretch the unit square into a long skinny rectangle\n          vec2 xBasis = target - source;\n          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));\n          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;\n\n          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);\n          vColor = aColor;\n        } \n        else if(aVertType == ").concat(2,") {\n          vec2 pointA = aPointAPointB.xy;\n          vec2 pointB = aPointAPointB.zw;\n          vec2 pointC = aPointCPointD.xy;\n          vec2 pointD = aPointCPointD.zw;\n\n          // adjust the geometry so that the line is centered on the edge\n          position.y = position.y - 0.5;\n\n          vec2 p0, p1, p2, pos;\n          if(position.x == 0.0) { // The left side of the unit square\n            p0 = pointA;\n            p1 = pointB;\n            p2 = pointC;\n            pos = position;\n          } else { // The right side of the unit square, use same approach but flip the geometry upside down\n            p0 = pointD;\n            p1 = pointC;\n            p2 = pointB;\n            pos = vec2(0.0, -position.y);\n          }\n\n          vec2 p01 = p1 - p0;\n          vec2 p12 = p2 - p1;\n          vec2 p21 = p1 - p2;\n\n          // Find the normal vector.\n          vec2 tangent = normalize(normalize(p12) + normalize(p01));\n          vec2 normal = vec2(-tangent.y, tangent.x);\n\n          // Find the vector perpendicular to p0 -> p1.\n          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));\n\n          // Determine the bend direction.\n          float sigma = sign(dot(p01 + p21, normal));\n          float width = aLineWidth[0];\n\n          if(sign(pos.y) == -sigma) {\n            // This is an intersecting vertex. Adjust the position so that there's no overlap.\n            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);\n            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);\n          } else {\n            // This is a non-intersecting vertex. Treat it like a mitre join.\n            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);\n            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);\n          }\n\n          vColor = aColor;\n        } \n        else if(aVertType == ").concat(3," && vid < 3) {\n          // massage the first triangle into an edge arrow\n          if(vid == 0)\n            position = vec2(-0.15, -0.3);\n          if(vid == 1)\n            position = vec2(  0.0,  0.0);\n          if(vid == 2)\n            position = vec2( 0.15, -0.3);\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n          vColor = aColor;\n        }\n        else {\n          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space\n        }\n\n        vAtlasId = aAtlasId;\n        vVertType = aVertType;\n        vIndex = aIndex;\n      }\n    "),r=this.batchManager.getIndexArray(),a="#version 300 es\n      precision highp float;\n\n      // declare texture unit for each texture atlas in the batch\n      ".concat(r.map(function(e){return"uniform sampler2D uTexture".concat(e,";")}).join("\n\t"),"\n\n      uniform vec4 uBGColor;\n      uniform float uZoom;\n\n      in vec2 vTexCoord;\n      in vec4 vColor;\n      in vec2 vPosition; // model coordinates\n\n      flat in int vAtlasId;\n      flat in vec4 vIndex;\n      flat in int vVertType;\n      flat in vec2 vTopRight;\n      flat in vec2 vBotLeft;\n      flat in vec4 vCornerRadius;\n      flat in vec4 vBorderColor;\n      flat in vec2 vBorderWidth;\n\n      out vec4 outColor;\n\n      ").concat("\n  float circleSD(vec2 p, float r) {\n    return distance(vec2(0), p) - r; // signed distance\n  }\n","\n      ").concat("\n  float rectangleSD(vec2 p, vec2 b) {\n    vec2 d = abs(p)-b;\n    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);\n  }\n","\n      ").concat("\n  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {\n    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;\n    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;\n    vec2 q = abs(p) - b + cr.x;\n    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;\n  }\n","\n      ").concat("\n  float ellipseSD(vec2 p, vec2 ab) {\n    p = abs( p ); // symmetry\n\n    // find root with Newton solver\n    vec2 q = ab*(p-ab);\n    float w = (q.x<q.y)? 1.570796327 : 0.0;\n    for( int i=0; i<5; i++ ) {\n      vec2 cs = vec2(cos(w),sin(w));\n      vec2 u = ab*vec2( cs.x,cs.y);\n      vec2 v = ab*vec2(-cs.y,cs.x);\n      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));\n    }\n    \n    // compute final point and distance\n    float d = length(p-ab*vec2(cos(w),sin(w)));\n    \n    // return signed distance\n    return (dot(p/ab,p/ab)>1.0) ? d : -d;\n  }\n","\n\n      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha\n        return vec4( \n          top.rgb + (bot.rgb * (1.0 - top.a)),\n          top.a   + (bot.a   * (1.0 - top.a)) \n        );\n      }\n\n      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance\n        // scale to the zoom level so that borders don't look blurry when zoomed in\n        // note 1.5 is an aribitrary value chosen because it looks good\n        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); \n      }\n\n      void main(void) {\n        if(vVertType == ").concat(0,") {\n          // look up the texel from the texture unit\n          ").concat(r.map(function(e){return"if(vAtlasId == ".concat(e,") outColor = texture(uTexture").concat(e,", vTexCoord);")}).join("\n\telse "),"\n        } \n        else if(vVertType == ").concat(3,") {\n          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';\n          outColor = blend(vColor, uBGColor);\n          outColor.a = 1.0; // make opaque, masks out line under arrow\n        }\n        else if(vVertType == ").concat(4," && vBorderWidth == vec2(0.0)) { // simple rectangle with no border\n          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done\n        }\n        else if(vVertType == ").concat(4," || vVertType == ").concat(7," \n          || vVertType == ").concat(5," || vVertType == ").concat(6,") { // use SDF\n\n          float outerBorder = vBorderWidth[0];\n          float innerBorder = vBorderWidth[1];\n          float borderPadding = outerBorder * 2.0;\n          float w = vTopRight.x - vBotLeft.x - borderPadding;\n          float h = vTopRight.y - vBotLeft.y - borderPadding;\n          vec2 b = vec2(w/2.0, h/2.0); // half width, half height\n          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center\n\n          float d; // signed distance\n          if(vVertType == ").concat(4,") {\n            d = rectangleSD(p, b);\n          } else if(vVertType == ").concat(7," && w == h) {\n            d = circleSD(p, b.x); // faster than ellipse\n          } else if(vVertType == ").concat(7,") {\n            d = ellipseSD(p, b);\n          } else {\n            d = roundRectangleSD(p, b, vCornerRadius.wzyx);\n          }\n\n          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling\n          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box\n          if(d > 0.0) {\n            if(d > outerBorder) {\n              discard;\n            } else {\n              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);\n            }\n          } else {\n            if(d > innerBorder) {\n              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;\n              vec4 innerBorderColor = blend(vBorderColor, vColor);\n              outColor = distInterp(innerBorderColor, outerColor, d);\n            } \n            else {\n              vec4 outerColor;\n              if(innerBorder == 0.0 && outerBorder == 0.0) {\n                outerColor = vec4(0);\n              } else if(innerBorder == 0.0) {\n                outerColor = vBorderColor;\n              } else {\n                outerColor = blend(vBorderColor, vColor);\n              }\n              outColor = distInterp(vColor, outerColor, d - innerBorder);\n            }\n          }\n        }\n        else {\n          outColor = vColor;\n        }\n\n        ").concat(e.picking?"if(outColor.a == 0.0) discard;\n             else outColor = vIndex;":"","\n      }\n    "),i=function(e,t,n){var r=Vd(e,e.VERTEX_SHADER,t),a=Vd(e,e.FRAGMENT_SHADER,n),i=e.createProgram();if(e.attachShader(i,r),e.attachShader(i,a),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS))throw new Error("Could not initialize shaders");return i}(t,n,a);i.aPosition=t.getAttribLocation(i,"aPosition"),i.aIndex=t.getAttribLocation(i,"aIndex"),i.aVertType=t.getAttribLocation(i,"aVertType"),i.aTransform=t.getAttribLocation(i,"aTransform"),i.aAtlasId=t.getAttribLocation(i,"aAtlasId"),i.aTex=t.getAttribLocation(i,"aTex"),i.aPointAPointB=t.getAttribLocation(i,"aPointAPointB"),i.aPointCPointD=t.getAttribLocation(i,"aPointCPointD"),i.aLineWidth=t.getAttribLocation(i,"aLineWidth"),i.aColor=t.getAttribLocation(i,"aColor"),i.aCornerRadius=t.getAttribLocation(i,"aCornerRadius"),i.aBorderColor=t.getAttribLocation(i,"aBorderColor"),i.uPanZoomMatrix=t.getUniformLocation(i,"uPanZoomMatrix"),i.uAtlasSize=t.getUniformLocation(i,"uAtlasSize"),i.uBGColor=t.getUniformLocation(i,"uBGColor"),i.uZoom=t.getUniformLocation(i,"uZoom"),i.uTextures=[];for(var o=0;o<this.batchManager.getMaxAtlasesPerBatch();o++)i.uTextures.push(t.getUniformLocation(i,"uTexture".concat(o)));return i}},{key:"_createVAO",value:function(){var e=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=e.length/2;var t=this.maxInstances,n=this.gl,r=this.program,a=n.createVertexArray();return n.bindVertexArray(a),function(e,t,n,r){var a=i(Hd(e,t),2),o=a[0],s=a[1],l=Kd(e,s,r),u=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,l,e.STATIC_DRAW),s===e.FLOAT?e.vertexAttribPointer(n,o,s,!1,0,0):s===e.INT&&e.vertexAttribIPointer(n,o,s,0,0),e.enableVertexAttribArray(n),e.bindBuffer(e.ARRAY_BUFFER,null)}(n,"vec2",r.aPosition,e),this.transformBuffer=function(e,t,n){for(var r=new Float32Array(9*t),a=new Array(t),i=0;i<t;i++){var o=9*i*4;a[i]=new Float32Array(r.buffer,o,9)}var s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferData(e.ARRAY_BUFFER,r.byteLength,e.DYNAMIC_DRAW);for(var l=0;l<3;l++){var u=n+l;e.enableVertexAttribArray(u),e.vertexAttribPointer(u,3,e.FLOAT,!1,36,12*l),e.vertexAttribDivisor(u,1)}return e.bindBuffer(e.ARRAY_BUFFER,null),s.getMatrixView=function(e){return a[e]},s.setData=function(e,t){a[t].set(e,0)},s.bufferSubData=function(){e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferSubData(e.ARRAY_BUFFER,0,r)},s}(n,t,r.aTransform),this.indexBuffer=Zd(n,t,"vec4",r.aIndex),this.vertTypeBuffer=Zd(n,t,"int",r.aVertType),this.atlasIdBuffer=Zd(n,t,"int",r.aAtlasId),this.texBuffer=Zd(n,t,"vec4",r.aTex),this.pointAPointBBuffer=Zd(n,t,"vec4",r.aPointAPointB),this.pointCPointDBuffer=Zd(n,t,"vec4",r.aPointCPointD),this.lineWidthBuffer=Zd(n,t,"vec2",r.aLineWidth),this.colorBuffer=Zd(n,t,"vec4",r.aColor),this.cornerRadiusBuffer=Zd(n,t,"vec4",r.aCornerRadius),this.borderColorBuffer=Zd(n,t,"vec4",r.aBorderColor),n.bindVertexArray(null),a}},{key:"buffers",get:function(){var e=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(e){return ue(e,"Buffer")}).map(function(t){return e[t]})),this._buffers}},{key:"startFrame",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sh.SCREEN;this.panZoomMatrix=e,this.renderTarget=t,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(e,t){return!!e.visible()&&(!t||!t.isVisible||t.isVisible(e))}},{key:"drawTexture",value:function(e,t,n){var a=this.atlasManager,o=this.batchManager,s=a.getRenderTypeOpts(n);if(this._isVisible(e,s)&&(!e.isEdge()||this._isValidEdge(e))){if(this.renderTarget.picking&&s.getTexPickingMode){var l=s.getTexPickingMode(e);if(l===lh)return;if(l==uh)return void this.drawPickingRectangle(e,t,n)}var u,c=r(a.getAtlasInfo(e,n));try{for(c.s();!(u=c.n()).done;){var d=u.value,h=d.atlas,f=d.tex1,p=d.tex2;o.canAddToCurrentBatch(h)||this.endBatch();for(var v=o.getAtlasIndexForBatch(h),g=0,y=[[f,!0],[p,!1]];g<y.length;g++){var m=i(y[g],2),b=m[0],x=m[1];if(0!=b.w){var w=this.instanceCount;this.vertTypeBuffer.getView(w)[0]=0,Wd(t,this.indexBuffer.getView(w)),this.atlasIdBuffer.getView(w)[0]=v;var E=this.texBuffer.getView(w);E[0]=b.x,E[1]=b.y,E[2]=b.w,E[3]=b.h;var k=this.transformBuffer.getMatrixView(w);this.setTransformMatrix(e,k,s,d,x),this.instanceCount++,x||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(T){c.e(T)}finally{c.f()}}}},{key:"setTransformMatrix",value:function(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=0;if(n.shapeProps&&n.shapeProps.padding&&(i=e.pstyle(n.shapeProps.padding).pfValue),r){var o=r.bb,s=r.tex1,l=r.tex2,u=s.w/(s.w+l.w);a||(u=1-u);var c=this._getAdjustedBB(o,i,a,u);this._applyTransformMatrix(t,c,n,e)}else{var d=n.getBoundingBox(e),h=this._getAdjustedBB(d,i,!0,1);this._applyTransformMatrix(t,h,n,e)}}},{key:"_applyTransformMatrix",value:function(e,t,n,r){var a,i;Jd(e);var o=n.getRotation?n.getRotation(r):0;if(0!==o){var s=n.getRotationPoint(r);eh(e,e,[s.x,s.y]),th(e,e,o);var l=n.getRotationOffset(r);a=l.x+(t.xOffset||0),i=l.y+(t.yOffset||0)}else a=t.x1,i=t.y1;eh(e,e,[a,i]),nh(e,e,[t.w,t.h])}},{key:"_getAdjustedBB",value:function(e,t,n,r){var a=e.x1,i=e.y1,o=e.w,s=e.h;t&&(a-=t,i-=t,o+=2*t,s+=2*t);var l=0,u=o*r;return n&&r<1?o=u:!n&&r<1&&(a+=l=o-u,o=u),{x1:a,y1:i,w:o,h:s,xOffset:l,yOffset:e.yOffset}}},{key:"drawPickingRectangle",value:function(e,t,n){var r=this.atlasManager.getRenderTypeOpts(n),a=this.instanceCount;this.vertTypeBuffer.getView(a)[0]=4,Wd(t,this.indexBuffer.getView(a)),qd([0,0,0],1,this.colorBuffer.getView(a));var i=this.transformBuffer.getMatrixView(a);this.setTransformMatrix(e,i,r),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(e,t,n){var r=this.simpleShapeOptions.get(n);if(this._isVisible(e,r)){var a=r.shapeProps,i=this._getVertTypeForShape(e,a.shape);if(void 0===i||r.isSimple&&!r.isSimple(e))this.drawTexture(e,t,n);else{var o=this.instanceCount;if(this.vertTypeBuffer.getView(o)[0]=i,5===i||6===i){var s=r.getBoundingBox(e),l=this._getCornerRadius(e,a.radius,s),u=this.cornerRadiusBuffer.getView(o);u[0]=l,u[1]=l,u[2]=l,u[3]=l,6===i&&(u[0]=0,u[2]=0)}Wd(t,this.indexBuffer.getView(o)),qd(e.pstyle(a.color).value,e.pstyle(a.opacity).value,this.colorBuffer.getView(o));var c=this.lineWidthBuffer.getView(o);if(c[0]=0,c[1]=0,a.border){var d=e.pstyle("border-width").value;if(d>0){qd(e.pstyle("border-color").value,e.pstyle("border-opacity").value,this.borderColorBuffer.getView(o));var h=e.pstyle("border-position").value;if("inside"===h)c[0]=0,c[1]=-d;else if("outside"===h)c[0]=d,c[1]=0;else{var f=d/2;c[0]=f,c[1]=-f}}}var p=this.transformBuffer.getMatrixView(o);this.setTransformMatrix(e,p,r),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},{key:"_getVertTypeForShape",value:function(e,t){switch(e.pstyle(t).value){case"rectangle":return 4;case"ellipse":return 7;case"roundrectangle":case"round-rectangle":return 5;case"bottom-round-rectangle":return 6;default:return}}},{key:"_getCornerRadius",value:function(e,t,n){var r=n.w,a=n.h;if("auto"===e.pstyle(t).value)return Bn(r,a);var i=e.pstyle(t).pfValue,o=r/2,s=a/2;return Math.min(i,s,o)}},{key:"drawEdgeArrow",value:function(e,t,n){if(e.visible()){var r,a,i,o=e._private.rscratch;if("source"===n?(r=o.arrowStartX,a=o.arrowStartY,i=o.srcArrowAngle):(r=o.arrowEndX,a=o.arrowEndY,i=o.tgtArrowAngle),!(isNaN(r)||null==r||isNaN(a)||null==a||isNaN(i)||null==i))if("none"!==e.pstyle(n+"-arrow-shape").value){var s=e.pstyle(n+"-arrow-color").value,l=e.pstyle("opacity").value*e.pstyle("line-opacity").value,u=e.pstyle("width").pfValue,c=e.pstyle("arrow-scale").value,d=this.r.getArrowWidth(u,c),h=this.instanceCount,f=this.transformBuffer.getMatrixView(h);Jd(f),eh(f,f,[r,a]),nh(f,f,[d,d]),th(f,f,i),this.vertTypeBuffer.getView(h)[0]=3,Wd(t,this.indexBuffer.getView(h)),qd(s,l,this.colorBuffer.getView(h)),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},{key:"drawEdgeLine",value:function(e,t){if(e.visible()){var n=this._getEdgePoints(e);if(n){var r=e.pstyle("opacity").value,a=e.pstyle("line-opacity").value,i=e.pstyle("width").pfValue,o=e.pstyle("line-color").value,s=r*a;if(n.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),4==n.length){var l=this.instanceCount;this.vertTypeBuffer.getView(l)[0]=1,Wd(t,this.indexBuffer.getView(l)),qd(o,s,this.colorBuffer.getView(l)),this.lineWidthBuffer.getView(l)[0]=i;var u=this.pointAPointBBuffer.getView(l);u[0]=n[0],u[1]=n[1],u[2]=n[2],u[3]=n[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var c=0;c<n.length-2;c+=2){var d=this.instanceCount;this.vertTypeBuffer.getView(d)[0]=2,Wd(t,this.indexBuffer.getView(d)),qd(o,s,this.colorBuffer.getView(d)),this.lineWidthBuffer.getView(d)[0]=i;var h=n[c-2],f=n[c-1],p=n[c],v=n[c+1],g=n[c+2],y=n[c+3],m=n[c+4],b=n[c+5];0==c&&(h=2*p-g+.001,f=2*v-y+.001),c==n.length-4&&(m=2*g-p+.001,b=2*y-v+.001);var x=this.pointAPointBBuffer.getView(d);x[0]=h,x[1]=f,x[2]=p,x[3]=v;var w=this.pointCPointDBuffer.getView(d);w[0]=g,w[1]=y,w[2]=m,w[3]=b,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(e){var t=e._private.rscratch;return!t.badLine&&null!=t.allpts&&!isNaN(t.allpts[0])}},{key:"_getEdgePoints",value:function(e){var t=e._private.rscratch;if(this._isValidEdge(e)){var n=t.allpts;if(4==n.length)return n;var r=this._getNumSegments(e);return this._getCurveSegmentPoints(n,r)}}},{key:"_getNumSegments",value:function(e){return Math.min(Math.max(15,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(e,t){if(4==e.length)return e;for(var n=Array(2*(t+1)),r=0;r<=t;r++)if(0==r)n[0]=e[0],n[1]=e[1];else if(r==t)n[2*r]=e[e.length-2],n[2*r+1]=e[e.length-1];else{var a=r/t;this._setCurvePoint(e,a,n,2*r)}return n}},{key:"_setCurvePoint",value:function(e,t,n,r){if(!(e.length<=2)){for(var a=Array(e.length-2),i=0;i<a.length;i+=2){var o=(1-t)*e[i]+t*e[i+2],s=(1-t)*e[i+1]+t*e[i+3];a[i]=o,a[i+1]=s}return this._setCurvePoint(a,t,n,r)}n[r]=e[0],n[r+1]=e[1]}},{key:"endBatch",value:function(){var e=this.gl,t=this.vao,n=this.vertexCount,a=this.instanceCount;if(0!==a){var i=this.renderTarget.picking?this.pickingProgram:this.program;e.useProgram(i),e.bindVertexArray(t);var o,s=r(this.buffers);try{for(s.s();!(o=s.n()).done;){o.value.bufferSubData(a)}}catch(p){s.e(p)}finally{s.f()}for(var l,u,c=this.batchManager.getAtlases(),d=0;d<c.length;d++)c[d].bufferIfNeeded(e);for(var h=0;h<c.length;h++)e.activeTexture(e.TEXTURE0+h),e.bindTexture(e.TEXTURE_2D,c[h].texture),e.uniform1i(i.uTextures[h],h);e.uniform1f(i.uZoom,(l=this.r,u=l.pixelRatio,l.cy.zoom()*u)),e.uniformMatrix3fv(i.uPanZoomMatrix,!1,this.panZoomMatrix),e.uniform1i(i.uAtlasSize,this.batchManager.getAtlasSize());var f=qd(this.bgColor,1);e.uniform4fv(i.uBGColor,f),e.drawArraysInstanced(e.TRIANGLES,0,n,a),e.bindVertexArray(null),e.bindTexture(e.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:a,atlasCount:c.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var e=this.atlasManager.getDebugInfo(),t=e.reduce(function(e,t){return e+t.atlasCount},0),n=this.batchDebugInfo,r=n.reduce(function(e,t){return e+t.count},0);return{atlasInfo:e,totalAtlases:t,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:n.length,batchInfo:n,totalInstances:r}}}])}(),dh={};function hh(e,t){var n=e._private.rscratch;return ut(n,"labelWrapCachedLines",t)||[]}dh.initWebgl=function(e,t){var n=this,a=n.data.contexts[n.WEBGL];e.bgColor=function(e){var t=e.cy.container(),n=t&&t.style&&t.style.backgroundColor||"white";return ye(n)}(n),e.webglTexSize=Math.min(e.webglTexSize,a.getParameter(a.MAX_TEXTURE_SIZE)),e.webglTexRows=Math.min(e.webglTexRows,54),e.webglTexRowsNodes=Math.min(e.webglTexRowsNodes,54),e.webglBatchSize=Math.min(e.webglBatchSize,16384),e.webglTexPerBatch=Math.min(e.webglTexPerBatch,a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS)),n.webglDebug=e.webglDebug,n.webglDebugShowAtlases=e.webglDebugShowAtlases,n.pickingFrameBuffer=function(e){var t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.bindFramebuffer(e.FRAMEBUFFER,null),t.setFramebufferAttachmentSizes=function(t,r){e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,r,0,e.RGBA,e.UNSIGNED_BYTE,null)},t}(a),n.pickingFrameBuffer.needsDraw=!0,n.drawing=new ch(n,a,e);var o=function(e){return function(t){return n.getTextAngle(t,e)}},s=function(e){return function(t){var n=t.pstyle(e);return n&&n.value}},l=function(e){return function(t){return t.pstyle("".concat(e,"-opacity")).value>0}},u=function(e){return"yes"===e.pstyle("text-events").strValue?uh:lh},c=function(e){var t=e.position(),n=t.x,r=t.y,a=e.outerWidth(),i=e.outerHeight();return{w:a,h:i,x1:n-a/2,y1:r-i/2}};n.drawing.addAtlasCollection("node",{texRows:e.webglTexRowsNodes}),n.drawing.addAtlasCollection("label",{texRows:e.webglTexRows}),n.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:t.getStyleKey,getBoundingBox:t.getElementBox,drawElement:t.drawElement}),n.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:c,isSimple:jd,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),n.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:c,isVisible:l("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),n.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:c,isVisible:l("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),n.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:u,getKey:fh(t.getLabelKey,null),getBoundingBox:ph(t.getLabelBox,null),drawClipped:!0,drawElement:t.drawLabel,getRotation:o(null),getRotationPoint:t.getLabelRotationPoint,getRotationOffset:t.getLabelRotationOffset,isVisible:s("label")}),n.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:u,getKey:fh(t.getSourceLabelKey,"source"),getBoundingBox:ph(t.getSourceLabelBox,"source"),drawClipped:!0,drawElement:t.drawSourceLabel,getRotation:o("source"),getRotationPoint:t.getSourceLabelRotationPoint,getRotationOffset:t.getSourceLabelRotationOffset,isVisible:s("source-label")}),n.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:u,getKey:fh(t.getTargetLabelKey,"target"),getBoundingBox:ph(t.getTargetLabelBox,"target"),drawClipped:!0,drawElement:t.drawTargetLabel,getRotation:o("target"),getRotationPoint:t.getTargetLabelRotationPoint,getRotationOffset:t.getTargetLabelRotationOffset,isVisible:s("target-label")});var d=De(function(){n.data.gc=!0},1e4);n.onUpdateEleCalcs(function(e,t){var r=!1;t&&t.length>0&&(r|=n.drawing.invalidate(t)),r&&d()}),function(e){var t=e.render;e.render=function(n){n=n||{};var r=e.cy;e.webgl&&(r.zoom()>sd?(!function(e){var t=e.data.contexts[e.WEBGL];t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}(e),t.call(e,n)):(!function(e){var t=function(t){t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.canvasWidth,e.canvasHeight),t.restore()};t(e.data.contexts[e.NODE]),t(e.data.contexts[e.DRAG])}(e),yh(e,n,sh.SCREEN)))};var n=e.matchCanvasSize;e.matchCanvasSize=function(t){n.call(e,t),e.pickingFrameBuffer.setFramebufferAttachmentSizes(e.canvasWidth,e.canvasHeight),e.pickingFrameBuffer.needsDraw=!0},e.findNearestElements=function(t,n,a,o){return function(e,t,n){var a,o,s,l=function(e,t,n){var r,a,o,s,l=Xd(e),u=l.pan,c=l.zoom,d=function(e,t,n,r,a){var i=r*n+t.x,o=a*n+t.y;return[i,o=Math.round(e.canvasHeight-o)]}(e,u,c,t,n),h=i(d,2),f=h[0],p=h[1],v=6;if(r=f-v/2,a=p-v/2,s=v,0===(o=v)||0===s)return[];var g=e.data.contexts[e.WEBGL];g.bindFramebuffer(g.FRAMEBUFFER,e.pickingFrameBuffer),e.pickingFrameBuffer.needsDraw&&(g.viewport(0,0,g.canvas.width,g.canvas.height),yh(e,null,sh.PICKING),e.pickingFrameBuffer.needsDraw=!1);var y=o*s,m=new Uint8Array(4*y);g.readPixels(r,a,o,s,g.RGBA,g.UNSIGNED_BYTE,m),g.bindFramebuffer(g.FRAMEBUFFER,null);for(var b=new Set,x=0;x<y;x++){var w=Ud(m.slice(4*x,4*x+4))-1;w>=0&&b.add(w)}return b}(e,t,n),u=e.getCachedZSortedEles(),c=r(l);try{for(c.s();!(s=c.n()).done;){var d=u[s.value];if(!a&&d.isNode()&&(a=d),!o&&d.isEdge()&&(o=d),a&&o)break}}catch(h){c.e(h)}finally{c.f()}return[a,o].filter(Boolean)}(e,t,n)};var a=e.invalidateCachedZSortedEles;e.invalidateCachedZSortedEles=function(){a.call(e),e.pickingFrameBuffer.needsDraw=!0};var o=e.notify;e.notify=function(t,n){o.call(e,t,n),"viewport"===t||"bounds"===t?e.pickingFrameBuffer.needsDraw=!0:"background"===t&&e.drawing.invalidate(n,{type:"node-body"})}}(n)};var fh=function(e,t){return function(n){var r=e(n),a=hh(n,t);return a.length>1?a.map(function(e,t){return"".concat(r,"_").concat(t)}):r}},ph=function(e,t){return function(n,r){var a=e(n);if("string"==typeof r){var i=r.indexOf("_");if(i>0){var o=Number(r.substring(i+1)),s=hh(n,t),l=a.h/s.length,u=l*o,c=a.y1+u;return{x1:a.x1,w:a.w,y1:c,h:l,yOffset:u}}}return a}};function vh(e,t){var n=e.canvasWidth,r=e.canvasHeight,a=Xd(e),i=a.pan,o=a.zoom;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,n,r),t.translate(i.x,i.y),t.scale(o,o)}function gh(e,t,n){var r=e.drawing;t+=1,n.isNode()?(r.drawNode(n,t,"node-underlay"),r.drawNode(n,t,"node-body"),r.drawTexture(n,t,"label"),r.drawNode(n,t,"node-overlay")):(r.drawEdgeLine(n,t),r.drawEdgeArrow(n,t,"source"),r.drawEdgeArrow(n,t,"target"),r.drawTexture(n,t,"label"),r.drawTexture(n,t,"edge-source-label"),r.drawTexture(n,t,"edge-target-label"))}function yh(e,t,n){var a;e.webglDebug&&(a=performance.now());var i=e.drawing,o=0;if(n.screen&&e.data.canvasNeedsRedraw[e.SELECT_BOX]&&function(e,t){e.drawSelectionRectangle(t,function(t){return vh(e,t)})}(e,t),e.data.canvasNeedsRedraw[e.NODE]||n.picking){var s=e.data.contexts[e.WEBGL];n.screen?(s.clearColor(0,0,0,0),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA)):s.disable(s.BLEND),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.viewport(0,0,s.canvas.width,s.canvas.height);var l=function(e){var t=e.canvasWidth,n=e.canvasHeight,r=Xd(e),a=r.pan,i=r.zoom,o=Qd();eh(o,o,[a.x,a.y]),nh(o,o,[i,i]);var s=Qd();!function(e,t,n){e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1}(s,t,n);var l,u,c,d,h,f,p,v,g,y,m,b,x,w,E,k,T,C,P,S,B,D=Qd();return l=D,c=o,d=(u=s)[0],h=u[1],f=u[2],p=u[3],v=u[4],g=u[5],y=u[6],m=u[7],b=u[8],x=c[0],w=c[1],E=c[2],k=c[3],T=c[4],C=c[5],P=c[6],S=c[7],B=c[8],l[0]=x*d+w*p+E*y,l[1]=x*h+w*v+E*m,l[2]=x*f+w*g+E*b,l[3]=k*d+T*p+C*y,l[4]=k*h+T*v+C*m,l[5]=k*f+T*g+C*b,l[6]=P*d+S*p+B*y,l[7]=P*h+S*v+B*m,l[8]=P*f+S*g+B*b,D}(e),u=e.getCachedZSortedEles();if(o=u.length,i.startFrame(l,n),n.screen){for(var c=0;c<u.nondrag.length;c++)gh(e,c,u.nondrag[c]);for(var d=0;d<u.drag.length;d++)gh(e,d,u.drag[d])}else if(n.picking)for(var h=0;h<u.length;h++)gh(e,h,u[h]);i.endFrame(),n.screen&&e.webglDebugShowAtlases&&(function(e){var t=e.data.contexts[e.NODE];t.save(),vh(e,t),t.strokeStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.moveTo(-1e3,0),t.lineTo(1e3,0),t.stroke(),t.beginPath(),t.moveTo(0,-1e3),t.lineTo(0,1e3),t.stroke(),t.restore()}(e),function(e){var t=function(t,n,r){for(var a=t.atlasManager.getAtlasCollection(n),i=e.data.contexts[e.NODE],o=a.atlases,s=0;s<o.length;s++){var l=o[s].canvas;if(l){var u=l.width,c=l.height,d=u*s,h=l.height*r;i.save(),i.scale(.4,.4),i.drawImage(l,d,h),i.strokeStyle="black",i.rect(d,h,u,c),i.stroke(),i.restore()}}},n=0;t(e.drawing,"node",n++),t(e.drawing,"label",n++)}(e)),e.data.canvasNeedsRedraw[e.NODE]=!1,e.data.canvasNeedsRedraw[e.DRAG]=!1}if(e.webglDebug){var f,p=performance.now(),v=(Math.ceil(p-a),i.getDebugInfo()),g=(["".concat(o," elements"),"".concat(v.totalInstances," instances"),"".concat(v.batchCount," batches"),"".concat(v.totalAtlases," atlases"),"".concat(v.wrappedCount," wrapped textures"),"".concat(v.simpleCount," simple shapes")].join(", "),r(v.atlasInfo));try{for(g.s();!(f=g.n()).done;)f.value}catch(y){g.e(y)}finally{g.f()}}e.data.gc&&(e.data.gc=!1,i.gc())}for(var mh={drawPolygonPath:function(e,t,n,r,a,i){var o=r/2,s=a/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*i[0],n+s*i[1]);for(var l=1;l<i.length/2;l++)e.lineTo(t+o*i[2*l],n+s*i[2*l+1]);e.closePath()},drawRoundPolygonPath:function(e,t,n,r,a,i,o){o.forEach(function(t){return Ic(e,t)}),e.closePath()},drawRoundRectanglePath:function(e,t,n,r,a,i){var o=r/2,s=a/2,l="auto"===i?Bn(r,a):Math.min(i,s,o);e.beginPath&&e.beginPath(),e.moveTo(t,n-s),e.arcTo(t+o,n-s,t+o,n,l),e.arcTo(t+o,n+s,t,n+s,l),e.arcTo(t-o,n+s,t-o,n,l),e.arcTo(t-o,n-s,t,n-s,l),e.lineTo(t,n-s),e.closePath()},drawBottomRoundRectanglePath:function(e,t,n,r,a,i){var o=r/2,s=a/2,l="auto"===i?Bn(r,a):i;e.beginPath&&e.beginPath(),e.moveTo(t,n-s),e.lineTo(t+o,n-s),e.lineTo(t+o,n),e.arcTo(t+o,n+s,t,n+s,l),e.arcTo(t-o,n+s,t-o,n,l),e.lineTo(t-o,n-s),e.lineTo(t,n-s),e.closePath()},drawCutRectanglePath:function(e,t,n,r,a,i,o){var s=r/2,l=a/2,u="auto"===o?8:o;e.beginPath&&e.beginPath(),e.moveTo(t-s+u,n-l),e.lineTo(t+s-u,n-l),e.lineTo(t+s,n-l+u),e.lineTo(t+s,n+l-u),e.lineTo(t+s-u,n+l),e.lineTo(t-s+u,n+l),e.lineTo(t-s,n+l-u),e.lineTo(t-s,n-l+u),e.closePath()},drawBarrelPath:function(e,t,n,r,a){var i=r/2,o=a/2,s=t-i,l=t+i,u=n-o,c=n+o,d=_n(r,a),h=d.widthOffset,f=d.heightOffset,p=d.ctrlPtOffsetPct*h;e.beginPath&&e.beginPath(),e.moveTo(s,u+f),e.lineTo(s,c-f),e.quadraticCurveTo(s+p,c,s+h,c),e.lineTo(l-h,c),e.quadraticCurveTo(l-p,c,l,c-f),e.lineTo(l,u+f),e.quadraticCurveTo(l-p,u,l-h,u),e.lineTo(s+h,u),e.quadraticCurveTo(s+p,u,s,u+f),e.closePath()}},bh=Math.sin(0),xh=Math.cos(0),wh={},Eh={},kh=Math.PI/40,Th=0*Math.PI;Th<2*Math.PI;Th+=kh)wh[Th]=Math.sin(Th),Eh[Th]=Math.cos(Th);mh.drawEllipsePath=function(e,t,n,r,a){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,r/2,a/2,0,0,2*Math.PI);else for(var i,o,s=r/2,l=a/2,u=0*Math.PI;u<2*Math.PI;u+=kh)i=t-s*wh[u]*bh+s*Eh[u]*xh,o=n+l*Eh[u]*bh+l*wh[u]*xh,0===u?e.moveTo(i,o):e.lineTo(i,o);e.closePath()};var Ch={};function Ph(e){var t=e.indexOf(",");return e.substr(t+1)}function Sh(e,t,n){var r=function(){return t.toDataURL(n,e.quality)};switch(e.output){case"blob-promise":return new qr(function(r,a){try{t.toBlob(function(e){null!=e?r(e):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},n,e.quality)}catch(i){a(i)}});case"blob":return function(e,t){for(var n=atob(e),r=new ArrayBuffer(n.length),a=new Uint8Array(r),i=0;i<n.length;i++)a[i]=n.charCodeAt(i);return new Blob([r],{type:t})}(Ph(r()),n);case"base64":return Ph(r());default:return r()}}Ch.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]},Ch.bufferCanvasImage=function(e){var t=this.cy,n=t.mutableElements().boundingBox(),r=this.findContainerClientCoords(),a=e.full?Math.ceil(n.w):r[2],i=e.full?Math.ceil(n.h):r[3],o=G(e.maxWidth)||G(e.maxHeight),s=this.getPixelRatio(),l=1;if(void 0!==e.scale)a*=e.scale,i*=e.scale,l=e.scale;else if(o){var u=1/0,c=1/0;G(e.maxWidth)&&(u=l*e.maxWidth/a),G(e.maxHeight)&&(c=l*e.maxHeight/i),a*=l=Math.min(u,c),i*=l}o||(a*=s,i*=s,l*=s);var d=document.createElement("canvas");d.width=a,d.height=i,d.style.width=a+"px",d.style.height=i+"px";var h=d.getContext("2d");if(a>0&&i>0){h.clearRect(0,0,a,i),h.globalCompositeOperation="source-over";var f=this.getCachedZSortedEles();if(e.full)h.translate(-n.x1*l,-n.y1*l),h.scale(l,l),this.drawElements(h,f),h.scale(1/l,1/l),h.translate(n.x1*l,n.y1*l);else{var p=t.pan(),v={x:p.x*l,y:p.y*l};l*=t.zoom(),h.translate(v.x,v.y),h.scale(l,l),this.drawElements(h,f),h.scale(1/l,1/l),h.translate(-v.x,-v.y)}e.bg&&(h.globalCompositeOperation="destination-over",h.fillStyle=e.bg,h.rect(0,0,a,i),h.fill())}return d},Ch.png=function(e){return Sh(e,this.bufferCanvasImage(e),"image/png")},Ch.jpg=function(e){return Sh(e,this.bufferCanvasImage(e),"image/jpeg")};var Bh={nodeShapeImpl:function(e,t,n,r,a,i,o,s){switch(e){case"ellipse":return this.drawEllipsePath(t,n,r,a,i);case"polygon":return this.drawPolygonPath(t,n,r,a,i,o);case"round-polygon":return this.drawRoundPolygonPath(t,n,r,a,i,o,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,n,r,a,i,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,n,r,a,i,o,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,n,r,a,i,s);case"barrel":return this.drawBarrelPath(t,n,r,a,i)}}},Dh=Ah,_h=Ah.prototype;function Ah(e){var t=this,n=t.cy.window().document;e.webgl&&(_h.CANVAS_LAYERS=t.CANVAS_LAYERS=4),t.data={canvases:new Array(_h.CANVAS_LAYERS),contexts:new Array(_h.CANVAS_LAYERS),canvasNeedsRedraw:new Array(_h.CANVAS_LAYERS),bufferCanvases:new Array(_h.BUFFER_COUNT),bufferContexts:new Array(_h.CANVAS_LAYERS)};var r="-webkit-tap-highlight-color",a="rgba(0,0,0,0)";t.data.canvasContainer=n.createElement("div");var i=t.data.canvasContainer.style;t.data.canvasContainer.style[r]=a,i.position="relative",i.zIndex="0",i.overflow="hidden";var o=e.cy.container();o.appendChild(t.data.canvasContainer),o.style[r]=a;var s={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};d&&d.userAgent.match(/msie|trident|edge/i)&&(s["-ms-touch-action"]="none",s["touch-action"]="none");for(var l=0;l<_h.CANVAS_LAYERS;l++){var u=t.data.canvases[l]=n.createElement("canvas"),c=_h.CANVAS_TYPES[l];t.data.contexts[l]=u.getContext(c),t.data.contexts[l]||Je("Could not create canvas of type "+c),Object.keys(s).forEach(function(e){u.style[e]=s[e]}),u.style.position="absolute",u.setAttribute("data-id","layer"+l),u.style.zIndex=String(_h.CANVAS_LAYERS-l),t.data.canvasContainer.appendChild(u),t.data.canvasNeedsRedraw[l]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[_h.NODE].setAttribute("data-id","layer"+_h.NODE+"-node"),t.data.canvases[_h.SELECT_BOX].setAttribute("data-id","layer"+_h.SELECT_BOX+"-selectbox"),t.data.canvases[_h.DRAG].setAttribute("data-id","layer"+_h.DRAG+"-drag"),t.data.canvases[_h.WEBGL]&&t.data.canvases[_h.WEBGL].setAttribute("data-id","layer"+_h.WEBGL+"-webgl");for(l=0;l<_h.BUFFER_COUNT;l++)t.data.bufferCanvases[l]=n.createElement("canvas"),t.data.bufferContexts[l]=t.data.bufferCanvases[l].getContext("2d"),t.data.bufferCanvases[l].style.position="absolute",t.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),t.data.bufferCanvases[l].style.zIndex=String(-l-1),t.data.bufferCanvases[l].style.visibility="hidden";t.pathsEnabled=!0;var h=Zt(),f=function(e){return{x:-e.w/2,y:-e.h/2}},p=function(e){return e[0]._private.nodeKey},v=function(e){return e[0]._private.labelStyleKey},g=function(e){return e[0]._private.sourceLabelStyleKey},y=function(e){return e[0]._private.targetLabelStyleKey},m=function(e,n,r,a,i){return t.drawElement(e,n,r,!1,!1,i)},b=function(e,n,r,a,i){return t.drawElementText(e,n,r,a,"main",i)},x=function(e,n,r,a,i){return t.drawElementText(e,n,r,a,"source",i)},w=function(e,n,r,a,i){return t.drawElementText(e,n,r,a,"target",i)},E=function(e){return e.boundingBox(),e[0]._private.bodyBounds},k=function(e){return e.boundingBox(),e[0]._private.labelBounds.main||h},T=function(e){return e.boundingBox(),e[0]._private.labelBounds.source||h},C=function(e){return e.boundingBox(),e[0]._private.labelBounds.target||h},P=function(e,t){return t},S=function(e){return{x:((t=E(e)).x1+t.x2)/2,y:(t.y1+t.y2)/2};var t},B=function(e,t,n){var r=e?e+"-":"";return{x:t.x+n.pstyle(r+"text-margin-x").pfValue,y:t.y+n.pstyle(r+"text-margin-y").pfValue}},D=function(e,t,n){var r=e[0]._private.rscratch;return{x:r[t],y:r[n]}},_=function(e){return B("",D(e,"labelX","labelY"),e)},A=function(e){return B("source",D(e,"sourceLabelX","sourceLabelY"),e)},M=function(e){return B("target",D(e,"targetLabelX","targetLabelY"),e)},R=function(e){return f(E(e))},I=function(e){return f(T(e))},N=function(e){return f(C(e))},L=function(e){var t=k(e),n=f(k(e));if(e.isNode()){switch(e.pstyle("text-halign").value){case"left":n.x=-t.w-(t.leftPad||0);break;case"right":n.x=-(t.rightPad||0)}switch(e.pstyle("text-valign").value){case"top":n.y=-t.h-(t.topPad||0);break;case"bottom":n.y=-(t.botPad||0)}}return n},z=t.data.eleTxrCache=new cd(t,{getKey:p,doesEleInvalidateKey:function(e){var t=e[0]._private;return!(t.oldBackgroundTimestamp===t.backgroundTimestamp)},drawElement:m,getBoundingBox:E,getRotationPoint:S,getRotationOffset:R,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),O=t.data.lblTxrCache=new cd(t,{getKey:v,drawElement:b,getBoundingBox:k,getRotationPoint:_,getRotationOffset:L,isVisible:P}),V=t.data.slbTxrCache=new cd(t,{getKey:g,drawElement:x,getBoundingBox:T,getRotationPoint:A,getRotationOffset:I,isVisible:P}),F=t.data.tlbTxrCache=new cd(t,{getKey:y,drawElement:w,getBoundingBox:C,getRotationPoint:M,getRotationOffset:N,isVisible:P}),X=t.data.lyrTxrCache=new hd(t);t.onUpdateEleCalcs(function(e,t){z.invalidateElements(t),O.invalidateElements(t),V.invalidateElements(t),F.invalidateElements(t),X.invalidateElements(t);for(var n=0;n<t.length;n++){var r=t[n]._private;r.oldBackgroundTimestamp=r.backgroundTimestamp}});var j=function(e){for(var t=0;t<e.length;t++)X.enqueueElementRefinement(e[t].ele)};z.onDequeue(j),O.onDequeue(j),V.onDequeue(j),F.onDequeue(j),e.webgl&&t.initWebgl(e,{getStyleKey:p,getLabelKey:v,getSourceLabelKey:g,getTargetLabelKey:y,drawElement:m,drawLabel:b,drawSourceLabel:x,drawTargetLabel:w,getElementBox:E,getLabelBox:k,getSourceLabelBox:T,getTargetLabelBox:C,getElementRotationPoint:S,getElementRotationOffset:R,getLabelRotationPoint:_,getSourceLabelRotationPoint:A,getTargetLabelRotationPoint:M,getLabelRotationOffset:L,getSourceLabelRotationOffset:I,getTargetLabelRotationOffset:N})}_h.CANVAS_LAYERS=3,_h.SELECT_BOX=0,_h.DRAG=1,_h.NODE=2,_h.WEBGL=3,_h.CANVAS_TYPES=["2d","2d","2d","webgl2"],_h.BUFFER_COUNT=3,_h.TEXTURE_BUFFER=0,_h.MOTIONBLUR_BUFFER_NODE=1,_h.MOTIONBLUR_BUFFER_DRAG=2,_h.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[_h.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[_h.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[_h.SELECT_BOX]=t;break;case"gc":n.data.gc=!0}};var Mh="undefined"!=typeof Path2D;_h.path2dEnabled=function(e){if(void 0===e)return this.pathsEnabled;this.pathsEnabled=!!e},_h.usePaths=function(){return Mh&&this.pathsEnabled},_h.setImgSmoothing=function(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)},_h.getImgSmoothing=function(e){return null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled},_h.makeOffscreenCanvas=function(e,t){var n;"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":l(OffscreenCanvas))?n=new OffscreenCanvas(e,t):((n=this.cy.window().document.createElement("canvas")).width=e,n.height=t);return n},[yd,kd,_d,Md,Rd,Nd,Od,dh,mh,Ch,Bh].forEach(function(e){ge(_h,e)});var Rh=[{type:"layout",extensions:oc},{type:"renderer",extensions:[{name:"null",impl:sc},{name:"base",impl:nd},{name:"canvas",impl:Dh}]}],Ih={},Nh={};function Lh(e,t,n){var r=n,a=function(e){tt()};if("core"===e){if(bu.prototype[t])return a();bu.prototype[t]=n}else if("collection"===e){if(Nl.prototype[t])return a();Nl.prototype[t]=n}else if("layout"===e){for(var i=function(e){this.options=e,n.call(this,e),K(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[],this.createEmitter()},o=i.prototype=Object.create(n.prototype),s=[],l=0;l<s.length;l++){var u=s[l];o[u]=o[u]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var c=n.prototype.stop;o.stop=function(){var e=this.options;if(e&&e.animate){var t=this.animations;if(t)for(var n=0;n<t.length;n++)t[n].stop()}return c?c.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var d=function(e){return e._private.cy},h={addEventFields:function(e,t){t.layout=e,t.cy=d(e),t.target=e},bubble:function(){return!0},parent:function(e){return d(e)}};ge(o,{createEmitter:function(){return this._private.emitter=new Js(h,this),this},emitter:function(){return this._private.emitter},on:function(e,t){return this.emitter().on(e,t),this},one:function(e,t){return this.emitter().one(e,t),this},once:function(e,t){return this.emitter().one(e,t),this},removeListener:function(e,t){return this.emitter().removeListener(e,t),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(e,t){return this.emitter().emit(e,t),this}}),yo.eventAliasesOn(o),r=i}else if("renderer"===e&&"null"!==t&&"base"!==t){var f=zh("renderer","base"),p=f.prototype,v=n,g=n.prototype,y=function(){f.apply(this,arguments),v.apply(this,arguments)},m=y.prototype;for(var b in p){var x=p[b];if(null!=g[b])return a();m[b]=x}for(var w in g)m[w]=g[w];p.clientFunctions.forEach(function(e){m[e]=m[e]||function(){Je("Renderer does not implement `renderer."+e+"()` on its prototype")}}),r=y}else if("__proto__"===e||"constructor"===e||"prototype"===e)return Je(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return be({map:Ih,keys:[e,t],value:r})}function zh(e,t){return xe({map:Ih,keys:[e,t]})}function Oh(e,t,n,r,a){return be({map:Nh,keys:[e,t,n,r],value:a})}function Vh(e,t,n,r){return xe({map:Nh,keys:[e,t,n,r]})}var Fh=function(){return 2===arguments.length?zh.apply(null,arguments):3===arguments.length?Lh.apply(null,arguments):4===arguments.length?Vh.apply(null,arguments):5===arguments.length?Oh.apply(null,arguments):void Je("Invalid extension access syntax")};bu.prototype.extension=Fh,Rh.forEach(function(e){e.extensions.forEach(function(t){Lh(e.type,t.name,t.impl)})});var Xh=function(){if(!(this instanceof Xh))return new Xh;this.length=0},jh=Xh.prototype;jh.instanceString=function(){return"stylesheet"},jh.selector=function(e){return this[this.length++]={selector:e,properties:[]},this},jh.css=function(e,t){var n=this.length-1;if(W(e))this[n].properties.push({name:e,value:t});else if(K(e))for(var r=e,a=Object.keys(r),i=0;i<a.length;i++){var o=a[i],s=r[o];if(null!=s){var l=pu.properties[o]||pu.properties[oe(o)];if(null!=l){var u=l.name,c=s;this[n].properties.push({name:u,value:c})}}}return this},jh.style=jh.css,jh.generateStyle=function(e){var t=new pu(e);return this.appendToStyle(t)},jh.appendToStyle=function(e){for(var t=0;t<this.length;t++){var n=this[t],r=n.selector,a=n.properties;e.selector(r);for(var i=0;i<a.length;i++){var o=a[i];e.css(o.name,o.value)}}return e};var Yh=function(e){return void 0===e&&(e={}),K(e)?new bu(e):W(e)?Fh.apply(Fh,arguments):void 0};Yh.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(Yh),e.apply(null,t),this},Yh.warnings=function(e){return et(e)},Yh.version="3.33.1",Yh.stylesheet=Yh.Stylesheet=Xh;export{Yh as c};

class e{constructor(e,t,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=r}static range(t,r){return r?t&&t.loc&&r.loc&&t.loc.lexer===r.loc.lexer?new e(t.loc.lexer,t.loc.start,r.loc.end):null:t&&t.loc}}class t{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(r,a){return new t(a,e.range(this,r))}}class r{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var a,n,i="KaTeX parse error: "+e,o=t&&t.loc;if(o&&o.start<=o.end){var s=o.lexer.input;a=o.start,n=o.end,a===s.length?i+=" at end of input: ":i+=" at position "+(a+1)+": ";var l=s.slice(a,n).replace(/[^]/g,"$&̲");i+=(a>15?"…"+s.slice(a-15,a):s.slice(0,a))+l+(n+15<s.length?s.slice(n,n+15)+"…":s.slice(n))}var h=new Error(i);return h.name="ParseError",h.__proto__=r.prototype,h.position=a,null!=a&&null!=n&&(h.length=n-a),h.rawMessage=e,h}}r.prototype.__proto__=Error.prototype;var a=/([A-Z])/g,n={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},i=/[&><"']/g;var o=function e(t){return"ordgroup"===t.type||"color"===t.type?1===t.body.length?e(t.body[0]):t:"font"===t.type?e(t.body):t},s={contains:function(e,t){return-1!==e.indexOf(t)},deflt:function(e,t){return void 0===e?t:e},escape:function(e){return String(e).replace(i,e=>n[e])},hyphenate:function(e){return e.replace(a,"-$1").toLowerCase()},getBaseElem:o,isCharacterBox:function(e){var t=o(e);return"mathord"===t.type||"textord"===t.type||"atom"===t.type},protocolFromUrl:function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?":"!==t[2]?null:/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?t[1].toLowerCase():null:"_relative"}},l={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>"Infinity"===e?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function h(e){if(e.default)return e.default;var t=e.type,r=Array.isArray(t)?t[0]:t;if("string"!=typeof r)return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class m{constructor(e){for(var t in this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{},l)if(l.hasOwnProperty(t)){var r=l[t];this[t]=void 0!==e[t]?r.processor?r.processor(e[t]):e[t]:h(r)}}reportNonstrict(e,t,a){var n=this.strict;if("function"==typeof n&&(n=n(e,t,a)),n&&"ignore"!==n&&(!0===n||"error"===n))throw new r("LaTeX-incompatible input and strict mode is set to 'error': "+t+" ["+e+"]",a)}useStrictBehavior(e,t,r){var a=this.strict;if("function"==typeof a)try{a=a(e,t,r)}catch(n){a="error"}return!(!a||"ignore"===a)&&(!0===a||"error"===a)}isTrusted(e){if(e.url&&!e.protocol){var t=s.protocolFromUrl(e.url);if(null==t)return!1;e.protocol=t}var r="function"==typeof this.trust?this.trust(e):this.trust;return Boolean(r)}}class c{constructor(e,t,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=r}sup(){return p[u[this.id]]}sub(){return p[d[this.id]]}fracNum(){return p[g[this.id]]}fracDen(){return p[f[this.id]]}cramp(){return p[v[this.id]]}text(){return p[b[this.id]]}isTight(){return this.size>=2}}var p=[new c(0,0,!1),new c(1,0,!0),new c(2,1,!1),new c(3,1,!0),new c(4,2,!1),new c(5,2,!0),new c(6,3,!1),new c(7,3,!0)],u=[4,5,4,5,6,7,6,7],d=[5,5,5,5,7,7,7,7],g=[2,3,4,5,6,7,6,7],f=[3,3,5,5,7,7,7,7],v=[1,1,3,3,5,5,7,7],b=[0,1,2,3,2,3,2,3],y={DISPLAY:p[0],TEXT:p[2],SCRIPT:p[4],SCRIPTSCRIPT:p[6]},x=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];var w=[];function k(e){for(var t=0;t<w.length;t+=2)if(e>=w[t]&&e<=w[t+1])return!0;return!1}x.forEach(e=>e.blocks.forEach(e=>w.push(...e)));var S=80,M={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"};class z{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return s.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){return this.children.map(e=>e.toText()).join("")}}var A={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},T={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},B={"Å":"A","Ð":"D","Þ":"o","å":"a","ð":"d","þ":"o","А":"A","Б":"B","В":"B","Г":"F","Д":"A","Е":"E","Ж":"K","З":"3","И":"N","Й":"N","К":"K","Л":"N","М":"M","Н":"H","О":"O","П":"N","Р":"P","С":"C","Т":"T","У":"y","Ф":"O","Х":"X","Ц":"U","Ч":"h","Ш":"W","Щ":"W","Ъ":"B","Ы":"X","Ь":"B","Э":"3","Ю":"X","Я":"R","а":"a","б":"b","в":"a","г":"r","д":"y","е":"e","ж":"m","з":"e","и":"n","й":"n","к":"n","л":"n","м":"m","н":"n","о":"o","п":"n","р":"p","с":"c","т":"o","у":"y","ф":"b","х":"x","ц":"n","ч":"n","ш":"w","щ":"w","ъ":"a","ы":"m","ь":"a","э":"e","ю":"m","я":"r"};function C(e,t){A[e]=t}function N(e,t,r){if(!A[t])throw new Error("Font metrics not found for font: "+t+".");var a=e.charCodeAt(0),n=A[t][a];if(!n&&e[0]in B&&(a=B[e[0]].charCodeAt(0),n=A[t][a]),n||"text"!==r||k(a)&&(n=A[t][77]),n)return{depth:n[0],height:n[1],italic:n[2],skew:n[3],width:n[4]}}var q={};var I=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],R=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],H=function(e,t){return t.size<2?e:I[e-1][t.size-1]};class O{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||O.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=R[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return new O(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:H(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:R[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=H(O.BASESIZE,e);return this.size===t&&this.textSize===O.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==O.BASESIZE?["sizing","reset-size"+this.size,"size"+O.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=function(e){var t;if(!q[t=e>=5?0:e>=3?1:2]){var r=q[t]={cssEmPerMu:T.quad[t]/18};for(var a in T)T.hasOwnProperty(a)&&(r[a]=T[a][t])}return q[t]}(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}O.BASESIZE=6;var E={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},L={ex:!0,em:!0,mu:!0},D=function(e){return"string"!=typeof e&&(e=e.unit),e in E||e in L||"ex"===e},V=function(e,t){var a;if(e.unit in E)a=E[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if("mu"===e.unit)a=t.fontMetrics().cssEmPerMu;else{var n;if(n=t.style.isTight()?t.havingStyle(t.style.text()):t,"ex"===e.unit)a=n.fontMetrics().xHeight;else{if("em"!==e.unit)throw new r("Invalid unit: '"+e.unit+"'");a=n.fontMetrics().quad}n!==t&&(a*=n.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*a,t.maxSize)},P=function(e){return+e.toFixed(4)+"em"},F=function(e){return e.filter(e=>e).join(" ")},G=function(e,t,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},t){t.style.isTight()&&this.classes.push("mtight");var a=t.getColor();a&&(this.style.color=a)}},U=function(e){var t=document.createElement(e);for(var r in t.className=F(this.classes),this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&t.setAttribute(a,this.attributes[a]);for(var n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t},Y=/[\s"'>/=\x00-\x1f]/,_=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+s.escape(F(this.classes))+'"');var a="";for(var n in this.style)this.style.hasOwnProperty(n)&&(a+=s.hyphenate(n)+":"+this.style[n]+";");for(var i in a&&(t+=' style="'+s.escape(a)+'"'),this.attributes)if(this.attributes.hasOwnProperty(i)){if(Y.test(i))throw new r("Invalid attribute name '"+i+"'");t+=" "+i+'="'+s.escape(this.attributes[i])+'"'}t+=">";for(var o=0;o<this.children.length;o++)t+=this.children[o].toMarkup();return t+="</"+e+">"};class W{constructor(e,t,r,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,G.call(this,e,r,a),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return s.contains(this.classes,e)}toNode(){return U.call(this,"span")}toMarkup(){return _.call(this,"span")}}class X{constructor(e,t,r,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,G.call(this,t,a),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return s.contains(this.classes,e)}toNode(){return U.call(this,"a")}toMarkup(){return _.call(this,"a")}}class j{constructor(e,t,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return s.contains(this.classes,e)}toNode(){var e=document.createElement("img");for(var t in e.src=this.src,e.alt=this.alt,e.className="mord",this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e='<img src="'+s.escape(this.src)+'" alt="'+s.escape(this.alt)+'"',t="";for(var r in this.style)this.style.hasOwnProperty(r)&&(t+=s.hyphenate(r)+":"+this.style[r]+";");return t&&(e+=' style="'+s.escape(t)+'"'),e+="'/>"}}var $={"î":"ı̂","ï":"ı̈","í":"ı́","ì":"ı̀"};class Z{constructor(e,t,r,a,n,i,o,s){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=r||0,this.italic=a||0,this.skew=n||0,this.width=i||0,this.classes=o||[],this.style=s||{},this.maxFontSize=0;var l=function(e){for(var t=0;t<x.length;t++)for(var r=x[t],a=0;a<r.blocks.length;a++){var n=r.blocks[a];if(e>=n[0]&&e<=n[1])return r.name}return null}(this.text.charCodeAt(0));l&&this.classes.push(l+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=$[this.text])}hasClass(e){return s.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),t=null;for(var r in this.italic>0&&((t=document.createElement("span")).style.marginRight=P(this.italic)),this.classes.length>0&&((t=t||document.createElement("span")).className=F(this.classes)),this.style)this.style.hasOwnProperty(r)&&((t=t||document.createElement("span")).style[r]=this.style[r]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=s.escape(F(this.classes)),t+='"');var r="";for(var a in this.italic>0&&(r+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(a)&&(r+=s.hyphenate(a)+":"+this.style[a]+";");r&&(e=!0,t+=' style="'+s.escape(r)+'"');var n=s.escape(this.text);return e?(t+=">",t+=n,t+="</span>"):n}}class K{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+s.escape(this.attributes[t])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>"}}class J{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",M[this.pathName]),e}toMarkup(){return this.alternate?'<path d="'+s.escape(this.alternate)+'"/>':'<path d="'+s.escape(M[this.pathName])+'"/>'}}class Q{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","line");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);return e}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+s.escape(this.attributes[t])+'"');return e+="/>"}}function ee(e){if(e instanceof Z)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}var te={bin:1,close:1,inner:1,open:1,punct:1,rel:1},re={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},ae={math:{},text:{}};function ne(e,t,r,a,n,i){ae[e][n]={font:t,group:r,replace:a},i&&a&&(ae[e][a]=ae[e][n])}var ie="math",oe="text",se="main",le="ams",he="accent-token",me="bin",ce="close",pe="inner",ue="mathord",de="op-token",ge="open",fe="punct",ve="rel",be="spacing",ye="textord";ne(ie,se,ve,"≡","\\equiv",!0),ne(ie,se,ve,"≺","\\prec",!0),ne(ie,se,ve,"≻","\\succ",!0),ne(ie,se,ve,"∼","\\sim",!0),ne(ie,se,ve,"⊥","\\perp"),ne(ie,se,ve,"⪯","\\preceq",!0),ne(ie,se,ve,"⪰","\\succeq",!0),ne(ie,se,ve,"≃","\\simeq",!0),ne(ie,se,ve,"∣","\\mid",!0),ne(ie,se,ve,"≪","\\ll",!0),ne(ie,se,ve,"≫","\\gg",!0),ne(ie,se,ve,"≍","\\asymp",!0),ne(ie,se,ve,"∥","\\parallel"),ne(ie,se,ve,"⋈","\\bowtie",!0),ne(ie,se,ve,"⌣","\\smile",!0),ne(ie,se,ve,"⊑","\\sqsubseteq",!0),ne(ie,se,ve,"⊒","\\sqsupseteq",!0),ne(ie,se,ve,"≐","\\doteq",!0),ne(ie,se,ve,"⌢","\\frown",!0),ne(ie,se,ve,"∋","\\ni",!0),ne(ie,se,ve,"∝","\\propto",!0),ne(ie,se,ve,"⊢","\\vdash",!0),ne(ie,se,ve,"⊣","\\dashv",!0),ne(ie,se,ve,"∋","\\owns"),ne(ie,se,fe,".","\\ldotp"),ne(ie,se,fe,"⋅","\\cdotp"),ne(ie,se,ye,"#","\\#"),ne(oe,se,ye,"#","\\#"),ne(ie,se,ye,"&","\\&"),ne(oe,se,ye,"&","\\&"),ne(ie,se,ye,"ℵ","\\aleph",!0),ne(ie,se,ye,"∀","\\forall",!0),ne(ie,se,ye,"ℏ","\\hbar",!0),ne(ie,se,ye,"∃","\\exists",!0),ne(ie,se,ye,"∇","\\nabla",!0),ne(ie,se,ye,"♭","\\flat",!0),ne(ie,se,ye,"ℓ","\\ell",!0),ne(ie,se,ye,"♮","\\natural",!0),ne(ie,se,ye,"♣","\\clubsuit",!0),ne(ie,se,ye,"℘","\\wp",!0),ne(ie,se,ye,"♯","\\sharp",!0),ne(ie,se,ye,"♢","\\diamondsuit",!0),ne(ie,se,ye,"ℜ","\\Re",!0),ne(ie,se,ye,"♡","\\heartsuit",!0),ne(ie,se,ye,"ℑ","\\Im",!0),ne(ie,se,ye,"♠","\\spadesuit",!0),ne(ie,se,ye,"§","\\S",!0),ne(oe,se,ye,"§","\\S"),ne(ie,se,ye,"¶","\\P",!0),ne(oe,se,ye,"¶","\\P"),ne(ie,se,ye,"†","\\dag"),ne(oe,se,ye,"†","\\dag"),ne(oe,se,ye,"†","\\textdagger"),ne(ie,se,ye,"‡","\\ddag"),ne(oe,se,ye,"‡","\\ddag"),ne(oe,se,ye,"‡","\\textdaggerdbl"),ne(ie,se,ce,"⎱","\\rmoustache",!0),ne(ie,se,ge,"⎰","\\lmoustache",!0),ne(ie,se,ce,"⟯","\\rgroup",!0),ne(ie,se,ge,"⟮","\\lgroup",!0),ne(ie,se,me,"∓","\\mp",!0),ne(ie,se,me,"⊖","\\ominus",!0),ne(ie,se,me,"⊎","\\uplus",!0),ne(ie,se,me,"⊓","\\sqcap",!0),ne(ie,se,me,"∗","\\ast"),ne(ie,se,me,"⊔","\\sqcup",!0),ne(ie,se,me,"◯","\\bigcirc",!0),ne(ie,se,me,"∙","\\bullet",!0),ne(ie,se,me,"‡","\\ddagger"),ne(ie,se,me,"≀","\\wr",!0),ne(ie,se,me,"⨿","\\amalg"),ne(ie,se,me,"&","\\And"),ne(ie,se,ve,"⟵","\\longleftarrow",!0),ne(ie,se,ve,"⇐","\\Leftarrow",!0),ne(ie,se,ve,"⟸","\\Longleftarrow",!0),ne(ie,se,ve,"⟶","\\longrightarrow",!0),ne(ie,se,ve,"⇒","\\Rightarrow",!0),ne(ie,se,ve,"⟹","\\Longrightarrow",!0),ne(ie,se,ve,"↔","\\leftrightarrow",!0),ne(ie,se,ve,"⟷","\\longleftrightarrow",!0),ne(ie,se,ve,"⇔","\\Leftrightarrow",!0),ne(ie,se,ve,"⟺","\\Longleftrightarrow",!0),ne(ie,se,ve,"↦","\\mapsto",!0),ne(ie,se,ve,"⟼","\\longmapsto",!0),ne(ie,se,ve,"↗","\\nearrow",!0),ne(ie,se,ve,"↩","\\hookleftarrow",!0),ne(ie,se,ve,"↪","\\hookrightarrow",!0),ne(ie,se,ve,"↘","\\searrow",!0),ne(ie,se,ve,"↼","\\leftharpoonup",!0),ne(ie,se,ve,"⇀","\\rightharpoonup",!0),ne(ie,se,ve,"↙","\\swarrow",!0),ne(ie,se,ve,"↽","\\leftharpoondown",!0),ne(ie,se,ve,"⇁","\\rightharpoondown",!0),ne(ie,se,ve,"↖","\\nwarrow",!0),ne(ie,se,ve,"⇌","\\rightleftharpoons",!0),ne(ie,le,ve,"≮","\\nless",!0),ne(ie,le,ve,"","\\@nleqslant"),ne(ie,le,ve,"","\\@nleqq"),ne(ie,le,ve,"⪇","\\lneq",!0),ne(ie,le,ve,"≨","\\lneqq",!0),ne(ie,le,ve,"","\\@lvertneqq"),ne(ie,le,ve,"⋦","\\lnsim",!0),ne(ie,le,ve,"⪉","\\lnapprox",!0),ne(ie,le,ve,"⊀","\\nprec",!0),ne(ie,le,ve,"⋠","\\npreceq",!0),ne(ie,le,ve,"⋨","\\precnsim",!0),ne(ie,le,ve,"⪹","\\precnapprox",!0),ne(ie,le,ve,"≁","\\nsim",!0),ne(ie,le,ve,"","\\@nshortmid"),ne(ie,le,ve,"∤","\\nmid",!0),ne(ie,le,ve,"⊬","\\nvdash",!0),ne(ie,le,ve,"⊭","\\nvDash",!0),ne(ie,le,ve,"⋪","\\ntriangleleft"),ne(ie,le,ve,"⋬","\\ntrianglelefteq",!0),ne(ie,le,ve,"⊊","\\subsetneq",!0),ne(ie,le,ve,"","\\@varsubsetneq"),ne(ie,le,ve,"⫋","\\subsetneqq",!0),ne(ie,le,ve,"","\\@varsubsetneqq"),ne(ie,le,ve,"≯","\\ngtr",!0),ne(ie,le,ve,"","\\@ngeqslant"),ne(ie,le,ve,"","\\@ngeqq"),ne(ie,le,ve,"⪈","\\gneq",!0),ne(ie,le,ve,"≩","\\gneqq",!0),ne(ie,le,ve,"","\\@gvertneqq"),ne(ie,le,ve,"⋧","\\gnsim",!0),ne(ie,le,ve,"⪊","\\gnapprox",!0),ne(ie,le,ve,"⊁","\\nsucc",!0),ne(ie,le,ve,"⋡","\\nsucceq",!0),ne(ie,le,ve,"⋩","\\succnsim",!0),ne(ie,le,ve,"⪺","\\succnapprox",!0),ne(ie,le,ve,"≆","\\ncong",!0),ne(ie,le,ve,"","\\@nshortparallel"),ne(ie,le,ve,"∦","\\nparallel",!0),ne(ie,le,ve,"⊯","\\nVDash",!0),ne(ie,le,ve,"⋫","\\ntriangleright"),ne(ie,le,ve,"⋭","\\ntrianglerighteq",!0),ne(ie,le,ve,"","\\@nsupseteqq"),ne(ie,le,ve,"⊋","\\supsetneq",!0),ne(ie,le,ve,"","\\@varsupsetneq"),ne(ie,le,ve,"⫌","\\supsetneqq",!0),ne(ie,le,ve,"","\\@varsupsetneqq"),ne(ie,le,ve,"⊮","\\nVdash",!0),ne(ie,le,ve,"⪵","\\precneqq",!0),ne(ie,le,ve,"⪶","\\succneqq",!0),ne(ie,le,ve,"","\\@nsubseteqq"),ne(ie,le,me,"⊴","\\unlhd"),ne(ie,le,me,"⊵","\\unrhd"),ne(ie,le,ve,"↚","\\nleftarrow",!0),ne(ie,le,ve,"↛","\\nrightarrow",!0),ne(ie,le,ve,"⇍","\\nLeftarrow",!0),ne(ie,le,ve,"⇏","\\nRightarrow",!0),ne(ie,le,ve,"↮","\\nleftrightarrow",!0),ne(ie,le,ve,"⇎","\\nLeftrightarrow",!0),ne(ie,le,ve,"△","\\vartriangle"),ne(ie,le,ye,"ℏ","\\hslash"),ne(ie,le,ye,"▽","\\triangledown"),ne(ie,le,ye,"◊","\\lozenge"),ne(ie,le,ye,"Ⓢ","\\circledS"),ne(ie,le,ye,"®","\\circledR"),ne(oe,le,ye,"®","\\circledR"),ne(ie,le,ye,"∡","\\measuredangle",!0),ne(ie,le,ye,"∄","\\nexists"),ne(ie,le,ye,"℧","\\mho"),ne(ie,le,ye,"Ⅎ","\\Finv",!0),ne(ie,le,ye,"⅁","\\Game",!0),ne(ie,le,ye,"‵","\\backprime"),ne(ie,le,ye,"▲","\\blacktriangle"),ne(ie,le,ye,"▼","\\blacktriangledown"),ne(ie,le,ye,"■","\\blacksquare"),ne(ie,le,ye,"⧫","\\blacklozenge"),ne(ie,le,ye,"★","\\bigstar"),ne(ie,le,ye,"∢","\\sphericalangle",!0),ne(ie,le,ye,"∁","\\complement",!0),ne(ie,le,ye,"ð","\\eth",!0),ne(oe,se,ye,"ð","ð"),ne(ie,le,ye,"╱","\\diagup"),ne(ie,le,ye,"╲","\\diagdown"),ne(ie,le,ye,"□","\\square"),ne(ie,le,ye,"□","\\Box"),ne(ie,le,ye,"◊","\\Diamond"),ne(ie,le,ye,"¥","\\yen",!0),ne(oe,le,ye,"¥","\\yen",!0),ne(ie,le,ye,"✓","\\checkmark",!0),ne(oe,le,ye,"✓","\\checkmark"),ne(ie,le,ye,"ℶ","\\beth",!0),ne(ie,le,ye,"ℸ","\\daleth",!0),ne(ie,le,ye,"ℷ","\\gimel",!0),ne(ie,le,ye,"ϝ","\\digamma",!0),ne(ie,le,ye,"ϰ","\\varkappa"),ne(ie,le,ge,"┌","\\@ulcorner",!0),ne(ie,le,ce,"┐","\\@urcorner",!0),ne(ie,le,ge,"└","\\@llcorner",!0),ne(ie,le,ce,"┘","\\@lrcorner",!0),ne(ie,le,ve,"≦","\\leqq",!0),ne(ie,le,ve,"⩽","\\leqslant",!0),ne(ie,le,ve,"⪕","\\eqslantless",!0),ne(ie,le,ve,"≲","\\lesssim",!0),ne(ie,le,ve,"⪅","\\lessapprox",!0),ne(ie,le,ve,"≊","\\approxeq",!0),ne(ie,le,me,"⋖","\\lessdot"),ne(ie,le,ve,"⋘","\\lll",!0),ne(ie,le,ve,"≶","\\lessgtr",!0),ne(ie,le,ve,"⋚","\\lesseqgtr",!0),ne(ie,le,ve,"⪋","\\lesseqqgtr",!0),ne(ie,le,ve,"≑","\\doteqdot"),ne(ie,le,ve,"≓","\\risingdotseq",!0),ne(ie,le,ve,"≒","\\fallingdotseq",!0),ne(ie,le,ve,"∽","\\backsim",!0),ne(ie,le,ve,"⋍","\\backsimeq",!0),ne(ie,le,ve,"⫅","\\subseteqq",!0),ne(ie,le,ve,"⋐","\\Subset",!0),ne(ie,le,ve,"⊏","\\sqsubset",!0),ne(ie,le,ve,"≼","\\preccurlyeq",!0),ne(ie,le,ve,"⋞","\\curlyeqprec",!0),ne(ie,le,ve,"≾","\\precsim",!0),ne(ie,le,ve,"⪷","\\precapprox",!0),ne(ie,le,ve,"⊲","\\vartriangleleft"),ne(ie,le,ve,"⊴","\\trianglelefteq"),ne(ie,le,ve,"⊨","\\vDash",!0),ne(ie,le,ve,"⊪","\\Vvdash",!0),ne(ie,le,ve,"⌣","\\smallsmile"),ne(ie,le,ve,"⌢","\\smallfrown"),ne(ie,le,ve,"≏","\\bumpeq",!0),ne(ie,le,ve,"≎","\\Bumpeq",!0),ne(ie,le,ve,"≧","\\geqq",!0),ne(ie,le,ve,"⩾","\\geqslant",!0),ne(ie,le,ve,"⪖","\\eqslantgtr",!0),ne(ie,le,ve,"≳","\\gtrsim",!0),ne(ie,le,ve,"⪆","\\gtrapprox",!0),ne(ie,le,me,"⋗","\\gtrdot"),ne(ie,le,ve,"⋙","\\ggg",!0),ne(ie,le,ve,"≷","\\gtrless",!0),ne(ie,le,ve,"⋛","\\gtreqless",!0),ne(ie,le,ve,"⪌","\\gtreqqless",!0),ne(ie,le,ve,"≖","\\eqcirc",!0),ne(ie,le,ve,"≗","\\circeq",!0),ne(ie,le,ve,"≜","\\triangleq",!0),ne(ie,le,ve,"∼","\\thicksim"),ne(ie,le,ve,"≈","\\thickapprox"),ne(ie,le,ve,"⫆","\\supseteqq",!0),ne(ie,le,ve,"⋑","\\Supset",!0),ne(ie,le,ve,"⊐","\\sqsupset",!0),ne(ie,le,ve,"≽","\\succcurlyeq",!0),ne(ie,le,ve,"⋟","\\curlyeqsucc",!0),ne(ie,le,ve,"≿","\\succsim",!0),ne(ie,le,ve,"⪸","\\succapprox",!0),ne(ie,le,ve,"⊳","\\vartriangleright"),ne(ie,le,ve,"⊵","\\trianglerighteq"),ne(ie,le,ve,"⊩","\\Vdash",!0),ne(ie,le,ve,"∣","\\shortmid"),ne(ie,le,ve,"∥","\\shortparallel"),ne(ie,le,ve,"≬","\\between",!0),ne(ie,le,ve,"⋔","\\pitchfork",!0),ne(ie,le,ve,"∝","\\varpropto"),ne(ie,le,ve,"◀","\\blacktriangleleft"),ne(ie,le,ve,"∴","\\therefore",!0),ne(ie,le,ve,"∍","\\backepsilon"),ne(ie,le,ve,"▶","\\blacktriangleright"),ne(ie,le,ve,"∵","\\because",!0),ne(ie,le,ve,"⋘","\\llless"),ne(ie,le,ve,"⋙","\\gggtr"),ne(ie,le,me,"⊲","\\lhd"),ne(ie,le,me,"⊳","\\rhd"),ne(ie,le,ve,"≂","\\eqsim",!0),ne(ie,se,ve,"⋈","\\Join"),ne(ie,le,ve,"≑","\\Doteq",!0),ne(ie,le,me,"∔","\\dotplus",!0),ne(ie,le,me,"∖","\\smallsetminus"),ne(ie,le,me,"⋒","\\Cap",!0),ne(ie,le,me,"⋓","\\Cup",!0),ne(ie,le,me,"⩞","\\doublebarwedge",!0),ne(ie,le,me,"⊟","\\boxminus",!0),ne(ie,le,me,"⊞","\\boxplus",!0),ne(ie,le,me,"⋇","\\divideontimes",!0),ne(ie,le,me,"⋉","\\ltimes",!0),ne(ie,le,me,"⋊","\\rtimes",!0),ne(ie,le,me,"⋋","\\leftthreetimes",!0),ne(ie,le,me,"⋌","\\rightthreetimes",!0),ne(ie,le,me,"⋏","\\curlywedge",!0),ne(ie,le,me,"⋎","\\curlyvee",!0),ne(ie,le,me,"⊝","\\circleddash",!0),ne(ie,le,me,"⊛","\\circledast",!0),ne(ie,le,me,"⋅","\\centerdot"),ne(ie,le,me,"⊺","\\intercal",!0),ne(ie,le,me,"⋒","\\doublecap"),ne(ie,le,me,"⋓","\\doublecup"),ne(ie,le,me,"⊠","\\boxtimes",!0),ne(ie,le,ve,"⇢","\\dashrightarrow",!0),ne(ie,le,ve,"⇠","\\dashleftarrow",!0),ne(ie,le,ve,"⇇","\\leftleftarrows",!0),ne(ie,le,ve,"⇆","\\leftrightarrows",!0),ne(ie,le,ve,"⇚","\\Lleftarrow",!0),ne(ie,le,ve,"↞","\\twoheadleftarrow",!0),ne(ie,le,ve,"↢","\\leftarrowtail",!0),ne(ie,le,ve,"↫","\\looparrowleft",!0),ne(ie,le,ve,"⇋","\\leftrightharpoons",!0),ne(ie,le,ve,"↶","\\curvearrowleft",!0),ne(ie,le,ve,"↺","\\circlearrowleft",!0),ne(ie,le,ve,"↰","\\Lsh",!0),ne(ie,le,ve,"⇈","\\upuparrows",!0),ne(ie,le,ve,"↿","\\upharpoonleft",!0),ne(ie,le,ve,"⇃","\\downharpoonleft",!0),ne(ie,se,ve,"⊶","\\origof",!0),ne(ie,se,ve,"⊷","\\imageof",!0),ne(ie,le,ve,"⊸","\\multimap",!0),ne(ie,le,ve,"↭","\\leftrightsquigarrow",!0),ne(ie,le,ve,"⇉","\\rightrightarrows",!0),ne(ie,le,ve,"⇄","\\rightleftarrows",!0),ne(ie,le,ve,"↠","\\twoheadrightarrow",!0),ne(ie,le,ve,"↣","\\rightarrowtail",!0),ne(ie,le,ve,"↬","\\looparrowright",!0),ne(ie,le,ve,"↷","\\curvearrowright",!0),ne(ie,le,ve,"↻","\\circlearrowright",!0),ne(ie,le,ve,"↱","\\Rsh",!0),ne(ie,le,ve,"⇊","\\downdownarrows",!0),ne(ie,le,ve,"↾","\\upharpoonright",!0),ne(ie,le,ve,"⇂","\\downharpoonright",!0),ne(ie,le,ve,"⇝","\\rightsquigarrow",!0),ne(ie,le,ve,"⇝","\\leadsto"),ne(ie,le,ve,"⇛","\\Rrightarrow",!0),ne(ie,le,ve,"↾","\\restriction"),ne(ie,se,ye,"‘","`"),ne(ie,se,ye,"$","\\$"),ne(oe,se,ye,"$","\\$"),ne(oe,se,ye,"$","\\textdollar"),ne(ie,se,ye,"%","\\%"),ne(oe,se,ye,"%","\\%"),ne(ie,se,ye,"_","\\_"),ne(oe,se,ye,"_","\\_"),ne(oe,se,ye,"_","\\textunderscore"),ne(ie,se,ye,"∠","\\angle",!0),ne(ie,se,ye,"∞","\\infty",!0),ne(ie,se,ye,"′","\\prime"),ne(ie,se,ye,"△","\\triangle"),ne(ie,se,ye,"Γ","\\Gamma",!0),ne(ie,se,ye,"Δ","\\Delta",!0),ne(ie,se,ye,"Θ","\\Theta",!0),ne(ie,se,ye,"Λ","\\Lambda",!0),ne(ie,se,ye,"Ξ","\\Xi",!0),ne(ie,se,ye,"Π","\\Pi",!0),ne(ie,se,ye,"Σ","\\Sigma",!0),ne(ie,se,ye,"Υ","\\Upsilon",!0),ne(ie,se,ye,"Φ","\\Phi",!0),ne(ie,se,ye,"Ψ","\\Psi",!0),ne(ie,se,ye,"Ω","\\Omega",!0),ne(ie,se,ye,"A","Α"),ne(ie,se,ye,"B","Β"),ne(ie,se,ye,"E","Ε"),ne(ie,se,ye,"Z","Ζ"),ne(ie,se,ye,"H","Η"),ne(ie,se,ye,"I","Ι"),ne(ie,se,ye,"K","Κ"),ne(ie,se,ye,"M","Μ"),ne(ie,se,ye,"N","Ν"),ne(ie,se,ye,"O","Ο"),ne(ie,se,ye,"P","Ρ"),ne(ie,se,ye,"T","Τ"),ne(ie,se,ye,"X","Χ"),ne(ie,se,ye,"¬","\\neg",!0),ne(ie,se,ye,"¬","\\lnot"),ne(ie,se,ye,"⊤","\\top"),ne(ie,se,ye,"⊥","\\bot"),ne(ie,se,ye,"∅","\\emptyset"),ne(ie,le,ye,"∅","\\varnothing"),ne(ie,se,ue,"α","\\alpha",!0),ne(ie,se,ue,"β","\\beta",!0),ne(ie,se,ue,"γ","\\gamma",!0),ne(ie,se,ue,"δ","\\delta",!0),ne(ie,se,ue,"ϵ","\\epsilon",!0),ne(ie,se,ue,"ζ","\\zeta",!0),ne(ie,se,ue,"η","\\eta",!0),ne(ie,se,ue,"θ","\\theta",!0),ne(ie,se,ue,"ι","\\iota",!0),ne(ie,se,ue,"κ","\\kappa",!0),ne(ie,se,ue,"λ","\\lambda",!0),ne(ie,se,ue,"μ","\\mu",!0),ne(ie,se,ue,"ν","\\nu",!0),ne(ie,se,ue,"ξ","\\xi",!0),ne(ie,se,ue,"ο","\\omicron",!0),ne(ie,se,ue,"π","\\pi",!0),ne(ie,se,ue,"ρ","\\rho",!0),ne(ie,se,ue,"σ","\\sigma",!0),ne(ie,se,ue,"τ","\\tau",!0),ne(ie,se,ue,"υ","\\upsilon",!0),ne(ie,se,ue,"ϕ","\\phi",!0),ne(ie,se,ue,"χ","\\chi",!0),ne(ie,se,ue,"ψ","\\psi",!0),ne(ie,se,ue,"ω","\\omega",!0),ne(ie,se,ue,"ε","\\varepsilon",!0),ne(ie,se,ue,"ϑ","\\vartheta",!0),ne(ie,se,ue,"ϖ","\\varpi",!0),ne(ie,se,ue,"ϱ","\\varrho",!0),ne(ie,se,ue,"ς","\\varsigma",!0),ne(ie,se,ue,"φ","\\varphi",!0),ne(ie,se,me,"∗","*",!0),ne(ie,se,me,"+","+"),ne(ie,se,me,"−","-",!0),ne(ie,se,me,"⋅","\\cdot",!0),ne(ie,se,me,"∘","\\circ",!0),ne(ie,se,me,"÷","\\div",!0),ne(ie,se,me,"±","\\pm",!0),ne(ie,se,me,"×","\\times",!0),ne(ie,se,me,"∩","\\cap",!0),ne(ie,se,me,"∪","\\cup",!0),ne(ie,se,me,"∖","\\setminus",!0),ne(ie,se,me,"∧","\\land"),ne(ie,se,me,"∨","\\lor"),ne(ie,se,me,"∧","\\wedge",!0),ne(ie,se,me,"∨","\\vee",!0),ne(ie,se,ye,"√","\\surd"),ne(ie,se,ge,"⟨","\\langle",!0),ne(ie,se,ge,"∣","\\lvert"),ne(ie,se,ge,"∥","\\lVert"),ne(ie,se,ce,"?","?"),ne(ie,se,ce,"!","!"),ne(ie,se,ce,"⟩","\\rangle",!0),ne(ie,se,ce,"∣","\\rvert"),ne(ie,se,ce,"∥","\\rVert"),ne(ie,se,ve,"=","="),ne(ie,se,ve,":",":"),ne(ie,se,ve,"≈","\\approx",!0),ne(ie,se,ve,"≅","\\cong",!0),ne(ie,se,ve,"≥","\\ge"),ne(ie,se,ve,"≥","\\geq",!0),ne(ie,se,ve,"←","\\gets"),ne(ie,se,ve,">","\\gt",!0),ne(ie,se,ve,"∈","\\in",!0),ne(ie,se,ve,"","\\@not"),ne(ie,se,ve,"⊂","\\subset",!0),ne(ie,se,ve,"⊃","\\supset",!0),ne(ie,se,ve,"⊆","\\subseteq",!0),ne(ie,se,ve,"⊇","\\supseteq",!0),ne(ie,le,ve,"⊈","\\nsubseteq",!0),ne(ie,le,ve,"⊉","\\nsupseteq",!0),ne(ie,se,ve,"⊨","\\models"),ne(ie,se,ve,"←","\\leftarrow",!0),ne(ie,se,ve,"≤","\\le"),ne(ie,se,ve,"≤","\\leq",!0),ne(ie,se,ve,"<","\\lt",!0),ne(ie,se,ve,"→","\\rightarrow",!0),ne(ie,se,ve,"→","\\to"),ne(ie,le,ve,"≱","\\ngeq",!0),ne(ie,le,ve,"≰","\\nleq",!0),ne(ie,se,be," ","\\ "),ne(ie,se,be," ","\\space"),ne(ie,se,be," ","\\nobreakspace"),ne(oe,se,be," ","\\ "),ne(oe,se,be," "," "),ne(oe,se,be," ","\\space"),ne(oe,se,be," ","\\nobreakspace"),ne(ie,se,be,null,"\\nobreak"),ne(ie,se,be,null,"\\allowbreak"),ne(ie,se,fe,",",","),ne(ie,se,fe,";",";"),ne(ie,le,me,"⊼","\\barwedge",!0),ne(ie,le,me,"⊻","\\veebar",!0),ne(ie,se,me,"⊙","\\odot",!0),ne(ie,se,me,"⊕","\\oplus",!0),ne(ie,se,me,"⊗","\\otimes",!0),ne(ie,se,ye,"∂","\\partial",!0),ne(ie,se,me,"⊘","\\oslash",!0),ne(ie,le,me,"⊚","\\circledcirc",!0),ne(ie,le,me,"⊡","\\boxdot",!0),ne(ie,se,me,"△","\\bigtriangleup"),ne(ie,se,me,"▽","\\bigtriangledown"),ne(ie,se,me,"†","\\dagger"),ne(ie,se,me,"⋄","\\diamond"),ne(ie,se,me,"⋆","\\star"),ne(ie,se,me,"◃","\\triangleleft"),ne(ie,se,me,"▹","\\triangleright"),ne(ie,se,ge,"{","\\{"),ne(oe,se,ye,"{","\\{"),ne(oe,se,ye,"{","\\textbraceleft"),ne(ie,se,ce,"}","\\}"),ne(oe,se,ye,"}","\\}"),ne(oe,se,ye,"}","\\textbraceright"),ne(ie,se,ge,"{","\\lbrace"),ne(ie,se,ce,"}","\\rbrace"),ne(ie,se,ge,"[","\\lbrack",!0),ne(oe,se,ye,"[","\\lbrack",!0),ne(ie,se,ce,"]","\\rbrack",!0),ne(oe,se,ye,"]","\\rbrack",!0),ne(ie,se,ge,"(","\\lparen",!0),ne(ie,se,ce,")","\\rparen",!0),ne(oe,se,ye,"<","\\textless",!0),ne(oe,se,ye,">","\\textgreater",!0),ne(ie,se,ge,"⌊","\\lfloor",!0),ne(ie,se,ce,"⌋","\\rfloor",!0),ne(ie,se,ge,"⌈","\\lceil",!0),ne(ie,se,ce,"⌉","\\rceil",!0),ne(ie,se,ye,"\\","\\backslash"),ne(ie,se,ye,"∣","|"),ne(ie,se,ye,"∣","\\vert"),ne(oe,se,ye,"|","\\textbar",!0),ne(ie,se,ye,"∥","\\|"),ne(ie,se,ye,"∥","\\Vert"),ne(oe,se,ye,"∥","\\textbardbl"),ne(oe,se,ye,"~","\\textasciitilde"),ne(oe,se,ye,"\\","\\textbackslash"),ne(oe,se,ye,"^","\\textasciicircum"),ne(ie,se,ve,"↑","\\uparrow",!0),ne(ie,se,ve,"⇑","\\Uparrow",!0),ne(ie,se,ve,"↓","\\downarrow",!0),ne(ie,se,ve,"⇓","\\Downarrow",!0),ne(ie,se,ve,"↕","\\updownarrow",!0),ne(ie,se,ve,"⇕","\\Updownarrow",!0),ne(ie,se,de,"∐","\\coprod"),ne(ie,se,de,"⋁","\\bigvee"),ne(ie,se,de,"⋀","\\bigwedge"),ne(ie,se,de,"⨄","\\biguplus"),ne(ie,se,de,"⋂","\\bigcap"),ne(ie,se,de,"⋃","\\bigcup"),ne(ie,se,de,"∫","\\int"),ne(ie,se,de,"∫","\\intop"),ne(ie,se,de,"∬","\\iint"),ne(ie,se,de,"∭","\\iiint"),ne(ie,se,de,"∏","\\prod"),ne(ie,se,de,"∑","\\sum"),ne(ie,se,de,"⨂","\\bigotimes"),ne(ie,se,de,"⨁","\\bigoplus"),ne(ie,se,de,"⨀","\\bigodot"),ne(ie,se,de,"∮","\\oint"),ne(ie,se,de,"∯","\\oiint"),ne(ie,se,de,"∰","\\oiiint"),ne(ie,se,de,"⨆","\\bigsqcup"),ne(ie,se,de,"∫","\\smallint"),ne(oe,se,pe,"…","\\textellipsis"),ne(ie,se,pe,"…","\\mathellipsis"),ne(oe,se,pe,"…","\\ldots",!0),ne(ie,se,pe,"…","\\ldots",!0),ne(ie,se,pe,"⋯","\\@cdots",!0),ne(ie,se,pe,"⋱","\\ddots",!0),ne(ie,se,ye,"⋮","\\varvdots"),ne(oe,se,ye,"⋮","\\varvdots"),ne(ie,se,he,"ˊ","\\acute"),ne(ie,se,he,"ˋ","\\grave"),ne(ie,se,he,"¨","\\ddot"),ne(ie,se,he,"~","\\tilde"),ne(ie,se,he,"ˉ","\\bar"),ne(ie,se,he,"˘","\\breve"),ne(ie,se,he,"ˇ","\\check"),ne(ie,se,he,"^","\\hat"),ne(ie,se,he,"⃗","\\vec"),ne(ie,se,he,"˙","\\dot"),ne(ie,se,he,"˚","\\mathring"),ne(ie,se,ue,"","\\@imath"),ne(ie,se,ue,"","\\@jmath"),ne(ie,se,ye,"ı","ı"),ne(ie,se,ye,"ȷ","ȷ"),ne(oe,se,ye,"ı","\\i",!0),ne(oe,se,ye,"ȷ","\\j",!0),ne(oe,se,ye,"ß","\\ss",!0),ne(oe,se,ye,"æ","\\ae",!0),ne(oe,se,ye,"œ","\\oe",!0),ne(oe,se,ye,"ø","\\o",!0),ne(oe,se,ye,"Æ","\\AE",!0),ne(oe,se,ye,"Œ","\\OE",!0),ne(oe,se,ye,"Ø","\\O",!0),ne(oe,se,he,"ˊ","\\'"),ne(oe,se,he,"ˋ","\\`"),ne(oe,se,he,"ˆ","\\^"),ne(oe,se,he,"˜","\\~"),ne(oe,se,he,"ˉ","\\="),ne(oe,se,he,"˘","\\u"),ne(oe,se,he,"˙","\\."),ne(oe,se,he,"¸","\\c"),ne(oe,se,he,"˚","\\r"),ne(oe,se,he,"ˇ","\\v"),ne(oe,se,he,"¨",'\\"'),ne(oe,se,he,"˝","\\H"),ne(oe,se,he,"◯","\\textcircled");var xe={"--":!0,"---":!0,"``":!0,"''":!0};ne(oe,se,ye,"–","--",!0),ne(oe,se,ye,"–","\\textendash"),ne(oe,se,ye,"—","---",!0),ne(oe,se,ye,"—","\\textemdash"),ne(oe,se,ye,"‘","`",!0),ne(oe,se,ye,"‘","\\textquoteleft"),ne(oe,se,ye,"’","'",!0),ne(oe,se,ye,"’","\\textquoteright"),ne(oe,se,ye,"“","``",!0),ne(oe,se,ye,"“","\\textquotedblleft"),ne(oe,se,ye,"”","''",!0),ne(oe,se,ye,"”","\\textquotedblright"),ne(ie,se,ye,"°","\\degree",!0),ne(oe,se,ye,"°","\\degree"),ne(oe,se,ye,"°","\\textdegree",!0),ne(ie,se,ye,"£","\\pounds"),ne(ie,se,ye,"£","\\mathsterling",!0),ne(oe,se,ye,"£","\\pounds"),ne(oe,se,ye,"£","\\textsterling",!0),ne(ie,le,ye,"✠","\\maltese"),ne(oe,le,ye,"✠","\\maltese");for(var we='0123456789/@."',ke=0;ke<14;ke++){var Se=we.charAt(ke);ne(ie,se,ye,Se,Se)}for(var Me='0123456789!@*()-=+";:?/.,',ze=0;ze<25;ze++){var Ae=Me.charAt(ze);ne(oe,se,ye,Ae,Ae)}for(var Te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Be=0;Be<52;Be++){var Ce=Te.charAt(Be);ne(ie,se,ue,Ce,Ce),ne(oe,se,ye,Ce,Ce)}ne(ie,le,ye,"C","ℂ"),ne(oe,le,ye,"C","ℂ"),ne(ie,le,ye,"H","ℍ"),ne(oe,le,ye,"H","ℍ"),ne(ie,le,ye,"N","ℕ"),ne(oe,le,ye,"N","ℕ"),ne(ie,le,ye,"P","ℙ"),ne(oe,le,ye,"P","ℙ"),ne(ie,le,ye,"Q","ℚ"),ne(oe,le,ye,"Q","ℚ"),ne(ie,le,ye,"R","ℝ"),ne(oe,le,ye,"R","ℝ"),ne(ie,le,ye,"Z","ℤ"),ne(oe,le,ye,"Z","ℤ"),ne(ie,se,ue,"h","ℎ"),ne(oe,se,ue,"h","ℎ");for(var Ne="",qe=0;qe<52;qe++){var Ie=Te.charAt(qe);ne(ie,se,ue,Ie,Ne=String.fromCharCode(55349,56320+qe)),ne(oe,se,ye,Ie,Ne),ne(ie,se,ue,Ie,Ne=String.fromCharCode(55349,56372+qe)),ne(oe,se,ye,Ie,Ne),ne(ie,se,ue,Ie,Ne=String.fromCharCode(55349,56424+qe)),ne(oe,se,ye,Ie,Ne),ne(ie,se,ue,Ie,Ne=String.fromCharCode(55349,56580+qe)),ne(oe,se,ye,Ie,Ne),ne(ie,se,ue,Ie,Ne=String.fromCharCode(55349,56684+qe)),ne(oe,se,ye,Ie,Ne),ne(ie,se,ue,Ie,Ne=String.fromCharCode(55349,56736+qe)),ne(oe,se,ye,Ie,Ne),ne(ie,se,ue,Ie,Ne=String.fromCharCode(55349,56788+qe)),ne(oe,se,ye,Ie,Ne),ne(ie,se,ue,Ie,Ne=String.fromCharCode(55349,56840+qe)),ne(oe,se,ye,Ie,Ne),ne(ie,se,ue,Ie,Ne=String.fromCharCode(55349,56944+qe)),ne(oe,se,ye,Ie,Ne),qe<26&&(ne(ie,se,ue,Ie,Ne=String.fromCharCode(55349,56632+qe)),ne(oe,se,ye,Ie,Ne),ne(ie,se,ue,Ie,Ne=String.fromCharCode(55349,56476+qe)),ne(oe,se,ye,Ie,Ne))}ne(ie,se,ue,"k",Ne=String.fromCharCode(55349,56668)),ne(oe,se,ye,"k",Ne);for(var Re=0;Re<10;Re++){var He=Re.toString();ne(ie,se,ue,He,Ne=String.fromCharCode(55349,57294+Re)),ne(oe,se,ye,He,Ne),ne(ie,se,ue,He,Ne=String.fromCharCode(55349,57314+Re)),ne(oe,se,ye,He,Ne),ne(ie,se,ue,He,Ne=String.fromCharCode(55349,57324+Re)),ne(oe,se,ye,He,Ne),ne(ie,se,ue,He,Ne=String.fromCharCode(55349,57334+Re)),ne(oe,se,ye,He,Ne)}for(var Oe="ÐÞþ",Ee=0;Ee<3;Ee++){var Le=Oe.charAt(Ee);ne(ie,se,ue,Le,Le),ne(oe,se,ye,Le,Le)}var De=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Ve=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Pe=function(e,t,r){return ae[r][e]&&ae[r][e].replace&&(e=ae[r][e].replace),{value:e,metrics:N(e,t,r)}},Fe=function(e,t,r,a,n){var i,o=Pe(e,t,r),s=o.metrics;if(e=o.value,s){var l=s.italic;("text"===r||a&&"mathit"===a.font)&&(l=0),i=new Z(e,s.height,s.depth,l,s.skew,s.width,n)}else i=new Z(e,0,0,0,0,0,n);if(a){i.maxFontSize=a.sizeMultiplier,a.style.isTight()&&i.classes.push("mtight");var h=a.getColor();h&&(i.style.color=h)}return i},Ge=(e,t)=>{if(F(e.classes)!==F(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(1===e.classes.length){var r=e.classes[0];if("mbin"===r||"mord"===r)return!1}for(var a in e.style)if(e.style.hasOwnProperty(a)&&e.style[a]!==t.style[a])return!1;for(var n in t.style)if(t.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;return!0},Ue=function(e){for(var t=0,r=0,a=0,n=0;n<e.children.length;n++){var i=e.children[n];i.height>t&&(t=i.height),i.depth>r&&(r=i.depth),i.maxFontSize>a&&(a=i.maxFontSize)}e.height=t,e.depth=r,e.maxFontSize=a},Ye=function(e,t,r,a){var n=new W(e,t,r,a);return Ue(n),n},_e=(e,t,r,a)=>new W(e,t,r,a),We=function(e){var t=new z(e);return Ue(t),t},Xe=function(e,t,r){var a="";switch(e){case"amsrm":a="AMS";break;case"textrm":a="Main";break;case"textsf":a="SansSerif";break;case"texttt":a="Typewriter";break;default:a=e}return a+"-"+("textbf"===t&&"textit"===r?"BoldItalic":"textbf"===t?"Bold":"textit"===t?"Italic":"Regular")},je={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},$e={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Ze={fontMap:je,makeSymbol:Fe,mathsym:function(e,t,r,a){return void 0===a&&(a=[]),"boldsymbol"===r.font&&Pe(e,"Main-Bold",t).metrics?Fe(e,"Main-Bold",t,r,a.concat(["mathbf"])):"\\"===e||"main"===ae[t][e].font?Fe(e,"Main-Regular",t,r,a):Fe(e,"AMS-Regular",t,r,a.concat(["amsrm"]))},makeSpan:Ye,makeSvgSpan:_e,makeLineSpan:function(e,t,r){var a=Ye([e],[],t);return a.height=Math.max(r||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),a.style.borderBottomWidth=P(a.height),a.maxFontSize=1,a},makeAnchor:function(e,t,r,a){var n=new X(e,t,r,a);return Ue(n),n},makeFragment:We,wrapFragment:function(e,t){return e instanceof z?Ye([],[e],t):e},makeVList:function(e,t){for(var{children:r,depth:a}=function(e){if("individualShift"===e.positionType){for(var t=e.children,r=[t[0]],a=-t[0].shift-t[0].elem.depth,n=a,i=1;i<t.length;i++){var o=-t[i].shift-n-t[i].elem.depth,s=o-(t[i-1].elem.height+t[i-1].elem.depth);n+=o,r.push({type:"kern",size:s}),r.push(t[i])}return{children:r,depth:a}}var l;if("top"===e.positionType){for(var h=e.positionData,m=0;m<e.children.length;m++){var c=e.children[m];h-="kern"===c.type?c.size:c.elem.height+c.elem.depth}l=h}else if("bottom"===e.positionType)l=-e.positionData;else{var p=e.children[0];if("elem"!==p.type)throw new Error('First child must have type "elem".');if("shift"===e.positionType)l=-p.elem.depth-e.positionData;else{if("firstBaseline"!==e.positionType)throw new Error("Invalid positionType "+e.positionType+".");l=-p.elem.depth}}return{children:e.children,depth:l}}(e),n=0,i=0;i<r.length;i++){var o=r[i];if("elem"===o.type){var s=o.elem;n=Math.max(n,s.maxFontSize,s.height)}}n+=2;var l=Ye(["pstrut"],[]);l.style.height=P(n);for(var h=[],m=a,c=a,p=a,u=0;u<r.length;u++){var d=r[u];if("kern"===d.type)p+=d.size;else{var g=d.elem,f=d.wrapperClasses||[],v=d.wrapperStyle||{},b=Ye(f,[l,g],void 0,v);b.style.top=P(-n-p-g.depth),d.marginLeft&&(b.style.marginLeft=d.marginLeft),d.marginRight&&(b.style.marginRight=d.marginRight),h.push(b),p+=g.height+g.depth}m=Math.min(m,p),c=Math.max(c,p)}var y,x=Ye(["vlist"],h);if(x.style.height=P(c),m<0){var w=Ye([],[]),k=Ye(["vlist"],[w]);k.style.height=P(-m);var S=Ye(["vlist-s"],[new Z("​")]);y=[Ye(["vlist-r"],[x,S]),Ye(["vlist-r"],[k])]}else y=[Ye(["vlist-r"],[x])];var M=Ye(["vlist-t"],y);return 2===y.length&&M.classes.push("vlist-t2"),M.height=c,M.depth=-m,M},makeOrd:function(e,t,a){var n=e.mode,i=e.text,o=["mord"],s="math"===n||"text"===n&&t.font,l=s?t.font:t.fontFamily,h="",m="";if(55349===i.charCodeAt(0)&&([h,m]=function(e,t){var a=1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536,n="math"===t?0:1;if(119808<=a&&a<120484){var i=Math.floor((a-119808)/26);return[De[i][2],De[i][n]]}if(120782<=a&&a<=120831){var o=Math.floor((a-120782)/10);return[Ve[o][2],Ve[o][n]]}if(120485===a||120486===a)return[De[0][2],De[0][n]];if(120486<a&&a<120782)return["",""];throw new r("Unsupported character: "+e)}(i,n)),h.length>0)return Fe(i,h,n,t,o.concat(m));if(l){var c,p;if("boldsymbol"===l){var u=function(e,t,r,a,n){return"textord"!==n&&Pe(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(i,n,0,0,a);c=u.fontName,p=[u.fontClass]}else s?(c=je[l].fontName,p=[l]):(c=Xe(l,t.fontWeight,t.fontShape),p=[l,t.fontWeight,t.fontShape]);if(Pe(i,c,n).metrics)return Fe(i,c,n,t,o.concat(p));if(xe.hasOwnProperty(i)&&"Typewriter"===c.slice(0,10)){for(var d=[],g=0;g<i.length;g++)d.push(Fe(i[g],c,n,t,o.concat(p)));return We(d)}}if("mathord"===a)return Fe(i,"Math-Italic",n,t,o.concat(["mathnormal"]));if("textord"===a){var f=ae[n][i]&&ae[n][i].font;if("ams"===f){var v=Xe("amsrm",t.fontWeight,t.fontShape);return Fe(i,v,n,t,o.concat("amsrm",t.fontWeight,t.fontShape))}if("main"!==f&&f){var b=Xe(f,t.fontWeight,t.fontShape);return Fe(i,b,n,t,o.concat(b,t.fontWeight,t.fontShape))}var y=Xe("textrm",t.fontWeight,t.fontShape);return Fe(i,y,n,t,o.concat(t.fontWeight,t.fontShape))}throw new Error("unexpected type: "+a+" in makeOrd")},makeGlue:(e,t)=>{var r=Ye(["mspace"],[],t),a=V(e,t);return r.style.marginRight=P(a),r},staticSvg:function(e,t){var[r,a,n]=$e[e],i=new J(r),o=new K([i],{width:P(a),height:P(n),style:"width:"+P(a),viewBox:"0 0 "+1e3*a+" "+1e3*n,preserveAspectRatio:"xMinYMin"}),s=_e(["overlay"],[o],t);return s.height=n,s.style.height=P(n),s.style.width=P(a),s},svgData:$e,tryCombineChars:e=>{for(var t=0;t<e.length-1;t++){var r=e[t],a=e[t+1];r instanceof Z&&a instanceof Z&&Ge(r,a)&&(r.text+=a.text,r.height=Math.max(r.height,a.height),r.depth=Math.max(r.depth,a.depth),r.italic=a.italic,e.splice(t+1,1),t--)}return e}},Ke={number:3,unit:"mu"},Je={number:4,unit:"mu"},Qe={number:5,unit:"mu"},et={mord:{mop:Ke,mbin:Je,mrel:Qe,minner:Ke},mop:{mord:Ke,mop:Ke,mrel:Qe,minner:Ke},mbin:{mord:Je,mop:Je,mopen:Je,minner:Je},mrel:{mord:Qe,mop:Qe,mopen:Qe,minner:Qe},mopen:{},mclose:{mop:Ke,mbin:Je,mrel:Qe,minner:Ke},mpunct:{mord:Ke,mop:Ke,mrel:Qe,mopen:Ke,mclose:Ke,mpunct:Ke,minner:Ke},minner:{mord:Ke,mop:Ke,mbin:Je,mrel:Qe,mopen:Ke,mpunct:Ke,minner:Ke}},tt={mord:{mop:Ke},mop:{mord:Ke,mop:Ke},mbin:{},mrel:{},mopen:{},mclose:{mop:Ke},mpunct:{},minner:{mop:Ke}},rt={},at={},nt={};function it(e){for(var{type:t,names:r,props:a,handler:n,htmlBuilder:i,mathmlBuilder:o}=e,s={type:t,numArgs:a.numArgs,argTypes:a.argTypes,allowedInArgument:!!a.allowedInArgument,allowedInText:!!a.allowedInText,allowedInMath:void 0===a.allowedInMath||a.allowedInMath,numOptionalArgs:a.numOptionalArgs||0,infix:!!a.infix,primitive:!!a.primitive,handler:n},l=0;l<r.length;++l)rt[r[l]]=s;t&&(i&&(at[t]=i),o&&(nt[t]=o))}function ot(e){var{type:t,htmlBuilder:r,mathmlBuilder:a}=e;it({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:a})}var st=function(e){return"ordgroup"===e.type&&1===e.body.length?e.body[0]:e},lt=function(e){return"ordgroup"===e.type?e.body:[e]},ht=Ze.makeSpan,mt=["leftmost","mbin","mopen","mrel","mop","mpunct"],ct=["rightmost","mrel","mclose","mpunct"],pt={display:y.DISPLAY,text:y.TEXT,script:y.SCRIPT,scriptscript:y.SCRIPTSCRIPT},ut={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},dt=function(e,t,r,a){void 0===a&&(a=[null,null]);for(var n=[],i=0;i<e.length;i++){var o=xt(e[i],t);if(o instanceof z){var l=o.children;n.push(...l)}else n.push(o)}if(Ze.tryCombineChars(n),!r)return n;var h=t;if(1===e.length){var m=e[0];"sizing"===m.type?h=t.havingSize(m.size):"styling"===m.type&&(h=t.havingStyle(pt[m.style]))}var c=ht([a[0]||"leftmost"],[],t),p=ht([a[1]||"rightmost"],[],t),u="root"===r;return gt(n,(e,t)=>{var r=t.classes[0],a=e.classes[0];"mbin"===r&&s.contains(ct,a)?t.classes[0]="mord":"mbin"===a&&s.contains(mt,r)&&(e.classes[0]="mord")},{node:c},p,u),gt(n,(e,t)=>{var r=bt(t),a=bt(e),n=r&&a?e.hasClass("mtight")?tt[r][a]:et[r][a]:null;if(n)return Ze.makeGlue(n,h)},{node:c},p,u),n},gt=function e(t,r,a,n,i){n&&t.push(n);for(var o=0;o<t.length;o++){var s=t[o],l=ft(s);if(l)e(l.children,r,a,null,i);else{var h=!s.hasClass("mspace");if(h){var m=r(s,a.node);m&&(a.insertAfter?a.insertAfter(m):(t.unshift(m),o++))}h?a.node=s:i&&s.hasClass("newline")&&(a.node=ht(["leftmost"])),a.insertAfter=(e=>r=>{t.splice(e+1,0,r),o++})(o)}}n&&t.pop()},ft=function(e){return e instanceof z||e instanceof X||e instanceof W&&e.hasClass("enclosing")?e:null},vt=function e(t,r){var a=ft(t);if(a){var n=a.children;if(n.length){if("right"===r)return e(n[n.length-1],"right");if("left"===r)return e(n[0],"left")}}return t},bt=function(e,t){return e?(t&&(e=vt(e,t)),ut[e.classes[0]]||null):null},yt=function(e,t){var r=["nulldelimiter"].concat(e.baseSizingClasses());return ht(t.concat(r))},xt=function(e,t,a){if(!e)return ht();if(at[e.type]){var n=at[e.type](e,t);if(a&&t.size!==a.size){n=ht(t.sizingClasses(a),[n],t);var i=t.sizeMultiplier/a.sizeMultiplier;n.height*=i,n.depth*=i}return n}throw new r("Got group of unknown type: '"+e.type+"'")};function wt(e,t){var r=ht(["base"],e,t),a=ht(["strut"]);return a.style.height=P(r.height+r.depth),r.depth&&(a.style.verticalAlign=P(-r.depth)),r.children.unshift(a),r}function kt(e,t){var r=null;1===e.length&&"tag"===e[0].type&&(r=e[0].tag,e=e[0].body);var a,n=dt(e,t,"root");2===n.length&&n[1].hasClass("tag")&&(a=n.pop());for(var i,o=[],s=[],l=0;l<n.length;l++)if(s.push(n[l]),n[l].hasClass("mbin")||n[l].hasClass("mrel")||n[l].hasClass("allowbreak")){for(var h=!1;l<n.length-1&&n[l+1].hasClass("mspace")&&!n[l+1].hasClass("newline");)l++,s.push(n[l]),n[l].hasClass("nobreak")&&(h=!0);h||(o.push(wt(s,t)),s=[])}else n[l].hasClass("newline")&&(s.pop(),s.length>0&&(o.push(wt(s,t)),s=[]),o.push(n[l]));s.length>0&&o.push(wt(s,t)),r?((i=wt(dt(r,t,!0))).classes=["tag"],o.push(i)):a&&o.push(a);var m=ht(["katex-html"],o);if(m.setAttribute("aria-hidden","true"),i){var c=i.children[0];c.style.height=P(m.height+m.depth),m.depth&&(c.style.verticalAlign=P(-m.depth))}return m}function St(e){return new z(e)}class Mt{constructor(e,t,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=r||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=F(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof zt&&this.children[r+1]instanceof zt){for(var a=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof zt;)a+=this.children[++r].toText();e.appendChild(new zt(a).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=s.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+s.escape(F(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">"}toText(){return this.children.map(e=>e.toText()).join("")}}class zt{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return s.escape(this.toText())}toText(){return this.text}}var At={MathNode:Mt,TextNode:zt,SpaceNode:class{constructor(e){this.width=void 0,this.character=void 0,this.width=e,this.character=e>=.05555&&e<=.05556?" ":e>=.1666&&e<=.1667?" ":e>=.2222&&e<=.2223?" ":e>=.2777&&e<=.2778?"  ":e>=-.05556&&e<=-.05555?" ⁣":e>=-.1667&&e<=-.1666?" ⁣":e>=-.2223&&e<=-.2222?" ⁣":e>=-.2778&&e<=-.2777?" ⁣":null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",P(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+P(this.width)+'"/>'}toText(){return this.character?this.character:" "}},newDocumentFragment:St},Tt=function(e,t,r){return!ae[t][e]||!ae[t][e].replace||55349===e.charCodeAt(0)||xe.hasOwnProperty(e)&&r&&(r.fontFamily&&"tt"===r.fontFamily.slice(4,6)||r.font&&"tt"===r.font.slice(4,6))||(e=ae[t][e].replace),new At.TextNode(e)},Bt=function(e){return 1===e.length?e[0]:new At.MathNode("mrow",e)},Ct=function(e,t){if("texttt"===t.fontFamily)return"monospace";if("textsf"===t.fontFamily)return"textit"===t.fontShape&&"textbf"===t.fontWeight?"sans-serif-bold-italic":"textit"===t.fontShape?"sans-serif-italic":"textbf"===t.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===t.fontShape&&"textbf"===t.fontWeight)return"bold-italic";if("textit"===t.fontShape)return"italic";if("textbf"===t.fontWeight)return"bold";var r=t.font;if(!r||"mathnormal"===r)return null;var a=e.mode;if("mathit"===r)return"italic";if("boldsymbol"===r)return"textord"===e.type?"bold":"bold-italic";if("mathbf"===r)return"bold";if("mathbb"===r)return"double-struck";if("mathsfit"===r)return"sans-serif-italic";if("mathfrak"===r)return"fraktur";if("mathscr"===r||"mathcal"===r)return"script";if("mathsf"===r)return"sans-serif";if("mathtt"===r)return"monospace";var n=e.text;return s.contains(["\\imath","\\jmath"],n)?null:(ae[a][n]&&ae[a][n].replace&&(n=ae[a][n].replace),N(n,Ze.fontMap[r].fontName,a)?Ze.fontMap[r].variant:null)};function Nt(e){if(!e)return!1;if("mi"===e.type&&1===e.children.length){var t=e.children[0];return t instanceof zt&&"."===t.text}if("mo"===e.type&&1===e.children.length&&"true"===e.getAttribute("separator")&&"0em"===e.getAttribute("lspace")&&"0em"===e.getAttribute("rspace")){var r=e.children[0];return r instanceof zt&&","===r.text}return!1}var qt=function(e,t,r){if(1===e.length){var a=Rt(e[0],t);return r&&a instanceof Mt&&"mo"===a.type&&(a.setAttribute("lspace","0em"),a.setAttribute("rspace","0em")),[a]}for(var n,i=[],o=0;o<e.length;o++){var s=Rt(e[o],t);if(s instanceof Mt&&n instanceof Mt){if("mtext"===s.type&&"mtext"===n.type&&s.getAttribute("mathvariant")===n.getAttribute("mathvariant")){n.children.push(...s.children);continue}if("mn"===s.type&&"mn"===n.type){n.children.push(...s.children);continue}if(Nt(s)&&"mn"===n.type){n.children.push(...s.children);continue}if("mn"===s.type&&Nt(n))s.children=[...n.children,...s.children],i.pop();else if(("msup"===s.type||"msub"===s.type)&&s.children.length>=1&&("mn"===n.type||Nt(n))){var l=s.children[0];l instanceof Mt&&"mn"===l.type&&(l.children=[...n.children,...l.children],i.pop())}else if("mi"===n.type&&1===n.children.length){var h=n.children[0];if(h instanceof zt&&"̸"===h.text&&("mo"===s.type||"mi"===s.type||"mn"===s.type)){var m=s.children[0];m instanceof zt&&m.text.length>0&&(m.text=m.text.slice(0,1)+"̸"+m.text.slice(1),i.pop())}}}i.push(s),n=s}return i},It=function(e,t,r){return Bt(qt(e,t,r))},Rt=function(e,t){if(!e)return new At.MathNode("mrow");if(nt[e.type])return nt[e.type](e,t);throw new r("Got group of unknown type: '"+e.type+"'")};function Ht(e,t,r,a,n){var i,o=qt(e,r);i=1===o.length&&o[0]instanceof Mt&&s.contains(["mrow","mtable"],o[0].type)?o[0]:new At.MathNode("mrow",o);var l=new At.MathNode("annotation",[new At.TextNode(t)]);l.setAttribute("encoding","application/x-tex");var h=new At.MathNode("semantics",[i,l]),m=new At.MathNode("math",[h]);m.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),a&&m.setAttribute("display","block");var c=n?"katex":"katex-mathml";return Ze.makeSpan([c],[m])}var Ot=function(e){return new O({style:e.displayMode?y.DISPLAY:y.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Et=function(e,t){if(t.displayMode){var r=["katex-display"];t.leqno&&r.push("leqno"),t.fleqn&&r.push("fleqn"),e=Ze.makeSpan(r,[e])}return e},Lt={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},Dt={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Vt=function(e,t,r,a,n){var i,o=e.height+e.depth+r+a;if(/fbox|color|angl/.test(t)){if(i=Ze.makeSpan(["stretchy",t],[],n),"fbox"===t){var s=n.color&&n.getColor();s&&(i.style.borderColor=s)}}else{var l=[];/^[bx]cancel$/.test(t)&&l.push(new Q({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&l.push(new Q({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new K(l,{width:"100%",height:P(o)});i=Ze.makeSvgSpan([],[h],n)}return i.height=o,i.style.height=P(o),i},Pt=function(e){var t=new At.MathNode("mo",[new At.TextNode(Lt[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},Ft=function(e,t){var{span:r,minWidth:a,height:n}=function(){var r=4e5,a=e.label.slice(1);if(s.contains(["widehat","widecheck","widetilde","utilde"],a)){var n,i,o,l="ordgroup"===(d=e.base).type?d.body.length:1;if(l>5)"widehat"===a||"widecheck"===a?(n=420,r=2364,o=.42,i=a+"4"):(n=312,r=2340,o=.34,i="tilde4");else{var h=[1,1,2,2,3,3][l];"widehat"===a||"widecheck"===a?(r=[0,1062,2364,2364,2364][h],n=[0,239,300,360,420][h],o=[0,.24,.3,.3,.36,.42][h],i=a+h):(r=[0,600,1033,2339,2340][h],n=[0,260,286,306,312][h],o=[0,.26,.286,.3,.306,.34][h],i="tilde"+h)}var m=new J(i),c=new K([m],{width:"100%",height:P(o),viewBox:"0 0 "+r+" "+n,preserveAspectRatio:"none"});return{span:Ze.makeSvgSpan([],[c],t),minWidth:0,height:o}}var p,u,d,g=[],f=Dt[a],[v,b,y]=f,x=y/1e3,w=v.length;if(1===w)p=["hide-tail"],u=[f[3]];else if(2===w)p=["halfarrow-left","halfarrow-right"],u=["xMinYMin","xMaxYMin"];else{if(3!==w)throw new Error("Correct katexImagesData or update code here to support\n                    "+w+" children.");p=["brace-left","brace-center","brace-right"],u=["xMinYMin","xMidYMin","xMaxYMin"]}for(var k=0;k<w;k++){var S=new J(v[k]),M=new K([S],{width:"400em",height:P(x),viewBox:"0 0 "+r+" "+y,preserveAspectRatio:u[k]+" slice"}),z=Ze.makeSvgSpan([p[k]],[M],t);if(1===w)return{span:z,minWidth:b,height:x};z.style.height=P(x),g.push(z)}return{span:Ze.makeSpan(["stretchy"],g,t),minWidth:b,height:x}}();return r.height=n,r.style.height=P(n),a>0&&(r.style.minWidth=P(a)),r};function Gt(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function Ut(e){var t=Yt(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function Yt(e){return e&&("atom"===e.type||re.hasOwnProperty(e.type))?e:null}var _t=(e,t)=>{var r,a,n;e&&"supsub"===e.type?(r=(a=Gt(e.base,"accent")).base,e.base=r,n=function(e){if(e instanceof W)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}(xt(e,t)),e.base=a):r=(a=Gt(e,"accent")).base;var i=xt(r,t.havingCrampedStyle()),o=0;if(a.isShifty&&s.isCharacterBox(r)){var l=s.getBaseElem(r);o=ee(xt(l,t.havingCrampedStyle())).skew}var h,m="\\c"===a.label,c=m?i.height+i.depth:Math.min(i.height,t.fontMetrics().xHeight);if(a.isStretchy)h=Ft(a,t),h=Ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+P(2*o)+")",marginLeft:P(2*o)}:void 0}]},t);else{var p,u;"\\vec"===a.label?(p=Ze.staticSvg("vec",t),u=Ze.svgData.vec[1]):((p=ee(p=Ze.makeOrd({mode:a.mode,text:a.label},t,"textord"))).italic=0,u=p.width,m&&(c+=p.depth)),h=Ze.makeSpan(["accent-body"],[p]);var d="\\textcircled"===a.label;d&&(h.classes.push("accent-full"),c=i.height);var g=o;d||(g-=u/2),h.style.left=P(g),"\\textcircled"===a.label&&(h.style.top=".2em"),h=Ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:-c},{type:"elem",elem:h}]},t)}var f=Ze.makeSpan(["mord","accent"],[h],t);return n?(n.children[0]=f,n.height=Math.max(f.height,n.height),n.classes[0]="mord",n):f},Wt=(e,t)=>{var r=e.isStretchy?Pt(e.label):new At.MathNode("mo",[Tt(e.label,e.mode)]),a=new At.MathNode("mover",[Rt(e.base,t),r]);return a.setAttribute("accent","true"),a},Xt=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));it({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var r=st(t[0]),a=!Xt.test(e.funcName),n=!a||"\\widehat"===e.funcName||"\\widetilde"===e.funcName||"\\widecheck"===e.funcName;return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:a,isShifty:n,base:r}},htmlBuilder:_t,mathmlBuilder:Wt}),it({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var r=t[0],a=e.parser.mode;return"math"===a&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),a="text"),{type:"accent",mode:a,label:e.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:_t,mathmlBuilder:Wt}),it({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:r,funcName:a}=e,n=t[0];return{type:"accentUnder",mode:r.mode,label:a,base:n}},htmlBuilder:(e,t)=>{var r=xt(e.base,t),a=Ft(e,t),n="\\utilde"===e.label?.12:0,i=Ze.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:a,wrapperClasses:["svg-align"]},{type:"kern",size:n},{type:"elem",elem:r}]},t);return Ze.makeSpan(["mord","accentunder"],[i],t)},mathmlBuilder:(e,t)=>{var r=Pt(e.label),a=new At.MathNode("munder",[Rt(e.base,t),r]);return a.setAttribute("accentunder","true"),a}});var jt=e=>{var t=new At.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};it({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:a,funcName:n}=e;return{type:"xArrow",mode:a.mode,label:n,body:t[0],below:r[0]}},htmlBuilder(e,t){var r,a=t.style,n=t.havingStyle(a.sup()),i=Ze.wrapFragment(xt(e.body,n,t),t),o="\\x"===e.label.slice(0,2)?"x":"cd";i.classes.push(o+"-arrow-pad"),e.below&&(n=t.havingStyle(a.sub()),(r=Ze.wrapFragment(xt(e.below,n,t),t)).classes.push(o+"-arrow-pad"));var s,l=Ft(e,t),h=-t.fontMetrics().axisHeight+.5*l.height,m=-t.fontMetrics().axisHeight-.5*l.height-.111;if((i.depth>.25||"\\xleftequilibrium"===e.label)&&(m-=i.depth),r){var c=-t.fontMetrics().axisHeight+r.height+.5*l.height+.111;s=Ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:m},{type:"elem",elem:l,shift:h},{type:"elem",elem:r,shift:c}]},t)}else s=Ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:m},{type:"elem",elem:l,shift:h}]},t);return s.children[0].children[0].children[1].classes.push("svg-align"),Ze.makeSpan(["mrel","x-arrow"],[s],t)},mathmlBuilder(e,t){var r,a=Pt(e.label);if(a.setAttribute("minsize","x"===e.label.charAt(0)?"1.75em":"3.0em"),e.body){var n=jt(Rt(e.body,t));if(e.below){var i=jt(Rt(e.below,t));r=new At.MathNode("munderover",[a,i,n])}else r=new At.MathNode("mover",[a,n])}else if(e.below){var o=jt(Rt(e.below,t));r=new At.MathNode("munder",[a,o])}else r=jt(),r=new At.MathNode("mover",[a,r]);return r}});var $t=Ze.makeSpan;function Zt(e,t){var r=dt(e.body,t,!0);return $t([e.mclass],r,t)}function Kt(e,t){var r,a=qt(e.body,t);return"minner"===e.mclass?r=new At.MathNode("mpadded",a):"mord"===e.mclass?e.isCharacterBox?(r=a[0]).type="mi":r=new At.MathNode("mi",a):(e.isCharacterBox?(r=a[0]).type="mo":r=new At.MathNode("mo",a),"mbin"===e.mclass?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):"mpunct"===e.mclass?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):"mopen"===e.mclass||"mclose"===e.mclass?(r.attributes.lspace="0em",r.attributes.rspace="0em"):"minner"===e.mclass&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}it({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:r,funcName:a}=e,n=t[0];return{type:"mclass",mode:r.mode,mclass:"m"+a.slice(5),body:lt(n),isCharacterBox:s.isCharacterBox(n)}},htmlBuilder:Zt,mathmlBuilder:Kt});var Jt=e=>{var t="ordgroup"===e.type&&e.body.length?e.body[0]:e;return"atom"!==t.type||"bin"!==t.family&&"rel"!==t.family?"mord":"m"+t.family};it({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:r}=e;return{type:"mclass",mode:r.mode,mclass:Jt(t[0]),body:lt(t[1]),isCharacterBox:s.isCharacterBox(t[1])}}}),it({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var r,{parser:a,funcName:n}=e,i=t[1],o=t[0];r="\\stackrel"!==n?Jt(i):"mrel";var l={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==n,body:lt(i)},h={type:"supsub",mode:o.mode,base:l,sup:"\\underset"===n?null:o,sub:"\\underset"===n?o:null};return{type:"mclass",mode:a.mode,mclass:r,body:[h],isCharacterBox:s.isCharacterBox(h)}},htmlBuilder:Zt,mathmlBuilder:Kt}),it({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"pmb",mode:r.mode,mclass:Jt(t[0]),body:lt(t[0])}},htmlBuilder(e,t){var r=dt(e.body,t,!0),a=Ze.makeSpan([e.mclass],r,t);return a.style.textShadow="0.02em 0.01em 0.04px",a},mathmlBuilder(e,t){var r=qt(e.body,t),a=new At.MathNode("mstyle",r);return a.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),a}});var Qt={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},er=()=>({type:"styling",body:[],mode:"math",style:"display"}),tr=e=>"textord"===e.type&&"@"===e.text,rr=(e,t)=>("mathord"===e.type||"atom"===e.type)&&e.text===t;function ar(e,t,r){var a=Qt[e];switch(a){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(a,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":var n={type:"atom",text:a,mode:"math",family:"rel"},i={type:"ordgroup",mode:"math",body:[r.callFunction("\\\\cdleft",[t[0]],[]),r.callFunction("\\Big",[n],[]),r.callFunction("\\\\cdright",[t[1]],[])]};return r.callFunction("\\\\cdparent",[i],[]);case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return r.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}it({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:a}=e;return{type:"cdlabel",mode:r.mode,side:a.slice(4),label:t[0]}},htmlBuilder(e,t){var r=t.havingStyle(t.style.sup()),a=Ze.wrapFragment(xt(e.label,r,t),t);return a.classes.push("cd-label-"+e.side),a.style.bottom=P(.8-a.depth),a.height=0,a.depth=0,a},mathmlBuilder(e,t){var r=new At.MathNode("mrow",[Rt(e.label,t)]);return(r=new At.MathNode("mpadded",[r])).setAttribute("width","0"),"left"===e.side&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),(r=new At.MathNode("mstyle",[r])).setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}}),it({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:r}=e;return{type:"cdlabelparent",mode:r.mode,fragment:t[0]}},htmlBuilder(e,t){var r=Ze.wrapFragment(xt(e.fragment,t),t);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder:(e,t)=>new At.MathNode("mrow",[Rt(e.fragment,t)])}),it({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:a}=e,n=Gt(t[0],"ordgroup").body,i="",o=0;o<n.length;o++){i+=Gt(n[o],"textord").text}var s,l=parseInt(i);if(isNaN(l))throw new r("\\@char has non-numeric argument "+i);if(l<0||l>=1114111)throw new r("\\@char with invalid code point "+i);return l<=65535?s=String.fromCharCode(l):(l-=65536,s=String.fromCharCode(55296+(l>>10),56320+(1023&l))),{type:"textord",mode:a.mode,text:s}}});var nr=(e,t)=>{var r=dt(e.body,t.withColor(e.color),!1);return Ze.makeFragment(r)},ir=(e,t)=>{var r=qt(e.body,t.withColor(e.color)),a=new At.MathNode("mstyle",r);return a.setAttribute("mathcolor",e.color),a};it({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:r}=e,a=Gt(t[0],"color-token").color,n=t[1];return{type:"color",mode:r.mode,color:a,body:lt(n)}},htmlBuilder:nr,mathmlBuilder:ir}),it({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:r,breakOnTokenText:a}=e,n=Gt(t[0],"color-token").color;r.gullet.macros.set("\\current@color",n);var i=r.parseExpression(!0,a);return{type:"color",mode:r.mode,color:n,body:i}},htmlBuilder:nr,mathmlBuilder:ir}),it({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,r){var{parser:a}=e,n="["===a.gullet.future().text?a.parseSizeGroup(!0):null,i=!a.settings.displayMode||!a.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:a.mode,newLine:i,size:n&&Gt(n,"size").value}},htmlBuilder(e,t){var r=Ze.makeSpan(["mspace"],[],t);return e.newLine&&(r.classes.push("newline"),e.size&&(r.style.marginTop=P(V(e.size,t)))),r},mathmlBuilder(e,t){var r=new At.MathNode("mspace");return e.newLine&&(r.setAttribute("linebreak","newline"),e.size&&r.setAttribute("height",P(V(e.size,t)))),r}});var or={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},sr=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new r("Expected a control sequence",e);return t},lr=(e,t,r,a)=>{var n=e.gullet.macros.get(r.text);null==n&&(r.noexpand=!0,n={tokens:[r],numArgs:0,unexpandable:!e.gullet.isExpandable(r.text)}),e.gullet.macros.set(t,n,a)};it({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:a}=e;t.consumeSpaces();var n=t.fetch();if(or[n.text])return"\\global"!==a&&"\\\\globallong"!==a||(n.text=or[n.text]),Gt(t.parseFunction(),"internal");throw new r("Invalid token after macro prefix",n)}}),it({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:a}=e,n=t.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new r("Expected a control sequence",n);for(var o,s=0,l=[[]];"{"!==t.gullet.future().text;)if("#"===(n=t.gullet.popToken()).text){if("{"===t.gullet.future().text){o=t.gullet.future(),l[s].push("{");break}if(n=t.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new r('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==s+1)throw new r('Argument number "'+n.text+'" out of order');s++,l.push([])}else{if("EOF"===n.text)throw new r("Expected a macro definition");l[s].push(n.text)}var{tokens:h}=t.gullet.consumeArg();return o&&h.unshift(o),"\\edef"!==a&&"\\xdef"!==a||(h=t.gullet.expandTokens(h)).reverse(),t.gullet.macros.set(i,{tokens:h,numArgs:s,delimiters:l},a===or[a]),{type:"internal",mode:t.mode}}}),it({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,a=sr(t.gullet.popToken());t.gullet.consumeSpaces();var n=(e=>{var t=e.gullet.popToken();return"="===t.text&&" "===(t=e.gullet.popToken()).text&&(t=e.gullet.popToken()),t})(t);return lr(t,a,n,"\\\\globallet"===r),{type:"internal",mode:t.mode}}}),it({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,a=sr(t.gullet.popToken()),n=t.gullet.popToken(),i=t.gullet.popToken();return lr(t,a,i,"\\\\globalfuture"===r),t.gullet.pushToken(i),t.gullet.pushToken(n),{type:"internal",mode:t.mode}}});var hr=function(e,t,r){var a=N(ae.math[e]&&ae.math[e].replace||e,t,r);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return a},mr=function(e,t,r,a){var n=r.havingBaseStyle(t),i=Ze.makeSpan(a.concat(n.sizingClasses(r)),[e],r),o=n.sizeMultiplier/r.sizeMultiplier;return i.height*=o,i.depth*=o,i.maxFontSize=n.sizeMultiplier,i},cr=function(e,t,r){var a=t.havingBaseStyle(r),n=(1-t.sizeMultiplier/a.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=P(n),e.height-=n,e.depth+=n},pr=function(e,t,r,a,n,i){var o=function(e,t,r,a){return Ze.makeSymbol(e,"Size"+t+"-Regular",r,a)}(e,t,n,a),s=mr(Ze.makeSpan(["delimsizing","size"+t],[o],a),y.TEXT,a,i);return r&&cr(s,a,y.TEXT),s},ur=function(e,t,r){var a;return a="Size1-Regular"===t?"delim-size1":"delim-size4",{type:"elem",elem:Ze.makeSpan(["delimsizinginner",a],[Ze.makeSpan([],[Ze.makeSymbol(e,t,r)])])}},dr=function(e,t,r){var a=A["Size4-Regular"][e.charCodeAt(0)]?A["Size4-Regular"][e.charCodeAt(0)][4]:A["Size1-Regular"][e.charCodeAt(0)][4],n=new J("inner",function(e,t){switch(e){case"⎜":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"∣":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"∥":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145zM367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z";case"⎟":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"⎢":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"⎥":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"⎪":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"⏐":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"‖":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257zM478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z";default:return""}}(e,Math.round(1e3*t))),i=new K([n],{width:P(a),height:P(t),style:"width:"+P(a),viewBox:"0 0 "+1e3*a+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),o=Ze.makeSvgSpan([],[i],r);return o.height=t,o.style.height=P(t),o.style.width=P(a),{type:"elem",elem:o}},gr={type:"kern",size:-.008},fr=["|","\\lvert","\\rvert","\\vert"],vr=["\\|","\\lVert","\\rVert","\\Vert"],br=function(e,t,r,a,n,i){var o,l,h,m,c="",p=0;o=h=m=e,l=null;var u="Size1-Regular";"\\uparrow"===e?h=m="⏐":"\\Uparrow"===e?h=m="‖":"\\downarrow"===e?o=h="⏐":"\\Downarrow"===e?o=h="‖":"\\updownarrow"===e?(o="\\uparrow",h="⏐",m="\\downarrow"):"\\Updownarrow"===e?(o="\\Uparrow",h="‖",m="\\Downarrow"):s.contains(fr,e)?(h="∣",c="vert",p=333):s.contains(vr,e)?(h="∥",c="doublevert",p=556):"["===e||"\\lbrack"===e?(o="⎡",h="⎢",m="⎣",u="Size4-Regular",c="lbrack",p=667):"]"===e||"\\rbrack"===e?(o="⎤",h="⎥",m="⎦",u="Size4-Regular",c="rbrack",p=667):"\\lfloor"===e||"⌊"===e?(h=o="⎢",m="⎣",u="Size4-Regular",c="lfloor",p=667):"\\lceil"===e||"⌈"===e?(o="⎡",h=m="⎢",u="Size4-Regular",c="lceil",p=667):"\\rfloor"===e||"⌋"===e?(h=o="⎥",m="⎦",u="Size4-Regular",c="rfloor",p=667):"\\rceil"===e||"⌉"===e?(o="⎤",h=m="⎥",u="Size4-Regular",c="rceil",p=667):"("===e||"\\lparen"===e?(o="⎛",h="⎜",m="⎝",u="Size4-Regular",c="lparen",p=875):")"===e||"\\rparen"===e?(o="⎞",h="⎟",m="⎠",u="Size4-Regular",c="rparen",p=875):"\\{"===e||"\\lbrace"===e?(o="⎧",l="⎨",m="⎩",h="⎪",u="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(o="⎫",l="⎬",m="⎭",h="⎪",u="Size4-Regular"):"\\lgroup"===e||"⟮"===e?(o="⎧",m="⎩",h="⎪",u="Size4-Regular"):"\\rgroup"===e||"⟯"===e?(o="⎫",m="⎭",h="⎪",u="Size4-Regular"):"\\lmoustache"===e||"⎰"===e?(o="⎧",m="⎭",h="⎪",u="Size4-Regular"):"\\rmoustache"!==e&&"⎱"!==e||(o="⎫",m="⎩",h="⎪",u="Size4-Regular");var d=hr(o,u,n),g=d.height+d.depth,f=hr(h,u,n),v=f.height+f.depth,b=hr(m,u,n),x=b.height+b.depth,w=0,k=1;if(null!==l){var S=hr(l,u,n);w=S.height+S.depth,k=2}var M=g+x+w,z=M+Math.max(0,Math.ceil((t-M)/(k*v)))*k*v,A=a.fontMetrics().axisHeight;r&&(A*=a.sizeMultiplier);var T=z/2-A,B=[];if(c.length>0){var C=z-g-x,N=Math.round(1e3*z),q=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+" v1759 h347 v-84\nH403z M403 1759 V0 H319 V1759 v"+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+" v1759 H0 v84 H347z\nM347 1759 V0 H263 V1759 v"+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+t+" v585 h43z\nM367 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M410 15 H367 v585 v"+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+" v1715 h263 v84 H319z\nMM319 602 V0 H403 V602 v"+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+" v1799 H0 v-84 H319z\nMM319 602 V0 H403 V602 v"+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+" v602 h84z\nM403 1759 V0 H319 V1759 v"+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+" v602 h84z\nM347 1759 V0 h-84 V1759 v"+t+" v602 h84z";case"lparen":return"M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1\nc-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,\n-36,557 l0,"+(t+84)+"c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,\n949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9\nc0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,\n-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189\nl0,-"+(t+92)+"c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,\n-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z";case"rparen":return"M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,\n63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5\nc11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,"+(t+9)+"\nc-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664\nc-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11\nc0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17\nc242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558\nl0,-"+(t+144)+"c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,\n-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z";default:throw new Error("Unknown stretchy delimiter.")}}(c,Math.round(1e3*C)),I=new J(c,q),R=(p/1e3).toFixed(3)+"em",H=(N/1e3).toFixed(3)+"em",O=new K([I],{width:R,height:H,viewBox:"0 0 "+p+" "+N}),E=Ze.makeSvgSpan([],[O],a);E.height=N/1e3,E.style.width=R,E.style.height=H,B.push({type:"elem",elem:E})}else{if(B.push(ur(m,u,n)),B.push(gr),null===l){var L=z-g-x+.016;B.push(dr(h,L,a))}else{var D=(z-g-x-w)/2+.016;B.push(dr(h,D,a)),B.push(gr),B.push(ur(l,u,n)),B.push(gr),B.push(dr(h,D,a))}B.push(gr),B.push(ur(o,u,n))}var V=a.havingBaseStyle(y.TEXT),P=Ze.makeVList({positionType:"bottom",positionData:T,children:B},V);return mr(Ze.makeSpan(["delimsizing","mult"],[P],V),y.TEXT,a,i)},yr=.08,xr=function(e,t,r,a,n){var i=function(e,t,r){t*=1e3;var a="";switch(e){case"sqrtMain":a=function(e,t){return"M95,"+(622+e+t)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+e/2.075+" -"+e+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+e)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,S);break;case"sqrtSize1":a=function(e,t){return"M263,"+(601+e+t)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+e/2.084+" -"+e+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+e)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,S);break;case"sqrtSize2":a=function(e,t){return"M983 "+(10+e+t)+"\nl"+e/3.13+" -"+e+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+e)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,S);break;case"sqrtSize3":a=function(e,t){return"M424,"+(2398+e+t)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+e/4.223+" -"+e+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+e)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+e)+" "+t+"\nh400000v"+(40+e)+"h-400000z"}(t,S);break;case"sqrtSize4":a=function(e,t){return"M473,"+(2713+e+t)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+e/5.298+" -"+e+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+e)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"}(t,S);break;case"sqrtTall":a=function(e,t,r){return"M702 "+(e+t)+"H400000"+(40+e)+"\nH742v"+(r-54-t-e)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 "+t+"H400000v"+(40+e)+"H742z"}(t,S,r)}return a}(e,a,r),o=new J(e,i),s=new K([o],{width:"400em",height:P(t),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return Ze.makeSvgSpan(["hide-tail"],[s],n)},wr=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],kr=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],Sr=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Mr=[0,1.2,1.8,2.4,3],zr=[{type:"small",style:y.SCRIPTSCRIPT},{type:"small",style:y.SCRIPT},{type:"small",style:y.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Ar=[{type:"small",style:y.SCRIPTSCRIPT},{type:"small",style:y.SCRIPT},{type:"small",style:y.TEXT},{type:"stack"}],Tr=[{type:"small",style:y.SCRIPTSCRIPT},{type:"small",style:y.SCRIPT},{type:"small",style:y.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Br=function(e){if("small"===e.type)return"Main-Regular";if("large"===e.type)return"Size"+e.size+"-Regular";if("stack"===e.type)return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Cr=function(e,t,r,a){for(var n=Math.min(2,3-a.style.size);n<r.length&&"stack"!==r[n].type;n++){var i=hr(e,Br(r[n]),"math"),o=i.height+i.depth;if("small"===r[n].type&&(o*=a.havingBaseStyle(r[n].style).sizeMultiplier),o>t)return r[n]}return r[r.length-1]},Nr=function(e,t,r,a,n,i){var o;"<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),o=s.contains(Sr,e)?zr:s.contains(wr,e)?Tr:Ar;var l=Cr(e,t,o,a);return"small"===l.type?function(e,t,r,a,n,i){var o=Ze.makeSymbol(e,"Main-Regular",n,a),s=mr(o,t,a,i);return r&&cr(s,a,t),s}(e,l.style,r,a,n,i):"large"===l.type?pr(e,l.size,r,a,n,i):br(e,t,r,a,n,i)},qr={sqrtImage:function(e,t){var r,a,n=t.havingBaseSizing(),i=Cr("\\surd",e*n.sizeMultiplier,Tr,n),o=n.sizeMultiplier,s=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),l=0,h=0,m=0;return"small"===i.type?(e<1?o=1:e<1.4&&(o=.7),h=(1+s)/o,(r=xr("sqrtMain",l=(1+s+yr)/o,m=1e3+1e3*s+80,s,t)).style.minWidth="0.853em",a=.833/o):"large"===i.type?(m=1080*Mr[i.size],h=(Mr[i.size]+s)/o,l=(Mr[i.size]+s+yr)/o,(r=xr("sqrtSize"+i.size,l,m,s,t)).style.minWidth="1.02em",a=1/o):(l=e+s+yr,h=e+s,m=Math.floor(1e3*e+s)+80,(r=xr("sqrtTall",l,m,s,t)).style.minWidth="0.742em",a=1.056),r.height=h,r.style.height=P(l),{span:r,advanceWidth:a,ruleWidth:(t.fontMetrics().sqrtRuleThickness+s)*o}},sizedDelim:function(e,t,a,n,i){if("<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),s.contains(wr,e)||s.contains(Sr,e))return pr(e,t,!1,a,n,i);if(s.contains(kr,e))return br(e,Mr[t],!1,a,n,i);throw new r("Illegal delimiter: '"+e+"'")},sizeToMaxHeight:Mr,customSizedDelim:Nr,leftRightDelim:function(e,t,r,a,n,i){var o=a.fontMetrics().axisHeight*a.sizeMultiplier,s=5/a.fontMetrics().ptPerEm,l=Math.max(t-o,r+o),h=Math.max(l/500*901,2*l-s);return Nr(e,h,!0,a,n,i)}},Ir={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Rr=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Hr(e,t){var a=Yt(e);if(a&&s.contains(Rr,a.text))return a;throw new r(a?"Invalid delimiter '"+a.text+"' after '"+t.funcName+"'":"Invalid delimiter type '"+e.type+"'",e)}function Or(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}it({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var r=Hr(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:Ir[e.funcName].size,mclass:Ir[e.funcName].mclass,delim:r.text}},htmlBuilder:(e,t)=>"."===e.delim?Ze.makeSpan([e.mclass]):qr.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];"."!==e.delim&&t.push(Tt(e.delim,e.mode));var r=new At.MathNode("mo",t);"mopen"===e.mclass||"mclose"===e.mclass?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var a=P(qr.sizeToMaxHeight[e.size]);return r.setAttribute("minsize",a),r.setAttribute("maxsize",a),r}}),it({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var a=e.parser.gullet.macros.get("\\current@color");if(a&&"string"!=typeof a)throw new r("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:Hr(t[0],e).text,color:a}}}),it({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=Hr(t[0],e),a=e.parser;++a.leftrightDepth;var n=a.parseExpression(!1);--a.leftrightDepth,a.expect("\\right",!1);var i=Gt(a.parseFunction(),"leftright-right");return{type:"leftright",mode:a.mode,body:n,left:r.text,right:i.delim,rightColor:i.color}},htmlBuilder:(e,t)=>{Or(e);for(var r,a,n=dt(e.body,t,!0,["mopen","mclose"]),i=0,o=0,s=!1,l=0;l<n.length;l++)n[l].isMiddle?s=!0:(i=Math.max(n[l].height,i),o=Math.max(n[l].depth,o));if(i*=t.sizeMultiplier,o*=t.sizeMultiplier,r="."===e.left?yt(t,["mopen"]):qr.leftRightDelim(e.left,i,o,t,e.mode,["mopen"]),n.unshift(r),s)for(var h=1;h<n.length;h++){var m=n[h].isMiddle;m&&(n[h]=qr.leftRightDelim(m.delim,i,o,m.options,e.mode,[]))}if("."===e.right)a=yt(t,["mclose"]);else{var c=e.rightColor?t.withColor(e.rightColor):t;a=qr.leftRightDelim(e.right,i,o,c,e.mode,["mclose"])}return n.push(a),Ze.makeSpan(["minner"],n,t)},mathmlBuilder:(e,t)=>{Or(e);var r=qt(e.body,t);if("."!==e.left){var a=new At.MathNode("mo",[Tt(e.left,e.mode)]);a.setAttribute("fence","true"),r.unshift(a)}if("."!==e.right){var n=new At.MathNode("mo",[Tt(e.right,e.mode)]);n.setAttribute("fence","true"),e.rightColor&&n.setAttribute("mathcolor",e.rightColor),r.push(n)}return Bt(r)}}),it({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var a=Hr(t[0],e);if(!e.parser.leftrightDepth)throw new r("\\middle without preceding \\left",a);return{type:"middle",mode:e.parser.mode,delim:a.text}},htmlBuilder:(e,t)=>{var r;if("."===e.delim)r=yt(t,[]);else{r=qr.sizedDelim(e.delim,1,t,e.mode,[]);var a={delim:e.delim,options:t};r.isMiddle=a}return r},mathmlBuilder:(e,t)=>{var r="\\vert"===e.delim||"|"===e.delim?Tt("|","text"):Tt(e.delim,e.mode),a=new At.MathNode("mo",[r]);return a.setAttribute("fence","true"),a.setAttribute("lspace","0.05em"),a.setAttribute("rspace","0.05em"),a}});var Er=(e,t)=>{var r,a,n,i=Ze.wrapFragment(xt(e.body,t),t),o=e.label.slice(1),l=t.sizeMultiplier,h=0,m=s.isCharacterBox(e.body);if("sout"===o)(r=Ze.makeSpan(["stretchy","sout"])).height=t.fontMetrics().defaultRuleThickness/l,h=-.5*t.fontMetrics().xHeight;else if("phase"===o){var c=V({number:.6,unit:"pt"},t),p=V({number:.35,unit:"ex"},t);l/=t.havingBaseSizing().sizeMultiplier;var u=i.height+i.depth+c+p;i.style.paddingLeft=P(u/2+c);var d=Math.floor(1e3*u*l),g="M400000 "+(a=d)+" H0 L"+a/2+" 0 l65 45 L145 "+(a-80)+" H400000z",f=new K([new J("phase",g)],{width:"400em",height:P(d/1e3),viewBox:"0 0 400000 "+d,preserveAspectRatio:"xMinYMin slice"});(r=Ze.makeSvgSpan(["hide-tail"],[f],t)).style.height=P(u),h=i.depth+c+p}else{/cancel/.test(o)?m||i.classes.push("cancel-pad"):"angl"===o?i.classes.push("anglpad"):i.classes.push("boxpad");var v=0,b=0,y=0;/box/.test(o)?(y=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),b=v=t.fontMetrics().fboxsep+("colorbox"===o?0:y)):"angl"===o?(v=4*(y=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness)),b=Math.max(0,.25-i.depth)):b=v=m?.2:0,r=Vt(i,o,v,b,t),/fbox|boxed|fcolorbox/.test(o)?(r.style.borderStyle="solid",r.style.borderWidth=P(y)):"angl"===o&&.049!==y&&(r.style.borderTopWidth=P(y),r.style.borderRightWidth=P(y)),h=i.depth+b,e.backgroundColor&&(r.style.backgroundColor=e.backgroundColor,e.borderColor&&(r.style.borderColor=e.borderColor))}if(e.backgroundColor)n=Ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:h},{type:"elem",elem:i,shift:0}]},t);else{var x=/cancel|phase/.test(o)?["svg-align"]:[];n=Ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:0},{type:"elem",elem:r,shift:h,wrapperClasses:x}]},t)}return/cancel/.test(o)&&(n.height=i.height,n.depth=i.depth),/cancel/.test(o)&&!m?Ze.makeSpan(["mord","cancel-lap"],[n],t):Ze.makeSpan(["mord"],[n],t)},Lr=(e,t)=>{var r=0,a=new At.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Rt(e.body,t)]);switch(e.label){case"\\cancel":a.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":a.setAttribute("notation","downdiagonalstrike");break;case"\\phase":a.setAttribute("notation","phasorangle");break;case"\\sout":a.setAttribute("notation","horizontalstrike");break;case"\\fbox":a.setAttribute("notation","box");break;case"\\angl":a.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,a.setAttribute("width","+"+2*r+"pt"),a.setAttribute("height","+"+2*r+"pt"),a.setAttribute("lspace",r+"pt"),a.setAttribute("voffset",r+"pt"),"\\fcolorbox"===e.label){var n=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);a.setAttribute("style","border: "+n+"em solid "+String(e.borderColor))}break;case"\\xcancel":a.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return e.backgroundColor&&a.setAttribute("mathbackground",e.backgroundColor),a};it({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,r){var{parser:a,funcName:n}=e,i=Gt(t[0],"color-token").color,o=t[1];return{type:"enclose",mode:a.mode,label:n,backgroundColor:i,body:o}},htmlBuilder:Er,mathmlBuilder:Lr}),it({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,r){var{parser:a,funcName:n}=e,i=Gt(t[0],"color-token").color,o=Gt(t[1],"color-token").color,s=t[2];return{type:"enclose",mode:a.mode,label:n,backgroundColor:o,borderColor:i,body:s}},htmlBuilder:Er,mathmlBuilder:Lr}),it({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\fbox",body:t[0]}}}),it({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:a}=e,n=t[0];return{type:"enclose",mode:r.mode,label:a,body:n}},htmlBuilder:Er,mathmlBuilder:Lr}),it({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\angl",body:t[0]}}});var Dr={};function Vr(e){for(var{type:t,names:r,props:a,handler:n,htmlBuilder:i,mathmlBuilder:o}=e,s={type:t,numArgs:a.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:n},l=0;l<r.length;++l)Dr[r[l]]=s;i&&(at[t]=i),o&&(nt[t]=o)}var Pr={};function Fr(e,t){Pr[e]=t}function Gr(e){var t=[];e.consumeSpaces();var r=e.fetch().text;for("\\relax"===r&&(e.consume(),e.consumeSpaces(),r=e.fetch().text);"\\hline"===r||"\\hdashline"===r;)e.consume(),t.push("\\hdashline"===r),e.consumeSpaces(),r=e.fetch().text;return t}var Ur=e=>{if(!e.parser.settings.displayMode)throw new r("{"+e.envName+"} can be used only in display mode.")};function Yr(e){if(-1===e.indexOf("ed"))return-1===e.indexOf("*")}function _r(e,a,n){var{hskipBeforeAndAfter:i,addJot:o,cols:s,arraystretch:l,colSeparationType:h,autoTag:m,singleRow:c,emptySingleRow:p,maxNumCols:u,leqno:d}=a;if(e.gullet.beginGroup(),c||e.gullet.macros.set("\\cr","\\\\\\relax"),!l){var g=e.gullet.expandMacroAsText("\\arraystretch");if(null==g)l=1;else if(!(l=parseFloat(g))||l<0)throw new r("Invalid \\arraystretch: "+g)}e.gullet.beginGroup();var f=[],v=[f],b=[],y=[],x=null!=m?[]:void 0;function w(){m&&e.gullet.macros.set("\\@eqnsw","1",!0)}function k(){x&&(e.gullet.macros.get("\\df@tag")?(x.push(e.subparse([new t("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):x.push(Boolean(m)&&"1"===e.gullet.macros.get("\\@eqnsw")))}for(w(),y.push(Gr(e));;){var S=e.parseExpression(!1,c?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),S={type:"ordgroup",mode:e.mode,body:S},n&&(S={type:"styling",mode:e.mode,style:n,body:[S]}),f.push(S);var M=e.fetch().text;if("&"===M){if(u&&f.length===u){if(c||h)throw new r("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else{if("\\end"===M){k(),1===f.length&&"styling"===S.type&&0===S.body[0].body.length&&(v.length>1||!p)&&v.pop(),y.length<v.length+1&&y.push([]);break}if("\\\\"!==M)throw new r("Expected & or \\\\ or \\cr or \\end",e.nextToken);e.consume();var z=void 0;" "!==e.gullet.future().text&&(z=e.parseSizeGroup(!0)),b.push(z?z.value:null),k(),y.push(Gr(e)),f=[],v.push(f),w()}}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:o,arraystretch:l,body:v,cols:s,rowGaps:b,hskipBeforeAndAfter:i,hLinesBeforeRow:y,colSeparationType:h,tags:x,leqno:d}}function Wr(e){return"d"===e.slice(0,1)?"display":"text"}var Xr=function(e,t){var a,n,i=e.body.length,o=e.hLinesBeforeRow,l=0,h=new Array(i),m=[],c=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),p=1/t.fontMetrics().ptPerEm,u=5*p;e.colSeparationType&&"small"===e.colSeparationType&&(u=t.havingStyle(y.SCRIPT).sizeMultiplier/t.sizeMultiplier*.2778);var d="CD"===e.colSeparationType?V({number:3,unit:"ex"},t):12*p,g=3*p,f=e.arraystretch*d,v=.7*f,b=.3*f,x=0;function w(e){for(var t=0;t<e.length;++t)t>0&&(x+=.25),m.push({pos:x,isDashed:e[t]})}for(w(o[0]),a=0;a<e.body.length;++a){var k=e.body[a],S=v,M=b;l<k.length&&(l=k.length);var z=new Array(k.length);for(n=0;n<k.length;++n){var A=xt(k[n],t);M<A.depth&&(M=A.depth),S<A.height&&(S=A.height),z[n]=A}var T=e.rowGaps[a],B=0;T&&(B=V(T,t))>0&&(M<(B+=b)&&(M=B),B=0),e.addJot&&(M+=g),z.height=S,z.depth=M,x+=S,z.pos=x,x+=M+B,h[a]=z,w(o[a+1])}var C,N,q=x/2+t.fontMetrics().axisHeight,I=e.cols||[],R=[],H=[];if(e.tags&&e.tags.some(e=>e))for(a=0;a<i;++a){var O=h[a],E=O.pos-q,L=e.tags[a],D=void 0;(D=!0===L?Ze.makeSpan(["eqn-num"],[],t):!1===L?Ze.makeSpan([],[],t):Ze.makeSpan([],dt(L,t,!0),t)).depth=O.depth,D.height=O.height,H.push({type:"elem",elem:D,shift:E})}for(n=0,N=0;n<l||N<I.length;++n,++N){for(var F=I[N]||{},G=!0;"separator"===F.type;){if(G||((C=Ze.makeSpan(["arraycolsep"],[])).style.width=P(t.fontMetrics().doubleRuleSep),R.push(C)),"|"!==F.separator&&":"!==F.separator)throw new r("Invalid separator type: "+F.separator);var U="|"===F.separator?"solid":"dashed",Y=Ze.makeSpan(["vertical-separator"],[],t);Y.style.height=P(x),Y.style.borderRightWidth=P(c),Y.style.borderRightStyle=U,Y.style.margin="0 "+P(-c/2);var _=x-q;_&&(Y.style.verticalAlign=P(-_)),R.push(Y),F=I[++N]||{},G=!1}if(!(n>=l)){var W=void 0;(n>0||e.hskipBeforeAndAfter)&&0!==(W=s.deflt(F.pregap,u))&&((C=Ze.makeSpan(["arraycolsep"],[])).style.width=P(W),R.push(C));var X=[];for(a=0;a<i;++a){var j=h[a],$=j[n];if($){var Z=j.pos-q;$.depth=j.depth,$.height=j.height,X.push({type:"elem",elem:$,shift:Z})}}X=Ze.makeVList({positionType:"individualShift",children:X},t),X=Ze.makeSpan(["col-align-"+(F.align||"c")],[X]),R.push(X),(n<l-1||e.hskipBeforeAndAfter)&&0!==(W=s.deflt(F.postgap,u))&&((C=Ze.makeSpan(["arraycolsep"],[])).style.width=P(W),R.push(C))}}if(h=Ze.makeSpan(["mtable"],R),m.length>0){for(var K=Ze.makeLineSpan("hline",t,c),J=Ze.makeLineSpan("hdashline",t,c),Q=[{type:"elem",elem:h,shift:0}];m.length>0;){var ee=m.pop(),te=ee.pos-q;ee.isDashed?Q.push({type:"elem",elem:J,shift:te}):Q.push({type:"elem",elem:K,shift:te})}h=Ze.makeVList({positionType:"individualShift",children:Q},t)}if(0===H.length)return Ze.makeSpan(["mord"],[h],t);var re=Ze.makeVList({positionType:"individualShift",children:H},t);return re=Ze.makeSpan(["tag"],[re],t),Ze.makeFragment([h,re])},jr={c:"center ",l:"left ",r:"right "},$r=function(e,t){for(var r=[],a=new At.MathNode("mtd",[],["mtr-glue"]),n=new At.MathNode("mtd",[],["mml-eqn-num"]),i=0;i<e.body.length;i++){for(var o=e.body[i],s=[],l=0;l<o.length;l++)s.push(new At.MathNode("mtd",[Rt(o[l],t)]));e.tags&&e.tags[i]&&(s.unshift(a),s.push(a),e.leqno?s.unshift(n):s.push(n)),r.push(new At.MathNode("mtr",s))}var h=new At.MathNode("mtable",r),m=.5===e.arraystretch?.1:.16+e.arraystretch-1+(e.addJot?.09:0);h.setAttribute("rowspacing",P(m));var c="",p="";if(e.cols&&e.cols.length>0){var u=e.cols,d="",g=!1,f=0,v=u.length;"separator"===u[0].type&&(c+="top ",f=1),"separator"===u[u.length-1].type&&(c+="bottom ",v-=1);for(var b=f;b<v;b++)"align"===u[b].type?(p+=jr[u[b].align],g&&(d+="none "),g=!0):"separator"===u[b].type&&g&&(d+="|"===u[b].separator?"solid ":"dashed ",g=!1);h.setAttribute("columnalign",p.trim()),/[sd]/.test(d)&&h.setAttribute("columnlines",d.trim())}if("align"===e.colSeparationType){for(var y=e.cols||[],x="",w=1;w<y.length;w++)x+=w%2?"0em ":"1em ";h.setAttribute("columnspacing",x.trim())}else"alignat"===e.colSeparationType||"gather"===e.colSeparationType?h.setAttribute("columnspacing","0em"):"small"===e.colSeparationType?h.setAttribute("columnspacing","0.2778em"):"CD"===e.colSeparationType?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var k="",S=e.hLinesBeforeRow;c+=S[0].length>0?"left ":"",c+=S[S.length-1].length>0?"right ":"";for(var M=1;M<S.length-1;M++)k+=0===S[M].length?"none ":S[M][0]?"dashed ":"solid ";return/[sd]/.test(k)&&h.setAttribute("rowlines",k.trim()),""!==c&&(h=new At.MathNode("menclose",[h])).setAttribute("notation",c.trim()),e.arraystretch&&e.arraystretch<1&&(h=new At.MathNode("mstyle",[h])).setAttribute("scriptlevel","1"),h},Zr=function(e,t){-1===e.envName.indexOf("ed")&&Ur(e);var a,n=[],i=e.envName.indexOf("at")>-1?"alignat":"align",o="split"===e.envName,s=_r(e.parser,{cols:n,addJot:!0,autoTag:o?void 0:Yr(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:o?2:void 0,leqno:e.parser.settings.leqno},"display"),l=0,h={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&"ordgroup"===t[0].type){for(var m="",c=0;c<t[0].body.length;c++){m+=Gt(t[0].body[c],"textord").text}a=Number(m),l=2*a}var p=!l;s.body.forEach(function(e){for(var t=1;t<e.length;t+=2){var n=Gt(e[t],"styling");Gt(n.body[0],"ordgroup").body.unshift(h)}if(p)l<e.length&&(l=e.length);else{var i=e.length/2;if(a<i)throw new r("Too many math in a row: expected "+a+", but got "+i,e[0])}});for(var u=0;u<l;++u){var d="r",g=0;u%2==1?d="l":u>0&&p&&(g=1),n[u]={type:"align",align:d,pregap:g,postgap:0}}return s.colSeparationType=p?"align":"alignat",s};Vr({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var a=(Yt(t[0])?[t[0]]:Gt(t[0],"ordgroup").body).map(function(e){var t=Ut(e).text;if(-1!=="lcr".indexOf(t))return{type:"align",align:t};if("|"===t)return{type:"separator",separator:"|"};if(":"===t)return{type:"separator",separator:":"};throw new r("Unknown column alignment: "+t,e)}),n={cols:a,hskipBeforeAndAfter:!0,maxNumCols:a.length};return _r(e.parser,n,Wr(e.envName))},htmlBuilder:Xr,mathmlBuilder:$r}),Vr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],a="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:a}]};if("*"===e.envName.charAt(e.envName.length-1)){var i=e.parser;if(i.consumeSpaces(),"["===i.fetch().text){if(i.consume(),i.consumeSpaces(),a=i.fetch().text,-1==="lcr".indexOf(a))throw new r("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:a}]}}var o=_r(e.parser,n,Wr(e.envName)),s=Math.max(0,...o.body.map(e=>e.length));return o.cols=new Array(s).fill({type:"align",align:a}),t?{type:"leftright",mode:e.mode,body:[o],left:t[0],right:t[1],rightColor:void 0}:o},htmlBuilder:Xr,mathmlBuilder:$r}),Vr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t=_r(e.parser,{arraystretch:.5},"script");return t.colSeparationType="small",t},htmlBuilder:Xr,mathmlBuilder:$r}),Vr({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var a=(Yt(t[0])?[t[0]]:Gt(t[0],"ordgroup").body).map(function(e){var t=Ut(e).text;if(-1!=="lc".indexOf(t))return{type:"align",align:t};throw new r("Unknown column alignment: "+t,e)});if(a.length>1)throw new r("{subarray} can contain only one column");var n={cols:a,hskipBeforeAndAfter:!1,arraystretch:.5};if((n=_r(e.parser,n,"script")).body.length>0&&n.body[0].length>1)throw new r("{subarray} can contain only one column");return n},htmlBuilder:Xr,mathmlBuilder:$r}),Vr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t=_r(e.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},Wr(e.envName));return{type:"leftright",mode:e.mode,body:[t],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Xr,mathmlBuilder:$r}),Vr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Zr,htmlBuilder:Xr,mathmlBuilder:$r}),Vr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){s.contains(["gather","gather*"],e.envName)&&Ur(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Yr(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return _r(e.parser,t,"display")},htmlBuilder:Xr,mathmlBuilder:$r}),Vr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Zr,htmlBuilder:Xr,mathmlBuilder:$r}),Vr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){Ur(e);var t={autoTag:Yr(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return _r(e.parser,t,"display")},htmlBuilder:Xr,mathmlBuilder:$r}),Vr({type:"array",names:["CD"],props:{numArgs:0},handler:e=>(Ur(e),function(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var a=e.fetch().text;if("&"!==a&&"\\\\"!==a){if("\\end"===a){0===t[t.length-1].length&&t.pop();break}throw new r("Expected \\\\ or \\cr or \\end",e.nextToken)}e.consume()}for(var n=[],i=[n],o=0;o<t.length;o++){for(var s=t[o],l=er(),h=0;h<s.length;h++)if(tr(s[h])){n.push(l);var m=Ut(s[h+=1]).text,c=new Array(2);if(c[0]={type:"ordgroup",mode:"math",body:[]},c[1]={type:"ordgroup",mode:"math",body:[]},"=|.".indexOf(m)>-1);else{if(!("<>AV".indexOf(m)>-1))throw new r('Expected one of "<>AV=|." after @',s[h]);for(var p=0;p<2;p++){for(var u=!0,d=h+1;d<s.length;d++){if(rr(s[d],m)){u=!1,h=d;break}if(tr(s[d]))throw new r("Missing a "+m+" character to complete a CD arrow.",s[d]);c[p].body.push(s[d])}if(u)throw new r("Missing a "+m+" character to complete a CD arrow.",s[h])}}var g={type:"styling",body:[ar(m,c,e)],mode:"math",style:"display"};n.push(g),l=er()}else l.body.push(s[h]);o%2==0?n.push(l):n.shift(),n=[],i.push(n)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}(e.parser)),htmlBuilder:Xr,mathmlBuilder:$r}),Fr("\\nonumber","\\gdef\\@eqnsw{0}"),Fr("\\notag","\\nonumber"),it({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new r(e.funcName+" valid only within array environment")}});var Kr=Dr;it({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:a,funcName:n}=e,i=t[0];if("ordgroup"!==i.type)throw new r("Invalid environment name",i);for(var o="",s=0;s<i.body.length;++s)o+=Gt(i.body[s],"textord").text;if("\\begin"===n){if(!Kr.hasOwnProperty(o))throw new r("No such environment: "+o,i);var l=Kr[o],{args:h,optArgs:m}=a.parseArguments("\\begin{"+o+"}",l),c={mode:a.mode,envName:o,parser:a},p=l.handler(c,h,m);a.expect("\\end",!1);var u=a.nextToken,d=Gt(a.parseFunction(),"environment");if(d.name!==o)throw new r("Mismatch: \\begin{"+o+"} matched by \\end{"+d.name+"}",u);return p}return{type:"environment",mode:a.mode,name:o,nameGroup:i}}});var Jr=(e,t)=>{var r=e.font,a=t.withFont(r);return xt(e.body,a)},Qr=(e,t)=>{var r=e.font,a=t.withFont(r);return Rt(e.body,a)},ea={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};it({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:r,funcName:a}=e,n=st(t[0]),i=a;return i in ea&&(i=ea[i]),{type:"font",mode:r.mode,font:i.slice(1),body:n}},htmlBuilder:Jr,mathmlBuilder:Qr}),it({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:r}=e,a=t[0],n=s.isCharacterBox(a);return{type:"mclass",mode:r.mode,mclass:Jt(a),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:a}],isCharacterBox:n}}}),it({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:a,breakOnTokenText:n}=e,{mode:i}=r,o=r.parseExpression(!0,n);return{type:"font",mode:i,font:"math"+a.slice(1),body:{type:"ordgroup",mode:r.mode,body:o}}},htmlBuilder:Jr,mathmlBuilder:Qr});var ta=(e,t)=>{var r=t;return"display"===e?r=r.id>=y.SCRIPT.id?r.text():y.DISPLAY:"text"===e&&r.size===y.DISPLAY.size?r=y.TEXT:"script"===e?r=y.SCRIPT:"scriptscript"===e&&(r=y.SCRIPTSCRIPT),r},ra=(e,t)=>{var r,a=ta(e.size,t.style),n=a.fracNum(),i=a.fracDen();r=t.havingStyle(n);var o=xt(e.numer,r,t);if(e.continued){var s=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;o.height=o.height<s?s:o.height,o.depth=o.depth<l?l:o.depth}r=t.havingStyle(i);var h,m,c,p,u,d,g,f,v,b,x=xt(e.denom,r,t);if(e.hasBarLine?(e.barSize?(m=V(e.barSize,t),h=Ze.makeLineSpan("frac-line",t,m)):h=Ze.makeLineSpan("frac-line",t),m=h.height,c=h.height):(h=null,m=0,c=t.fontMetrics().defaultRuleThickness),a.size===y.DISPLAY.size||"display"===e.size?(p=t.fontMetrics().num1,u=m>0?3*c:7*c,d=t.fontMetrics().denom1):(m>0?(p=t.fontMetrics().num2,u=c):(p=t.fontMetrics().num3,u=3*c),d=t.fontMetrics().denom2),h){var w=t.fontMetrics().axisHeight;p-o.depth-(w+.5*m)<u&&(p+=u-(p-o.depth-(w+.5*m))),w-.5*m-(x.height-d)<u&&(d+=u-(w-.5*m-(x.height-d)));var k=-(w-.5*m);g=Ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:x,shift:d},{type:"elem",elem:h,shift:k},{type:"elem",elem:o,shift:-p}]},t)}else{var S=p-o.depth-(x.height-d);S<u&&(p+=.5*(u-S),d+=.5*(u-S)),g=Ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:x,shift:d},{type:"elem",elem:o,shift:-p}]},t)}return r=t.havingStyle(a),g.height*=r.sizeMultiplier/t.sizeMultiplier,g.depth*=r.sizeMultiplier/t.sizeMultiplier,f=a.size===y.DISPLAY.size?t.fontMetrics().delim1:a.size===y.SCRIPTSCRIPT.size?t.havingStyle(y.SCRIPT).fontMetrics().delim2:t.fontMetrics().delim2,v=null==e.leftDelim?yt(t,["mopen"]):qr.customSizedDelim(e.leftDelim,f,!0,t.havingStyle(a),e.mode,["mopen"]),b=e.continued?Ze.makeSpan([]):null==e.rightDelim?yt(t,["mclose"]):qr.customSizedDelim(e.rightDelim,f,!0,t.havingStyle(a),e.mode,["mclose"]),Ze.makeSpan(["mord"].concat(r.sizingClasses(t)),[v,Ze.makeSpan(["mfrac"],[g]),b],t)},aa=(e,t)=>{var r=new At.MathNode("mfrac",[Rt(e.numer,t),Rt(e.denom,t)]);if(e.hasBarLine){if(e.barSize){var a=V(e.barSize,t);r.setAttribute("linethickness",P(a))}}else r.setAttribute("linethickness","0px");var n=ta(e.size,t.style);if(n.size!==t.style.size){r=new At.MathNode("mstyle",[r]);var i=n.size===y.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",i),r.setAttribute("scriptlevel","0")}if(null!=e.leftDelim||null!=e.rightDelim){var o=[];if(null!=e.leftDelim){var s=new At.MathNode("mo",[new At.TextNode(e.leftDelim.replace("\\",""))]);s.setAttribute("fence","true"),o.push(s)}if(o.push(r),null!=e.rightDelim){var l=new At.MathNode("mo",[new At.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),o.push(l)}return Bt(o)}return r};it({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var r,{parser:a,funcName:n}=e,i=t[0],o=t[1],s=null,l=null,h="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":r=!0;break;case"\\\\atopfrac":r=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":r=!1,s="(",l=")";break;case"\\\\bracefrac":r=!1,s="\\{",l="\\}";break;case"\\\\brackfrac":r=!1,s="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":h="display";break;case"\\tfrac":case"\\tbinom":h="text"}return{type:"genfrac",mode:a.mode,continued:!1,numer:i,denom:o,hasBarLine:r,leftDelim:s,rightDelim:l,size:h,barSize:null}},htmlBuilder:ra,mathmlBuilder:aa}),it({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:r,funcName:a}=e,n=t[0],i=t[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:n,denom:i,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),it({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var t,{parser:r,funcName:a,token:n}=e;switch(a){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:r.mode,replaceWith:t,token:n}}});var na=["display","text","script","scriptscript"],ia=function(e){var t=null;return e.length>0&&(t="."===(t=e)?null:t),t};it({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var r,{parser:a}=e,n=t[4],i=t[5],o=st(t[0]),s="atom"===o.type&&"open"===o.family?ia(o.text):null,l=st(t[1]),h="atom"===l.type&&"close"===l.family?ia(l.text):null,m=Gt(t[2],"size"),c=null;r=!!m.isBlank||(c=m.value).number>0;var p="auto",u=t[3];if("ordgroup"===u.type){if(u.body.length>0){var d=Gt(u.body[0],"textord");p=na[Number(d.text)]}}else u=Gt(u,"textord"),p=na[Number(u.text)];return{type:"genfrac",mode:a.mode,numer:n,denom:i,continued:!1,hasBarLine:r,barSize:c,leftDelim:s,rightDelim:h,size:p}},htmlBuilder:ra,mathmlBuilder:aa}),it({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:r,funcName:a,token:n}=e;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:Gt(t[0],"size").value,token:n}}}),it({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:r,funcName:a}=e,n=t[0],i=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e}(Gt(t[1],"infix").size),o=t[2],s=i.number>0;return{type:"genfrac",mode:r.mode,numer:n,denom:o,continued:!1,hasBarLine:s,barSize:i,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:ra,mathmlBuilder:aa});var oa=(e,t)=>{var r,a,n=t.style;"supsub"===e.type?(r=e.sup?xt(e.sup,t.havingStyle(n.sup()),t):xt(e.sub,t.havingStyle(n.sub()),t),a=Gt(e.base,"horizBrace")):a=Gt(e,"horizBrace");var i,o=xt(a.base,t.havingBaseStyle(y.DISPLAY)),s=Ft(a,t);if(a.isOver?(i=Ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:s}]},t)).children[0].children[0].children[1].classes.push("svg-align"):(i=Ze.makeVList({positionType:"bottom",positionData:o.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:o}]},t)).children[0].children[0].children[0].classes.push("svg-align"),r){var l=Ze.makeSpan(["mord",a.isOver?"mover":"munder"],[i],t);i=a.isOver?Ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},t):Ze.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return Ze.makeSpan(["mord",a.isOver?"mover":"munder"],[i],t)};it({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:a}=e;return{type:"horizBrace",mode:r.mode,label:a,isOver:/^\\over/.test(a),base:t[0]}},htmlBuilder:oa,mathmlBuilder:(e,t)=>{var r=Pt(e.label);return new At.MathNode(e.isOver?"mover":"munder",[Rt(e.base,t),r])}}),it({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,a=t[1],n=Gt(t[0],"url").url;return r.settings.isTrusted({command:"\\href",url:n})?{type:"href",mode:r.mode,href:n,body:lt(a)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var r=dt(e.body,t,!1);return Ze.makeAnchor(e.href,[],r,t)},mathmlBuilder:(e,t)=>{var r=It(e.body,t);return r instanceof Mt||(r=new Mt("mrow",[r])),r.setAttribute("href",e.href),r}}),it({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,a=Gt(t[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:a}))return r.formatUnsupportedCmd("\\url");for(var n=[],i=0;i<a.length;i++){var o=a[i];"~"===o&&(o="\\textasciitilde"),n.push({type:"textord",mode:"text",text:o})}var s={type:"text",mode:r.mode,font:"\\texttt",body:n};return{type:"href",mode:r.mode,href:a,body:lt(s)}}}),it({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:r}=e;return{type:"hbox",mode:r.mode,body:lt(t[0])}},htmlBuilder(e,t){var r=dt(e.body,t,!1);return Ze.makeFragment(r)},mathmlBuilder:(e,t)=>new At.MathNode("mrow",qt(e.body,t))}),it({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var a,{parser:n,funcName:i,token:o}=e,s=Gt(t[0],"raw").string,l=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var h={};switch(i){case"\\htmlClass":h.class=s,a={command:"\\htmlClass",class:s};break;case"\\htmlId":h.id=s,a={command:"\\htmlId",id:s};break;case"\\htmlStyle":h.style=s,a={command:"\\htmlStyle",style:s};break;case"\\htmlData":for(var m=s.split(","),c=0;c<m.length;c++){var p=m[c].split("=");if(2!==p.length)throw new r("Error parsing key-value for \\htmlData");h["data-"+p[0].trim()]=p[1].trim()}a={command:"\\htmlData",attributes:h};break;default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(a)?{type:"html",mode:n.mode,attributes:h,body:lt(l)}:n.formatUnsupportedCmd(i)},htmlBuilder:(e,t)=>{var r=dt(e.body,t,!1),a=["enclosing"];e.attributes.class&&a.push(...e.attributes.class.trim().split(/\s+/));var n=Ze.makeSpan(a,r,t);for(var i in e.attributes)"class"!==i&&e.attributes.hasOwnProperty(i)&&n.setAttribute(i,e.attributes[i]);return n},mathmlBuilder:(e,t)=>It(e.body,t)}),it({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e;return{type:"htmlmathml",mode:r.mode,html:lt(t[0]),mathml:lt(t[1])}},htmlBuilder:(e,t)=>{var r=dt(e.html,t,!1);return Ze.makeFragment(r)},mathmlBuilder:(e,t)=>It(e.mathml,t)});var sa=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new r("Invalid size: '"+e+"' in \\includegraphics");var a={number:+(t[1]+t[2]),unit:t[3]};if(!D(a))throw new r("Invalid unit: '"+a.unit+"' in \\includegraphics.");return a};it({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,a)=>{var{parser:n}=e,i={number:0,unit:"em"},o={number:.9,unit:"em"},s={number:0,unit:"em"},l="";if(a[0])for(var h=Gt(a[0],"raw").string.split(","),m=0;m<h.length;m++){var c=h[m].split("=");if(2===c.length){var p=c[1].trim();switch(c[0].trim()){case"alt":l=p;break;case"width":i=sa(p);break;case"height":o=sa(p);break;case"totalheight":s=sa(p);break;default:throw new r("Invalid key: '"+c[0]+"' in \\includegraphics.")}}}var u=Gt(t[0],"url").url;return""===l&&(l=(l=(l=u).replace(/^.*[\\/]/,"")).substring(0,l.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:u})?{type:"includegraphics",mode:n.mode,alt:l,width:i,height:o,totalheight:s,src:u}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var r=V(e.height,t),a=0;e.totalheight.number>0&&(a=V(e.totalheight,t)-r);var n=0;e.width.number>0&&(n=V(e.width,t));var i={height:P(r+a)};n>0&&(i.width=P(n)),a>0&&(i.verticalAlign=P(-a));var o=new j(e.src,e.alt,i);return o.height=r,o.depth=a,o},mathmlBuilder:(e,t)=>{var r=new At.MathNode("mglyph",[]);r.setAttribute("alt",e.alt);var a=V(e.height,t),n=0;if(e.totalheight.number>0&&(n=V(e.totalheight,t)-a,r.setAttribute("valign",P(-n))),r.setAttribute("height",P(a+n)),e.width.number>0){var i=V(e.width,t);r.setAttribute("width",P(i))}return r.setAttribute("src",e.src),r}}),it({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:a}=e,n=Gt(t[0],"size");if(r.settings.strict){var i="m"===a[1],o="mu"===n.value.unit;i?(o||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+a+" supports only mu units, not "+n.value.unit+" units"),"math"!==r.mode&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+a+" works only in math mode")):o&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+a+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:n.value}},htmlBuilder:(e,t)=>Ze.makeGlue(e.dimension,t),mathmlBuilder(e,t){var r=V(e.dimension,t);return new At.SpaceNode(r)}}),it({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:a}=e,n=t[0];return{type:"lap",mode:r.mode,alignment:a.slice(5),body:n}},htmlBuilder:(e,t)=>{var r;"clap"===e.alignment?(r=Ze.makeSpan([],[xt(e.body,t)]),r=Ze.makeSpan(["inner"],[r],t)):r=Ze.makeSpan(["inner"],[xt(e.body,t)]);var a=Ze.makeSpan(["fix"],[]),n=Ze.makeSpan([e.alignment],[r,a],t),i=Ze.makeSpan(["strut"]);return i.style.height=P(n.height+n.depth),n.depth&&(i.style.verticalAlign=P(-n.depth)),n.children.unshift(i),n=Ze.makeSpan(["thinbox"],[n],t),Ze.makeSpan(["mord","vbox"],[n],t)},mathmlBuilder:(e,t)=>{var r=new At.MathNode("mpadded",[Rt(e.body,t)]);if("rlap"!==e.alignment){var a="llap"===e.alignment?"-1":"-0.5";r.setAttribute("lspace",a+"width")}return r.setAttribute("width","0px"),r}}),it({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:r,parser:a}=e,n=a.mode;a.switchMode("math");var i="\\("===r?"\\)":"$",o=a.parseExpression(!1,i);return a.expect(i),a.switchMode(n),{type:"styling",mode:a.mode,style:"text",body:o}}}),it({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new r("Mismatched "+e.funcName)}});var la=(e,t)=>{switch(t.style.size){case y.DISPLAY.size:return e.display;case y.TEXT.size:return e.text;case y.SCRIPT.size:return e.script;case y.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};it({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:r}=e;return{type:"mathchoice",mode:r.mode,display:lt(t[0]),text:lt(t[1]),script:lt(t[2]),scriptscript:lt(t[3])}},htmlBuilder:(e,t)=>{var r=la(e,t),a=dt(r,t,!1);return Ze.makeFragment(a)},mathmlBuilder:(e,t)=>{var r=la(e,t);return It(r,t)}});var ha=(e,t,r,a,n,i,o)=>{e=Ze.makeSpan([],[e]);var l,h,m,c=r&&s.isCharacterBox(r);if(t){var p=xt(t,a.havingStyle(n.sup()),a);h={elem:p,kern:Math.max(a.fontMetrics().bigOpSpacing1,a.fontMetrics().bigOpSpacing3-p.depth)}}if(r){var u=xt(r,a.havingStyle(n.sub()),a);l={elem:u,kern:Math.max(a.fontMetrics().bigOpSpacing2,a.fontMetrics().bigOpSpacing4-u.height)}}if(h&&l){var d=a.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+e.depth+o;m=Ze.makeVList({positionType:"bottom",positionData:d,children:[{type:"kern",size:a.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:P(-i)},{type:"kern",size:l.kern},{type:"elem",elem:e},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:P(i)},{type:"kern",size:a.fontMetrics().bigOpSpacing5}]},a)}else if(l){var g=e.height-o;m=Ze.makeVList({positionType:"top",positionData:g,children:[{type:"kern",size:a.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:P(-i)},{type:"kern",size:l.kern},{type:"elem",elem:e}]},a)}else{if(!h)return e;var f=e.depth+o;m=Ze.makeVList({positionType:"bottom",positionData:f,children:[{type:"elem",elem:e},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:P(i)},{type:"kern",size:a.fontMetrics().bigOpSpacing5}]},a)}var v=[m];if(l&&0!==i&&!c){var b=Ze.makeSpan(["mspace"],[],a);b.style.marginRight=P(i),v.unshift(b)}return Ze.makeSpan(["mop","op-limits"],v,a)},ma=["\\smallint"],ca=(e,t)=>{var r,a,n,i=!1;"supsub"===e.type?(r=e.sup,a=e.sub,n=Gt(e.base,"op"),i=!0):n=Gt(e,"op");var o,l=t.style,h=!1;if(l.size===y.DISPLAY.size&&n.symbol&&!s.contains(ma,n.name)&&(h=!0),n.symbol){var m=h?"Size2-Regular":"Size1-Regular",c="";if("\\oiint"!==n.name&&"\\oiiint"!==n.name||(c=n.name.slice(1),n.name="oiint"===c?"\\iint":"\\iiint"),o=Ze.makeSymbol(n.name,m,"math",t,["mop","op-symbol",h?"large-op":"small-op"]),c.length>0){var p=o.italic,u=Ze.staticSvg(c+"Size"+(h?"2":"1"),t);o=Ze.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:0},{type:"elem",elem:u,shift:h?.08:0}]},t),n.name="\\"+c,o.classes.unshift("mop"),o.italic=p}}else if(n.body){var d=dt(n.body,t,!0);1===d.length&&d[0]instanceof Z?(o=d[0]).classes[0]="mop":o=Ze.makeSpan(["mop"],d,t)}else{for(var g=[],f=1;f<n.name.length;f++)g.push(Ze.mathsym(n.name[f],n.mode,t));o=Ze.makeSpan(["mop"],g,t)}var v=0,b=0;return(o instanceof Z||"\\oiint"===n.name||"\\oiiint"===n.name)&&!n.suppressBaseShift&&(v=(o.height-o.depth)/2-t.fontMetrics().axisHeight,b=o.italic),i?ha(o,r,a,t,l,b,v):(v&&(o.style.position="relative",o.style.top=P(v)),o)},pa=(e,t)=>{var r;if(e.symbol)r=new Mt("mo",[Tt(e.name,e.mode)]),s.contains(ma,e.name)&&r.setAttribute("largeop","false");else if(e.body)r=new Mt("mo",qt(e.body,t));else{r=new Mt("mi",[new zt(e.name.slice(1))]);var a=new Mt("mo",[Tt("⁡","text")]);r=e.parentIsSupSub?new Mt("mrow",[r,a]):St([r,a])}return r},ua={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};it({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(e,t)=>{var{parser:r,funcName:a}=e,n=a;return 1===n.length&&(n=ua[n]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:ca,mathmlBuilder:pa}),it({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:r}=e,a=t[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:lt(a)}},htmlBuilder:ca,mathmlBuilder:pa});var da={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};it({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:ca,mathmlBuilder:pa}),it({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:ca,mathmlBuilder:pa}),it({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e,a=r;return 1===a.length&&(a=da[a]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:a}},htmlBuilder:ca,mathmlBuilder:pa});var ga=(e,t)=>{var r,a,n,i,o=!1;if("supsub"===e.type?(r=e.sup,a=e.sub,n=Gt(e.base,"operatorname"),o=!0):n=Gt(e,"operatorname"),n.body.length>0){for(var s=n.body.map(e=>{var t=e.text;return"string"==typeof t?{type:"textord",mode:e.mode,text:t}:e}),l=dt(s,t.withFont("mathrm"),!0),h=0;h<l.length;h++){var m=l[h];m instanceof Z&&(m.text=m.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}i=Ze.makeSpan(["mop"],l,t)}else i=Ze.makeSpan(["mop"],[],t);return o?ha(i,r,a,t,t.style,0,0):i};function fa(e,t,r){for(var a=dt(e,t,!1),n=t.sizeMultiplier/r.sizeMultiplier,i=0;i<a.length;i++){var o=a[i].classes.indexOf("sizing");o<0?Array.prototype.push.apply(a[i].classes,t.sizingClasses(r)):a[i].classes[o+1]==="reset-size"+t.size&&(a[i].classes[o+1]="reset-size"+r.size),a[i].height*=n,a[i].depth*=n}return Ze.makeFragment(a)}it({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:r,funcName:a}=e,n=t[0];return{type:"operatorname",mode:r.mode,body:lt(n),alwaysHandleSupSub:"\\operatornamewithlimits"===a,limits:!1,parentIsSupSub:!1}},htmlBuilder:ga,mathmlBuilder:(e,t)=>{for(var r=qt(e.body,t.withFont("mathrm")),a=!0,n=0;n<r.length;n++){var i=r[n];if(i instanceof At.SpaceNode);else if(i instanceof At.MathNode)switch(i.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var o=i.children[0];1===i.children.length&&o instanceof At.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):a=!1;break;default:a=!1}else a=!1}if(a){var s=r.map(e=>e.toText()).join("");r=[new At.TextNode(s)]}var l=new At.MathNode("mi",r);l.setAttribute("mathvariant","normal");var h=new At.MathNode("mo",[Tt("⁡","text")]);return e.parentIsSupSub?new At.MathNode("mrow",[l,h]):At.newDocumentFragment([l,h])}}),Fr("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),ot({type:"ordgroup",htmlBuilder:(e,t)=>e.semisimple?Ze.makeFragment(dt(e.body,t,!1)):Ze.makeSpan(["mord"],dt(e.body,t,!0),t),mathmlBuilder:(e,t)=>It(e.body,t,!0)}),it({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:r}=e,a=t[0];return{type:"overline",mode:r.mode,body:a}},htmlBuilder(e,t){var r=xt(e.body,t.havingCrampedStyle()),a=Ze.makeLineSpan("overline-line",t),n=t.fontMetrics().defaultRuleThickness,i=Ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*n},{type:"elem",elem:a},{type:"kern",size:n}]},t);return Ze.makeSpan(["mord","overline"],[i],t)},mathmlBuilder(e,t){var r=new At.MathNode("mo",[new At.TextNode("‾")]);r.setAttribute("stretchy","true");var a=new At.MathNode("mover",[Rt(e.body,t),r]);return a.setAttribute("accent","true"),a}}),it({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,a=t[0];return{type:"phantom",mode:r.mode,body:lt(a)}},htmlBuilder:(e,t)=>{var r=dt(e.body,t.withPhantom(),!1);return Ze.makeFragment(r)},mathmlBuilder:(e,t)=>{var r=qt(e.body,t);return new At.MathNode("mphantom",r)}}),it({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,a=t[0];return{type:"hphantom",mode:r.mode,body:a}},htmlBuilder:(e,t)=>{var r=Ze.makeSpan([],[xt(e.body,t.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var a=0;a<r.children.length;a++)r.children[a].height=0,r.children[a].depth=0;return r=Ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),Ze.makeSpan(["mord"],[r],t)},mathmlBuilder:(e,t)=>{var r=qt(lt(e.body),t),a=new At.MathNode("mphantom",r),n=new At.MathNode("mpadded",[a]);return n.setAttribute("height","0px"),n.setAttribute("depth","0px"),n}}),it({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,a=t[0];return{type:"vphantom",mode:r.mode,body:a}},htmlBuilder:(e,t)=>{var r=Ze.makeSpan(["inner"],[xt(e.body,t.withPhantom())]),a=Ze.makeSpan(["fix"],[]);return Ze.makeSpan(["mord","rlap"],[r,a],t)},mathmlBuilder:(e,t)=>{var r=qt(lt(e.body),t),a=new At.MathNode("mphantom",r),n=new At.MathNode("mpadded",[a]);return n.setAttribute("width","0px"),n}}),it({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e,a=Gt(t[0],"size").value,n=t[1];return{type:"raisebox",mode:r.mode,dy:a,body:n}},htmlBuilder(e,t){var r=xt(e.body,t),a=V(e.dy,t);return Ze.makeVList({positionType:"shift",positionData:-a,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){var r=new At.MathNode("mpadded",[Rt(e.body,t)]),a=e.dy.number+e.dy.unit;return r.setAttribute("voffset",a),r}}),it({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}}),it({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,r){var{parser:a}=e,n=r[0],i=Gt(t[0],"size"),o=Gt(t[1],"size");return{type:"rule",mode:a.mode,shift:n&&Gt(n,"size").value,width:i.value,height:o.value}},htmlBuilder(e,t){var r=Ze.makeSpan(["mord","rule"],[],t),a=V(e.width,t),n=V(e.height,t),i=e.shift?V(e.shift,t):0;return r.style.borderRightWidth=P(a),r.style.borderTopWidth=P(n),r.style.bottom=P(i),r.width=a,r.height=n+i,r.depth=-i,r.maxFontSize=1.125*n*t.sizeMultiplier,r},mathmlBuilder(e,t){var r=V(e.width,t),a=V(e.height,t),n=e.shift?V(e.shift,t):0,i=t.color&&t.getColor()||"black",o=new At.MathNode("mspace");o.setAttribute("mathbackground",i),o.setAttribute("width",P(r)),o.setAttribute("height",P(a));var s=new At.MathNode("mpadded",[o]);return n>=0?s.setAttribute("height",P(n)):(s.setAttribute("height",P(n)),s.setAttribute("depth",P(-n))),s.setAttribute("voffset",P(n)),s}});var va=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];it({type:"sizing",names:va,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:r,funcName:a,parser:n}=e,i=n.parseExpression(!1,r);return{type:"sizing",mode:n.mode,size:va.indexOf(a)+1,body:i}},htmlBuilder:(e,t)=>{var r=t.havingSize(e.size);return fa(e.body,r,t)},mathmlBuilder:(e,t)=>{var r=t.havingSize(e.size),a=qt(e.body,r),n=new At.MathNode("mstyle",a);return n.setAttribute("mathsize",P(r.sizeMultiplier)),n}}),it({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,r)=>{var{parser:a}=e,n=!1,i=!1,o=r[0]&&Gt(r[0],"ordgroup");if(o)for(var s="",l=0;l<o.body.length;++l){if("t"===(s=o.body[l].text))n=!0;else{if("b"!==s){n=!1,i=!1;break}i=!0}}else n=!0,i=!0;var h=t[0];return{type:"smash",mode:a.mode,body:h,smashHeight:n,smashDepth:i}},htmlBuilder:(e,t)=>{var r=Ze.makeSpan([],[xt(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return r;if(e.smashHeight&&(r.height=0,r.children))for(var a=0;a<r.children.length;a++)r.children[a].height=0;if(e.smashDepth&&(r.depth=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].depth=0;var i=Ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t);return Ze.makeSpan(["mord"],[i],t)},mathmlBuilder:(e,t)=>{var r=new At.MathNode("mpadded",[Rt(e.body,t)]);return e.smashHeight&&r.setAttribute("height","0px"),e.smashDepth&&r.setAttribute("depth","0px"),r}}),it({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:a}=e,n=r[0],i=t[0];return{type:"sqrt",mode:a.mode,body:i,index:n}},htmlBuilder(e,t){var r=xt(e.body,t.havingCrampedStyle());0===r.height&&(r.height=t.fontMetrics().xHeight),r=Ze.wrapFragment(r,t);var a=t.fontMetrics().defaultRuleThickness,n=a;t.style.id<y.TEXT.id&&(n=t.fontMetrics().xHeight);var i=a+n/4,o=r.height+r.depth+i+a,{span:s,ruleWidth:l,advanceWidth:h}=qr.sqrtImage(o,t),m=s.height-l;m>r.height+r.depth+i&&(i=(i+m-r.height-r.depth)/2);var c=s.height-r.height-i-l;r.style.paddingLeft=P(h);var p=Ze.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+c)},{type:"elem",elem:s},{type:"kern",size:l}]},t);if(e.index){var u=t.havingStyle(y.SCRIPTSCRIPT),d=xt(e.index,u,t),g=.6*(p.height-p.depth),f=Ze.makeVList({positionType:"shift",positionData:-g,children:[{type:"elem",elem:d}]},t),v=Ze.makeSpan(["root"],[f]);return Ze.makeSpan(["mord","sqrt"],[v,p],t)}return Ze.makeSpan(["mord","sqrt"],[p],t)},mathmlBuilder(e,t){var{body:r,index:a}=e;return a?new At.MathNode("mroot",[Rt(r,t),Rt(a,t)]):new At.MathNode("msqrt",[Rt(r,t)])}});var ba={display:y.DISPLAY,text:y.TEXT,script:y.SCRIPT,scriptscript:y.SCRIPTSCRIPT};it({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:r,funcName:a,parser:n}=e,i=n.parseExpression(!0,r),o=a.slice(1,a.length-5);return{type:"styling",mode:n.mode,style:o,body:i}},htmlBuilder(e,t){var r=ba[e.style],a=t.havingStyle(r).withFont("");return fa(e.body,a,t)},mathmlBuilder(e,t){var r=ba[e.style],a=t.havingStyle(r),n=qt(e.body,a),i=new At.MathNode("mstyle",n),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.style];return i.setAttribute("scriptlevel",o[0]),i.setAttribute("displaystyle",o[1]),i}});ot({type:"supsub",htmlBuilder(e,t){var r=function(e,t){var r=e.base;return r?"op"===r.type?r.limits&&(t.style.size===y.DISPLAY.size||r.alwaysHandleSupSub)?ca:null:"operatorname"===r.type?r.alwaysHandleSupSub&&(t.style.size===y.DISPLAY.size||r.limits)?ga:null:"accent"===r.type?s.isCharacterBox(r.base)?_t:null:"horizBrace"===r.type&&!e.sub===r.isOver?oa:null:null}(e,t);if(r)return r(e,t);var a,n,i,{base:o,sup:l,sub:h}=e,m=xt(o,t),c=t.fontMetrics(),p=0,u=0,d=o&&s.isCharacterBox(o);if(l){var g=t.havingStyle(t.style.sup());a=xt(l,g,t),d||(p=m.height-g.fontMetrics().supDrop*g.sizeMultiplier/t.sizeMultiplier)}if(h){var f=t.havingStyle(t.style.sub());n=xt(h,f,t),d||(u=m.depth+f.fontMetrics().subDrop*f.sizeMultiplier/t.sizeMultiplier)}i=t.style===y.DISPLAY?c.sup1:t.style.cramped?c.sup3:c.sup2;var v,b=t.sizeMultiplier,x=P(.5/c.ptPerEm/b),w=null;if(n){var k=e.base&&"op"===e.base.type&&e.base.name&&("\\oiint"===e.base.name||"\\oiiint"===e.base.name);(m instanceof Z||k)&&(w=P(-m.italic))}if(a&&n){p=Math.max(p,i,a.depth+.25*c.xHeight),u=Math.max(u,c.sub2);var S=4*c.defaultRuleThickness;if(p-a.depth-(n.height-u)<S){u=S-(p-a.depth)+n.height;var M=.8*c.xHeight-(p-a.depth);M>0&&(p+=M,u-=M)}var z=[{type:"elem",elem:n,shift:u,marginRight:x,marginLeft:w},{type:"elem",elem:a,shift:-p,marginRight:x}];v=Ze.makeVList({positionType:"individualShift",children:z},t)}else if(n){u=Math.max(u,c.sub1,n.height-.8*c.xHeight);var A=[{type:"elem",elem:n,marginLeft:w,marginRight:x}];v=Ze.makeVList({positionType:"shift",positionData:u,children:A},t)}else{if(!a)throw new Error("supsub must have either sup or sub.");p=Math.max(p,i,a.depth+.25*c.xHeight),v=Ze.makeVList({positionType:"shift",positionData:-p,children:[{type:"elem",elem:a,marginRight:x}]},t)}var T=bt(m,"right")||"mord";return Ze.makeSpan([T],[m,Ze.makeSpan(["msupsub"],[v])],t)},mathmlBuilder(e,t){var r,a=!1;e.base&&"horizBrace"===e.base.type&&!!e.sup===e.base.isOver&&(a=!0,r=e.base.isOver),!e.base||"op"!==e.base.type&&"operatorname"!==e.base.type||(e.base.parentIsSupSub=!0);var n,i=[Rt(e.base,t)];if(e.sub&&i.push(Rt(e.sub,t)),e.sup&&i.push(Rt(e.sup,t)),a)n=r?"mover":"munder";else if(e.sub)if(e.sup){var o=e.base;n=o&&"op"===o.type&&o.limits&&t.style===y.DISPLAY||o&&"operatorname"===o.type&&o.alwaysHandleSupSub&&(t.style===y.DISPLAY||o.limits)?"munderover":"msubsup"}else{var s=e.base;n=s&&"op"===s.type&&s.limits&&(t.style===y.DISPLAY||s.alwaysHandleSupSub)||s&&"operatorname"===s.type&&s.alwaysHandleSupSub&&(s.limits||t.style===y.DISPLAY)?"munder":"msub"}else{var l=e.base;n=l&&"op"===l.type&&l.limits&&(t.style===y.DISPLAY||l.alwaysHandleSupSub)||l&&"operatorname"===l.type&&l.alwaysHandleSupSub&&(l.limits||t.style===y.DISPLAY)?"mover":"msup"}return new At.MathNode(n,i)}}),ot({type:"atom",htmlBuilder:(e,t)=>Ze.mathsym(e.text,e.mode,t,["m"+e.family]),mathmlBuilder(e,t){var r=new At.MathNode("mo",[Tt(e.text,e.mode)]);if("bin"===e.family){var a=Ct(e,t);"bold-italic"===a&&r.setAttribute("mathvariant",a)}else"punct"===e.family?r.setAttribute("separator","true"):"open"!==e.family&&"close"!==e.family||r.setAttribute("stretchy","false");return r}});var ya={mi:"italic",mn:"normal",mtext:"normal"};ot({type:"mathord",htmlBuilder:(e,t)=>Ze.makeOrd(e,t,"mathord"),mathmlBuilder(e,t){var r=new At.MathNode("mi",[Tt(e.text,e.mode,t)]),a=Ct(e,t)||"italic";return a!==ya[r.type]&&r.setAttribute("mathvariant",a),r}}),ot({type:"textord",htmlBuilder:(e,t)=>Ze.makeOrd(e,t,"textord"),mathmlBuilder(e,t){var r,a=Tt(e.text,e.mode,t),n=Ct(e,t)||"normal";return r="text"===e.mode?new At.MathNode("mtext",[a]):/[0-9]/.test(e.text)?new At.MathNode("mn",[a]):"\\prime"===e.text?new At.MathNode("mo",[a]):new At.MathNode("mi",[a]),n!==ya[r.type]&&r.setAttribute("mathvariant",n),r}});var xa={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},wa={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};ot({type:"spacing",htmlBuilder(e,t){if(wa.hasOwnProperty(e.text)){var a=wa[e.text].className||"";if("text"===e.mode){var n=Ze.makeOrd(e,t,"textord");return n.classes.push(a),n}return Ze.makeSpan(["mspace",a],[Ze.mathsym(e.text,e.mode,t)],t)}if(xa.hasOwnProperty(e.text))return Ze.makeSpan(["mspace",xa[e.text]],[],t);throw new r('Unknown type of space "'+e.text+'"')},mathmlBuilder(e,t){if(!wa.hasOwnProperty(e.text)){if(xa.hasOwnProperty(e.text))return new At.MathNode("mspace");throw new r('Unknown type of space "'+e.text+'"')}return new At.MathNode("mtext",[new At.TextNode(" ")])}});var ka=()=>{var e=new At.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};ot({type:"tag",mathmlBuilder(e,t){var r=new At.MathNode("mtable",[new At.MathNode("mtr",[ka(),new At.MathNode("mtd",[It(e.body,t)]),ka(),new At.MathNode("mtd",[It(e.tag,t)])])]);return r.setAttribute("width","100%"),r}});var Sa={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Ma={"\\textbf":"textbf","\\textmd":"textmd"},za={"\\textit":"textit","\\textup":"textup"},Aa=(e,t)=>{var r=e.font;return r?Sa[r]?t.withTextFontFamily(Sa[r]):Ma[r]?t.withTextFontWeight(Ma[r]):"\\emph"===r?"textit"===t.fontShape?t.withTextFontShape("textup"):t.withTextFontShape("textit"):t.withTextFontShape(za[r]):t};it({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:a}=e,n=t[0];return{type:"text",mode:r.mode,body:lt(n),font:a}},htmlBuilder(e,t){var r=Aa(e,t),a=dt(e.body,r,!0);return Ze.makeSpan(["mord","text"],a,r)},mathmlBuilder(e,t){var r=Aa(e,t);return It(e.body,r)}}),it({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"underline",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=xt(e.body,t),a=Ze.makeLineSpan("underline-line",t),n=t.fontMetrics().defaultRuleThickness,i=Ze.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:n},{type:"elem",elem:a},{type:"kern",size:3*n},{type:"elem",elem:r}]},t);return Ze.makeSpan(["mord","underline"],[i],t)},mathmlBuilder(e,t){var r=new At.MathNode("mo",[new At.TextNode("‾")]);r.setAttribute("stretchy","true");var a=new At.MathNode("munder",[Rt(e.body,t),r]);return a.setAttribute("accentunder","true"),a}}),it({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"vcenter",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=xt(e.body,t),a=t.fontMetrics().axisHeight,n=.5*(r.height-a-(r.depth+a));return Ze.makeVList({positionType:"shift",positionData:n,children:[{type:"elem",elem:r}]},t)},mathmlBuilder:(e,t)=>new At.MathNode("mpadded",[Rt(e.body,t)],["vcenter"])}),it({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,a){throw new r("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var r=Ta(e),a=[],n=t.havingStyle(t.style.text()),i=0;i<r.length;i++){var o=r[i];"~"===o&&(o="\\textasciitilde"),a.push(Ze.makeSymbol(o,"Typewriter-Regular",e.mode,n,["mord","texttt"]))}return Ze.makeSpan(["mord","text"].concat(n.sizingClasses(t)),Ze.tryCombineChars(a),n)},mathmlBuilder(e,t){var r=new At.TextNode(Ta(e)),a=new At.MathNode("mtext",[r]);return a.setAttribute("mathvariant","monospace"),a}});var Ta=e=>e.body.replace(/ /g,e.star?"␣":" "),Ba=rt,Ca="[ \r\n\t]",Na="(\\\\[a-zA-Z@]+)"+Ca+"*",qa="[̀-ͯ]",Ia=new RegExp(qa+"+$"),Ra="("+Ca+"+)|\\\\(\n|[ \r\t]+\n?)[ \r\t]*|([!-\\[\\]-‧‪-퟿豈-￿]"+qa+"*|[\ud800-\udbff][\udc00-\udfff]"+qa+"*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|"+Na+"|\\\\[^\ud800-\udfff])";class Ha{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(Ra,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var a=this.input,n=this.tokenRegex.lastIndex;if(n===a.length)return new t("EOF",new e(this,n,n));var i=this.tokenRegex.exec(a);if(null===i||i.index!==n)throw new r("Unexpected character: '"+a[n]+"'",new t(a[n],new e(this,n,n+1)));var o=i[6]||i[3]||(i[2]?"\\ ":" ");if(14===this.catcodes[o]){var s=a.indexOf("\n",this.tokenRegex.lastIndex);return-1===s?(this.tokenRegex.lastIndex=a.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new t(o,new e(this,n,this.tokenRegex.lastIndex))}}class Oa{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(0===this.undefStack.length)throw new r("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(null==e[t]?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,r){if(void 0===r&&(r=!1),r){for(var a=0;a<this.undefStack.length;a++)delete this.undefStack[a][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var n=this.undefStack[this.undefStack.length-1];n&&!n.hasOwnProperty(e)&&(n[e]=this.current[e])}null==t?delete this.current[e]:this.current[e]=t}}var Ea=Pr;Fr("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}}),Fr("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}}),Fr("\\@firstoftwo",function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}}),Fr("\\@secondoftwo",function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}}),Fr("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var r=e.future();return 1===t[0].length&&t[0][0].text===r.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}}),Fr("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),Fr("\\TextOrMath",function(e){var t=e.consumeArgs(2);return"text"===e.mode?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var La={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Fr("\\char",function(e){var t,a=e.popToken(),n="";if("'"===a.text)t=8,a=e.popToken();else if('"'===a.text)t=16,a=e.popToken();else if("`"===a.text)if("\\"===(a=e.popToken()).text[0])n=a.text.charCodeAt(1);else{if("EOF"===a.text)throw new r("\\char` missing argument");n=a.text.charCodeAt(0)}else t=10;if(t){if(null==(n=La[a.text])||n>=t)throw new r("Invalid base-"+t+" digit "+a.text);for(var i;null!=(i=La[e.future().text])&&i<t;)n*=t,n+=i,e.popToken()}return"\\@char{"+n+"}"});var Da=(e,t,a,n)=>{var i=e.consumeArg().tokens;if(1!==i.length)throw new r("\\newcommand's first argument must be a macro name");var o=i[0].text,s=e.isDefined(o);if(s&&!t)throw new r("\\newcommand{"+o+"} attempting to redefine "+o+"; use \\renewcommand");if(!s&&!a)throw new r("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var l=0;if(1===(i=e.consumeArg().tokens).length&&"["===i[0].text){for(var h="",m=e.expandNextToken();"]"!==m.text&&"EOF"!==m.text;)h+=m.text,m=e.expandNextToken();if(!h.match(/^\s*[0-9]+\s*$/))throw new r("Invalid number of arguments: "+h);l=parseInt(h),i=e.consumeArg().tokens}return s&&n||e.macros.set(o,{tokens:i,numArgs:l}),""};Fr("\\newcommand",e=>Da(e,!1,!0,!1)),Fr("\\renewcommand",e=>Da(e,!0,!1,!1)),Fr("\\providecommand",e=>Da(e,!0,!0,!0)),Fr("\\message",e=>{e.consumeArgs(1)[0];return""}),Fr("\\errmessage",e=>{e.consumeArgs(1)[0];return""}),Fr("\\show",e=>{e.popToken().text;return""}),Fr("\\bgroup","{"),Fr("\\egroup","}"),Fr("~","\\nobreakspace"),Fr("\\lq","`"),Fr("\\rq","'"),Fr("\\aa","\\r a"),Fr("\\AA","\\r A"),Fr("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),Fr("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),Fr("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),Fr("ℬ","\\mathscr{B}"),Fr("ℰ","\\mathscr{E}"),Fr("ℱ","\\mathscr{F}"),Fr("ℋ","\\mathscr{H}"),Fr("ℐ","\\mathscr{I}"),Fr("ℒ","\\mathscr{L}"),Fr("ℳ","\\mathscr{M}"),Fr("ℛ","\\mathscr{R}"),Fr("ℭ","\\mathfrak{C}"),Fr("ℌ","\\mathfrak{H}"),Fr("ℨ","\\mathfrak{Z}"),Fr("\\Bbbk","\\Bbb{k}"),Fr("·","\\cdotp"),Fr("\\llap","\\mathllap{\\textrm{#1}}"),Fr("\\rlap","\\mathrlap{\\textrm{#1}}"),Fr("\\clap","\\mathclap{\\textrm{#1}}"),Fr("\\mathstrut","\\vphantom{(}"),Fr("\\underbar","\\underline{\\text{#1}}"),Fr("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),Fr("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),Fr("\\ne","\\neq"),Fr("≠","\\neq"),Fr("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),Fr("∉","\\notin"),Fr("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),Fr("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),Fr("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),Fr("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),Fr("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),Fr("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),Fr("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),Fr("⟂","\\perp"),Fr("‼","\\mathclose{!\\mkern-0.8mu!}"),Fr("∌","\\notni"),Fr("⌜","\\ulcorner"),Fr("⌝","\\urcorner"),Fr("⌞","\\llcorner"),Fr("⌟","\\lrcorner"),Fr("©","\\copyright"),Fr("®","\\textregistered"),Fr("️","\\textregistered"),Fr("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),Fr("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),Fr("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),Fr("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),Fr("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),Fr("⋮","\\vdots"),Fr("\\varGamma","\\mathit{\\Gamma}"),Fr("\\varDelta","\\mathit{\\Delta}"),Fr("\\varTheta","\\mathit{\\Theta}"),Fr("\\varLambda","\\mathit{\\Lambda}"),Fr("\\varXi","\\mathit{\\Xi}"),Fr("\\varPi","\\mathit{\\Pi}"),Fr("\\varSigma","\\mathit{\\Sigma}"),Fr("\\varUpsilon","\\mathit{\\Upsilon}"),Fr("\\varPhi","\\mathit{\\Phi}"),Fr("\\varPsi","\\mathit{\\Psi}"),Fr("\\varOmega","\\mathit{\\Omega}"),Fr("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),Fr("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),Fr("\\boxed","\\fbox{$\\displaystyle{#1}$}"),Fr("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),Fr("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),Fr("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),Fr("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),Fr("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var Va={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Fr("\\dots",function(e){var t="\\dotso",r=e.expandAfterFuture().text;return r in Va?t=Va[r]:("\\not"===r.slice(0,4)||r in ae.math&&s.contains(["bin","rel"],ae.math[r].group))&&(t="\\dotsb"),t});var Pa={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Fr("\\dotso",function(e){return e.future().text in Pa?"\\ldots\\,":"\\ldots"}),Fr("\\dotsc",function(e){var t=e.future().text;return t in Pa&&","!==t?"\\ldots\\,":"\\ldots"}),Fr("\\cdots",function(e){return e.future().text in Pa?"\\@cdots\\,":"\\@cdots"}),Fr("\\dotsb","\\cdots"),Fr("\\dotsm","\\cdots"),Fr("\\dotsi","\\!\\cdots"),Fr("\\dotsx","\\ldots\\,"),Fr("\\DOTSI","\\relax"),Fr("\\DOTSB","\\relax"),Fr("\\DOTSX","\\relax"),Fr("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),Fr("\\,","\\tmspace+{3mu}{.1667em}"),Fr("\\thinspace","\\,"),Fr("\\>","\\mskip{4mu}"),Fr("\\:","\\tmspace+{4mu}{.2222em}"),Fr("\\medspace","\\:"),Fr("\\;","\\tmspace+{5mu}{.2777em}"),Fr("\\thickspace","\\;"),Fr("\\!","\\tmspace-{3mu}{.1667em}"),Fr("\\negthinspace","\\!"),Fr("\\negmedspace","\\tmspace-{4mu}{.2222em}"),Fr("\\negthickspace","\\tmspace-{5mu}{.277em}"),Fr("\\enspace","\\kern.5em "),Fr("\\enskip","\\hskip.5em\\relax"),Fr("\\quad","\\hskip1em\\relax"),Fr("\\qquad","\\hskip2em\\relax"),Fr("\\tag","\\@ifstar\\tag@literal\\tag@paren"),Fr("\\tag@paren","\\tag@literal{({#1})}"),Fr("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new r("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),Fr("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),Fr("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),Fr("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),Fr("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),Fr("\\newline","\\\\\\relax"),Fr("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Fa=P(A["Main-Regular"]["T".charCodeAt(0)][1]-.7*A["Main-Regular"]["A".charCodeAt(0)][1]);Fr("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+Fa+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),Fr("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+Fa+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),Fr("\\hspace","\\@ifstar\\@hspacer\\@hspace"),Fr("\\@hspace","\\hskip #1\\relax"),Fr("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),Fr("\\ordinarycolon",":"),Fr("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),Fr("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),Fr("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),Fr("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),Fr("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),Fr("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),Fr("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),Fr("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),Fr("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),Fr("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),Fr("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),Fr("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),Fr("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),Fr("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),Fr("∷","\\dblcolon"),Fr("∹","\\eqcolon"),Fr("≔","\\coloneqq"),Fr("≕","\\eqqcolon"),Fr("⩴","\\Coloneqq"),Fr("\\ratio","\\vcentcolon"),Fr("\\coloncolon","\\dblcolon"),Fr("\\colonequals","\\coloneqq"),Fr("\\coloncolonequals","\\Coloneqq"),Fr("\\equalscolon","\\eqqcolon"),Fr("\\equalscoloncolon","\\Eqqcolon"),Fr("\\colonminus","\\coloneq"),Fr("\\coloncolonminus","\\Coloneq"),Fr("\\minuscolon","\\eqcolon"),Fr("\\minuscoloncolon","\\Eqcolon"),Fr("\\coloncolonapprox","\\Colonapprox"),Fr("\\coloncolonsim","\\Colonsim"),Fr("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Fr("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Fr("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Fr("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Fr("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),Fr("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),Fr("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),Fr("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),Fr("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),Fr("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),Fr("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),Fr("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),Fr("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),Fr("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),Fr("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),Fr("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),Fr("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),Fr("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),Fr("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),Fr("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),Fr("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),Fr("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),Fr("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),Fr("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),Fr("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),Fr("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),Fr("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),Fr("\\imath","\\html@mathml{\\@imath}{ı}"),Fr("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),Fr("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),Fr("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),Fr("⟦","\\llbracket"),Fr("⟧","\\rrbracket"),Fr("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),Fr("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),Fr("⦃","\\lBrace"),Fr("⦄","\\rBrace"),Fr("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),Fr("⦵","\\minuso"),Fr("\\darr","\\downarrow"),Fr("\\dArr","\\Downarrow"),Fr("\\Darr","\\Downarrow"),Fr("\\lang","\\langle"),Fr("\\rang","\\rangle"),Fr("\\uarr","\\uparrow"),Fr("\\uArr","\\Uparrow"),Fr("\\Uarr","\\Uparrow"),Fr("\\N","\\mathbb{N}"),Fr("\\R","\\mathbb{R}"),Fr("\\Z","\\mathbb{Z}"),Fr("\\alef","\\aleph"),Fr("\\alefsym","\\aleph"),Fr("\\Alpha","\\mathrm{A}"),Fr("\\Beta","\\mathrm{B}"),Fr("\\bull","\\bullet"),Fr("\\Chi","\\mathrm{X}"),Fr("\\clubs","\\clubsuit"),Fr("\\cnums","\\mathbb{C}"),Fr("\\Complex","\\mathbb{C}"),Fr("\\Dagger","\\ddagger"),Fr("\\diamonds","\\diamondsuit"),Fr("\\empty","\\emptyset"),Fr("\\Epsilon","\\mathrm{E}"),Fr("\\Eta","\\mathrm{H}"),Fr("\\exist","\\exists"),Fr("\\harr","\\leftrightarrow"),Fr("\\hArr","\\Leftrightarrow"),Fr("\\Harr","\\Leftrightarrow"),Fr("\\hearts","\\heartsuit"),Fr("\\image","\\Im"),Fr("\\infin","\\infty"),Fr("\\Iota","\\mathrm{I}"),Fr("\\isin","\\in"),Fr("\\Kappa","\\mathrm{K}"),Fr("\\larr","\\leftarrow"),Fr("\\lArr","\\Leftarrow"),Fr("\\Larr","\\Leftarrow"),Fr("\\lrarr","\\leftrightarrow"),Fr("\\lrArr","\\Leftrightarrow"),Fr("\\Lrarr","\\Leftrightarrow"),Fr("\\Mu","\\mathrm{M}"),Fr("\\natnums","\\mathbb{N}"),Fr("\\Nu","\\mathrm{N}"),Fr("\\Omicron","\\mathrm{O}"),Fr("\\plusmn","\\pm"),Fr("\\rarr","\\rightarrow"),Fr("\\rArr","\\Rightarrow"),Fr("\\Rarr","\\Rightarrow"),Fr("\\real","\\Re"),Fr("\\reals","\\mathbb{R}"),Fr("\\Reals","\\mathbb{R}"),Fr("\\Rho","\\mathrm{P}"),Fr("\\sdot","\\cdot"),Fr("\\sect","\\S"),Fr("\\spades","\\spadesuit"),Fr("\\sub","\\subset"),Fr("\\sube","\\subseteq"),Fr("\\supe","\\supseteq"),Fr("\\Tau","\\mathrm{T}"),Fr("\\thetasym","\\vartheta"),Fr("\\weierp","\\wp"),Fr("\\Zeta","\\mathrm{Z}"),Fr("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),Fr("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),Fr("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),Fr("\\bra","\\mathinner{\\langle{#1}|}"),Fr("\\ket","\\mathinner{|{#1}\\rangle}"),Fr("\\braket","\\mathinner{\\langle{#1}\\rangle}"),Fr("\\Bra","\\left\\langle#1\\right|"),Fr("\\Ket","\\left|#1\\right\\rangle");var Ga=e=>t=>{var r=t.consumeArg().tokens,a=t.consumeArg().tokens,n=t.consumeArg().tokens,i=t.consumeArg().tokens,o=t.macros.get("|"),s=t.macros.get("\\|");t.macros.beginGroup();var l=t=>r=>{e&&(r.macros.set("|",o),n.length&&r.macros.set("\\|",s));var i=t;!t&&n.length&&("|"===r.future().text&&(r.popToken(),i=!0));return{tokens:i?n:a,numArgs:0}};t.macros.set("|",l(!1)),n.length&&t.macros.set("\\|",l(!0));var h=t.consumeArg().tokens,m=t.expandTokens([...i,...h,...r]);return t.macros.endGroup(),{tokens:m.reverse(),numArgs:0}};Fr("\\bra@ket",Ga(!1)),Fr("\\bra@set",Ga(!0)),Fr("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),Fr("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),Fr("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),Fr("\\angln","{\\angl n}"),Fr("\\blue","\\textcolor{##6495ed}{#1}"),Fr("\\orange","\\textcolor{##ffa500}{#1}"),Fr("\\pink","\\textcolor{##ff00af}{#1}"),Fr("\\red","\\textcolor{##df0030}{#1}"),Fr("\\green","\\textcolor{##28ae7b}{#1}"),Fr("\\gray","\\textcolor{gray}{#1}"),Fr("\\purple","\\textcolor{##9d38bd}{#1}"),Fr("\\blueA","\\textcolor{##ccfaff}{#1}"),Fr("\\blueB","\\textcolor{##80f6ff}{#1}"),Fr("\\blueC","\\textcolor{##63d9ea}{#1}"),Fr("\\blueD","\\textcolor{##11accd}{#1}"),Fr("\\blueE","\\textcolor{##0c7f99}{#1}"),Fr("\\tealA","\\textcolor{##94fff5}{#1}"),Fr("\\tealB","\\textcolor{##26edd5}{#1}"),Fr("\\tealC","\\textcolor{##01d1c1}{#1}"),Fr("\\tealD","\\textcolor{##01a995}{#1}"),Fr("\\tealE","\\textcolor{##208170}{#1}"),Fr("\\greenA","\\textcolor{##b6ffb0}{#1}"),Fr("\\greenB","\\textcolor{##8af281}{#1}"),Fr("\\greenC","\\textcolor{##74cf70}{#1}"),Fr("\\greenD","\\textcolor{##1fab54}{#1}"),Fr("\\greenE","\\textcolor{##0d923f}{#1}"),Fr("\\goldA","\\textcolor{##ffd0a9}{#1}"),Fr("\\goldB","\\textcolor{##ffbb71}{#1}"),Fr("\\goldC","\\textcolor{##ff9c39}{#1}"),Fr("\\goldD","\\textcolor{##e07d10}{#1}"),Fr("\\goldE","\\textcolor{##a75a05}{#1}"),Fr("\\redA","\\textcolor{##fca9a9}{#1}"),Fr("\\redB","\\textcolor{##ff8482}{#1}"),Fr("\\redC","\\textcolor{##f9685d}{#1}"),Fr("\\redD","\\textcolor{##e84d39}{#1}"),Fr("\\redE","\\textcolor{##bc2612}{#1}"),Fr("\\maroonA","\\textcolor{##ffbde0}{#1}"),Fr("\\maroonB","\\textcolor{##ff92c6}{#1}"),Fr("\\maroonC","\\textcolor{##ed5fa6}{#1}"),Fr("\\maroonD","\\textcolor{##ca337c}{#1}"),Fr("\\maroonE","\\textcolor{##9e034e}{#1}"),Fr("\\purpleA","\\textcolor{##ddd7ff}{#1}"),Fr("\\purpleB","\\textcolor{##c6b9fc}{#1}"),Fr("\\purpleC","\\textcolor{##aa87ff}{#1}"),Fr("\\purpleD","\\textcolor{##7854ab}{#1}"),Fr("\\purpleE","\\textcolor{##543b78}{#1}"),Fr("\\mintA","\\textcolor{##f5f9e8}{#1}"),Fr("\\mintB","\\textcolor{##edf2df}{#1}"),Fr("\\mintC","\\textcolor{##e0e5cc}{#1}"),Fr("\\grayA","\\textcolor{##f6f7f7}{#1}"),Fr("\\grayB","\\textcolor{##f0f1f2}{#1}"),Fr("\\grayC","\\textcolor{##e3e5e6}{#1}"),Fr("\\grayD","\\textcolor{##d6d8da}{#1}"),Fr("\\grayE","\\textcolor{##babec2}{#1}"),Fr("\\grayF","\\textcolor{##888d93}{#1}"),Fr("\\grayG","\\textcolor{##626569}{#1}"),Fr("\\grayH","\\textcolor{##3b3e40}{#1}"),Fr("\\grayI","\\textcolor{##21242c}{#1}"),Fr("\\kaBlue","\\textcolor{##314453}{#1}"),Fr("\\kaGreen","\\textcolor{##71B307}{#1}");var Ua={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Ya{constructor(e,t,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new Oa(Ea,t.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new Ha(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,a,n;if(e){if(this.consumeSpaces(),"["!==this.future().text)return null;r=this.popToken(),({tokens:n,end:a}=this.consumeArg(["]"]))}else({tokens:n,start:r,end:a}=this.consumeArg());return this.pushToken(new t("EOF",a.loc)),this.pushTokens(n),r.range(a,"")}consumeSpaces(){for(;;){if(" "!==this.future().text)break;this.stack.pop()}}consumeArg(e){var t=[],a=e&&e.length>0;a||this.consumeSpaces();var n,i=this.future(),o=0,s=0;do{if(n=this.popToken(),t.push(n),"{"===n.text)++o;else if("}"===n.text){if(-1===--o)throw new r("Extra }",n)}else if("EOF"===n.text)throw new r("Unexpected end of input in a macro argument, expected '"+(e&&a?e[s]:"}")+"'",n);if(e&&a)if((0===o||1===o&&"{"===e[s])&&n.text===e[s]){if(++s===e.length){t.splice(-s,s);break}}else s=0}while(0!==o||a);return"{"===i.text&&"}"===t[t.length-1].text&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:i,end:n}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new r("The length of delimiters doesn't match the number of args!");for(var a=t[0],n=0;n<a.length;n++){var i=this.popToken();if(a[n]!==i.text)throw new r("Use of the macro doesn't match its definition",i)}}for(var o=[],s=0;s<e;s++)o.push(this.consumeArg(t&&t[s+1]).tokens);return o}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new r("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var t=this.popToken(),a=t.text,n=t.noexpand?null:this._getExpansion(a);if(null==n||e&&n.unexpandable){if(e&&null==n&&"\\"===a[0]&&!this.isDefined(a))throw new r("Undefined control sequence: "+a);return this.pushToken(t),!1}this.countExpansion(1);var i=n.tokens,o=this.consumeArgs(n.numArgs,n.delimiters);if(n.numArgs)for(var s=(i=i.slice()).length-1;s>=0;--s){var l=i[s];if("#"===l.text){if(0===s)throw new r("Incomplete placeholder at end of macro body",l);if("#"===(l=i[--s]).text)i.splice(s+1,1);else{if(!/^[1-9]$/.test(l.text))throw new r("Not a valid argument number",l);i.splice(s,2,...o[+l.text-1])}}}return this.pushTokens(i),i.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(!1===this.expandOnce()){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new t(e)]):void 0}expandTokens(e){var t=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(!1===this.expandOnce(!0)){var a=this.stack.pop();a.treatAsRelax&&(a.noexpand=!1,a.treatAsRelax=!1),t.push(a)}return this.countExpansion(t.length),t}expandMacroAsText(e){var t=this.expandMacro(e);return t?t.map(e=>e.text).join(""):t}_getExpansion(e){var t=this.macros.get(e);if(null==t)return t;if(1===e.length){var r=this.lexer.catcodes[e];if(null!=r&&13!==r)return}var a="function"==typeof t?t(this):t;if("string"==typeof a){var n=0;if(-1!==a.indexOf("#"))for(var i=a.replace(/##/g,"");-1!==i.indexOf("#"+(n+1));)++n;for(var o=new Ha(a,this.settings),s=[],l=o.lex();"EOF"!==l.text;)s.push(l),l=o.lex();return s.reverse(),{tokens:s,numArgs:n}}return a}isDefined(e){return this.macros.has(e)||Ba.hasOwnProperty(e)||ae.math.hasOwnProperty(e)||ae.text.hasOwnProperty(e)||Ua.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return null!=t?"string"==typeof t||"function"==typeof t||!t.unexpandable:Ba.hasOwnProperty(e)&&!Ba[e].primitive}}var _a=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,Wa=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g","ʰ":"h","ⁱ":"i","ʲ":"j","ᵏ":"k","ˡ":"l","ᵐ":"m","ⁿ":"n","ᵒ":"o","ᵖ":"p","ʳ":"r","ˢ":"s","ᵗ":"t","ᵘ":"u","ᵛ":"v","ʷ":"w","ˣ":"x","ʸ":"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),Xa={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},ja={"á":"á","à":"à","ä":"ä","ǟ":"ǟ","ã":"ã","ā":"ā","ă":"ă","ắ":"ắ","ằ":"ằ","ẵ":"ẵ","ǎ":"ǎ","â":"â","ấ":"ấ","ầ":"ầ","ẫ":"ẫ","ȧ":"ȧ","ǡ":"ǡ","å":"å","ǻ":"ǻ","ḃ":"ḃ","ć":"ć","ḉ":"ḉ","č":"č","ĉ":"ĉ","ċ":"ċ","ç":"ç","ď":"ď","ḋ":"ḋ","ḑ":"ḑ","é":"é","è":"è","ë":"ë","ẽ":"ẽ","ē":"ē","ḗ":"ḗ","ḕ":"ḕ","ĕ":"ĕ","ḝ":"ḝ","ě":"ě","ê":"ê","ế":"ế","ề":"ề","ễ":"ễ","ė":"ė","ȩ":"ȩ","ḟ":"ḟ","ǵ":"ǵ","ḡ":"ḡ","ğ":"ğ","ǧ":"ǧ","ĝ":"ĝ","ġ":"ġ","ģ":"ģ","ḧ":"ḧ","ȟ":"ȟ","ĥ":"ĥ","ḣ":"ḣ","ḩ":"ḩ","í":"í","ì":"ì","ï":"ï","ḯ":"ḯ","ĩ":"ĩ","ī":"ī","ĭ":"ĭ","ǐ":"ǐ","î":"î","ǰ":"ǰ","ĵ":"ĵ","ḱ":"ḱ","ǩ":"ǩ","ķ":"ķ","ĺ":"ĺ","ľ":"ľ","ļ":"ļ","ḿ":"ḿ","ṁ":"ṁ","ń":"ń","ǹ":"ǹ","ñ":"ñ","ň":"ň","ṅ":"ṅ","ņ":"ņ","ó":"ó","ò":"ò","ö":"ö","ȫ":"ȫ","õ":"õ","ṍ":"ṍ","ṏ":"ṏ","ȭ":"ȭ","ō":"ō","ṓ":"ṓ","ṑ":"ṑ","ŏ":"ŏ","ǒ":"ǒ","ô":"ô","ố":"ố","ồ":"ồ","ỗ":"ỗ","ȯ":"ȯ","ȱ":"ȱ","ő":"ő","ṕ":"ṕ","ṗ":"ṗ","ŕ":"ŕ","ř":"ř","ṙ":"ṙ","ŗ":"ŗ","ś":"ś","ṥ":"ṥ","š":"š","ṧ":"ṧ","ŝ":"ŝ","ṡ":"ṡ","ş":"ş","ẗ":"ẗ","ť":"ť","ṫ":"ṫ","ţ":"ţ","ú":"ú","ù":"ù","ü":"ü","ǘ":"ǘ","ǜ":"ǜ","ǖ":"ǖ","ǚ":"ǚ","ũ":"ũ","ṹ":"ṹ","ū":"ū","ṻ":"ṻ","ŭ":"ŭ","ǔ":"ǔ","û":"û","ů":"ů","ű":"ű","ṽ":"ṽ","ẃ":"ẃ","ẁ":"ẁ","ẅ":"ẅ","ŵ":"ŵ","ẇ":"ẇ","ẘ":"ẘ","ẍ":"ẍ","ẋ":"ẋ","ý":"ý","ỳ":"ỳ","ÿ":"ÿ","ỹ":"ỹ","ȳ":"ȳ","ŷ":"ŷ","ẏ":"ẏ","ẙ":"ẙ","ź":"ź","ž":"ž","ẑ":"ẑ","ż":"ż","Á":"Á","À":"À","Ä":"Ä","Ǟ":"Ǟ","Ã":"Ã","Ā":"Ā","Ă":"Ă","Ắ":"Ắ","Ằ":"Ằ","Ẵ":"Ẵ","Ǎ":"Ǎ","Â":"Â","Ấ":"Ấ","Ầ":"Ầ","Ẫ":"Ẫ","Ȧ":"Ȧ","Ǡ":"Ǡ","Å":"Å","Ǻ":"Ǻ","Ḃ":"Ḃ","Ć":"Ć","Ḉ":"Ḉ","Č":"Č","Ĉ":"Ĉ","Ċ":"Ċ","Ç":"Ç","Ď":"Ď","Ḋ":"Ḋ","Ḑ":"Ḑ","É":"É","È":"È","Ë":"Ë","Ẽ":"Ẽ","Ē":"Ē","Ḗ":"Ḗ","Ḕ":"Ḕ","Ĕ":"Ĕ","Ḝ":"Ḝ","Ě":"Ě","Ê":"Ê","Ế":"Ế","Ề":"Ề","Ễ":"Ễ","Ė":"Ė","Ȩ":"Ȩ","Ḟ":"Ḟ","Ǵ":"Ǵ","Ḡ":"Ḡ","Ğ":"Ğ","Ǧ":"Ǧ","Ĝ":"Ĝ","Ġ":"Ġ","Ģ":"Ģ","Ḧ":"Ḧ","Ȟ":"Ȟ","Ĥ":"Ĥ","Ḣ":"Ḣ","Ḩ":"Ḩ","Í":"Í","Ì":"Ì","Ï":"Ï","Ḯ":"Ḯ","Ĩ":"Ĩ","Ī":"Ī","Ĭ":"Ĭ","Ǐ":"Ǐ","Î":"Î","İ":"İ","Ĵ":"Ĵ","Ḱ":"Ḱ","Ǩ":"Ǩ","Ķ":"Ķ","Ĺ":"Ĺ","Ľ":"Ľ","Ļ":"Ļ","Ḿ":"Ḿ","Ṁ":"Ṁ","Ń":"Ń","Ǹ":"Ǹ","Ñ":"Ñ","Ň":"Ň","Ṅ":"Ṅ","Ņ":"Ņ","Ó":"Ó","Ò":"Ò","Ö":"Ö","Ȫ":"Ȫ","Õ":"Õ","Ṍ":"Ṍ","Ṏ":"Ṏ","Ȭ":"Ȭ","Ō":"Ō","Ṓ":"Ṓ","Ṑ":"Ṑ","Ŏ":"Ŏ","Ǒ":"Ǒ","Ô":"Ô","Ố":"Ố","Ồ":"Ồ","Ỗ":"Ỗ","Ȯ":"Ȯ","Ȱ":"Ȱ","Ő":"Ő","Ṕ":"Ṕ","Ṗ":"Ṗ","Ŕ":"Ŕ","Ř":"Ř","Ṙ":"Ṙ","Ŗ":"Ŗ","Ś":"Ś","Ṥ":"Ṥ","Š":"Š","Ṧ":"Ṧ","Ŝ":"Ŝ","Ṡ":"Ṡ","Ş":"Ş","Ť":"Ť","Ṫ":"Ṫ","Ţ":"Ţ","Ú":"Ú","Ù":"Ù","Ü":"Ü","Ǘ":"Ǘ","Ǜ":"Ǜ","Ǖ":"Ǖ","Ǚ":"Ǚ","Ũ":"Ũ","Ṹ":"Ṹ","Ū":"Ū","Ṻ":"Ṻ","Ŭ":"Ŭ","Ǔ":"Ǔ","Û":"Û","Ů":"Ů","Ű":"Ű","Ṽ":"Ṽ","Ẃ":"Ẃ","Ẁ":"Ẁ","Ẅ":"Ẅ","Ŵ":"Ŵ","Ẇ":"Ẇ","Ẍ":"Ẍ","Ẋ":"Ẋ","Ý":"Ý","Ỳ":"Ỳ","Ÿ":"Ÿ","Ỹ":"Ỹ","Ȳ":"Ȳ","Ŷ":"Ŷ","Ẏ":"Ẏ","Ź":"Ź","Ž":"Ž","Ẑ":"Ẑ","Ż":"Ż","ά":"ά","ὰ":"ὰ","ᾱ":"ᾱ","ᾰ":"ᾰ","έ":"έ","ὲ":"ὲ","ή":"ή","ὴ":"ὴ","ί":"ί","ὶ":"ὶ","ϊ":"ϊ","ΐ":"ΐ","ῒ":"ῒ","ῑ":"ῑ","ῐ":"ῐ","ό":"ό","ὸ":"ὸ","ύ":"ύ","ὺ":"ὺ","ϋ":"ϋ","ΰ":"ΰ","ῢ":"ῢ","ῡ":"ῡ","ῠ":"ῠ","ώ":"ώ","ὼ":"ὼ","Ύ":"Ύ","Ὺ":"Ὺ","Ϋ":"Ϋ","Ῡ":"Ῡ","Ῠ":"Ῠ","Ώ":"Ώ","Ὼ":"Ὼ"};class $a{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Ya(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(void 0===t&&(t=!0),this.fetch().text!==e)throw new r("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new t("}")),this.gullet.pushTokens(e);var a=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,a}parseExpression(e,t){for(var r=[];;){"math"===this.mode&&this.consumeSpaces();var a=this.fetch();if(-1!==$a.endOfExpression.indexOf(a.text))break;if(t&&a.text===t)break;if(e&&Ba[a.text]&&Ba[a.text].infix)break;var n=this.parseAtom(t);if(!n)break;"internal"!==n.type&&r.push(n)}return"text"===this.mode&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var t,a=-1,n=0;n<e.length;n++)if("infix"===e[n].type){if(-1!==a)throw new r("only one infix operator per group",e[n].token);a=n,t=e[n].replaceWith}if(-1!==a&&t){var i,o,s=e.slice(0,a),l=e.slice(a+1);return i=1===s.length&&"ordgroup"===s[0].type?s[0]:{type:"ordgroup",mode:this.mode,body:s},o=1===l.length&&"ordgroup"===l[0].type?l[0]:{type:"ordgroup",mode:this.mode,body:l},["\\\\abovefrac"===t?this.callFunction(t,[i,e[a],o],[]):this.callFunction(t,[i,o],[])]}return e}handleSupSubscript(e){var t,a=this.fetch(),n=a.text;this.consume(),this.consumeSpaces();do{var i;t=this.parseGroup(e)}while("internal"===(null==(i=t)?void 0:i.type));if(!t)throw new r("Expected group after '"+n+"'",a);return t}formatUnsupportedCmd(e){for(var t=[],r=0;r<e.length;r++)t.push({type:"textord",mode:"text",text:e[r]});var a={type:"text",mode:this.mode,body:t};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[a]}}parseAtom(e){var a,n,i=this.parseGroup("atom",e);if("internal"===(null==i?void 0:i.type))return i;if("text"===this.mode)return i;for(;;){this.consumeSpaces();var o=this.fetch();if("\\limits"===o.text||"\\nolimits"===o.text){if(i&&"op"===i.type){var s="\\limits"===o.text;i.limits=s,i.alwaysHandleSupSub=!0}else{if(!i||"operatorname"!==i.type)throw new r("Limit controls must follow a math operator",o);i.alwaysHandleSupSub&&(i.limits="\\limits"===o.text)}this.consume()}else if("^"===o.text){if(a)throw new r("Double superscript",o);a=this.handleSupSubscript("superscript")}else if("_"===o.text){if(n)throw new r("Double subscript",o);n=this.handleSupSubscript("subscript")}else if("'"===o.text){if(a)throw new r("Double superscript",o);var l={type:"textord",mode:this.mode,text:"\\prime"},h=[l];for(this.consume();"'"===this.fetch().text;)h.push(l),this.consume();"^"===this.fetch().text&&h.push(this.handleSupSubscript("superscript")),a={type:"ordgroup",mode:this.mode,body:h}}else{if(!Wa[o.text])break;var m=_a.test(o.text),c=[];for(c.push(new t(Wa[o.text])),this.consume();;){var p=this.fetch().text;if(!Wa[p])break;if(_a.test(p)!==m)break;c.unshift(new t(Wa[p])),this.consume()}var u=this.subparse(c);m?n={type:"ordgroup",mode:"math",body:u}:a={type:"ordgroup",mode:"math",body:u}}}return a||n?{type:"supsub",mode:this.mode,base:i,sup:a,sub:n}:i}parseFunction(e,t){var a=this.fetch(),n=a.text,i=Ba[n];if(!i)return null;if(this.consume(),t&&"atom"!==t&&!i.allowedInArgument)throw new r("Got function '"+n+"' with no arguments"+(t?" as "+t:""),a);if("text"===this.mode&&!i.allowedInText)throw new r("Can't use function '"+n+"' in text mode",a);if("math"===this.mode&&!1===i.allowedInMath)throw new r("Can't use function '"+n+"' in math mode",a);var{args:o,optArgs:s}=this.parseArguments(n,i);return this.callFunction(n,o,s,a,e)}callFunction(e,t,a,n,i){var o={funcName:e,parser:this,token:n,breakOnTokenText:i},s=Ba[e];if(s&&s.handler)return s.handler(o,t,a);throw new r("No function handler for "+e)}parseArguments(e,t){var a=t.numArgs+t.numOptionalArgs;if(0===a)return{args:[],optArgs:[]};for(var n=[],i=[],o=0;o<a;o++){var s=t.argTypes&&t.argTypes[o],l=o<t.numOptionalArgs;(t.primitive&&null==s||"sqrt"===t.type&&1===o&&null==i[0])&&(s="primitive");var h=this.parseGroupOfType("argument to '"+e+"'",s,l);if(l)i.push(h);else{if(null==h)throw new r("Null argument, please report this as a bug");n.push(h)}}return{args:n,optArgs:i}}parseGroupOfType(e,t,a){switch(t){case"color":return this.parseColorGroup(a);case"size":return this.parseSizeGroup(a);case"url":return this.parseUrlGroup(a);case"math":case"text":return this.parseArgumentGroup(a,t);case"hbox":var n=this.parseArgumentGroup(a,"text");return null!=n?{type:"styling",mode:n.mode,body:[n],style:"text"}:null;case"raw":var i=this.parseStringGroup("raw",a);return null!=i?{type:"raw",mode:"text",string:i.text}:null;case"primitive":if(a)throw new r("A primitive argument cannot be optional");var o=this.parseGroup(e);if(null==o)throw new r("Expected group as "+e,this.fetch());return o;case"original":case null:case void 0:return this.parseArgumentGroup(a);default:throw new r("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;" "===this.fetch().text;)this.consume()}parseStringGroup(e,t){var r=this.gullet.scanArgument(t);if(null==r)return null;for(var a,n="";"EOF"!==(a=this.fetch()).text;)n+=a.text,this.consume();return this.consume(),r.text=n,r}parseRegexGroup(e,t){for(var a,n=this.fetch(),i=n,o="";"EOF"!==(a=this.fetch()).text&&e.test(o+a.text);)o+=(i=a).text,this.consume();if(""===o)throw new r("Invalid "+t+": '"+n.text+"'",n);return n.range(i,o)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(null==t)return null;var a=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!a)throw new r("Invalid color: '"+t.text+"'",t);var n=a[0];return/^[0-9a-f]{6}$/i.test(n)&&(n="#"+n),{type:"color-token",mode:this.mode,color:n}}parseSizeGroup(e){var t,a=!1;if(this.gullet.consumeSpaces(),!(t=e||"{"===this.gullet.future().text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;e||0!==t.text.length||(t.text="0pt",a=!0);var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!n)throw new r("Invalid size: '"+t.text+"'",t);var i={number:+(n[1]+n[2]),unit:n[3]};if(!D(i))throw new r("Invalid unit: '"+i.unit+"'",t);return{type:"size",mode:this.mode,value:i,isBlank:a}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),null==t)return null;var r=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,t){var r=this.gullet.scanArgument(e);if(null==r)return null;var a=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var n=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var i={type:"ordgroup",mode:this.mode,loc:r.loc,body:n};return t&&this.switchMode(a),i}parseGroup(t,a){var n,i=this.fetch(),o=i.text;if("{"===o||"\\begingroup"===o){this.consume();var s="{"===o?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,s),h=this.fetch();this.expect(s),this.gullet.endGroup(),n={type:"ordgroup",mode:this.mode,loc:e.range(i,h),body:l,semisimple:"\\begingroup"===o||void 0}}else if(null==(n=this.parseFunction(a,t)||this.parseSymbol())&&"\\"===o[0]&&!Ua.hasOwnProperty(o)){if(this.settings.throwOnError)throw new r("Undefined control sequence: "+o,i);n=this.formatUnsupportedCmd(o),this.consume()}return n}formLigatures(t){for(var r=t.length-1,a=0;a<r;++a){var n=t[a],i=n.text;"-"===i&&"-"===t[a+1].text&&(a+1<r&&"-"===t[a+2].text?(t.splice(a,3,{type:"textord",mode:"text",loc:e.range(n,t[a+2]),text:"---"}),r-=2):(t.splice(a,2,{type:"textord",mode:"text",loc:e.range(n,t[a+1]),text:"--"}),r-=1)),"'"!==i&&"`"!==i||t[a+1].text!==i||(t.splice(a,2,{type:"textord",mode:"text",loc:e.range(n,t[a+1]),text:i+i}),r-=1)}}parseSymbol(){var t=this.fetch(),a=t.text;if(/^\\verb[^a-zA-Z]/.test(a)){this.consume();var n=a.slice(5),i="*"===n.charAt(0);if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new r("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:n=n.slice(1,-1),star:i}}ja.hasOwnProperty(a[0])&&!ae[this.mode][a[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+a[0]+'" used in math mode',t),a=ja[a[0]]+a.slice(1));var o,s=Ia.exec(a);if(s&&("i"===(a=a.substring(0,s.index))?a="ı":"j"===a&&(a="ȷ")),ae[this.mode][a]){this.settings.strict&&"math"===this.mode&&Oe.indexOf(a)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+a[0]+'" used in math mode',t);var l,h=ae[this.mode][a].group,m=e.range(t);if(te.hasOwnProperty(h)){var c=h;l={type:"atom",mode:this.mode,family:c,loc:m,text:a}}else l={type:h,mode:this.mode,loc:m,text:a};o=l}else{if(!(a.charCodeAt(0)>=128))return null;this.settings.strict&&(k(a.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+a[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+a[0]+'" ('+a.charCodeAt(0)+")",t)),o={type:"textord",mode:"text",loc:e.range(t),text:a}}if(this.consume(),s)for(var p=0;p<s[0].length;p++){var u=s[0][p];if(!Xa[u])throw new r("Unknown accent ' "+u+"'",t);var d=Xa[u][this.mode]||Xa[u].text;if(!d)throw new r("Accent "+u+" unsupported in "+this.mode+" mode",t);o={type:"accent",mode:this.mode,loc:e.range(t),label:d,isStretchy:!1,isShifty:!0,base:o}}return o}}$a.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Za=function(e,a){if(!("string"==typeof e||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new $a(e,a);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!a.displayMode)throw new r("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new t("\\df@tag")])}]}return i},Ka=function(e,t,r){t.textContent="";var a=tn(e,r).toNode();t.appendChild(a)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&(Ka=function(){throw new r("KaTeX doesn't work in quirks mode.")});var Ja=function(e,t){return tn(e,t).toMarkup()},Qa=function(e,t){var r=new m(t);return Za(e,r)},en=function(e,t,a){if(a.throwOnError||!(e instanceof r))throw e;var n=Ze.makeSpan(["katex-error"],[new Z(t)]);return n.setAttribute("title",e.toString()),n.setAttribute("style","color:"+a.errorColor),n},tn=function(e,t){var r=new m(t);try{return function(e,t,r){var a,n=Ot(r);if("mathml"===r.output)return Ht(e,t,n,r.displayMode,!0);if("html"===r.output){var i=kt(e,n);a=Ze.makeSpan(["katex"],[i])}else{var o=Ht(e,t,n,r.displayMode,!1),s=kt(e,n);a=Ze.makeSpan(["katex"],[o,s])}return Et(a,r)}(Za(e,r),e,r)}catch(a){return en(a,e,r)}},rn=function(e,t){var r=new m(t);try{return function(e,t,r){var a=kt(e,Ot(r)),n=Ze.makeSpan(["katex"],[a]);return Et(n,r)}(Za(e,r),0,r)}catch(a){return en(a,e,r)}},an="0.16.22",nn={Span:W,Anchor:X,SymbolNode:Z,SvgNode:K,PathNode:J,LineNode:Q},on={version:an,render:Ka,renderToString:Ja,ParseError:r,SETTINGS_SCHEMA:l,__parse:Qa,__renderToDomTree:tn,__renderToHTMLTree:rn,__setFontMetrics:C,__defineSymbol:ne,__defineFunction:it,__defineMacro:Fr,__domTree:nn};export{r as ParseError,l as SETTINGS_SCHEMA,it as __defineFunction,Fr as __defineMacro,ne as __defineSymbol,nn as __domTree,Qa as __parse,tn as __renderToDomTree,rn as __renderToHTMLTree,C as __setFontMetrics,on as default,Ka as render,Ja as renderToString,an as version};

import{i as e}from"./init.js";class t extends Map{constructor(e,t=r){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(n(this,e))}has(e){return super.has(n(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);e.has(r)&&(n=e.get(r),e.delete(r));return n}(this,e))}}function n({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function r(e){return null!==e&&"object"==typeof e?e.valueOf():e}const s=Symbol("implicit");function u(){var n=new t,r=[],i=[],o=s;function c(e){let t=n.get(e);if(void 0===t){if(o!==s)return o;n.set(e,t=r.push(e)-1)}return i[t%i.length]}return c.domain=function(e){if(!arguments.length)return r.slice();r=[],n=new t;for(const t of e)n.has(t)||n.set(t,r.push(t)-1);return c},c.range=function(e){return arguments.length?(i=Array.from(e),c):i.slice()},c.unknown=function(e){return arguments.length?(o=e,c):o},c.copy=function(){return u(r,i).unknown(o)},e.apply(c,arguments),c}export{u as o};

import{_ as e,ar as n,as as t,at as r,au as a,l as i,c as o,av as s,aw as d,ag as c,al as g,ah as l,af as f,ax as h,ay as p,az as u}from"./index.js";import{G as w}from"./graph.js";import{l as v}from"./layout.js";import{i as m}from"./_baseUniq.js";import{c as y}from"./clone.js";import{m as X}from"./_basePickBy.js";function b(e){var n={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:E(e),edges:N(e)};return m(e.graph())||(n.value=y(e.graph())),n}function E(e){return X(e.nodes(),function(n){var t=e.node(n),r=e.parent(n),a={v:n};return m(t)||(a.value=t),m(r)||(a.parent=r),a})}function N(e){return X(e.edges(),function(n){var t=e.edge(n),r={v:n.v,w:n.w};return m(n.name)||(r.name=n.name),m(t)||(r.value=t),r})}var C=new Map,x=new Map,S=new Map,I=e(()=>{x.clear(),S.clear(),C.clear()},"clear"),D=e((e,n)=>{const t=x.get(n)||[];return i.trace("In isDescendant",n," ",e," = ",t.includes(e)),t.includes(e)},"isDescendant"),O=e((e,n)=>{const t=x.get(n)||[];return i.info("Descendants of ",n," is ",t),i.info("Edge is ",e),e.v!==n&&e.w!==n&&(t?t.includes(e.v)||D(e.v,n)||D(e.w,n)||t.includes(e.w):(i.debug("Tilt, ",n,",not in descendants"),!1))},"edgeInCluster"),k=e((e,n,t,r)=>{i.warn("Copying children of ",e,"root",r,"data",n.node(e),r);const a=n.children(e)||[];e!==r&&a.push(e),i.warn("Copying (nodes) clusterId",e,"nodes",a),a.forEach(a=>{if(n.children(a).length>0)k(a,n,t,r);else{const o=n.node(a);i.info("cp ",a," to ",r," with parent ",e),t.setNode(a,o),r!==n.parent(a)&&(i.warn("Setting parent",a,n.parent(a)),t.setParent(a,n.parent(a))),e!==r&&a!==e?(i.debug("Setting parent",a,e),t.setParent(a,e)):(i.info("In copy ",e,"root",r,"data",n.node(e),r),i.debug("Not Setting parent for node=",a,"cluster!==rootId",e!==r,"node!==clusterId",a!==e));const s=n.edges(a);i.debug("Copying Edges",s),s.forEach(a=>{i.info("Edge",a);const o=n.edge(a.v,a.w,a.name);i.info("Edge data",o,r);try{O(a,r)?(i.info("Copying as ",a.v,a.w,o,a.name),t.setEdge(a.v,a.w,o,a.name),i.info("newGraph edges ",t.edges(),t.edge(t.edges()[0]))):i.info("Skipping copy of edge ",a.v,"--\x3e",a.w," rootId: ",r," clusterId:",e)}catch(s){i.error(s)}})}i.debug("Removing node",a),n.removeNode(a)})},"copy"),G=e((e,n)=>{const t=n.children(e);let r=[...t];for(const a of t)S.set(a,e),r=[...r,...G(a,n)];return r},"extractDescendants"),P=e((e,n,t)=>{const r=e.edges().filter(e=>e.v===n||e.w===n),a=e.edges().filter(e=>e.v===t||e.w===t),i=r.map(e=>({v:e.v===n?t:e.v,w:e.w===n?n:e.w})),o=a.map(e=>({v:e.v,w:e.w}));return i.filter(e=>o.some(n=>e.v===n.v&&e.w===n.w))},"findCommonEdges"),B=e((e,n,t)=>{const r=n.children(e);if(i.trace("Searching children of id ",e,r),r.length<1)return e;let a;for(const i of r){const e=B(i,n,t),r=P(n,t,e);if(e){if(!(r.length>0))return e;a=e}}return a},"findNonClusterChild"),J=e(e=>C.has(e)&&C.get(e).externalConnections&&C.has(e)?C.get(e).id:e,"getAnchorId"),A=e((e,n)=>{if(!e||n>10)i.debug("Opting out, no graph ");else{i.debug("Opting in, graph "),e.nodes().forEach(function(n){e.children(n).length>0&&(i.warn("Cluster identified",n," Replacement id in edges: ",B(n,e,n)),x.set(n,G(n,e)),C.set(n,{id:B(n,e,n),clusterData:e.node(n)}))}),e.nodes().forEach(function(n){const t=e.children(n),r=e.edges();t.length>0?(i.debug("Cluster identified",n,x),r.forEach(e=>{D(e.v,n)^D(e.w,n)&&(i.warn("Edge: ",e," leaves cluster ",n),i.warn("Descendants of XXX ",n,": ",x.get(n)),C.get(n).externalConnections=!0)})):i.debug("Not a cluster ",n,x)});for(let n of C.keys()){const t=C.get(n).id,r=e.parent(t);r!==n&&C.has(r)&&!C.get(r).externalConnections&&(C.get(n).id=r)}e.edges().forEach(function(n){const t=e.edge(n);i.warn("Edge "+n.v+" -> "+n.w+": "+JSON.stringify(n)),i.warn("Edge "+n.v+" -> "+n.w+": "+JSON.stringify(e.edge(n)));let r=n.v,a=n.w;if(i.warn("Fix XXX",C,"ids:",n.v,n.w,"Translating: ",C.get(n.v)," --- ",C.get(n.w)),C.get(n.v)||C.get(n.w)){if(i.warn("Fixing and trying - removing XXX",n.v,n.w,n.name),r=J(n.v),a=J(n.w),e.removeEdge(n.v,n.w,n.name),r!==n.v){const a=e.parent(r);C.get(a).externalConnections=!0,t.fromCluster=n.v}if(a!==n.w){const r=e.parent(a);C.get(r).externalConnections=!0,t.toCluster=n.w}i.warn("Fix Replacing with XXX",r,a,n.name),e.setEdge(r,a,t,n.name)}}),i.warn("Adjusted Graph",b(e)),T(e,0),i.trace(C)}},"adjustClustersAndEdges"),T=e((e,n)=>{if(i.warn("extractor - ",n,b(e),e.children("D")),n>10)return void i.error("Bailing out");let t=e.nodes(),r=!1;for(const a of t){const n=e.children(a);r=r||n.length>0}if(r){i.debug("Nodes = ",t,n);for(const r of t)if(i.debug("Extracting node",r,C,C.has(r)&&!C.get(r).externalConnections,!e.parent(r),e.node(r),e.children("D")," Depth ",n),C.has(r))if(!C.get(r).externalConnections&&e.children(r)&&e.children(r).length>0){i.warn("Cluster without external connections, without a parent and with children",r,n);let t="TB"===e.graph().rankdir?"LR":"TB";C.get(r)?.clusterData?.dir&&(t=C.get(r).clusterData.dir,i.warn("Fixing dir",C.get(r).clusterData.dir,t));const a=new w({multigraph:!0,compound:!0}).setGraph({rankdir:t,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});i.warn("Old graph before copy",b(e)),k(r,e,a,r),e.setNode(r,{clusterNode:!0,id:r,clusterData:C.get(r).clusterData,label:C.get(r).label,graph:a}),i.warn("New graph after copy node: (",r,")",b(a)),i.debug("Old graph after copy",b(e))}else i.warn("Cluster ** ",r," **not meeting the criteria !externalConnections:",!C.get(r).externalConnections," no parent: ",!e.parent(r)," children ",e.children(r)&&e.children(r).length>0,e.children("D"),n),i.debug(C);else i.debug("Not a cluster",r,n);t=e.nodes(),i.warn("New list of nodes",t);for(const r of t){const t=e.node(r);i.warn(" Now next level",r,t),t?.clusterNode&&T(t.graph,n+1)}}else i.debug("Done, no node has children",e.nodes())},"extractor"),R=e((e,n)=>{if(0===n.length)return[];let t=Object.assign([],n);return n.forEach(n=>{const r=e.children(n),a=R(e,r);t=[...t,...a]}),t},"sorter"),j=e(e=>R(e,e.children()),"sortNodesByHierarchy"),F=e(async(n,t,r,a,o,w)=>{i.warn("Graph in recursive render:XAX",b(t),o);const m=t.graph().rankdir;i.trace("Dir in recursive render - dir:",m);const y=n.insert("g").attr("class","root");t.nodes()?i.info("Recursive render XXX",t.nodes()):i.info("No nodes found for",t),t.edges().length>0&&i.info("Recursive edges",t.edge(t.edges()[0]));const X=y.insert("g").attr("class","clusters"),E=y.insert("g").attr("class","edgePaths"),N=y.insert("g").attr("class","edgeLabels"),x=y.insert("g").attr("class","nodes");await Promise.all(t.nodes().map(async function(e){const n=t.node(e);if(void 0!==o){const n=JSON.parse(JSON.stringify(o.clusterData));i.trace("Setting data for parent cluster XXX\n Node.id = ",e,"\n data=",n.height,"\nParent cluster",o.height),t.setNode(o.id,n),t.parent(e)||(i.trace("Setting parent",e,o.id),t.setParent(e,o.id,n))}if(i.info("(Insert) Node XXX"+e+": "+JSON.stringify(t.node(e))),n?.clusterNode){i.info("Cluster identified XBX",e,n.width,t.node(e));const{ranksep:o,nodesep:c}=t.graph();n.graph.setGraph({...n.graph.graph(),ranksep:o+25,nodesep:c});const g=await F(x,n.graph,r,a,t.node(e),w),l=g.elem;s(n,l),n.diff=g.diff||0,i.info("New compound node after recursive render XAX",e,"width",n.width,"height",n.height),d(l,n)}else t.children(e).length>0?(i.trace("Cluster - the non recursive path XBX",e,n.id,n,n.width,"Graph:",t),i.trace(B(n.id,t)),C.set(n.id,{id:B(n.id,t),node:n})):(i.trace("Node - the non recursive path XAX",e,x,t.node(e),m),await c(x,t.node(e),{config:w,dir:m}))}));const S=e(async()=>{const e=t.edges().map(async function(e){const n=t.edge(e.v,e.w,e.name);i.info("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(e)),i.info("Edge "+e.v+" -> "+e.w+": ",e," ",JSON.stringify(t.edge(e))),i.info("Fix",C,"ids:",e.v,e.w,"Translating: ",C.get(e.v),C.get(e.w)),await u(N,n)});await Promise.all(e)},"processEdges");await S(),i.info("Graph before layout:",JSON.stringify(b(t))),i.info("############################################# XXX"),i.info("###                Layout                 ### XXX"),i.info("############################################# XXX"),v(t),i.info("Graph after layout:",JSON.stringify(b(t)));let I=0,{subGraphTitleTotalMargin:D}=g(w);return await Promise.all(j(t).map(async function(e){const n=t.node(e);if(i.info("Position XBX => "+e+": ("+n.x,","+n.y,") width: ",n.width," height: ",n.height),n?.clusterNode)n.y+=D,i.info("A tainted cluster node XBX1",e,n.id,n.width,n.height,n.x,n.y,t.parent(e)),C.get(n.id).node=n,l(n);else if(t.children(e).length>0){i.info("A pure cluster node XBX1",e,n.id,n.x,n.y,n.width,n.height,t.parent(e)),n.height+=D,t.node(n.parentId);const r=n?.padding/2||0,a=n?.labelBBox?.height||0,o=a-r||0;i.debug("OffsetY",o,"labelHeight",a,"halfPadding",r),await f(X,n),C.get(n.id).node=n}else{const e=t.node(n.parentId);n.y+=D/2,i.info("A regular node XBX1 - using the padding",n.id,"parent",n.parentId,n.width,n.height,n.x,n.y,"offsetY",n.offsetY,"parent",e,e?.offsetY,n),l(n)}})),t.edges().forEach(function(e){const n=t.edge(e);i.info("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(n),n),n.points.forEach(e=>e.y+=D/2);const o=t.node(e.v);var s=t.node(e.w);const d=h(E,n,C,r,o,s,a);p(n,d)}),t.nodes().forEach(function(e){const n=t.node(e);i.info(e,n.type,n.diff),n.isGroup&&(I=n.diff)}),i.warn("Returning from recursive render XAX",y,I),{elem:y,diff:I}},"recursiveRender"),L=e(async(e,s)=>{const d=new w({multigraph:!0,compound:!0}).setGraph({rankdir:e.direction,nodesep:e.config?.nodeSpacing||e.config?.flowchart?.nodeSpacing||e.nodeSpacing,ranksep:e.config?.rankSpacing||e.config?.flowchart?.rankSpacing||e.rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),c=s.select("g");n(c,e.markers,e.type,e.diagramId),t(),r(),a(),I(),e.nodes.forEach(e=>{d.setNode(e.id,{...e}),e.parentId&&d.setParent(e.id,e.parentId)}),i.debug("Edges:",e.edges),e.edges.forEach(e=>{if(e.start===e.end){const n=e.start,t=n+"---"+n+"---1",r=n+"---"+n+"---2",a=d.node(n);d.setNode(t,{domId:t,id:t,parentId:a.parentId,labelStyle:"",label:"",padding:0,shape:"labelRect",style:"",width:10,height:10}),d.setParent(t,a.parentId),d.setNode(r,{domId:r,id:r,parentId:a.parentId,labelStyle:"",padding:0,shape:"labelRect",label:"",style:"",width:10,height:10}),d.setParent(r,a.parentId);const i=structuredClone(e),o=structuredClone(e),s=structuredClone(e);i.label="",i.arrowTypeEnd="none",i.id=n+"-cyclic-special-1",o.arrowTypeStart="none",o.arrowTypeEnd="none",o.id=n+"-cyclic-special-mid",s.label="",a.isGroup&&(i.fromCluster=n,s.toCluster=n),s.id=n+"-cyclic-special-2",s.arrowTypeStart="none",d.setEdge(n,t,i,n+"-cyclic-special-0"),d.setEdge(t,r,o,n+"-cyclic-special-1"),d.setEdge(r,n,s,n+"-cyc<lic-special-2")}else d.setEdge(e.start,e.end,{...e},e.id)}),i.warn("Graph at first:",JSON.stringify(b(d))),A(d),i.warn("Graph after XAX:",JSON.stringify(b(d)));const g=o();await F(c,d,e.type,e.diagramId,void 0,g)},"render");export{L as render};

import{_ as t,s as i,g as e,q as s,p as n,a,b as h,l as o,H as r,e as l,y as c,E as g,D as u,F as x,K as d,i as p,aF as f,R as y}from"./index.js";import{i as m}from"./init.js";import{o as b}from"./ordinal.js";import{l as A}from"./linear.js";import"./defaultLocale.js";function w(){var t,i,e=b().unknown(void 0),s=e.domain,n=e.range,a=0,h=1,o=!1,r=0,l=0,c=.5;function g(){var e=s().length,g=h<a,u=g?h:a,x=g?a:h;t=(x-u)/Math.max(1,e-r+2*l),o&&(t=Math.floor(t)),u+=(x-u-t*(e-r))*c,i=t*(1-r),o&&(u=Math.round(u),i=Math.round(i));var d=function(t,i,e){t=+t,i=+i,e=(n=arguments.length)<2?(i=t,t=0,1):n<3?1:+e;for(var s=-1,n=0|Math.max(0,Math.ceil((i-t)/e)),a=new Array(n);++s<n;)a[s]=t+s*e;return a}(e).map(function(i){return u+t*i});return n(g?d.reverse():d)}return delete e.unknown,e.domain=function(t){return arguments.length?(s(t),g()):s()},e.range=function(t){return arguments.length?([a,h]=t,a=+a,h=+h,g()):[a,h]},e.rangeRound=function(t){return[a,h]=t,a=+a,h=+h,o=!0,g()},e.bandwidth=function(){return i},e.step=function(){return t},e.round=function(t){return arguments.length?(o=!!t,g()):o},e.padding=function(t){return arguments.length?(r=Math.min(1,l=+t),g()):r},e.paddingInner=function(t){return arguments.length?(r=Math.min(1,t),g()):r},e.paddingOuter=function(t){return arguments.length?(l=+t,g()):l},e.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),g()):c},e.copy=function(){return w(s(),[a,h]).round(o).paddingInner(r).paddingOuter(l).align(c)},m.apply(g(),arguments)}var S=function(){var i=t(function(t,i,e,s){for(e=e||{},s=t.length;s--;e[t[s]]=i);return e},"o"),e=[1,10,12,14,16,18,19,21,23],s=[2,6],n=[1,3],a=[1,5],h=[1,6],o=[1,7],r=[1,5,10,12,14,16,18,19,21,23,34,35,36],l=[1,25],c=[1,26],g=[1,28],u=[1,29],x=[1,30],d=[1,31],p=[1,32],f=[1,33],y=[1,34],m=[1,35],b=[1,36],A=[1,37],w=[1,43],S=[1,42],C=[1,47],k=[1,50],_=[1,10,12,14,16,18,19,21,23,34,35,36],T=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],R=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],D=[1,64],L={trace:t(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:t(function(t,i,e,s,n,a,h){var o=a.length-1;switch(n){case 5:s.setOrientation(a[o]);break;case 9:s.setDiagramTitle(a[o].text.trim());break;case 12:s.setLineData({text:"",type:"text"},a[o]);break;case 13:s.setLineData(a[o-1],a[o]);break;case 14:s.setBarData({text:"",type:"text"},a[o]);break;case 15:s.setBarData(a[o-1],a[o]);break;case 16:this.$=a[o].trim(),s.setAccTitle(this.$);break;case 17:case 18:this.$=a[o].trim(),s.setAccDescription(this.$);break;case 19:case 27:this.$=a[o-1];break;case 20:this.$=[Number(a[o-2]),...a[o]];break;case 21:this.$=[Number(a[o])];break;case 22:s.setXAxisTitle(a[o]);break;case 23:s.setXAxisTitle(a[o-1]);break;case 24:s.setXAxisTitle({type:"text",text:""});break;case 25:s.setXAxisBand(a[o]);break;case 26:s.setXAxisRangeData(Number(a[o-2]),Number(a[o]));break;case 28:this.$=[a[o-2],...a[o]];break;case 29:this.$=[a[o]];break;case 30:s.setYAxisTitle(a[o]);break;case 31:s.setYAxisTitle(a[o-1]);break;case 32:s.setYAxisTitle({type:"text",text:""});break;case 33:s.setYAxisRangeData(Number(a[o-2]),Number(a[o]));break;case 37:case 38:this.$={text:a[o],type:"text"};break;case 39:this.$={text:a[o],type:"markdown"};break;case 40:this.$=a[o];break;case 41:this.$=a[o-1]+""+a[o]}},"anonymous"),table:[i(e,s,{3:1,4:2,7:4,5:n,34:a,35:h,36:o}),{1:[3]},i(e,s,{4:2,7:4,3:8,5:n,34:a,35:h,36:o}),i(e,s,{4:2,7:4,6:9,3:10,5:n,8:[1,11],34:a,35:h,36:o}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},i(r,[2,34]),i(r,[2,35]),i(r,[2,36]),{1:[2,1]},i(e,s,{4:2,7:4,3:21,5:n,34:a,35:h,36:o}),{1:[2,3]},i(r,[2,5]),i(e,[2,7],{4:22,34:a,35:h,36:o}),{11:23,37:24,38:l,39:c,40:27,41:g,42:u,43:x,44:d,45:p,46:f,47:y,48:m,49:b,50:A},{11:39,13:38,24:w,27:S,29:40,30:41,37:24,38:l,39:c,40:27,41:g,42:u,43:x,44:d,45:p,46:f,47:y,48:m,49:b,50:A},{11:45,15:44,27:C,33:46,37:24,38:l,39:c,40:27,41:g,42:u,43:x,44:d,45:p,46:f,47:y,48:m,49:b,50:A},{11:49,17:48,24:k,37:24,38:l,39:c,40:27,41:g,42:u,43:x,44:d,45:p,46:f,47:y,48:m,49:b,50:A},{11:52,17:51,24:k,37:24,38:l,39:c,40:27,41:g,42:u,43:x,44:d,45:p,46:f,47:y,48:m,49:b,50:A},{20:[1,53]},{22:[1,54]},i(_,[2,18]),{1:[2,2]},i(_,[2,8]),i(_,[2,9]),i(T,[2,37],{40:55,41:g,42:u,43:x,44:d,45:p,46:f,47:y,48:m,49:b,50:A}),i(T,[2,38]),i(T,[2,39]),i(R,[2,40]),i(R,[2,42]),i(R,[2,43]),i(R,[2,44]),i(R,[2,45]),i(R,[2,46]),i(R,[2,47]),i(R,[2,48]),i(R,[2,49]),i(R,[2,50]),i(R,[2,51]),i(_,[2,10]),i(_,[2,22],{30:41,29:56,24:w,27:S}),i(_,[2,24]),i(_,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:l,39:c,40:27,41:g,42:u,43:x,44:d,45:p,46:f,47:y,48:m,49:b,50:A},i(_,[2,11]),i(_,[2,30],{33:60,27:C}),i(_,[2,32]),{31:[1,61]},i(_,[2,12]),{17:62,24:k},{25:63,27:D},i(_,[2,14]),{17:65,24:k},i(_,[2,16]),i(_,[2,17]),i(R,[2,41]),i(_,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},i(_,[2,31]),{27:[1,69]},i(_,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},i(_,[2,15]),i(_,[2,26]),i(_,[2,27]),{11:59,32:72,37:24,38:l,39:c,40:27,41:g,42:u,43:x,44:d,45:p,46:f,47:y,48:m,49:b,50:A},i(_,[2,33]),i(_,[2,19]),{25:73,27:D},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:t(function(t,i){if(!i.recoverable){var e=new Error(t);throw e.hash=i,e}this.trace(t)},"parseError"),parse:t(function(i){var e=this,s=[0],n=[],a=[null],h=[],o=this.table,r="",l=0,c=0,g=h.slice.call(arguments,1),u=Object.create(this.lexer),x={yy:{}};for(var d in this.yy)Object.prototype.hasOwnProperty.call(this.yy,d)&&(x.yy[d]=this.yy[d]);u.setInput(i,x.yy),x.yy.lexer=u,x.yy.parser=this,void 0===u.yylloc&&(u.yylloc={});var p=u.yylloc;h.push(p);var f=u.options&&u.options.ranges;function y(){var t;return"number"!=typeof(t=n.pop()||u.lex()||1)&&(t instanceof Array&&(t=(n=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof x.yy.parseError?this.parseError=x.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,t(function(t){s.length=s.length-2*t,a.length=a.length-t,h.length=h.length-t},"popStack"),t(y,"lex");for(var m,b,A,w,S,C,k,_,T={};;){if(b=s[s.length-1],this.defaultActions[b]?A=this.defaultActions[b]:(null==m&&(m=y()),A=o[b]&&o[b][m]),void 0===A||!A.length||!A[0]){var R="";for(S in _=[],o[b])this.terminals_[S]&&S>2&&_.push("'"+this.terminals_[S]+"'");R=u.showPosition?"Parse error on line "+(l+1)+":\n"+u.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==m?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(R,{text:u.match,token:this.terminals_[m]||m,line:u.yylineno,loc:p,expected:_})}if(A[0]instanceof Array&&A.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+m);switch(A[0]){case 1:s.push(m),a.push(u.yytext),h.push(u.yylloc),s.push(A[1]),m=null,c=u.yyleng,r=u.yytext,l=u.yylineno,p=u.yylloc;break;case 2:if(C=this.productions_[A[1]][1],T.$=a[a.length-C],T._$={first_line:h[h.length-(C||1)].first_line,last_line:h[h.length-1].last_line,first_column:h[h.length-(C||1)].first_column,last_column:h[h.length-1].last_column},f&&(T._$.range=[h[h.length-(C||1)].range[0],h[h.length-1].range[1]]),void 0!==(w=this.performAction.apply(T,[r,c,l,x.yy,A[1],a,h].concat(g))))return w;C&&(s=s.slice(0,-1*C*2),a=a.slice(0,-1*C),h=h.slice(0,-1*C)),s.push(this.productions_[A[1]][0]),a.push(T.$),h.push(T._$),k=o[s[s.length-2]][s[s.length-1]],s.push(k);break;case 3:return!0}}return!0},"parse")},P=function(){return{EOF:1,parseError:t(function(t,i){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,i)},"parseError"),setInput:t(function(t,i){return this.yy=i||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:t(function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},"input"),unput:t(function(t){var i=t.length,e=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-i),this.offset-=i;var s=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),e.length-1&&(this.yylineno-=e.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:e?(e.length===s.length?this.yylloc.first_column:0)+s[s.length-e.length].length-e[0].length:this.yylloc.first_column-i},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-i]),this.yyleng=this.yytext.length,this},"unput"),more:t(function(){return this._more=!0,this},"more"),reject:t(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:t(function(t){this.unput(this.match.slice(t))},"less"),pastInput:t(function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:t(function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:t(function(){var t=this.pastInput(),i=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+i+"^"},"showPosition"),test_match:t(function(t,i){var e,s,n;if(this.options.backtrack_lexer&&(n={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(n.yylloc.range=this.yylloc.range.slice(0))),(s=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=s.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,i,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e)return e;if(this._backtrack){for(var a in n)this[a]=n[a];return!1}return!1},"test_match"),next:t(function(){if(this.done)return this.EOF;var t,i,e,s;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),a=0;a<n.length;a++)if((e=this._input.match(this.rules[n[a]]))&&(!i||e[0].length>i[0].length)){if(i=e,s=a,this.options.backtrack_lexer){if(!1!==(t=this.test_match(e,n[a])))return t;if(this._backtrack){i=!1;continue}return!1}if(!this.options.flex)break}return i?!1!==(t=this.test_match(i,n[s]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:t(function(){var t=this.next();return t||this.lex()},"lex"),begin:t(function(t){this.conditionStack.push(t)},"begin"),popState:t(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:t(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:t(function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},"topState"),pushState:t(function(t){this.begin(t)},"pushState"),stateStackSize:t(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:t(function(t,i,e,s){switch(e){case 0:case 1:case 5:case 44:break;case 2:case 3:return this.popState(),34;case 4:return 34;case 6:return 10;case 7:return this.pushState("acc_title"),19;case 8:return this.popState(),"acc_title_value";case 9:return this.pushState("acc_descr"),21;case 10:return this.popState(),"acc_descr_value";case 11:this.pushState("acc_descr_multiline");break;case 12:case 26:case 28:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:case 15:return 5;case 16:return 8;case 17:return this.pushState("axis_data"),"X_AXIS";case 18:return this.pushState("axis_data"),"Y_AXIS";case 19:return this.pushState("axis_band_data"),24;case 20:return 31;case 21:return this.pushState("data"),16;case 22:return this.pushState("data"),18;case 23:return this.pushState("data_inner"),24;case 24:return 27;case 25:return this.popState(),26;case 27:this.pushState("string");break;case 29:return"STR";case 30:return 24;case 31:return 26;case 32:return 43;case 33:return"COLON";case 34:return 44;case 35:return 28;case 36:return 45;case 37:return 46;case 38:return 48;case 39:return 50;case 40:return 47;case 41:return 41;case 42:return 49;case 43:return 42;case 45:return 35;case 46:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:xychart\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,24,25,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,18,21,22,23,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,25,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,22,24,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[28,29],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0}}}}();function v(){this.yy={}}return L.lexer=P,t(v,"Parser"),v.prototype=L,L.Parser=v,new v}();S.parser=S;var C=S;function k(t){return"bar"===t.type}function _(t){return"band"===t.type}function T(t){return"linear"===t.type}t(k,"isBarPlot"),t(_,"isBandAxisData"),t(T,"isLinearAxisData");var R=class{constructor(t){this.parentGroup=t}static{t(this,"TextDimensionCalculatorWithFont")}getMaxDimension(t,i){if(!this.parentGroup)return{width:t.reduce((t,i)=>Math.max(i.length,t),0)*i,height:i};const e={width:0,height:0},s=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",i);for(const n of t){const t=f(s,1,n),a=t?t.width:n.length*i,h=t?t.height:i;e.width=Math.max(e.width,a),e.height=Math.max(e.height,h)}return s.remove(),e}},D=class{constructor(t,i,e,s){this.axisConfig=t,this.title=i,this.textDimensionCalculator=e,this.axisThemeConfig=s,this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left",this.showTitle=!1,this.showLabel=!1,this.showTick=!1,this.showAxisLine=!1,this.outerPadding=0,this.titleTextHeight=0,this.labelTextHeight=0,this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}static{t(this,"BaseAxis")}setRange(t){this.range=t,"left"===this.axisPosition||"right"===this.axisPosition?this.boundingRect.height=t[1]-t[0]:this.boundingRect.width=t[1]-t[0],this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(t){this.axisPosition=t,this.setRange(this.range)}getTickDistance(){const t=this.getRange();return Math.abs(t[0]-t[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map(t=>t.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){.7*this.getTickDistance()>2*this.outerPadding&&(this.outerPadding=Math.floor(.7*this.getTickDistance()/2)),this.recalculateScale()}calculateSpaceIfDrawnHorizontally(t){let i=t.height;if(this.axisConfig.showAxisLine&&i>this.axisConfig.axisLineWidth&&(i-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){const e=this.getLabelDimension(),s=.2*t.width;this.outerPadding=Math.min(e.width/2,s);const n=e.height+2*this.axisConfig.labelPadding;this.labelTextHeight=e.height,n<=i&&(i-=n,this.showLabel=!0)}if(this.axisConfig.showTick&&i>=this.axisConfig.tickLength&&(this.showTick=!0,i-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){const t=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),e=t.height+2*this.axisConfig.titlePadding;this.titleTextHeight=t.height,e<=i&&(i-=e,this.showTitle=!0)}this.boundingRect.width=t.width,this.boundingRect.height=t.height-i}calculateSpaceIfDrawnVertical(t){let i=t.width;if(this.axisConfig.showAxisLine&&i>this.axisConfig.axisLineWidth&&(i-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){const e=this.getLabelDimension(),s=.2*t.height;this.outerPadding=Math.min(e.height/2,s);const n=e.width+2*this.axisConfig.labelPadding;n<=i&&(i-=n,this.showLabel=!0)}if(this.axisConfig.showTick&&i>=this.axisConfig.tickLength&&(this.showTick=!0,i-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){const t=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),e=t.height+2*this.axisConfig.titlePadding;this.titleTextHeight=t.height,e<=i&&(i-=e,this.showTitle=!0)}this.boundingRect.width=t.width-i,this.boundingRect.height=t.height}calculateSpace(t){return"left"===this.axisPosition||"right"===this.axisPosition?this.calculateSpaceIfDrawnVertical(t):this.calculateSpaceIfDrawnHorizontally(t),this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(t){this.boundingRect.x=t.x,this.boundingRect.y=t.y}getDrawableElementsForLeftAxis(){const t=[];if(this.showAxisLine){const i=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;t.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${i},${this.boundingRect.y} L ${i},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&t.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map(t=>({text:t.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(t),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))}),this.showTick){const i=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);t.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map(t=>({path:`M ${i},${this.getScaleValue(t)} L ${i-this.axisConfig.tickLength},${this.getScaleValue(t)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&t.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]}),t}getDrawableElementsForBottomAxis(){const t=[];if(this.showAxisLine){const i=this.boundingRect.y+this.axisConfig.axisLineWidth/2;t.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${i} L ${this.boundingRect.x+this.boundingRect.width},${i}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&t.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map(t=>({text:t.toString(),x:this.getScaleValue(t),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){const i=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);t.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map(t=>({path:`M ${this.getScaleValue(t)},${i} L ${this.getScaleValue(t)},${i+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&t.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),t}getDrawableElementsForTopAxis(){const t=[];if(this.showAxisLine){const i=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;t.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${i} L ${this.boundingRect.x+this.boundingRect.width},${i}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&t.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map(t=>({text:t.toString(),x:this.getScaleValue(t),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+2*this.axisConfig.titlePadding:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){const i=this.boundingRect.y;t.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map(t=>({path:`M ${this.getScaleValue(t)},${i+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(t)},${i+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&t.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),t}getDrawableElements(){if("left"===this.axisPosition)return this.getDrawableElementsForLeftAxis();if("right"===this.axisPosition)throw Error("Drawing of right axis is not implemented");return"bottom"===this.axisPosition?this.getDrawableElementsForBottomAxis():"top"===this.axisPosition?this.getDrawableElementsForTopAxis():[]}},L=class extends D{static{t(this,"BandAxis")}constructor(t,i,e,s,n){super(t,s,n,i),this.categories=e,this.scale=w().domain(this.categories).range(this.getRange())}setRange(t){super.setRange(t)}recalculateScale(){this.scale=w().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(.5),o.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(t){return this.scale(t)??this.getRange()[0]}},P=class extends D{static{t(this,"LinearAxis")}constructor(t,i,e,s,n){super(t,s,n,i),this.domain=e,this.scale=A().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){const t=[...this.domain];"left"===this.axisPosition&&t.reverse(),this.scale=A().domain(t).range(this.getRange())}getScaleValue(t){return this.scale(t)}};function v(t,i,e,s){const n=new R(s);return _(t)?new L(i,e,t.categories,t.title,n):new P(i,e,[t.min,t.max],t.title,n)}t(v,"getAxis");var E=class{constructor(t,i,e,s){this.textDimensionCalculator=t,this.chartConfig=i,this.chartData=e,this.chartThemeConfig=s,this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}static{t(this,"ChartTitle")}setBoundingBoxXY(t){this.boundingRect.x=t.x,this.boundingRect.y=t.y}calculateSpace(t){const i=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),e=Math.max(i.width,t.width),s=i.height+2*this.chartConfig.titlePadding;return i.width<=e&&i.height<=s&&this.chartConfig.showTitle&&this.chartData.title&&(this.boundingRect.width=e,this.boundingRect.height=s,this.showChartTitle=!0),{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){const t=[];return this.showChartTitle&&t.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]}),t}};function M(t,i,e,s){const n=new R(s);return new E(n,t,i,e)}t(M,"getChartTitleComponent");var I=class{constructor(t,i,e,s,n){this.plotData=t,this.xAxis=i,this.yAxis=e,this.orientation=s,this.plotIndex=n}static{t(this,"LinePlot")}getDrawableElement(){const t=this.plotData.data.map(t=>[this.xAxis.getScaleValue(t[0]),this.yAxis.getScaleValue(t[1])]);let i;return i="horizontal"===this.orientation?y().y(t=>t[0]).x(t=>t[1])(t):y().x(t=>t[0]).y(t=>t[1])(t),i?[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:i,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]:[]}},$=class{constructor(t,i,e,s,n,a){this.barData=t,this.boundingRect=i,this.xAxis=e,this.yAxis=s,this.orientation=n,this.plotIndex=a}static{t(this,"BarPlot")}getDrawableElement(){const t=this.barData.data.map(t=>[this.xAxis.getScaleValue(t[0]),this.yAxis.getScaleValue(t[1])]),i=.95*Math.min(2*this.xAxis.getAxisOuterPadding(),this.xAxis.getTickDistance()),e=i/2;return"horizontal"===this.orientation?[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:t.map(t=>({x:this.boundingRect.x,y:t[0]-e,height:i,width:t[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]:[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:t.map(t=>({x:t[0]-e,y:t[1],width:i,height:this.boundingRect.y+this.boundingRect.height-t[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}},B=class{constructor(t,i,e){this.chartConfig=t,this.chartData=i,this.chartThemeConfig=e,this.boundingRect={x:0,y:0,width:0,height:0}}static{t(this,"BasePlot")}setAxes(t,i){this.xAxis=t,this.yAxis=i}setBoundingBoxXY(t){this.boundingRect.x=t.x,this.boundingRect.y=t.y}calculateSpace(t){return this.boundingRect.width=t.width,this.boundingRect.height=t.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!this.xAxis||!this.yAxis)throw Error("Axes must be passed to render Plots");const t=[];for(const[i,e]of this.chartData.plots.entries())switch(e.type){case"line":{const s=new I(e,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,i);t.push(...s.getDrawableElement())}break;case"bar":{const s=new $(e,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,i);t.push(...s.getDrawableElement())}}return t}};function z(t,i,e){return new B(t,i,e)}t(z,"getPlotComponent");var O,F=class{constructor(t,i,e,s){this.chartConfig=t,this.chartData=i,this.componentStore={title:M(t,i,e,s),plot:z(t,i,e),xAxis:v(i.xAxis,t.xAxis,{titleColor:e.xAxisTitleColor,labelColor:e.xAxisLabelColor,tickColor:e.xAxisTickColor,axisLineColor:e.xAxisLineColor},s),yAxis:v(i.yAxis,t.yAxis,{titleColor:e.yAxisTitleColor,labelColor:e.yAxisLabelColor,tickColor:e.yAxisTickColor,axisLineColor:e.yAxisLineColor},s)}}static{t(this,"Orchestrator")}calculateVerticalSpace(){let t=this.chartConfig.width,i=this.chartConfig.height,e=0,s=0,n=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),a=Math.floor(i*this.chartConfig.plotReservedSpacePercent/100),h=this.componentStore.plot.calculateSpace({width:n,height:a});t-=h.width,i-=h.height,h=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:i}),s=h.height,i-=h.height,this.componentStore.xAxis.setAxisPosition("bottom"),h=this.componentStore.xAxis.calculateSpace({width:t,height:i}),i-=h.height,this.componentStore.yAxis.setAxisPosition("left"),h=this.componentStore.yAxis.calculateSpace({width:t,height:i}),e=h.width,t-=h.width,t>0&&(n+=t,t=0),i>0&&(a+=i,i=0),this.componentStore.plot.calculateSpace({width:n,height:a}),this.componentStore.plot.setBoundingBoxXY({x:e,y:s}),this.componentStore.xAxis.setRange([e,e+n]),this.componentStore.xAxis.setBoundingBoxXY({x:e,y:s+a}),this.componentStore.yAxis.setRange([s,s+a]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:s}),this.chartData.plots.some(t=>k(t))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let t=this.chartConfig.width,i=this.chartConfig.height,e=0,s=0,n=0,a=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),h=Math.floor(i*this.chartConfig.plotReservedSpacePercent/100),o=this.componentStore.plot.calculateSpace({width:a,height:h});t-=o.width,i-=o.height,o=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:i}),e=o.height,i-=o.height,this.componentStore.xAxis.setAxisPosition("left"),o=this.componentStore.xAxis.calculateSpace({width:t,height:i}),t-=o.width,s=o.width,this.componentStore.yAxis.setAxisPosition("top"),o=this.componentStore.yAxis.calculateSpace({width:t,height:i}),i-=o.height,n=e+o.height,t>0&&(a+=t,t=0),i>0&&(h+=i,i=0),this.componentStore.plot.calculateSpace({width:a,height:h}),this.componentStore.plot.setBoundingBoxXY({x:s,y:n}),this.componentStore.yAxis.setRange([s,s+a]),this.componentStore.yAxis.setBoundingBoxXY({x:s,y:e}),this.componentStore.xAxis.setRange([n,n+h]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:n}),this.chartData.plots.some(t=>k(t))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){"horizontal"===this.chartConfig.chartOrientation?this.calculateHorizontalSpace():this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();const t=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(const i of Object.values(this.componentStore))t.push(...i.getDrawableElements());return t}},W=class{static{t(this,"XYChartBuilder")}static build(t,i,e,s){return new F(t,i,e,s).getDrawableElement()}},X=0,N=Q(),V=G(),Y=K(),H=V.plotColorPalette.split(",").map(t=>t.trim()),U=!1,j=!1;function G(){const t=d(),i=g();return u(t.xyChart,i.themeVariables.xyChart)}function Q(){const t=g();return u(x.xyChart,t.xyChart)}function K(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}function q(t){const i=g();return p(t.trim(),i)}function Z(t){O=t}function J(t){N.chartOrientation="horizontal"===t?"horizontal":"vertical"}function tt(t){Y.xAxis.title=q(t.text)}function it(t,i){Y.xAxis={type:"linear",title:Y.xAxis.title,min:t,max:i},U=!0}function et(t){Y.xAxis={type:"band",title:Y.xAxis.title,categories:t.map(t=>q(t.text))},U=!0}function st(t){Y.yAxis.title=q(t.text)}function nt(t,i){Y.yAxis={type:"linear",title:Y.yAxis.title,min:t,max:i},j=!0}function at(t){const i=Math.min(...t),e=Math.max(...t),s=T(Y.yAxis)?Y.yAxis.min:1/0,n=T(Y.yAxis)?Y.yAxis.max:-1/0;Y.yAxis={type:"linear",title:Y.yAxis.title,min:Math.min(s,i),max:Math.max(n,e)}}function ht(t){let i=[];if(0===t.length)return i;if(!U){const i=T(Y.xAxis)?Y.xAxis.min:1/0,e=T(Y.xAxis)?Y.xAxis.max:-1/0;it(Math.min(i,1),Math.max(e,t.length))}if(j||at(t),_(Y.xAxis)&&(i=Y.xAxis.categories.map((i,e)=>[i,t[e]])),T(Y.xAxis)){const e=Y.xAxis.min,s=Y.xAxis.max,n=(s-e)/(t.length-1),a=[];for(let t=e;t<=s;t+=n)a.push(`${t}`);i=a.map((i,e)=>[i,t[e]])}return i}function ot(t){return H[0===t?0:t%H.length]}function rt(t,i){const e=ht(i);Y.plots.push({type:"line",strokeFill:ot(X),strokeWidth:2,data:e}),X++}function lt(t,i){const e=ht(i);Y.plots.push({type:"bar",fill:ot(X),data:e}),X++}function ct(){if(0===Y.plots.length)throw Error("No Plot to render, please provide a plot with some data");return Y.title=s(),W.build(N,Y,V,O)}function gt(){return V}function ut(){return N}function xt(){return Y}t(G,"getChartDefaultThemeConfig"),t(Q,"getChartDefaultConfig"),t(K,"getChartDefaultData"),t(q,"textSanitizer"),t(Z,"setTmpSVGG"),t(J,"setOrientation"),t(tt,"setXAxisTitle"),t(it,"setXAxisRangeData"),t(et,"setXAxisBand"),t(st,"setYAxisTitle"),t(nt,"setYAxisRangeData"),t(at,"setYAxisRangeFromPlotData"),t(ht,"transformDataWithoutCategory"),t(ot,"getPlotColorFromPalette"),t(rt,"setLineData"),t(lt,"setBarData"),t(ct,"getDrawableElem"),t(gt,"getChartThemeConfig"),t(ut,"getChartConfig"),t(xt,"getXYChartData");var dt={parser:C,db:{getDrawableElem:ct,clear:t(function(){c(),X=0,N=Q(),Y={yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]},V=G(),H=V.plotColorPalette.split(",").map(t=>t.trim()),U=!1,j=!1},"clear"),setAccTitle:h,getAccTitle:a,setDiagramTitle:n,getDiagramTitle:s,getAccDescription:e,setAccDescription:i,setOrientation:J,setXAxisTitle:tt,setXAxisRangeData:it,setXAxisBand:et,setYAxisTitle:st,setYAxisRangeData:nt,setLineData:rt,setBarData:lt,setTmpSVGG:Z,getChartThemeConfig:gt,getChartConfig:ut,getXYChartData:xt},renderer:{draw:t((i,e,s,n)=>{const a=n.db,h=a.getChartThemeConfig(),c=a.getChartConfig(),g=a.getXYChartData().plots[0].data.map(t=>t[1]);function u(t){return"top"===t?"text-before-edge":"middle"}function x(t){return"left"===t?"start":"right"===t?"end":"middle"}function d(t){return`translate(${t.x}, ${t.y}) rotate(${t.rotation||0})`}t(u,"getDominantBaseLine"),t(x,"getTextAnchor"),t(d,"getTextTransformation"),o.debug("Rendering xychart chart\n"+i);const p=r(e),f=p.append("g").attr("class","main"),y=f.append("rect").attr("width",c.width).attr("height",c.height).attr("class","background");l(p,c.height,c.width,!0),p.attr("viewBox",`0 0 ${c.width} ${c.height}`),y.attr("fill",h.backgroundColor),a.setTmpSVGG(p.append("g").attr("class","mermaid-tmp-group"));const m=a.getDrawableElem(),b={};function A(t){let i=f,e="";for(const[s]of t.entries()){let n=f;s>0&&b[e]&&(n=b[e]),e+=t[s],i=b[e],i||(i=b[e]=n.append("g").attr("class",t[s]))}return i}t(A,"getGroup");for(const o of m){if(0===o.data.length)continue;const i=A(o.groupTexts);switch(o.type){case"rect":if(i.selectAll("rect").data(o.data).enter().append("rect").attr("x",t=>t.x).attr("y",t=>t.y).attr("width",t=>t.width).attr("height",t=>t.height).attr("fill",t=>t.fill).attr("stroke",t=>t.strokeFill).attr("stroke-width",t=>t.strokeWidth),c.showDataLabel)if("horizontal"===c.chartOrientation){let e=function(t,i){const{data:e,label:n}=t;return i*n.length*s<=e.width-10};t(e,"fitsHorizontally");const s=.7,n=o.data.map((t,i)=>({data:t,label:g[i].toString()})).filter(t=>t.data.width>0&&t.data.height>0),a=n.map(t=>{const{data:i}=t;let s=.7*i.height;for(;!e(t,s)&&s>0;)s-=1;return s}),h=Math.floor(Math.min(...a));i.selectAll("text").data(n).enter().append("text").attr("x",t=>t.data.x+t.data.width-10).attr("y",t=>t.data.y+t.data.height/2).attr("text-anchor","end").attr("dominant-baseline","middle").attr("fill","black").attr("font-size",`${h}px`).text(t=>t.label)}else{let e=function(t,i,e){const{data:s,label:n}=t,a=i*n.length*.7,h=s.x+s.width/2,o=h+a/2,r=h-a/2>=s.x&&o<=s.x+s.width,l=s.y+e+i<=s.y+s.height;return r&&l};t(e,"fitsInBar");const s=10,n=o.data.map((t,i)=>({data:t,label:g[i].toString()})).filter(t=>t.data.width>0&&t.data.height>0),a=n.map(t=>{const{data:i,label:n}=t;let a=i.width/(.7*n.length);for(;!e(t,a,s)&&a>0;)a-=1;return a}),h=Math.floor(Math.min(...a));i.selectAll("text").data(n).enter().append("text").attr("x",t=>t.data.x+t.data.width/2).attr("y",t=>t.data.y+s).attr("text-anchor","middle").attr("dominant-baseline","hanging").attr("fill","black").attr("font-size",`${h}px`).text(t=>t.label)}break;case"text":i.selectAll("text").data(o.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",t=>t.fill).attr("font-size",t=>t.fontSize).attr("dominant-baseline",t=>u(t.verticalPos)).attr("text-anchor",t=>x(t.horizontalPos)).attr("transform",t=>d(t)).text(t=>t.text);break;case"path":i.selectAll("path").data(o.data).enter().append("path").attr("d",t=>t.path).attr("fill",t=>t.fill?t.fill:"none").attr("stroke",t=>t.strokeFill).attr("stroke-width",t=>t.strokeWidth)}}},"draw")}};export{dt as diagram};

import{p as e}from"./chunk-ANTBXLJU.js";import{a8 as t,a3 as a,aG as n,_ as i,g as r,s as l,a as s,b as o,q as p,p as c,l as u,c as d,D as f,H as g,N as h,e as m,y as x,F as y}from"./index.js";import{p as w}from"./treemap-75Q7IDZK.js";import{d as S}from"./arc.js";import{o as v}from"./ordinal.js";import"./_baseUniq.js";import"./_basePickBy.js";import"./clone.js";import"./init.js";function $(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function b(e){return e}var A=y.pie,D={sections:new Map,showData:!1},T=D.sections,C=D.showData,k=structuredClone(A),j={getConfig:i(()=>structuredClone(k),"getConfig"),clear:i(()=>{T=new Map,C=D.showData,x()},"clear"),setDiagramTitle:c,getDiagramTitle:p,setAccTitle:o,getAccTitle:s,setAccDescription:l,getAccDescription:r,addSection:i(({label:e,value:t})=>{if(t<0)throw new Error(`"${e}" has invalid value: ${t}. Negative values are not allowed in pie charts. All slice values must be >= 0.`);T.has(e)||(T.set(e,t),u.debug(`added new section: ${e}, with value: ${t}`))},"addSection"),getSections:i(()=>T,"getSections"),setShowData:i(e=>{C=e},"setShowData"),getShowData:i(()=>C,"getShowData")},M=i((t,a)=>{e(t,a),a.setShowData(t.showData),t.sections.map(a.addSection)},"populateDb"),z={parse:i(async e=>{const t=await w("pie",e);u.debug(t),M(t,j)},"parse")},F=i(e=>`\n  .pieCircle{\n    stroke: ${e.pieStrokeColor};\n    stroke-width : ${e.pieStrokeWidth};\n    opacity : ${e.pieOpacity};\n  }\n  .pieOuterCircle{\n    stroke: ${e.pieOuterStrokeColor};\n    stroke-width: ${e.pieOuterStrokeWidth};\n    fill: none;\n  }\n  .pieTitleText {\n    text-anchor: middle;\n    font-size: ${e.pieTitleTextSize};\n    fill: ${e.pieTitleTextColor};\n    font-family: ${e.fontFamily};\n  }\n  .slice {\n    font-family: ${e.fontFamily};\n    fill: ${e.pieSectionTextColor};\n    font-size:${e.pieSectionTextSize};\n    // fill: white;\n  }\n  .legend text {\n    fill: ${e.pieLegendTextColor};\n    font-family: ${e.fontFamily};\n    font-size: ${e.pieLegendTextSize};\n  }\n`,"getStyles"),O=i(e=>{const i=[...e.values()].reduce((e,t)=>e+t,0),r=[...e.entries()].map(([e,t])=>({label:e,value:t})).filter(e=>e.value/i*100>=1).sort((e,t)=>t.value-e.value),l=function(){var e=b,i=$,r=null,l=t(0),s=t(a),o=t(0);function p(t){var p,c,u,d,f,g=(t=n(t)).length,h=0,m=new Array(g),x=new Array(g),y=+l.apply(this,arguments),w=Math.min(a,Math.max(-a,s.apply(this,arguments)-y)),S=Math.min(Math.abs(w)/g,o.apply(this,arguments)),v=S*(w<0?-1:1);for(p=0;p<g;++p)(f=x[m[p]=p]=+e(t[p],p,t))>0&&(h+=f);for(null!=i?m.sort(function(e,t){return i(x[e],x[t])}):null!=r&&m.sort(function(e,a){return r(t[e],t[a])}),p=0,u=h?(w-g*v)/h:0;p<g;++p,y=d)c=m[p],d=y+((f=x[c])>0?f*u:0)+v,x[c]={data:t[c],index:p,value:f,startAngle:y,endAngle:d,padAngle:S};return x}return p.value=function(a){return arguments.length?(e="function"==typeof a?a:t(+a),p):e},p.sortValues=function(e){return arguments.length?(i=e,r=null,p):i},p.sort=function(e){return arguments.length?(r=e,i=null,p):r},p.startAngle=function(e){return arguments.length?(l="function"==typeof e?e:t(+e),p):l},p.endAngle=function(e){return arguments.length?(s="function"==typeof e?e:t(+e),p):s},p.padAngle=function(e){return arguments.length?(o="function"==typeof e?e:t(+e),p):o},p}().value(e=>e.value);return l(r)},"createPieArcs"),N={parser:z,db:j,renderer:{draw:i((e,t,a,n)=>{u.debug("rendering pie chart\n"+e);const i=n.db,r=d(),l=f(i.getConfig(),r.pie),s=18,o=450,p=o,c=g(t),x=c.append("g");x.attr("transform","translate(225,225)");const{themeVariables:y}=r;let[w]=h(y.pieOuterStrokeWidth);w??=2;const $=l.textPosition,b=Math.min(p,o)/2-40,A=S().innerRadius(0).outerRadius(b),D=S().innerRadius(b*$).outerRadius(b*$);x.append("circle").attr("cx",0).attr("cy",0).attr("r",b+w/2).attr("class","pieOuterCircle");const T=i.getSections(),C=O(T),k=[y.pie1,y.pie2,y.pie3,y.pie4,y.pie5,y.pie6,y.pie7,y.pie8,y.pie9,y.pie10,y.pie11,y.pie12];let j=0;T.forEach(e=>{j+=e});const M=C.filter(e=>"0"!==(e.data.value/j*100).toFixed(0)),z=v(k);x.selectAll("mySlices").data(M).enter().append("path").attr("d",A).attr("fill",e=>z(e.data.label)).attr("class","pieCircle"),x.selectAll("mySlices").data(M).enter().append("text").text(e=>(e.data.value/j*100).toFixed(0)+"%").attr("transform",e=>"translate("+D.centroid(e)+")").style("text-anchor","middle").attr("class","slice"),x.append("text").text(i.getDiagramTitle()).attr("x",0).attr("y",-200).attr("class","pieTitleText");const F=[...T.entries()].map(([e,t])=>({label:e,value:t})),N=x.selectAll(".legend").data(F).enter().append("g").attr("class","legend").attr("transform",(e,t)=>"translate(216,"+(22*t-22*F.length/2)+")");N.append("rect").attr("width",s).attr("height",s).style("fill",e=>z(e.label)).style("stroke",e=>z(e.label)),N.append("text").attr("x",22).attr("y",14).text(e=>i.getShowData()?`${e.label} [${e.value}]`:e.label);const R=512+Math.max(...N.selectAll("text").nodes().map(e=>e?.getBoundingClientRect().width??0));c.attr("viewBox",`0 0 ${R} 450`),m(c,o,R,l.useMaxWidth)},"draw")},styles:F};export{N as diagram};

import{aH as t,_ as e,l as i,c as n,H as r,V as o,F as s,i as a,W as h,X as l,Y as c,d as g,ak as u,N as d}from"./index.js";import{c as p}from"./cytoscape.esm.js";var f,y={exports:{}},E={exports:{}},_={exports:{}};function m(){return f?_.exports:(f=1,t=function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=26)}([function(t,e,i){function n(){}n.QUALITY=1,n.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,n.DEFAULT_INCREMENTAL=!1,n.DEFAULT_ANIMATION_ON_LAYOUT=!0,n.DEFAULT_ANIMATION_DURING_LAYOUT=!1,n.DEFAULT_ANIMATION_PERIOD=50,n.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,n.DEFAULT_GRAPH_MARGIN=15,n.NODE_DIMENSIONS_INCLUDE_LABELS=!1,n.SIMPLE_NODE_SIZE=40,n.SIMPLE_NODE_HALF_SIZE=n.SIMPLE_NODE_SIZE/2,n.EMPTY_COMPOUND_NODE_SIZE=40,n.MIN_EDGE_LENGTH=1,n.WORLD_BOUNDARY=1e6,n.INITIAL_WORLD_BOUNDARY=n.WORLD_BOUNDARY/1e3,n.WORLD_CENTER_X=1200,n.WORLD_CENTER_Y=900,t.exports=n},function(t,e,i){var n=i(2),r=i(8),o=i(9);function s(t,e,i){n.call(this,i),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=i,this.bendpoints=[],this.source=t,this.target=e}for(var a in s.prototype=Object.create(n.prototype),n)s[a]=n[a];s.prototype.getSource=function(){return this.source},s.prototype.getTarget=function(){return this.target},s.prototype.isInterGraph=function(){return this.isInterGraph},s.prototype.getLength=function(){return this.length},s.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},s.prototype.getBendpoints=function(){return this.bendpoints},s.prototype.getLca=function(){return this.lca},s.prototype.getSourceInLca=function(){return this.sourceInLca},s.prototype.getTargetInLca=function(){return this.targetInLca},s.prototype.getOtherEnd=function(t){if(this.source===t)return this.target;if(this.target===t)return this.source;throw"Node is not incident with this edge"},s.prototype.getOtherEndInGraph=function(t,e){for(var i=this.getOtherEnd(t),n=e.getGraphManager().getRoot();;){if(i.getOwner()==e)return i;if(i.getOwner()==n)break;i=i.getOwner().getParent()}return null},s.prototype.updateLength=function(){var t=new Array(4);this.isOverlapingSourceAndTarget=r.getIntersection(this.target.getRect(),this.source.getRect(),t),this.isOverlapingSourceAndTarget||(this.lengthX=t[0]-t[2],this.lengthY=t[1]-t[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},s.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},t.exports=s},function(t,e,i){t.exports=function(t){this.vGraphObject=t}},function(t,e,i){var n=i(2),r=i(10),o=i(13),s=i(0),a=i(16),h=i(4);function l(t,e,i,s){null==i&&null==s&&(s=e),n.call(this,s),null!=t.graphManager&&(t=t.graphManager),this.estimatedSize=r.MIN_VALUE,this.inclusionTreeDepth=r.MAX_VALUE,this.vGraphObject=s,this.edges=[],this.graphManager=t,this.rect=null!=i&&null!=e?new o(e.x,e.y,i.width,i.height):new o}for(var c in l.prototype=Object.create(n.prototype),n)l[c]=n[c];l.prototype.getEdges=function(){return this.edges},l.prototype.getChild=function(){return this.child},l.prototype.getOwner=function(){return this.owner},l.prototype.getWidth=function(){return this.rect.width},l.prototype.setWidth=function(t){this.rect.width=t},l.prototype.getHeight=function(){return this.rect.height},l.prototype.setHeight=function(t){this.rect.height=t},l.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},l.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},l.prototype.getCenter=function(){return new h(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},l.prototype.getLocation=function(){return new h(this.rect.x,this.rect.y)},l.prototype.getRect=function(){return this.rect},l.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},l.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},l.prototype.setRect=function(t,e){this.rect.x=t.x,this.rect.y=t.y,this.rect.width=e.width,this.rect.height=e.height},l.prototype.setCenter=function(t,e){this.rect.x=t-this.rect.width/2,this.rect.y=e-this.rect.height/2},l.prototype.setLocation=function(t,e){this.rect.x=t,this.rect.y=e},l.prototype.moveBy=function(t,e){this.rect.x+=t,this.rect.y+=e},l.prototype.getEdgeListToNode=function(t){var e=[],i=this;return i.edges.forEach(function(n){if(n.target==t){if(n.source!=i)throw"Incorrect edge source!";e.push(n)}}),e},l.prototype.getEdgesBetween=function(t){var e=[],i=this;return i.edges.forEach(function(n){if(n.source!=i&&n.target!=i)throw"Incorrect edge source and/or target";n.target!=t&&n.source!=t||e.push(n)}),e},l.prototype.getNeighborsList=function(){var t=new Set,e=this;return e.edges.forEach(function(i){if(i.source==e)t.add(i.target);else{if(i.target!=e)throw"Incorrect incidency!";t.add(i.source)}}),t},l.prototype.withChildren=function(){var t=new Set;if(t.add(this),null!=this.child)for(var e=this.child.getNodes(),i=0;i<e.length;i++)e[i].withChildren().forEach(function(e){t.add(e)});return t},l.prototype.getNoOfChildren=function(){var t=0;if(null==this.child)t=1;else for(var e=this.child.getNodes(),i=0;i<e.length;i++)t+=e[i].getNoOfChildren();return 0==t&&(t=1),t},l.prototype.getEstimatedSize=function(){if(this.estimatedSize==r.MIN_VALUE)throw"assert failed";return this.estimatedSize},l.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},l.prototype.scatter=function(){var t,e,i=-s.INITIAL_WORLD_BOUNDARY,n=s.INITIAL_WORLD_BOUNDARY;t=s.WORLD_CENTER_X+a.nextDouble()*(n-i)+i;var r=-s.INITIAL_WORLD_BOUNDARY,o=s.INITIAL_WORLD_BOUNDARY;e=s.WORLD_CENTER_Y+a.nextDouble()*(o-r)+r,this.rect.x=t,this.rect.y=e},l.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var t=this.getChild();if(t.updateBounds(!0),this.rect.x=t.getLeft(),this.rect.y=t.getTop(),this.setWidth(t.getRight()-t.getLeft()),this.setHeight(t.getBottom()-t.getTop()),s.NODE_DIMENSIONS_INCLUDE_LABELS){var e=t.getRight()-t.getLeft(),i=t.getBottom()-t.getTop();this.labelWidth>e&&(this.rect.x-=(this.labelWidth-e)/2,this.setWidth(this.labelWidth)),this.labelHeight>i&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-i)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-i),this.setHeight(this.labelHeight))}}},l.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==r.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},l.prototype.transform=function(t){var e=this.rect.x;e>s.WORLD_BOUNDARY?e=s.WORLD_BOUNDARY:e<-s.WORLD_BOUNDARY&&(e=-s.WORLD_BOUNDARY);var i=this.rect.y;i>s.WORLD_BOUNDARY?i=s.WORLD_BOUNDARY:i<-s.WORLD_BOUNDARY&&(i=-s.WORLD_BOUNDARY);var n=new h(e,i),r=t.inverseTransformPoint(n);this.setLocation(r.x,r.y)},l.prototype.getLeft=function(){return this.rect.x},l.prototype.getRight=function(){return this.rect.x+this.rect.width},l.prototype.getTop=function(){return this.rect.y},l.prototype.getBottom=function(){return this.rect.y+this.rect.height},l.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},t.exports=l},function(t,e,i){function n(t,e){null==t&&null==e?(this.x=0,this.y=0):(this.x=t,this.y=e)}n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.setX=function(t){this.x=t},n.prototype.setY=function(t){this.y=t},n.prototype.getDifference=function(t){return new DimensionD(this.x-t.x,this.y-t.y)},n.prototype.getCopy=function(){return new n(this.x,this.y)},n.prototype.translate=function(t){return this.x+=t.width,this.y+=t.height,this},t.exports=n},function(t,e,i){var n=i(2),r=i(10),o=i(0),s=i(6),a=i(3),h=i(1),l=i(13),c=i(12),g=i(11);function u(t,e,i){n.call(this,i),this.estimatedSize=r.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=t,null!=e&&e instanceof s?this.graphManager=e:null!=e&&e instanceof Layout&&(this.graphManager=e.graphManager)}for(var d in u.prototype=Object.create(n.prototype),n)u[d]=n[d];u.prototype.getNodes=function(){return this.nodes},u.prototype.getEdges=function(){return this.edges},u.prototype.getGraphManager=function(){return this.graphManager},u.prototype.getParent=function(){return this.parent},u.prototype.getLeft=function(){return this.left},u.prototype.getRight=function(){return this.right},u.prototype.getTop=function(){return this.top},u.prototype.getBottom=function(){return this.bottom},u.prototype.isConnected=function(){return this.isConnected},u.prototype.add=function(t,e,i){if(null==e&&null==i){var n=t;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(n)>-1)throw"Node already in graph!";return n.owner=this,this.getNodes().push(n),n}var r=t;if(!(this.getNodes().indexOf(e)>-1&&this.getNodes().indexOf(i)>-1))throw"Source or target not in graph!";if(e.owner!=i.owner||e.owner!=this)throw"Both owners must be this graph!";return e.owner!=i.owner?null:(r.source=e,r.target=i,r.isInterGraph=!1,this.getEdges().push(r),e.edges.push(r),i!=e&&i.edges.push(r),r)},u.prototype.remove=function(t){var e=t;if(t instanceof a){if(null==e)throw"Node is null!";if(null==e.owner||e.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var i=e.edges.slice(),n=i.length,r=0;r<n;r++)(o=i[r]).isInterGraph?this.graphManager.remove(o):o.source.owner.remove(o);if(-1==(s=this.nodes.indexOf(e)))throw"Node not in owner node list!";this.nodes.splice(s,1)}else if(t instanceof h){var o;if(null==(o=t))throw"Edge is null!";if(null==o.source||null==o.target)throw"Source and/or target is null!";if(null==o.source.owner||null==o.target.owner||o.source.owner!=this||o.target.owner!=this)throw"Source and/or target owner is invalid!";var s,l=o.source.edges.indexOf(o),c=o.target.edges.indexOf(o);if(!(l>-1&&c>-1))throw"Source and/or target doesn't know this edge!";if(o.source.edges.splice(l,1),o.target!=o.source&&o.target.edges.splice(c,1),-1==(s=o.source.owner.getEdges().indexOf(o)))throw"Not in owner's edge list!";o.source.owner.getEdges().splice(s,1)}},u.prototype.updateLeftTop=function(){for(var t,e,i,n=r.MAX_VALUE,o=r.MAX_VALUE,s=this.getNodes(),a=s.length,h=0;h<a;h++){var l=s[h];n>(t=l.getTop())&&(n=t),o>(e=l.getLeft())&&(o=e)}return n==r.MAX_VALUE?null:(i=null!=s[0].getParent().paddingLeft?s[0].getParent().paddingLeft:this.margin,this.left=o-i,this.top=n-i,new c(this.left,this.top))},u.prototype.updateBounds=function(t){for(var e,i,n,o,s,a=r.MAX_VALUE,h=-r.MAX_VALUE,c=r.MAX_VALUE,g=-r.MAX_VALUE,u=this.nodes,d=u.length,p=0;p<d;p++){var f=u[p];t&&null!=f.child&&f.updateBounds(),a>(e=f.getLeft())&&(a=e),h<(i=f.getRight())&&(h=i),c>(n=f.getTop())&&(c=n),g<(o=f.getBottom())&&(g=o)}var y=new l(a,c,h-a,g-c);a==r.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),s=null!=u[0].getParent().paddingLeft?u[0].getParent().paddingLeft:this.margin,this.left=y.x-s,this.right=y.x+y.width+s,this.top=y.y-s,this.bottom=y.y+y.height+s},u.calculateBounds=function(t){for(var e,i,n,o,s=r.MAX_VALUE,a=-r.MAX_VALUE,h=r.MAX_VALUE,c=-r.MAX_VALUE,g=t.length,u=0;u<g;u++){var d=t[u];s>(e=d.getLeft())&&(s=e),a<(i=d.getRight())&&(a=i),h>(n=d.getTop())&&(h=n),c<(o=d.getBottom())&&(c=o)}return new l(s,h,a-s,c-h)},u.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},u.prototype.getEstimatedSize=function(){if(this.estimatedSize==r.MIN_VALUE)throw"assert failed";return this.estimatedSize},u.prototype.calcEstimatedSize=function(){for(var t=0,e=this.nodes,i=e.length,n=0;n<i;n++)t+=e[n].calcEstimatedSize();return this.estimatedSize=0==t?o.EMPTY_COMPOUND_NODE_SIZE:t/Math.sqrt(this.nodes.length),this.estimatedSize},u.prototype.updateConnected=function(){var t=this;if(0!=this.nodes.length){var e,i,n=new g,r=new Set,o=this.nodes[0];for(o.withChildren().forEach(function(t){n.push(t),r.add(t)});0!==n.length;)for(var s=(e=(o=n.shift()).getEdges()).length,a=0;a<s;a++)null==(i=e[a].getOtherEndInGraph(o,this))||r.has(i)||i.withChildren().forEach(function(t){n.push(t),r.add(t)});if(this.isConnected=!1,r.size>=this.nodes.length){var h=0;r.forEach(function(e){e.owner==t&&h++}),h==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},t.exports=u},function(t,e,i){var n,r=i(1);function o(t){n=i(5),this.layout=t,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var t=this.layout.newGraph(),e=this.layout.newNode(null),i=this.add(t,e);return this.setRootGraph(i),this.rootGraph},o.prototype.add=function(t,e,i,n,r){if(null==i&&null==n&&null==r){if(null==t)throw"Graph is null!";if(null==e)throw"Parent node is null!";if(this.graphs.indexOf(t)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(t),null!=t.parent)throw"Already has a parent!";if(null!=e.child)throw"Already has a child!";return t.parent=e,e.child=t,t}r=i,i=t;var o=(n=e).getOwner(),s=r.getOwner();if(null==o||o.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==s||s.getGraphManager()!=this)throw"Target not in this graph mgr!";if(o==s)return i.isInterGraph=!1,o.add(i,n,r);if(i.isInterGraph=!0,i.source=n,i.target=r,this.edges.indexOf(i)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(i),null==i.source||null==i.target)throw"Edge source and/or target is null!";if(-1!=i.source.edges.indexOf(i)||-1!=i.target.edges.indexOf(i))throw"Edge already in source and/or target incidency list!";return i.source.edges.push(i),i.target.edges.push(i),i},o.prototype.remove=function(t){if(t instanceof n){var e=t;if(e.getGraphManager()!=this)throw"Graph not in this graph mgr";if(e!=this.rootGraph&&(null==e.parent||e.parent.graphManager!=this))throw"Invalid parent node!";for(var i,o=[],s=(o=o.concat(e.getEdges())).length,a=0;a<s;a++)i=o[a],e.remove(i);var h,l=[];for(s=(l=l.concat(e.getNodes())).length,a=0;a<s;a++)h=l[a],e.remove(h);e==this.rootGraph&&this.setRootGraph(null);var c=this.graphs.indexOf(e);this.graphs.splice(c,1),e.parent=null}else if(t instanceof r){if(null==(i=t))throw"Edge is null!";if(!i.isInterGraph)throw"Not an inter-graph edge!";if(null==i.source||null==i.target)throw"Source and/or target is null!";if(-1==i.source.edges.indexOf(i)||-1==i.target.edges.indexOf(i))throw"Source and/or target doesn't know this edge!";if(c=i.source.edges.indexOf(i),i.source.edges.splice(c,1),c=i.target.edges.indexOf(i),i.target.edges.splice(c,1),null==i.source.owner||null==i.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==i.source.owner.getGraphManager().edges.indexOf(i))throw"Not in owner graph manager's edge list!";c=i.source.owner.getGraphManager().edges.indexOf(i),i.source.owner.getGraphManager().edges.splice(c,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(null==this.allNodes){for(var t=[],e=this.getGraphs(),i=e.length,n=0;n<i;n++)t=t.concat(e[n].getNodes());this.allNodes=t}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(null==this.allEdges){var t=[],e=this.getGraphs();e.length;for(var i=0;i<e.length;i++)t=t.concat(e[i].getEdges());t=t.concat(this.edges),this.allEdges=t}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(t){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=t},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(t){if(t.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=t,null==t.parent&&(t.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(t,e){if(null==t||null==e)throw"assert failed";if(t==e)return!0;for(var i,n=t.getOwner();null!=(i=n.getParent());){if(i==e)return!0;if(null==(n=i.getOwner()))break}for(n=e.getOwner();null!=(i=n.getParent());){if(i==t)return!0;if(null==(n=i.getOwner()))break}return!1},o.prototype.calcLowestCommonAncestors=function(){for(var t,e,i,n,r,o=this.getAllEdges(),s=o.length,a=0;a<s;a++)if(e=(t=o[a]).source,i=t.target,t.lca=null,t.sourceInLca=e,t.targetInLca=i,e!=i){for(n=e.getOwner();null==t.lca;){for(t.targetInLca=i,r=i.getOwner();null==t.lca;){if(r==n){t.lca=r;break}if(r==this.rootGraph)break;if(null!=t.lca)throw"assert failed";t.targetInLca=r.getParent(),r=t.targetInLca.getOwner()}if(n==this.rootGraph)break;null==t.lca&&(t.sourceInLca=n.getParent(),n=t.sourceInLca.getOwner())}if(null==t.lca)throw"assert failed"}else t.lca=e.getOwner()},o.prototype.calcLowestCommonAncestor=function(t,e){if(t==e)return t.getOwner();for(var i=t.getOwner();null!=i;){for(var n=e.getOwner();null!=n;){if(n==i)return n;n=n.getParent().getOwner()}i=i.getParent().getOwner()}return i},o.prototype.calcInclusionTreeDepths=function(t,e){var i;null==t&&null==e&&(t=this.rootGraph,e=1);for(var n=t.getNodes(),r=n.length,o=0;o<r;o++)(i=n[o]).inclusionTreeDepth=e,null!=i.child&&this.calcInclusionTreeDepths(i.child,e+1)},o.prototype.includesInvalidEdge=function(){for(var t,e=this.edges.length,i=0;i<e;i++)if(t=this.edges[i],this.isOneAncestorOfOther(t.source,t.target))return!0;return!1},t.exports=o},function(t,e,i){var n=i(0);function r(){}for(var o in n)r[o]=n[o];r.MAX_ITERATIONS=2500,r.DEFAULT_EDGE_LENGTH=50,r.DEFAULT_SPRING_STRENGTH=.45,r.DEFAULT_REPULSION_STRENGTH=4500,r.DEFAULT_GRAVITY_STRENGTH=.4,r.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,r.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,r.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,r.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,r.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,r.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,r.COOLING_ADAPTATION_FACTOR=.33,r.ADAPTATION_LOWER_NODE_LIMIT=1e3,r.ADAPTATION_UPPER_NODE_LIMIT=5e3,r.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,r.MAX_NODE_DISPLACEMENT=3*r.MAX_NODE_DISPLACEMENT_INCREMENTAL,r.MIN_REPULSION_DIST=r.DEFAULT_EDGE_LENGTH/10,r.CONVERGENCE_CHECK_PERIOD=100,r.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,r.MIN_EDGE_LENGTH=1,r.GRID_CALCULATION_CHECK_PERIOD=10,t.exports=r},function(t,e,i){var n=i(12);function r(){}r.calcSeparationAmount=function(t,e,i,n){if(!t.intersects(e))throw"assert failed";var r=new Array(2);this.decideDirectionsForOverlappingNodes(t,e,r),i[0]=Math.min(t.getRight(),e.getRight())-Math.max(t.x,e.x),i[1]=Math.min(t.getBottom(),e.getBottom())-Math.max(t.y,e.y),t.getX()<=e.getX()&&t.getRight()>=e.getRight()?i[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight()):e.getX()<=t.getX()&&e.getRight()>=t.getRight()&&(i[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight())),t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()?i[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom()):e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()&&(i[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom()));var o=Math.abs((e.getCenterY()-t.getCenterY())/(e.getCenterX()-t.getCenterX()));e.getCenterY()===t.getCenterY()&&e.getCenterX()===t.getCenterX()&&(o=1);var s=o*i[0],a=i[1]/o;i[0]<a?a=i[0]:s=i[1],i[0]=-1*r[0]*(a/2+n),i[1]=-1*r[1]*(s/2+n)},r.decideDirectionsForOverlappingNodes=function(t,e,i){t.getCenterX()<e.getCenterX()?i[0]=-1:i[0]=1,t.getCenterY()<e.getCenterY()?i[1]=-1:i[1]=1},r.getIntersection2=function(t,e,i){var n=t.getCenterX(),r=t.getCenterY(),o=e.getCenterX(),s=e.getCenterY();if(t.intersects(e))return i[0]=n,i[1]=r,i[2]=o,i[3]=s,!0;var a=t.getX(),h=t.getY(),l=t.getRight(),c=t.getX(),g=t.getBottom(),u=t.getRight(),d=t.getWidthHalf(),p=t.getHeightHalf(),f=e.getX(),y=e.getY(),E=e.getRight(),_=e.getX(),m=e.getBottom(),v=e.getRight(),N=e.getWidthHalf(),T=e.getHeightHalf(),A=!1,L=!1;if(n===o){if(r>s)return i[0]=n,i[1]=h,i[2]=o,i[3]=m,!1;if(r<s)return i[0]=n,i[1]=g,i[2]=o,i[3]=y,!1}else if(r===s){if(n>o)return i[0]=a,i[1]=r,i[2]=E,i[3]=s,!1;if(n<o)return i[0]=l,i[1]=r,i[2]=f,i[3]=s,!1}else{var O=t.height/t.width,D=e.height/e.width,I=(s-r)/(o-n),w=void 0,R=void 0,C=void 0,M=void 0,x=void 0,G=void 0;if(-O===I?n>o?(i[0]=c,i[1]=g,A=!0):(i[0]=l,i[1]=h,A=!0):O===I&&(n>o?(i[0]=a,i[1]=h,A=!0):(i[0]=u,i[1]=g,A=!0)),-D===I?o>n?(i[2]=_,i[3]=m,L=!0):(i[2]=E,i[3]=y,L=!0):D===I&&(o>n?(i[2]=f,i[3]=y,L=!0):(i[2]=v,i[3]=m,L=!0)),A&&L)return!1;if(n>o?r>s?(w=this.getCardinalDirection(O,I,4),R=this.getCardinalDirection(D,I,2)):(w=this.getCardinalDirection(-O,I,3),R=this.getCardinalDirection(-D,I,1)):r>s?(w=this.getCardinalDirection(-O,I,1),R=this.getCardinalDirection(-D,I,3)):(w=this.getCardinalDirection(O,I,2),R=this.getCardinalDirection(D,I,4)),!A)switch(w){case 1:M=h,C=n+-p/I,i[0]=C,i[1]=M;break;case 2:C=u,M=r+d*I,i[0]=C,i[1]=M;break;case 3:M=g,C=n+p/I,i[0]=C,i[1]=M;break;case 4:C=c,M=r+-d*I,i[0]=C,i[1]=M}if(!L)switch(R){case 1:G=y,x=o+-T/I,i[2]=x,i[3]=G;break;case 2:x=v,G=s+N*I,i[2]=x,i[3]=G;break;case 3:G=m,x=o+T/I,i[2]=x,i[3]=G;break;case 4:x=_,G=s+-N*I,i[2]=x,i[3]=G}}return!1},r.getCardinalDirection=function(t,e,i){return t>e?i:1+i%4},r.getIntersection=function(t,e,i,r){if(null==r)return this.getIntersection2(t,e,i);var o,s,a,h,l,c,g,u=t.x,d=t.y,p=e.x,f=e.y,y=i.x,E=i.y,_=r.x,m=r.y;return 0===(g=(o=f-d)*(h=y-_)-(s=m-E)*(a=u-p))?null:new n((a*(c=_*E-y*m)-h*(l=p*d-u*f))/g,(s*l-o*c)/g)},r.angleOfVector=function(t,e,i,n){var r=void 0;return t!==i?(r=Math.atan((n-e)/(i-t)),i<t?r+=Math.PI:n<e&&(r+=this.TWO_PI)):r=n<e?this.ONE_AND_HALF_PI:this.HALF_PI,r},r.doIntersect=function(t,e,i,n){var r=t.x,o=t.y,s=e.x,a=e.y,h=i.x,l=i.y,c=n.x,g=n.y,u=(s-r)*(g-l)-(c-h)*(a-o);if(0===u)return!1;var d=((g-l)*(c-r)+(h-c)*(g-o))/u,p=((o-a)*(c-r)+(s-r)*(g-o))/u;return 0<d&&d<1&&0<p&&p<1},r.HALF_PI=.5*Math.PI,r.ONE_AND_HALF_PI=1.5*Math.PI,r.TWO_PI=2*Math.PI,r.THREE_PI=3*Math.PI,t.exports=r},function(t,e,i){function n(){}n.sign=function(t){return t>0?1:t<0?-1:0},n.floor=function(t){return t<0?Math.ceil(t):Math.floor(t)},n.ceil=function(t){return t<0?Math.floor(t):Math.ceil(t)},t.exports=n},function(t,e,i){function n(){}n.MAX_VALUE=2147483647,n.MIN_VALUE=-2147483648,t.exports=n},function(t,e,i){var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return{value:t,next:null,prev:null}},o=function(t,e,i,n){return null!==t?t.next=e:n.head=e,null!==i?i.prev=e:n.tail=e,e.prev=t,e.next=i,n.length++,e},s=function(t,e){var i=t.prev,n=t.next;return null!==i?i.next=n:e.head=n,null!==n?n.prev=i:e.tail=i,t.prev=t.next=null,e.length--,t},a=function(){function t(e){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.length=0,this.head=null,this.tail=null,null!=e&&e.forEach(function(t){return i.push(t)})}return n(t,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(t,e){return o(e.prev,r(t),e,this)}},{key:"insertAfter",value:function(t,e){return o(e,r(t),e.next,this)}},{key:"insertNodeBefore",value:function(t,e){return o(e.prev,t,e,this)}},{key:"insertNodeAfter",value:function(t,e){return o(e,t,e.next,this)}},{key:"push",value:function(t){return o(this.tail,r(t),null,this)}},{key:"unshift",value:function(t){return o(null,r(t),this.head,this)}},{key:"remove",value:function(t){return s(t,this)}},{key:"pop",value:function(){return s(this.tail,this).value}},{key:"popNode",value:function(){return s(this.tail,this)}},{key:"shift",value:function(){return s(this.head,this).value}},{key:"shiftNode",value:function(){return s(this.head,this)}},{key:"get_object_at",value:function(t){if(t<=this.length()){for(var e=1,i=this.head;e<t;)i=i.next,e++;return i.value}}},{key:"set_object_at",value:function(t,e){if(t<=this.length()){for(var i=1,n=this.head;i<t;)n=n.next,i++;n.value=e}}}]),t}();t.exports=a},function(t,e,i){function n(t,e,i){this.x=null,this.y=null,null==t&&null==e&&null==i?(this.x=0,this.y=0):"number"==typeof t&&"number"==typeof e&&null==i?(this.x=t,this.y=e):"Point"==t.constructor.name&&null==e&&null==i&&(i=t,this.x=i.x,this.y=i.y)}n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.getLocation=function(){return new n(this.x,this.y)},n.prototype.setLocation=function(t,e,i){"Point"==t.constructor.name&&null==e&&null==i?(i=t,this.setLocation(i.x,i.y)):"number"==typeof t&&"number"==typeof e&&null==i&&(parseInt(t)==t&&parseInt(e)==e?this.move(t,e):(this.x=Math.floor(t+.5),this.y=Math.floor(e+.5)))},n.prototype.move=function(t,e){this.x=t,this.y=e},n.prototype.translate=function(t,e){this.x+=t,this.y+=e},n.prototype.equals=function(t){if("Point"==t.constructor.name){var e=t;return this.x==e.x&&this.y==e.y}return this==t},n.prototype.toString=function(){return(new n).constructor.name+"[x="+this.x+",y="+this.y+"]"},t.exports=n},function(t,e,i){function n(t,e,i,n){this.x=0,this.y=0,this.width=0,this.height=0,null!=t&&null!=e&&null!=i&&null!=n&&(this.x=t,this.y=e,this.width=i,this.height=n)}n.prototype.getX=function(){return this.x},n.prototype.setX=function(t){this.x=t},n.prototype.getY=function(){return this.y},n.prototype.setY=function(t){this.y=t},n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(t){this.width=t},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(t){this.height=t},n.prototype.getRight=function(){return this.x+this.width},n.prototype.getBottom=function(){return this.y+this.height},n.prototype.intersects=function(t){return!(this.getRight()<t.x||this.getBottom()<t.y||t.getRight()<this.x||t.getBottom()<this.y)},n.prototype.getCenterX=function(){return this.x+this.width/2},n.prototype.getMinX=function(){return this.getX()},n.prototype.getMaxX=function(){return this.getX()+this.width},n.prototype.getCenterY=function(){return this.y+this.height/2},n.prototype.getMinY=function(){return this.getY()},n.prototype.getMaxY=function(){return this.getY()+this.height},n.prototype.getWidthHalf=function(){return this.width/2},n.prototype.getHeightHalf=function(){return this.height/2},t.exports=n},function(t,e,i){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(){}r.lastID=0,r.createID=function(t){return r.isPrimitive(t)?t:(null!=t.uniqueID||(t.uniqueID=r.getString(),r.lastID++),t.uniqueID)},r.getString=function(t){return null==t&&(t=r.lastID),"Object#"+t},r.isPrimitive=function(t){var e=void 0===t?"undefined":n(t);return null==t||"object"!=e&&"function"!=e},t.exports=r},function(t,e,i){function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var r=i(0),o=i(6),s=i(3),a=i(1),h=i(5),l=i(4),c=i(17),g=i(27);function u(t){g.call(this),this.layoutQuality=r.QUALITY,this.createBendsAsNeeded=r.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=r.DEFAULT_INCREMENTAL,this.animationOnLayout=r.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=r.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=r.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=r.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=t&&(this.isRemoteUse=t)}u.RANDOM_SEED=1,u.prototype=Object.create(g.prototype),u.prototype.getGraphManager=function(){return this.graphManager},u.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},u.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},u.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},u.prototype.newGraphManager=function(){var t=new o(this);return this.graphManager=t,t},u.prototype.newGraph=function(t){return new h(null,this.graphManager,t)},u.prototype.newNode=function(t){return new s(this.graphManager,t)},u.prototype.newEdge=function(t){return new a(null,null,t)},u.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},u.prototype.runLayout=function(){var t;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),t=!this.checkLayoutSuccess()&&this.layout(),"during"!==r.ANIMATE&&(t&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,t)},u.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},u.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var t=this.graphManager.getAllEdges(),e=0;e<t.length;e++)t[e];var i=this.graphManager.getRoot().getNodes();for(e=0;e<i.length;e++)i[e];this.update(this.graphManager.getRoot())}},u.prototype.update=function(t){if(null==t)this.update2();else if(t instanceof s){var e=t;if(null!=e.getChild())for(var i=e.getChild().getNodes(),n=0;n<i.length;n++)update(i[n]);null!=e.vGraphObject&&e.vGraphObject.update(e)}else if(t instanceof a){var r=t;null!=r.vGraphObject&&r.vGraphObject.update(r)}else if(t instanceof h){var o=t;null!=o.vGraphObject&&o.vGraphObject.update(o)}},u.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=r.QUALITY,this.animationDuringLayout=r.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=r.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=r.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=r.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=r.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=r.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},u.prototype.transform=function(t){if(null==t)this.transform(new l(0,0));else{var e=new c,i=this.graphManager.getRoot().updateLeftTop();if(null!=i){e.setWorldOrgX(t.x),e.setWorldOrgY(t.y),e.setDeviceOrgX(i.x),e.setDeviceOrgY(i.y);for(var n=this.getAllNodes(),r=0;r<n.length;r++)n[r].transform(e)}}},u.prototype.positionNodesRandomly=function(t){if(null==t)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var e,i,n=t.getNodes(),r=0;r<n.length;r++)null==(i=(e=n[r]).getChild())||0==i.getNodes().length?e.scatter():(this.positionNodesRandomly(i),e.updateBounds())},u.prototype.getFlatForest=function(){for(var t=[],e=!0,i=this.graphManager.getRoot().getNodes(),r=!0,o=0;o<i.length;o++)null!=i[o].getChild()&&(r=!1);if(!r)return t;var s=new Set,a=[],h=new Map,l=[];for(l=l.concat(i);l.length>0&&e;){for(a.push(l[0]);a.length>0&&e;){var c=a[0];a.splice(0,1),s.add(c);var g=c.getEdges();for(o=0;o<g.length;o++){var u=g[o].getOtherEnd(c);if(h.get(c)!=u){if(s.has(u)){e=!1;break}a.push(u),h.set(u,c)}}}if(e){var d=[].concat(n(s));for(t.push(d),o=0;o<d.length;o++){var p=d[o],f=l.indexOf(p);f>-1&&l.splice(f,1)}s=new Set,h=new Map}else t=[]}return t},u.prototype.createDummyNodesForBendpoints=function(t){for(var e=[],i=t.source,n=this.graphManager.calcLowestCommonAncestor(t.source,t.target),r=0;r<t.bendpoints.length;r++){var o=this.newNode(null);o.setRect(new Point(0,0),new Dimension(1,1)),n.add(o);var s=this.newEdge(null);this.graphManager.add(s,i,o),e.add(o),i=o}return s=this.newEdge(null),this.graphManager.add(s,i,t.target),this.edgeToDummyNodes.set(t,e),t.isInterGraph()?this.graphManager.remove(t):n.remove(t),e},u.prototype.createBendpointsFromDummyNodes=function(){var t=[];t=t.concat(this.graphManager.getAllEdges()),t=[].concat(n(this.edgeToDummyNodes.keys())).concat(t);for(var e=0;e<t.length;e++){var i=t[e];if(i.bendpoints.length>0){for(var r=this.edgeToDummyNodes.get(i),o=0;o<r.length;o++){var s=r[o],a=new l(s.getCenterX(),s.getCenterY()),h=i.bendpoints.get(o);h.x=a.x,h.y=a.y,s.getOwner().remove(s)}this.graphManager.add(i,i.source,i.target)}}},u.transform=function(t,e,i,n){if(null!=i&&null!=n){var r=e;return t<=50?r-=(e-e/i)/50*(50-t):r+=(e*n-e)/50*(t-50),r}var o,s;return t<=50?(o=9*e/500,s=e/10):(o=9*e/50,s=-8*e),o*t+s},u.findCenterOfTree=function(t){var e=[];e=e.concat(t);var i=[],n=new Map,r=!1,o=null;1!=e.length&&2!=e.length||(r=!0,o=e[0]);for(var s=0;s<e.length;s++){var a=(c=e[s]).getNeighborsList().size;n.set(c,c.getNeighborsList().size),1==a&&i.push(c)}var h=[];for(h=h.concat(i);!r;){var l=[];for(l=l.concat(h),h=[],s=0;s<e.length;s++){var c=e[s],g=e.indexOf(c);g>=0&&e.splice(g,1),c.getNeighborsList().forEach(function(t){if(i.indexOf(t)<0){var e=n.get(t)-1;1==e&&h.push(t),n.set(t,e)}})}i=i.concat(h),1!=e.length&&2!=e.length||(r=!0,o=e[0])}return o},u.prototype.setGraphManager=function(t){this.graphManager=t},t.exports=u},function(t,e,i){function n(){}n.seed=1,n.x=0,n.nextDouble=function(){return n.x=1e4*Math.sin(n.seed++),n.x-Math.floor(n.x)},t.exports=n},function(t,e,i){var n=i(4);function r(t,e){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}r.prototype.getWorldOrgX=function(){return this.lworldOrgX},r.prototype.setWorldOrgX=function(t){this.lworldOrgX=t},r.prototype.getWorldOrgY=function(){return this.lworldOrgY},r.prototype.setWorldOrgY=function(t){this.lworldOrgY=t},r.prototype.getWorldExtX=function(){return this.lworldExtX},r.prototype.setWorldExtX=function(t){this.lworldExtX=t},r.prototype.getWorldExtY=function(){return this.lworldExtY},r.prototype.setWorldExtY=function(t){this.lworldExtY=t},r.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},r.prototype.setDeviceOrgX=function(t){this.ldeviceOrgX=t},r.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},r.prototype.setDeviceOrgY=function(t){this.ldeviceOrgY=t},r.prototype.getDeviceExtX=function(){return this.ldeviceExtX},r.prototype.setDeviceExtX=function(t){this.ldeviceExtX=t},r.prototype.getDeviceExtY=function(){return this.ldeviceExtY},r.prototype.setDeviceExtY=function(t){this.ldeviceExtY=t},r.prototype.transformX=function(t){var e=0,i=this.lworldExtX;return 0!=i&&(e=this.ldeviceOrgX+(t-this.lworldOrgX)*this.ldeviceExtX/i),e},r.prototype.transformY=function(t){var e=0,i=this.lworldExtY;return 0!=i&&(e=this.ldeviceOrgY+(t-this.lworldOrgY)*this.ldeviceExtY/i),e},r.prototype.inverseTransformX=function(t){var e=0,i=this.ldeviceExtX;return 0!=i&&(e=this.lworldOrgX+(t-this.ldeviceOrgX)*this.lworldExtX/i),e},r.prototype.inverseTransformY=function(t){var e=0,i=this.ldeviceExtY;return 0!=i&&(e=this.lworldOrgY+(t-this.ldeviceOrgY)*this.lworldExtY/i),e},r.prototype.inverseTransformPoint=function(t){return new n(this.inverseTransformX(t.x),this.inverseTransformY(t.y))},t.exports=r},function(t,e,i){var n=i(15),r=i(7),o=i(0),s=i(8),a=i(9);function h(){n.call(this),this.useSmartIdealEdgeLengthCalculation=r.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=r.DEFAULT_EDGE_LENGTH,this.springConstant=r.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=r.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=r.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=r.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=r.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=r.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*r.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=r.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=r.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=r.MAX_ITERATIONS}for(var l in h.prototype=Object.create(n.prototype),n)h[l]=n[l];h.prototype.initParameters=function(){n.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=r.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},h.prototype.calcIdealEdgeLengths=function(){for(var t,e,i,n,s,a,h=this.getGraphManager().getAllEdges(),l=0;l<h.length;l++)(t=h[l]).idealLength=this.idealEdgeLength,t.isInterGraph&&(i=t.getSource(),n=t.getTarget(),s=t.getSourceInLca().getEstimatedSize(),a=t.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(t.idealLength+=s+a-2*o.SIMPLE_NODE_SIZE),e=t.getLca().getInclusionTreeDepth(),t.idealLength+=r.DEFAULT_EDGE_LENGTH*r.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(i.getInclusionTreeDepth()+n.getInclusionTreeDepth()-2*e))},h.prototype.initSpringEmbedder=function(){var t=this.getAllNodes().length;this.incremental?(t>r.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*r.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(t-r.ADAPTATION_LOWER_NODE_LIMIT)/(r.ADAPTATION_UPPER_NODE_LIMIT-r.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-r.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=r.MAX_NODE_DISPLACEMENT_INCREMENTAL):(t>r.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(r.COOLING_ADAPTATION_FACTOR,1-(t-r.ADAPTATION_LOWER_NODE_LIMIT)/(r.ADAPTATION_UPPER_NODE_LIMIT-r.ADAPTATION_LOWER_NODE_LIMIT)*(1-r.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=r.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},h.prototype.calcSpringForces=function(){for(var t,e=this.getAllEdges(),i=0;i<e.length;i++)t=e[i],this.calcSpringForce(t,t.idealLength)},h.prototype.calcRepulsionForces=function(){var t,e,i,n,o,s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],h=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%r.GRID_CALCULATION_CHECK_PERIOD==1&&s&&this.updateGrid(),o=new Set,t=0;t<h.length;t++)i=h[t],this.calculateRepulsionForceOfANode(i,o,s,a),o.add(i);else for(t=0;t<h.length;t++)for(i=h[t],e=t+1;e<h.length;e++)n=h[e],i.getOwner()==n.getOwner()&&this.calcRepulsionForce(i,n)},h.prototype.calcGravitationalForces=function(){for(var t,e=this.getAllNodesToApplyGravitation(),i=0;i<e.length;i++)t=e[i],this.calcGravitationalForce(t)},h.prototype.moveNodes=function(){for(var t=this.getAllNodes(),e=0;e<t.length;e++)t[e].move()},h.prototype.calcSpringForce=function(t,e){var i,n,r,o,s=t.getSource(),a=t.getTarget();if(this.uniformLeafNodeSizes&&null==s.getChild()&&null==a.getChild())t.updateLengthSimple();else if(t.updateLength(),t.isOverlapingSourceAndTarget)return;0!=(i=t.getLength())&&(r=(n=this.springConstant*(i-e))*(t.lengthX/i),o=n*(t.lengthY/i),s.springForceX+=r,s.springForceY+=o,a.springForceX-=r,a.springForceY-=o)},h.prototype.calcRepulsionForce=function(t,e){var i,n,o,h,l,c,g,u=t.getRect(),d=e.getRect(),p=new Array(2),f=new Array(4);if(u.intersects(d)){s.calcSeparationAmount(u,d,p,r.DEFAULT_EDGE_LENGTH/2),c=2*p[0],g=2*p[1];var y=t.noOfChildren*e.noOfChildren/(t.noOfChildren+e.noOfChildren);t.repulsionForceX-=y*c,t.repulsionForceY-=y*g,e.repulsionForceX+=y*c,e.repulsionForceY+=y*g}else this.uniformLeafNodeSizes&&null==t.getChild()&&null==e.getChild()?(i=d.getCenterX()-u.getCenterX(),n=d.getCenterY()-u.getCenterY()):(s.getIntersection(u,d,f),i=f[2]-f[0],n=f[3]-f[1]),Math.abs(i)<r.MIN_REPULSION_DIST&&(i=a.sign(i)*r.MIN_REPULSION_DIST),Math.abs(n)<r.MIN_REPULSION_DIST&&(n=a.sign(n)*r.MIN_REPULSION_DIST),o=i*i+n*n,h=Math.sqrt(o),c=(l=this.repulsionConstant*t.noOfChildren*e.noOfChildren/o)*i/h,g=l*n/h,t.repulsionForceX-=c,t.repulsionForceY-=g,e.repulsionForceX+=c,e.repulsionForceY+=g},h.prototype.calcGravitationalForce=function(t){var e,i,n,r,o,s,a,h;i=((e=t.getOwner()).getRight()+e.getLeft())/2,n=(e.getTop()+e.getBottom())/2,r=t.getCenterX()-i,o=t.getCenterY()-n,s=Math.abs(r)+t.getWidth()/2,a=Math.abs(o)+t.getHeight()/2,t.getOwner()==this.graphManager.getRoot()?(s>(h=e.getEstimatedSize()*this.gravityRangeFactor)||a>h)&&(t.gravitationForceX=-this.gravityConstant*r,t.gravitationForceY=-this.gravityConstant*o):(s>(h=e.getEstimatedSize()*this.compoundGravityRangeFactor)||a>h)&&(t.gravitationForceX=-this.gravityConstant*r*this.compoundGravityConstant,t.gravitationForceY=-this.gravityConstant*o*this.compoundGravityConstant)},h.prototype.isConverged=function(){var t,e=!1;return this.totalIterations>this.maxIterations/3&&(e=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),t=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,t||e},h.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},h.prototype.calcNoOfChildrenForAllNodes=function(){for(var t,e=this.graphManager.getAllNodes(),i=0;i<e.length;i++)(t=e[i]).noOfChildren=t.getNoOfChildren()},h.prototype.calcGrid=function(t){var e,i;e=parseInt(Math.ceil((t.getRight()-t.getLeft())/this.repulsionRange)),i=parseInt(Math.ceil((t.getBottom()-t.getTop())/this.repulsionRange));for(var n=new Array(e),r=0;r<e;r++)n[r]=new Array(i);for(r=0;r<e;r++)for(var o=0;o<i;o++)n[r][o]=new Array;return n},h.prototype.addNodeToGrid=function(t,e,i){var n,r,o,s;n=parseInt(Math.floor((t.getRect().x-e)/this.repulsionRange)),r=parseInt(Math.floor((t.getRect().width+t.getRect().x-e)/this.repulsionRange)),o=parseInt(Math.floor((t.getRect().y-i)/this.repulsionRange)),s=parseInt(Math.floor((t.getRect().height+t.getRect().y-i)/this.repulsionRange));for(var a=n;a<=r;a++)for(var h=o;h<=s;h++)this.grid[a][h].push(t),t.setGridCoordinates(n,r,o,s)},h.prototype.updateGrid=function(){var t,e,i=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),t=0;t<i.length;t++)e=i[t],this.addNodeToGrid(e,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},h.prototype.calculateRepulsionForceOfANode=function(t,e,i,n){if(this.totalIterations%r.GRID_CALCULATION_CHECK_PERIOD==1&&i||n){var o,s=new Set;t.surrounding=new Array;for(var a=this.grid,h=t.startX-1;h<t.finishX+2;h++)for(var l=t.startY-1;l<t.finishY+2;l++)if(!(h<0||l<0||h>=a.length||l>=a[0].length))for(var c=0;c<a[h][l].length;c++)if(o=a[h][l][c],t.getOwner()==o.getOwner()&&t!=o&&!e.has(o)&&!s.has(o)){var g=Math.abs(t.getCenterX()-o.getCenterX())-(t.getWidth()/2+o.getWidth()/2),u=Math.abs(t.getCenterY()-o.getCenterY())-(t.getHeight()/2+o.getHeight()/2);g<=this.repulsionRange&&u<=this.repulsionRange&&s.add(o)}t.surrounding=[].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(s))}for(h=0;h<t.surrounding.length;h++)this.calcRepulsionForce(t,t.surrounding[h])},h.prototype.calcRepulsionRange=function(){return 0},t.exports=h},function(t,e,i){var n=i(1),r=i(7);function o(t,e,i){n.call(this,t,e,i),this.idealLength=r.DEFAULT_EDGE_LENGTH}for(var s in o.prototype=Object.create(n.prototype),n)o[s]=n[s];t.exports=o},function(t,e,i){var n=i(3);function r(t,e,i,r){n.call(this,t,e,i,r),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var o in r.prototype=Object.create(n.prototype),n)r[o]=n[o];r.prototype.setGridCoordinates=function(t,e,i,n){this.startX=t,this.finishX=e,this.startY=i,this.finishY=n},t.exports=r},function(t,e,i){function n(t,e){this.width=0,this.height=0,null!==t&&null!==e&&(this.height=e,this.width=t)}n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(t){this.width=t},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(t){this.height=t},t.exports=n},function(t,e,i){var n=i(14);function r(){this.map={},this.keys=[]}r.prototype.put=function(t,e){var i=n.createID(t);this.contains(i)||(this.map[i]=e,this.keys.push(t))},r.prototype.contains=function(t){return n.createID(t),null!=this.map[t]},r.prototype.get=function(t){var e=n.createID(t);return this.map[e]},r.prototype.keySet=function(){return this.keys},t.exports=r},function(t,e,i){var n=i(14);function r(){this.set={}}r.prototype.add=function(t){var e=n.createID(t);this.contains(e)||(this.set[e]=t)},r.prototype.remove=function(t){delete this.set[n.createID(t)]},r.prototype.clear=function(){this.set={}},r.prototype.contains=function(t){return this.set[n.createID(t)]==t},r.prototype.isEmpty=function(){return 0===this.size()},r.prototype.size=function(){return Object.keys(this.set).length},r.prototype.addAllTo=function(t){for(var e=Object.keys(this.set),i=e.length,n=0;n<i;n++)t.push(this.set[e[n]])},r.prototype.size=function(){return Object.keys(this.set).length},r.prototype.addAll=function(t){for(var e=t.length,i=0;i<e;i++){var n=t[i];this.add(n)}},t.exports=r},function(t,e,i){var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(11),o=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null===i&&void 0===i||(this.compareFunction=this._defaultCompareFunction);var n=void 0;n=e instanceof r?e.size():e.length,this._quicksort(e,0,n-1)}return n(t,[{key:"_quicksort",value:function(t,e,i){if(e<i){var n=this._partition(t,e,i);this._quicksort(t,e,n),this._quicksort(t,n+1,i)}}},{key:"_partition",value:function(t,e,i){for(var n=this._get(t,e),r=e,o=i;;){for(;this.compareFunction(n,this._get(t,o));)o--;for(;this.compareFunction(this._get(t,r),n);)r++;if(!(r<o))return o;this._swap(t,r,o),r++,o--}}},{key:"_get",value:function(t,e){return t instanceof r?t.get_object_at(e):t[e]}},{key:"_set",value:function(t,e,i){t instanceof r?t.set_object_at(e,i):t[e]=i}},{key:"_swap",value:function(t,e,i){var n=this._get(t,e);this._set(t,e,this._get(t,i)),this._set(t,i,n)}},{key:"_defaultCompareFunction",value:function(t,e){return e>t}}]),t}();t.exports=o},function(t,e,i){var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sequence1=e,this.sequence2=i,this.match_score=n,this.mismatch_penalty=r,this.gap_penalty=o,this.iMax=e.length+1,this.jMax=i.length+1,this.grid=new Array(this.iMax);for(var s=0;s<this.iMax;s++){this.grid[s]=new Array(this.jMax);for(var a=0;a<this.jMax;a++)this.grid[s][a]=0}this.tracebackGrid=new Array(this.iMax);for(var h=0;h<this.iMax;h++){this.tracebackGrid[h]=new Array(this.jMax);for(var l=0;l<this.jMax;l++)this.tracebackGrid[h][l]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return n(t,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var t=1;t<this.jMax;t++)this.grid[0][t]=this.grid[0][t-1]+this.gap_penalty,this.tracebackGrid[0][t]=[!1,!1,!0];for(var e=1;e<this.iMax;e++)this.grid[e][0]=this.grid[e-1][0]+this.gap_penalty,this.tracebackGrid[e][0]=[!1,!0,!1];for(var i=1;i<this.iMax;i++)for(var n=1;n<this.jMax;n++){var r=[this.sequence1[i-1]===this.sequence2[n-1]?this.grid[i-1][n-1]+this.match_score:this.grid[i-1][n-1]+this.mismatch_penalty,this.grid[i-1][n]+this.gap_penalty,this.grid[i][n-1]+this.gap_penalty],o=this.arrayAllMaxIndexes(r);this.grid[i][n]=r[o[0]],this.tracebackGrid[i][n]=[o.includes(0),o.includes(1),o.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var t=[];for(t.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});t[0];){var e=t[0],i=this.tracebackGrid[e.pos[0]][e.pos[1]];i[0]&&t.push({pos:[e.pos[0]-1,e.pos[1]-1],seq1:this.sequence1[e.pos[0]-1]+e.seq1,seq2:this.sequence2[e.pos[1]-1]+e.seq2}),i[1]&&t.push({pos:[e.pos[0]-1,e.pos[1]],seq1:this.sequence1[e.pos[0]-1]+e.seq1,seq2:"-"+e.seq2}),i[2]&&t.push({pos:[e.pos[0],e.pos[1]-1],seq1:"-"+e.seq1,seq2:this.sequence2[e.pos[1]-1]+e.seq2}),0===e.pos[0]&&0===e.pos[1]&&this.alignments.push({sequence1:e.seq1,sequence2:e.seq2}),t.shift()}return this.alignments}},{key:"getAllIndexes",value:function(t,e){for(var i=[],n=-1;-1!==(n=t.indexOf(e,n+1));)i.push(n);return i}},{key:"arrayAllMaxIndexes",value:function(t){return this.getAllIndexes(t,Math.max.apply(null,t))}}]),t}();t.exports=r},function(t,e,i){var n=function(){};n.FDLayout=i(18),n.FDLayoutConstants=i(7),n.FDLayoutEdge=i(19),n.FDLayoutNode=i(20),n.DimensionD=i(21),n.HashMap=i(22),n.HashSet=i(23),n.IGeometry=i(8),n.IMath=i(9),n.Integer=i(10),n.Point=i(12),n.PointD=i(4),n.RandomSeed=i(16),n.RectangleD=i(13),n.Transform=i(17),n.UniqueIDGeneretor=i(14),n.Quicksort=i(24),n.LinkedList=i(11),n.LGraphObject=i(2),n.LGraph=i(5),n.LEdge=i(1),n.LGraphManager=i(6),n.LNode=i(3),n.Layout=i(15),n.LayoutConstants=i(0),n.NeedlemanWunsch=i(25),t.exports=n},function(t,e,i){function n(){this.listeners=[]}var r=n.prototype;r.addListener=function(t,e){this.listeners.push({event:t,callback:e})},r.removeListener=function(t,e){for(var i=this.listeners.length;i>=0;i--){var n=this.listeners[i];n.event===t&&n.callback===e&&this.listeners.splice(i,1)}},r.emit=function(t,e){for(var i=0;i<this.listeners.length;i++){var n=this.listeners[i];t===n.event&&n.callback(e)}},t.exports=n}])},_.exports=t());var t}var v;var N;var T,A,L=(N||(N=1,y.exports=(T=v?E.exports:(v=1,A=function(t){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=7)}([function(e,i){e.exports=t},function(t,e,i){var n=i(0).FDLayoutConstants;function r(){}for(var o in n)r[o]=n[o];r.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,r.DEFAULT_RADIAL_SEPARATION=n.DEFAULT_EDGE_LENGTH,r.DEFAULT_COMPONENT_SEPERATION=60,r.TILE=!0,r.TILING_PADDING_VERTICAL=10,r.TILING_PADDING_HORIZONTAL=10,r.TREE_REDUCTION_ON_INCREMENTAL=!1,t.exports=r},function(t,e,i){var n=i(0).FDLayoutEdge;function r(t,e,i){n.call(this,t,e,i)}for(var o in r.prototype=Object.create(n.prototype),n)r[o]=n[o];t.exports=r},function(t,e,i){var n=i(0).LGraph;function r(t,e,i){n.call(this,t,e,i)}for(var o in r.prototype=Object.create(n.prototype),n)r[o]=n[o];t.exports=r},function(t,e,i){var n=i(0).LGraphManager;function r(t){n.call(this,t)}for(var o in r.prototype=Object.create(n.prototype),n)r[o]=n[o];t.exports=r},function(t,e,i){var n=i(0).FDLayoutNode,r=i(0).IMath;function o(t,e,i,r){n.call(this,t,e,i,r)}for(var s in o.prototype=Object.create(n.prototype),n)o[s]=n[s];o.prototype.move=function(){var t=this.graphManager.getLayout();this.displacementX=t.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=t.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>t.coolingFactor*t.maxNodeDisplacement&&(this.displacementX=t.coolingFactor*t.maxNodeDisplacement*r.sign(this.displacementX)),Math.abs(this.displacementY)>t.coolingFactor*t.maxNodeDisplacement&&(this.displacementY=t.coolingFactor*t.maxNodeDisplacement*r.sign(this.displacementY)),null==this.child||0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),t.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},o.prototype.propogateDisplacementToChildren=function(t,e){for(var i,n=this.getChild().getNodes(),r=0;r<n.length;r++)null==(i=n[r]).getChild()?(i.moveBy(t,e),i.displacementX+=t,i.displacementY+=e):i.propogateDisplacementToChildren(t,e)},o.prototype.setPred1=function(t){this.pred1=t},o.prototype.getPred1=function(){return pred1},o.prototype.getPred2=function(){return pred2},o.prototype.setNext=function(t){this.next=t},o.prototype.getNext=function(){return next},o.prototype.setProcessed=function(t){this.processed=t},o.prototype.isProcessed=function(){return processed},t.exports=o},function(t,e,i){var n=i(0).FDLayout,r=i(4),o=i(3),s=i(5),a=i(2),h=i(1),l=i(0).FDLayoutConstants,c=i(0).LayoutConstants,g=i(0).Point,u=i(0).PointD,d=i(0).Layout,p=i(0).Integer,f=i(0).IGeometry,y=i(0).LGraph,E=i(0).Transform;function _(){n.call(this),this.toBeTiled={}}for(var m in _.prototype=Object.create(n.prototype),n)_[m]=n[m];_.prototype.newGraphManager=function(){var t=new r(this);return this.graphManager=t,t},_.prototype.newGraph=function(t){return new o(null,this.graphManager,t)},_.prototype.newNode=function(t){return new s(this.graphManager,t)},_.prototype.newEdge=function(t){return new a(null,null,t)},_.prototype.initParameters=function(){n.prototype.initParameters.call(this,arguments),this.isSubLayout||(h.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=h.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=h.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=l.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=l.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=l.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=l.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/l.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=l.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},_.prototype.layout=function(){return c.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},_.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental)h.TREE_REDUCTION_ON_INCREMENTAL&&(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),e=new Set(this.getAllNodes()),i=this.nodesWithGravity.filter(function(t){return e.has(t)}),this.graphManager.setAllNodesToApplyGravitation(i));else{var t=this.getFlatForest();if(t.length>0)this.positionNodesRadially(t);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var e=new Set(this.getAllNodes()),i=this.nodesWithGravity.filter(function(t){return e.has(t)});this.graphManager.setAllNodesToApplyGravitation(i),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},_.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%l.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var t=new Set(this.getAllNodes()),e=this.nodesWithGravity.filter(function(e){return t.has(e)});this.graphManager.setAllNodesToApplyGravitation(e),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var i=!this.isTreeGrowing&&!this.isGrowthFinished,n=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(i,n),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},_.prototype.getPositionsData=function(){for(var t=this.graphManager.getAllNodes(),e={},i=0;i<t.length;i++){var n=t[i].rect,r=t[i].id;e[r]={id:r,x:n.getCenterX(),y:n.getCenterY(),w:n.width,h:n.height}}return e},_.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var t=!1;if("during"===l.ANIMATE)this.emit("layoutstarted");else{for(;!t;)t=this.tick();this.graphManager.updateBounds()}},_.prototype.calculateNodesToApplyGravitationTo=function(){var t,e,i=[],n=this.graphManager.getGraphs(),r=n.length;for(e=0;e<r;e++)(t=n[e]).updateConnected(),t.isConnected||(i=i.concat(t.getNodes()));return i},_.prototype.createBendpoints=function(){var t=[];t=t.concat(this.graphManager.getAllEdges());var e,i=new Set;for(e=0;e<t.length;e++){var n=t[e];if(!i.has(n)){var r=n.getSource(),o=n.getTarget();if(r==o)n.getBendpoints().push(new u),n.getBendpoints().push(new u),this.createDummyNodesForBendpoints(n),i.add(n);else{var s=[];if(s=(s=s.concat(r.getEdgeListToNode(o))).concat(o.getEdgeListToNode(r)),!i.has(s[0])){var a;if(s.length>1)for(a=0;a<s.length;a++){var h=s[a];h.getBendpoints().push(new u),this.createDummyNodesForBendpoints(h)}s.forEach(function(t){i.add(t)})}}}if(i.size==t.length)break}},_.prototype.positionNodesRadially=function(t){for(var e=new g(0,0),i=Math.ceil(Math.sqrt(t.length)),n=0,r=0,o=0,s=new u(0,0),a=0;a<t.length;a++){a%i==0&&(o=0,r=n,0!=a&&(r+=h.DEFAULT_COMPONENT_SEPERATION),n=0);var l=t[a],p=d.findCenterOfTree(l);e.x=o,e.y=r,(s=_.radialLayout(l,p,e)).y>n&&(n=Math.floor(s.y)),o=Math.floor(s.x+h.DEFAULT_COMPONENT_SEPERATION)}this.transform(new u(c.WORLD_CENTER_X-s.x/2,c.WORLD_CENTER_Y-s.y/2))},_.radialLayout=function(t,e,i){var n=Math.max(this.maxDiagonalInTree(t),h.DEFAULT_RADIAL_SEPARATION);_.branchRadialLayout(e,null,0,359,0,n);var r=y.calculateBounds(t),o=new E;o.setDeviceOrgX(r.getMinX()),o.setDeviceOrgY(r.getMinY()),o.setWorldOrgX(i.x),o.setWorldOrgY(i.y);for(var s=0;s<t.length;s++)t[s].transform(o);var a=new u(r.getMaxX(),r.getMaxY());return o.inverseTransformPoint(a)},_.branchRadialLayout=function(t,e,i,n,r,o){var s=(n-i+1)/2;s<0&&(s+=180);var a=(s+i)%360*f.TWO_PI/360,h=r*Math.cos(a),l=r*Math.sin(a);t.setCenter(h,l);var c=[],g=(c=c.concat(t.getEdges())).length;null!=e&&g--;for(var u,d=0,p=c.length,y=t.getEdgesBetween(e);y.length>1;){var E=y[0];y.splice(0,1);var m=c.indexOf(E);m>=0&&c.splice(m,1),p--,g--}u=null!=e?(c.indexOf(y[0])+1)%p:0;for(var v=Math.abs(n-i)/g,N=u;d!=g;N=++N%p){var T=c[N].getOtherEnd(t);if(T!=e){var A=(i+d*v)%360,L=(A+v)%360;_.branchRadialLayout(T,t,A,L,r+o,o),d++}}},_.maxDiagonalInTree=function(t){for(var e=p.MIN_VALUE,i=0;i<t.length;i++){var n=t[i].getDiagonal();n>e&&(e=n)}return e},_.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},_.prototype.groupZeroDegreeMembers=function(){var t=this,e={};this.memberGroups={},this.idToDummyNode={};for(var i=[],n=this.graphManager.getAllNodes(),r=0;r<n.length;r++){var o=(a=n[r]).getParent();0!==this.getNodeDegreeWithChildren(a)||null!=o.id&&this.getToBeTiled(o)||i.push(a)}for(r=0;r<i.length;r++){var a,h=(a=i[r]).getParent().id;void 0===e[h]&&(e[h]=[]),e[h]=e[h].concat(a)}Object.keys(e).forEach(function(i){if(e[i].length>1){var n="DummyCompound_"+i;t.memberGroups[n]=e[i];var r=e[i][0].getParent(),o=new s(t.graphManager);o.id=n,o.paddingLeft=r.paddingLeft||0,o.paddingRight=r.paddingRight||0,o.paddingBottom=r.paddingBottom||0,o.paddingTop=r.paddingTop||0,t.idToDummyNode[n]=o;var a=t.getGraphManager().add(t.newGraph(),o),h=r.getChild();h.add(o);for(var l=0;l<e[i].length;l++){var c=e[i][l];h.remove(c),a.add(c)}}})},_.prototype.clearCompounds=function(){var t={},e={};this.performDFSOnCompounds();for(var i=0;i<this.compoundOrder.length;i++)e[this.compoundOrder[i].id]=this.compoundOrder[i],t[this.compoundOrder[i].id]=[].concat(this.compoundOrder[i].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[i].getChild()),this.compoundOrder[i].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(t,e)},_.prototype.clearZeroDegreeMembers=function(){var t=this,e=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(i){var n=t.idToDummyNode[i];e[i]=t.tileNodes(t.memberGroups[i],n.paddingLeft+n.paddingRight),n.rect.width=e[i].width,n.rect.height=e[i].height})},_.prototype.repopulateCompounds=function(){for(var t=this.compoundOrder.length-1;t>=0;t--){var e=this.compoundOrder[t],i=e.id,n=e.paddingLeft,r=e.paddingTop;this.adjustLocations(this.tiledMemberPack[i],e.rect.x,e.rect.y,n,r)}},_.prototype.repopulateZeroDegreeMembers=function(){var t=this,e=this.tiledZeroDegreePack;Object.keys(e).forEach(function(i){var n=t.idToDummyNode[i],r=n.paddingLeft,o=n.paddingTop;t.adjustLocations(e[i],n.rect.x,n.rect.y,r,o)})},_.prototype.getToBeTiled=function(t){var e=t.id;if(null!=this.toBeTiled[e])return this.toBeTiled[e];var i=t.getChild();if(null==i)return this.toBeTiled[e]=!1,!1;for(var n=i.getNodes(),r=0;r<n.length;r++){var o=n[r];if(this.getNodeDegree(o)>0)return this.toBeTiled[e]=!1,!1;if(null!=o.getChild()){if(!this.getToBeTiled(o))return this.toBeTiled[e]=!1,!1}else this.toBeTiled[o.id]=!1}return this.toBeTiled[e]=!0,!0},_.prototype.getNodeDegree=function(t){t.id;for(var e=t.getEdges(),i=0,n=0;n<e.length;n++){var r=e[n];r.getSource().id!==r.getTarget().id&&(i+=1)}return i},_.prototype.getNodeDegreeWithChildren=function(t){var e=this.getNodeDegree(t);if(null==t.getChild())return e;for(var i=t.getChild().getNodes(),n=0;n<i.length;n++){var r=i[n];e+=this.getNodeDegreeWithChildren(r)}return e},_.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},_.prototype.fillCompexOrderByDFS=function(t){for(var e=0;e<t.length;e++){var i=t[e];null!=i.getChild()&&this.fillCompexOrderByDFS(i.getChild().getNodes()),this.getToBeTiled(i)&&this.compoundOrder.push(i)}},_.prototype.adjustLocations=function(t,e,i,n,r){i+=r;for(var o=e+=n,s=0;s<t.rows.length;s++){var a=t.rows[s];e=o;for(var h=0,l=0;l<a.length;l++){var c=a[l];c.rect.x=e,c.rect.y=i,e+=c.rect.width+t.horizontalPadding,c.rect.height>h&&(h=c.rect.height)}i+=h+t.verticalPadding}},_.prototype.tileCompoundMembers=function(t,e){var i=this;this.tiledMemberPack=[],Object.keys(t).forEach(function(n){var r=e[n];i.tiledMemberPack[n]=i.tileNodes(t[n],r.paddingLeft+r.paddingRight),r.rect.width=i.tiledMemberPack[n].width,r.rect.height=i.tiledMemberPack[n].height})},_.prototype.tileNodes=function(t,e){var i={rows:[],rowWidth:[],rowHeight:[],width:0,height:e,verticalPadding:h.TILING_PADDING_VERTICAL,horizontalPadding:h.TILING_PADDING_HORIZONTAL};t.sort(function(t,e){return t.rect.width*t.rect.height>e.rect.width*e.rect.height?-1:t.rect.width*t.rect.height<e.rect.width*e.rect.height?1:0});for(var n=0;n<t.length;n++){var r=t[n];0==i.rows.length?this.insertNodeToRow(i,r,0,e):this.canAddHorizontal(i,r.rect.width,r.rect.height)?this.insertNodeToRow(i,r,this.getShortestRowIndex(i),e):this.insertNodeToRow(i,r,i.rows.length,e),this.shiftToLastRow(i)}return i},_.prototype.insertNodeToRow=function(t,e,i,n){var r=n;i==t.rows.length&&(t.rows.push([]),t.rowWidth.push(r),t.rowHeight.push(0));var o=t.rowWidth[i]+e.rect.width;t.rows[i].length>0&&(o+=t.horizontalPadding),t.rowWidth[i]=o,t.width<o&&(t.width=o);var s=e.rect.height;i>0&&(s+=t.verticalPadding);var a=0;s>t.rowHeight[i]&&(a=t.rowHeight[i],t.rowHeight[i]=s,a=t.rowHeight[i]-a),t.height+=a,t.rows[i].push(e)},_.prototype.getShortestRowIndex=function(t){for(var e=-1,i=Number.MAX_VALUE,n=0;n<t.rows.length;n++)t.rowWidth[n]<i&&(e=n,i=t.rowWidth[n]);return e},_.prototype.getLongestRowIndex=function(t){for(var e=-1,i=Number.MIN_VALUE,n=0;n<t.rows.length;n++)t.rowWidth[n]>i&&(e=n,i=t.rowWidth[n]);return e},_.prototype.canAddHorizontal=function(t,e,i){var n=this.getShortestRowIndex(t);if(n<0)return!0;var r=t.rowWidth[n];if(r+t.horizontalPadding+e<=t.width)return!0;var o,s,a=0;return t.rowHeight[n]<i&&n>0&&(a=i+t.verticalPadding-t.rowHeight[n]),o=t.width-r>=e+t.horizontalPadding?(t.height+a)/(r+e+t.horizontalPadding):(t.height+a)/t.width,a=i+t.verticalPadding,(s=t.width<e?(t.height+a)/e:(t.height+a)/t.width)<1&&(s=1/s),o<1&&(o=1/o),o<s},_.prototype.shiftToLastRow=function(t){var e=this.getLongestRowIndex(t),i=t.rowWidth.length-1,n=t.rows[e],r=n[n.length-1],o=r.width+t.horizontalPadding;if(t.width-t.rowWidth[i]>o&&e!=i){n.splice(-1,1),t.rows[i].push(r),t.rowWidth[e]=t.rowWidth[e]-o,t.rowWidth[i]=t.rowWidth[i]+o,t.width=t.rowWidth[instance.getLongestRowIndex(t)];for(var s=Number.MIN_VALUE,a=0;a<n.length;a++)n[a].height>s&&(s=n[a].height);e>0&&(s+=t.verticalPadding);var h=t.rowHeight[e]+t.rowHeight[i];t.rowHeight[e]=s,t.rowHeight[i]<r.height+t.verticalPadding&&(t.rowHeight[i]=r.height+t.verticalPadding);var l=t.rowHeight[e]+t.rowHeight[i];t.height+=l-h,this.shiftToLastRow(t)}},_.prototype.tilingPreLayout=function(){h.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},_.prototype.tilingPostLayout=function(){h.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},_.prototype.reduceTrees=function(){for(var t,e=[],i=!0;i;){var n=this.graphManager.getAllNodes(),r=[];i=!1;for(var o=0;o<n.length;o++)1!=(t=n[o]).getEdges().length||t.getEdges()[0].isInterGraph||null!=t.getChild()||(r.push([t,t.getEdges()[0],t.getOwner()]),i=!0);if(1==i){for(var s=[],a=0;a<r.length;a++)1==r[a][0].getEdges().length&&(s.push(r[a]),r[a][0].getOwner().remove(r[a][0]));e.push(s),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=e},_.prototype.growTree=function(t){for(var e,i=t[t.length-1],n=0;n<i.length;n++)e=i[n],this.findPlaceforPrunedNode(e),e[2].add(e[0]),e[2].add(e[1],e[1].source,e[1].target);t.splice(t.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},_.prototype.findPlaceforPrunedNode=function(t){var e,i,n=t[0],r=(i=n==t[1].source?t[1].target:t[1].source).startX,o=i.finishX,s=i.startY,a=i.finishY,h=[0,0,0,0];if(s>0)for(var c=r;c<=o;c++)h[0]+=this.grid[c][s-1].length+this.grid[c][s].length-1;if(o<this.grid.length-1)for(c=s;c<=a;c++)h[1]+=this.grid[o+1][c].length+this.grid[o][c].length-1;if(a<this.grid[0].length-1)for(c=r;c<=o;c++)h[2]+=this.grid[c][a+1].length+this.grid[c][a].length-1;if(r>0)for(c=s;c<=a;c++)h[3]+=this.grid[r-1][c].length+this.grid[r][c].length-1;for(var g,u,d=p.MAX_VALUE,f=0;f<h.length;f++)h[f]<d?(d=h[f],g=1,u=f):h[f]==d&&g++;if(3==g&&0==d)0==h[0]&&0==h[1]&&0==h[2]?e=1:0==h[0]&&0==h[1]&&0==h[3]?e=0:0==h[0]&&0==h[2]&&0==h[3]?e=3:0==h[1]&&0==h[2]&&0==h[3]&&(e=2);else if(2==g&&0==d){var y=Math.floor(2*Math.random());e=0==h[0]&&0==h[1]?0==y?0:1:0==h[0]&&0==h[2]?0==y?0:2:0==h[0]&&0==h[3]?0==y?0:3:0==h[1]&&0==h[2]?0==y?1:2:0==h[1]&&0==h[3]?0==y?1:3:0==y?2:3}else e=4==g&&0==d?y=Math.floor(4*Math.random()):u;0==e?n.setCenter(i.getCenterX(),i.getCenterY()-i.getHeight()/2-l.DEFAULT_EDGE_LENGTH-n.getHeight()/2):1==e?n.setCenter(i.getCenterX()+i.getWidth()/2+l.DEFAULT_EDGE_LENGTH+n.getWidth()/2,i.getCenterY()):2==e?n.setCenter(i.getCenterX(),i.getCenterY()+i.getHeight()/2+l.DEFAULT_EDGE_LENGTH+n.getHeight()/2):n.setCenter(i.getCenterX()-i.getWidth()/2-l.DEFAULT_EDGE_LENGTH-n.getWidth()/2,i.getCenterY())},t.exports=_},function(t,e,i){var n={};n.layoutBase=i(0),n.CoSEConstants=i(1),n.CoSEEdge=i(2),n.CoSEGraph=i(3),n.CoSEGraphManager=i(4),n.CoSELayout=i(6),n.CoSENode=i(5),t.exports=n}])},E.exports=A(m())),function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e){t.exports=T},function(t,e,i){var n=i(0).layoutBase.LayoutConstants,r=i(0).layoutBase.FDLayoutConstants,o=i(0).CoSEConstants,s=i(0).CoSELayout,a=i(0).CoSENode,h=i(0).layoutBase.PointD,l=i(0).layoutBase.DimensionD,c={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function g(t){this.options=function(t,e){var i={};for(var n in t)i[n]=t[n];for(var n in e)i[n]=e[n];return i}(c,t),u(this.options)}var u=function(t){null!=t.nodeRepulsion&&(o.DEFAULT_REPULSION_STRENGTH=r.DEFAULT_REPULSION_STRENGTH=t.nodeRepulsion),null!=t.idealEdgeLength&&(o.DEFAULT_EDGE_LENGTH=r.DEFAULT_EDGE_LENGTH=t.idealEdgeLength),null!=t.edgeElasticity&&(o.DEFAULT_SPRING_STRENGTH=r.DEFAULT_SPRING_STRENGTH=t.edgeElasticity),null!=t.nestingFactor&&(o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=r.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=t.nestingFactor),null!=t.gravity&&(o.DEFAULT_GRAVITY_STRENGTH=r.DEFAULT_GRAVITY_STRENGTH=t.gravity),null!=t.numIter&&(o.MAX_ITERATIONS=r.MAX_ITERATIONS=t.numIter),null!=t.gravityRange&&(o.DEFAULT_GRAVITY_RANGE_FACTOR=r.DEFAULT_GRAVITY_RANGE_FACTOR=t.gravityRange),null!=t.gravityCompound&&(o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=r.DEFAULT_COMPOUND_GRAVITY_STRENGTH=t.gravityCompound),null!=t.gravityRangeCompound&&(o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=r.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=t.gravityRangeCompound),null!=t.initialEnergyOnIncremental&&(o.DEFAULT_COOLING_FACTOR_INCREMENTAL=r.DEFAULT_COOLING_FACTOR_INCREMENTAL=t.initialEnergyOnIncremental),"draft"==t.quality?n.QUALITY=0:"proof"==t.quality?n.QUALITY=2:n.QUALITY=1,o.NODE_DIMENSIONS_INCLUDE_LABELS=r.NODE_DIMENSIONS_INCLUDE_LABELS=n.NODE_DIMENSIONS_INCLUDE_LABELS=t.nodeDimensionsIncludeLabels,o.DEFAULT_INCREMENTAL=r.DEFAULT_INCREMENTAL=n.DEFAULT_INCREMENTAL=!t.randomize,o.ANIMATE=r.ANIMATE=n.ANIMATE=t.animate,o.TILE=t.tile,o.TILING_PADDING_VERTICAL="function"==typeof t.tilingPaddingVertical?t.tilingPaddingVertical.call():t.tilingPaddingVertical,o.TILING_PADDING_HORIZONTAL="function"==typeof t.tilingPaddingHorizontal?t.tilingPaddingHorizontal.call():t.tilingPaddingHorizontal};g.prototype.run=function(){var t,e,i=this.options;this.idToLNode={};var n=this.layout=new s,r=this;r.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var o=n.newGraphManager();this.gm=o;var a=this.options.eles.nodes(),h=this.options.eles.edges();this.root=o.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(a),n);for(var l=0;l<h.length;l++){var c=h[l],g=this.idToLNode[c.data("source")],u=this.idToLNode[c.data("target")];g!==u&&0==g.getEdgesBetween(u).length&&(o.add(n.newEdge(),g,u).id=c.id())}var d=function(t,e){"number"==typeof t&&(t=e);var i=t.data("id"),n=r.idToLNode[i];return{x:n.getRect().getCenterX(),y:n.getRect().getCenterY()}},p=function o(){for(var s,a=function(){i.fit&&i.cy.fit(i.eles,i.padding),t||(t=!0,r.cy.one("layoutready",i.ready),r.cy.trigger({type:"layoutready",layout:r}))},h=r.options.refresh,l=0;l<h&&!s;l++)s=r.stopped||r.layout.tick();if(s)return n.checkLayoutSuccess()&&!n.isSubLayout&&n.doPostLayout(),n.tilingPostLayout&&n.tilingPostLayout(),n.isLayoutFinished=!0,r.options.eles.nodes().positions(d),a(),r.cy.one("layoutstop",r.options.stop),r.cy.trigger({type:"layoutstop",layout:r}),e&&cancelAnimationFrame(e),void(t=!1);var c=r.layout.getPositionsData();i.eles.nodes().positions(function(t,e){if("number"==typeof t&&(t=e),!t.isParent()){for(var i=t.id(),n=c[i],r=t;null==n&&(n=c[r.data("parent")]||c["DummyCompound_"+r.data("parent")],c[i]=n,null!=(r=r.parent()[0])););return null!=n?{x:n.x,y:n.y}:{x:t.position("x"),y:t.position("y")}}}),a(),e=requestAnimationFrame(o)};return n.addListener("layoutstarted",function(){"during"===r.options.animate&&(e=requestAnimationFrame(p))}),n.runLayout(),"during"!==this.options.animate&&(r.options.eles.nodes().not(":parent").layoutPositions(r,r.options,d),t=!1),this},g.prototype.getTopMostNodes=function(t){for(var e={},i=0;i<t.length;i++)e[t[i].id()]=!0;var n=t.filter(function(t,i){"number"==typeof t&&(t=i);for(var n=t.parent()[0];null!=n;){if(e[n.id()])return!1;n=n.parent()[0]}return!0});return n},g.prototype.processChildrenList=function(t,e,i){for(var n=e.length,r=0;r<n;r++){var o,s,c=e[r],g=c.children(),u=c.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if((o=null!=c.outerWidth()&&null!=c.outerHeight()?t.add(new a(i.graphManager,new h(c.position("x")-u.w/2,c.position("y")-u.h/2),new l(parseFloat(u.w),parseFloat(u.h)))):t.add(new a(this.graphManager))).id=c.data("id"),o.paddingLeft=parseInt(c.css("padding")),o.paddingTop=parseInt(c.css("padding")),o.paddingRight=parseInt(c.css("padding")),o.paddingBottom=parseInt(c.css("padding")),this.options.nodeDimensionsIncludeLabels&&c.isParent()){var d=c.boundingBox({includeLabels:!0,includeNodes:!1}).w,p=c.boundingBox({includeLabels:!0,includeNodes:!1}).h,f=c.css("text-halign");o.labelWidth=d,o.labelHeight=p,o.labelPos=f}this.idToLNode[c.data("id")]=o,isNaN(o.rect.x)&&(o.rect.x=0),isNaN(o.rect.y)&&(o.rect.y=0),null!=g&&g.length>0&&(s=i.getGraphManager().add(i.newGraph(),o),this.processChildrenList(s,g,i))}},g.prototype.stop=function(){return this.stopped=!0,this};var d=function(t){t("layout","cose-bilkent",g)};"undefined"!=typeof cytoscape&&d(cytoscape),t.exports=d}]))),y.exports);const O=t(L);var D=function(){var t=e(function(t,e,i,n){for(i=i||{},n=t.length;n--;i[t[n]]=e);return i},"o"),i=[1,4],n=[1,13],r=[1,12],o=[1,15],s=[1,16],a=[1,20],h=[1,19],l=[6,7,8],c=[1,26],g=[1,24],u=[1,25],d=[6,7,11],p=[1,6,13,15,16,19,22],f=[1,33],y=[1,34],E=[1,6,7,11,13,15,16,19,22],_={trace:e(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:e(function(t,e,i,n,r,o,s){var a=o.length-1;switch(r){case 6:case 7:return n;case 8:n.getLogger().trace("Stop NL ");break;case 9:n.getLogger().trace("Stop EOF ");break;case 11:n.getLogger().trace("Stop NL2 ");break;case 12:n.getLogger().trace("Stop EOF2 ");break;case 15:n.getLogger().info("Node: ",o[a].id),n.addNode(o[a-1].length,o[a].id,o[a].descr,o[a].type);break;case 16:n.getLogger().trace("Icon: ",o[a]),n.decorateNode({icon:o[a]});break;case 17:case 21:n.decorateNode({class:o[a]});break;case 18:n.getLogger().trace("SPACELIST");break;case 19:n.getLogger().trace("Node: ",o[a].id),n.addNode(0,o[a].id,o[a].descr,o[a].type);break;case 20:n.decorateNode({icon:o[a]});break;case 25:n.getLogger().trace("node found ..",o[a-2]),this.$={id:o[a-1],descr:o[a-1],type:n.getType(o[a-2],o[a])};break;case 26:this.$={id:o[a],descr:o[a],type:n.nodeType.DEFAULT};break;case 27:n.getLogger().trace("node found ..",o[a-3]),this.$={id:o[a-3],descr:o[a-1],type:n.getType(o[a-2],o[a])}}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:i},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:i},{6:n,7:[1,10],9:9,12:11,13:r,14:14,15:o,16:s,17:17,18:18,19:a,22:h},t(l,[2,3]),{1:[2,2]},t(l,[2,4]),t(l,[2,5]),{1:[2,6],6:n,12:21,13:r,14:14,15:o,16:s,17:17,18:18,19:a,22:h},{6:n,9:22,12:11,13:r,14:14,15:o,16:s,17:17,18:18,19:a,22:h},{6:c,7:g,10:23,11:u},t(d,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:a,22:h}),t(d,[2,18]),t(d,[2,19]),t(d,[2,20]),t(d,[2,21]),t(d,[2,23]),t(d,[2,24]),t(d,[2,26],{19:[1,30]}),{20:[1,31]},{6:c,7:g,10:32,11:u},{1:[2,7],6:n,12:21,13:r,14:14,15:o,16:s,17:17,18:18,19:a,22:h},t(p,[2,14],{7:f,11:y}),t(E,[2,8]),t(E,[2,9]),t(E,[2,10]),t(d,[2,15]),t(d,[2,16]),t(d,[2,17]),{20:[1,35]},{21:[1,36]},t(p,[2,13],{7:f,11:y}),t(E,[2,11]),t(E,[2,12]),{21:[1,37]},t(d,[2,25]),t(d,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:e(function(t,e){if(!e.recoverable){var i=new Error(t);throw i.hash=e,i}this.trace(t)},"parseError"),parse:e(function(t){var i=this,n=[0],r=[],o=[null],s=[],a=this.table,h="",l=0,c=0,g=s.slice.call(arguments,1),u=Object.create(this.lexer),d={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(d.yy[p]=this.yy[p]);u.setInput(t,d.yy),d.yy.lexer=u,d.yy.parser=this,void 0===u.yylloc&&(u.yylloc={});var f=u.yylloc;s.push(f);var y=u.options&&u.options.ranges;function E(){var t;return"number"!=typeof(t=r.pop()||u.lex()||1)&&(t instanceof Array&&(t=(r=t).pop()),t=i.symbols_[t]||t),t}"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,e(function(t){n.length=n.length-2*t,o.length=o.length-t,s.length=s.length-t},"popStack"),e(E,"lex");for(var _,m,v,N,T,A,L,O,D={};;){if(m=n[n.length-1],this.defaultActions[m]?v=this.defaultActions[m]:(null==_&&(_=E()),v=a[m]&&a[m][_]),void 0===v||!v.length||!v[0]){var I="";for(T in O=[],a[m])this.terminals_[T]&&T>2&&O.push("'"+this.terminals_[T]+"'");I=u.showPosition?"Parse error on line "+(l+1)+":\n"+u.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==_?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(I,{text:u.match,token:this.terminals_[_]||_,line:u.yylineno,loc:f,expected:O})}if(v[0]instanceof Array&&v.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+_);switch(v[0]){case 1:n.push(_),o.push(u.yytext),s.push(u.yylloc),n.push(v[1]),_=null,c=u.yyleng,h=u.yytext,l=u.yylineno,f=u.yylloc;break;case 2:if(A=this.productions_[v[1]][1],D.$=o[o.length-A],D._$={first_line:s[s.length-(A||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(A||1)].first_column,last_column:s[s.length-1].last_column},y&&(D._$.range=[s[s.length-(A||1)].range[0],s[s.length-1].range[1]]),void 0!==(N=this.performAction.apply(D,[h,c,l,d.yy,v[1],o,s].concat(g))))return N;A&&(n=n.slice(0,-1*A*2),o=o.slice(0,-1*A),s=s.slice(0,-1*A)),n.push(this.productions_[v[1]][0]),o.push(D.$),s.push(D._$),L=a[n[n.length-2]][n[n.length-1]],n.push(L);break;case 3:return!0}}return!0},"parse")},m=function(){return{EOF:1,parseError:e(function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},"parseError"),setInput:e(function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:e(function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},"input"),unput:e(function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},"unput"),more:e(function(){return this._more=!0,this},"more"),reject:e(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:e(function(t){this.unput(this.match.slice(t))},"less"),pastInput:e(function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:e(function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:e(function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},"showPosition"),test_match:e(function(t,e){var i,n,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],i=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},"test_match"),next:e(function(){if(this.done)return this.EOF;var t,e,i,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((i=this._input.match(this.rules[r[o]]))&&(!e||i[0].length>e[0].length)){if(e=i,n=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(i,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[n]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:e(function(){var t=this.next();return t||this.lex()},"lex"),begin:e(function(t){this.conditionStack.push(t)},"begin"),popState:e(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:e(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:e(function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},"topState"),pushState:e(function(t){this.begin(t)},"pushState"),stateStackSize:e(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:e(function(t,e,i,n){switch(i){case 0:return t.getLogger().trace("Found comment",e.yytext),6;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;case 4:case 23:case 26:this.popState();break;case 5:t.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return t.getLogger().trace("SPACELINE"),6;case 7:return 7;case 8:return 15;case 9:t.getLogger().trace("end icon"),this.popState();break;case 10:return t.getLogger().trace("Exploding node"),this.begin("NODE"),19;case 11:return t.getLogger().trace("Cloud"),this.begin("NODE"),19;case 12:return t.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;case 13:return t.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;case 14:case 15:case 16:case 17:return this.begin("NODE"),19;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 24:t.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return t.getLogger().trace("description:",e.yytext),"NODE_DESCR";case 27:return this.popState(),t.getLogger().trace("node end ))"),"NODE_DEND";case 28:return this.popState(),t.getLogger().trace("node end )"),"NODE_DEND";case 29:return this.popState(),t.getLogger().trace("node end ...",e.yytext),"NODE_DEND";case 30:case 33:case 34:return this.popState(),t.getLogger().trace("node end (("),"NODE_DEND";case 31:case 32:return this.popState(),t.getLogger().trace("node end (-"),"NODE_DEND";case 35:case 36:return t.getLogger().trace("Long description:",e.yytext),20}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}}}();function v(){this.yy={}}return _.lexer=m,e(v,"Parser"),v.prototype=_,_.Parser=v,new v}();D.parser=D;var I=D,w={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},R=class{constructor(){this.nodes=[],this.count=0,this.elements={},this.getLogger=this.getLogger.bind(this),this.nodeType=w,this.clear(),this.getType=this.getType.bind(this),this.getMindmap=this.getMindmap.bind(this),this.getElementById=this.getElementById.bind(this),this.getParent=this.getParent.bind(this),this.getMindmap=this.getMindmap.bind(this),this.addNode=this.addNode.bind(this),this.decorateNode=this.decorateNode.bind(this)}static{e(this,"MindmapDB")}clear(){this.nodes=[],this.count=0,this.elements={}}getParent(t){for(let e=this.nodes.length-1;e>=0;e--)if(this.nodes[e].level<t)return this.nodes[e];return null}getMindmap(){return this.nodes.length>0?this.nodes[0]:null}addNode(t,e,r,o){i.info("addNode",t,e,r,o);const h=n();let l=h.mindmap?.padding??s.mindmap.padding;switch(o){case this.nodeType.ROUNDED_RECT:case this.nodeType.RECT:case this.nodeType.HEXAGON:l*=2}const c={id:this.count++,nodeId:a(e,h),level:t,descr:a(r,h),type:o,children:[],width:h.mindmap?.maxNodeWidth??s.mindmap.maxNodeWidth,padding:l},g=this.getParent(t);if(g)g.children.push(c),this.nodes.push(c);else{if(0!==this.nodes.length)throw new Error(`There can be only one root. No parent could be found for ("${c.descr}")`);this.nodes.push(c)}}getType(t,e){switch(i.debug("In get type",t,e),t){case"[":return this.nodeType.RECT;case"(":return")"===e?this.nodeType.ROUNDED_RECT:this.nodeType.CLOUD;case"((":return this.nodeType.CIRCLE;case")":return this.nodeType.CLOUD;case"))":return this.nodeType.BANG;case"{{":return this.nodeType.HEXAGON;default:return this.nodeType.DEFAULT}}setElementForId(t,e){this.elements[t]=e}getElementById(t){return this.elements[t]}decorateNode(t){if(!t)return;const e=n(),i=this.nodes[this.nodes.length-1];t.icon&&(i.icon=a(t.icon,e)),t.class&&(i.class=a(t.class,e))}type2Str(t){switch(t){case this.nodeType.DEFAULT:return"no-border";case this.nodeType.RECT:return"rect";case this.nodeType.ROUNDED_RECT:return"rounded-rect";case this.nodeType.CIRCLE:return"circle";case this.nodeType.CLOUD:return"cloud";case this.nodeType.BANG:return"bang";case this.nodeType.HEXAGON:return"hexgon";default:return"no-border"}}getLogger(){return i}},C=e(function(t,e,i,n){e.append("path").attr("id","node-"+i.id).attr("class","node-bkg node-"+t.type2Str(i.type)).attr("d",`M0 ${i.height-5} v${10-i.height} q0,-5 5,-5 h${i.width-10} q5,0 5,5 v${i.height-5} H0 Z`),e.append("line").attr("class","node-line-"+n).attr("x1",0).attr("y1",i.height).attr("x2",i.width).attr("y2",i.height)},"defaultBkg"),M=e(function(t,e,i){e.append("rect").attr("id","node-"+i.id).attr("class","node-bkg node-"+t.type2Str(i.type)).attr("height",i.height).attr("width",i.width)},"rectBkg"),x=e(function(t,e,i){const n=i.width,r=i.height,o=.15*n,s=.25*n,a=.35*n,h=.2*n;e.append("path").attr("id","node-"+i.id).attr("class","node-bkg node-"+t.type2Str(i.type)).attr("d",`M0 0 a${o},${o} 0 0,1 ${.25*n},${-1*n*.1}\n      a${a},${a} 1 0,1 ${.4*n},${-1*n*.1}\n      a${s},${s} 1 0,1 ${.35*n},${1*n*.2}\n\n      a${o},${o} 1 0,1 ${.15*n},${1*r*.35}\n      a${h},${h} 1 0,1 ${-1*n*.15},${1*r*.65}\n\n      a${s},${o} 1 0,1 ${-1*n*.25},${.15*n}\n      a${a},${a} 1 0,1 ${-1*n*.5},0\n      a${o},${o} 1 0,1 ${-1*n*.25},${-1*n*.15}\n\n      a${o},${o} 1 0,1 ${-1*n*.1},${-1*r*.35}\n      a${h},${h} 1 0,1 ${.1*n},${-1*r*.65}\n\n    H0 V0 Z`)},"cloudBkg"),G=e(function(t,e,i){const n=i.width,r=i.height,o=.15*n;e.append("path").attr("id","node-"+i.id).attr("class","node-bkg node-"+t.type2Str(i.type)).attr("d",`M0 0 a${o},${o} 1 0,0 ${.25*n},${-1*r*.1}\n      a${o},${o} 1 0,0 ${.25*n},0\n      a${o},${o} 1 0,0 ${.25*n},0\n      a${o},${o} 1 0,0 ${.25*n},${1*r*.1}\n\n      a${o},${o} 1 0,0 ${.15*n},${1*r*.33}\n      a${.8*o},${.8*o} 1 0,0 0,${1*r*.34}\n      a${o},${o} 1 0,0 ${-1*n*.15},${1*r*.33}\n\n      a${o},${o} 1 0,0 ${-1*n*.25},${.15*r}\n      a${o},${o} 1 0,0 ${-1*n*.25},0\n      a${o},${o} 1 0,0 ${-1*n*.25},0\n      a${o},${o} 1 0,0 ${-1*n*.25},${-1*r*.15}\n\n      a${o},${o} 1 0,0 ${-1*n*.1},${-1*r*.33}\n      a${.8*o},${.8*o} 1 0,0 0,${-1*r*.34}\n      a${o},${o} 1 0,0 ${.1*n},${-1*r*.33}\n\n    H0 V0 Z`)},"bangBkg"),b=e(function(t,e,i){e.append("circle").attr("id","node-"+i.id).attr("class","node-bkg node-"+t.type2Str(i.type)).attr("r",i.width/2)},"circleBkg");function S(t,e,i,n,r){return t.insert("polygon",":first-child").attr("points",n.map(function(t){return t.x+","+t.y}).join(" ")).attr("transform","translate("+(r.width-e)/2+", "+i+")")}e(S,"insertPolygonShape");var F=e(function(t,e,i){const n=i.height,r=n/4,o=i.width-i.padding+2*r;S(e,o,n,[{x:r,y:0},{x:o-r,y:0},{x:o,y:-n/2},{x:o-r,y:-n},{x:r,y:-n},{x:0,y:-n/2}],i)},"hexagonBkg"),P=e(function(t,e,i){e.append("rect").attr("id","node-"+i.id).attr("class","node-bkg node-"+t.type2Str(i.type)).attr("height",i.height).attr("rx",i.padding).attr("ry",i.padding).attr("width",i.width)},"roundedRectBkg"),U=e(async function(t,e,i,n,r){const o=r.htmlLabels,s=n%11,a=e.append("g");i.section=s;let h="section-"+s;s<0&&(h+=" section-root"),a.attr("class",(i.class?i.class+" ":"")+"mindmap-node "+h);const l=a.append("g"),c=a.append("g"),g=i.descr.replace(/(<br\/*>)/g,"\n");await u(c,g,{useHtmlLabels:o,width:i.width,classes:"mindmap-node-label"},r),o||c.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle");const p=c.node().getBBox(),[f]=d(r.fontSize);if(i.height=p.height+1.1*f*.5+i.padding,i.width=p.width+2*i.padding,i.icon)if(i.type===t.nodeType.CIRCLE){i.height+=50,i.width+=50;a.append("foreignObject").attr("height","50px").attr("width",i.width).attr("style","text-align: center;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+s+" "+i.icon),c.attr("transform","translate("+i.width/2+", "+(i.height/2-1.5*i.padding)+")")}else{i.width+=50;const t=i.height;i.height=Math.max(t,60);const e=Math.abs(i.height-t);a.append("foreignObject").attr("width","60px").attr("height",i.height).attr("style","text-align: center;margin-top:"+e/2+"px;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+s+" "+i.icon),c.attr("transform","translate("+(25+i.width/2)+", "+(e/2+i.padding/2)+")")}else if(o){const t=(i.width-p.width)/2,e=(i.height-p.height)/2;c.attr("transform","translate("+t+", "+e+")")}else{const t=i.width/2,e=i.padding/2;c.attr("transform","translate("+t+", "+e+")")}switch(i.type){case t.nodeType.DEFAULT:C(t,l,i,s);break;case t.nodeType.ROUNDED_RECT:P(t,l,i,s);break;case t.nodeType.RECT:M(t,l,i,s);break;case t.nodeType.CIRCLE:l.attr("transform","translate("+i.width/2+", "+ +i.height/2+")"),b(t,l,i,s);break;case t.nodeType.CLOUD:x(t,l,i,s);break;case t.nodeType.BANG:G(t,l,i,s);break;case t.nodeType.HEXAGON:F(t,l,i,s)}return t.setElementForId(i.id,a),i.height},"drawNode"),Y=e(function(t,e){const i=t.getElementById(e.id),n=e.x||0,r=e.y||0;i.attr("transform","translate("+n+","+r+")")},"positionNode");async function k(t,e,i,n,r){await U(t,e,i,n,r),i.children&&await Promise.all(i.children.map((i,o)=>k(t,e,i,n<0?o:n,r)))}function X(t,e){e.edges().map((e,n)=>{const r=e.data();if(e[0]._private.bodyBounds){const o=e[0]._private.rscratch;i.trace("Edge: ",n,r),t.insert("path").attr("d",`M ${o.startX},${o.startY} L ${o.midX},${o.midY} L${o.endX},${o.endY} `).attr("class","edge section-edge-"+r.section+" edge-depth-"+r.depth)}})}function B(t,e,i,n){e.add({group:"nodes",data:{id:t.id.toString(),labelText:t.descr,height:t.height,width:t.width,level:n,nodeId:t.id,padding:t.padding,type:t.type},position:{x:t.x,y:t.y}}),t.children&&t.children.forEach(r=>{B(r,e,i,n+1),e.add({group:"edges",data:{id:`${t.id}_${r.id}`,source:t.id,target:r.id,depth:n,section:r.section}})})}function $(t,e){return new Promise(n=>{const r=g("body").append("div").attr("id","cy").attr("style","display:none"),o=p({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});r.remove(),B(t,o,e,0),o.nodes().forEach(function(t){t.layoutDimensions=()=>{const e=t.data();return{w:e.width,h:e.height}}}),o.layout({name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1}).run(),o.ready(t=>{i.info("Ready",t),n(o)})})}function H(t,e){e.nodes().map((e,n)=>{const r=e.data();r.x=e.position().x,r.y=e.position().y,Y(t,r);const o=t.getElementById(r.nodeId);i.info("id:",n,"Position: (",e.position().x,", ",e.position().y,")",r),o.attr("transform",`translate(${e.position().x-r.width/2}, ${e.position().y-r.height/2})`),o.attr("attr",`apa-${n})`)})}p.use(O),e(k,"drawNodes"),e(X,"drawEdges"),e(B,"addNodes"),e($,"layoutMindmap"),e(H,"positionNodes");var W={draw:e(async(t,e,a,h)=>{i.debug("Rendering mindmap diagram\n"+t);const l=h.db,c=l.getMindmap();if(!c)return;const g=n();g.htmlLabels=!1;const u=r(e),d=u.append("g");d.attr("class","mindmap-edges");const p=u.append("g");p.attr("class","mindmap-nodes"),await k(l,p,c,-1,g);const f=await $(c,g);X(d,f),H(l,f),o(void 0,u,g.mindmap?.padding??s.mindmap.padding,g.mindmap?.useMaxWidth??s.mindmap.useMaxWidth)},"draw")},j=e(t=>{let e="";for(let i=0;i<t.THEME_COLOR_LIMIT;i++)t["lineColor"+i]=t["lineColor"+i]||t["cScaleInv"+i],h(t["lineColor"+i])?t["lineColor"+i]=l(t["lineColor"+i],20):t["lineColor"+i]=c(t["lineColor"+i],20);for(let i=0;i<t.THEME_COLOR_LIMIT;i++){const n=""+(17-3*i);e+=`\n    .section-${i-1} rect, .section-${i-1} path, .section-${i-1} circle, .section-${i-1} polygon, .section-${i-1} path  {\n      fill: ${t["cScale"+i]};\n    }\n    .section-${i-1} text {\n     fill: ${t["cScaleLabel"+i]};\n    }\n    .node-icon-${i-1} {\n      font-size: 40px;\n      color: ${t["cScaleLabel"+i]};\n    }\n    .section-edge-${i-1}{\n      stroke: ${t["cScale"+i]};\n    }\n    .edge-depth-${i-1}{\n      stroke-width: ${n};\n    }\n    .section-${i-1} line {\n      stroke: ${t["cScaleInv"+i]} ;\n      stroke-width: 3;\n    }\n\n    .disabled, .disabled circle, .disabled text {\n      fill: lightgray;\n    }\n    .disabled text {\n      fill: #efefef;\n    }\n    `}return e},"genSections"),V=e(t=>`\n  .edge {\n    stroke-width: 3;\n  }\n  ${j(t)}\n  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {\n    fill: ${t.git0};\n  }\n  .section-root text {\n    fill: ${t.gitBranchLabel0};\n  }\n  .icon-container {\n    height:100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .edge {\n    fill: none;\n  }\n  .mindmap-node-label {\n    dy: 1em;\n    alignment-baseline: middle;\n    text-anchor: middle;\n    dominant-baseline: middle;\n    text-align: center;\n  }\n`,"getStyles"),z={get db(){return new R},renderer:W,parser:I,styles:V};export{z as diagram};

import{aH as t,_ as e,H as i,V as n,l as r,b as o,a as s,p as a,q as h,g as l,s as d,y as c,D as g,E as u,F as f,c as p,ak as y,aI as m,i as v,d as E,aJ as N,aK as T}from"./index.js";import{p as A}from"./chunk-ANTBXLJU.js";import{p as w}from"./treemap-75Q7IDZK.js";import{c as L}from"./cytoscape.esm.js";import"./_baseUniq.js";import"./_basePickBy.js";import"./clone.js";var C,I={exports:{}},_={exports:{}},M={exports:{}};function x(){return C?M.exports:(C=1,t=function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=28)}([function(t,e,i){function n(){}n.QUALITY=1,n.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,n.DEFAULT_INCREMENTAL=!1,n.DEFAULT_ANIMATION_ON_LAYOUT=!0,n.DEFAULT_ANIMATION_DURING_LAYOUT=!1,n.DEFAULT_ANIMATION_PERIOD=50,n.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,n.DEFAULT_GRAPH_MARGIN=15,n.NODE_DIMENSIONS_INCLUDE_LABELS=!1,n.SIMPLE_NODE_SIZE=40,n.SIMPLE_NODE_HALF_SIZE=n.SIMPLE_NODE_SIZE/2,n.EMPTY_COMPOUND_NODE_SIZE=40,n.MIN_EDGE_LENGTH=1,n.WORLD_BOUNDARY=1e6,n.INITIAL_WORLD_BOUNDARY=n.WORLD_BOUNDARY/1e3,n.WORLD_CENTER_X=1200,n.WORLD_CENTER_Y=900,t.exports=n},function(t,e,i){var n=i(2),r=i(8),o=i(9);function s(t,e,i){n.call(this,i),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=i,this.bendpoints=[],this.source=t,this.target=e}for(var a in s.prototype=Object.create(n.prototype),n)s[a]=n[a];s.prototype.getSource=function(){return this.source},s.prototype.getTarget=function(){return this.target},s.prototype.isInterGraph=function(){return this.isInterGraph},s.prototype.getLength=function(){return this.length},s.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},s.prototype.getBendpoints=function(){return this.bendpoints},s.prototype.getLca=function(){return this.lca},s.prototype.getSourceInLca=function(){return this.sourceInLca},s.prototype.getTargetInLca=function(){return this.targetInLca},s.prototype.getOtherEnd=function(t){if(this.source===t)return this.target;if(this.target===t)return this.source;throw"Node is not incident with this edge"},s.prototype.getOtherEndInGraph=function(t,e){for(var i=this.getOtherEnd(t),n=e.getGraphManager().getRoot();;){if(i.getOwner()==e)return i;if(i.getOwner()==n)break;i=i.getOwner().getParent()}return null},s.prototype.updateLength=function(){var t=new Array(4);this.isOverlapingSourceAndTarget=r.getIntersection(this.target.getRect(),this.source.getRect(),t),this.isOverlapingSourceAndTarget||(this.lengthX=t[0]-t[2],this.lengthY=t[1]-t[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},s.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},t.exports=s},function(t,e,i){t.exports=function(t){this.vGraphObject=t}},function(t,e,i){var n=i(2),r=i(10),o=i(13),s=i(0),a=i(16),h=i(5);function l(t,e,i,s){null==i&&null==s&&(s=e),n.call(this,s),null!=t.graphManager&&(t=t.graphManager),this.estimatedSize=r.MIN_VALUE,this.inclusionTreeDepth=r.MAX_VALUE,this.vGraphObject=s,this.edges=[],this.graphManager=t,this.rect=null!=i&&null!=e?new o(e.x,e.y,i.width,i.height):new o}for(var d in l.prototype=Object.create(n.prototype),n)l[d]=n[d];l.prototype.getEdges=function(){return this.edges},l.prototype.getChild=function(){return this.child},l.prototype.getOwner=function(){return this.owner},l.prototype.getWidth=function(){return this.rect.width},l.prototype.setWidth=function(t){this.rect.width=t},l.prototype.getHeight=function(){return this.rect.height},l.prototype.setHeight=function(t){this.rect.height=t},l.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},l.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},l.prototype.getCenter=function(){return new h(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},l.prototype.getLocation=function(){return new h(this.rect.x,this.rect.y)},l.prototype.getRect=function(){return this.rect},l.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},l.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},l.prototype.setRect=function(t,e){this.rect.x=t.x,this.rect.y=t.y,this.rect.width=e.width,this.rect.height=e.height},l.prototype.setCenter=function(t,e){this.rect.x=t-this.rect.width/2,this.rect.y=e-this.rect.height/2},l.prototype.setLocation=function(t,e){this.rect.x=t,this.rect.y=e},l.prototype.moveBy=function(t,e){this.rect.x+=t,this.rect.y+=e},l.prototype.getEdgeListToNode=function(t){var e=[],i=this;return i.edges.forEach(function(n){if(n.target==t){if(n.source!=i)throw"Incorrect edge source!";e.push(n)}}),e},l.prototype.getEdgesBetween=function(t){var e=[],i=this;return i.edges.forEach(function(n){if(n.source!=i&&n.target!=i)throw"Incorrect edge source and/or target";n.target!=t&&n.source!=t||e.push(n)}),e},l.prototype.getNeighborsList=function(){var t=new Set,e=this;return e.edges.forEach(function(i){if(i.source==e)t.add(i.target);else{if(i.target!=e)throw"Incorrect incidency!";t.add(i.source)}}),t},l.prototype.withChildren=function(){var t=new Set;if(t.add(this),null!=this.child)for(var e=this.child.getNodes(),i=0;i<e.length;i++)e[i].withChildren().forEach(function(e){t.add(e)});return t},l.prototype.getNoOfChildren=function(){var t=0;if(null==this.child)t=1;else for(var e=this.child.getNodes(),i=0;i<e.length;i++)t+=e[i].getNoOfChildren();return 0==t&&(t=1),t},l.prototype.getEstimatedSize=function(){if(this.estimatedSize==r.MIN_VALUE)throw"assert failed";return this.estimatedSize},l.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},l.prototype.scatter=function(){var t,e,i=-s.INITIAL_WORLD_BOUNDARY,n=s.INITIAL_WORLD_BOUNDARY;t=s.WORLD_CENTER_X+a.nextDouble()*(n-i)+i;var r=-s.INITIAL_WORLD_BOUNDARY,o=s.INITIAL_WORLD_BOUNDARY;e=s.WORLD_CENTER_Y+a.nextDouble()*(o-r)+r,this.rect.x=t,this.rect.y=e},l.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var t=this.getChild();if(t.updateBounds(!0),this.rect.x=t.getLeft(),this.rect.y=t.getTop(),this.setWidth(t.getRight()-t.getLeft()),this.setHeight(t.getBottom()-t.getTop()),s.NODE_DIMENSIONS_INCLUDE_LABELS){var e=t.getRight()-t.getLeft(),i=t.getBottom()-t.getTop();this.labelWidth&&("left"==this.labelPosHorizontal?(this.rect.x-=this.labelWidth,this.setWidth(e+this.labelWidth)):"center"==this.labelPosHorizontal&&this.labelWidth>e?(this.rect.x-=(this.labelWidth-e)/2,this.setWidth(this.labelWidth)):"right"==this.labelPosHorizontal&&this.setWidth(e+this.labelWidth)),this.labelHeight&&("top"==this.labelPosVertical?(this.rect.y-=this.labelHeight,this.setHeight(i+this.labelHeight)):"center"==this.labelPosVertical&&this.labelHeight>i?(this.rect.y-=(this.labelHeight-i)/2,this.setHeight(this.labelHeight)):"bottom"==this.labelPosVertical&&this.setHeight(i+this.labelHeight))}}},l.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==r.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},l.prototype.transform=function(t){var e=this.rect.x;e>s.WORLD_BOUNDARY?e=s.WORLD_BOUNDARY:e<-s.WORLD_BOUNDARY&&(e=-s.WORLD_BOUNDARY);var i=this.rect.y;i>s.WORLD_BOUNDARY?i=s.WORLD_BOUNDARY:i<-s.WORLD_BOUNDARY&&(i=-s.WORLD_BOUNDARY);var n=new h(e,i),r=t.inverseTransformPoint(n);this.setLocation(r.x,r.y)},l.prototype.getLeft=function(){return this.rect.x},l.prototype.getRight=function(){return this.rect.x+this.rect.width},l.prototype.getTop=function(){return this.rect.y},l.prototype.getBottom=function(){return this.rect.y+this.rect.height},l.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},t.exports=l},function(t,e,i){var n=i(0);function r(){}for(var o in n)r[o]=n[o];r.MAX_ITERATIONS=2500,r.DEFAULT_EDGE_LENGTH=50,r.DEFAULT_SPRING_STRENGTH=.45,r.DEFAULT_REPULSION_STRENGTH=4500,r.DEFAULT_GRAVITY_STRENGTH=.4,r.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,r.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,r.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,r.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,r.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,r.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,r.COOLING_ADAPTATION_FACTOR=.33,r.ADAPTATION_LOWER_NODE_LIMIT=1e3,r.ADAPTATION_UPPER_NODE_LIMIT=5e3,r.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,r.MAX_NODE_DISPLACEMENT=3*r.MAX_NODE_DISPLACEMENT_INCREMENTAL,r.MIN_REPULSION_DIST=r.DEFAULT_EDGE_LENGTH/10,r.CONVERGENCE_CHECK_PERIOD=100,r.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,r.MIN_EDGE_LENGTH=1,r.GRID_CALCULATION_CHECK_PERIOD=10,t.exports=r},function(t,e,i){function n(t,e){null==t&&null==e?(this.x=0,this.y=0):(this.x=t,this.y=e)}n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.setX=function(t){this.x=t},n.prototype.setY=function(t){this.y=t},n.prototype.getDifference=function(t){return new DimensionD(this.x-t.x,this.y-t.y)},n.prototype.getCopy=function(){return new n(this.x,this.y)},n.prototype.translate=function(t){return this.x+=t.width,this.y+=t.height,this},t.exports=n},function(t,e,i){var n=i(2),r=i(10),o=i(0),s=i(7),a=i(3),h=i(1),l=i(13),d=i(12),c=i(11);function g(t,e,i){n.call(this,i),this.estimatedSize=r.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=t,null!=e&&e instanceof s?this.graphManager=e:null!=e&&e instanceof Layout&&(this.graphManager=e.graphManager)}for(var u in g.prototype=Object.create(n.prototype),n)g[u]=n[u];g.prototype.getNodes=function(){return this.nodes},g.prototype.getEdges=function(){return this.edges},g.prototype.getGraphManager=function(){return this.graphManager},g.prototype.getParent=function(){return this.parent},g.prototype.getLeft=function(){return this.left},g.prototype.getRight=function(){return this.right},g.prototype.getTop=function(){return this.top},g.prototype.getBottom=function(){return this.bottom},g.prototype.isConnected=function(){return this.isConnected},g.prototype.add=function(t,e,i){if(null==e&&null==i){var n=t;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(n)>-1)throw"Node already in graph!";return n.owner=this,this.getNodes().push(n),n}var r=t;if(!(this.getNodes().indexOf(e)>-1&&this.getNodes().indexOf(i)>-1))throw"Source or target not in graph!";if(e.owner!=i.owner||e.owner!=this)throw"Both owners must be this graph!";return e.owner!=i.owner?null:(r.source=e,r.target=i,r.isInterGraph=!1,this.getEdges().push(r),e.edges.push(r),i!=e&&i.edges.push(r),r)},g.prototype.remove=function(t){var e=t;if(t instanceof a){if(null==e)throw"Node is null!";if(null==e.owner||e.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var i=e.edges.slice(),n=i.length,r=0;r<n;r++)(o=i[r]).isInterGraph?this.graphManager.remove(o):o.source.owner.remove(o);if(-1==(s=this.nodes.indexOf(e)))throw"Node not in owner node list!";this.nodes.splice(s,1)}else if(t instanceof h){var o;if(null==(o=t))throw"Edge is null!";if(null==o.source||null==o.target)throw"Source and/or target is null!";if(null==o.source.owner||null==o.target.owner||o.source.owner!=this||o.target.owner!=this)throw"Source and/or target owner is invalid!";var s,l=o.source.edges.indexOf(o),d=o.target.edges.indexOf(o);if(!(l>-1&&d>-1))throw"Source and/or target doesn't know this edge!";if(o.source.edges.splice(l,1),o.target!=o.source&&o.target.edges.splice(d,1),-1==(s=o.source.owner.getEdges().indexOf(o)))throw"Not in owner's edge list!";o.source.owner.getEdges().splice(s,1)}},g.prototype.updateLeftTop=function(){for(var t,e,i,n=r.MAX_VALUE,o=r.MAX_VALUE,s=this.getNodes(),a=s.length,h=0;h<a;h++){var l=s[h];n>(t=l.getTop())&&(n=t),o>(e=l.getLeft())&&(o=e)}return n==r.MAX_VALUE?null:(i=null!=s[0].getParent().paddingLeft?s[0].getParent().paddingLeft:this.margin,this.left=o-i,this.top=n-i,new d(this.left,this.top))},g.prototype.updateBounds=function(t){for(var e,i,n,o,s,a=r.MAX_VALUE,h=-r.MAX_VALUE,d=r.MAX_VALUE,c=-r.MAX_VALUE,g=this.nodes,u=g.length,f=0;f<u;f++){var p=g[f];t&&null!=p.child&&p.updateBounds(),a>(e=p.getLeft())&&(a=e),h<(i=p.getRight())&&(h=i),d>(n=p.getTop())&&(d=n),c<(o=p.getBottom())&&(c=o)}var y=new l(a,d,h-a,c-d);a==r.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),s=null!=g[0].getParent().paddingLeft?g[0].getParent().paddingLeft:this.margin,this.left=y.x-s,this.right=y.x+y.width+s,this.top=y.y-s,this.bottom=y.y+y.height+s},g.calculateBounds=function(t){for(var e,i,n,o,s=r.MAX_VALUE,a=-r.MAX_VALUE,h=r.MAX_VALUE,d=-r.MAX_VALUE,c=t.length,g=0;g<c;g++){var u=t[g];s>(e=u.getLeft())&&(s=e),a<(i=u.getRight())&&(a=i),h>(n=u.getTop())&&(h=n),d<(o=u.getBottom())&&(d=o)}return new l(s,h,a-s,d-h)},g.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},g.prototype.getEstimatedSize=function(){if(this.estimatedSize==r.MIN_VALUE)throw"assert failed";return this.estimatedSize},g.prototype.calcEstimatedSize=function(){for(var t=0,e=this.nodes,i=e.length,n=0;n<i;n++)t+=e[n].calcEstimatedSize();return this.estimatedSize=0==t?o.EMPTY_COMPOUND_NODE_SIZE:t/Math.sqrt(this.nodes.length),this.estimatedSize},g.prototype.updateConnected=function(){var t=this;if(0!=this.nodes.length){var e,i,n=new c,r=new Set,o=this.nodes[0];for(o.withChildren().forEach(function(t){n.push(t),r.add(t)});0!==n.length;)for(var s=(e=(o=n.shift()).getEdges()).length,a=0;a<s;a++)null==(i=e[a].getOtherEndInGraph(o,this))||r.has(i)||i.withChildren().forEach(function(t){n.push(t),r.add(t)});if(this.isConnected=!1,r.size>=this.nodes.length){var h=0;r.forEach(function(e){e.owner==t&&h++}),h==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},t.exports=g},function(t,e,i){var n,r=i(1);function o(t){n=i(6),this.layout=t,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var t=this.layout.newGraph(),e=this.layout.newNode(null),i=this.add(t,e);return this.setRootGraph(i),this.rootGraph},o.prototype.add=function(t,e,i,n,r){if(null==i&&null==n&&null==r){if(null==t)throw"Graph is null!";if(null==e)throw"Parent node is null!";if(this.graphs.indexOf(t)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(t),null!=t.parent)throw"Already has a parent!";if(null!=e.child)throw"Already has a child!";return t.parent=e,e.child=t,t}r=i,i=t;var o=(n=e).getOwner(),s=r.getOwner();if(null==o||o.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==s||s.getGraphManager()!=this)throw"Target not in this graph mgr!";if(o==s)return i.isInterGraph=!1,o.add(i,n,r);if(i.isInterGraph=!0,i.source=n,i.target=r,this.edges.indexOf(i)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(i),null==i.source||null==i.target)throw"Edge source and/or target is null!";if(-1!=i.source.edges.indexOf(i)||-1!=i.target.edges.indexOf(i))throw"Edge already in source and/or target incidency list!";return i.source.edges.push(i),i.target.edges.push(i),i},o.prototype.remove=function(t){if(t instanceof n){var e=t;if(e.getGraphManager()!=this)throw"Graph not in this graph mgr";if(e!=this.rootGraph&&(null==e.parent||e.parent.graphManager!=this))throw"Invalid parent node!";for(var i,o=[],s=(o=o.concat(e.getEdges())).length,a=0;a<s;a++)i=o[a],e.remove(i);var h,l=[];for(s=(l=l.concat(e.getNodes())).length,a=0;a<s;a++)h=l[a],e.remove(h);e==this.rootGraph&&this.setRootGraph(null);var d=this.graphs.indexOf(e);this.graphs.splice(d,1),e.parent=null}else if(t instanceof r){if(null==(i=t))throw"Edge is null!";if(!i.isInterGraph)throw"Not an inter-graph edge!";if(null==i.source||null==i.target)throw"Source and/or target is null!";if(-1==i.source.edges.indexOf(i)||-1==i.target.edges.indexOf(i))throw"Source and/or target doesn't know this edge!";if(d=i.source.edges.indexOf(i),i.source.edges.splice(d,1),d=i.target.edges.indexOf(i),i.target.edges.splice(d,1),null==i.source.owner||null==i.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==i.source.owner.getGraphManager().edges.indexOf(i))throw"Not in owner graph manager's edge list!";d=i.source.owner.getGraphManager().edges.indexOf(i),i.source.owner.getGraphManager().edges.splice(d,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(null==this.allNodes){for(var t=[],e=this.getGraphs(),i=e.length,n=0;n<i;n++)t=t.concat(e[n].getNodes());this.allNodes=t}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(null==this.allEdges){var t=[],e=this.getGraphs();e.length;for(var i=0;i<e.length;i++)t=t.concat(e[i].getEdges());t=t.concat(this.edges),this.allEdges=t}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(t){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=t},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(t){if(t.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=t,null==t.parent&&(t.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(t,e){if(null==t||null==e)throw"assert failed";if(t==e)return!0;for(var i,n=t.getOwner();null!=(i=n.getParent());){if(i==e)return!0;if(null==(n=i.getOwner()))break}for(n=e.getOwner();null!=(i=n.getParent());){if(i==t)return!0;if(null==(n=i.getOwner()))break}return!1},o.prototype.calcLowestCommonAncestors=function(){for(var t,e,i,n,r,o=this.getAllEdges(),s=o.length,a=0;a<s;a++)if(e=(t=o[a]).source,i=t.target,t.lca=null,t.sourceInLca=e,t.targetInLca=i,e!=i){for(n=e.getOwner();null==t.lca;){for(t.targetInLca=i,r=i.getOwner();null==t.lca;){if(r==n){t.lca=r;break}if(r==this.rootGraph)break;if(null!=t.lca)throw"assert failed";t.targetInLca=r.getParent(),r=t.targetInLca.getOwner()}if(n==this.rootGraph)break;null==t.lca&&(t.sourceInLca=n.getParent(),n=t.sourceInLca.getOwner())}if(null==t.lca)throw"assert failed"}else t.lca=e.getOwner()},o.prototype.calcLowestCommonAncestor=function(t,e){if(t==e)return t.getOwner();for(var i=t.getOwner();null!=i;){for(var n=e.getOwner();null!=n;){if(n==i)return n;n=n.getParent().getOwner()}i=i.getParent().getOwner()}return i},o.prototype.calcInclusionTreeDepths=function(t,e){var i;null==t&&null==e&&(t=this.rootGraph,e=1);for(var n=t.getNodes(),r=n.length,o=0;o<r;o++)(i=n[o]).inclusionTreeDepth=e,null!=i.child&&this.calcInclusionTreeDepths(i.child,e+1)},o.prototype.includesInvalidEdge=function(){for(var t,e=[],i=this.edges.length,n=0;n<i;n++)t=this.edges[n],this.isOneAncestorOfOther(t.source,t.target)&&e.push(t);for(n=0;n<e.length;n++)this.remove(e[n]);return!1},t.exports=o},function(t,e,i){var n=i(12);function r(){}r.calcSeparationAmount=function(t,e,i,n){if(!t.intersects(e))throw"assert failed";var r=new Array(2);this.decideDirectionsForOverlappingNodes(t,e,r),i[0]=Math.min(t.getRight(),e.getRight())-Math.max(t.x,e.x),i[1]=Math.min(t.getBottom(),e.getBottom())-Math.max(t.y,e.y),t.getX()<=e.getX()&&t.getRight()>=e.getRight()?i[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight()):e.getX()<=t.getX()&&e.getRight()>=t.getRight()&&(i[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight())),t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()?i[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom()):e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()&&(i[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom()));var o=Math.abs((e.getCenterY()-t.getCenterY())/(e.getCenterX()-t.getCenterX()));e.getCenterY()===t.getCenterY()&&e.getCenterX()===t.getCenterX()&&(o=1);var s=o*i[0],a=i[1]/o;i[0]<a?a=i[0]:s=i[1],i[0]=-1*r[0]*(a/2+n),i[1]=-1*r[1]*(s/2+n)},r.decideDirectionsForOverlappingNodes=function(t,e,i){t.getCenterX()<e.getCenterX()?i[0]=-1:i[0]=1,t.getCenterY()<e.getCenterY()?i[1]=-1:i[1]=1},r.getIntersection2=function(t,e,i){var n=t.getCenterX(),r=t.getCenterY(),o=e.getCenterX(),s=e.getCenterY();if(t.intersects(e))return i[0]=n,i[1]=r,i[2]=o,i[3]=s,!0;var a=t.getX(),h=t.getY(),l=t.getRight(),d=t.getX(),c=t.getBottom(),g=t.getRight(),u=t.getWidthHalf(),f=t.getHeightHalf(),p=e.getX(),y=e.getY(),m=e.getRight(),v=e.getX(),E=e.getBottom(),N=e.getRight(),T=e.getWidthHalf(),A=e.getHeightHalf(),w=!1,L=!1;if(n===o){if(r>s)return i[0]=n,i[1]=h,i[2]=o,i[3]=E,!1;if(r<s)return i[0]=n,i[1]=c,i[2]=o,i[3]=y,!1}else if(r===s){if(n>o)return i[0]=a,i[1]=r,i[2]=m,i[3]=s,!1;if(n<o)return i[0]=l,i[1]=r,i[2]=p,i[3]=s,!1}else{var C=t.height/t.width,I=e.height/e.width,_=(s-r)/(o-n),M=void 0,x=void 0,O=void 0,D=void 0,R=void 0,b=void 0;if(-C===_?n>o?(i[0]=d,i[1]=c,w=!0):(i[0]=l,i[1]=h,w=!0):C===_&&(n>o?(i[0]=a,i[1]=h,w=!0):(i[0]=g,i[1]=c,w=!0)),-I===_?o>n?(i[2]=v,i[3]=E,L=!0):(i[2]=m,i[3]=y,L=!0):I===_&&(o>n?(i[2]=p,i[3]=y,L=!0):(i[2]=N,i[3]=E,L=!0)),w&&L)return!1;if(n>o?r>s?(M=this.getCardinalDirection(C,_,4),x=this.getCardinalDirection(I,_,2)):(M=this.getCardinalDirection(-C,_,3),x=this.getCardinalDirection(-I,_,1)):r>s?(M=this.getCardinalDirection(-C,_,1),x=this.getCardinalDirection(-I,_,3)):(M=this.getCardinalDirection(C,_,2),x=this.getCardinalDirection(I,_,4)),!w)switch(M){case 1:D=h,O=n+-f/_,i[0]=O,i[1]=D;break;case 2:O=g,D=r+u*_,i[0]=O,i[1]=D;break;case 3:D=c,O=n+f/_,i[0]=O,i[1]=D;break;case 4:O=d,D=r+-u*_,i[0]=O,i[1]=D}if(!L)switch(x){case 1:b=y,R=o+-A/_,i[2]=R,i[3]=b;break;case 2:R=N,b=s+T*_,i[2]=R,i[3]=b;break;case 3:b=E,R=o+A/_,i[2]=R,i[3]=b;break;case 4:R=v,b=s+-T*_,i[2]=R,i[3]=b}}return!1},r.getCardinalDirection=function(t,e,i){return t>e?i:1+i%4},r.getIntersection=function(t,e,i,r){if(null==r)return this.getIntersection2(t,e,i);var o,s,a,h,l,d,c,g=t.x,u=t.y,f=e.x,p=e.y,y=i.x,m=i.y,v=r.x,E=r.y;return 0===(c=(o=p-u)*(h=y-v)-(s=E-m)*(a=g-f))?null:new n((a*(d=v*m-y*E)-h*(l=f*u-g*p))/c,(s*l-o*d)/c)},r.angleOfVector=function(t,e,i,n){var r=void 0;return t!==i?(r=Math.atan((n-e)/(i-t)),i<t?r+=Math.PI:n<e&&(r+=this.TWO_PI)):r=n<e?this.ONE_AND_HALF_PI:this.HALF_PI,r},r.doIntersect=function(t,e,i,n){var r=t.x,o=t.y,s=e.x,a=e.y,h=i.x,l=i.y,d=n.x,c=n.y,g=(s-r)*(c-l)-(d-h)*(a-o);if(0===g)return!1;var u=((c-l)*(d-r)+(h-d)*(c-o))/g,f=((o-a)*(d-r)+(s-r)*(c-o))/g;return 0<u&&u<1&&0<f&&f<1},r.findCircleLineIntersections=function(t,e,i,n,r,o,s){var a=(i-t)*(i-t)+(n-e)*(n-e),h=2*((t-r)*(i-t)+(e-o)*(n-e)),l=(t-r)*(t-r)+(e-o)*(e-o)-s*s;if(h*h-4*a*l>=0){var d=(-h+Math.sqrt(h*h-4*a*l))/(2*a),c=(-h-Math.sqrt(h*h-4*a*l))/(2*a);return d>=0&&d<=1?[d]:c>=0&&c<=1?[c]:null}return null},r.HALF_PI=.5*Math.PI,r.ONE_AND_HALF_PI=1.5*Math.PI,r.TWO_PI=2*Math.PI,r.THREE_PI=3*Math.PI,t.exports=r},function(t,e,i){function n(){}n.sign=function(t){return t>0?1:t<0?-1:0},n.floor=function(t){return t<0?Math.ceil(t):Math.floor(t)},n.ceil=function(t){return t<0?Math.floor(t):Math.ceil(t)},t.exports=n},function(t,e,i){function n(){}n.MAX_VALUE=2147483647,n.MIN_VALUE=-2147483648,t.exports=n},function(t,e,i){var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return{value:t,next:null,prev:null}},o=function(t,e,i,n){return null!==t?t.next=e:n.head=e,null!==i?i.prev=e:n.tail=e,e.prev=t,e.next=i,n.length++,e},s=function(t,e){var i=t.prev,n=t.next;return null!==i?i.next=n:e.head=n,null!==n?n.prev=i:e.tail=i,t.prev=t.next=null,e.length--,t},a=function(){function t(e){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.length=0,this.head=null,this.tail=null,null!=e&&e.forEach(function(t){return i.push(t)})}return n(t,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(t,e){return o(e.prev,r(t),e,this)}},{key:"insertAfter",value:function(t,e){return o(e,r(t),e.next,this)}},{key:"insertNodeBefore",value:function(t,e){return o(e.prev,t,e,this)}},{key:"insertNodeAfter",value:function(t,e){return o(e,t,e.next,this)}},{key:"push",value:function(t){return o(this.tail,r(t),null,this)}},{key:"unshift",value:function(t){return o(null,r(t),this.head,this)}},{key:"remove",value:function(t){return s(t,this)}},{key:"pop",value:function(){return s(this.tail,this).value}},{key:"popNode",value:function(){return s(this.tail,this)}},{key:"shift",value:function(){return s(this.head,this).value}},{key:"shiftNode",value:function(){return s(this.head,this)}},{key:"get_object_at",value:function(t){if(t<=this.length()){for(var e=1,i=this.head;e<t;)i=i.next,e++;return i.value}}},{key:"set_object_at",value:function(t,e){if(t<=this.length()){for(var i=1,n=this.head;i<t;)n=n.next,i++;n.value=e}}}]),t}();t.exports=a},function(t,e,i){function n(t,e,i){this.x=null,this.y=null,null==t&&null==e&&null==i?(this.x=0,this.y=0):"number"==typeof t&&"number"==typeof e&&null==i?(this.x=t,this.y=e):"Point"==t.constructor.name&&null==e&&null==i&&(i=t,this.x=i.x,this.y=i.y)}n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.getLocation=function(){return new n(this.x,this.y)},n.prototype.setLocation=function(t,e,i){"Point"==t.constructor.name&&null==e&&null==i?(i=t,this.setLocation(i.x,i.y)):"number"==typeof t&&"number"==typeof e&&null==i&&(parseInt(t)==t&&parseInt(e)==e?this.move(t,e):(this.x=Math.floor(t+.5),this.y=Math.floor(e+.5)))},n.prototype.move=function(t,e){this.x=t,this.y=e},n.prototype.translate=function(t,e){this.x+=t,this.y+=e},n.prototype.equals=function(t){if("Point"==t.constructor.name){var e=t;return this.x==e.x&&this.y==e.y}return this==t},n.prototype.toString=function(){return(new n).constructor.name+"[x="+this.x+",y="+this.y+"]"},t.exports=n},function(t,e,i){function n(t,e,i,n){this.x=0,this.y=0,this.width=0,this.height=0,null!=t&&null!=e&&null!=i&&null!=n&&(this.x=t,this.y=e,this.width=i,this.height=n)}n.prototype.getX=function(){return this.x},n.prototype.setX=function(t){this.x=t},n.prototype.getY=function(){return this.y},n.prototype.setY=function(t){this.y=t},n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(t){this.width=t},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(t){this.height=t},n.prototype.getRight=function(){return this.x+this.width},n.prototype.getBottom=function(){return this.y+this.height},n.prototype.intersects=function(t){return!(this.getRight()<t.x||this.getBottom()<t.y||t.getRight()<this.x||t.getBottom()<this.y)},n.prototype.getCenterX=function(){return this.x+this.width/2},n.prototype.getMinX=function(){return this.getX()},n.prototype.getMaxX=function(){return this.getX()+this.width},n.prototype.getCenterY=function(){return this.y+this.height/2},n.prototype.getMinY=function(){return this.getY()},n.prototype.getMaxY=function(){return this.getY()+this.height},n.prototype.getWidthHalf=function(){return this.width/2},n.prototype.getHeightHalf=function(){return this.height/2},t.exports=n},function(t,e,i){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(){}r.lastID=0,r.createID=function(t){return r.isPrimitive(t)?t:(null!=t.uniqueID||(t.uniqueID=r.getString(),r.lastID++),t.uniqueID)},r.getString=function(t){return null==t&&(t=r.lastID),"Object#"+t},r.isPrimitive=function(t){var e=void 0===t?"undefined":n(t);return null==t||"object"!=e&&"function"!=e},t.exports=r},function(t,e,i){function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var r=i(0),o=i(7),s=i(3),a=i(1),h=i(6),l=i(5),d=i(17),c=i(29);function g(t){c.call(this),this.layoutQuality=r.QUALITY,this.createBendsAsNeeded=r.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=r.DEFAULT_INCREMENTAL,this.animationOnLayout=r.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=r.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=r.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=r.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=t&&(this.isRemoteUse=t)}g.RANDOM_SEED=1,g.prototype=Object.create(c.prototype),g.prototype.getGraphManager=function(){return this.graphManager},g.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},g.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},g.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},g.prototype.newGraphManager=function(){var t=new o(this);return this.graphManager=t,t},g.prototype.newGraph=function(t){return new h(null,this.graphManager,t)},g.prototype.newNode=function(t){return new s(this.graphManager,t)},g.prototype.newEdge=function(t){return new a(null,null,t)},g.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},g.prototype.runLayout=function(){var t;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),t=!this.checkLayoutSuccess()&&this.layout(),"during"!==r.ANIMATE&&(t&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,t)},g.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},g.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var t=this.graphManager.getAllEdges(),e=0;e<t.length;e++)t[e];var i=this.graphManager.getRoot().getNodes();for(e=0;e<i.length;e++)i[e];this.update(this.graphManager.getRoot())}},g.prototype.update=function(t){if(null==t)this.update2();else if(t instanceof s){var e=t;if(null!=e.getChild())for(var i=e.getChild().getNodes(),n=0;n<i.length;n++)update(i[n]);null!=e.vGraphObject&&e.vGraphObject.update(e)}else if(t instanceof a){var r=t;null!=r.vGraphObject&&r.vGraphObject.update(r)}else if(t instanceof h){var o=t;null!=o.vGraphObject&&o.vGraphObject.update(o)}},g.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=r.QUALITY,this.animationDuringLayout=r.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=r.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=r.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=r.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=r.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=r.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},g.prototype.transform=function(t){if(null==t)this.transform(new l(0,0));else{var e=new d,i=this.graphManager.getRoot().updateLeftTop();if(null!=i){e.setWorldOrgX(t.x),e.setWorldOrgY(t.y),e.setDeviceOrgX(i.x),e.setDeviceOrgY(i.y);for(var n=this.getAllNodes(),r=0;r<n.length;r++)n[r].transform(e)}}},g.prototype.positionNodesRandomly=function(t){if(null==t)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var e,i,n=t.getNodes(),r=0;r<n.length;r++)null==(i=(e=n[r]).getChild())||0==i.getNodes().length?e.scatter():(this.positionNodesRandomly(i),e.updateBounds())},g.prototype.getFlatForest=function(){for(var t=[],e=!0,i=this.graphManager.getRoot().getNodes(),r=!0,o=0;o<i.length;o++)null!=i[o].getChild()&&(r=!1);if(!r)return t;var s=new Set,a=[],h=new Map,l=[];for(l=l.concat(i);l.length>0&&e;){for(a.push(l[0]);a.length>0&&e;){var d=a[0];a.splice(0,1),s.add(d);var c=d.getEdges();for(o=0;o<c.length;o++){var g=c[o].getOtherEnd(d);if(h.get(d)!=g){if(s.has(g)){e=!1;break}a.push(g),h.set(g,d)}}}if(e){var u=[].concat(n(s));for(t.push(u),o=0;o<u.length;o++){var f=u[o],p=l.indexOf(f);p>-1&&l.splice(p,1)}s=new Set,h=new Map}else t=[]}return t},g.prototype.createDummyNodesForBendpoints=function(t){for(var e=[],i=t.source,n=this.graphManager.calcLowestCommonAncestor(t.source,t.target),r=0;r<t.bendpoints.length;r++){var o=this.newNode(null);o.setRect(new Point(0,0),new Dimension(1,1)),n.add(o);var s=this.newEdge(null);this.graphManager.add(s,i,o),e.add(o),i=o}return s=this.newEdge(null),this.graphManager.add(s,i,t.target),this.edgeToDummyNodes.set(t,e),t.isInterGraph()?this.graphManager.remove(t):n.remove(t),e},g.prototype.createBendpointsFromDummyNodes=function(){var t=[];t=t.concat(this.graphManager.getAllEdges()),t=[].concat(n(this.edgeToDummyNodes.keys())).concat(t);for(var e=0;e<t.length;e++){var i=t[e];if(i.bendpoints.length>0){for(var r=this.edgeToDummyNodes.get(i),o=0;o<r.length;o++){var s=r[o],a=new l(s.getCenterX(),s.getCenterY()),h=i.bendpoints.get(o);h.x=a.x,h.y=a.y,s.getOwner().remove(s)}this.graphManager.add(i,i.source,i.target)}}},g.transform=function(t,e,i,n){if(null!=i&&null!=n){var r=e;return t<=50?r-=(e-e/i)/50*(50-t):r+=(e*n-e)/50*(t-50),r}var o,s;return t<=50?(o=9*e/500,s=e/10):(o=9*e/50,s=-8*e),o*t+s},g.findCenterOfTree=function(t){var e=[];e=e.concat(t);var i=[],n=new Map,r=!1,o=null;1!=e.length&&2!=e.length||(r=!0,o=e[0]);for(var s=0;s<e.length;s++){var a=(d=e[s]).getNeighborsList().size;n.set(d,d.getNeighborsList().size),1==a&&i.push(d)}var h=[];for(h=h.concat(i);!r;){var l=[];for(l=l.concat(h),h=[],s=0;s<e.length;s++){var d=e[s],c=e.indexOf(d);c>=0&&e.splice(c,1),d.getNeighborsList().forEach(function(t){if(i.indexOf(t)<0){var e=n.get(t)-1;1==e&&h.push(t),n.set(t,e)}})}i=i.concat(h),1!=e.length&&2!=e.length||(r=!0,o=e[0])}return o},g.prototype.setGraphManager=function(t){this.graphManager=t},t.exports=g},function(t,e,i){function n(){}n.seed=1,n.x=0,n.nextDouble=function(){return n.x=1e4*Math.sin(n.seed++),n.x-Math.floor(n.x)},t.exports=n},function(t,e,i){var n=i(5);function r(t,e){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}r.prototype.getWorldOrgX=function(){return this.lworldOrgX},r.prototype.setWorldOrgX=function(t){this.lworldOrgX=t},r.prototype.getWorldOrgY=function(){return this.lworldOrgY},r.prototype.setWorldOrgY=function(t){this.lworldOrgY=t},r.prototype.getWorldExtX=function(){return this.lworldExtX},r.prototype.setWorldExtX=function(t){this.lworldExtX=t},r.prototype.getWorldExtY=function(){return this.lworldExtY},r.prototype.setWorldExtY=function(t){this.lworldExtY=t},r.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},r.prototype.setDeviceOrgX=function(t){this.ldeviceOrgX=t},r.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},r.prototype.setDeviceOrgY=function(t){this.ldeviceOrgY=t},r.prototype.getDeviceExtX=function(){return this.ldeviceExtX},r.prototype.setDeviceExtX=function(t){this.ldeviceExtX=t},r.prototype.getDeviceExtY=function(){return this.ldeviceExtY},r.prototype.setDeviceExtY=function(t){this.ldeviceExtY=t},r.prototype.transformX=function(t){var e=0,i=this.lworldExtX;return 0!=i&&(e=this.ldeviceOrgX+(t-this.lworldOrgX)*this.ldeviceExtX/i),e},r.prototype.transformY=function(t){var e=0,i=this.lworldExtY;return 0!=i&&(e=this.ldeviceOrgY+(t-this.lworldOrgY)*this.ldeviceExtY/i),e},r.prototype.inverseTransformX=function(t){var e=0,i=this.ldeviceExtX;return 0!=i&&(e=this.lworldOrgX+(t-this.ldeviceOrgX)*this.lworldExtX/i),e},r.prototype.inverseTransformY=function(t){var e=0,i=this.ldeviceExtY;return 0!=i&&(e=this.lworldOrgY+(t-this.ldeviceOrgY)*this.lworldExtY/i),e},r.prototype.inverseTransformPoint=function(t){return new n(this.inverseTransformX(t.x),this.inverseTransformY(t.y))},t.exports=r},function(t,e,i){var n=i(15),r=i(4),o=i(0),s=i(8),a=i(9);function h(){n.call(this),this.useSmartIdealEdgeLengthCalculation=r.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=r.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=r.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=r.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=r.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*r.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=r.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=r.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=r.MAX_ITERATIONS}for(var l in h.prototype=Object.create(n.prototype),n)h[l]=n[l];h.prototype.initParameters=function(){n.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=r.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},h.prototype.calcIdealEdgeLengths=function(){for(var t,e,i,n,s,a,h,l=this.getGraphManager().getAllEdges(),d=0;d<l.length;d++)e=(t=l[d]).idealLength,t.isInterGraph&&(n=t.getSource(),s=t.getTarget(),a=t.getSourceInLca().getEstimatedSize(),h=t.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(t.idealLength+=a+h-2*o.SIMPLE_NODE_SIZE),i=t.getLca().getInclusionTreeDepth(),t.idealLength+=e*r.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(n.getInclusionTreeDepth()+s.getInclusionTreeDepth()-2*i))},h.prototype.initSpringEmbedder=function(){var t=this.getAllNodes().length;this.incremental?(t>r.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*r.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(t-r.ADAPTATION_LOWER_NODE_LIMIT)/(r.ADAPTATION_UPPER_NODE_LIMIT-r.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-r.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=r.MAX_NODE_DISPLACEMENT_INCREMENTAL):(t>r.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(r.COOLING_ADAPTATION_FACTOR,1-(t-r.ADAPTATION_LOWER_NODE_LIMIT)/(r.ADAPTATION_UPPER_NODE_LIMIT-r.ADAPTATION_LOWER_NODE_LIMIT)*(1-r.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=r.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.displacementThresholdPerNode=3*r.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},h.prototype.calcSpringForces=function(){for(var t,e=this.getAllEdges(),i=0;i<e.length;i++)t=e[i],this.calcSpringForce(t,t.idealLength)},h.prototype.calcRepulsionForces=function(){var t,e,i,n,o,s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],h=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%r.GRID_CALCULATION_CHECK_PERIOD==1&&s&&this.updateGrid(),o=new Set,t=0;t<h.length;t++)i=h[t],this.calculateRepulsionForceOfANode(i,o,s,a),o.add(i);else for(t=0;t<h.length;t++)for(i=h[t],e=t+1;e<h.length;e++)n=h[e],i.getOwner()==n.getOwner()&&this.calcRepulsionForce(i,n)},h.prototype.calcGravitationalForces=function(){for(var t,e=this.getAllNodesToApplyGravitation(),i=0;i<e.length;i++)t=e[i],this.calcGravitationalForce(t)},h.prototype.moveNodes=function(){for(var t=this.getAllNodes(),e=0;e<t.length;e++)t[e].move()},h.prototype.calcSpringForce=function(t,e){var i,n,r,o,s=t.getSource(),a=t.getTarget();if(this.uniformLeafNodeSizes&&null==s.getChild()&&null==a.getChild())t.updateLengthSimple();else if(t.updateLength(),t.isOverlapingSourceAndTarget)return;0!=(i=t.getLength())&&(r=(n=t.edgeElasticity*(i-e))*(t.lengthX/i),o=n*(t.lengthY/i),s.springForceX+=r,s.springForceY+=o,a.springForceX-=r,a.springForceY-=o)},h.prototype.calcRepulsionForce=function(t,e){var i,n,o,h,l,d,c,g=t.getRect(),u=e.getRect(),f=new Array(2),p=new Array(4);if(g.intersects(u)){s.calcSeparationAmount(g,u,f,r.DEFAULT_EDGE_LENGTH/2),d=2*f[0],c=2*f[1];var y=t.noOfChildren*e.noOfChildren/(t.noOfChildren+e.noOfChildren);t.repulsionForceX-=y*d,t.repulsionForceY-=y*c,e.repulsionForceX+=y*d,e.repulsionForceY+=y*c}else this.uniformLeafNodeSizes&&null==t.getChild()&&null==e.getChild()?(i=u.getCenterX()-g.getCenterX(),n=u.getCenterY()-g.getCenterY()):(s.getIntersection(g,u,p),i=p[2]-p[0],n=p[3]-p[1]),Math.abs(i)<r.MIN_REPULSION_DIST&&(i=a.sign(i)*r.MIN_REPULSION_DIST),Math.abs(n)<r.MIN_REPULSION_DIST&&(n=a.sign(n)*r.MIN_REPULSION_DIST),o=i*i+n*n,h=Math.sqrt(o),d=(l=(t.nodeRepulsion/2+e.nodeRepulsion/2)*t.noOfChildren*e.noOfChildren/o)*i/h,c=l*n/h,t.repulsionForceX-=d,t.repulsionForceY-=c,e.repulsionForceX+=d,e.repulsionForceY+=c},h.prototype.calcGravitationalForce=function(t){var e,i,n,r,o,s,a,h;i=((e=t.getOwner()).getRight()+e.getLeft())/2,n=(e.getTop()+e.getBottom())/2,r=t.getCenterX()-i,o=t.getCenterY()-n,s=Math.abs(r)+t.getWidth()/2,a=Math.abs(o)+t.getHeight()/2,t.getOwner()==this.graphManager.getRoot()?(s>(h=e.getEstimatedSize()*this.gravityRangeFactor)||a>h)&&(t.gravitationForceX=-this.gravityConstant*r,t.gravitationForceY=-this.gravityConstant*o):(s>(h=e.getEstimatedSize()*this.compoundGravityRangeFactor)||a>h)&&(t.gravitationForceX=-this.gravityConstant*r*this.compoundGravityConstant,t.gravitationForceY=-this.gravityConstant*o*this.compoundGravityConstant)},h.prototype.isConverged=function(){var t,e=!1;return this.totalIterations>this.maxIterations/3&&(e=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),t=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,t||e},h.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},h.prototype.calcNoOfChildrenForAllNodes=function(){for(var t,e=this.graphManager.getAllNodes(),i=0;i<e.length;i++)(t=e[i]).noOfChildren=t.getNoOfChildren()},h.prototype.calcGrid=function(t){var e,i;e=parseInt(Math.ceil((t.getRight()-t.getLeft())/this.repulsionRange)),i=parseInt(Math.ceil((t.getBottom()-t.getTop())/this.repulsionRange));for(var n=new Array(e),r=0;r<e;r++)n[r]=new Array(i);for(r=0;r<e;r++)for(var o=0;o<i;o++)n[r][o]=new Array;return n},h.prototype.addNodeToGrid=function(t,e,i){var n,r,o,s;n=parseInt(Math.floor((t.getRect().x-e)/this.repulsionRange)),r=parseInt(Math.floor((t.getRect().width+t.getRect().x-e)/this.repulsionRange)),o=parseInt(Math.floor((t.getRect().y-i)/this.repulsionRange)),s=parseInt(Math.floor((t.getRect().height+t.getRect().y-i)/this.repulsionRange));for(var a=n;a<=r;a++)for(var h=o;h<=s;h++)this.grid[a][h].push(t),t.setGridCoordinates(n,r,o,s)},h.prototype.updateGrid=function(){var t,e,i=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),t=0;t<i.length;t++)e=i[t],this.addNodeToGrid(e,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},h.prototype.calculateRepulsionForceOfANode=function(t,e,i,n){if(this.totalIterations%r.GRID_CALCULATION_CHECK_PERIOD==1&&i||n){var o,s=new Set;t.surrounding=new Array;for(var a=this.grid,h=t.startX-1;h<t.finishX+2;h++)for(var l=t.startY-1;l<t.finishY+2;l++)if(!(h<0||l<0||h>=a.length||l>=a[0].length))for(var d=0;d<a[h][l].length;d++)if(o=a[h][l][d],t.getOwner()==o.getOwner()&&t!=o&&!e.has(o)&&!s.has(o)){var c=Math.abs(t.getCenterX()-o.getCenterX())-(t.getWidth()/2+o.getWidth()/2),g=Math.abs(t.getCenterY()-o.getCenterY())-(t.getHeight()/2+o.getHeight()/2);c<=this.repulsionRange&&g<=this.repulsionRange&&s.add(o)}t.surrounding=[].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(s))}for(h=0;h<t.surrounding.length;h++)this.calcRepulsionForce(t,t.surrounding[h])},h.prototype.calcRepulsionRange=function(){return 0},t.exports=h},function(t,e,i){var n=i(1),r=i(4);function o(t,e,i){n.call(this,t,e,i),this.idealLength=r.DEFAULT_EDGE_LENGTH,this.edgeElasticity=r.DEFAULT_SPRING_STRENGTH}for(var s in o.prototype=Object.create(n.prototype),n)o[s]=n[s];t.exports=o},function(t,e,i){var n=i(3),r=i(4);function o(t,e,i,o){n.call(this,t,e,i,o),this.nodeRepulsion=r.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var s in o.prototype=Object.create(n.prototype),n)o[s]=n[s];o.prototype.setGridCoordinates=function(t,e,i,n){this.startX=t,this.finishX=e,this.startY=i,this.finishY=n},t.exports=o},function(t,e,i){function n(t,e){this.width=0,this.height=0,null!==t&&null!==e&&(this.height=e,this.width=t)}n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(t){this.width=t},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(t){this.height=t},t.exports=n},function(t,e,i){var n=i(14);function r(){this.map={},this.keys=[]}r.prototype.put=function(t,e){var i=n.createID(t);this.contains(i)||(this.map[i]=e,this.keys.push(t))},r.prototype.contains=function(t){return n.createID(t),null!=this.map[t]},r.prototype.get=function(t){var e=n.createID(t);return this.map[e]},r.prototype.keySet=function(){return this.keys},t.exports=r},function(t,e,i){var n=i(14);function r(){this.set={}}r.prototype.add=function(t){var e=n.createID(t);this.contains(e)||(this.set[e]=t)},r.prototype.remove=function(t){delete this.set[n.createID(t)]},r.prototype.clear=function(){this.set={}},r.prototype.contains=function(t){return this.set[n.createID(t)]==t},r.prototype.isEmpty=function(){return 0===this.size()},r.prototype.size=function(){return Object.keys(this.set).length},r.prototype.addAllTo=function(t){for(var e=Object.keys(this.set),i=e.length,n=0;n<i;n++)t.push(this.set[e[n]])},r.prototype.size=function(){return Object.keys(this.set).length},r.prototype.addAll=function(t){for(var e=t.length,i=0;i<e;i++){var n=t[i];this.add(n)}},t.exports=r},function(t,e,i){function n(){}n.multMat=function(t,e){for(var i=[],n=0;n<t.length;n++){i[n]=[];for(var r=0;r<e[0].length;r++){i[n][r]=0;for(var o=0;o<t[0].length;o++)i[n][r]+=t[n][o]*e[o][r]}}return i},n.transpose=function(t){for(var e=[],i=0;i<t[0].length;i++){e[i]=[];for(var n=0;n<t.length;n++)e[i][n]=t[n][i]}return e},n.multCons=function(t,e){for(var i=[],n=0;n<t.length;n++)i[n]=t[n]*e;return i},n.minusOp=function(t,e){for(var i=[],n=0;n<t.length;n++)i[n]=t[n]-e[n];return i},n.dotProduct=function(t,e){for(var i=0,n=0;n<t.length;n++)i+=t[n]*e[n];return i},n.mag=function(t){return Math.sqrt(this.dotProduct(t,t))},n.normalize=function(t){for(var e=[],i=this.mag(t),n=0;n<t.length;n++)e[n]=t[n]/i;return e},n.multGamma=function(t){for(var e=[],i=0,n=0;n<t.length;n++)i+=t[n];i*=-1/t.length;for(var r=0;r<t.length;r++)e[r]=i+t[r];return e},n.multL=function(t,e,i){for(var n=[],r=[],o=[],s=0;s<e[0].length;s++){for(var a=0,h=0;h<e.length;h++)a+=-.5*e[h][s]*t[h];r[s]=a}for(var l=0;l<i.length;l++){for(var d=0,c=0;c<i.length;c++)d+=i[l][c]*r[c];o[l]=d}for(var g=0;g<e.length;g++){for(var u=0,f=0;f<e[0].length;f++)u+=e[g][f]*o[f];n[g]=u}return n},t.exports=n},function(t,e,i){var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(11),o=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null===i&&void 0===i||(this.compareFunction=this._defaultCompareFunction);var n=void 0;n=e instanceof r?e.size():e.length,this._quicksort(e,0,n-1)}return n(t,[{key:"_quicksort",value:function(t,e,i){if(e<i){var n=this._partition(t,e,i);this._quicksort(t,e,n),this._quicksort(t,n+1,i)}}},{key:"_partition",value:function(t,e,i){for(var n=this._get(t,e),r=e,o=i;;){for(;this.compareFunction(n,this._get(t,o));)o--;for(;this.compareFunction(this._get(t,r),n);)r++;if(!(r<o))return o;this._swap(t,r,o),r++,o--}}},{key:"_get",value:function(t,e){return t instanceof r?t.get_object_at(e):t[e]}},{key:"_set",value:function(t,e,i){t instanceof r?t.set_object_at(e,i):t[e]=i}},{key:"_swap",value:function(t,e,i){var n=this._get(t,e);this._set(t,e,this._get(t,i)),this._set(t,i,n)}},{key:"_defaultCompareFunction",value:function(t,e){return e>t}}]),t}();t.exports=o},function(t,e,i){function n(){}n.svd=function(t){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=t.length,this.n=t[0].length;var e=Math.min(this.m,this.n);this.s=function(t){for(var e=[];t-- >0;)e.push(0);return e}(Math.min(this.m+1,this.n)),this.U=function t(e){if(0==e.length)return 0;for(var i=[],n=0;n<e[0];n++)i.push(t(e.slice(1)));return i}([this.m,e]),this.V=function(t){return function t(e){if(0==e.length)return 0;for(var i=[],n=0;n<e[0];n++)i.push(t(e.slice(1)));return i}(t)}([this.n,this.n]);for(var i=function(t){for(var e=[];t-- >0;)e.push(0);return e}(this.n),r=function(t){for(var e=[];t-- >0;)e.push(0);return e}(this.m),o=Math.min(this.m-1,this.n),s=Math.max(0,Math.min(this.n-2,this.m)),a=0;a<Math.max(o,s);a++){if(a<o){this.s[a]=0;for(var h=a;h<this.m;h++)this.s[a]=n.hypot(this.s[a],t[h][a]);if(0!==this.s[a]){t[a][a]<0&&(this.s[a]=-this.s[a]);for(var l=a;l<this.m;l++)t[l][a]/=this.s[a];t[a][a]+=1}this.s[a]=-this.s[a]}for(var d=a+1;d<this.n;d++){if(function(t,e){return t&&e}(a<o,0!==this.s[a])){for(var c=0,g=a;g<this.m;g++)c+=t[g][a]*t[g][d];c=-c/t[a][a];for(var u=a;u<this.m;u++)t[u][d]+=c*t[u][a]}i[d]=t[a][d]}if(function(t,e){return e}(0,a<o))for(var f=a;f<this.m;f++)this.U[f][a]=t[f][a];if(a<s){i[a]=0;for(var p=a+1;p<this.n;p++)i[a]=n.hypot(i[a],i[p]);if(0!==i[a]){i[a+1]<0&&(i[a]=-i[a]);for(var y=a+1;y<this.n;y++)i[y]/=i[a];i[a+1]+=1}if(i[a]=-i[a],function(t,e){return t&&e}(a+1<this.m,0!==i[a])){for(var m=a+1;m<this.m;m++)r[m]=0;for(var v=a+1;v<this.n;v++)for(var E=a+1;E<this.m;E++)r[E]+=i[v]*t[E][v];for(var N=a+1;N<this.n;N++)for(var T=-i[N]/i[a+1],A=a+1;A<this.m;A++)t[A][N]+=T*r[A]}for(var w=a+1;w<this.n;w++)this.V[w][a]=i[w]}}var L=Math.min(this.n,this.m+1);o<this.n&&(this.s[o]=t[o][o]),this.m<L&&(this.s[L-1]=0),s+1<L&&(i[s]=t[s][L-1]),i[L-1]=0;for(var C=o;C<e;C++){for(var I=0;I<this.m;I++)this.U[I][C]=0;this.U[C][C]=1}for(var _=o-1;_>=0;_--)if(0!==this.s[_]){for(var M=_+1;M<e;M++){for(var x=0,O=_;O<this.m;O++)x+=this.U[O][_]*this.U[O][M];x=-x/this.U[_][_];for(var D=_;D<this.m;D++)this.U[D][M]+=x*this.U[D][_]}for(var R=_;R<this.m;R++)this.U[R][_]=-this.U[R][_];this.U[_][_]=1+this.U[_][_];for(var b=0;b<_-1;b++)this.U[b][_]=0}else{for(var F=0;F<this.m;F++)this.U[F][_]=0;this.U[_][_]=1}for(var G=this.n-1;G>=0;G--){if(function(t,e){return t&&e}(G<s,0!==i[G]))for(var S=G+1;S<e;S++){for(var P=0,U=G+1;U<this.n;U++)P+=this.V[U][G]*this.V[U][S];P=-P/this.V[G+1][G];for(var Y=G+1;Y<this.n;Y++)this.V[Y][S]+=P*this.V[Y][G]}for(var k=0;k<this.n;k++)this.V[k][G]=0;this.V[G][G]=1}for(var H=L-1,X=Math.pow(2,-52),z=Math.pow(2,-966);L>0;){var B=void 0,V=void 0;for(B=L-2;B>=-1&&-1!==B;B--)if(Math.abs(i[B])<=z+X*(Math.abs(this.s[B])+Math.abs(this.s[B+1]))){i[B]=0;break}if(B===L-2)V=4;else{var W=void 0;for(W=L-1;W>=B&&W!==B;W--){var j=(W!==L?Math.abs(i[W]):0)+(W!==B+1?Math.abs(i[W-1]):0);if(Math.abs(this.s[W])<=z+X*j){this.s[W]=0;break}}W===B?V=3:W===L-1?V=1:(V=2,B=W)}switch(B++,V){case 1:var q=i[L-2];i[L-2]=0;for(var $=L-2;$>=B;$--){var Z=n.hypot(this.s[$],q),Q=this.s[$]/Z,J=q/Z;this.s[$]=Z,$!==B&&(q=-J*i[$-1],i[$-1]=Q*i[$-1]);for(var K=0;K<this.n;K++)Z=Q*this.V[K][$]+J*this.V[K][L-1],this.V[K][L-1]=-J*this.V[K][$]+Q*this.V[K][L-1],this.V[K][$]=Z}break;case 2:var tt=i[B-1];i[B-1]=0;for(var et=B;et<L;et++){var it=n.hypot(this.s[et],tt),nt=this.s[et]/it,rt=tt/it;this.s[et]=it,tt=-rt*i[et],i[et]=nt*i[et];for(var ot=0;ot<this.m;ot++)it=nt*this.U[ot][et]+rt*this.U[ot][B-1],this.U[ot][B-1]=-rt*this.U[ot][et]+nt*this.U[ot][B-1],this.U[ot][et]=it}break;case 3:var st=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[L-1]),Math.abs(this.s[L-2])),Math.abs(i[L-2])),Math.abs(this.s[B])),Math.abs(i[B])),at=this.s[L-1]/st,ht=this.s[L-2]/st,lt=i[L-2]/st,dt=this.s[B]/st,ct=i[B]/st,gt=((ht+at)*(ht-at)+lt*lt)/2,ut=at*lt*(at*lt),ft=0;(function(t,e){return t||e})(0!==gt,0!==ut)&&(ft=Math.sqrt(gt*gt+ut),gt<0&&(ft=-ft),ft=ut/(gt+ft));for(var pt=(dt+at)*(dt-at)+ft,yt=dt*ct,mt=B;mt<L-1;mt++){var vt=n.hypot(pt,yt),Et=pt/vt,Nt=yt/vt;mt!==B&&(i[mt-1]=vt),pt=Et*this.s[mt]+Nt*i[mt],i[mt]=Et*i[mt]-Nt*this.s[mt],yt=Nt*this.s[mt+1],this.s[mt+1]=Et*this.s[mt+1];for(var Tt=0;Tt<this.n;Tt++)vt=Et*this.V[Tt][mt]+Nt*this.V[Tt][mt+1],this.V[Tt][mt+1]=-Nt*this.V[Tt][mt]+Et*this.V[Tt][mt+1],this.V[Tt][mt]=vt;if(Et=pt/(vt=n.hypot(pt,yt)),Nt=yt/vt,this.s[mt]=vt,pt=Et*i[mt]+Nt*this.s[mt+1],this.s[mt+1]=-Nt*i[mt]+Et*this.s[mt+1],yt=Nt*i[mt+1],i[mt+1]=Et*i[mt+1],mt<this.m-1)for(var At=0;At<this.m;At++)vt=Et*this.U[At][mt]+Nt*this.U[At][mt+1],this.U[At][mt+1]=-Nt*this.U[At][mt]+Et*this.U[At][mt+1],this.U[At][mt]=vt}i[L-2]=pt;break;case 4:if(this.s[B]<=0){this.s[B]=this.s[B]<0?-this.s[B]:0;for(var wt=0;wt<=H;wt++)this.V[wt][B]=-this.V[wt][B]}for(;B<H&&!(this.s[B]>=this.s[B+1]);){var Lt=this.s[B];if(this.s[B]=this.s[B+1],this.s[B+1]=Lt,B<this.n-1)for(var Ct=0;Ct<this.n;Ct++)Lt=this.V[Ct][B+1],this.V[Ct][B+1]=this.V[Ct][B],this.V[Ct][B]=Lt;if(B<this.m-1)for(var It=0;It<this.m;It++)Lt=this.U[It][B+1],this.U[It][B+1]=this.U[It][B],this.U[It][B]=Lt;B++}L--}}return{U:this.U,V:this.V,S:this.s}},n.hypot=function(t,e){var i=void 0;return Math.abs(t)>Math.abs(e)?(i=e/t,i=Math.abs(t)*Math.sqrt(1+i*i)):0!=e?(i=t/e,i=Math.abs(e)*Math.sqrt(1+i*i)):i=0,i},t.exports=n},function(t,e,i){var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sequence1=e,this.sequence2=i,this.match_score=n,this.mismatch_penalty=r,this.gap_penalty=o,this.iMax=e.length+1,this.jMax=i.length+1,this.grid=new Array(this.iMax);for(var s=0;s<this.iMax;s++){this.grid[s]=new Array(this.jMax);for(var a=0;a<this.jMax;a++)this.grid[s][a]=0}this.tracebackGrid=new Array(this.iMax);for(var h=0;h<this.iMax;h++){this.tracebackGrid[h]=new Array(this.jMax);for(var l=0;l<this.jMax;l++)this.tracebackGrid[h][l]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return n(t,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var t=1;t<this.jMax;t++)this.grid[0][t]=this.grid[0][t-1]+this.gap_penalty,this.tracebackGrid[0][t]=[!1,!1,!0];for(var e=1;e<this.iMax;e++)this.grid[e][0]=this.grid[e-1][0]+this.gap_penalty,this.tracebackGrid[e][0]=[!1,!0,!1];for(var i=1;i<this.iMax;i++)for(var n=1;n<this.jMax;n++){var r=[this.sequence1[i-1]===this.sequence2[n-1]?this.grid[i-1][n-1]+this.match_score:this.grid[i-1][n-1]+this.mismatch_penalty,this.grid[i-1][n]+this.gap_penalty,this.grid[i][n-1]+this.gap_penalty],o=this.arrayAllMaxIndexes(r);this.grid[i][n]=r[o[0]],this.tracebackGrid[i][n]=[o.includes(0),o.includes(1),o.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var t=[];for(t.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});t[0];){var e=t[0],i=this.tracebackGrid[e.pos[0]][e.pos[1]];i[0]&&t.push({pos:[e.pos[0]-1,e.pos[1]-1],seq1:this.sequence1[e.pos[0]-1]+e.seq1,seq2:this.sequence2[e.pos[1]-1]+e.seq2}),i[1]&&t.push({pos:[e.pos[0]-1,e.pos[1]],seq1:this.sequence1[e.pos[0]-1]+e.seq1,seq2:"-"+e.seq2}),i[2]&&t.push({pos:[e.pos[0],e.pos[1]-1],seq1:"-"+e.seq1,seq2:this.sequence2[e.pos[1]-1]+e.seq2}),0===e.pos[0]&&0===e.pos[1]&&this.alignments.push({sequence1:e.seq1,sequence2:e.seq2}),t.shift()}return this.alignments}},{key:"getAllIndexes",value:function(t,e){for(var i=[],n=-1;-1!==(n=t.indexOf(e,n+1));)i.push(n);return i}},{key:"arrayAllMaxIndexes",value:function(t){return this.getAllIndexes(t,Math.max.apply(null,t))}}]),t}();t.exports=r},function(t,e,i){var n=function(){};n.FDLayout=i(18),n.FDLayoutConstants=i(4),n.FDLayoutEdge=i(19),n.FDLayoutNode=i(20),n.DimensionD=i(21),n.HashMap=i(22),n.HashSet=i(23),n.IGeometry=i(8),n.IMath=i(9),n.Integer=i(10),n.Point=i(12),n.PointD=i(5),n.RandomSeed=i(16),n.RectangleD=i(13),n.Transform=i(17),n.UniqueIDGeneretor=i(14),n.Quicksort=i(25),n.LinkedList=i(11),n.LGraphObject=i(2),n.LGraph=i(6),n.LEdge=i(1),n.LGraphManager=i(7),n.LNode=i(3),n.Layout=i(15),n.LayoutConstants=i(0),n.NeedlemanWunsch=i(27),n.Matrix=i(24),n.SVD=i(26),t.exports=n},function(t,e,i){function n(){this.listeners=[]}var r=n.prototype;r.addListener=function(t,e){this.listeners.push({event:t,callback:e})},r.removeListener=function(t,e){for(var i=this.listeners.length;i>=0;i--){var n=this.listeners[i];n.event===t&&n.callback===e&&this.listeners.splice(i,1)}},r.emit=function(t,e){for(var i=0;i<this.listeners.length;i++){var n=this.listeners[i];t===n.event&&n.callback(e)}},t.exports=n}])},M.exports=t());var t}var O;function D(){return O?_.exports:(O=1,t=function(t){return e={45:(t,e,i)=>{var n={};n.layoutBase=i(551),n.CoSEConstants=i(806),n.CoSEEdge=i(767),n.CoSEGraph=i(880),n.CoSEGraphManager=i(578),n.CoSELayout=i(765),n.CoSENode=i(991),n.ConstraintHandler=i(902),t.exports=n},806:(t,e,i)=>{var n=i(551).FDLayoutConstants;function r(){}for(var o in n)r[o]=n[o];r.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,r.DEFAULT_RADIAL_SEPARATION=n.DEFAULT_EDGE_LENGTH,r.DEFAULT_COMPONENT_SEPERATION=60,r.TILE=!0,r.TILING_PADDING_VERTICAL=10,r.TILING_PADDING_HORIZONTAL=10,r.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,r.ENFORCE_CONSTRAINTS=!0,r.APPLY_LAYOUT=!0,r.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,r.TREE_REDUCTION_ON_INCREMENTAL=!0,r.PURE_INCREMENTAL=r.DEFAULT_INCREMENTAL,t.exports=r},767:(t,e,i)=>{var n=i(551).FDLayoutEdge;function r(t,e,i){n.call(this,t,e,i)}for(var o in r.prototype=Object.create(n.prototype),n)r[o]=n[o];t.exports=r},880:(t,e,i)=>{var n=i(551).LGraph;function r(t,e,i){n.call(this,t,e,i)}for(var o in r.prototype=Object.create(n.prototype),n)r[o]=n[o];t.exports=r},578:(t,e,i)=>{var n=i(551).LGraphManager;function r(t){n.call(this,t)}for(var o in r.prototype=Object.create(n.prototype),n)r[o]=n[o];t.exports=r},765:(t,e,i)=>{var n=i(551).FDLayout,r=i(578),o=i(880),s=i(991),a=i(767),h=i(806),l=i(902),d=i(551).FDLayoutConstants,c=i(551).LayoutConstants,g=i(551).Point,u=i(551).PointD,f=i(551).DimensionD,p=i(551).Layout,y=i(551).Integer,m=i(551).IGeometry,v=i(551).LGraph,E=i(551).Transform,N=i(551).LinkedList;function T(){n.call(this),this.toBeTiled={},this.constraints={}}for(var A in T.prototype=Object.create(n.prototype),n)T[A]=n[A];T.prototype.newGraphManager=function(){var t=new r(this);return this.graphManager=t,t},T.prototype.newGraph=function(t){return new o(null,this.graphManager,t)},T.prototype.newNode=function(t){return new s(this.graphManager,t)},T.prototype.newEdge=function(t){return new a(null,null,t)},T.prototype.initParameters=function(){n.prototype.initParameters.call(this,arguments),this.isSubLayout||(h.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=h.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=h.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=d.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=d.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=d.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=d.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},T.prototype.initSpringEmbedder=function(){n.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/d.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},T.prototype.layout=function(){return c.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},T.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental)h.TREE_REDUCTION_ON_INCREMENTAL&&(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),e=new Set(this.getAllNodes()),i=this.nodesWithGravity.filter(function(t){return e.has(t)}),this.graphManager.setAllNodesToApplyGravitation(i));else{var t=this.getFlatForest();if(t.length>0)this.positionNodesRadially(t);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var e=new Set(this.getAllNodes()),i=this.nodesWithGravity.filter(function(t){return e.has(t)});this.graphManager.setAllNodesToApplyGravitation(i),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(l.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),h.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},T.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%d.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var t=new Set(this.getAllNodes()),e=this.nodesWithGravity.filter(function(e){return t.has(e)});this.graphManager.setAllNodesToApplyGravitation(e),this.graphManager.updateBounds(),this.updateGrid(),h.PURE_INCREMENTAL?this.coolingFactor=d.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=d.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),h.PURE_INCREMENTAL?this.coolingFactor=d.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=d.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var i=!this.isTreeGrowing&&!this.isGrowthFinished,n=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(i,n),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},T.prototype.getPositionsData=function(){for(var t=this.graphManager.getAllNodes(),e={},i=0;i<t.length;i++){var n=t[i].rect,r=t[i].id;e[r]={id:r,x:n.getCenterX(),y:n.getCenterY(),w:n.width,h:n.height}}return e},T.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var t=!1;if("during"===d.ANIMATE)this.emit("layoutstarted");else{for(;!t;)t=this.tick();this.graphManager.updateBounds()}},T.prototype.moveNodes=function(){for(var t=this.getAllNodes(),e=0;e<t.length;e++)t[e].calculateDisplacement();for(Object.keys(this.constraints).length>0&&this.updateDisplacements(),e=0;e<t.length;e++)t[e].move()},T.prototype.initConstraintVariables=function(){var t=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var e=this.graphManager.getAllNodes(),i=0;i<e.length;i++){var n=e[i];this.idToNodeMap.set(n.id,n)}var r=function e(i){for(var n,r=i.getChild().getNodes(),o=0,s=0;s<r.length;s++)null==(n=r[s]).getChild()?t.fixedNodeSet.has(n.id)&&(o+=100):o+=e(n);return o};if(this.constraints.fixedNodeConstraint)for(this.constraints.fixedNodeConstraint.forEach(function(e){t.fixedNodeSet.add(e.nodeId)}),e=this.graphManager.getAllNodes(),i=0;i<e.length;i++)if(null!=(n=e[i]).getChild()){var o=r(n);o>0&&(n.fixedNodeWeight=o)}if(this.constraints.relativePlacementConstraint){var s=new Map,a=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(e){t.fixedNodesOnHorizontal.add(e),t.fixedNodesOnVertical.add(e)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical){var l=this.constraints.alignmentConstraint.vertical;for(i=0;i<l.length;i++)this.dummyToNodeForVerticalAlignment.set("dummy"+i,[]),l[i].forEach(function(e){s.set(e,"dummy"+i),t.dummyToNodeForVerticalAlignment.get("dummy"+i).push(e),t.fixedNodeSet.has(e)&&t.fixedNodesOnHorizontal.add("dummy"+i)})}if(this.constraints.alignmentConstraint.horizontal){var d=this.constraints.alignmentConstraint.horizontal;for(i=0;i<d.length;i++)this.dummyToNodeForHorizontalAlignment.set("dummy"+i,[]),d[i].forEach(function(e){a.set(e,"dummy"+i),t.dummyToNodeForHorizontalAlignment.get("dummy"+i).push(e),t.fixedNodeSet.has(e)&&t.fixedNodesOnVertical.add("dummy"+i)})}}if(h.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(t){var e,i,n;for(n=t.length-1;n>=2*t.length/3;n--)e=Math.floor(Math.random()*(n+1)),i=t[n],t[n]=t[e],t[e]=i;return t},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(e){if(e.left){var i=s.has(e.left)?s.get(e.left):e.left,n=s.has(e.right)?s.get(e.right):e.right;t.nodesInRelativeHorizontal.includes(i)||(t.nodesInRelativeHorizontal.push(i),t.nodeToRelativeConstraintMapHorizontal.set(i,[]),t.dummyToNodeForVerticalAlignment.has(i)?t.nodeToTempPositionMapHorizontal.set(i,t.idToNodeMap.get(t.dummyToNodeForVerticalAlignment.get(i)[0]).getCenterX()):t.nodeToTempPositionMapHorizontal.set(i,t.idToNodeMap.get(i).getCenterX())),t.nodesInRelativeHorizontal.includes(n)||(t.nodesInRelativeHorizontal.push(n),t.nodeToRelativeConstraintMapHorizontal.set(n,[]),t.dummyToNodeForVerticalAlignment.has(n)?t.nodeToTempPositionMapHorizontal.set(n,t.idToNodeMap.get(t.dummyToNodeForVerticalAlignment.get(n)[0]).getCenterX()):t.nodeToTempPositionMapHorizontal.set(n,t.idToNodeMap.get(n).getCenterX())),t.nodeToRelativeConstraintMapHorizontal.get(i).push({right:n,gap:e.gap}),t.nodeToRelativeConstraintMapHorizontal.get(n).push({left:i,gap:e.gap})}else{var r=a.has(e.top)?a.get(e.top):e.top,o=a.has(e.bottom)?a.get(e.bottom):e.bottom;t.nodesInRelativeVertical.includes(r)||(t.nodesInRelativeVertical.push(r),t.nodeToRelativeConstraintMapVertical.set(r,[]),t.dummyToNodeForHorizontalAlignment.has(r)?t.nodeToTempPositionMapVertical.set(r,t.idToNodeMap.get(t.dummyToNodeForHorizontalAlignment.get(r)[0]).getCenterY()):t.nodeToTempPositionMapVertical.set(r,t.idToNodeMap.get(r).getCenterY())),t.nodesInRelativeVertical.includes(o)||(t.nodesInRelativeVertical.push(o),t.nodeToRelativeConstraintMapVertical.set(o,[]),t.dummyToNodeForHorizontalAlignment.has(o)?t.nodeToTempPositionMapVertical.set(o,t.idToNodeMap.get(t.dummyToNodeForHorizontalAlignment.get(o)[0]).getCenterY()):t.nodeToTempPositionMapVertical.set(o,t.idToNodeMap.get(o).getCenterY())),t.nodeToRelativeConstraintMapVertical.get(r).push({bottom:o,gap:e.gap}),t.nodeToRelativeConstraintMapVertical.get(o).push({top:r,gap:e.gap})}});else{var c=new Map,g=new Map;this.constraints.relativePlacementConstraint.forEach(function(t){if(t.left){var e=s.has(t.left)?s.get(t.left):t.left,i=s.has(t.right)?s.get(t.right):t.right;c.has(e)?c.get(e).push(i):c.set(e,[i]),c.has(i)?c.get(i).push(e):c.set(i,[e])}else{var n=a.has(t.top)?a.get(t.top):t.top,r=a.has(t.bottom)?a.get(t.bottom):t.bottom;g.has(n)?g.get(n).push(r):g.set(n,[r]),g.has(r)?g.get(r).push(n):g.set(r,[n])}});var u=function(t,e){var i=[],n=[],r=new N,o=new Set,s=0;return t.forEach(function(a,h){if(!o.has(h)){i[s]=[],n[s]=!1;var l=h;for(r.push(l),o.add(l),i[s].push(l);0!=r.length;)l=r.shift(),e.has(l)&&(n[s]=!0),t.get(l).forEach(function(t){o.has(t)||(r.push(t),o.add(t),i[s].push(t))});s++}}),{components:i,isFixed:n}},f=u(c,t.fixedNodesOnHorizontal);this.componentsOnHorizontal=f.components,this.fixedComponentsOnHorizontal=f.isFixed;var p=u(g,t.fixedNodesOnVertical);this.componentsOnVertical=p.components,this.fixedComponentsOnVertical=p.isFixed}}},T.prototype.updateDisplacements=function(){var t=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(e){var i=t.idToNodeMap.get(e.nodeId);i.displacementX=0,i.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var e=this.constraints.alignmentConstraint.vertical,i=0;i<e.length;i++){for(var n=0,r=0;r<e[i].length;r++){if(this.fixedNodeSet.has(e[i][r])){n=0;break}n+=this.idToNodeMap.get(e[i][r]).displacementX}var o=n/e[i].length;for(r=0;r<e[i].length;r++)this.idToNodeMap.get(e[i][r]).displacementX=o}if(this.constraints.alignmentConstraint.horizontal){var s=this.constraints.alignmentConstraint.horizontal;for(i=0;i<s.length;i++){var a=0;for(r=0;r<s[i].length;r++){if(this.fixedNodeSet.has(s[i][r])){a=0;break}a+=this.idToNodeMap.get(s[i][r]).displacementY}var l=a/s[i].length;for(r=0;r<s[i].length;r++)this.idToNodeMap.get(s[i][r]).displacementY=l}}}if(this.constraints.relativePlacementConstraint)if(h.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(e){if(!t.fixedNodesOnHorizontal.has(e)){var i=0;i=t.dummyToNodeForVerticalAlignment.has(e)?t.idToNodeMap.get(t.dummyToNodeForVerticalAlignment.get(e)[0]).displacementX:t.idToNodeMap.get(e).displacementX,t.nodeToRelativeConstraintMapHorizontal.get(e).forEach(function(n){var r;n.right?(r=t.nodeToTempPositionMapHorizontal.get(n.right)-t.nodeToTempPositionMapHorizontal.get(e)-i)<n.gap&&(i-=n.gap-r):(r=t.nodeToTempPositionMapHorizontal.get(e)-t.nodeToTempPositionMapHorizontal.get(n.left)+i)<n.gap&&(i+=n.gap-r)}),t.nodeToTempPositionMapHorizontal.set(e,t.nodeToTempPositionMapHorizontal.get(e)+i),t.dummyToNodeForVerticalAlignment.has(e)?t.dummyToNodeForVerticalAlignment.get(e).forEach(function(e){t.idToNodeMap.get(e).displacementX=i}):t.idToNodeMap.get(e).displacementX=i}}),this.nodesInRelativeVertical.forEach(function(e){if(!t.fixedNodesOnHorizontal.has(e)){var i=0;i=t.dummyToNodeForHorizontalAlignment.has(e)?t.idToNodeMap.get(t.dummyToNodeForHorizontalAlignment.get(e)[0]).displacementY:t.idToNodeMap.get(e).displacementY,t.nodeToRelativeConstraintMapVertical.get(e).forEach(function(n){var r;n.bottom?(r=t.nodeToTempPositionMapVertical.get(n.bottom)-t.nodeToTempPositionMapVertical.get(e)-i)<n.gap&&(i-=n.gap-r):(r=t.nodeToTempPositionMapVertical.get(e)-t.nodeToTempPositionMapVertical.get(n.top)+i)<n.gap&&(i+=n.gap-r)}),t.nodeToTempPositionMapVertical.set(e,t.nodeToTempPositionMapVertical.get(e)+i),t.dummyToNodeForHorizontalAlignment.has(e)?t.dummyToNodeForHorizontalAlignment.get(e).forEach(function(e){t.idToNodeMap.get(e).displacementY=i}):t.idToNodeMap.get(e).displacementY=i}});else{for(i=0;i<this.componentsOnHorizontal.length;i++){var d=this.componentsOnHorizontal[i];if(this.fixedComponentsOnHorizontal[i])for(r=0;r<d.length;r++)this.dummyToNodeForVerticalAlignment.has(d[r])?this.dummyToNodeForVerticalAlignment.get(d[r]).forEach(function(e){t.idToNodeMap.get(e).displacementX=0}):this.idToNodeMap.get(d[r]).displacementX=0;else{var c=0,g=0;for(r=0;r<d.length;r++)this.dummyToNodeForVerticalAlignment.has(d[r])?(c+=(f=this.dummyToNodeForVerticalAlignment.get(d[r])).length*this.idToNodeMap.get(f[0]).displacementX,g+=f.length):(c+=this.idToNodeMap.get(d[r]).displacementX,g++);var u=c/g;for(r=0;r<d.length;r++)this.dummyToNodeForVerticalAlignment.has(d[r])?this.dummyToNodeForVerticalAlignment.get(d[r]).forEach(function(e){t.idToNodeMap.get(e).displacementX=u}):this.idToNodeMap.get(d[r]).displacementX=u}}for(i=0;i<this.componentsOnVertical.length;i++)if(d=this.componentsOnVertical[i],this.fixedComponentsOnVertical[i])for(r=0;r<d.length;r++)this.dummyToNodeForHorizontalAlignment.has(d[r])?this.dummyToNodeForHorizontalAlignment.get(d[r]).forEach(function(e){t.idToNodeMap.get(e).displacementY=0}):this.idToNodeMap.get(d[r]).displacementY=0;else{for(c=0,g=0,r=0;r<d.length;r++){var f;this.dummyToNodeForHorizontalAlignment.has(d[r])?(c+=(f=this.dummyToNodeForHorizontalAlignment.get(d[r])).length*this.idToNodeMap.get(f[0]).displacementY,g+=f.length):(c+=this.idToNodeMap.get(d[r]).displacementY,g++)}for(u=c/g,r=0;r<d.length;r++)this.dummyToNodeForHorizontalAlignment.has(d[r])?this.dummyToNodeForHorizontalAlignment.get(d[r]).forEach(function(e){t.idToNodeMap.get(e).displacementY=u}):this.idToNodeMap.get(d[r]).displacementY=u}}},T.prototype.calculateNodesToApplyGravitationTo=function(){var t,e,i=[],n=this.graphManager.getGraphs(),r=n.length;for(e=0;e<r;e++)(t=n[e]).updateConnected(),t.isConnected||(i=i.concat(t.getNodes()));return i},T.prototype.createBendpoints=function(){var t=[];t=t.concat(this.graphManager.getAllEdges());var e,i=new Set;for(e=0;e<t.length;e++){var n=t[e];if(!i.has(n)){var r=n.getSource(),o=n.getTarget();if(r==o)n.getBendpoints().push(new u),n.getBendpoints().push(new u),this.createDummyNodesForBendpoints(n),i.add(n);else{var s=[];if(s=(s=s.concat(r.getEdgeListToNode(o))).concat(o.getEdgeListToNode(r)),!i.has(s[0])){var a;if(s.length>1)for(a=0;a<s.length;a++){var h=s[a];h.getBendpoints().push(new u),this.createDummyNodesForBendpoints(h)}s.forEach(function(t){i.add(t)})}}}if(i.size==t.length)break}},T.prototype.positionNodesRadially=function(t){for(var e=new g(0,0),i=Math.ceil(Math.sqrt(t.length)),n=0,r=0,o=0,s=new u(0,0),a=0;a<t.length;a++){a%i==0&&(o=0,r=n,0!=a&&(r+=h.DEFAULT_COMPONENT_SEPERATION),n=0);var l=t[a],d=p.findCenterOfTree(l);e.x=o,e.y=r,(s=T.radialLayout(l,d,e)).y>n&&(n=Math.floor(s.y)),o=Math.floor(s.x+h.DEFAULT_COMPONENT_SEPERATION)}this.transform(new u(c.WORLD_CENTER_X-s.x/2,c.WORLD_CENTER_Y-s.y/2))},T.radialLayout=function(t,e,i){var n=Math.max(this.maxDiagonalInTree(t),h.DEFAULT_RADIAL_SEPARATION);T.branchRadialLayout(e,null,0,359,0,n);var r=v.calculateBounds(t),o=new E;o.setDeviceOrgX(r.getMinX()),o.setDeviceOrgY(r.getMinY()),o.setWorldOrgX(i.x),o.setWorldOrgY(i.y);for(var s=0;s<t.length;s++)t[s].transform(o);var a=new u(r.getMaxX(),r.getMaxY());return o.inverseTransformPoint(a)},T.branchRadialLayout=function(t,e,i,n,r,o){var s=(n-i+1)/2;s<0&&(s+=180);var a=(s+i)%360*m.TWO_PI/360,h=r*Math.cos(a),l=r*Math.sin(a);t.setCenter(h,l);var d=[],c=(d=d.concat(t.getEdges())).length;null!=e&&c--;for(var g,u=0,f=d.length,p=t.getEdgesBetween(e);p.length>1;){var y=p[0];p.splice(0,1);var v=d.indexOf(y);v>=0&&d.splice(v,1),f--,c--}g=null!=e?(d.indexOf(p[0])+1)%f:0;for(var E=Math.abs(n-i)/c,N=g;u!=c;N=++N%f){var A=d[N].getOtherEnd(t);if(A!=e){var w=(i+u*E)%360,L=(w+E)%360;T.branchRadialLayout(A,t,w,L,r+o,o),u++}}},T.maxDiagonalInTree=function(t){for(var e=y.MIN_VALUE,i=0;i<t.length;i++){var n=t[i].getDiagonal();n>e&&(e=n)}return e},T.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},T.prototype.groupZeroDegreeMembers=function(){var t=this,e={};this.memberGroups={},this.idToDummyNode={};for(var i=[],n=this.graphManager.getAllNodes(),r=0;r<n.length;r++){var o=(a=n[r]).getParent();0!==this.getNodeDegreeWithChildren(a)||null!=o.id&&this.getToBeTiled(o)||i.push(a)}for(r=0;r<i.length;r++){var a,h=(a=i[r]).getParent().id;void 0===e[h]&&(e[h]=[]),e[h]=e[h].concat(a)}Object.keys(e).forEach(function(i){if(e[i].length>1){var n="DummyCompound_"+i;t.memberGroups[n]=e[i];var r=e[i][0].getParent(),o=new s(t.graphManager);o.id=n,o.paddingLeft=r.paddingLeft||0,o.paddingRight=r.paddingRight||0,o.paddingBottom=r.paddingBottom||0,o.paddingTop=r.paddingTop||0,t.idToDummyNode[n]=o;var a=t.getGraphManager().add(t.newGraph(),o),h=r.getChild();h.add(o);for(var l=0;l<e[i].length;l++){var d=e[i][l];h.remove(d),a.add(d)}}})},T.prototype.clearCompounds=function(){var t={},e={};this.performDFSOnCompounds();for(var i=0;i<this.compoundOrder.length;i++)e[this.compoundOrder[i].id]=this.compoundOrder[i],t[this.compoundOrder[i].id]=[].concat(this.compoundOrder[i].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[i].getChild()),this.compoundOrder[i].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(t,e)},T.prototype.clearZeroDegreeMembers=function(){var t=this,e=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(i){var n=t.idToDummyNode[i];if(e[i]=t.tileNodes(t.memberGroups[i],n.paddingLeft+n.paddingRight),n.rect.width=e[i].width,n.rect.height=e[i].height,n.setCenter(e[i].centerX,e[i].centerY),n.labelMarginLeft=0,n.labelMarginTop=0,h.NODE_DIMENSIONS_INCLUDE_LABELS){var r=n.rect.width,o=n.rect.height;n.labelWidth&&("left"==n.labelPosHorizontal?(n.rect.x-=n.labelWidth,n.setWidth(r+n.labelWidth),n.labelMarginLeft=n.labelWidth):"center"==n.labelPosHorizontal&&n.labelWidth>r?(n.rect.x-=(n.labelWidth-r)/2,n.setWidth(n.labelWidth),n.labelMarginLeft=(n.labelWidth-r)/2):"right"==n.labelPosHorizontal&&n.setWidth(r+n.labelWidth)),n.labelHeight&&("top"==n.labelPosVertical?(n.rect.y-=n.labelHeight,n.setHeight(o+n.labelHeight),n.labelMarginTop=n.labelHeight):"center"==n.labelPosVertical&&n.labelHeight>o?(n.rect.y-=(n.labelHeight-o)/2,n.setHeight(n.labelHeight),n.labelMarginTop=(n.labelHeight-o)/2):"bottom"==n.labelPosVertical&&n.setHeight(o+n.labelHeight))}})},T.prototype.repopulateCompounds=function(){for(var t=this.compoundOrder.length-1;t>=0;t--){var e=this.compoundOrder[t],i=e.id,n=e.paddingLeft,r=e.paddingTop,o=e.labelMarginLeft,s=e.labelMarginTop;this.adjustLocations(this.tiledMemberPack[i],e.rect.x,e.rect.y,n,r,o,s)}},T.prototype.repopulateZeroDegreeMembers=function(){var t=this,e=this.tiledZeroDegreePack;Object.keys(e).forEach(function(i){var n=t.idToDummyNode[i],r=n.paddingLeft,o=n.paddingTop,s=n.labelMarginLeft,a=n.labelMarginTop;t.adjustLocations(e[i],n.rect.x,n.rect.y,r,o,s,a)})},T.prototype.getToBeTiled=function(t){var e=t.id;if(null!=this.toBeTiled[e])return this.toBeTiled[e];var i=t.getChild();if(null==i)return this.toBeTiled[e]=!1,!1;for(var n=i.getNodes(),r=0;r<n.length;r++){var o=n[r];if(this.getNodeDegree(o)>0)return this.toBeTiled[e]=!1,!1;if(null!=o.getChild()){if(!this.getToBeTiled(o))return this.toBeTiled[e]=!1,!1}else this.toBeTiled[o.id]=!1}return this.toBeTiled[e]=!0,!0},T.prototype.getNodeDegree=function(t){t.id;for(var e=t.getEdges(),i=0,n=0;n<e.length;n++){var r=e[n];r.getSource().id!==r.getTarget().id&&(i+=1)}return i},T.prototype.getNodeDegreeWithChildren=function(t){var e=this.getNodeDegree(t);if(null==t.getChild())return e;for(var i=t.getChild().getNodes(),n=0;n<i.length;n++){var r=i[n];e+=this.getNodeDegreeWithChildren(r)}return e},T.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},T.prototype.fillCompexOrderByDFS=function(t){for(var e=0;e<t.length;e++){var i=t[e];null!=i.getChild()&&this.fillCompexOrderByDFS(i.getChild().getNodes()),this.getToBeTiled(i)&&this.compoundOrder.push(i)}},T.prototype.adjustLocations=function(t,e,i,n,r,o,s){i+=r+s;for(var a=e+=n+o,h=0;h<t.rows.length;h++){var l=t.rows[h];e=a;for(var d=0,c=0;c<l.length;c++){var g=l[c];g.rect.x=e,g.rect.y=i,e+=g.rect.width+t.horizontalPadding,g.rect.height>d&&(d=g.rect.height)}i+=d+t.verticalPadding}},T.prototype.tileCompoundMembers=function(t,e){var i=this;this.tiledMemberPack=[],Object.keys(t).forEach(function(n){var r=e[n];if(i.tiledMemberPack[n]=i.tileNodes(t[n],r.paddingLeft+r.paddingRight),r.rect.width=i.tiledMemberPack[n].width,r.rect.height=i.tiledMemberPack[n].height,r.setCenter(i.tiledMemberPack[n].centerX,i.tiledMemberPack[n].centerY),r.labelMarginLeft=0,r.labelMarginTop=0,h.NODE_DIMENSIONS_INCLUDE_LABELS){var o=r.rect.width,s=r.rect.height;r.labelWidth&&("left"==r.labelPosHorizontal?(r.rect.x-=r.labelWidth,r.setWidth(o+r.labelWidth),r.labelMarginLeft=r.labelWidth):"center"==r.labelPosHorizontal&&r.labelWidth>o?(r.rect.x-=(r.labelWidth-o)/2,r.setWidth(r.labelWidth),r.labelMarginLeft=(r.labelWidth-o)/2):"right"==r.labelPosHorizontal&&r.setWidth(o+r.labelWidth)),r.labelHeight&&("top"==r.labelPosVertical?(r.rect.y-=r.labelHeight,r.setHeight(s+r.labelHeight),r.labelMarginTop=r.labelHeight):"center"==r.labelPosVertical&&r.labelHeight>s?(r.rect.y-=(r.labelHeight-s)/2,r.setHeight(r.labelHeight),r.labelMarginTop=(r.labelHeight-s)/2):"bottom"==r.labelPosVertical&&r.setHeight(s+r.labelHeight))}})},T.prototype.tileNodes=function(t,e){var i=this.tileNodesByFavoringDim(t,e,!0),n=this.tileNodesByFavoringDim(t,e,!1),r=this.getOrgRatio(i);return this.getOrgRatio(n)<r?n:i},T.prototype.getOrgRatio=function(t){var e=t.width/t.height;return e<1&&(e=1/e),e},T.prototype.calcIdealRowWidth=function(t,e){var i=h.TILING_PADDING_VERTICAL,n=h.TILING_PADDING_HORIZONTAL,r=t.length,o=0,s=0,a=0;t.forEach(function(t){o+=t.getWidth(),s+=t.getHeight(),t.getWidth()>a&&(a=t.getWidth())});var l,d=o/r,c=s/r,g=Math.pow(i-n,2)+4*(d+n)*(c+i)*r,u=(n-i+Math.sqrt(g))/(2*(d+n));e?(l=Math.ceil(u))==u&&l++:l=Math.floor(u);var f=l*(d+n)-n;return a>f&&(f=a),f+=2*n},T.prototype.tileNodesByFavoringDim=function(t,e,i){var n=h.TILING_PADDING_VERTICAL,r=h.TILING_PADDING_HORIZONTAL,o=h.TILING_COMPARE_BY,s={rows:[],rowWidth:[],rowHeight:[],width:0,height:e,verticalPadding:n,horizontalPadding:r,centerX:0,centerY:0};o&&(s.idealRowWidth=this.calcIdealRowWidth(t,i));var a=function(t){return t.rect.width*t.rect.height},l=function(t,e){return a(e)-a(t)};t.sort(function(t,e){var i=l;return s.idealRowWidth?(i=o)(t.id,e.id):i(t,e)});for(var d=0,c=0,g=0;g<t.length;g++)d+=(u=t[g]).getCenterX(),c+=u.getCenterY();for(s.centerX=d/t.length,s.centerY=c/t.length,g=0;g<t.length;g++){var u=t[g];if(0==s.rows.length)this.insertNodeToRow(s,u,0,e);else if(this.canAddHorizontal(s,u.rect.width,u.rect.height)){var f=s.rows.length-1;s.idealRowWidth||(f=this.getShortestRowIndex(s)),this.insertNodeToRow(s,u,f,e)}else this.insertNodeToRow(s,u,s.rows.length,e);this.shiftToLastRow(s)}return s},T.prototype.insertNodeToRow=function(t,e,i,n){var r=n;i==t.rows.length&&(t.rows.push([]),t.rowWidth.push(r),t.rowHeight.push(0));var o=t.rowWidth[i]+e.rect.width;t.rows[i].length>0&&(o+=t.horizontalPadding),t.rowWidth[i]=o,t.width<o&&(t.width=o);var s=e.rect.height;i>0&&(s+=t.verticalPadding);var a=0;s>t.rowHeight[i]&&(a=t.rowHeight[i],t.rowHeight[i]=s,a=t.rowHeight[i]-a),t.height+=a,t.rows[i].push(e)},T.prototype.getShortestRowIndex=function(t){for(var e=-1,i=Number.MAX_VALUE,n=0;n<t.rows.length;n++)t.rowWidth[n]<i&&(e=n,i=t.rowWidth[n]);return e},T.prototype.getLongestRowIndex=function(t){for(var e=-1,i=Number.MIN_VALUE,n=0;n<t.rows.length;n++)t.rowWidth[n]>i&&(e=n,i=t.rowWidth[n]);return e},T.prototype.canAddHorizontal=function(t,e,i){if(t.idealRowWidth){var n=t.rows.length-1;return t.rowWidth[n]+e+t.horizontalPadding<=t.idealRowWidth}var r=this.getShortestRowIndex(t);if(r<0)return!0;var o=t.rowWidth[r];if(o+t.horizontalPadding+e<=t.width)return!0;var s,a,h=0;return t.rowHeight[r]<i&&r>0&&(h=i+t.verticalPadding-t.rowHeight[r]),s=t.width-o>=e+t.horizontalPadding?(t.height+h)/(o+e+t.horizontalPadding):(t.height+h)/t.width,h=i+t.verticalPadding,(a=t.width<e?(t.height+h)/e:(t.height+h)/t.width)<1&&(a=1/a),s<1&&(s=1/s),s<a},T.prototype.shiftToLastRow=function(t){var e=this.getLongestRowIndex(t),i=t.rowWidth.length-1,n=t.rows[e],r=n[n.length-1],o=r.width+t.horizontalPadding;if(t.width-t.rowWidth[i]>o&&e!=i){n.splice(-1,1),t.rows[i].push(r),t.rowWidth[e]=t.rowWidth[e]-o,t.rowWidth[i]=t.rowWidth[i]+o,t.width=t.rowWidth[instance.getLongestRowIndex(t)];for(var s=Number.MIN_VALUE,a=0;a<n.length;a++)n[a].height>s&&(s=n[a].height);e>0&&(s+=t.verticalPadding);var h=t.rowHeight[e]+t.rowHeight[i];t.rowHeight[e]=s,t.rowHeight[i]<r.height+t.verticalPadding&&(t.rowHeight[i]=r.height+t.verticalPadding);var l=t.rowHeight[e]+t.rowHeight[i];t.height+=l-h,this.shiftToLastRow(t)}},T.prototype.tilingPreLayout=function(){h.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},T.prototype.tilingPostLayout=function(){h.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},T.prototype.reduceTrees=function(){for(var t,e=[],i=!0;i;){var n=this.graphManager.getAllNodes(),r=[];i=!1;for(var o=0;o<n.length;o++)if(1==(t=n[o]).getEdges().length&&!t.getEdges()[0].isInterGraph&&null==t.getChild()){if(h.PURE_INCREMENTAL){var s=t.getEdges()[0].getOtherEnd(t),a=new f(t.getCenterX()-s.getCenterX(),t.getCenterY()-s.getCenterY());r.push([t,t.getEdges()[0],t.getOwner(),a])}else r.push([t,t.getEdges()[0],t.getOwner()]);i=!0}if(1==i){for(var l=[],d=0;d<r.length;d++)1==r[d][0].getEdges().length&&(l.push(r[d]),r[d][0].getOwner().remove(r[d][0]));e.push(l),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=e},T.prototype.growTree=function(t){for(var e,i=t[t.length-1],n=0;n<i.length;n++)e=i[n],this.findPlaceforPrunedNode(e),e[2].add(e[0]),e[2].add(e[1],e[1].source,e[1].target);t.splice(t.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},T.prototype.findPlaceforPrunedNode=function(t){var e,i,n=t[0];if(i=n==t[1].source?t[1].target:t[1].source,h.PURE_INCREMENTAL)n.setCenter(i.getCenterX()+t[3].getWidth(),i.getCenterY()+t[3].getHeight());else{var r=i.startX,o=i.finishX,s=i.startY,a=i.finishY,l=[0,0,0,0];if(s>0)for(var c=r;c<=o;c++)l[0]+=this.grid[c][s-1].length+this.grid[c][s].length-1;if(o<this.grid.length-1)for(c=s;c<=a;c++)l[1]+=this.grid[o+1][c].length+this.grid[o][c].length-1;if(a<this.grid[0].length-1)for(c=r;c<=o;c++)l[2]+=this.grid[c][a+1].length+this.grid[c][a].length-1;if(r>0)for(c=s;c<=a;c++)l[3]+=this.grid[r-1][c].length+this.grid[r][c].length-1;for(var g,u,f=y.MAX_VALUE,p=0;p<l.length;p++)l[p]<f?(f=l[p],g=1,u=p):l[p]==f&&g++;if(3==g&&0==f)0==l[0]&&0==l[1]&&0==l[2]?e=1:0==l[0]&&0==l[1]&&0==l[3]?e=0:0==l[0]&&0==l[2]&&0==l[3]?e=3:0==l[1]&&0==l[2]&&0==l[3]&&(e=2);else if(2==g&&0==f){var m=Math.floor(2*Math.random());e=0==l[0]&&0==l[1]?0==m?0:1:0==l[0]&&0==l[2]?0==m?0:2:0==l[0]&&0==l[3]?0==m?0:3:0==l[1]&&0==l[2]?0==m?1:2:0==l[1]&&0==l[3]?0==m?1:3:0==m?2:3}else e=4==g&&0==f?m=Math.floor(4*Math.random()):u;0==e?n.setCenter(i.getCenterX(),i.getCenterY()-i.getHeight()/2-d.DEFAULT_EDGE_LENGTH-n.getHeight()/2):1==e?n.setCenter(i.getCenterX()+i.getWidth()/2+d.DEFAULT_EDGE_LENGTH+n.getWidth()/2,i.getCenterY()):2==e?n.setCenter(i.getCenterX(),i.getCenterY()+i.getHeight()/2+d.DEFAULT_EDGE_LENGTH+n.getHeight()/2):n.setCenter(i.getCenterX()-i.getWidth()/2-d.DEFAULT_EDGE_LENGTH-n.getWidth()/2,i.getCenterY())}},t.exports=T},991:(t,e,i)=>{var n=i(551).FDLayoutNode,r=i(551).IMath;function o(t,e,i,r){n.call(this,t,e,i,r)}for(var s in o.prototype=Object.create(n.prototype),n)o[s]=n[s];o.prototype.calculateDisplacement=function(){var t=this.graphManager.getLayout();null!=this.getChild()&&this.fixedNodeWeight?(this.displacementX+=t.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=t.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=t.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=t.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>t.coolingFactor*t.maxNodeDisplacement&&(this.displacementX=t.coolingFactor*t.maxNodeDisplacement*r.sign(this.displacementX)),Math.abs(this.displacementY)>t.coolingFactor*t.maxNodeDisplacement&&(this.displacementY=t.coolingFactor*t.maxNodeDisplacement*r.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},o.prototype.propogateDisplacementToChildren=function(t,e){for(var i,n=this.getChild().getNodes(),r=0;r<n.length;r++)null==(i=n[r]).getChild()?(i.displacementX+=t,i.displacementY+=e):i.propogateDisplacementToChildren(t,e)},o.prototype.move=function(){var t=this.graphManager.getLayout();null!=this.child&&0!=this.child.getNodes().length||(this.moveBy(this.displacementX,this.displacementY),t.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},o.prototype.setPred1=function(t){this.pred1=t},o.prototype.getPred1=function(){return pred1},o.prototype.getPred2=function(){return pred2},o.prototype.setNext=function(t){this.next=t},o.prototype.getNext=function(){return next},o.prototype.setProcessed=function(t){this.processed=t},o.prototype.isProcessed=function(){return processed},t.exports=o},902:(t,e,i)=>{function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var r=i(806),o=i(551).LinkedList,s=i(551).Matrix,a=i(551).SVD;function h(){}h.handleConstraints=function(t){var e={};e.fixedNodeConstraint=t.constraints.fixedNodeConstraint,e.alignmentConstraint=t.constraints.alignmentConstraint,e.relativePlacementConstraint=t.constraints.relativePlacementConstraint;for(var i=new Map,h=new Map,l=[],d=[],c=t.getAllNodes(),g=0,u=0;u<c.length;u++){var f=c[u];null==f.getChild()&&(h.set(f.id,g++),l.push(f.getCenterX()),d.push(f.getCenterY()),i.set(f.id,f))}e.relativePlacementConstraint&&e.relativePlacementConstraint.forEach(function(t){t.gap||0==t.gap||(t.left?t.gap=r.DEFAULT_EDGE_LENGTH+i.get(t.left).getWidth()/2+i.get(t.right).getWidth()/2:t.gap=r.DEFAULT_EDGE_LENGTH+i.get(t.top).getHeight()/2+i.get(t.bottom).getHeight()/2)});var p=function(t){var e=0,i=0;return t.forEach(function(t){e+=l[h.get(t)],i+=d[h.get(t)]}),{x:e/t.size,y:i/t.size}},y=function(t,e,i,r,s){var a=new Map;t.forEach(function(t,e){a.set(e,0)}),t.forEach(function(t,e){t.forEach(function(t){a.set(t.id,a.get(t.id)+1)})});var c=new Map,g=new Map,u=new o;a.forEach(function(t,n){0==t?(u.push(n),i||("horizontal"==e?c.set(n,h.has(n)?l[h.get(n)]:r.get(n)):c.set(n,h.has(n)?d[h.get(n)]:r.get(n)))):c.set(n,Number.NEGATIVE_INFINITY),i&&g.set(n,new Set([n]))}),i&&s.forEach(function(t){var n=[];if(t.forEach(function(t){i.has(t)&&n.push(t)}),n.length>0){var o=0;n.forEach(function(t){"horizontal"==e?(c.set(t,h.has(t)?l[h.get(t)]:r.get(t)),o+=c.get(t)):(c.set(t,h.has(t)?d[h.get(t)]:r.get(t)),o+=c.get(t))}),o/=n.length,t.forEach(function(t){i.has(t)||c.set(t,o)})}else{var s=0;t.forEach(function(t){s+="horizontal"==e?h.has(t)?l[h.get(t)]:r.get(t):h.has(t)?d[h.get(t)]:r.get(t)}),s/=t.length,t.forEach(function(t){c.set(t,s)})}});for(var f=function(){var n=u.shift();t.get(n).forEach(function(t){if(c.get(t.id)<c.get(n)+t.gap)if(i&&i.has(t.id)){var o=void 0;if(o="horizontal"==e?h.has(t.id)?l[h.get(t.id)]:r.get(t.id):h.has(t.id)?d[h.get(t.id)]:r.get(t.id),c.set(t.id,o),o<c.get(n)+t.gap){var s=c.get(n)+t.gap-o;g.get(n).forEach(function(t){c.set(t,c.get(t)-s)})}}else c.set(t.id,c.get(n)+t.gap);a.set(t.id,a.get(t.id)-1),0==a.get(t.id)&&u.push(t.id),i&&g.set(t.id,function(t,e){var i=new Set(t),n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var h=s.value;i.add(h)}}catch(l){r=!0,o=l}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}(g.get(n),g.get(t.id)))})};0!=u.length;)f();if(i){var p=new Set;t.forEach(function(t,e){0==t.length&&p.add(e)});var y=[];g.forEach(function(t,e){if(p.has(e)){var r=!1,o=!0,s=!1,a=void 0;try{for(var h,l=t[Symbol.iterator]();!(o=(h=l.next()).done);o=!0){var d=h.value;i.has(d)&&(r=!0)}}catch(u){s=!0,a=u}finally{try{!o&&l.return&&l.return()}finally{if(s)throw a}}if(!r){var c=!1,g=void 0;y.forEach(function(e,i){e.has([].concat(n(t))[0])&&(c=!0,g=i)}),c?t.forEach(function(t){y[g].add(t)}):y.push(new Set(t))}}}),y.forEach(function(t,i){var n=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,a=Number.NEGATIVE_INFINITY,g=!0,u=!1,f=void 0;try{for(var p,y=t[Symbol.iterator]();!(g=(p=y.next()).done);g=!0){var m=p.value,v=void 0;v="horizontal"==e?h.has(m)?l[h.get(m)]:r.get(m):h.has(m)?d[h.get(m)]:r.get(m);var E=c.get(m);v<n&&(n=v),v>s&&(s=v),E<o&&(o=E),E>a&&(a=E)}}catch(_){u=!0,f=_}finally{try{!g&&y.return&&y.return()}finally{if(u)throw f}}var N=(n+s)/2-(o+a)/2,T=!0,A=!1,w=void 0;try{for(var L,C=t[Symbol.iterator]();!(T=(L=C.next()).done);T=!0){var I=L.value;c.set(I,c.get(I)+N)}}catch(_){A=!0,w=_}finally{try{!T&&C.return&&C.return()}finally{if(A)throw w}}})}return c},m=function(t){var e=0,i=0,n=0,r=0;if(t.forEach(function(t){t.left?l[h.get(t.left)]-l[h.get(t.right)]>=0?e++:i++:d[h.get(t.top)]-d[h.get(t.bottom)]>=0?n++:r++}),e>i&&n>r)for(var o=0;o<h.size;o++)l[o]=-1*l[o],d[o]=-1*d[o];else if(e>i)for(var s=0;s<h.size;s++)l[s]=-1*l[s];else if(n>r)for(var a=0;a<h.size;a++)d[a]=-1*d[a]},v=function(t){var e=[],i=new o,n=new Set,r=0;return t.forEach(function(o,s){if(!n.has(s)){e[r]=[];var a=s;for(i.push(a),n.add(a),e[r].push(a);0!=i.length;)a=i.shift(),t.get(a).forEach(function(t){n.has(t.id)||(i.push(t.id),n.add(t.id),e[r].push(t.id))});r++}}),e},E=function(t){var e=new Map;return t.forEach(function(t,i){e.set(i,[])}),t.forEach(function(t,i){t.forEach(function(t){e.get(i).push(t),e.get(t.id).push({id:i,gap:t.gap,direction:t.direction})})}),e},N=function(t){var e=new Map;return t.forEach(function(t,i){e.set(i,[])}),t.forEach(function(t,i){t.forEach(function(t){e.get(t.id).push({id:i,gap:t.gap,direction:t.direction})})}),e},T=[],A=[],w=!1,L=!1,C=new Set,I=new Map,_=new Map,M=[];if(e.fixedNodeConstraint&&e.fixedNodeConstraint.forEach(function(t){C.add(t.nodeId)}),e.relativePlacementConstraint&&(e.relativePlacementConstraint.forEach(function(t){t.left?(I.has(t.left)?I.get(t.left).push({id:t.right,gap:t.gap,direction:"horizontal"}):I.set(t.left,[{id:t.right,gap:t.gap,direction:"horizontal"}]),I.has(t.right)||I.set(t.right,[])):(I.has(t.top)?I.get(t.top).push({id:t.bottom,gap:t.gap,direction:"vertical"}):I.set(t.top,[{id:t.bottom,gap:t.gap,direction:"vertical"}]),I.has(t.bottom)||I.set(t.bottom,[]))}),_=E(I),M=v(_)),r.TRANSFORM_ON_CONSTRAINT_HANDLING){if(e.fixedNodeConstraint&&e.fixedNodeConstraint.length>1)e.fixedNodeConstraint.forEach(function(t,e){T[e]=[t.position.x,t.position.y],A[e]=[l[h.get(t.nodeId)],d[h.get(t.nodeId)]]}),w=!0;else if(e.alignmentConstraint)!function(){var t=0;if(e.alignmentConstraint.vertical){for(var i=e.alignmentConstraint.vertical,r=function(e){var r=new Set;i[e].forEach(function(t){r.add(t)});var o=new Set([].concat(n(r)).filter(function(t){return C.has(t)})),s=void 0;s=o.size>0?l[h.get(o.values().next().value)]:p(r).x,i[e].forEach(function(e){T[t]=[s,d[h.get(e)]],A[t]=[l[h.get(e)],d[h.get(e)]],t++})},o=0;o<i.length;o++)r(o);w=!0}if(e.alignmentConstraint.horizontal){for(var s=e.alignmentConstraint.horizontal,a=function(e){var i=new Set;s[e].forEach(function(t){i.add(t)});var r=new Set([].concat(n(i)).filter(function(t){return C.has(t)})),o=void 0;o=r.size>0?l[h.get(r.values().next().value)]:p(i).y,s[e].forEach(function(e){T[t]=[l[h.get(e)],o],A[t]=[l[h.get(e)],d[h.get(e)]],t++})},c=0;c<s.length;c++)a(c);w=!0}e.relativePlacementConstraint&&(L=!0)}();else if(e.relativePlacementConstraint){for(var x=0,O=0,D=0;D<M.length;D++)M[D].length>x&&(x=M[D].length,O=D);if(x<_.size/2)m(e.relativePlacementConstraint),w=!1,L=!1;else{var R=new Map,b=new Map,F=[];M[O].forEach(function(t){I.get(t).forEach(function(e){"horizontal"==e.direction?(R.has(t)?R.get(t).push(e):R.set(t,[e]),R.has(e.id)||R.set(e.id,[]),F.push({left:t,right:e.id})):(b.has(t)?b.get(t).push(e):b.set(t,[e]),b.has(e.id)||b.set(e.id,[]),F.push({top:t,bottom:e.id}))})}),m(F),L=!1;var G=y(R,"horizontal"),S=y(b,"vertical");M[O].forEach(function(t,e){A[e]=[l[h.get(t)],d[h.get(t)]],T[e]=[],G.has(t)?T[e][0]=G.get(t):T[e][0]=l[h.get(t)],S.has(t)?T[e][1]=S.get(t):T[e][1]=d[h.get(t)]}),w=!0}}if(w){for(var P,U=s.transpose(T),Y=s.transpose(A),k=0;k<U.length;k++)U[k]=s.multGamma(U[k]),Y[k]=s.multGamma(Y[k]);var H=s.multMat(U,s.transpose(Y)),X=a.svd(H);P=s.multMat(X.V,s.transpose(X.U));for(var z=0;z<h.size;z++){var B=[l[z],d[z]],V=[P[0][0],P[1][0]],W=[P[0][1],P[1][1]];l[z]=s.dotProduct(B,V),d[z]=s.dotProduct(B,W)}L&&m(e.relativePlacementConstraint)}}if(r.ENFORCE_CONSTRAINTS){if(e.fixedNodeConstraint&&e.fixedNodeConstraint.length>0){var j={x:0,y:0};e.fixedNodeConstraint.forEach(function(t,e){var i,n,r={x:l[h.get(t.nodeId)],y:d[h.get(t.nodeId)]},o=t.position,s=(n=r,{x:(i=o).x-n.x,y:i.y-n.y});j.x+=s.x,j.y+=s.y}),j.x/=e.fixedNodeConstraint.length,j.y/=e.fixedNodeConstraint.length,l.forEach(function(t,e){l[e]+=j.x}),d.forEach(function(t,e){d[e]+=j.y}),e.fixedNodeConstraint.forEach(function(t){l[h.get(t.nodeId)]=t.position.x,d[h.get(t.nodeId)]=t.position.y})}if(e.alignmentConstraint){if(e.alignmentConstraint.vertical)for(var q=e.alignmentConstraint.vertical,$=function(t){var e=new Set;q[t].forEach(function(t){e.add(t)});var i=new Set([].concat(n(e)).filter(function(t){return C.has(t)})),r=void 0;r=i.size>0?l[h.get(i.values().next().value)]:p(e).x,e.forEach(function(t){C.has(t)||(l[h.get(t)]=r)})},Z=0;Z<q.length;Z++)$(Z);if(e.alignmentConstraint.horizontal)for(var Q=e.alignmentConstraint.horizontal,J=function(t){var e=new Set;Q[t].forEach(function(t){e.add(t)});var i=new Set([].concat(n(e)).filter(function(t){return C.has(t)})),r=void 0;r=i.size>0?d[h.get(i.values().next().value)]:p(e).y,e.forEach(function(t){C.has(t)||(d[h.get(t)]=r)})},K=0;K<Q.length;K++)J(K)}e.relativePlacementConstraint&&function(){var t=new Map,i=new Map,n=new Map,r=new Map,o=new Map,s=new Map,a=new Set,c=new Set;if(C.forEach(function(t){a.add(t),c.add(t)}),e.alignmentConstraint){if(e.alignmentConstraint.vertical)for(var g=e.alignmentConstraint.vertical,u=function(e){n.set("dummy"+e,[]),g[e].forEach(function(i){t.set(i,"dummy"+e),n.get("dummy"+e).push(i),C.has(i)&&a.add("dummy"+e)}),o.set("dummy"+e,l[h.get(g[e][0])])},f=0;f<g.length;f++)u(f);if(e.alignmentConstraint.horizontal)for(var p=e.alignmentConstraint.horizontal,m=function(t){r.set("dummy"+t,[]),p[t].forEach(function(e){i.set(e,"dummy"+t),r.get("dummy"+t).push(e),C.has(e)&&c.add("dummy"+t)}),s.set("dummy"+t,d[h.get(p[t][0])])},T=0;T<p.length;T++)m(T)}var A=new Map,w=new Map,L=function(e){I.get(e).forEach(function(n){var r=void 0,o=void 0;"horizontal"==n.direction?(r=t.get(e)?t.get(e):e,o=t.get(n.id)?{id:t.get(n.id),gap:n.gap,direction:n.direction}:n,A.has(r)?A.get(r).push(o):A.set(r,[o]),A.has(o.id)||A.set(o.id,[])):(r=i.get(e)?i.get(e):e,o=i.get(n.id)?{id:i.get(n.id),gap:n.gap,direction:n.direction}:n,w.has(r)?w.get(r).push(o):w.set(r,[o]),w.has(o.id)||w.set(o.id,[]))})},_=!0,M=!1,x=void 0;try{for(var O,D=I.keys()[Symbol.iterator]();!(_=(O=D.next()).done);_=!0)L(O.value)}catch(tt){M=!0,x=tt}finally{try{!_&&D.return&&D.return()}finally{if(M)throw x}}var R=E(A),b=E(w),F=v(R),G=v(b),S=N(A),P=N(w),U=[],Y=[];F.forEach(function(t,e){U[e]=[],t.forEach(function(t){0==S.get(t).length&&U[e].push(t)})}),G.forEach(function(t,e){Y[e]=[],t.forEach(function(t){0==P.get(t).length&&Y[e].push(t)})});var k=y(A,"horizontal",a,o,U),H=y(w,"vertical",c,s,Y),X=function(t){n.get(t)?n.get(t).forEach(function(e){l[h.get(e)]=k.get(t)}):l[h.get(t)]=k.get(t)},z=!0,B=!1,V=void 0;try{for(var W,j=k.keys()[Symbol.iterator]();!(z=(W=j.next()).done);z=!0)X(W.value)}catch(tt){B=!0,V=tt}finally{try{!z&&j.return&&j.return()}finally{if(B)throw V}}var q=function(t){r.get(t)?r.get(t).forEach(function(e){d[h.get(e)]=H.get(t)}):d[h.get(t)]=H.get(t)},$=!0,Z=!1,Q=void 0;try{for(var J,K=H.keys()[Symbol.iterator]();!($=(J=K.next()).done);$=!0)q(J.value)}catch(tt){Z=!0,Q=tt}finally{try{!$&&K.return&&K.return()}finally{if(Z)throw Q}}}()}for(var tt=0;tt<c.length;tt++){var et=c[tt];null==et.getChild()&&et.setCenter(l[h.get(et.id)],d[h.get(et.id)])}},t.exports=h},551:e=>{e.exports=t}},i={},n=function t(n){var r=i[n];if(void 0!==r)return r.exports;var o=i[n]={exports:{}};return e[n](o,o.exports,t),o.exports}(45),n;var e,i,n},_.exports=t(x()));var t}var R,b,F,G;const S=t(R?I.exports:(R=1,I.exports=(b=D(),F={658:t=>{t.exports=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return i.forEach(function(e){Object.keys(e).forEach(function(i){return t[i]=e[i]})}),t}},548:(t,e,i)=>{var n=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(h){r=!0,o=h}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=i(140).layoutBase.LinkedList,o={getTopMostNodes:function(t){for(var e={},i=0;i<t.length;i++)e[t[i].id()]=!0;var n=t.filter(function(t,i){"number"==typeof t&&(t=i);for(var n=t.parent()[0];null!=n;){if(e[n.id()])return!1;n=n.parent()[0]}return!0});return n},connectComponents:function(t,e,i,n){var o=new r,s=new Set,a=[],h=void 0,l=void 0,d=void 0,c=!1,g=1,u=[],f=[],p=function(){var n=t.collection();f.push(n);var r=i[0],p=t.collection();p.merge(r).merge(r.descendants().intersection(e)),a.push(r),p.forEach(function(t){o.push(t),s.add(t),n.merge(t)});for(var y=function(){r=o.shift();var l=t.collection();r.neighborhood().nodes().forEach(function(t){e.intersection(r.edgesWith(t)).length>0&&l.merge(t)});for(var d=0;d<l.length;d++){var c=l[d];null==(h=i.intersection(c.union(c.ancestors())))||s.has(h[0])||h.union(h.descendants()).forEach(function(t){o.push(t),s.add(t),n.merge(t),i.has(t)&&a.push(t)})}};0!=o.length;)y();if(n.forEach(function(t){e.intersection(t.connectedEdges()).forEach(function(t){n.has(t.source())&&n.has(t.target())&&n.merge(t)})}),a.length==i.length&&(c=!0),!c||c&&g>1){l=a[0],d=l.connectedEdges().length,a.forEach(function(t){t.connectedEdges().length<d&&(d=t.connectedEdges().length,l=t)}),u.push(l.id());var m=t.collection();m.merge(a[0]),a.forEach(function(t){m.merge(t)}),a=[],i=i.difference(m),g++}};do{p()}while(!c);return n&&u.length>0&&n.set("dummy"+(n.size+1),u),f},relocateComponent:function(t,e,i){if(!i.fixedNodeConstraint){var r=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;if("draft"==i.quality){var h=!0,l=!1,d=void 0;try{for(var c,g=e.nodeIndexes[Symbol.iterator]();!(h=(c=g.next()).done);h=!0){var u=c.value,f=n(u,2),p=f[0],y=f[1],m=i.cy.getElementById(p);if(m){var v=m.boundingBox(),E=e.xCoords[y]-v.w/2,N=e.xCoords[y]+v.w/2,T=e.yCoords[y]-v.h/2,A=e.yCoords[y]+v.h/2;E<r&&(r=E),N>o&&(o=N),T<s&&(s=T),A>a&&(a=A)}}}catch(_){l=!0,d=_}finally{try{!h&&g.return&&g.return()}finally{if(l)throw d}}var w=t.x-(o+r)/2,L=t.y-(a+s)/2;e.xCoords=e.xCoords.map(function(t){return t+w}),e.yCoords=e.yCoords.map(function(t){return t+L})}else{Object.keys(e).forEach(function(t){var i=e[t],n=i.getRect().x,h=i.getRect().x+i.getRect().width,l=i.getRect().y,d=i.getRect().y+i.getRect().height;n<r&&(r=n),h>o&&(o=h),l<s&&(s=l),d>a&&(a=d)});var C=t.x-(o+r)/2,I=t.y-(a+s)/2;Object.keys(e).forEach(function(t){var i=e[t];i.setCenter(i.getCenterX()+C,i.getCenterY()+I)})}}},calcBoundingBox:function(t,e,i,n){for(var r=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,h=void 0,l=void 0,d=void 0,c=void 0,g=t.descendants().not(":parent"),u=g.length,f=0;f<u;f++){var p=g[f];r>(h=e[n.get(p.id())]-p.width()/2)&&(r=h),o<(l=e[n.get(p.id())]+p.width()/2)&&(o=l),s>(d=i[n.get(p.id())]-p.height()/2)&&(s=d),a<(c=i[n.get(p.id())]+p.height()/2)&&(a=c)}var y={};return y.topLeftX=r,y.topLeftY=s,y.width=o-r,y.height=a-s,y},calcParentsWithoutChildren:function(t,e){var i=t.collection();return e.nodes(":parent").forEach(function(t){var e=!1;t.children().forEach(function(t){"none"!=t.css("display")&&(e=!0)}),e||i.merge(t)}),i}};t.exports=o},816:(t,e,i)=>{var n=i(548),r=i(140).CoSELayout,o=i(140).CoSENode,s=i(140).layoutBase.PointD,a=i(140).layoutBase.DimensionD,h=i(140).layoutBase.LayoutConstants,l=i(140).layoutBase.FDLayoutConstants,d=i(140).CoSEConstants;t.exports={coseLayout:function(t,e){var i=t.cy,c=t.eles,g=c.nodes(),u=c.edges(),f=void 0,p=void 0,y=void 0,m={};t.randomize&&(f=e.nodeIndexes,p=e.xCoords,y=e.yCoords);var v=function(t){return"function"==typeof t},E=function(t,e){return v(t)?t(e):t},N=n.calcParentsWithoutChildren(i,c);null!=t.nestingFactor&&(d.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=t.nestingFactor),null!=t.gravity&&(d.DEFAULT_GRAVITY_STRENGTH=l.DEFAULT_GRAVITY_STRENGTH=t.gravity),null!=t.numIter&&(d.MAX_ITERATIONS=l.MAX_ITERATIONS=t.numIter),null!=t.gravityRange&&(d.DEFAULT_GRAVITY_RANGE_FACTOR=l.DEFAULT_GRAVITY_RANGE_FACTOR=t.gravityRange),null!=t.gravityCompound&&(d.DEFAULT_COMPOUND_GRAVITY_STRENGTH=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH=t.gravityCompound),null!=t.gravityRangeCompound&&(d.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=t.gravityRangeCompound),null!=t.initialEnergyOnIncremental&&(d.DEFAULT_COOLING_FACTOR_INCREMENTAL=l.DEFAULT_COOLING_FACTOR_INCREMENTAL=t.initialEnergyOnIncremental),null!=t.tilingCompareBy&&(d.TILING_COMPARE_BY=t.tilingCompareBy),"proof"==t.quality?h.QUALITY=2:h.QUALITY=0,d.NODE_DIMENSIONS_INCLUDE_LABELS=l.NODE_DIMENSIONS_INCLUDE_LABELS=h.NODE_DIMENSIONS_INCLUDE_LABELS=t.nodeDimensionsIncludeLabels,d.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=h.DEFAULT_INCREMENTAL=!t.randomize,d.ANIMATE=l.ANIMATE=h.ANIMATE=t.animate,d.TILE=t.tile,d.TILING_PADDING_VERTICAL="function"==typeof t.tilingPaddingVertical?t.tilingPaddingVertical.call():t.tilingPaddingVertical,d.TILING_PADDING_HORIZONTAL="function"==typeof t.tilingPaddingHorizontal?t.tilingPaddingHorizontal.call():t.tilingPaddingHorizontal,d.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=h.DEFAULT_INCREMENTAL=!0,d.PURE_INCREMENTAL=!t.randomize,h.DEFAULT_UNIFORM_LEAF_NODE_SIZES=t.uniformNodeDimensions,"transformed"==t.step&&(d.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,d.ENFORCE_CONSTRAINTS=!1,d.APPLY_LAYOUT=!1),"enforced"==t.step&&(d.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,d.ENFORCE_CONSTRAINTS=!0,d.APPLY_LAYOUT=!1),"cose"==t.step&&(d.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,d.ENFORCE_CONSTRAINTS=!1,d.APPLY_LAYOUT=!0),"all"==t.step&&(t.randomize?d.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:d.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,d.ENFORCE_CONSTRAINTS=!0,d.APPLY_LAYOUT=!0),t.fixedNodeConstraint||t.alignmentConstraint||t.relativePlacementConstraint?d.TREE_REDUCTION_ON_INCREMENTAL=!1:d.TREE_REDUCTION_ON_INCREMENTAL=!0;var T=new r,A=T.newGraphManager();return function t(e,i,r,h){for(var l=i.length,d=0;d<l;d++){var c=i[d],g=null;0==c.intersection(N).length&&(g=c.children());var u=void 0,v=c.layoutDimensions({nodeDimensionsIncludeLabels:h.nodeDimensionsIncludeLabels});if(null!=c.outerWidth()&&null!=c.outerHeight())if(h.randomize)if(c.isParent()){var T=n.calcBoundingBox(c,p,y,f);u=0==c.intersection(N).length?e.add(new o(r.graphManager,new s(T.topLeftX,T.topLeftY),new a(T.width,T.height))):e.add(new o(r.graphManager,new s(T.topLeftX,T.topLeftY),new a(parseFloat(v.w),parseFloat(v.h))))}else u=e.add(new o(r.graphManager,new s(p[f.get(c.id())]-v.w/2,y[f.get(c.id())]-v.h/2),new a(parseFloat(v.w),parseFloat(v.h))));else u=e.add(new o(r.graphManager,new s(c.position("x")-v.w/2,c.position("y")-v.h/2),new a(parseFloat(v.w),parseFloat(v.h))));else u=e.add(new o(this.graphManager));u.id=c.data("id"),u.nodeRepulsion=E(h.nodeRepulsion,c),u.paddingLeft=parseInt(c.css("padding")),u.paddingTop=parseInt(c.css("padding")),u.paddingRight=parseInt(c.css("padding")),u.paddingBottom=parseInt(c.css("padding")),h.nodeDimensionsIncludeLabels&&(u.labelWidth=c.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,u.labelHeight=c.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,u.labelPosVertical=c.css("text-valign"),u.labelPosHorizontal=c.css("text-halign")),m[c.data("id")]=u,isNaN(u.rect.x)&&(u.rect.x=0),isNaN(u.rect.y)&&(u.rect.y=0),null!=g&&g.length>0&&t(r.getGraphManager().add(r.newGraph(),u),g,r,h)}}(A.addRoot(),n.getTopMostNodes(g),T,t),function(e,i,n){for(var r=0,o=0,s=0;s<n.length;s++){var a=n[s],h=m[a.data("source")],c=m[a.data("target")];if(h&&c&&h!==c&&0==h.getEdgesBetween(c).length){var g=i.add(e.newEdge(),h,c);g.id=a.id(),g.idealLength=E(t.idealEdgeLength,a),g.edgeElasticity=E(t.edgeElasticity,a),r+=g.idealLength,o++}}null!=t.idealEdgeLength&&(o>0?d.DEFAULT_EDGE_LENGTH=l.DEFAULT_EDGE_LENGTH=r/o:v(t.idealEdgeLength)?d.DEFAULT_EDGE_LENGTH=l.DEFAULT_EDGE_LENGTH=50:d.DEFAULT_EDGE_LENGTH=l.DEFAULT_EDGE_LENGTH=t.idealEdgeLength,d.MIN_REPULSION_DIST=l.MIN_REPULSION_DIST=l.DEFAULT_EDGE_LENGTH/10,d.DEFAULT_RADIAL_SEPARATION=l.DEFAULT_EDGE_LENGTH)}(T,A,u),function(t,e){e.fixedNodeConstraint&&(t.constraints.fixedNodeConstraint=e.fixedNodeConstraint),e.alignmentConstraint&&(t.constraints.alignmentConstraint=e.alignmentConstraint),e.relativePlacementConstraint&&(t.constraints.relativePlacementConstraint=e.relativePlacementConstraint)}(T,t),T.runLayout(),m}}},212:(t,e,i)=>{var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(658),o=i(548),s=i(657).spectralLayout,a=i(816).coseLayout,h=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(t){return 4500},idealEdgeLength:function(t){return 50},edgeElasticity:function(t){return.45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=r({},h,e)}return n(t,[{key:"run",value:function(){var t=this.options,e=t.cy,i=t.eles,n=[],r=[],h=void 0,l=[];!t.fixedNodeConstraint||Array.isArray(t.fixedNodeConstraint)&&0!=t.fixedNodeConstraint.length||(t.fixedNodeConstraint=void 0),t.alignmentConstraint&&(!t.alignmentConstraint.vertical||Array.isArray(t.alignmentConstraint.vertical)&&0!=t.alignmentConstraint.vertical.length||(t.alignmentConstraint.vertical=void 0),!t.alignmentConstraint.horizontal||Array.isArray(t.alignmentConstraint.horizontal)&&0!=t.alignmentConstraint.horizontal.length||(t.alignmentConstraint.horizontal=void 0)),!t.relativePlacementConstraint||Array.isArray(t.relativePlacementConstraint)&&0!=t.relativePlacementConstraint.length||(t.relativePlacementConstraint=void 0),(t.fixedNodeConstraint||t.alignmentConstraint||t.relativePlacementConstraint)&&(t.tile=!1,t.packComponents=!1);var d=void 0,c=!1;if(e.layoutUtilities&&t.packComponents&&((d=e.layoutUtilities("get"))||(d=e.layoutUtilities()),c=!0),i.nodes().length>0)if(c){var g=o.getTopMostNodes(t.eles.nodes());if((h=o.connectComponents(e,t.eles,g)).forEach(function(t){var e=t.boundingBox();l.push({x:e.x1+e.w/2,y:e.y1+e.h/2})}),t.randomize&&h.forEach(function(e){t.eles=e,n.push(s(t))}),"default"==t.quality||"proof"==t.quality){var u=e.collection();if(t.tile){var f=new Map,p=0,y={nodeIndexes:f,xCoords:[],yCoords:[]},m=[];if(h.forEach(function(t,e){0==t.edges().length&&(t.nodes().forEach(function(e,i){u.merge(t.nodes()[i]),e.isParent()||(y.nodeIndexes.set(t.nodes()[i].id(),p++),y.xCoords.push(t.nodes()[0].position().x),y.yCoords.push(t.nodes()[0].position().y))}),m.push(e))}),u.length>1){var v=u.boundingBox();l.push({x:v.x1+v.w/2,y:v.y1+v.h/2}),h.push(u),n.push(y);for(var E=m.length-1;E>=0;E--)h.splice(m[E],1),n.splice(m[E],1),l.splice(m[E],1)}}h.forEach(function(e,i){t.eles=e,r.push(a(t,n[i])),o.relocateComponent(l[i],r[i],t)})}else h.forEach(function(e,i){o.relocateComponent(l[i],n[i],t)});var N=new Set;if(h.length>1){var T=[],A=i.filter(function(t){return"none"==t.css("display")});h.forEach(function(e,i){var s=void 0;if("draft"==t.quality&&(s=n[i].nodeIndexes),e.nodes().not(A).length>0){var a={edges:[],nodes:[]},h=void 0;e.nodes().not(A).forEach(function(e){if("draft"==t.quality)if(e.isParent()){var l=o.calcBoundingBox(e,n[i].xCoords,n[i].yCoords,s);a.nodes.push({x:l.topLeftX,y:l.topLeftY,width:l.width,height:l.height})}else h=s.get(e.id()),a.nodes.push({x:n[i].xCoords[h]-e.boundingbox().w/2,y:n[i].yCoords[h]-e.boundingbox().h/2,width:e.boundingbox().w,height:e.boundingbox().h});else r[i][e.id()]&&a.nodes.push({x:r[i][e.id()].getLeft(),y:r[i][e.id()].getTop(),width:r[i][e.id()].getWidth(),height:r[i][e.id()].getHeight()})}),e.edges().forEach(function(e){var h=e.source(),l=e.target();if("none"!=h.css("display")&&"none"!=l.css("display"))if("draft"==t.quality){var d=s.get(h.id()),c=s.get(l.id()),g=[],u=[];if(h.isParent()){var f=o.calcBoundingBox(h,n[i].xCoords,n[i].yCoords,s);g.push(f.topLeftX+f.width/2),g.push(f.topLeftY+f.height/2)}else g.push(n[i].xCoords[d]),g.push(n[i].yCoords[d]);if(l.isParent()){var p=o.calcBoundingBox(l,n[i].xCoords,n[i].yCoords,s);u.push(p.topLeftX+p.width/2),u.push(p.topLeftY+p.height/2)}else u.push(n[i].xCoords[c]),u.push(n[i].yCoords[c]);a.edges.push({startX:g[0],startY:g[1],endX:u[0],endY:u[1]})}else r[i][h.id()]&&r[i][l.id()]&&a.edges.push({startX:r[i][h.id()].getCenterX(),startY:r[i][h.id()].getCenterY(),endX:r[i][l.id()].getCenterX(),endY:r[i][l.id()].getCenterY()})}),a.nodes.length>0&&(T.push(a),N.add(i))}});var w=d.packComponents(T,t.randomize).shifts;if("draft"==t.quality)n.forEach(function(t,e){var i=t.xCoords.map(function(t){return t+w[e].dx}),n=t.yCoords.map(function(t){return t+w[e].dy});t.xCoords=i,t.yCoords=n});else{var L=0;N.forEach(function(t){Object.keys(r[t]).forEach(function(e){var i=r[t][e];i.setCenter(i.getCenterX()+w[L].dx,i.getCenterY()+w[L].dy)}),L++})}}}else{var C=t.eles.boundingBox();if(l.push({x:C.x1+C.w/2,y:C.y1+C.h/2}),t.randomize){var I=s(t);n.push(I)}"default"==t.quality||"proof"==t.quality?(r.push(a(t,n[0])),o.relocateComponent(l[0],r[0],t)):o.relocateComponent(l[0],n[0],t)}var _=function(e,i){if("default"==t.quality||"proof"==t.quality){"number"==typeof e&&(e=i);var o=void 0,s=void 0,a=e.data("id");return r.forEach(function(t){a in t&&(o={x:t[a].getRect().getCenterX(),y:t[a].getRect().getCenterY()},s=t[a])}),t.nodeDimensionsIncludeLabels&&(s.labelWidth&&("left"==s.labelPosHorizontal?o.x+=s.labelWidth/2:"right"==s.labelPosHorizontal&&(o.x-=s.labelWidth/2)),s.labelHeight&&("top"==s.labelPosVertical?o.y+=s.labelHeight/2:"bottom"==s.labelPosVertical&&(o.y-=s.labelHeight/2))),null==o&&(o={x:e.position("x"),y:e.position("y")}),{x:o.x,y:o.y}}var h=void 0;return n.forEach(function(t){var i=t.nodeIndexes.get(e.id());null!=i&&(h={x:t.xCoords[i],y:t.yCoords[i]})}),null==h&&(h={x:e.position("x"),y:e.position("y")}),{x:h.x,y:h.y}};if("default"==t.quality||"proof"==t.quality||t.randomize){var M=o.calcParentsWithoutChildren(e,i),x=i.filter(function(t){return"none"==t.css("display")});t.eles=i.not(x),i.nodes().not(":parent").not(x).layoutPositions(this,t,_),M.length>0&&M.forEach(function(t){t.position(_(t))})}}}]),t}();t.exports=l},657:(t,e,i)=>{var n=i(548),r=i(140).layoutBase.Matrix,o=i(140).layoutBase.SVD;t.exports={spectralLayout:function(t){var e=t.cy,i=t.eles,s=i.nodes(),a=i.nodes(":parent"),h=new Map,l=new Map,d=new Map,c=[],g=[],u=[],f=[],p=[],y=[],m=[],v=[],E=void 0,N=1e8,T=1e-9,A=t.piTol,w=t.samplingType,L=t.nodeSeparation,C=void 0,I=function(t,e,i){for(var n=[],r=0,o=0,s=0,a=void 0,h=[],d=0,g=1,u=0;u<E;u++)h[u]=N;for(n[o]=t,h[t]=0;o>=r;){s=n[r++];for(var f=c[s],m=0;m<f.length;m++)h[a=l.get(f[m])]==N&&(h[a]=h[s]+1,n[++o]=a);y[s][e]=h[s]*L}if(i){for(var v=0;v<E;v++)y[v][e]<p[v]&&(p[v]=y[v][e]);for(var T=0;T<E;T++)p[T]>d&&(d=p[T],g=T)}return g};n.connectComponents(e,i,n.getTopMostNodes(s),h),a.forEach(function(t){n.connectComponents(e,i,n.getTopMostNodes(t.descendants().intersection(i)),h)});for(var _=0,M=0;M<s.length;M++)s[M].isParent()||l.set(s[M].id(),_++);var x=!0,O=!1,D=void 0;try{for(var R,b=h.keys()[Symbol.iterator]();!(x=(R=b.next()).done);x=!0){var F=R.value;l.set(F,_++)}}catch(Z){O=!0,D=Z}finally{try{!x&&b.return&&b.return()}finally{if(O)throw D}}for(var G=0;G<l.size;G++)c[G]=[];a.forEach(function(t){for(var e=t.children().intersection(i);0==e.nodes(":childless").length;)e=e.nodes()[0].children().intersection(i);var n=0,r=e.nodes(":childless")[0].connectedEdges().length;e.nodes(":childless").forEach(function(t,e){t.connectedEdges().length<r&&(r=t.connectedEdges().length,n=e)}),d.set(t.id(),e.nodes(":childless")[n].id())}),s.forEach(function(t){var e=void 0;e=t.isParent()?l.get(d.get(t.id())):l.get(t.id()),t.neighborhood().nodes().forEach(function(n){i.intersection(t.edgesWith(n)).length>0&&(n.isParent()?c[e].push(d.get(n.id())):c[e].push(n.id()))})});var S=function(t){var i=l.get(t),n=void 0;h.get(t).forEach(function(r){n=e.getElementById(r).isParent()?d.get(r):r,c[i].push(n),c[l.get(n)].push(t)})},P=!0,U=!1,Y=void 0;try{for(var k,H=h.keys()[Symbol.iterator]();!(P=(k=H.next()).done);P=!0)S(k.value)}catch(Z){U=!0,Y=Z}finally{try{!P&&H.return&&H.return()}finally{if(U)throw Y}}var X=void 0;if((E=l.size)>2){C=E<t.sampleSize?E:t.sampleSize;for(var z=0;z<E;z++)y[z]=[];for(var B=0;B<C;B++)v[B]=[];return"draft"==t.quality||"all"==t.step?(function(t){var e=void 0;if(t){e=Math.floor(Math.random()*E);for(var i=0;i<E;i++)p[i]=N;for(var n=0;n<C;n++)f[n]=e,e=I(e,n,t)}else{!function(){for(var t=0,e=0,i=!1;e<C;){t=Math.floor(Math.random()*E),i=!1;for(var n=0;n<e;n++)if(f[n]==t){i=!0;break}i||(f[e]=t,e++)}}();for(var r=0;r<C;r++)I(f[r],r,t)}for(var o=0;o<E;o++)for(var s=0;s<C;s++)y[o][s]*=y[o][s];for(var a=0;a<C;a++)m[a]=[];for(var h=0;h<C;h++)for(var l=0;l<C;l++)m[h][l]=y[f[l]][h]}(w),function(){for(var t=o.svd(m),e=t.S,i=t.U,n=t.V,s=e[0]*e[0]*e[0],a=[],h=0;h<C;h++){a[h]=[];for(var l=0;l<C;l++)a[h][l]=0,h==l&&(a[h][l]=e[h]/(e[h]*e[h]+s/(e[h]*e[h])))}v=r.multMat(r.multMat(n,a),r.transpose(i))}(),function(){for(var t=void 0,e=void 0,i=[],n=[],o=[],s=[],a=0;a<E;a++)i[a]=Math.random(),n[a]=Math.random();i=r.normalize(i),n=r.normalize(n);for(var h=T,l=T,d=void 0;;){for(var c=0;c<E;c++)o[c]=i[c];if(i=r.multGamma(r.multL(r.multGamma(o),y,v)),t=r.dotProduct(o,i),i=r.normalize(i),h=r.dotProduct(o,i),(d=Math.abs(h/l))<=1+A&&d>=1)break;l=h}for(var f=0;f<E;f++)o[f]=i[f];for(l=T;;){for(var p=0;p<E;p++)s[p]=n[p];if(s=r.minusOp(s,r.multCons(o,r.dotProduct(o,s))),n=r.multGamma(r.multL(r.multGamma(s),y,v)),e=r.dotProduct(s,n),n=r.normalize(n),h=r.dotProduct(s,n),(d=Math.abs(h/l))<=1+A&&d>=1)break;l=h}for(var m=0;m<E;m++)s[m]=n[m];g=r.multCons(o,Math.sqrt(Math.abs(t))),u=r.multCons(s,Math.sqrt(Math.abs(e)))}(),X={nodeIndexes:l,xCoords:g,yCoords:u}):(l.forEach(function(t,i){g.push(e.getElementById(i).position("x")),u.push(e.getElementById(i).position("y"))}),X={nodeIndexes:l,xCoords:g,yCoords:u}),X}var V=l.keys(),W=e.getElementById(V.next().value),j=W.position(),q=W.outerWidth();if(g.push(j.x),u.push(j.y),2==E){var $=e.getElementById(V.next().value).outerWidth();g.push(j.x+q/2+$/2+t.idealEdgeLength),u.push(j.y)}return X={nodeIndexes:l,xCoords:g,yCoords:u}}}},579:(t,e,i)=>{var n=i(212),r=function(t){t&&t("layout","fcose",n)};"undefined"!=typeof cytoscape&&r(cytoscape),t.exports=r},140:t=>{t.exports=b}},G={},function t(e){var i=G[e];if(void 0!==i)return i.exports;var n=G[e]={exports:{}};return F[e](n,n.exports,t),n.exports}(579))));var P={L:"left",R:"right",T:"top",B:"bottom"},U={L:e(t=>`${t},${t/2} 0,${t} 0,0`,"L"),R:e(t=>`0,${t/2} ${t},0 ${t},${t}`,"R"),T:e(t=>`0,0 ${t},0 ${t/2},${t}`,"T"),B:e(t=>`${t/2},0 ${t},${t} 0,${t}`,"B")},Y={L:e((t,e)=>t-e+2,"L"),R:e((t,e)=>t-2,"R"),T:e((t,e)=>t-e+2,"T"),B:e((t,e)=>t-2,"B")},k=e(function(t){return X(t)?"L"===t?"R":"L":"T"===t?"B":"T"},"getOppositeArchitectureDirection"),H=e(function(t){return"L"===t||"R"===t||"T"===t||"B"===t},"isArchitectureDirection"),X=e(function(t){return"L"===t||"R"===t},"isArchitectureDirectionX"),z=e(function(t){return"T"===t||"B"===t},"isArchitectureDirectionY"),B=e(function(t,e){const i=X(t)&&z(e),n=z(t)&&X(e);return i||n},"isArchitectureDirectionXY"),V=e(function(t){const e=t[0],i=t[1],n=X(e)&&z(i),r=z(e)&&X(i);return n||r},"isArchitecturePairXY"),W=e(function(t){return"LL"!==t&&"RR"!==t&&"TT"!==t&&"BB"!==t},"isValidArchitectureDirectionPair"),j=e(function(t,e){const i=`${t}${e}`;return W(i)?i:void 0},"getArchitectureDirectionPair"),q=e(function([t,e],i){const n=i[0],r=i[1];return X(n)?z(r)?[t+("L"===n?-1:1),e+("T"===r?1:-1)]:[t+("L"===n?-1:1),e]:X(r)?[t+("L"===r?1:-1),e+("T"===n?1:-1)]:[t,e+("T"===n?1:-1)]},"shiftPositionByArchitectureDirectionPair"),$=e(function(t){return"LT"===t||"TL"===t?[1,1]:"BL"===t||"LB"===t?[1,-1]:"BR"===t||"RB"===t?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),Z=e(function(t,e){return B(t,e)?"bend":X(t)?"horizontal":"vertical"},"getArchitectureDirectionAlignment"),Q=e(function(t){return"service"===t.type},"isArchitectureService"),J=e(function(t){return"junction"===t.type},"isArchitectureJunction"),K=e(t=>t.data(),"edgeData"),tt=e(t=>t.data(),"nodeData"),et=f.architecture,it=class{constructor(){this.nodes={},this.groups={},this.edges=[],this.registeredIds={},this.elements={},this.setAccTitle=o,this.getAccTitle=s,this.setDiagramTitle=a,this.getDiagramTitle=h,this.getAccDescription=l,this.setAccDescription=d,this.clear()}static{e(this,"ArchitectureDB")}clear(){this.nodes={},this.groups={},this.edges=[],this.registeredIds={},this.dataStructures=void 0,this.elements={},c()}addService({id:t,icon:e,in:i,title:n,iconText:r}){if(void 0!==this.registeredIds[t])throw new Error(`The service id [${t}] is already in use by another ${this.registeredIds[t]}`);if(void 0!==i){if(t===i)throw new Error(`The service [${t}] cannot be placed within itself`);if(void 0===this.registeredIds[i])throw new Error(`The service [${t}]'s parent does not exist. Please make sure the parent is created before this service`);if("node"===this.registeredIds[i])throw new Error(`The service [${t}]'s parent is not a group`)}this.registeredIds[t]="node",this.nodes[t]={id:t,type:"service",icon:e,iconText:r,title:n,edges:[],in:i}}getServices(){return Object.values(this.nodes).filter(Q)}addJunction({id:t,in:e}){this.registeredIds[t]="node",this.nodes[t]={id:t,type:"junction",edges:[],in:e}}getJunctions(){return Object.values(this.nodes).filter(J)}getNodes(){return Object.values(this.nodes)}getNode(t){return this.nodes[t]??null}addGroup({id:t,icon:e,in:i,title:n}){if(void 0!==this.registeredIds?.[t])throw new Error(`The group id [${t}] is already in use by another ${this.registeredIds[t]}`);if(void 0!==i){if(t===i)throw new Error(`The group [${t}] cannot be placed within itself`);if(void 0===this.registeredIds?.[i])throw new Error(`The group [${t}]'s parent does not exist. Please make sure the parent is created before this group`);if("node"===this.registeredIds?.[i])throw new Error(`The group [${t}]'s parent is not a group`)}this.registeredIds[t]="group",this.groups[t]={id:t,icon:e,title:n,in:i}}getGroups(){return Object.values(this.groups)}addEdge({lhsId:t,rhsId:e,lhsDir:i,rhsDir:n,lhsInto:r,rhsInto:o,lhsGroup:s,rhsGroup:a,title:h}){if(!H(i))throw new Error(`Invalid direction given for left hand side of edge ${t}--${e}. Expected (L,R,T,B) got ${String(i)}`);if(!H(n))throw new Error(`Invalid direction given for right hand side of edge ${t}--${e}. Expected (L,R,T,B) got ${String(n)}`);if(void 0===this.nodes[t]&&void 0===this.groups[t])throw new Error(`The left-hand id [${t}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(void 0===this.nodes[e]&&void 0===this.groups[e])throw new Error(`The right-hand id [${e}] does not yet exist. Please create the service/group before declaring an edge to it.`);const l=this.nodes[t].in,d=this.nodes[e].in;if(s&&l&&d&&l==d)throw new Error(`The left-hand id [${t}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(a&&l&&d&&l==d)throw new Error(`The right-hand id [${e}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);const c={lhsId:t,lhsDir:i,lhsInto:r,lhsGroup:s,rhsId:e,rhsDir:n,rhsInto:o,rhsGroup:a,title:h};this.edges.push(c),this.nodes[t]&&this.nodes[e]&&(this.nodes[t].edges.push(this.edges[this.edges.length-1]),this.nodes[e].edges.push(this.edges[this.edges.length-1]))}getEdges(){return this.edges}getDataStructures(){if(void 0===this.dataStructures){const t={},i=Object.entries(this.nodes).reduce((e,[i,n])=>(e[i]=n.edges.reduce((e,n)=>{const r=this.getNode(n.lhsId)?.in,o=this.getNode(n.rhsId)?.in;if(r&&o&&r!==o){const e=Z(n.lhsDir,n.rhsDir);"bend"!==e&&(t[r]??={},t[r][o]=e,t[o]??={},t[o][r]=e)}if(n.lhsId===i){const t=j(n.lhsDir,n.rhsDir);t&&(e[t]=n.rhsId)}else{const t=j(n.rhsDir,n.lhsDir);t&&(e[t]=n.lhsId)}return e},{}),e),{}),n=Object.keys(i)[0],r={[n]:1},o=Object.keys(i).reduce((t,e)=>e===n?t:{...t,[e]:1},{}),s=e(t=>{const e={[t]:[0,0]},n=[t];for(;n.length>0;){const t=n.shift();if(t){r[t]=1,delete o[t];const s=i[t],[a,h]=e[t];Object.entries(s).forEach(([t,i])=>{r[i]||(e[i]=q([a,h],t),n.push(i))})}}return e},"BFS"),a=[s(n)];for(;Object.keys(o).length>0;)a.push(s(Object.keys(o)[0]));this.dataStructures={adjList:i,spatialMaps:a,groupAlignments:t}}return this.dataStructures}setElementForId(t,e){this.elements[t]=e}getElementById(t){return this.elements[t]}getConfig(){return g({...et,...u().architecture})}getConfigField(t){return this.getConfig()[t]}},nt=e((t,e)=>{A(t,e),t.groups.map(t=>e.addGroup(t)),t.services.map(t=>e.addService({...t,type:"service"})),t.junctions.map(t=>e.addJunction({...t,type:"junction"})),t.edges.map(t=>e.addEdge(t))},"populateDb"),rt={parser:{yy:void 0},parse:e(async t=>{const e=await w("architecture",t);r.debug(e);const i=rt.parser?.yy;if(!(i instanceof it))throw new Error("parser.parser?.yy was not a ArchitectureDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");nt(e,i)},"parse")},ot=e(t=>`\n  .edge {\n    stroke-width: ${t.archEdgeWidth};\n    stroke: ${t.archEdgeColor};\n    fill: none;\n  }\n\n  .arrow {\n    fill: ${t.archEdgeArrowColor};\n  }\n\n  .node-bkg {\n    fill: none;\n    stroke: ${t.archGroupBorderColor};\n    stroke-width: ${t.archGroupBorderWidth};\n    stroke-dasharray: 8;\n  }\n  .node-icon-text {\n    display: flex; \n    align-items: center;\n  }\n  \n  .node-icon-text > div {\n    color: #fff;\n    margin: 1px;\n    height: fit-content;\n    text-align: center;\n    overflow: hidden;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n  }\n`,"getStyles"),st=e(t=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${t}</g>`,"wrapIcon"),at={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:st('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:st('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:st('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:st('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:st('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:T,blank:{body:st("")}}},ht=e(async function(t,e,i){const n=i.getConfigField("padding"),r=i.getConfigField("iconSize"),o=r/2,s=r/6,a=s/2;await Promise.all(e.edges().map(async e=>{const{source:r,sourceDir:h,sourceArrow:l,sourceGroup:d,target:c,targetDir:g,targetArrow:u,targetGroup:f,label:m}=K(e);let{x:v,y:E}=e[0].sourceEndpoint();const{x:N,y:T}=e[0].midpoint();let{x:A,y:w}=e[0].targetEndpoint();const L=n+4;if(d&&(X(h)?v+="L"===h?-L:L:E+="T"===h?-L:L+18),f&&(X(g)?A+="L"===g?-L:L:w+="T"===g?-L:L+18),d||"junction"!==i.getNode(r)?.type||(X(h)?v+="L"===h?o:-o:E+="T"===h?o:-o),f||"junction"!==i.getNode(c)?.type||(X(g)?A+="L"===g?o:-o:w+="T"===g?o:-o),e[0]._private.rscratch){const e=t.insert("g");if(e.insert("path").attr("d",`M ${v},${E} L ${N},${T} L${A},${w} `).attr("class","edge"),l){const t=X(h)?Y[h](v,s):v-a,i=z(h)?Y[h](E,s):E-a;e.insert("polygon").attr("points",U[h](s)).attr("transform",`translate(${t},${i})`).attr("class","arrow")}if(u){const t=X(g)?Y[g](A,s):A-a,i=z(g)?Y[g](w,s):w-a;e.insert("polygon").attr("points",U[g](s)).attr("transform",`translate(${t},${i})`).attr("class","arrow")}if(m){const t=B(h,g)?"XY":X(h)?"X":"Y";let i=0;i="X"===t?Math.abs(v-A):"Y"===t?Math.abs(E-w)/1.5:Math.abs(v-A)/2;const n=e.append("g");if(await y(n,m,{useHtmlLabels:!1,width:i,classes:"architecture-service-label"},p()),n.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),"X"===t)n.attr("transform","translate("+N+", "+T+")");else if("Y"===t)n.attr("transform","translate("+N+", "+T+") rotate(-90)");else if("XY"===t){const t=j(h,g);if(t&&V(t)){const e=n.node().getBoundingClientRect(),[i,r]=$(t);n.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*i*r*45})`);const o=n.node().getBoundingClientRect();n.attr("transform",`\n                translate(${N}, ${T-e.height/2})\n                translate(${i*o.width/2}, ${r*o.height/2})\n                rotate(${-1*i*r*45}, 0, ${e.height/2})\n              `)}}}}}))},"drawEdges"),lt=e(async function(t,e,i){const n=.75*i.getConfigField("padding"),r=i.getConfigField("fontSize"),o=i.getConfigField("iconSize")/2;await Promise.all(e.nodes().map(async e=>{const i=tt(e);if("group"===i.type){const{h:s,w:a,x1:h,y1:l}=e.boundingBox();t.append("rect").attr("x",h+o).attr("y",l+o).attr("width",a).attr("height",s).attr("class","node-bkg");const d=t.append("g");let c=h,g=l;if(i.icon){const t=d.append("g");t.html(`<g>${await m(i.icon,{height:n,width:n,fallbackPrefix:at.prefix})}</g>`),t.attr("transform","translate("+(c+o+1)+", "+(g+o+1)+")"),c+=n,g+=r/2-1-2}if(i.label){const t=d.append("g");await y(t,i.label,{useHtmlLabels:!1,width:a,classes:"architecture-service-label"},p()),t.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),t.attr("transform","translate("+(c+o+4)+", "+(g+o+2)+")")}}}))},"drawGroups"),dt=e(async function(t,e,i){const n=p();for(const r of i){const i=e.append("g"),o=t.getConfigField("iconSize");if(r.title){const t=i.append("g");await y(t,r.title,{useHtmlLabels:!1,width:1.5*o,classes:"architecture-service-label"},n),t.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),t.attr("transform","translate("+o/2+", "+o+")")}const s=i.append("g");if(r.icon)s.html(`<g>${await m(r.icon,{height:o,width:o,fallbackPrefix:at.prefix})}</g>`);else if(r.iconText){s.html(`<g>${await m("blank",{height:o,width:o,fallbackPrefix:at.prefix})}</g>`);const t=s.append("g").append("foreignObject").attr("width",o).attr("height",o).append("div").attr("class","node-icon-text").attr("style",`height: ${o}px;`).append("div").html(v(r.iconText,n)),e=parseInt(window.getComputedStyle(t.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;t.attr("style",`-webkit-line-clamp: ${Math.floor((o-2)/e)};`)}else s.append("path").attr("class","node-bkg").attr("id","node-"+r.id).attr("d",`M0 ${o} v${-o} q0,-5 5,-5 h${o} q5,0 5,5 v${o} H0 Z`);i.attr("class","architecture-service");const{width:a,height:h}=i._groups[0][0].getBBox();r.width=a,r.height=h,t.setElementForId(r.id,i)}return 0},"drawServices"),ct=e(function(t,e,i){i.forEach(i=>{const n=e.append("g"),r=t.getConfigField("iconSize");n.append("g").append("rect").attr("id","node-"+i.id).attr("fill-opacity","0").attr("width",r).attr("height",r),n.attr("class","architecture-junction");const{width:o,height:s}=n._groups[0][0].getBBox();n.width=o,n.height=s,t.setElementForId(i.id,n)})},"drawJunctions");function gt(t,e,i){t.forEach(t=>{e.add({group:"nodes",data:{type:"service",id:t.id,icon:t.icon,label:t.title,parent:t.in,width:i.getConfigField("iconSize"),height:i.getConfigField("iconSize")},classes:"node-service"})})}function ut(t,e,i){t.forEach(t=>{e.add({group:"nodes",data:{type:"junction",id:t.id,parent:t.in,width:i.getConfigField("iconSize"),height:i.getConfigField("iconSize")},classes:"node-junction"})})}function ft(t,e){e.nodes().map(e=>{const i=tt(e);if("group"===i.type)return;i.x=e.position().x,i.y=e.position().y;t.getElementById(i.id).attr("transform","translate("+(i.x||0)+","+(i.y||0)+")")})}function pt(t,e){t.forEach(t=>{e.add({group:"nodes",data:{type:"group",id:t.id,icon:t.icon,label:t.title,parent:t.in},classes:"node-group"})})}function yt(t,e){t.forEach(t=>{const{lhsId:i,rhsId:n,lhsInto:r,lhsGroup:o,rhsInto:s,lhsDir:a,rhsDir:h,rhsGroup:l,title:d}=t,c=B(t.lhsDir,t.rhsDir)?"segments":"straight",g={id:`${i}-${n}`,label:d,source:i,sourceDir:a,sourceArrow:r,sourceGroup:o,sourceEndpoint:"L"===a?"0 50%":"R"===a?"100% 50%":"T"===a?"50% 0":"50% 100%",target:n,targetDir:h,targetArrow:s,targetGroup:l,targetEndpoint:"L"===h?"0 50%":"R"===h?"100% 50%":"T"===h?"50% 0":"50% 100%"};e.add({group:"edges",data:g,classes:c})})}function mt(t,i,n){const r=e((t,e)=>Object.entries(t).reduce((t,[i,r])=>{let o=0;const s=Object.entries(r);if(1===s.length)return t[i]=s[0][1],t;for(let a=0;a<s.length-1;a++)for(let r=a+1;r<s.length;r++){const[h,l]=s[a],[d,c]=s[r],g=n[h]?.[d];if(g===e)t[i]??=[],t[i]=[...t[i],...l,...c];else if("default"===h||"default"===d)t[i]??=[],t[i]=[...t[i],...l,...c];else{t[`${i}-${o++}`]=l;t[`${i}-${o++}`]=c}}return t},{}),"flattenAlignments"),o=i.map(e=>{const i={},n={};return Object.entries(e).forEach(([e,[r,o]])=>{const s=t.getNode(e)?.in??"default";i[o]??={},i[o][s]??=[],i[o][s].push(e),n[r]??={},n[r][s]??=[],n[r][s].push(e)}),{horiz:Object.values(r(i,"horizontal")).filter(t=>t.length>1),vert:Object.values(r(n,"vertical")).filter(t=>t.length>1)}}),[s,a]=o.reduce(([t,e],{horiz:i,vert:n})=>[[...t,...i],[...e,...n]],[[],[]]);return{horizontal:s,vertical:a}}function vt(t,i){const n=[],r=e(t=>`${t[0]},${t[1]}`,"posToStr"),o=e(t=>t.split(",").map(t=>parseInt(t)),"strToPos");return t.forEach(t=>{const e=Object.fromEntries(Object.entries(t).map(([t,e])=>[r(e),t])),s=[r([0,0])],a={},h={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;s.length>0;){const t=s.shift();if(t){a[t]=1;const l=e[t];if(l){const d=o(t);Object.entries(h).forEach(([t,o])=>{const h=r([d[0]+o[0],d[1]+o[1]]),c=e[h];c&&!a[h]&&(s.push(h),n.push({[P[t]]:c,[P[k(t)]]:l,gap:1.5*i.getConfigField("iconSize")}))})}}}}),n}function Et(t,i,n,o,s,{spatialMaps:a,groupAlignments:h}){return new Promise(l=>{const d=E("body").append("div").attr("id","cy").attr("style","display:none"),c=L({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${s.getConfigField("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${s.getConfigField("padding")}px`}}],layout:{name:"grid",boundingBox:{x1:0,x2:100,y1:0,y2:100}}});d.remove(),pt(n,c),gt(t,c,s),ut(i,c,s),yt(o,c);const g=mt(s,a,h),u=vt(a,s),f=c.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(t){const[e,i]=t.connectedNodes(),{parent:n}=tt(e),{parent:r}=tt(i);return n===r?1.5*s.getConfigField("iconSize"):.5*s.getConfigField("iconSize")},edgeElasticity(t){const[e,i]=t.connectedNodes(),{parent:n}=tt(e),{parent:r}=tt(i);return n===r?.45:.001},alignmentConstraint:g,relativePlacementConstraint:u});f.one("layoutstop",()=>{function t(t,e,i,n){let r,o;const{x:s,y:a}=t,{x:h,y:l}=e;o=(n-a+(s-i)*(a-l)/(s-h))/Math.sqrt(1+Math.pow((a-l)/(s-h),2)),r=Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2)-Math.pow(o,2));r/=Math.sqrt(Math.pow(h-s,2)+Math.pow(l-a,2));let d=(h-s)*(n-a)-(l-a)*(i-s);switch(!0){case d>=0:d=1;break;case d<0:d=-1}let c=(h-s)*(i-s)+(l-a)*(n-a);switch(!0){case c>=0:c=1;break;case c<0:c=-1}return o=Math.abs(o)*d,r*=c,{distances:o,weights:r}}e(t,"getSegmentWeights"),c.startBatch();for(const e of Object.values(c.edges()))if(e.data?.()){const{x:i,y:n}=e.source().position(),{x:r,y:o}=e.target().position();if(i!==r&&n!==o){const i=e.sourceEndpoint(),n=e.targetEndpoint(),{sourceDir:r}=K(e),[o,s]=z(r)?[i.x,n.y]:[n.x,i.y],{weights:a,distances:h}=t(i,n,o,s);e.style("segment-distances",h),e.style("segment-weights",a)}}c.endBatch(),f.run()}),f.run(),c.ready(t=>{r.info("Ready",t),l(c)})})}N([{name:at.prefix,icons:at}]),L.use(S),e(gt,"addServices"),e(ut,"addJunctions"),e(ft,"positionNodes"),e(pt,"addGroups"),e(yt,"addEdges"),e(mt,"getAlignments"),e(vt,"getRelativeConstraints"),e(Et,"layoutArchitecture");var Nt={draw:e(async(t,e,r,o)=>{const s=o.db,a=s.getServices(),h=s.getJunctions(),l=s.getGroups(),d=s.getEdges(),c=s.getDataStructures(),g=i(e),u=g.append("g");u.attr("class","architecture-edges");const f=g.append("g");f.attr("class","architecture-services");const p=g.append("g");p.attr("class","architecture-groups"),await dt(s,f,a),ct(s,f,h);const y=await Et(a,h,l,d,s,c);await ht(u,y,s),await lt(p,y,s),ft(s,y),n(void 0,g,s.getConfigField("padding"),s.getConfigField("useMaxWidth"))},"draw")},Tt={parser:rt,get db(){return new it},renderer:Nt,styles:ot};export{Tt as diagram};

import{_ as t,p as n,q as e,s as i,g as s,b as r,a as o,c as a,z as c,d as l,V as h,y as u,k as f}from"./index.js";import{o as y}from"./ordinal.js";import"./init.js";const d=function(t){for(var n=t.length/6|0,e=new Array(n),i=0;i<n;)e[i]="#"+t.slice(6*i,6*++i);return e}("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function p(t,n){let e;if(void 0===n)for(const i of t)null!=i&&(e<i||void 0===e&&i>=i)&&(e=i);else{let i=-1;for(let s of t)null!=(s=n(s,++i,t))&&(e<s||void 0===e&&s>=s)&&(e=s)}return e}function g(t,n){let e;if(void 0===n)for(const i of t)null!=i&&(e>i||void 0===e&&i>=i)&&(e=i);else{let i=-1;for(let s of t)null!=(s=n(s,++i,t))&&(e>s||void 0===e&&s>=s)&&(e=s)}return e}function _(t,n){let e=0;if(void 0===n)for(let i of t)(i=+i)&&(e+=i);else{let i=-1;for(let s of t)(s=+n(s,++i,t))&&(e+=s)}return e}function x(t){return t.target.depth}function k(t,n){return t.sourceLinks.length?t.depth:n-1}function m(t){return function(){return t}}function v(t,n){return w(t.source,n.source)||t.index-n.index}function b(t,n){return w(t.target,n.target)||t.index-n.index}function w(t,n){return t.y0-n.y0}function S(t){return t.value}function E(t){return t.index}function L(t){return t.nodes}function A(t){return t.links}function M(t,n){const e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function I({nodes:t}){for(const n of t){let t=n.y0,e=t;for(const i of n.sourceLinks)i.y0=t+i.width/2,t+=i.width;for(const i of n.targetLinks)i.y1=e+i.width/2,e+=i.width}}function T(){let t,n,e,i=0,s=0,r=1,o=1,a=24,c=8,l=E,h=k,u=L,f=A,y=6;function d(){const d={nodes:u.apply(null,arguments),links:f.apply(null,arguments)};return function({nodes:t,links:n}){for(const[e,s]of t.entries())s.index=e,s.sourceLinks=[],s.targetLinks=[];const i=new Map(t.map((n,e)=>[l(n,e,t),n]));for(const[e,s]of n.entries()){s.index=e;let{source:t,target:n}=s;"object"!=typeof t&&(t=s.source=M(i,t)),"object"!=typeof n&&(n=s.target=M(i,n)),t.sourceLinks.push(s),n.targetLinks.push(s)}if(null!=e)for(const{sourceLinks:s,targetLinks:r}of t)s.sort(e),r.sort(e)}(d),function({nodes:t}){for(const n of t)n.value=void 0===n.fixedValue?Math.max(_(n.sourceLinks,S),_(n.targetLinks,S)):n.fixedValue}(d),function({nodes:t}){const n=t.length;let e=new Set(t),i=new Set,s=0;for(;e.size;){for(const t of e){t.depth=s;for(const{target:n}of t.sourceLinks)i.add(n)}if(++s>n)throw new Error("circular link");e=i,i=new Set}}(d),function({nodes:t}){const n=t.length;let e=new Set(t),i=new Set,s=0;for(;e.size;){for(const t of e){t.height=s;for(const{source:n}of t.targetLinks)i.add(n)}if(++s>n)throw new Error("circular link");e=i,i=new Set}}(d),function(e){const l=function({nodes:t}){const e=p(t,t=>t.depth)+1,s=(r-i-a)/(e-1),o=new Array(e);for(const n of t){const t=Math.max(0,Math.min(e-1,Math.floor(h.call(null,n,e))));n.layer=t,n.x0=i+t*s,n.x1=n.x0+a,o[t]?o[t].push(n):o[t]=[n]}if(n)for(const i of o)i.sort(n);return o}(e);t=Math.min(c,(o-s)/(p(l,t=>t.length)-1)),function(n){const e=g(n,n=>(o-s-(n.length-1)*t)/_(n,S));for(const i of n){let n=s;for(const s of i){s.y0=n,s.y1=n+s.value*e,n=s.y1+t;for(const t of s.sourceLinks)t.width=t.value*e}n=(o-n+t)/(i.length+1);for(let t=0;t<i.length;++t){const e=i[t];e.y0+=n*(t+1),e.y1+=n*(t+1)}D(i)}}(l);for(let t=0;t<y;++t){const n=Math.pow(.99,t),e=Math.max(1-n,(t+1)/y);T(l,n,e),x(l,n,e)}}(d),I(d),d}function x(t,e,i){for(let s=1,r=t.length;s<r;++s){const r=t[s];for(const t of r){let n=0,i=0;for(const{source:e,value:r}of t.targetLinks){let s=r*(t.layer-e.layer);n+=$(e,t)*s,i+=s}if(!(i>0))continue;let s=(n/i-t.y0)*e;t.y0+=s,t.y1+=s,C(t)}void 0===n&&r.sort(w),P(r,i)}}function T(t,e,i){for(let s=t.length-2;s>=0;--s){const r=t[s];for(const t of r){let n=0,i=0;for(const{target:e,value:r}of t.sourceLinks){let s=r*(e.layer-t.layer);n+=j(t,e)*s,i+=s}if(!(i>0))continue;let s=(n/i-t.y0)*e;t.y0+=s,t.y1+=s,C(t)}void 0===n&&r.sort(w),P(r,i)}}function P(n,e){const i=n.length>>1,r=n[i];O(n,r.y0-t,i-1,e),N(n,r.y1+t,i+1,e),O(n,o,n.length-1,e),N(n,s,0,e)}function N(n,e,i,s){for(;i<n.length;++i){const r=n[i],o=(e-r.y0)*s;o>1e-6&&(r.y0+=o,r.y1+=o),e=r.y1+t}}function O(n,e,i,s){for(;i>=0;--i){const r=n[i],o=(r.y1-e)*s;o>1e-6&&(r.y0-=o,r.y1-=o),e=r.y0-t}}function C({sourceLinks:t,targetLinks:n}){if(void 0===e){for(const{source:{sourceLinks:t}}of n)t.sort(b);for(const{target:{targetLinks:n}}of t)n.sort(v)}}function D(t){if(void 0===e)for(const{sourceLinks:n,targetLinks:e}of t)n.sort(b),e.sort(v)}function $(n,e){let i=n.y0-(n.sourceLinks.length-1)*t/2;for(const{target:s,width:r}of n.sourceLinks){if(s===e)break;i+=r+t}for(const{source:t,width:s}of e.targetLinks){if(t===n)break;i-=s}return i}function j(n,e){let i=e.y0-(e.targetLinks.length-1)*t/2;for(const{source:s,width:r}of e.targetLinks){if(s===n)break;i+=r+t}for(const{target:t,width:s}of n.sourceLinks){if(t===e)break;i-=s}return i}return d.update=function(t){return I(t),t},d.nodeId=function(t){return arguments.length?(l="function"==typeof t?t:m(t),d):l},d.nodeAlign=function(t){return arguments.length?(h="function"==typeof t?t:m(t),d):h},d.nodeSort=function(t){return arguments.length?(n=t,d):n},d.nodeWidth=function(t){return arguments.length?(a=+t,d):a},d.nodePadding=function(n){return arguments.length?(c=t=+n,d):c},d.nodes=function(t){return arguments.length?(u="function"==typeof t?t:m(t),d):u},d.links=function(t){return arguments.length?(f="function"==typeof t?t:m(t),d):f},d.linkSort=function(t){return arguments.length?(e=t,d):e},d.size=function(t){return arguments.length?(i=s=0,r=+t[0],o=+t[1],d):[r-i,o-s]},d.extent=function(t){return arguments.length?(i=+t[0][0],r=+t[1][0],s=+t[0][1],o=+t[1][1],d):[[i,s],[r,o]]},d.iterations=function(t){return arguments.length?(y=+t,d):y},d}var P=Math.PI,N=2*P,O=1e-6,C=N-O;function D(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function $(){return new D}function j(t){return function(){return t}}function z(t){return t[0]}function F(t){return t[1]}D.prototype=$.prototype={constructor:D,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,i){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+i)},bezierCurveTo:function(t,n,e,i,s,r){this._+="C"+ +t+","+ +n+","+ +e+","+ +i+","+(this._x1=+s)+","+(this._y1=+r)},arcTo:function(t,n,e,i,s){t=+t,n=+n,e=+e,i=+i,s=+s;var r=this._x1,o=this._y1,a=e-t,c=i-n,l=r-t,h=o-n,u=l*l+h*h;if(s<0)throw new Error("negative radius: "+s);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(u>O)if(Math.abs(h*a-c*l)>O&&s){var f=e-r,y=i-o,d=a*a+c*c,p=f*f+y*y,g=Math.sqrt(d),_=Math.sqrt(u),x=s*Math.tan((P-Math.acos((d+u-p)/(2*g*_)))/2),k=x/_,m=x/g;Math.abs(k-1)>O&&(this._+="L"+(t+k*l)+","+(n+k*h)),this._+="A"+s+","+s+",0,0,"+ +(h*f>l*y)+","+(this._x1=t+m*a)+","+(this._y1=n+m*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,i,s,r){t=+t,n=+n,r=!!r;var o=(e=+e)*Math.cos(i),a=e*Math.sin(i),c=t+o,l=n+a,h=1^r,u=r?i-s:s-i;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>O||Math.abs(this._y1-l)>O)&&(this._+="L"+c+","+l),e&&(u<0&&(u=u%N+N),u>C?this._+="A"+e+","+e+",0,1,"+h+","+(t-o)+","+(n-a)+"A"+e+","+e+",0,1,"+h+","+(this._x1=c)+","+(this._y1=l):u>O&&(this._+="A"+e+","+e+",0,"+ +(u>=P)+","+h+","+(this._x1=t+e*Math.cos(s))+","+(this._y1=n+e*Math.sin(s))))},rect:function(t,n,e,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +i+"h"+-e+"Z"},toString:function(){return this._}};var U=Array.prototype.slice;function W(t){return t.source}function G(t){return t.target}function V(t,n,e,i,s){t.moveTo(n,e),t.bezierCurveTo(n=(n+i)/2,e,n,s,i,s)}function q(){return function(t){var n=W,e=G,i=z,s=F,r=null;function o(){var o,a=U.call(arguments),c=n.apply(this,a),l=e.apply(this,a);if(r||(r=o=$()),t(r,+i.apply(this,(a[0]=c,a)),+s.apply(this,a),+i.apply(this,(a[0]=l,a)),+s.apply(this,a)),o)return r=null,o+""||null}return o.source=function(t){return arguments.length?(n=t,o):n},o.target=function(t){return arguments.length?(e=t,o):e},o.x=function(t){return arguments.length?(i="function"==typeof t?t:j(+t),o):i},o.y=function(t){return arguments.length?(s="function"==typeof t?t:j(+t),o):s},o.context=function(t){return arguments.length?(r=null==t?null:t,o):r},o}(V)}function X(t){return[t.source.x1,t.y0]}function Q(t){return[t.target.x0,t.y1]}var R=function(){var n=t(function(t,n,e,i){for(e=e||{},i=t.length;i--;e[t[i]]=n);return e},"o"),e=[1,9],i=[1,10],s=[1,5,10,12],r={trace:t(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:t(function(t,n,e,i,s,r,o){var a=r.length-1;switch(s){case 7:const t=i.findOrCreateNode(r[a-4].trim().replaceAll('""','"')),n=i.findOrCreateNode(r[a-2].trim().replaceAll('""','"')),e=parseFloat(r[a].trim());i.addLink(t,n,e);break;case 8:case 9:case 11:this.$=r[a];break;case 10:this.$=r[a-1]}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:e,20:i},{1:[2,6],7:11,10:[1,12]},n(i,[2,4],{9:13,5:[1,14]}),{12:[1,15]},n(s,[2,8]),n(s,[2,9]),{19:[1,16]},n(s,[2,11]),{1:[2,1]},{1:[2,5]},n(i,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:e,20:i},{15:18,16:7,17:8,18:e,20:i},{18:[1,19]},n(i,[2,3]),{12:[1,20]},n(s,[2,10]),{15:21,16:7,17:8,18:e,20:i},n([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:t(function(t,n){if(!n.recoverable){var e=new Error(t);throw e.hash=n,e}this.trace(t)},"parseError"),parse:t(function(n){var e=this,i=[0],s=[],r=[null],o=[],a=this.table,c="",l=0,h=0,u=o.slice.call(arguments,1),f=Object.create(this.lexer),y={yy:{}};for(var d in this.yy)Object.prototype.hasOwnProperty.call(this.yy,d)&&(y.yy[d]=this.yy[d]);f.setInput(n,y.yy),y.yy.lexer=f,y.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var p=f.yylloc;o.push(p);var g=f.options&&f.options.ranges;function _(){var t;return"number"!=typeof(t=s.pop()||f.lex()||1)&&(t instanceof Array&&(t=(s=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof y.yy.parseError?this.parseError=y.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,t(function(t){i.length=i.length-2*t,r.length=r.length-t,o.length=o.length-t},"popStack"),t(_,"lex");for(var x,k,m,v,b,w,S,E,L={};;){if(k=i[i.length-1],this.defaultActions[k]?m=this.defaultActions[k]:(null==x&&(x=_()),m=a[k]&&a[k][x]),void 0===m||!m.length||!m[0]){var A="";for(b in E=[],a[k])this.terminals_[b]&&b>2&&E.push("'"+this.terminals_[b]+"'");A=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[x]||x)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==x?"end of input":"'"+(this.terminals_[x]||x)+"'"),this.parseError(A,{text:f.match,token:this.terminals_[x]||x,line:f.yylineno,loc:p,expected:E})}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+k+", token: "+x);switch(m[0]){case 1:i.push(x),r.push(f.yytext),o.push(f.yylloc),i.push(m[1]),x=null,h=f.yyleng,c=f.yytext,l=f.yylineno,p=f.yylloc;break;case 2:if(w=this.productions_[m[1]][1],L.$=r[r.length-w],L._$={first_line:o[o.length-(w||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(w||1)].first_column,last_column:o[o.length-1].last_column},g&&(L._$.range=[o[o.length-(w||1)].range[0],o[o.length-1].range[1]]),void 0!==(v=this.performAction.apply(L,[c,h,l,y.yy,m[1],r,o].concat(u))))return v;w&&(i=i.slice(0,-1*w*2),r=r.slice(0,-1*w),o=o.slice(0,-1*w)),i.push(this.productions_[m[1]][0]),r.push(L.$),o.push(L._$),S=a[i[i.length-2]][i[i.length-1]],i.push(S);break;case 3:return!0}}return!0},"parse")},o=function(){return{EOF:1,parseError:t(function(t,n){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,n)},"parseError"),setInput:t(function(t,n){return this.yy=n||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:t(function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},"input"),unput:t(function(t){var n=t.length,e=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),e.length-1&&(this.yylineno-=e.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:e?(e.length===i.length?this.yylloc.first_column:0)+i[i.length-e.length].length-e[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},"unput"),more:t(function(){return this._more=!0,this},"more"),reject:t(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:t(function(t){this.unput(this.match.slice(t))},"less"),pastInput:t(function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:t(function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:t(function(){var t=this.pastInput(),n=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+n+"^"},"showPosition"),test_match:t(function(t,n){var e,i,s;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,n,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e)return e;if(this._backtrack){for(var r in s)this[r]=s[r];return!1}return!1},"test_match"),next:t(function(){if(this.done)return this.EOF;var t,n,e,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),r=0;r<s.length;r++)if((e=this._input.match(this.rules[s[r]]))&&(!n||e[0].length>n[0].length)){if(n=e,i=r,this.options.backtrack_lexer){if(!1!==(t=this.test_match(e,s[r])))return t;if(this._backtrack){n=!1;continue}return!1}if(!this.options.flex)break}return n?!1!==(t=this.test_match(n,s[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:t(function(){var t=this.next();return t||this.lex()},"lex"),begin:t(function(t){this.conditionStack.push(t)},"begin"),popState:t(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:t(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:t(function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},"topState"),pushState:t(function(t){this.begin(t)},"pushState"),stateStackSize:t(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:t(function(t,n,e,i){switch(e){case 0:case 1:return this.pushState("csv"),4;case 2:return 10;case 3:return 5;case 4:return 12;case 5:return this.pushState("escaped_text"),18;case 6:return 20;case 7:return this.popState("escaped_text"),18;case 8:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:sankey\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[2,3,4,5,6,7,8],inclusive:!1},escaped_text:{rules:[7,8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8],inclusive:!0}}}}();function a(){this.yy={}}return r.lexer=o,t(a,"Parser"),a.prototype=r,r.Parser=a,new a}();R.parser=R;var Y=R,B=[],K=[],Z=new Map,H=t(()=>{B=[],K=[],Z=new Map,u()},"clear"),J=class{constructor(t,n,e=0){this.source=t,this.target=n,this.value=e}static{t(this,"SankeyLink")}},tt=t((t,n,e)=>{B.push(new J(t,n,e))},"addLink"),nt=class{constructor(t){this.ID=t}static{t(this,"SankeyNode")}},et=t(t=>{t=f.sanitizeText(t,a());let n=Z.get(t);return void 0===n&&(n=new nt(t),Z.set(t,n),K.push(n)),n},"findOrCreateNode"),it=t(()=>K,"getNodes"),st=t(()=>B,"getLinks"),rt=t(()=>({nodes:K.map(t=>({id:t.ID})),links:B.map(t=>({source:t.source.ID,target:t.target.ID,value:t.value}))}),"getGraph"),ot={nodesMap:Z,getConfig:t(()=>a().sankey,"getConfig"),getNodes:it,getLinks:st,getGraph:rt,addLink:tt,findOrCreateNode:et,getAccTitle:o,setAccTitle:r,getAccDescription:s,setAccDescription:i,getDiagramTitle:e,setDiagramTitle:n,clear:H},at=class n{static{t(this,"Uid")}static{this.count=0}static next(t){return new n(t+ ++n.count)}constructor(t){this.id=t,this.href=`#${t}`}toString(){return"url("+this.href+")"}},ct={left:function(t){return t.depth},right:function(t,n){return n-1-t.height},center:function(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?g(t.sourceLinks,x)-1:0},justify:k},lt=t(function(n,e,i,s){const{securityLevel:r,sankey:o}=a(),u=c.sankey;let f;"sandbox"===r&&(f=l("#i"+e));const p=l("sandbox"===r?f.nodes()[0].contentDocument.body:"body"),g="sandbox"===r?p.select(`[id="${e}"]`):l(`[id="${e}"]`),_=o?.width??u.width,x=o?.height??u.width,k=o?.useMaxWidth??u.useMaxWidth,m=o?.nodeAlignment??u.nodeAlignment,v=o?.prefix??u.prefix,b=o?.suffix??u.suffix,w=o?.showValues??u.showValues,S=s.db.getGraph(),E=ct[m];T().nodeId(t=>t.id).nodeWidth(10).nodePadding(10+(w?15:0)).nodeAlign(E).extent([[0,0],[_,x]])(S);const L=y(d);g.append("g").attr("class","nodes").selectAll(".node").data(S.nodes).join("g").attr("class","node").attr("id",t=>(t.uid=at.next("node-")).id).attr("transform",function(t){return"translate("+t.x0+","+t.y0+")"}).attr("x",t=>t.x0).attr("y",t=>t.y0).append("rect").attr("height",t=>t.y1-t.y0).attr("width",t=>t.x1-t.x0).attr("fill",t=>L(t.id));const A=t(({id:t,value:n})=>w?`${t}\n${v}${Math.round(100*n)/100}${b}`:t,"getText");g.append("g").attr("class","node-labels").attr("font-size",14).selectAll("text").data(S.nodes).join("text").attr("x",t=>t.x0<_/2?t.x1+6:t.x0-6).attr("y",t=>(t.y1+t.y0)/2).attr("dy",(w?"0":"0.35")+"em").attr("text-anchor",t=>t.x0<_/2?"start":"end").text(A);const M=g.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",.5).selectAll(".link").data(S.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),I=o?.linkColor??"gradient";if("gradient"===I){const t=M.append("linearGradient").attr("id",t=>(t.uid=at.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",t=>t.source.x1).attr("x2",t=>t.target.x0);t.append("stop").attr("offset","0%").attr("stop-color",t=>L(t.source.id)),t.append("stop").attr("offset","100%").attr("stop-color",t=>L(t.target.id))}let P;switch(I){case"gradient":P=t(t=>t.uid,"coloring");break;case"source":P=t(t=>L(t.source.id),"coloring");break;case"target":P=t(t=>L(t.target.id),"coloring");break;default:P=I}M.append("path").attr("d",q().source(X).target(Q)).attr("stroke",P).attr("stroke-width",t=>Math.max(1,t.width)),h(void 0,g,0,k)},"draw"),ht={draw:lt},ut=t(t=>t.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,"\n").trim(),"prepareTextForParsing"),ft=t(t=>`.label {\n      font-family: ${t.fontFamily};\n    }`,"getStyles"),yt=Y.parse.bind(Y);Y.parse=t=>yt(ut(t));var dt={styles:ft,parser:Y,db:ot,renderer:ht};export{dt as diagram};

import{s as e}from"./chunk-NRVI72HA.js";import{_ as t,D as a,E as n,H as r,e as l,l as s,aZ as o,d as i,b as c,a as d,p,q as h,g as u,s as f,F as m,a_ as y,y as g}from"./index.js";import{p as x}from"./chunk-ANTBXLJU.js";import{p as S}from"./treemap-75Q7IDZK.js";import{b as v}from"./defaultLocale.js";import{o as b}from"./ordinal.js";import"./_baseUniq.js";import"./_basePickBy.js";import"./clone.js";import"./init.js";function C(e){var t=0,a=e.children,n=a&&a.length;if(n)for(;--n>=0;)t+=a[n].value;else t=1;e.value=t}function w(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=L)):void 0===t&&(t=$);for(var a,n,r,l,s,o=new T(e),i=[o];a=i.pop();)if((r=t(a.data))&&(s=(r=Array.from(r)).length))for(a.children=r,l=s-1;l>=0;--l)i.push(n=r[l]=new T(r[l])),n.parent=a,n.depth=a.depth+1;return o.eachBefore(M)}function $(e){return e.children}function L(e){return Array.isArray(e)?e[1]:null}function k(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function M(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function T(e){this.data=e,this.depth=this.height=0,this.parent=null}function z(){return 0}function F(e){return function(){return e}}function A(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function N(e,t,a,n,r){for(var l,s=e.children,o=-1,i=s.length,c=e.value&&(n-t)/e.value;++o<i;)(l=s[o]).y0=a,l.y1=r,l.x0=t,l.x1=t+=l.value*c}function P(e,t,a,n,r){for(var l,s=e.children,o=-1,i=s.length,c=e.value&&(r-a)/e.value;++o<i;)(l=s[o]).x0=t,l.x1=n,l.y0=a,l.y1=a+=l.value*c}T.prototype=w.prototype={constructor:T,count:function(){return this.eachAfter(C)},each:function(e,t){let a=-1;for(const n of this)e.call(t,n,++a,this);return this},eachAfter:function(e,t){for(var a,n,r,l=this,s=[l],o=[],i=-1;l=s.pop();)if(o.push(l),a=l.children)for(n=0,r=a.length;n<r;++n)s.push(a[n]);for(;l=o.pop();)e.call(t,l,++i,this);return this},eachBefore:function(e,t){for(var a,n,r=this,l=[r],s=-1;r=l.pop();)if(e.call(t,r,++s,this),a=r.children)for(n=a.length-1;n>=0;--n)l.push(a[n]);return this},find:function(e,t){let a=-1;for(const n of this)if(e.call(t,n,++a,this))return n},sum:function(e){return this.eachAfter(function(t){for(var a=+e(t.data)||0,n=t.children,r=n&&n.length;--r>=0;)a+=n[r].value;t.value=a})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(e){for(var t=this,a=function(e,t){if(e===t)return e;var a=e.ancestors(),n=t.ancestors(),r=null;e=a.pop(),t=n.pop();for(;e===t;)r=e,e=a.pop(),t=n.pop();return r}(t,e),n=[t];t!==a;)t=t.parent,n.push(t);for(var r=n.length;e!==a;)n.splice(r,0,e),e=e.parent;return n},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,t=[];return e.each(function(a){a!==e&&t.push({source:a.parent,target:a})}),t},copy:function(){return w(this).eachBefore(k)},[Symbol.iterator]:function*(){var e,t,a,n,r=this,l=[r];do{for(e=l.reverse(),l=[];r=e.pop();)if(yield r,t=r.children)for(a=0,n=t.length;a<n;++a)l.push(t[a])}while(l.length)}};const B=function e(t){function a(e,a,n,r,l){!function(e,t,a,n,r,l){for(var s,o,i,c,d,p,h,u,f,m,y,g=[],x=t.children,S=0,v=0,b=x.length,C=t.value;S<b;){i=r-a,c=l-n;do{d=x[v++].value}while(!d&&v<b);for(p=h=d,y=d*d*(m=Math.max(c/i,i/c)/(C*e)),f=Math.max(h/y,y/p);v<b;++v){if(d+=o=x[v].value,o<p&&(p=o),o>h&&(h=o),y=d*d*m,(u=Math.max(h/y,y/p))>f){d-=o;break}f=u}g.push(s={value:d,dice:i<c,children:x.slice(S,v)}),s.dice?N(s,a,n,r,C?n+=c*d/C:l):P(s,a,n,C?a+=i*d/C:r,l),C-=d,S=v}}(t,e,a,n,r,l)}return a.ratio=function(t){return e((t=+t)>1?t:1)},a}((1+Math.sqrt(5))/2);function j(){var e=B,t=!1,a=1,n=1,r=[0],l=z,s=z,o=z,i=z,c=z;function d(e){return e.x0=e.y0=0,e.x1=a,e.y1=n,e.eachBefore(p),r=[0],t&&e.eachBefore(A),e}function p(t){var a=r[t.depth],n=t.x0+a,d=t.y0+a,p=t.x1-a,h=t.y1-a;p<n&&(n=p=(n+p)/2),h<d&&(d=h=(d+h)/2),t.x0=n,t.y0=d,t.x1=p,t.y1=h,t.children&&(a=r[t.depth+1]=l(t)/2,n+=c(t)-a,d+=s(t)-a,(p-=o(t)-a)<n&&(n=p=(n+p)/2),(h-=i(t)-a)<d&&(d=h=(d+h)/2),e(t,n,d,p,h))}return d.round=function(e){return arguments.length?(t=!!e,d):t},d.size=function(e){return arguments.length?(a=+e[0],n=+e[1],d):[a,n]},d.tile=function(t){return arguments.length?(e=function(e){if("function"!=typeof e)throw new Error;return e}(t),d):e},d.padding=function(e){return arguments.length?d.paddingInner(e).paddingOuter(e):d.paddingInner()},d.paddingInner=function(e){return arguments.length?(l="function"==typeof e?e:F(+e),d):l},d.paddingOuter=function(e){return arguments.length?d.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):d.paddingTop()},d.paddingTop=function(e){return arguments.length?(s="function"==typeof e?e:F(+e),d):s},d.paddingRight=function(e){return arguments.length?(o="function"==typeof e?e:F(+e),d):o},d.paddingBottom=function(e){return arguments.length?(i="function"==typeof e?e:F(+e),d):i},d.paddingLeft=function(e){return arguments.length?(c="function"==typeof e?e:F(+e),d):c},d}var D=class{constructor(){this.nodes=[],this.levels=new Map,this.outerNodes=[],this.classes=new Map,this.setAccTitle=c,this.getAccTitle=d,this.setDiagramTitle=p,this.getDiagramTitle=h,this.getAccDescription=u,this.setAccDescription=f}static{t(this,"TreeMapDB")}getNodes(){return this.nodes}getConfig(){const e=m,t=n();return a({...e.treemap,...t.treemap??{}})}addNode(e,t){this.nodes.push(e),this.levels.set(e,t),0===t&&(this.outerNodes.push(e),this.root??=e)}getRoot(){return{name:"",children:this.outerNodes}}addClass(e,t){const a=this.classes.get(e)??{id:e,styles:[],textStyles:[]},n=t.replace(/\\,/g,"§§§").replace(/,/g,";").replace(/§§§/g,",").split(";");n&&n.forEach(e=>{y(e)&&(a?.textStyles?a.textStyles.push(e):a.textStyles=[e]),a?.styles?a.styles.push(e):a.styles=[e]}),this.classes.set(e,a)}getClasses(){return this.classes}getStylesForClass(e){return this.classes.get(e)?.styles??[]}clear(){g(),this.nodes=[],this.levels=new Map,this.outerNodes=[],this.classes=new Map,this.root=void 0}};function W(e){if(!e.length)return[];const t=[],a=[];return e.forEach(e=>{const n={name:e.name,children:"Leaf"===e.type?void 0:[]};for(n.classSelector=e?.classSelector,e?.cssCompiledStyles&&(n.cssCompiledStyles=[e.cssCompiledStyles]),"Leaf"===e.type&&void 0!==e.value&&(n.value=e.value);a.length>0&&a[a.length-1].level>=e.level;)a.pop();if(0===a.length)t.push(n);else{const e=a[a.length-1].node;e.children?e.children.push(n):e.children=[n]}"Leaf"!==e.type&&a.push({node:n,level:e.level})}),t}t(W,"buildHierarchy");var I=t((e,a)=>{x(e,a);const n=[];for(const t of e.TreemapRows??[])"ClassDefStatement"===t.$type&&a.addClass(t.className??"",t.styleText??"");for(const t of e.TreemapRows??[]){const e=t.item;if(!e)continue;const r=t.indent?parseInt(t.indent):0,l=R(e),s=e.classSelector?a.getStylesForClass(e.classSelector):[],o=s.length>0?s.join(";"):void 0,i={level:r,name:l,type:e.$type,value:e.value,classSelector:e.classSelector,cssCompiledStyles:o};n.push(i)}const r=W(n),l=t((e,t)=>{for(const n of e)a.addNode(n,t),n.children&&n.children.length>0&&l(n.children,t+1)},"addNodesRecursively");l(r,0)},"populate"),R=t(e=>e.name?String(e.name):"","getItemName"),V={parser:{yy:void 0},parse:t(async e=>{try{const t=S,a=await t("treemap",e);s.debug("Treemap AST:",a);const n=V.parser?.yy;if(!(n instanceof D))throw new Error("parser.parser?.yy was not a TreemapDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");I(a,n)}catch(t){throw s.error("Error parsing treemap:",t),t}},"parse")},E=10,H={draw:t((a,c,d,p)=>{const h=p.db,u=h.getConfig(),f=u.padding??10,m=h.getDiagramTitle(),y=h.getRoot(),{themeVariables:g}=n();if(!y)return;const x=m?30:0,S=r(c),C=u.nodeWidth?u.nodeWidth*E:960,$=u.nodeHeight?u.nodeHeight*E:500,L=C,k=$+x;let M;S.attr("viewBox",`0 0 ${L} ${k}`),l(S,k,L,u.useMaxWidth);try{const e=u.valueFormat||",";if("$0,0"===e)M=t(e=>"$"+v(",")(e),"valueFormat");else if(e.startsWith("$")&&e.includes(",")){const a=/\.\d+/.exec(e),n=a?a[0]:"";M=t(e=>"$"+v(","+n)(e),"valueFormat")}else if(e.startsWith("$")){const a=e.substring(1);M=t(e=>"$"+v(a||"")(e),"valueFormat")}else M=v(e)}catch(V){s.error("Error creating format function:",V),M=v(",")}const T=b().range(["transparent",g.cScale0,g.cScale1,g.cScale2,g.cScale3,g.cScale4,g.cScale5,g.cScale6,g.cScale7,g.cScale8,g.cScale9,g.cScale10,g.cScale11]),z=b().range(["transparent",g.cScalePeer0,g.cScalePeer1,g.cScalePeer2,g.cScalePeer3,g.cScalePeer4,g.cScalePeer5,g.cScalePeer6,g.cScalePeer7,g.cScalePeer8,g.cScalePeer9,g.cScalePeer10,g.cScalePeer11]),F=b().range([g.cScaleLabel0,g.cScaleLabel1,g.cScaleLabel2,g.cScaleLabel3,g.cScaleLabel4,g.cScaleLabel5,g.cScaleLabel6,g.cScaleLabel7,g.cScaleLabel8,g.cScaleLabel9,g.cScaleLabel10,g.cScaleLabel11]);m&&S.append("text").attr("x",L/2).attr("y",x/2).attr("class","treemapTitle").attr("text-anchor","middle").attr("dominant-baseline","middle").text(m);const A=S.append("g").attr("transform",`translate(0, ${x})`).attr("class","treemapContainer"),N=w(y).sum(e=>e.value??0).sort((e,t)=>(t.value??0)-(e.value??0)),P=j().size([C,$]).paddingTop(e=>e.children&&e.children.length>0?35:0).paddingInner(f).paddingLeft(e=>e.children&&e.children.length>0?E:0).paddingRight(e=>e.children&&e.children.length>0?E:0).paddingBottom(e=>e.children&&e.children.length>0?E:0).round(!0)(N),B=P.descendants().filter(e=>e.children&&e.children.length>0),D=A.selectAll(".treemapSection").data(B).enter().append("g").attr("class","treemapSection").attr("transform",e=>`translate(${e.x0},${e.y0})`);D.append("rect").attr("width",e=>e.x1-e.x0).attr("height",25).attr("class","treemapSectionHeader").attr("fill","none").attr("fill-opacity",.6).attr("stroke-width",.6).attr("style",e=>0===e.depth?"display: none;":""),D.append("clipPath").attr("id",(e,t)=>`clip-section-${c}-${t}`).append("rect").attr("width",e=>Math.max(0,e.x1-e.x0-12)).attr("height",25),D.append("rect").attr("width",e=>e.x1-e.x0).attr("height",e=>e.y1-e.y0).attr("class",(e,t)=>`treemapSection section${t}`).attr("fill",e=>T(e.data.name)).attr("fill-opacity",.6).attr("stroke",e=>z(e.data.name)).attr("stroke-width",2).attr("stroke-opacity",.4).attr("style",e=>{if(0===e.depth)return"display: none;";const t=o({cssCompiledStyles:e.data.cssCompiledStyles});return t.nodeStyles+";"+t.borderStyles.join(";")}),D.append("text").attr("class","treemapSectionLabel").attr("x",6).attr("y",12.5).attr("dominant-baseline","middle").text(e=>0===e.depth?"":e.data.name).attr("font-weight","bold").attr("style",e=>{if(0===e.depth)return"display: none;";return"dominant-baseline: middle; font-size: 12px; fill:"+F(e.data.name)+"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"+o({cssCompiledStyles:e.data.cssCompiledStyles}).labelStyles.replace("color:","fill:")}).each(function(e){if(0===e.depth)return;const t=i(this),a=e.data.name;t.text(a);const n=e.x1-e.x0;let r;if(!1!==u.showValues&&e.value){r=n-10-30-10-6}else{r=n-6-6}const l=Math.max(15,r),s=t.node();if(s.getComputedTextLength()>l){const e="...";let n=a;for(;n.length>0;){if(n=a.substring(0,n.length-1),0===n.length){t.text(e),s.getComputedTextLength()>l&&t.text("");break}if(t.text(n+e),s.getComputedTextLength()<=l)break}}}),!1!==u.showValues&&D.append("text").attr("class","treemapSectionValue").attr("x",e=>e.x1-e.x0-10).attr("y",12.5).attr("text-anchor","end").attr("dominant-baseline","middle").text(e=>e.value?M(e.value):"").attr("font-style","italic").attr("style",e=>{if(0===e.depth)return"display: none;";return"text-anchor: end; dominant-baseline: middle; font-size: 10px; fill:"+F(e.data.name)+"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"+o({cssCompiledStyles:e.data.cssCompiledStyles}).labelStyles.replace("color:","fill:")});const W=P.leaves(),I=A.selectAll(".treemapLeafGroup").data(W).enter().append("g").attr("class",(e,t)=>`treemapNode treemapLeafGroup leaf${t}${e.data.classSelector?` ${e.data.classSelector}`:""}x`).attr("transform",e=>`translate(${e.x0},${e.y0})`);I.append("rect").attr("width",e=>e.x1-e.x0).attr("height",e=>e.y1-e.y0).attr("class","treemapLeaf").attr("fill",e=>e.parent?T(e.parent.data.name):T(e.data.name)).attr("style",e=>o({cssCompiledStyles:e.data.cssCompiledStyles}).nodeStyles).attr("fill-opacity",.3).attr("stroke",e=>e.parent?T(e.parent.data.name):T(e.data.name)).attr("stroke-width",3),I.append("clipPath").attr("id",(e,t)=>`clip-${c}-${t}`).append("rect").attr("width",e=>Math.max(0,e.x1-e.x0-4)).attr("height",e=>Math.max(0,e.y1-e.y0-4));if(I.append("text").attr("class","treemapLabel").attr("x",e=>(e.x1-e.x0)/2).attr("y",e=>(e.y1-e.y0)/2).attr("style",e=>"text-anchor: middle; dominant-baseline: middle; font-size: 38px;fill:"+F(e.data.name)+";"+o({cssCompiledStyles:e.data.cssCompiledStyles}).labelStyles.replace("color:","fill:")).attr("clip-path",(e,t)=>`url(#clip-${c}-${t})`).text(e=>e.data.name).each(function(e){const t=i(this),a=e.x1-e.x0,n=e.y1-e.y0,r=t.node(),l=a-8,s=n-8;if(l<10||s<10)return void t.style("display","none");let o=parseInt(t.style("font-size"),10);for(;r.getComputedTextLength()>l&&o>8;)o--,t.style("font-size",`${o}px`);let c=Math.max(6,Math.min(28,Math.round(.6*o))),d=o+2+c;for(;d>s&&o>8&&(o--,c=Math.max(6,Math.min(28,Math.round(.6*o))),!(c<6&&8===o));)t.style("font-size",`${o}px`),d=o+2+c;t.style("font-size",`${o}px`),(r.getComputedTextLength()>l||o<8||s<o)&&t.style("display","none")}),!1!==u.showValues){I.append("text").attr("class","treemapValue").attr("x",e=>(e.x1-e.x0)/2).attr("y",function(e){return(e.y1-e.y0)/2}).attr("style",e=>"text-anchor: middle; dominant-baseline: hanging; font-size: 28px;fill:"+F(e.data.name)+";"+o({cssCompiledStyles:e.data.cssCompiledStyles}).labelStyles.replace("color:","fill:")).attr("clip-path",(e,t)=>`url(#clip-${c}-${t})`).text(e=>e.value?M(e.value):"").each(function(e){const t=i(this),a=this.parentNode;if(!a)return void t.style("display","none");const n=i(a).select(".treemapLabel");if(n.empty()||"none"===n.style("display"))return void t.style("display","none");const r=parseFloat(n.style("font-size")),l=Math.max(6,Math.min(28,Math.round(.6*r)));t.style("font-size",`${l}px`);const s=(e.y1-e.y0)/2+r/2+2;t.attr("y",s);const o=e.x1-e.x0,c=e.y1-e.y0-4,d=o-8;t.node().getComputedTextLength()>d||s+l>c||l<6?t.style("display","none"):t.style("display",null)})}const R=u.diagramPadding??8;e(S,R,"flowchart",u?.useMaxWidth||!1)},"draw"),getClasses:t(function(e,t){return t.db.getClasses()},"getClasses")},_={sectionStrokeColor:"black",sectionStrokeWidth:"1",sectionFillColor:"#efefef",leafStrokeColor:"black",leafStrokeWidth:"1",leafFillColor:"#efefef",labelColor:"black",labelFontSize:"12px",valueFontSize:"10px",valueColor:"black",titleColor:"black",titleFontSize:"14px"},q=t(({treemap:e}={})=>{const t=a(_,e);return`\n  .treemapNode.section {\n    stroke: ${t.sectionStrokeColor};\n    stroke-width: ${t.sectionStrokeWidth};\n    fill: ${t.sectionFillColor};\n  }\n  .treemapNode.leaf {\n    stroke: ${t.leafStrokeColor};\n    stroke-width: ${t.leafStrokeWidth};\n    fill: ${t.leafFillColor};\n  }\n  .treemapLabel {\n    fill: ${t.labelColor};\n    font-size: ${t.labelFontSize};\n  }\n  .treemapValue {\n    fill: ${t.valueColor};\n    font-size: ${t.valueFontSize};\n  }\n  .treemapTitle {\n    fill: ${t.titleColor};\n    font-size: ${t.titleFontSize};\n  }\n  `},"getStyles"),G={parser:V,get db(){return new D},renderer:H,styles:q};export{G as diagram};

import{a$ as t,b0 as e,b1 as n,b2 as r,b3 as i,b4 as s,b5 as a,aH as o,_ as c,g as l,s as u,q as d,p as h,a as f,b as g,c as y,d as m,e as k,b6 as p,l as T,k as v,j as b,y as x,u as w}from"./index.js";import{b as D,t as C,c as M,a as _,l as S}from"./linear.js";import{i as $}from"./init.js";import"./defaultLocale.js";function Y(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function F(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function A(t){return t}var U=1e-6;function L(t){return"translate("+t+",0)"}function E(t){return"translate(0,"+t+")"}function I(t){return e=>+t(e)}function W(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function H(){return!this.__axis}function O(t,e){var n=[],r=null,i=null,s=6,a=6,o=3,c="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,l=1===t||4===t?-1:1,u=4===t||2===t?"x":"y",d=1===t||3===t?L:E;function h(h){var f=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,g=null==i?e.tickFormat?e.tickFormat.apply(e,n):A:i,y=Math.max(s,0)+o,m=e.range(),k=+m[0]+c,p=+m[m.length-1]+c,T=(e.bandwidth?W:I)(e.copy(),c),v=h.selection?h.selection():h,b=v.selectAll(".domain").data([null]),x=v.selectAll(".tick").data(f,e).order(),w=x.exit(),D=x.enter().append("g").attr("class","tick"),C=x.select("line"),M=x.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(D),C=C.merge(D.append("line").attr("stroke","currentColor").attr(u+"2",l*s)),M=M.merge(D.append("text").attr("fill","currentColor").attr(u,l*y).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==v&&(b=b.transition(h),x=x.transition(h),C=C.transition(h),M=M.transition(h),w=w.transition(h).attr("opacity",U).attr("transform",function(t){return isFinite(t=T(t))?d(t+c):this.getAttribute("transform")}),D.attr("opacity",U).attr("transform",function(t){var e=this.parentNode.__axis;return d((e&&isFinite(e=e(t))?e:T(t))+c)})),w.remove(),b.attr("d",4===t||2===t?a?"M"+l*a+","+k+"H"+c+"V"+p+"H"+l*a:"M"+c+","+k+"V"+p:a?"M"+k+","+l*a+"V"+c+"H"+p+"V"+l*a:"M"+k+","+c+"H"+p),x.attr("opacity",1).attr("transform",function(t){return d(T(t)+c)}),C.attr(u+"2",l*s),M.attr(u,l*y).text(g),v.filter(H).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),v.each(function(){this.__axis=T})}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(s=a=+t,h):s},h.tickSizeInner=function(t){return arguments.length?(s=+t,h):s},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(o=+t,h):o},h.offset=function(t){return arguments.length?(c=+t,h):c},h}const P=Math.PI/180,z=180/Math.PI,N=.96422,B=.82521,j=4/29,V=6/29,Z=3*V*V,G=V*V*V;function q(n){if(n instanceof R)return new R(n.l,n.a,n.b,n.opacity);if(n instanceof et)return nt(n);n instanceof t||(n=e(n));var r,i,s=K(n.r),a=K(n.g),o=K(n.b),c=Q((.2225045*s+.7168786*a+.0606169*o)/1);return s===a&&a===o?r=i=c:(r=Q((.4360747*s+.3850649*a+.1430804*o)/N),i=Q((.0139322*s+.0971045*a+.7141733*o)/B)),new R(116*c-16,500*(r-c),200*(c-i),n.opacity)}function R(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Q(t){return t>G?Math.pow(t,1/3):t/Z+j}function X(t){return t>V?t*t*t:Z*(t-j)}function J(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function K(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function tt(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof et)return new et(t.h,t.c,t.l,t.opacity);if(t instanceof R||(t=q(t)),0===t.a&&0===t.b)return new et(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*z;return new et(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new et(t,e,n,null==r?1:r)}function et(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function nt(t){if(isNaN(t.h))return new R(t.l,0,0,t.opacity);var e=t.h*P;return new R(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}n(R,function(t,e,n,r){return 1===arguments.length?q(t):new R(t,e,n,null==r?1:r)},r(i,{brighter(t){return new R(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new R(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,n=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return n=N*X(n),e=1*X(e),r=B*X(r),new t(J(3.1338561*n-1.6168667*e-.4906146*r),J(-.9787684*n+1.9161415*e+.033454*r),J(.0719453*n-.2289914*e+1.4052427*r),this.opacity)}})),n(et,tt,r(i,{brighter(t){return new et(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new et(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return nt(this).rgb()}}));const rt=function(t){return function(e,n){var r=t((e=tt(e)).h,(n=tt(n)).h),i=s(e.c,n.c),a=s(e.l,n.l),o=s(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=a(t),e.opacity=o(t),e+""}}}(a);const it=new Date,st=new Date;function at(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{const e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,s)=>{const a=[];if(n=i.ceil(n),s=null==s?1:Math.floor(s),!(n<r&&s>0))return a;let o;do{a.push(o=new Date(+n)),e(n,s),t(n)}while(o<n&&n<r);return a},i.filter=n=>at(e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},(t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}),n&&(i.count=(e,r)=>(it.setTime(+e),st.setTime(+r),t(it),t(st),Math.floor(n(it,st))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?e=>r(e)%t===0:e=>i.count(0,e)%t===0):i:null)),i}const ot=at(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ot.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?at(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ot:null),ot.range;const ct=1e3,lt=6e4,ut=36e5,dt=864e5,ht=6048e5,ft=2592e6,gt=31536e6,yt=at(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ct)},(t,e)=>(e-t)/ct,t=>t.getUTCSeconds());yt.range;const mt=at(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ct)},(t,e)=>{t.setTime(+t+e*lt)},(t,e)=>(e-t)/lt,t=>t.getMinutes());mt.range;const kt=at(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*lt)},(t,e)=>(e-t)/lt,t=>t.getUTCMinutes());kt.range;const pt=at(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ct-t.getMinutes()*lt)},(t,e)=>{t.setTime(+t+e*ut)},(t,e)=>(e-t)/ut,t=>t.getHours());pt.range;const Tt=at(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ut)},(t,e)=>(e-t)/ut,t=>t.getUTCHours());Tt.range;const vt=at(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*lt)/dt,t=>t.getDate()-1);vt.range;const bt=at(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/dt,t=>t.getUTCDate()-1);bt.range;const xt=at(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/dt,t=>Math.floor(t/dt));function wt(t){return at(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+7*e)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*lt)/ht)}xt.range;const Dt=wt(0),Ct=wt(1),Mt=wt(2),_t=wt(3),St=wt(4),$t=wt(5),Yt=wt(6);function Ft(t){return at(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)},(t,e)=>(e-t)/ht)}Dt.range,Ct.range,Mt.range,_t.range,St.range,$t.range,Yt.range;const At=Ft(0),Ut=Ft(1),Lt=Ft(2),Et=Ft(3),It=Ft(4),Wt=Ft(5),Ht=Ft(6);At.range,Ut.range,Lt.range,Et.range,It.range,Wt.range,Ht.range;const Ot=at(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear()),t=>t.getMonth());Ot.range;const Pt=at(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear()),t=>t.getUTCMonth());Pt.range;const zt=at(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());zt.every=t=>isFinite(t=Math.floor(t))&&t>0?at(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)}):null,zt.range;const Nt=at(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Nt.every=t=>isFinite(t=Math.floor(t))&&t>0?at(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null,Nt.range;const[Bt,jt]=function(t,e,n,r,i,s){const a=[[yt,1,ct],[yt,5,5e3],[yt,15,15e3],[yt,30,3e4],[s,1,lt],[s,5,3e5],[s,15,9e5],[s,30,18e5],[i,1,ut],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,dt],[r,2,1728e5],[n,1,ht],[e,1,ft],[e,3,7776e6],[t,1,gt]];function o(e,n,r){const i=Math.abs(n-e)/r,s=D(([,,t])=>t).right(a,i);if(s===a.length)return t.every(C(e/gt,n/gt,r));if(0===s)return ot.every(Math.max(C(e,n,r),1));const[o,c]=a[i/a[s-1][2]<a[s][2]/i?s-1:s];return o.every(c)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"==typeof n.range?n:o(t,e,n),s=i?i.range(t,+e+1):[];return r?s.reverse():s},o]}(zt,Ot,Dt,vt,pt,mt);function Vt(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Zt(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Gt(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var qt,Rt,Qt={"-":"",_:" ",0:"0"},Xt=/^\s*\d+/,Jt=/^%/,Kt=/[\\^$*+?|[\]().{}]/g;function te(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function ee(t){return t.replace(Kt,"\\$&")}function ne(t){return new RegExp("^(?:"+t.map(ee).join("|")+")","i")}function re(t){return new Map(t.map((t,e)=>[t.toLowerCase(),e]))}function ie(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function se(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ae(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function oe(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ce(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function le(t,e,n){var r=Xt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ue(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function de(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function he(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function fe(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ge(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ye(t,e,n){var r=Xt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function me(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ke(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function pe(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Te(t,e,n){var r=Xt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ve(t,e,n){var r=Xt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function be(t,e,n){var r=Jt.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function xe(t,e,n){var r=Xt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function we(t,e,n){var r=Xt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function De(t,e){return te(t.getDate(),e,2)}function Ce(t,e){return te(t.getHours(),e,2)}function Me(t,e){return te(t.getHours()%12||12,e,2)}function _e(t,e){return te(1+vt.count(zt(t),t),e,3)}function Se(t,e){return te(t.getMilliseconds(),e,3)}function $e(t,e){return Se(t,e)+"000"}function Ye(t,e){return te(t.getMonth()+1,e,2)}function Fe(t,e){return te(t.getMinutes(),e,2)}function Ae(t,e){return te(t.getSeconds(),e,2)}function Ue(t){var e=t.getDay();return 0===e?7:e}function Le(t,e){return te(Dt.count(zt(t)-1,t),e,2)}function Ee(t){var e=t.getDay();return e>=4||0===e?St(t):St.ceil(t)}function Ie(t,e){return t=Ee(t),te(St.count(zt(t),t)+(4===zt(t).getDay()),e,2)}function We(t){return t.getDay()}function He(t,e){return te(Ct.count(zt(t)-1,t),e,2)}function Oe(t,e){return te(t.getFullYear()%100,e,2)}function Pe(t,e){return te((t=Ee(t)).getFullYear()%100,e,2)}function ze(t,e){return te(t.getFullYear()%1e4,e,4)}function Ne(t,e){var n=t.getDay();return te((t=n>=4||0===n?St(t):St.ceil(t)).getFullYear()%1e4,e,4)}function Be(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+te(e/60|0,"0",2)+te(e%60,"0",2)}function je(t,e){return te(t.getUTCDate(),e,2)}function Ve(t,e){return te(t.getUTCHours(),e,2)}function Ze(t,e){return te(t.getUTCHours()%12||12,e,2)}function Ge(t,e){return te(1+bt.count(Nt(t),t),e,3)}function qe(t,e){return te(t.getUTCMilliseconds(),e,3)}function Re(t,e){return qe(t,e)+"000"}function Qe(t,e){return te(t.getUTCMonth()+1,e,2)}function Xe(t,e){return te(t.getUTCMinutes(),e,2)}function Je(t,e){return te(t.getUTCSeconds(),e,2)}function Ke(t){var e=t.getUTCDay();return 0===e?7:e}function tn(t,e){return te(At.count(Nt(t)-1,t),e,2)}function en(t){var e=t.getUTCDay();return e>=4||0===e?It(t):It.ceil(t)}function nn(t,e){return t=en(t),te(It.count(Nt(t),t)+(4===Nt(t).getUTCDay()),e,2)}function rn(t){return t.getUTCDay()}function sn(t,e){return te(Ut.count(Nt(t)-1,t),e,2)}function an(t,e){return te(t.getUTCFullYear()%100,e,2)}function on(t,e){return te((t=en(t)).getUTCFullYear()%100,e,2)}function cn(t,e){return te(t.getUTCFullYear()%1e4,e,4)}function ln(t,e){var n=t.getUTCDay();return te((t=n>=4||0===n?It(t):It.ceil(t)).getUTCFullYear()%1e4,e,4)}function un(){return"+0000"}function dn(){return"%"}function hn(t){return+t}function fn(t){return Math.floor(+t/1e3)}function gn(t){return new Date(t)}function yn(t){return t instanceof Date?+t:+new Date(+t)}function mn(t,e,n,r,i,s,a,o,c,l){var u=M(),d=u.invert,h=u.domain,f=l(".%L"),g=l(":%S"),y=l("%I:%M"),m=l("%I %p"),k=l("%a %d"),p=l("%b %d"),T=l("%B"),v=l("%Y");function b(t){return(c(t)<t?f:o(t)<t?g:a(t)<t?y:s(t)<t?m:r(t)<t?i(t)<t?k:p:n(t)<t?T:v)(t)}return u.invert=function(t){return new Date(d(t))},u.domain=function(t){return arguments.length?h(Array.from(t,yn)):h().map(gn)},u.ticks=function(e){var n=h();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?b:l(e)},u.nice=function(t){var n=h();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?h(function(t,e){var n,r=0,i=(t=t.slice()).length-1,s=t[r],a=t[i];return a<s&&(n=r,r=i,i=n,n=s,s=a,a=n),t[r]=e.floor(s),t[i]=e.ceil(a),t}(n,t)):u},u.copy=function(){return _(u,mn(t,e,n,r,i,s,a,o,c,l))},u}function kn(){return $.apply(mn(Bt,jt,zt,Ot,Dt,vt,pt,mt,yt,Rt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}qt=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,c=t.shortMonths,l=ne(i),u=re(i),d=ne(s),h=re(s),f=ne(a),g=re(a),y=ne(o),m=re(o),k=ne(c),p=re(c),T={a:function(t){return a[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return o[t.getMonth()]},c:null,d:De,e:De,f:$e,g:Pe,G:Ne,H:Ce,I:Me,j:_e,L:Se,m:Ye,M:Fe,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:hn,s:fn,S:Ae,u:Ue,U:Le,V:Ie,w:We,W:He,x:null,X:null,y:Oe,Y:ze,Z:Be,"%":dn},v={a:function(t){return a[t.getUTCDay()]},A:function(t){return s[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return o[t.getUTCMonth()]},c:null,d:je,e:je,f:Re,g:on,G:ln,H:Ve,I:Ze,j:Ge,L:qe,m:Qe,M:Xe,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:hn,s:fn,S:Je,u:Ke,U:tn,V:nn,w:rn,W:sn,x:null,X:null,y:an,Y:cn,Z:un,"%":dn},b={a:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=g.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=k.exec(e.slice(n));return r?(t.m=p.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return D(t,e,n,r)},d:ge,e:ge,f:ve,g:ue,G:le,H:me,I:me,j:ye,L:Te,m:fe,M:ke,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:he,Q:xe,s:we,S:pe,u:se,U:ae,V:oe,w:ie,W:ce,x:function(t,e,r){return D(t,n,e,r)},X:function(t,e,n){return D(t,r,e,n)},y:ue,Y:le,Z:de,"%":be};function x(t,e){return function(n){var r,i,s,a=[],o=-1,c=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++o<l;)37===t.charCodeAt(o)&&(a.push(t.slice(c,o)),null!=(i=Qt[r=t.charAt(++o)])?r=t.charAt(++o):i="e"===r?" ":"0",(s=e[r])&&(r=s(n,i)),a.push(r),c=o+1);return a.push(t.slice(c,o)),a.join("")}}function w(t,e){return function(n){var r,i,s=Gt(1900,void 0,1);if(D(s,t,n+="",0)!=n.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(e&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(i=(r=Zt(Gt(s.y,0,1))).getUTCDay(),r=i>4||0===i?Ut.ceil(r):Ut(r),r=bt.offset(r,7*(s.V-1)),s.y=r.getUTCFullYear(),s.m=r.getUTCMonth(),s.d=r.getUTCDate()+(s.w+6)%7):(i=(r=Vt(Gt(s.y,0,1))).getDay(),r=i>4||0===i?Ct.ceil(r):Ct(r),r=vt.offset(r,7*(s.V-1)),s.y=r.getFullYear(),s.m=r.getMonth(),s.d=r.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),i="Z"in s?Zt(Gt(s.y,0,1)).getUTCDay():Vt(Gt(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(i+5)%7:s.w+7*s.U-(i+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,Zt(s)):Vt(s)}}function D(t,e,n,r){for(var i,s,a=0,o=e.length,c=n.length;a<o;){if(r>=c)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(s=b[i in Qt?e.charAt(a++):i])||(r=s(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return T.x=x(n,T),T.X=x(r,T),T.c=x(e,T),v.x=x(n,v),v.X=x(r,v),v.c=x(e,v),{format:function(t){var e=x(t+="",T);return e.toString=function(){return t},e},parse:function(t){var e=w(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",v);return e.toString=function(){return t},e},utcParse:function(t){var e=w(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Rt=qt.format,qt.parse,qt.utcFormat,qt.utcParse;var pn,Tn,vn={exports:{}};const bn=o(pn?vn.exports:(pn=1,vn.exports=(Tn="day",function(t,e,n){var r=function(t){return t.add(4-t.isoWeekday(),Tn)},i=e.prototype;i.isoWeekYear=function(){return r(this).year()},i.isoWeek=function(t){if(!this.$utils().u(t))return this.add(7*(t-this.isoWeek()),Tn);var e,i,s,a=r(this),o=(e=this.isoWeekYear(),s=4-(i=(this.$u?n.utc:n)().year(e).startOf("year")).isoWeekday(),i.isoWeekday()>4&&(s+=7),i.add(s,Tn));return a.diff(o,"week")+1},i.isoWeekday=function(t){return this.$utils().u(t)?this.day()||7:this.day(this.day()%7?t:t-7)};var s=i.startOf;i.startOf=function(t,e){var n=this.$utils(),r=!!n.u(e)||e;return"isoweek"===n.p(t)?r?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):s.bind(this)(t,e)}})));var xn,wn={exports:{}};var Dn=(xn||(xn=1,wn.exports=function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d/,r=/\d\d/,i=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,a={},o=function(t){return(t=+t)+(t>68?1900:2e3)},c=function(t){return function(e){this[t]=+e}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(t){(this.zone||(this.zone={})).offset=function(t){if(!t)return 0;if("Z"===t)return 0;var e=t.match(/([+-]|\d\d)/g),n=60*e[1]+(+e[2]||0);return 0===n?0:"+"===e[0]?-n:n}(t)}],u=function(t){var e=a[t];return e&&(e.indexOf?e:e.s.concat(e.f))},d=function(t,e){var n,r=a.meridiem;if(r){for(var i=1;i<=24;i+=1)if(t.indexOf(r(i,0,e))>-1){n=i>12;break}}else n=t===(e?"pm":"PM");return n},h={A:[s,function(t){this.afternoon=d(t,!1)}],a:[s,function(t){this.afternoon=d(t,!0)}],Q:[n,function(t){this.month=3*(t-1)+1}],S:[n,function(t){this.milliseconds=100*+t}],SS:[r,function(t){this.milliseconds=10*+t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[i,c("seconds")],ss:[i,c("seconds")],m:[i,c("minutes")],mm:[i,c("minutes")],H:[i,c("hours")],h:[i,c("hours")],HH:[i,c("hours")],hh:[i,c("hours")],D:[i,c("day")],DD:[r,c("day")],Do:[s,function(t){var e=a.ordinal,n=t.match(/\d+/);if(this.day=n[0],e)for(var r=1;r<=31;r+=1)e(r).replace(/\[|\]/g,"")===t&&(this.day=r)}],w:[i,c("week")],ww:[r,c("week")],M:[i,c("month")],MM:[r,c("month")],MMM:[s,function(t){var e=u("months"),n=(u("monthsShort")||e.map(function(t){return t.slice(0,3)})).indexOf(t)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[s,function(t){var e=u("months").indexOf(t)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\d+/,c("year")],YY:[r,function(t){this.year=o(t)}],YYYY:[/\d{4}/,c("year")],Z:l,ZZ:l};function f(n){var r,i;r=n,i=a&&a.formats;for(var s=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(e,n,r){var s=r&&r.toUpperCase();return n||i[r]||t[r]||i[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(t,e,n){return e||n.slice(1)})})).match(e),o=s.length,c=0;c<o;c+=1){var l=s[c],u=h[l],d=u&&u[0],f=u&&u[1];s[c]=f?{regex:d,parser:f}:l.replace(/^\[|\]$/g,"")}return function(t){for(var e={},n=0,r=0;n<o;n+=1){var i=s[n];if("string"==typeof i)r+=i.length;else{var a=i.regex,c=i.parser,l=t.slice(r),u=a.exec(l)[0];c.call(e,u),t=t.replace(u,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var n=t.hours;e?n<12&&(t.hours+=12):12===n&&(t.hours=0),delete t.afternoon}}(e),e}}return function(t,e,n){n.p.customParseFormat=!0,t&&t.parseTwoDigitYear&&(o=t.parseTwoDigitYear);var r=e.prototype,i=r.parse;r.parse=function(t){var e=t.date,r=t.utc,s=t.args;this.$u=r;var o=s[1];if("string"==typeof o){var c=!0===s[2],l=!0===s[3],u=c||l,d=s[2];l&&(d=s[2]),a=this.$locale(),!c&&d&&(a=n.Ls[d]),this.$d=function(t,e,n,r){try{if(["x","X"].indexOf(e)>-1)return new Date(("X"===e?1e3:1)*t);var i=f(e)(t),s=i.year,a=i.month,o=i.day,c=i.hours,l=i.minutes,u=i.seconds,d=i.milliseconds,h=i.zone,g=i.week,y=new Date,m=o||(s||a?1:y.getDate()),k=s||y.getFullYear(),p=0;s&&!a||(p=a>0?a-1:y.getMonth());var T,v=c||0,b=l||0,x=u||0,w=d||0;return h?new Date(Date.UTC(k,p,m,v,b,x,w+60*h.offset*1e3)):n?new Date(Date.UTC(k,p,m,v,b,x,w)):(T=new Date(k,p,m,v,b,x,w),g&&(T=r(T).week(g).toDate()),T)}catch(t){return new Date("")}}(e,o,r,n),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&e!=this.format(o)&&(this.$d=new Date("")),a={}}else if(o instanceof Array)for(var h=o.length,g=1;g<=h;g+=1){s[1]=o[g-1];var y=n.apply(this,s);if(y.isValid()){this.$d=y.$d,this.$L=y.$L,this.init();break}g===h&&(this.$d=new Date(""))}else i.call(this,t)}}}()),wn.exports);const Cn=o(Dn);var Mn,_n={exports:{}};var Sn=(Mn||(Mn=1,_n.exports=function(t,e){var n=e.prototype,r=n.format;n.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return r.bind(this)(t);var i=this.$utils(),s=(t||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(t){switch(t){case"Q":return Math.ceil((e.$M+1)/3);case"Do":return n.ordinal(e.$D);case"gggg":return e.weekYear();case"GGGG":return e.isoWeekYear();case"wo":return n.ordinal(e.week(),"W");case"w":case"ww":return i.s(e.week(),"w"===t?1:2,"0");case"W":case"WW":return i.s(e.isoWeek(),"W"===t?1:2,"0");case"k":case"kk":return i.s(String(0===e.$H?24:e.$H),"k"===t?1:2,"0");case"X":return Math.floor(e.$d.getTime()/1e3);case"x":return e.$d.getTime();case"z":return"["+e.offsetName()+"]";case"zzz":return"["+e.offsetName("long")+"]";default:return t}});return r.bind(this)(s)}}),_n.exports);const $n=o(Sn);var Yn=function(){var t=c(function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},"o"),e=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],n=[1,26],r=[1,27],i=[1,28],s=[1,29],a=[1,30],o=[1,31],l=[1,32],u=[1,33],d=[1,34],h=[1,9],f=[1,10],g=[1,11],y=[1,12],m=[1,13],k=[1,14],p=[1,15],T=[1,16],v=[1,19],b=[1,20],x=[1,21],w=[1,22],D=[1,23],C=[1,25],M=[1,35],_={trace:c(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:c(function(t,e,n,r,i,s,a){var o=s.length-1;switch(i){case 1:return s[o-1];case 2:case 6:case 7:this.$=[];break;case 3:s[o-1].push(s[o]),this.$=s[o-1];break;case 4:case 5:this.$=s[o];break;case 8:r.setWeekday("monday");break;case 9:r.setWeekday("tuesday");break;case 10:r.setWeekday("wednesday");break;case 11:r.setWeekday("thursday");break;case 12:r.setWeekday("friday");break;case 13:r.setWeekday("saturday");break;case 14:r.setWeekday("sunday");break;case 15:r.setWeekend("friday");break;case 16:r.setWeekend("saturday");break;case 17:r.setDateFormat(s[o].substr(11)),this.$=s[o].substr(11);break;case 18:r.enableInclusiveEndDates(),this.$=s[o].substr(18);break;case 19:r.TopAxis(),this.$=s[o].substr(8);break;case 20:r.setAxisFormat(s[o].substr(11)),this.$=s[o].substr(11);break;case 21:r.setTickInterval(s[o].substr(13)),this.$=s[o].substr(13);break;case 22:r.setExcludes(s[o].substr(9)),this.$=s[o].substr(9);break;case 23:r.setIncludes(s[o].substr(9)),this.$=s[o].substr(9);break;case 24:r.setTodayMarker(s[o].substr(12)),this.$=s[o].substr(12);break;case 27:r.setDiagramTitle(s[o].substr(6)),this.$=s[o].substr(6);break;case 28:this.$=s[o].trim(),r.setAccTitle(this.$);break;case 29:case 30:this.$=s[o].trim(),r.setAccDescription(this.$);break;case 31:r.addSection(s[o].substr(8)),this.$=s[o].substr(8);break;case 33:r.addTask(s[o-1],s[o]),this.$="task";break;case 34:this.$=s[o-1],r.setClickEvent(s[o-1],s[o],null);break;case 35:this.$=s[o-2],r.setClickEvent(s[o-2],s[o-1],s[o]);break;case 36:this.$=s[o-2],r.setClickEvent(s[o-2],s[o-1],null),r.setLink(s[o-2],s[o]);break;case 37:this.$=s[o-3],r.setClickEvent(s[o-3],s[o-2],s[o-1]),r.setLink(s[o-3],s[o]);break;case 38:this.$=s[o-2],r.setClickEvent(s[o-2],s[o],null),r.setLink(s[o-2],s[o-1]);break;case 39:this.$=s[o-3],r.setClickEvent(s[o-3],s[o-1],s[o]),r.setLink(s[o-3],s[o-2]);break;case 40:this.$=s[o-1],r.setLink(s[o-1],s[o]);break;case 41:case 47:this.$=s[o-1]+" "+s[o];break;case 42:case 43:case 45:this.$=s[o-2]+" "+s[o-1]+" "+s[o];break;case 44:case 46:this.$=s[o-3]+" "+s[o-2]+" "+s[o-1]+" "+s[o]}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:n,13:r,14:i,15:s,16:a,17:o,18:l,19:18,20:u,21:d,22:h,23:f,24:g,25:y,26:m,27:k,28:p,29:T,30:v,31:b,33:x,35:w,36:D,37:24,38:C,40:M},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:36,11:17,12:n,13:r,14:i,15:s,16:a,17:o,18:l,19:18,20:u,21:d,22:h,23:f,24:g,25:y,26:m,27:k,28:p,29:T,30:v,31:b,33:x,35:w,36:D,37:24,38:C,40:M},t(e,[2,5]),t(e,[2,6]),t(e,[2,17]),t(e,[2,18]),t(e,[2,19]),t(e,[2,20]),t(e,[2,21]),t(e,[2,22]),t(e,[2,23]),t(e,[2,24]),t(e,[2,25]),t(e,[2,26]),t(e,[2,27]),{32:[1,37]},{34:[1,38]},t(e,[2,30]),t(e,[2,31]),t(e,[2,32]),{39:[1,39]},t(e,[2,8]),t(e,[2,9]),t(e,[2,10]),t(e,[2,11]),t(e,[2,12]),t(e,[2,13]),t(e,[2,14]),t(e,[2,15]),t(e,[2,16]),{41:[1,40],43:[1,41]},t(e,[2,4]),t(e,[2,28]),t(e,[2,29]),t(e,[2,33]),t(e,[2,34],{42:[1,42],43:[1,43]}),t(e,[2,40],{41:[1,44]}),t(e,[2,35],{43:[1,45]}),t(e,[2,36]),t(e,[2,38],{42:[1,46]}),t(e,[2,37]),t(e,[2,39])],defaultActions:{},parseError:c(function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},"parseError"),parse:c(function(t){var e=this,n=[0],r=[],i=[null],s=[],a=this.table,o="",l=0,u=0,d=s.slice.call(arguments,1),h=Object.create(this.lexer),f={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(f.yy[g]=this.yy[g]);h.setInput(t,f.yy),f.yy.lexer=h,f.yy.parser=this,void 0===h.yylloc&&(h.yylloc={});var y=h.yylloc;s.push(y);var m=h.options&&h.options.ranges;function k(){var t;return"number"!=typeof(t=r.pop()||h.lex()||1)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,c(function(t){n.length=n.length-2*t,i.length=i.length-t,s.length=s.length-t},"popStack"),c(k,"lex");for(var p,T,v,b,x,w,D,C,M={};;){if(T=n[n.length-1],this.defaultActions[T]?v=this.defaultActions[T]:(null==p&&(p=k()),v=a[T]&&a[T][p]),void 0===v||!v.length||!v[0]){var _="";for(x in C=[],a[T])this.terminals_[x]&&x>2&&C.push("'"+this.terminals_[x]+"'");_=h.showPosition?"Parse error on line "+(l+1)+":\n"+h.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(_,{text:h.match,token:this.terminals_[p]||p,line:h.yylineno,loc:y,expected:C})}if(v[0]instanceof Array&&v.length>1)throw new Error("Parse Error: multiple actions possible at state: "+T+", token: "+p);switch(v[0]){case 1:n.push(p),i.push(h.yytext),s.push(h.yylloc),n.push(v[1]),p=null,u=h.yyleng,o=h.yytext,l=h.yylineno,y=h.yylloc;break;case 2:if(w=this.productions_[v[1]][1],M.$=i[i.length-w],M._$={first_line:s[s.length-(w||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(w||1)].first_column,last_column:s[s.length-1].last_column},m&&(M._$.range=[s[s.length-(w||1)].range[0],s[s.length-1].range[1]]),void 0!==(b=this.performAction.apply(M,[o,u,l,f.yy,v[1],i,s].concat(d))))return b;w&&(n=n.slice(0,-1*w*2),i=i.slice(0,-1*w),s=s.slice(0,-1*w)),n.push(this.productions_[v[1]][0]),i.push(M.$),s.push(M._$),D=a[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0},"parse")},S=function(){return{EOF:1,parseError:c(function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},"parseError"),setInput:c(function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:c(function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},"input"),unput:c(function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},"unput"),more:c(function(){return this._more=!0,this},"more"),reject:c(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:c(function(t){this.unput(this.match.slice(t))},"less"),pastInput:c(function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:c(function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:c(function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},"showPosition"),test_match:c(function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var s in i)this[s]=i[s];return!1}return!1},"test_match"),next:c(function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),s=0;s<i.length;s++)if((n=this._input.match(this.rules[i[s]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=s,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[s])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:c(function(){var t=this.next();return t||this.lex()},"lex"),begin:c(function(t){this.conditionStack.push(t)},"begin"),popState:c(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:c(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:c(function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},"topState"),pushState:c(function(t){this.begin(t)},"pushState"),stateStackSize:c(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:c(function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),"open_directive";case 1:return this.begin("acc_title"),31;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),33;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:case 15:case 18:case 21:case 24:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:case 9:case 10:case 12:case 13:break;case 11:return 10;case 14:this.begin("href");break;case 16:return 43;case 17:this.begin("callbackname");break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 22:return 42;case 23:this.begin("click");break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}}}();function $(){this.yy={}}return _.lexer=S,c($,"Parser"),$.prototype=_,_.Parser=$,new $}();Yn.parser=Yn;var Fn=Yn;p.extend(bn),p.extend(Cn),p.extend($n);var An,Un,Ln={friday:5,saturday:6},En="",In="",Wn=void 0,Hn="",On=[],Pn=[],zn=new Map,Nn=[],Bn=[],jn="",Vn="",Zn=["active","done","crit","milestone","vert"],Gn=[],qn=!1,Rn=!1,Qn="sunday",Xn="saturday",Jn=0,Kn=c(function(){Nn=[],Bn=[],jn="",Gn=[],Fr=0,An=void 0,Un=void 0,Er=[],En="",In="",Vn="",Wn=void 0,Hn="",On=[],Pn=[],qn=!1,Rn=!1,Jn=0,zn=new Map,x(),Qn="sunday",Xn="saturday"},"clear"),tr=c(function(t){In=t},"setAxisFormat"),er=c(function(){return In},"getAxisFormat"),nr=c(function(t){Wn=t},"setTickInterval"),rr=c(function(){return Wn},"getTickInterval"),ir=c(function(t){Hn=t},"setTodayMarker"),sr=c(function(){return Hn},"getTodayMarker"),ar=c(function(t){En=t},"setDateFormat"),or=c(function(){qn=!0},"enableInclusiveEndDates"),cr=c(function(){return qn},"endDatesAreInclusive"),lr=c(function(){Rn=!0},"enableTopAxis"),ur=c(function(){return Rn},"topAxisEnabled"),dr=c(function(t){Vn=t},"setDisplayMode"),hr=c(function(){return Vn},"getDisplayMode"),fr=c(function(){return En},"getDateFormat"),gr=c(function(t){On=t.toLowerCase().split(/[\s,]+/)},"setIncludes"),yr=c(function(){return On},"getIncludes"),mr=c(function(t){Pn=t.toLowerCase().split(/[\s,]+/)},"setExcludes"),kr=c(function(){return Pn},"getExcludes"),pr=c(function(){return zn},"getLinks"),Tr=c(function(t){jn=t,Nn.push(t)},"addSection"),vr=c(function(){return Nn},"getSections"),br=c(function(){let t=Pr();let e=0;for(;!t&&e<10;)t=Pr(),e++;return Bn=Er},"getTasks"),xr=c(function(t,e,n,r){const i=t.format(e.trim()),s=t.format("YYYY-MM-DD");return!r.includes(i)&&!r.includes(s)&&(!(!n.includes("weekends")||t.isoWeekday()!==Ln[Xn]&&t.isoWeekday()!==Ln[Xn]+1)||(!!n.includes(t.format("dddd").toLowerCase())||(n.includes(i)||n.includes(s))))},"isInvalidDate"),wr=c(function(t){Qn=t},"setWeekday"),Dr=c(function(){return Qn},"getWeekday"),Cr=c(function(t){Xn=t},"setWeekend"),Mr=c(function(t,e,n,r){if(!n.length||t.manualEndTime)return;let i,s;i=t.startTime instanceof Date?p(t.startTime):p(t.startTime,e,!0),i=i.add(1,"d"),s=t.endTime instanceof Date?p(t.endTime):p(t.endTime,e,!0);const[a,o]=_r(i,s,e,n,r);t.endTime=a.toDate(),t.renderEndTime=o},"checkTaskDates"),_r=c(function(t,e,n,r,i){let s=!1,a=null;for(;t<=e;)s||(a=e.toDate()),s=xr(t,n,r,i),s&&(e=e.add(1,"d")),t=t.add(1,"d");return[e,a]},"fixTaskDates"),Sr=c(function(t,e,n){n=n.trim();const r=/^after\s+(?<ids>[\d\w- ]+)/.exec(n);if(null!==r){let t=null;for(const n of r.groups.ids.split(" ")){let e=Hr(n);void 0!==e&&(!t||e.endTime>t.endTime)&&(t=e)}if(t)return t.endTime;const e=new Date;return e.setHours(0,0,0,0),e}let i=p(n,e.trim(),!0);if(i.isValid())return i.toDate();{T.debug("Invalid date:"+n),T.debug("With date format:"+e.trim());const t=new Date(n);if(void 0===t||isNaN(t.getTime())||t.getFullYear()<-1e4||t.getFullYear()>1e4)throw new Error("Invalid date:"+n);return t}},"getStartDate"),$r=c(function(t){const e=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(t.trim());return null!==e?[Number.parseFloat(e[1]),e[2]]:[NaN,"ms"]},"parseDuration"),Yr=c(function(t,e,n,r=!1){n=n.trim();const i=/^until\s+(?<ids>[\d\w- ]+)/.exec(n);if(null!==i){let t=null;for(const n of i.groups.ids.split(" ")){let e=Hr(n);void 0!==e&&(!t||e.startTime<t.startTime)&&(t=e)}if(t)return t.startTime;const e=new Date;return e.setHours(0,0,0,0),e}let s=p(n,e.trim(),!0);if(s.isValid())return r&&(s=s.add(1,"d")),s.toDate();let a=p(t);const[o,c]=$r(n);if(!Number.isNaN(o)){const t=a.add(o,c);t.isValid()&&(a=t)}return a.toDate()},"getEndDate"),Fr=0,Ar=c(function(t){return void 0===t?"task"+(Fr+=1):t},"parseId"),Ur=c(function(t,e){let n;n=":"===e.substr(0,1)?e.substr(1,e.length):e;const r=n.split(","),i={};qr(r,i,Zn);for(let a=0;a<r.length;a++)r[a]=r[a].trim();let s="";switch(r.length){case 1:i.id=Ar(),i.startTime=t.endTime,s=r[0];break;case 2:i.id=Ar(),i.startTime=Sr(void 0,En,r[0]),s=r[1];break;case 3:i.id=Ar(r[0]),i.startTime=Sr(void 0,En,r[1]),s=r[2]}return s&&(i.endTime=Yr(i.startTime,En,s,qn),i.manualEndTime=p(s,"YYYY-MM-DD",!0).isValid(),Mr(i,En,Pn,On)),i},"compileData"),Lr=c(function(t,e){let n;n=":"===e.substr(0,1)?e.substr(1,e.length):e;const r=n.split(","),i={};qr(r,i,Zn);for(let s=0;s<r.length;s++)r[s]=r[s].trim();switch(r.length){case 1:i.id=Ar(),i.startTime={type:"prevTaskEnd",id:t},i.endTime={data:r[0]};break;case 2:i.id=Ar(),i.startTime={type:"getStartDate",startData:r[0]},i.endTime={data:r[1]};break;case 3:i.id=Ar(r[0]),i.startTime={type:"getStartDate",startData:r[1]},i.endTime={data:r[2]}}return i},"parseData"),Er=[],Ir={},Wr=c(function(t,e){const n={section:jn,type:jn,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:e},task:t,classes:[]},r=Lr(Un,e);n.raw.startTime=r.startTime,n.raw.endTime=r.endTime,n.id=r.id,n.prevTaskId=Un,n.active=r.active,n.done=r.done,n.crit=r.crit,n.milestone=r.milestone,n.vert=r.vert,n.order=Jn,Jn++;const i=Er.push(n);Un=n.id,Ir[n.id]=i-1},"addTask"),Hr=c(function(t){const e=Ir[t];return Er[e]},"findTaskById"),Or=c(function(t,e){const n={section:jn,type:jn,description:t,task:t,classes:[]},r=Ur(An,e);n.startTime=r.startTime,n.endTime=r.endTime,n.id=r.id,n.active=r.active,n.done=r.done,n.crit=r.crit,n.milestone=r.milestone,n.vert=r.vert,An=n,Bn.push(n)},"addTaskOrg"),Pr=c(function(){const t=c(function(t){const e=Er[t];let n="";switch(Er[t].raw.startTime.type){case"prevTaskEnd":{const t=Hr(e.prevTaskId);e.startTime=t.endTime;break}case"getStartDate":n=Sr(void 0,En,Er[t].raw.startTime.startData),n&&(Er[t].startTime=n)}return Er[t].startTime&&(Er[t].endTime=Yr(Er[t].startTime,En,Er[t].raw.endTime.data,qn),Er[t].endTime&&(Er[t].processed=!0,Er[t].manualEndTime=p(Er[t].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),Mr(Er[t],En,Pn,On))),Er[t].processed},"compileTask");let e=!0;for(const[n,r]of Er.entries())t(n),e=e&&r.processed;return e},"compileTasks"),zr=c(function(t,e){let n=e;"loose"!==y().securityLevel&&(n=b.sanitizeUrl(e)),t.split(",").forEach(function(t){void 0!==Hr(t)&&(jr(t,()=>{window.open(n,"_self")}),zn.set(t,n))}),Nr(t,"clickable")},"setLink"),Nr=c(function(t,e){t.split(",").forEach(function(t){let n=Hr(t);void 0!==n&&n.classes.push(e)})},"setClass"),Br=c(function(t,e,n){if("loose"!==y().securityLevel)return;if(void 0===e)return;let r=[];if("string"==typeof n){r=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let t=0;t<r.length;t++){let e=r[t].trim();e.startsWith('"')&&e.endsWith('"')&&(e=e.substr(1,e.length-2)),r[t]=e}}0===r.length&&r.push(t),void 0!==Hr(t)&&jr(t,()=>{w.runFunc(e,...r)})},"setClickFun"),jr=c(function(t,e){Gn.push(function(){const n=document.querySelector(`[id="${t}"]`);null!==n&&n.addEventListener("click",function(){e()})},function(){const n=document.querySelector(`[id="${t}-text"]`);null!==n&&n.addEventListener("click",function(){e()})})},"pushFun"),Vr=c(function(t,e,n){t.split(",").forEach(function(t){Br(t,e,n)}),Nr(t,"clickable")},"setClickEvent"),Zr=c(function(t){Gn.forEach(function(e){e(t)})},"bindFunctions"),Gr={getConfig:c(()=>y().gantt,"getConfig"),clear:Kn,setDateFormat:ar,getDateFormat:fr,enableInclusiveEndDates:or,endDatesAreInclusive:cr,enableTopAxis:lr,topAxisEnabled:ur,setAxisFormat:tr,getAxisFormat:er,setTickInterval:nr,getTickInterval:rr,setTodayMarker:ir,getTodayMarker:sr,setAccTitle:g,getAccTitle:f,setDiagramTitle:h,getDiagramTitle:d,setDisplayMode:dr,getDisplayMode:hr,setAccDescription:u,getAccDescription:l,addSection:Tr,getSections:vr,getTasks:br,addTask:Wr,findTaskById:Hr,addTaskOrg:Or,setIncludes:gr,getIncludes:yr,setExcludes:mr,getExcludes:kr,setClickEvent:Vr,setLink:zr,getLinks:pr,bindFunctions:Zr,parseDuration:$r,isInvalidDate:xr,setWeekday:wr,getWeekday:Dr,setWeekend:Cr};function qr(t,e,n){let r=!0;for(;r;)r=!1,n.forEach(function(n){const i=new RegExp("^\\s*"+n+"\\s*$");t[0].match(i)&&(e[n]=!0,t.shift(1),r=!0)})}c(qr,"getTaskTags");var Rr,Qr=c(function(){T.debug("Something is calling, setConf, remove the call")},"setConf"),Xr={monday:Ct,tuesday:Mt,wednesday:_t,thursday:St,friday:$t,saturday:Yt,sunday:Dt},Jr=c((t,e)=>{let n=[...t].map(()=>-1/0),r=[...t].sort((t,e)=>t.startTime-e.startTime||t.order-e.order),i=0;for(const s of r)for(let t=0;t<n.length;t++)if(s.startTime>=n[t]){n[t]=s.endTime,s.order=t+e,t>i&&(i=t);break}return i},"getMaxIntersections"),Kr={parser:Fn,db:Gr,renderer:{setConf:Qr,draw:c(function(t,e,n,r){const i=y().gantt,s=y().securityLevel;let a;"sandbox"===s&&(a=m("#i"+e));const o=m("sandbox"===s?a.nodes()[0].contentDocument.body:"body"),l="sandbox"===s?a.nodes()[0].contentDocument:document,u=l.getElementById(e);void 0===(Rr=u.parentElement.offsetWidth)&&(Rr=1200),void 0!==i.useWidth&&(Rr=i.useWidth);const d=r.db.getTasks();let h=[];for(const c of d)h.push(c.type);h=U(h);const f={};let g=2*i.topPadding;if("compact"===r.db.getDisplayMode()||"compact"===i.displayMode){const t={};for(const n of d)void 0===t[n.section]?t[n.section]=[n]:t[n.section].push(n);let e=0;for(const n of Object.keys(t)){const r=Jr(t[n],e)+1;e+=r,g+=r*(i.barHeight+i.barGap),f[n]=r}}else{g+=d.length*(i.barHeight+i.barGap);for(const t of h)f[t]=d.filter(e=>e.type===t).length}u.setAttribute("viewBox","0 0 "+Rr+" "+g);const b=o.select(`[id="${e}"]`),x=kn().domain([F(d,function(t){return t.startTime}),Y(d,function(t){return t.endTime})]).rangeRound([0,Rr-i.leftPadding-i.rightPadding]);function w(t,e){const n=t.startTime,r=e.startTime;let i=0;return n>r?i=1:n<r&&(i=-1),i}function D(t,e,n){const s=i.barHeight,a=s+i.barGap,o=i.topPadding,c=i.leftPadding,l=S().domain([0,h.length]).range(["#00B9FA","#F95002"]).interpolate(rt);M(a,o,c,e,n,t,r.db.getExcludes(),r.db.getIncludes()),_(c,o,e,n),C(t,a,o,c,s,l,e),$(a,o),A(c,o,e,n)}function C(t,n,s,a,o,c,l){t.sort((t,e)=>t.vert===e.vert?0:t.vert?1:-1);const u=[...new Set(t.map(t=>t.order))].map(e=>t.find(t=>t.order===e));b.append("g").selectAll("rect").data(u).enter().append("rect").attr("x",0).attr("y",function(t,e){return t.order*n+s-2}).attr("width",function(){return l-i.rightPadding/2}).attr("height",n).attr("class",function(t){for(const[e,n]of h.entries())if(t.type===n)return"section section"+e%i.numberSectionStyles;return"section section0"}).enter();const f=b.append("g").selectAll("rect").data(t).enter(),g=r.db.getLinks();f.append("rect").attr("id",function(t){return t.id}).attr("rx",3).attr("ry",3).attr("x",function(t){return t.milestone?x(t.startTime)+a+.5*(x(t.endTime)-x(t.startTime))-.5*o:x(t.startTime)+a}).attr("y",function(t,e){return e=t.order,t.vert?i.gridLineStartPadding:e*n+s}).attr("width",function(t){return t.milestone?o:t.vert?.08*o:x(t.renderEndTime||t.endTime)-x(t.startTime)}).attr("height",function(t){return t.vert?d.length*(i.barHeight+i.barGap)+2*i.barHeight:o}).attr("transform-origin",function(t,e){return e=t.order,(x(t.startTime)+a+.5*(x(t.endTime)-x(t.startTime))).toString()+"px "+(e*n+s+.5*o).toString()+"px"}).attr("class",function(t){let e="";t.classes.length>0&&(e=t.classes.join(" "));let n=0;for(const[s,a]of h.entries())t.type===a&&(n=s%i.numberSectionStyles);let r="";return t.active?t.crit?r+=" activeCrit":r=" active":t.done?r=t.crit?" doneCrit":" done":t.crit&&(r+=" crit"),0===r.length&&(r=" task"),t.milestone&&(r=" milestone "+r),t.vert&&(r=" vert "+r),r+=n,r+=" "+e,"task"+r}),f.append("text").attr("id",function(t){return t.id+"-text"}).text(function(t){return t.task}).attr("font-size",i.fontSize).attr("x",function(t){let e=x(t.startTime),n=x(t.renderEndTime||t.endTime);if(t.milestone&&(e+=.5*(x(t.endTime)-x(t.startTime))-.5*o,n=e+o),t.vert)return x(t.startTime)+a;const r=this.getBBox().width;return r>n-e?n+r+1.5*i.leftPadding>l?e+a-5:n+a+5:(n-e)/2+e+a}).attr("y",function(t,e){return t.vert?i.gridLineStartPadding+d.length*(i.barHeight+i.barGap)+60:t.order*n+i.barHeight/2+(i.fontSize/2-2)+s}).attr("text-height",o).attr("class",function(t){const e=x(t.startTime);let n=x(t.endTime);t.milestone&&(n=e+o);const r=this.getBBox().width;let s="";t.classes.length>0&&(s=t.classes.join(" "));let a=0;for(const[o,l]of h.entries())t.type===l&&(a=o%i.numberSectionStyles);let c="";return t.active&&(c=t.crit?"activeCritText"+a:"activeText"+a),t.done?c=t.crit?c+" doneCritText"+a:c+" doneText"+a:t.crit&&(c=c+" critText"+a),t.milestone&&(c+=" milestoneText"),t.vert&&(c+=" vertText"),r>n-e?n+r+1.5*i.leftPadding>l?s+" taskTextOutsideLeft taskTextOutside"+a+" "+c:s+" taskTextOutsideRight taskTextOutside"+a+" "+c+" width-"+r:s+" taskText taskText"+a+" "+c+" width-"+r});if("sandbox"===y().securityLevel){let t;t=m("#i"+e);const n=t.nodes()[0].contentDocument;f.filter(function(t){return g.has(t.id)}).each(function(t){var e=n.querySelector("#"+t.id),r=n.querySelector("#"+t.id+"-text");const i=e.parentNode;var s=n.createElement("a");s.setAttribute("xlink:href",g.get(t.id)),s.setAttribute("target","_top"),i.appendChild(s),s.appendChild(e),s.appendChild(r)})}}function M(t,e,n,s,a,o,c,l){if(0===c.length&&0===l.length)return;let u,d;for(const{startTime:r,endTime:i}of o)(void 0===u||r<u)&&(u=r),(void 0===d||i>d)&&(d=i);if(!u||!d)return;if(p(d).diff(p(u),"year")>5)return void T.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");const h=r.db.getDateFormat(),f=[];let g=null,y=p(u);for(;y.valueOf()<=d;)r.db.isInvalidDate(y,h,c,l)?g?g.end=y:g={start:y,end:y}:g&&(f.push(g),g=null),y=y.add(1,"d");b.append("g").selectAll("rect").data(f).enter().append("rect").attr("id",t=>"exclude-"+t.start.format("YYYY-MM-DD")).attr("x",t=>x(t.start.startOf("day"))+n).attr("y",i.gridLineStartPadding).attr("width",t=>x(t.end.endOf("day"))-x(t.start.startOf("day"))).attr("height",a-e-i.gridLineStartPadding).attr("transform-origin",function(e,r){return(x(e.start)+n+.5*(x(e.end)-x(e.start))).toString()+"px "+(r*t+.5*a).toString()+"px"}).attr("class","exclude-range")}function _(t,e,n,s){const a=r.db.getDateFormat(),o=r.db.getAxisFormat();let c;c=o||("D"===a?"%d":i.axisFormat??"%Y-%m-%d");let l=(u=x,O(3,u)).tickSize(-s+e+i.gridLineStartPadding).tickFormat(Rt(c));var u;const d=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(r.db.getTickInterval()||i.tickInterval);if(null!==d){const t=d[1],e=d[2],n=r.db.getWeekday()||i.weekday;switch(e){case"millisecond":l.ticks(ot.every(t));break;case"second":l.ticks(yt.every(t));break;case"minute":l.ticks(mt.every(t));break;case"hour":l.ticks(pt.every(t));break;case"day":l.ticks(vt.every(t));break;case"week":l.ticks(Xr[n].every(t));break;case"month":l.ticks(Ot.every(t))}}if(b.append("g").attr("class","grid").attr("transform","translate("+t+", "+(s-50)+")").call(l).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),r.db.topAxisEnabled()||i.topAxis){let n=function(t){return O(1,t)}(x).tickSize(-s+e+i.gridLineStartPadding).tickFormat(Rt(c));if(null!==d){const t=d[1],e=d[2],s=r.db.getWeekday()||i.weekday;switch(e){case"millisecond":n.ticks(ot.every(t));break;case"second":n.ticks(yt.every(t));break;case"minute":n.ticks(mt.every(t));break;case"hour":n.ticks(pt.every(t));break;case"day":n.ticks(vt.every(t));break;case"week":n.ticks(Xr[s].every(t));break;case"month":n.ticks(Ot.every(t))}}b.append("g").attr("class","grid").attr("transform","translate("+t+", "+e+")").call(n).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}function $(t,e){let n=0;const r=Object.keys(f).map(t=>[t,f[t]]);b.append("g").selectAll("text").data(r).enter().append(function(t){const e=t[0].split(v.lineBreakRegex),n=-(e.length-1)/2,r=l.createElementNS("http://www.w3.org/2000/svg","text");r.setAttribute("dy",n+"em");for(const[i,s]of e.entries()){const t=l.createElementNS("http://www.w3.org/2000/svg","tspan");t.setAttribute("alignment-baseline","central"),t.setAttribute("x","10"),i>0&&t.setAttribute("dy","1em"),t.textContent=s,r.appendChild(t)}return r}).attr("x",10).attr("y",function(i,s){if(!(s>0))return i[1]*t/2+e;for(let a=0;a<s;a++)return n+=r[s-1][1],i[1]*t/2+n*t+e}).attr("font-size",i.sectionFontSize).attr("class",function(t){for(const[e,n]of h.entries())if(t[0]===n)return"sectionTitle sectionTitle"+e%i.numberSectionStyles;return"sectionTitle"})}function A(t,e,n,s){const a=r.db.getTodayMarker();if("off"===a)return;const o=b.append("g").attr("class","today"),c=new Date,l=o.append("line");l.attr("x1",x(c)+t).attr("x2",x(c)+t).attr("y1",i.titleTopMargin).attr("y2",s-i.titleTopMargin).attr("class","today"),""!==a&&l.attr("style",a.replace(/,/g,";"))}function U(t){const e={},n=[];for(let r=0,i=t.length;r<i;++r)Object.prototype.hasOwnProperty.call(e,t[r])||(e[t[r]]=!0,n.push(t[r]));return n}c(w,"taskCompare"),d.sort(w),D(d,Rr,g),k(b,g,Rr,i.useMaxWidth),b.append("text").text(r.db.getDiagramTitle()).attr("x",Rr/2).attr("y",i.titleTopMargin).attr("class","titleText"),c(D,"makeGantt"),c(C,"drawRects"),c(M,"drawExcludeDays"),c(_,"makeGrid"),c($,"vertLabels"),c(A,"drawToday"),c(U,"checkUnique")},"draw")},styles:c(t=>`\n  .mermaid-main-font {\n        font-family: ${t.fontFamily};\n  }\n\n  .exclude-range {\n    fill: ${t.excludeBkgColor};\n  }\n\n  .section {\n    stroke: none;\n    opacity: 0.2;\n  }\n\n  .section0 {\n    fill: ${t.sectionBkgColor};\n  }\n\n  .section2 {\n    fill: ${t.sectionBkgColor2};\n  }\n\n  .section1,\n  .section3 {\n    fill: ${t.altSectionBkgColor};\n    opacity: 0.2;\n  }\n\n  .sectionTitle0 {\n    fill: ${t.titleColor};\n  }\n\n  .sectionTitle1 {\n    fill: ${t.titleColor};\n  }\n\n  .sectionTitle2 {\n    fill: ${t.titleColor};\n  }\n\n  .sectionTitle3 {\n    fill: ${t.titleColor};\n  }\n\n  .sectionTitle {\n    text-anchor: start;\n    font-family: ${t.fontFamily};\n  }\n\n\n  /* Grid and axis */\n\n  .grid .tick {\n    stroke: ${t.gridColor};\n    opacity: 0.8;\n    shape-rendering: crispEdges;\n  }\n\n  .grid .tick text {\n    font-family: ${t.fontFamily};\n    fill: ${t.textColor};\n  }\n\n  .grid path {\n    stroke-width: 0;\n  }\n\n\n  /* Today line */\n\n  .today {\n    fill: none;\n    stroke: ${t.todayLineColor};\n    stroke-width: 2px;\n  }\n\n\n  /* Task styling */\n\n  /* Default task */\n\n  .task {\n    stroke-width: 2;\n  }\n\n  .taskText {\n    text-anchor: middle;\n    font-family: ${t.fontFamily};\n  }\n\n  .taskTextOutsideRight {\n    fill: ${t.taskTextDarkColor};\n    text-anchor: start;\n    font-family: ${t.fontFamily};\n  }\n\n  .taskTextOutsideLeft {\n    fill: ${t.taskTextDarkColor};\n    text-anchor: end;\n  }\n\n\n  /* Special case clickable */\n\n  .task.clickable {\n    cursor: pointer;\n  }\n\n  .taskText.clickable {\n    cursor: pointer;\n    fill: ${t.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideLeft.clickable {\n    cursor: pointer;\n    fill: ${t.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideRight.clickable {\n    cursor: pointer;\n    fill: ${t.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n\n  /* Specific task settings for the sections*/\n\n  .taskText0,\n  .taskText1,\n  .taskText2,\n  .taskText3 {\n    fill: ${t.taskTextColor};\n  }\n\n  .task0,\n  .task1,\n  .task2,\n  .task3 {\n    fill: ${t.taskBkgColor};\n    stroke: ${t.taskBorderColor};\n  }\n\n  .taskTextOutside0,\n  .taskTextOutside2\n  {\n    fill: ${t.taskTextOutsideColor};\n  }\n\n  .taskTextOutside1,\n  .taskTextOutside3 {\n    fill: ${t.taskTextOutsideColor};\n  }\n\n\n  /* Active task */\n\n  .active0,\n  .active1,\n  .active2,\n  .active3 {\n    fill: ${t.activeTaskBkgColor};\n    stroke: ${t.activeTaskBorderColor};\n  }\n\n  .activeText0,\n  .activeText1,\n  .activeText2,\n  .activeText3 {\n    fill: ${t.taskTextDarkColor} !important;\n  }\n\n\n  /* Completed task */\n\n  .done0,\n  .done1,\n  .done2,\n  .done3 {\n    stroke: ${t.doneTaskBorderColor};\n    fill: ${t.doneTaskBkgColor};\n    stroke-width: 2;\n  }\n\n  .doneText0,\n  .doneText1,\n  .doneText2,\n  .doneText3 {\n    fill: ${t.taskTextDarkColor} !important;\n  }\n\n\n  /* Tasks on the critical line */\n\n  .crit0,\n  .crit1,\n  .crit2,\n  .crit3 {\n    stroke: ${t.critBorderColor};\n    fill: ${t.critBkgColor};\n    stroke-width: 2;\n  }\n\n  .activeCrit0,\n  .activeCrit1,\n  .activeCrit2,\n  .activeCrit3 {\n    stroke: ${t.critBorderColor};\n    fill: ${t.activeTaskBkgColor};\n    stroke-width: 2;\n  }\n\n  .doneCrit0,\n  .doneCrit1,\n  .doneCrit2,\n  .doneCrit3 {\n    stroke: ${t.critBorderColor};\n    fill: ${t.doneTaskBkgColor};\n    stroke-width: 2;\n    cursor: pointer;\n    shape-rendering: crispEdges;\n  }\n\n  .milestone {\n    transform: rotate(45deg) scale(0.8,0.8);\n  }\n\n  .milestoneText {\n    font-style: italic;\n  }\n  .doneCritText0,\n  .doneCritText1,\n  .doneCritText2,\n  .doneCritText3 {\n    fill: ${t.taskTextDarkColor} !important;\n  }\n\n  .vert {\n    stroke: ${t.vertLineColor};\n  }\n\n  .vertText {\n    font-size: 15px;\n    text-anchor: middle;\n    fill: ${t.vertLineColor} !important;\n  }\n\n  .activeCritText0,\n  .activeCritText1,\n  .activeCritText2,\n  .activeCritText3 {\n    fill: ${t.taskTextDarkColor} !important;\n  }\n\n  .titleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${t.titleColor||t.textColor};\n    font-family: ${t.fontFamily};\n  }\n`,"getStyles")};export{Kr as diagram};
